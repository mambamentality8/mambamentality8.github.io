<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxi-tong-an-zhuang.html</url>
    <content type="text"><![CDATA[document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou-02.html</url>
    <content type="text"><![CDATA[#&#x76EE;&#x6807;: &#x6839;&#x636E;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x5217;&#x8868; #&#x4ECE;&#x5206;&#x7C7B;&#x8868;&#x4E2D;&#x62FF;&#x5230;name&#x4E3A;&#x624B;&#x673A;&#x7684;id SELECT id FROM tb_category WHERE `name`=&apos;&#x624B;&#x673A;&apos; # &#x901A;&#x8FC7;&#x4E2D;&#x95F4;&#x8868;&#x53BB;&#x62FF;&#x5230;&#x624B;&#x673A;&#x5BF9;&#x5E94;&#x7684;&#x54C1;&#x724C;id SELECT brand_id FROM tb_category_brand WHERE category_id in (SELECT id FROM tb_category WHERE `name`=&apos;&#x624B;&#x673A;&apos;) #&#x6700;&#x540E;&#x901A;&#x8FC7;&#x54C1;&#x724C;id &#x62FF;&#x5230;&#x54C1;&#x724C;&#x540D;&#x79F0;&#x548C;&#x54C1;&#x724C;id SELECT `name`,image FROM tb_brand WHERE id in (SELECT brand_id FROM tb_category_brand WHERE category_id in (SELECT id FROM tb_category WHERE `name`=&apos;&#x624B;&#x673A;&apos;)) # &#x6839;&#x636E;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x6A21;&#x677F;id SELECT template_id FROM tb_category WHERE `name`=&apos;&#x624B;&#x673A;&apos; #&#x6839;&#x636E;&#x6A21;&#x677F;id&#x67E5;&#x8BE2;&#x51FA;&#x89C4;&#x683C; SELECT name,`options` FROM tb_spec WHERE template_id in ( SELECT template_id FROM tb_category WHERE `name`=&apos;&#x624B;&#x673A;&apos; ) document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title><![CDATA[常用的git操作命令]]></title>
    <url>%2Fgit%2F2020%2F02%2F03%2Fjian-dan-de-git-cao-zuo-ming-ling.html</url>
    <content type="text"><![CDATA[######### &#x67E5;&#x770B;&#x672C;&#x5730;git&#x7684;&#x914D;&#x7F6E; git config --list git config --global user.name &quot;XXX&quot; git config --global user.email &quot;XXXXXXXXXX@qq.com&quot;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;git&#x4EE3;&#x7801;&#x5E93;git init&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x548C;&#x4ED6;&#x7684;&#x6574;&#x4E2A;&#x4EE3;&#x7801;&#x5386;&#x53F2;git clone [url]&#x6DFB;&#x52A0;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x5230;&#x6682;&#x5B58;&#x533A;&#x4E00;&#x822C;&#x6211;&#x7528;git add . &#x6DFB;&#x52A0;&#x5168;&#x90E8;&#x6587;&#x4EF6;&#x5230;&#x6682;&#x5B58;&#x533A;git add [file1] [file2]&#x663E;&#x793A;&#x53D8;&#x66F4;&#x4FE1;&#x606F;git status&#x663E;&#x793A;&#x5F53;&#x524D;&#x5206;&#x652F;&#x7684;&#x5386;&#x53F2;&#x7248;&#x672C;git log&#x5148;git log&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x81EA;&#x5DF1;&#x6709;&#x51E0;&#x6B21;&#x4FEE;&#x6539;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x7684;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;git remote -v git remote add origin https://xxxxxxxxx.git&#x5C06;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x63A8;&#x9001;&#x5230;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;git push origin master git push &lt;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x540D;&gt; &lt;&#x672C;&#x5730;&#x5206;&#x652F;&#x540D;&gt;:&lt;&#x8FDC;&#x7A0B;&#x5206;&#x652F;&#x540D;&gt;&#x628A;&#x8FDC;&#x7A0B;&#x4EE3;&#x7801;&#x4ECE;&#x4ED3;&#x5E93;&#x62FD;&#x4E0B;&#x6765; &#x8FDC;&#x7A0B;&#x591A; &#x672C;&#x5730;&#x5C11; &#x5373;&#x53EF;&#x505A;&#x66F4;&#x65B0;git pull origin master&#x5220;&#x9664;git&#x76EE;&#x5F55;rm -fr .git/&#x5220;&#x9664;&#x5DE5;&#x4F5C;&#x533A;&#x6587;&#x4EF6;,&#x5E76;&#x4E14;&#x5C06;&#x8FD9;&#x6B21;&#x5220;&#x9664;&#x653E;&#x5165;&#x6682;&#x5B58;&#x533A;git rm [file1] [file2]&#x6539;&#x540D;&#x6587;&#x4EF6;,&#x5E76;&#x4E14;&#x5C06;&#x8FD9;&#x4E2A;&#x6539;&#x540D;&#x653E;&#x5165;&#x6682;&#x5B58;&#x533A;git mv [file-origin] [file-renamed]&#x63D0;&#x4EA4;&#x6682;&#x5B58;&#x533A;&#x5230;&#x4ED3;&#x5E93;git commit -m [message]&#x76F4;&#x63A5;&#x4ECE;&#x5DE5;&#x4F5C;&#x533A;&#x63D0;&#x4EA4;&#x5230;&#x4ED3;&#x5E93;&#x524D;&#x63D0;&#x8BE5;&#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x6709;&#x4ED3;&#x5E93;&#x4E2D;&#x7684;&#x5386;&#x53F2;&#x7248;&#x672C;&#x4FE1;&#x606F;git commit -a -m [message]&#x2014;&#x2014;&#x2014;&#x2014;&#x7B80;&#x5355;&#x7684;&#x64CD;&#x4F5C;&#x2014;&#x2014;&#x2014;&#x2014; &#x62E5;&#x6709;.git&#x6587;&#x4EF6;&#x7684;&#x624D;&#x662F;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x5728;&#x672C;&#x5730;&#x4E00;&#x4E2A;&#x7A7A;&#x6587;&#x4EF6;&#x5939;&#x5185;&#x4F7F;&#x7528;git clone https://xxxxxx&#x67E5;&#x770B;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;&#x7684;&#x7248;&#x672C;git log &#x67E5;&#x770B;&#x8FDE;&#x63A5;&#x7684;&#x90A3;&#x4E2A;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;git remote -v&#x63A5;&#x7740;&#x4FEE;&#x6539;&#x672C;&#x5730;&#x6587;&#x4EF6;,&#x4FEE;&#x6539;&#x5B8C;&#x67E5;&#x770B;&#x672C;&#x5730;&#x7684;&#x72B6;&#x6001;git status&#x4FEE;&#x6539;&#x7684;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5B58;&#x653E;&#x5230;&#x6682;&#x5B58;&#x533A;git add .&#x5C06;&#x6682;&#x5B58;&#x533A;&#x7684;&#x4EE3;&#x7801;&#x653E;&#x5165;&#x672C;&#x5730;&#x4ED3;&#x5E93;git commit -m &quot;xxxxxxx&quot;&#x7136;&#x540E;&#x63A8;&#x9001;&#x5230;&#x8FDC;&#x7A0B;&#x4ED3;&#x5E93;git push git push &lt;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x540D;&gt; &lt;&#x672C;&#x5730;&#x5206;&#x652F;&#x540D;&gt; &lt;&#x8FDC;&#x7A0B;&#x5206;&#x652F;&#x540D;&gt;&#x2014;&#x2014;&#x2014;&#x2013;&#x5206;&#x652F;&#x7684;&#x64CD;&#x4F5C;&#x2014;&#x2014;&#x2014;&#x2014;1 &#x67E5;&#x770B;&#x8FDC;&#x7A0B;&#x5206;&#x652F; git branch -a2 &#x67E5;&#x770B;&#x672C;&#x5730;&#x5206;&#x652F; git branch3 &#x521B;&#x5EFA;&#x5206;&#x652F; git branch test4 &#x628A;&#x5206;&#x652F;&#x63A8;&#x5230;&#x8FDC;&#x7A0B;&#x5206;&#x652F; git push origin test&#x9644;&#x4E0A;&#x5ED6;&#x8001;&#x5E08;&#x7684;git&#x6559;&#x7A0B; https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000&#x5728;&#x7EBF;&#x7EC3;&#x4E60; https://try.github.io/&#x6280;&#x672F;&#x6392;&#x540D; https://octoverse.github.com document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>git</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fni-xiang-fen-xi-yi-duan-dian.html</url>
    <content type="text"><![CDATA[&#x9006;&#x5411;&#x5206;&#x6790;(&#x4E00;)&#x2014;-&#x65AD;&#x70B9; loadIconA &#x8C03;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x52A0;&#x8F7D;&#x56FE;&#x6807;&#x7684;&#x51FD;&#x6570; loadIconA&#x5916;&#x90E8;&#x51FD;&#x6570;&#x4E0D;&#x662F;&#x672C;&#x6A21;&#x5757;&#x4E2D;&#x7684;&#x51FD;&#x6570; &amp;&#x53D6;&#x5730;&#x5740;&#x7B26; USER32 windows&#x7684;&#x51FD;&#x6570;&#x5E93; &#x7684;loadIconA&#x51FD;&#x6570; dll windows&#x7684;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x5E93;,&#x63D0;&#x4F9B;&#x7ED9;exe&#x7A0B;&#x5E8F;(&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;)&#x4F7F;&#x7528;&#x7684;&#x51FD;&#x6570;&#x5E93; exe bat com &#x90FD;&#x662F;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6; &#x5982;&#x679C;&#x8BF4;&#x4E0D;&#x8C03;&#x7528;windws&#x7684;dll&#x7684;&#x8BDD;&#x628A;&#x5E93;&#x51FD;&#x6570;&#x90FD;&#x96C6;&#x6210;&#x5728;&#x672C;&#x8EAB;&#x7684;&#x6587;&#x4EF6;&#x5185;&#x90E8;,&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x53EF;&#x6267;&#x884C;&#x7A0B;&#x5E8F;&#x6240;&#x5360;&#x7528;&#x7684;&#x786C;&#x76D8;&#x7A7A;&#x95F4;&#x5C31;&#x4F1A;&#x975E;&#x5E38;&#x5927;. &#x7CFB;&#x7EDF;&#x9886;&#x7A7A; &#x4ECE;&#x8FD9;&#x91CC;&#x901A;&#x8FC7;call &#x8DDF;&#x968F;&#x8FDB;&#x53BB; &#x7136;&#x540E;&#x4E00;&#x76F4;&#x8FFD;&#x6EAF;&#x5230;user32 &#x5982;&#x4F55;&#x56DE;&#x5230;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x6A21;&#x5757;&#x4E86;,&#x6441;&#x5C0F;&#x952E;&#x76D8;&#x7684;&#x51CF;&#x53F7;&#x952E; &#x4E0D;&#x8981;&#x968F;&#x4FBF;&#x6539;&#x7CFB;&#x7EDF;&#x9886;&#x7A7A; messageboxA &#x8C03;&#x7528;&#x4E86;&#x5F39;&#x6846;&#x51FD;&#x6570;,&#x8DDF;&#x968F;&#x8FDB;&#x53BB;&#x627E;&#x5230;&#x6BB5;&#x9996; &#x6216;&#x8005;&#x4F7F;&#x7528;command ctrl+g goto &#x5FEB;&#x6377;&#x952E; &#x6CE8;&#x610F;&#x5927;&#x5C0F;&#x5199;&#x547D;&#x4EE4;&#x4E00;&#x5B9A;&#x8981;&#x5BF9; ctrl+n &#x5FC5;&#x987B;&#x5728;&#x5F53;&#x524D;&#x7A0B;&#x5E8F;&#x4E0B;&#x4F7F;&#x7528;&#x5FEB;&#x6377;&#x952E;ctrl+n &#x5728;&#x7CFB;&#x7EDF;&#x9886;&#x7A7A;&#x4E0B;&#x4F7F;&#x7528;ctrl+n&#x7684;&#x8BDD;&#x5C31;&#x4F1A;&#x8DF3;&#x5230;&#x7CFB;&#x7EDF;&#x9886;&#x7A7A;&#x5BF9;&#x5E94;&#x7684;dll&#x4E2D; (&#x4E0D;&#x8981;&#x8FD9;&#x6837;&#x505A;) &#x67E5;&#x770B;&#x672C;&#x7A0B;&#x5E8F;&#x6240;&#x8C03;&#x7528;&#x7684;api &#x76F4;&#x63A5;&#x5728;&#x8FD9;&#x4E2A;&#x7A97;&#x53E3;&#x4E2D;&#x53BB;&#x641C;&#x7D22;&#x4F60;&#x9700;&#x8981;&#x7684;&#x51FD;&#x6570;&#x540D; &#x6807;&#x9898;&#x4E0A;&#x7684;&#x540D;&#x79F0;&#x4E5F;&#x4F1A;&#x968F;&#x4E4B;&#x6539;&#x53D8; &#x627E;&#x5230;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x51FD;&#x6570;&#x4E4B;&#x540E;&#x5728;&#x8FD9;&#x91CC;&#x53F3;&#x952E;,&#x9009;&#x4E2D;&#x53CD;&#x6C47;&#x7F16;&#x7A97;&#x53E3;&#x4E2D;&#x8DDF;&#x968F;&#x8F93;&#x5165;&#x51FD;&#x6570; &#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x8DF3;&#x5230;MessageBoxA&#x51FD;&#x6570;&#x4E2D; &#x8BBE;&#x7F6E;&#x65AD;&#x70B9; &#x7136;&#x540E;&#x5728;MessageBoxA&#x51FD;&#x6570;&#x7684;&#x6BB5;&#x9996;&#x4E0B;&#x4E0A;&#x4E00;&#x4E2A;&#x65AD;&#x70B9; (&#x53CC;&#x51FB;&#x6216;&#x8005;F2) &#x6216;&#x8005;&#x5728;command&#x4E2D;&#x4F7F;&#x7528;&#x547D;&#x4EE4;bp MessageBoxA &#x70B9;&#x51FB;&#x6309;&#x94AE;B&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x5230;&#x65AD;&#x70B9;&#x7A97;&#x53E3; &#x8C03;&#x8BD5;&#x7A0B;&#x5E8F; &#x5148;&#x5728;MessageBoxA&#x51FD;&#x6570;&#x7684;&#x6BB5;&#x9996;&#x6253;&#x4E0A;&#x65AD;&#x70B9; &#x7136;&#x540E;&#x6441;F9&#x5C06;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8D77;&#x6765; &#x5C06;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x65AD;&#x5230;&#x65AD;&#x70B9;&#x5904; &#x65AD;&#x5230;&#x65AD;&#x70B9;&#x5904; &#x5806;&#x6808;&#x6846;&#x4F1A;&#x6709;&#x76F8;&#x5E94;&#x7684;&#x4FE1;&#x606F; &#x6267;&#x884C;&#x5B8C;&#x4EE5;&#x540E;&#x8DF3;&#x5230;004013C1&#x5730;&#x5740;&#x5904; &#x987A;&#x7740;&#x8FD9;&#x4E2A;&#x6846;&#x5F80;&#x4E0A;&#x627E;,&#x627E;&#x5230;&#x6761;&#x4EF6;&#x8DF3;&#x8F6C;&#x7684;&#x5730;&#x65B9; &#x5728;&#x8DF3;&#x8F6C;&#x7684;&#x5730;&#x65B9;&#x6253;&#x4E0A;&#x65AD;&#x70B9;,&#x8FD9;&#x4E2A;&#x8DF3;&#x8F6C;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x8DF3;&#x8F6C; &#x627E;&#x5230;&#x6BB5;&#x9996;&#x7684;&#x4F4D;&#x7F6E;,&#x70B9;&#x51FB;&#x8F6C;&#x5230;call&#x6765;&#x81EA;&#x7684;&#x5730;&#x5740;,&#x7B2C;&#x4E8C;&#x6B21;&#x8C03;&#x7528;&#x7684;&#x5730;&#x65B9;&#x662F; 77D507EA&#x662F;messageboxa&#x51FD;&#x6570;&#x7684;&#x9996;&#x5730;&#x5740; 0040138B&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x8DF3;&#x8F6C;&#x8981;&#x5F39;&#x6846;&#x7684;&#x5730;&#x5740; 00401245&#x662F;&#x7B2C;&#x4E8C;&#x6B21;&#x8DF3;&#x8F6C;&#x8981;&#x5F39;&#x6846;&#x7684;&#x5730;&#x5740; &#x627E;&#x5230;&#x7B2C;&#x4E00;&#x6B21;&#x7684;&#x5F39;&#x6846;&#x5904; &#x5C06;cmp je nop&#x6389; &#x7B2C;&#x4E00;&#x4E2A;&#x5F39;&#x6846;&#x5C31;&#x88AB;&#x5E72;&#x6389;&#x4E86; &#x5728;&#x8C03;&#x7528;&#x7B2C;&#x4E8C;&#x6B21;&#x5F39;&#x7A97;&#x4E4B;&#x524D;&#x4E5F;&#x6253;&#x4E0A;&#x65AD;&#x70B9;&#x5C06;je &#x6539;&#x4E3A;jmp&#x8FDB;&#x884C;&#x5F3A;&#x8DF3; &#x7834;&#x89E3;&#x6210;&#x529F;!!! &#x200B; &#x56DE;&#x5230;&#x4E3B;&#x754C;&#x9762;&#x9009;&#x62E9;&#x6240;&#x6709;&#x4FEE;&#x6539;,&#x4E4B;&#x540E;&#x9009;&#x62E9;&#x5168;&#x90E8;&#x590D;&#x5236; &#x200B; &#x200B; &#x9009;&#x62E9;&#x4FDD;&#x5B58;&#x6587;&#x4EF6; &#x200B; &#x7B2C;&#x4E8C;&#x79CD;&#x5206;&#x6790;&#x65B9;&#x5F0F;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x667A;&#x80FD;&#x641C;&#x7D22;&#x6765;&#x8FBE;&#x5230;&#x76EE;&#x7684;: &#x200B; &#x901A;&#x8FC7;&#x6BB5;&#x9996;&#x6765;&#x627E;&#x5230;&#x8C03;&#x7528;&#x5B83;&#x7684;&#x5730;&#x65B9; &#x5C06;je&#x6539;&#x4E3A;jmp&#x8FDB;&#x884C;&#x5F3A;&#x8DF3; &#x518D;&#x627E;&#x522B;&#x7684;&#x5730;&#x65B9;&#x7684;&#x5B57;&#x7B26;&#x4E32; &#x627E;&#x5230;&#x8DF3;&#x8F6C;&#x5904;&#x8FDB;&#x884C;nop CC&#x65AD;&#x70B9; F2&#x65AD;&#x70B9; &#x666E;&#x901A;&#x65AD;&#x70B9; int3&#x65AD;&#x70B9; CPU&#x770B;&#x5230;&#x8FD9;&#x4E2A;CC&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x5F02;&#x5E38;,&#x7136;&#x540E;OD&#x5C31;&#x4F1A;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#x5C06;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#x7ED9;&#x65AD;&#x4E0B;&#x6765; CC&#x662F;int3&#x6307;&#x4EE4;&#x7684;&#x673A;&#x5668;&#x7801; jmp&#x5BF9;&#x5E94;EB OD&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x6211;&#x4EEC;&#x67E5;&#x770B;&#x6240;&#x4EE5;&#x4E0D;&#x663E;&#x793A;CC01 &#x800C;&#x73B0;&#x5B9E;&#x539F;&#x59CB;&#x673A;&#x5668;&#x7801;74 01 command: bp&#x8BBE;&#x7F6E;&#x666E;&#x901A;&#x65AD;&#x70B9;&#x540E;&#x9762;&#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x8DDF;api &#x8FD8;&#x53EF;&#x4EE5;&#x8DDF;&#x5730;&#x5740; &#x4F8B;&#x5982;:bp 40101A &#x4F7F;&#x7528; bpx messageboxA &#x7136;&#x540E;&#x8DF3;&#x5230;B&#x7A97;&#x53E3; &#x5C06;&#x6240;&#x6709;&#x7684;messageboxA&#x5168;&#x90E8;&#x90FD;&#x8BBE;&#x7F6E;&#x4E0A;&#x65AD;&#x70B9; bp&#x65AD;&#x70B9;&#x8BBE;&#x7F6E;&#x7684;&#x662F;&#x7CFB;&#x7EDF;&#x9886;&#x7A7A; &#x51FD;&#x6570;&#x7684;&#x6BB5;&#x9996; &#x7B2C;&#x4E00;&#x884C;&#x8BBE;&#x7F6E;&#x7684;&#x65AD;&#x70B9; bpx&#x8BBE;&#x7F6E;&#x7684;&#x65AD;&#x70B9;&#x662F;&#x5728;&#x7A0B;&#x5E8F;&#x9886;&#x7A7A; &#x8C03;&#x7528;&#x7684;&#x5730;&#x65B9;&#x8BBE;&#x7F6E;CC&#x65AD;&#x70B9; &#x628A;&#x6240;&#x6709;&#x7A0B;&#x5E8F;&#x9886;&#x7A7A;&#x6D89;&#x53CA;&#x5230;&#x8FD9;&#x4E2A;api&#x7684;&#x5730;&#x65B9;&#x90FD;&#x6253;&#x4E0A;&#x4E86;&#x65AD;&#x70B9; CC&#x65AD;&#x70B9;: &#x200B; &#x4F18;&#x70B9;&#x53EF;&#x4EE5;&#x6253;&#x65E0;&#x6570;&#x4E2A; &#x200B; &#x7F3A;&#x70B9;&#x5F88;&#x5BB9;&#x6613;&#x88AB;&#x68C0;&#x6D4B;&#x5230; &#x7B80;&#x5355;&#x7684;&#x7ED5;&#x8FC7;&#x68C0;&#x6D4B;,&#x6BD4;&#x5982;&#x5728;&#x7CFB;&#x7EDF;&#x9886;&#x7A7A;&#x7684;messageboxA&#x91CC;&#x9762;&#x7B2C;&#x4E00;&#x884C;&#x4E0B;&#x4E86;CC&#x65AD;&#x70B9;&#x4F46;&#x662F;&#x88AB;&#x68C0;&#x6D4B;&#x5230;&#x4E86;&#x53EF;&#x4EE5;&#x5728;&#x4E0B;&#x4E00;&#x884C;&#x6216;&#x8005;&#x9644;&#x8FD1;&#x4E0B;&#x65AD;&#x70B9; &#x5185;&#x5B58;&#x65AD;&#x70B9; &#x5728;hex&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x4F7F;&#x7528;ctrl+g &#x8FD9;&#x6837;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x65E0;&#x8BBA;&#x662F;&#x8BBF;&#x95EE;&#x8FD8;&#x662F;&#x5199;&#x5165;&#x90FD;&#x4F1A;&#x65AD;&#x4E0B;&#x6765; &#x5185;&#x5B58;&#x65AD;&#x70B9;: &#x200B; &#x4F18;&#x70B9;:&#x7ED5;&#x8FC7;&#x666E;&#x901A;&#x68C0;&#x6D4B;,&#x5206;&#x6E05;&#x695A;&#x662F;&#x6267;&#x884C;&#x8FD8;&#x662F;&#x5199;&#x5165; &#x200B; &#x7F3A;&#x70B9;:&#x53EA;&#x80FD;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;,&#x5728;B&#x7A97;&#x53E3;&#x67E5;&#x4E0D;&#x5230;&#x5185;&#x5B58;&#x65AD;&#x70B9;,&#x53EA;&#x80FD;&#x81EA;&#x5DF1;&#x8BB0;&#x5F55; &#x5220;&#x9664;&#x65AD;&#x70B9;&#x53EA;&#x80FD;&#x91CD;&#x65B0;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#x6216;&#x8005;&#x5220;&#x9664;&#x5F53;&#x524D;&#x65AD;&#x70B9; &#x539F;&#x7406;:&#x8BBE;&#x7F6E;&#x5185;&#x5B58;&#x5199;&#x5165;,&#x5C31;&#x662F;&#x8BA9;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x4E0D;&#x53EF;&#x5199;&#x5165;,&#x5047;&#x5982;&#x8BF4;&#x6211;&#x4EEC;&#x975E;&#x8981;&#x5199;&#x5165;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x7136;&#x540E;OD&#x4F1A;&#x6355;&#x83B7;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;,&#x4ECE;&#x800C;&#x5C06;&#x7A0B;&#x5E8F;&#x65AD;&#x4E0B;&#x6765;. &#x533A;&#x6BB5;&#x5185;&#x5B58;&#x65AD;&#x70B9; &#x6441;&#x4E0B;alt+m &#x8DF3;&#x5165;&#x7A0B;&#x5E8F;&#x9886;&#x7A7A; &#x627E;&#x5230;code&#x6216;text&#x4EE3;&#x7801;&#x6BB5; &#x8BBE;&#x7F6E;&#x5185;&#x5B58;&#x8BBF;&#x95EE;&#x65AD;&#x70B9; &#x65AD;&#x70B9;&#x8FD4;&#x56DE;401000~402000 &#x56DE;&#x5230;&#x53CD;&#x6C47;&#x7F16;&#x7A97;&#x53E3; F9&#x542F;&#x52A8;&#x7A0B;&#x5E8F;,&#x6BCF;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x90FD;&#x4F1A;&#x65AD;&#x4E0B;&#x6765; &#x627E;&#x5230;kernel32&#x7684;text &#x8BBE;&#x7F6E;&#x5185;&#x5B58;&#x8BBF;&#x95EE;&#x65AD;&#x70B9;(&#x4E0A;&#x4E00;&#x4E2A;&#x65AD;&#x70B9;&#x4F1A;&#x5931;&#x53BB;&#x4F5C;&#x7528;) &#x56DE;&#x5230;C&#x7A97;&#x53E3; &#x6211;&#x4EEC;&#x5728;&#x6267;&#x884C;kernel32.GetModuleHandleA&#x51FD;&#x6570;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x65AD;&#x4E0B;&#x6765; &#x5982;&#x4F55;&#x5FEB;&#x901F;&#x4ECE;&#x7CFB;&#x7EDF;&#x9886;&#x7A7A;&#x56DE;&#x5230;&#x7A0B;&#x5E8F;&#x9886;&#x7A7A;&#x5462;? 1.&#x5728;&#x5806;&#x6808;&#x7A97;&#x53E3; &#x53F3;&#x952E;&#x5728;&#x53CD;&#x6C47;&#x7F16;&#x7A97;&#x53E3;&#x4E2D;&#x8DDF;&#x968F;&#x5FEB;&#x901F;&#x8FD4;&#x56DE;&#x7A0B;&#x5E8F;&#x9886;&#x7A7A; 2.&#x5220;&#x9664;&#x5185;&#x5B58;&#x65AD;&#x70B9;,&#x5728;&#x8C03;&#x8BD5;&#x7A97;&#x53E3;&#x627E;&#x5230;&#x6267;&#x884C;&#x7528;&#x6237;&#x4EE3;&#x7801; &#x786C;&#x4EF6;&#x65AD;&#x70B9; &#x53EA;&#x80FD;&#x8BBE;&#x7F6E;&#x56DB;&#x4E2A;&#x786C;&#x4EF6;&#x65AD;&#x70B9; &#x5728;&#x8C03;&#x8BD5;&#x7A97;&#x53E3;&#x70B9;&#x51FB;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x53EF;&#x89C2;&#x6D4B;&#x786C;&#x4EF6;&#x65AD;&#x70B9; &#x5982;&#x4F55;&#x4F7F;&#x7528;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x5462;? &#x627E;&#x5230;&#x4F60;&#x8981;&#x4E0B;&#x65AD;&#x7684;&#x53CD;&#x6C47;&#x7F16;&#x6307;&#x4EE4;&#x7684;&#x4F4D;&#x7F6E;&#x53F3;&#x952E;&#x65AD;&#x70B9;&#x2013;&gt;&#x786C;&#x4EF6;&#x6267;&#x884C; &#x6216;&#x786C;&#x4EF6;&#x5199;&#x5165; &#x6216;&#x786C;&#x4EF6;&#x8BBF;&#x95EE; &#x5728;command&#x547D;&#x4EE4;&#x4E2D;&#x4F7F;&#x7528;&#x547D;&#x4EE4;HE 0040101A &#x4E5F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E0A;&#x786C;&#x4EF6;&#x65AD;&#x70B9; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x4E0A;&#x56FE;&#x7684;&#x7A97;&#x53E3;&#x67E5;&#x770B;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x548C;&#x5220;&#x9664;&#x786C;&#x4EF6;&#x65AD;&#x70B9; &#x8BBE;&#x7F6E;&#x4E00;&#x5B57;&#x8282;&#x5199;&#x5165;&#x65AD;&#x70B9; 1.&#x5148;&#x8DDF;&#x968F;&#x5230;&#x8FD9;&#x4E2A;&#x5185;&#x5B58;&#x5730;&#x5740; 2.&#x5199;&#x5165;&#x4E00;&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x786C;&#x4EF6;&#x65AD;&#x70B9; &#x5728;&#x6240;&#x6709;&#x5BF9;4020CA&#x5185;&#x5B58;&#x5199;&#x5165;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x4E0B;&#x4E86;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x65AD;&#x70B9; &#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x548C;&#x5185;&#x5B58;&#x65AD;&#x70B9;&#x90FD;&#x662F;&#x6CA1;&#x6709;CC&#x7684; &#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x68C0;&#x6D4B;&#x5185;&#x5B58;&#x7684;&#x7279;&#x5F81;&#x53EF;&#x8BFB; &#x53EF;&#x5199; &#x53EF;&#x6267;&#x884C;&#x4E5F;&#x662F;&#x6CA1;&#x7528;&#x7684; &#x5185;&#x5B58;&#x65AD;&#x70B9;&#x91CD;&#x8F7D;&#x7684;&#x8BDD;&#x4F1A;&#x88AB;&#x6E05;&#x7A7A;,&#x4F46;&#x662F;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x4E0D;&#x4F1A;&#x88AB;&#x6E05;&#x7A7A; &#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x505C;&#x6B62;&#x7684;&#x5730;&#x65B9;&#x662F;&#x4F60;&#x8BBE;&#x7F6E;&#x786C;&#x4EF6;&#x65AD;&#x70B9;&#x7684;&#x4E0B;&#x4E00;&#x884C;,&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8981;&#x770B;&#x505C;&#x4E0B;&#x6765;&#x7684;&#x4E0A;&#x4E00;&#x884C;&#x6307;&#x4EE4; &#x6761;&#x4EF6;&#x65AD;&#x70B9; &#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4E00;&#x4E2A;CC&#x65AD;&#x70B9; shift+F2 &#x6761;&#x4EF6;&#x8BB0;&#x5F55;&#x65AD;&#x70B9; ctrl+g MessageBoxA &#x6765;&#x5230;user32&#x6A21;&#x5757; &#x9009;&#x4E2D;&#x7B2C;&#x4E00;&#x884C;&#x53F3;&#x952E;&#x65AD;&#x70B9;&#x6761;&#x4EF6;&#x8BB0;&#x5F55; &#x6216;&#x8005; shift+f4 &#x8868;&#x8FBE;&#x5F0F;&#x586B;&#x5165;[ESP] &#x6682;&#x505C;&#x7A0B;&#x5E8F; &#x4ECE;&#x4E0D; &#x8BB0;&#x5F55;&#x8868;&#x8FBE;&#x5F0F;&#x6570;&#x503C; &#x6C38;&#x8FDC; &#x8BB0;&#x5F55;&#x51FD;&#x6570;&#x53C2;&#x6570; &#x6C38;&#x8FDC; &#x70B9;&#x51FB;&#x4E0A;&#x65B9;L&#x6309;&#x94AE;&#x8FDB;&#x5165;&#x65E5;&#x5FD7;&#x7A97;&#x53E3; &#x53F3;&#x952E;&#x6E05;&#x9664;&#x7A97;&#x53E3; &#x53F3;&#x952E;&#x8BB0;&#x5F55;&#x5230;&#x6587;&#x4EF6;&#x5C06;&#x65E5;&#x5FD7;&#x5168;&#x90E8;&#x5BFC;&#x51FA; &#x53CC;&#x51FB;B&#x7A97;&#x53E3;&#x7684;&#x65AD;&#x70B9;&#x5C31;&#x53EF;&#x4EE5;&#x8DF3;&#x8F6C;&#x5230;&#x65AD;&#x70B9;&#x5904; &#x56DE;&#x5230;&#x65E5;&#x5FD7;&#x7A97;&#x53E3;,F9&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;,&#x65E5;&#x5FD7;&#x5C31;&#x6253;&#x5370;&#x51FA;&#x6765;&#x4E86; &#x65E5;&#x5FD7;&#x91CC;&#x9762;&#x4F1A;&#x51FA;&#x73B0;&#x8C03;&#x7528;&#x5B8C; call&#x4EE5;&#x540E;&#x8FD4;&#x56DE;&#x7684;&#x5730;&#x5740; &#x4E0B;&#x9762;&#x662F;MessageBoxA&#x7684;&#x53C2;&#x6570; &#x5047;&#x5982;MessageBoxA&#x88AB;&#x8C03;&#x7528;&#x4E86;&#x65E0;&#x6570;&#x6B21; ctrl+g&#x8DF3;&#x5230;MessageBoxA &#x9009;&#x4E2D;&#x7B2C;&#x4E00;&#x884C;&#x53F3;&#x952E;&#x65AD;&#x70B9;&#x6761;&#x4EF6;&#x8BB0;&#x5F55; &#x6216;&#x8005; shift+f4 &#x8BBE;&#x7F6E;&#x6761;&#x4EF6;&#x65AD;&#x70B9; &#x6765;&#x5230;&#x65E5;&#x5FD7;&#x7A97;&#x53E3; &#x7B2C;&#x4E00;&#x4E2A;&#x7A97;&#x53E3;&#x4E0D;&#x662F;40137D,&#x5F53;&#x70B9;&#x51FB;&#x5B8C;&#x8FD9;&#x4E2A;&#x7A97;&#x53E3;&#x4EE5;&#x540E;&#x5C31;&#x4F1A;&#x65AD;&#x5230;40137D&#x8FD9;&#x4E2A;&#x5730;&#x5740; &#x5728;&#x5373;&#x5C06;&#x8981;&#x6307;&#x5411;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x524D;&#x88AB;&#x65AD;&#x4E0B;&#x6765; &#x65E5;&#x5FD7;&#x7A97;&#x53E3; API&#x65AD;&#x70B9; &#x5148;&#x731C;&#x6D4B;&#x8C03;&#x7528;&#x7684;api&#x6BD4;&#x5982;&#x6587;&#x672C;&#x6846;&#x80AF;&#x5B9A;&#x4F1A;&#x8C03;&#x7528;GetDlgItemTextA API&#x65AD;&#x70B9;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;CC&#x65AD;&#x70B9; ctrl+n &#x67E5;&#x770B;&#x8C03;&#x7528;&#x7CFB;&#x7EDF;dll&#x7684;api,&#x5982;&#x679C;&#x8C03;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x6709;&#x5F88;&#x591A;&#x7684;&#x8BDD;&#x5C31;&#x53BB;&#x641C;&#x7D22; &#x8BBE;&#x7F6E;api&#x65AD;&#x70B9; bp GetDlgItemTextA (A&#x4EE3;&#x8868;ascii&#x7801; W&#x4EE3;&#x8868;unicode&#x7801;) &#x5982;&#x679C;&#x4E0D;&#x60F3;&#x5728;command&#x4E0A;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#x53EF;&#x4EE5;&#x7528;&#x53F3;&#x952E;&#x5728;&#x8F93;&#x5165;&#x51FD;&#x6570;&#x4E0A;&#x5207;&#x6362;&#x65AD;&#x70B9; &#x770B;&#x5230;B&#x7A97;&#x53E3;&#x6709;&#x4E00;&#x4E2A;&#x65AD;&#x70B9; &#x6211;&#x4EEC;&#x5728;&#x70B9;&#x51FB;&#x786E;&#x5B9A;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8C03;&#x7528;GetDlgItemTextA&#x51FD;&#x6570;,&#x63D0;&#x53D6;&#x6587;&#x672C;&#x6846;&#x7528;&#x6237;&#x540D;&#x548C;&#x6CE8;&#x518C;&#x7801;&#x7684;&#x5185;&#x5BB9; &#x6B64;&#x65F6;&#x6B64;&#x523B;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5C31;&#x662F;GetDlgItemTextA GetDlgItemTextA&#x51FD;&#x6570;&#x7684;&#x56DB;&#x4E2A;&#x53C2;&#x6570; &#x627E;&#x5230;buffer&#x53C2;&#x6570;&#x5728;&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x8DDF;&#x968F; &#x7136;&#x540E;&#x4F7F;&#x7528;F8&#x5355;&#x6B65;&#x6B65;&#x8FC7; &#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728;HEX&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x770B;&#x5230;&#x7F16;&#x8F91;&#x6846;&#x4E2D;&#x7684;&#x8FD9;&#x4E2A;&#x6570;&#x636E; &#x5F53;&#x6211;&#x4EEC;&#x8DF3;&#x5230;&#x7A0B;&#x5E8F;&#x9886;&#x7A7A;&#x7684;&#x65F6;&#x5019;&#x53D1;&#x73B0;&#x5728;&#x8FD9;&#x4E2A;api&#x4E0B;&#x9762;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;GetDlgItemTextA&#x51FD;&#x6570; &#x540C;&#x6837;&#x627E;&#x5230;buffer&#x53C2;&#x6570;&#x5728;&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x8DDF;&#x968F; &#x7136;&#x540E;&#x4F7F;&#x7528;F8&#x5355;&#x6B65;&#x6B65;&#x8FC7; &#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728;HEX&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x770B;&#x5230;&#x7F16;&#x8F91;&#x6846;&#x4E2D;&#x7684;&#x8FD9;&#x4E2A;&#x6570;&#x636E; &#x6D88;&#x606F;&#x65AD;&#x70B9;1 windows&#x6D88;&#x606F;&#x5FAA;&#x73AF; &#x6BCF;&#x6B21;windows&#x7684;&#x63A7;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x90FD;&#x4F1A;&#x53D1;&#x51FA;&#x4E00;&#x4E2A;windows&#x6D88;&#x606F; &#x5982;&#x4F55;&#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x65AD;&#x70B9;&#x5462;? &#x5C06;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8D77;&#x6765; &#x6765;&#x5230;&#x8FD9;&#x4E2A;&#x754C;&#x9762;,&#x4E0D;&#x8981;&#x70B9;&#x51FB;&#x786E;&#x5B9A; &#x7136;&#x540E;&#x6253;&#x5F00;w&#x7A97;&#x53E3; &#x7136;&#x540E;&#x53F3;&#x952E;&#x5237;&#x65B0; &#x7136;&#x540E;&#x6211;&#x4EEC;&#x627E;&#x5230;&#x7C7B;&#x578B;&#x4E3A;&#x6309;&#x94AE;&#x7684;&#x5185;&#x5BB9;&#x4E3A;OK&#x7684;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x6309;&#x94AE; &#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x65AD;&#x70B9;,&#x5982;&#x679C;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x7684;&#x4E8B;&#x4EF6;&#x5C31;&#x9009;&#x62E9;&#x4EFB;&#x610F;&#x4E8B;&#x4EF6;&#x7C7B;&#x578B; &#x6211;&#x8FD9;&#x91CC;&#x4E00;&#x62AC;&#x8D77;&#x9F20;&#x6807;&#x5C31;&#x4E2D;&#x65AD;&#x4E0B;&#x6765;,&#x6B64;&#x65F6;&#x65AD;&#x4E0B;&#x6765;&#x7684;&#x662F;DialogBoxParamA&#x51FD;&#x6570; &#x6B64;&#x65F6;&#x662F;&#x5728;&#x7CFB;&#x7EDF;&#x9886;&#x7A7A;,&#x4F7F;&#x7528;&#x6267;&#x884C;&#x5230;&#x7528;&#x6237;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x56DE;&#x5230;&#x7528;&#x6237;&#x6A21;&#x5757; &#x6D88;&#x606F;&#x65AD;&#x70B9;2 &#x4ECE;&#x7CFB;&#x7EDF;&#x9886;&#x7A7A;&#x8FD4;&#x56DE;&#x5230;&#x7A0B;&#x5E8F;&#x9886;&#x7A7A;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5; 1.alt+f9 2.&#x8BBE;&#x7F6E;&#x5185;&#x5B58;&#x65AD;&#x70B9; &#x8FDB;&#x5165;M&#x7A97;&#x53E3; &#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x6BCF;&#x6267;&#x884C;&#x4E00;&#x6B21;&#x90FD;&#x4F1A;&#x65AD;&#x4E0B;&#x6765; &#x6D88;&#x606F;&#x65AD;&#x70B9;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6761;&#x4EF6;&#x65AD;&#x70B9; WM_LBUTTONUP&#x53EF;&#x4EE5;&#x66FF;&#x6362;&#x6210;0x202 &#x56E0;&#x4E3A;202&#x4E8B;&#x4EF6;&#x5BF9;&#x5E94;&#x7684;&#x5C31;&#x662F;WM_LBUTTONUP &#x4E5F;&#x53EF;&#x4EE5;&#x7528;0x101 &#x56E0;&#x4E3A;101&#x5BF9;&#x5E94;&#x7684;&#x662F;WM_KEYUP &#x76F8;&#x5F53;&#x4E8E;&#x7ED9;&#x8FD9;&#x4E2A;&#x6309;&#x94AE;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x952E;&#x76D8;&#x5F39;&#x8D77;&#x4E8B;&#x4EF6; &#x5C06;&#x8FD9;&#x4E2A;&#x4E8B;&#x4EF6;&#x66FF;&#x6362;&#x6210;101,&#x8FD0;&#x884C;&#x7A0B;&#x5E8F; &#x6211;&#x5728;&#x8FD9;&#x91CC;&#x6309;&#x4E0B;TAB&#x952E;,&#x4E5F;&#x4F1A;&#x88AB;&#x65AD;&#x4E0B;&#x6765; &#x518D;&#x6B21;&#x53BB;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x65AD;&#x70B9; &#x5728;&#x6B64;&#x5904;&#x53BB;&#x4FEE;&#x6539;&#x6761;&#x4EF6;&#x8BB0;&#x5F55; &#x7136;&#x540E;&#x4FEE;&#x6539;&#x6761;&#x4EF6;&#x8BB0;&#x5F55;&#x65AD;&#x70B9; &#x7136;&#x540E;&#x6211;&#x4EEC;&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#x6CE8;&#x518C;&#x5E8F;&#x5217;&#x53F7;,&#x7136;&#x540E;&#x8DF3;&#x8F6C;&#x5230;L&#x7A97;&#x53E3; &#x9F20;&#x6807;&#x5728;OK&#x6309;&#x94AE;&#x4E0A;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8BB0;&#x5F55;&#x4F60;&#x9F20;&#x6807;&#x7684;&#x8F68;&#x8FF9; &#x901A;&#x8FC7;&#x8BB0;&#x5F55;&#x5230;&#x6587;&#x4EF6;&#x53EF;&#x4EE5;&#x5C06;&#x65E5;&#x5FD7;&#x8F93;&#x5165;&#x5230;txt&#x4E2D; &#x6D88;&#x606F;&#x65AD;&#x70B9;3 &#x4EC0;&#x4E48;&#x662F;[ESP+8] &#x5148;&#x628A;&#x6D88;&#x606F;&#x65AD;&#x70B9;&#x8BBE;&#x7F6E;&#x597D; ESP+8&#x5C31;&#x662F;&#x8FD9;&#x4E2A;&#x65AD;&#x70B9;&#x5F80;&#x4E0B;&#x79FB;&#x52A8;&#x4E24;&#x884C; &#x5C31;&#x662F;Message = VM_LBUTTONUP &#x8FD9;&#x4E2A;&#x610F;&#x601D;&#x5C31;&#x662F;&#x6211;&#x5728;OK&#x6309;&#x94AE;&#x4E0A;&#x64CD;&#x4F5C;&#x4E86;&#x4EC0;&#x4E48;&#x8BB0;&#x5F55;(&#x7CFB;&#x7EDF;&#x6D88;&#x606F; ) &#x628A;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#x653E;&#x5728;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x91CC;&#x9762; &#x7136;&#x540E;&#x518D;&#x6B21;&#x6CE8;&#x518C;,&#x8C03;&#x5230;L&#x7A97;&#x53E3; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fmian-shi-zhi-chang-yong-zhu-jie.html</url>
    <content type="text"><![CDATA[&#x9762;&#x8BD5;&#x4E4B;&#x5E38;&#x7528;&#x6CE8;&#x89E3;@Component &#xFF1A;&#x6807;&#x51C6;&#x4E00;&#x4E2A;&#x666E;&#x901A;&#x7684;spring Bean&#x7C7B;&#x3002; @Controller&#xFF1A;&#x6807;&#x6CE8;&#x4E00;&#x4E2A;&#x63A7;&#x5236;&#x5668;&#x7EC4;&#x4EF6;&#x7C7B;&#x3002; @Service&#xFF1A;&#x6807;&#x6CE8;&#x4E00;&#x4E2A;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7EC4;&#x4EF6;&#x7C7B;&#x3002; @Repository&#xFF1A;&#x6807;&#x6CE8;&#x4E00;&#x4E2A;DAO&#x7EC4;&#x4EF6;&#x7C7B;&#x3002; @Component&#x3001;@Repository&#x3001;@Service&#x3001;@Controller&#x5B9E;&#x8D28;&#x4E0A;&#x5C5E;&#x4E8E;&#x540C;&#x4E00;&#x7C7B;&#x6CE8;&#x89E3;&#xFF0C;&#x7528;&#x6CD5;&#x76F8;&#x540C;&#xFF0C;&#x529F;&#x80FD;&#x76F8;&#x540C;&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x6807;&#x8BC6;&#x7EC4;&#x4EF6;&#x7684;&#x7C7B;&#x578B;&#x3002; @Component&#x53EF;&#x4EE5;&#x4EE3;&#x66FF;@Repository&#x3001;@Service&#x3001;@Controller&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E09;&#x4E2A;&#x6CE8;&#x89E3;&#x662F;&#x88AB;@Component&#x6807;&#x6CE8;&#x7684;&#x3002; @Target({ElementType.TYPE}) @Retention(RetentionPolicy.RUNTIME) @Documented @Component public @interface Controller { String value() default &quot;&quot;; }&#x5176;&#x5B83;&#x4E09;&#x4E2A;&#x6CE8;&#x89E3;&#x540C;&#x7406;&#x53EF;&#x5F97; &#x6CE8;&#x610F;&#x70B9;:&#x88AB;&#x6CE8;&#x89E3;&#x7684;java&#x7C7B;&#x5F53;&#x505A;Bean&#x5B9E;&#x4F8B;&#xFF0C;Bean&#x5B9E;&#x4F8B;&#x7684;&#x540D;&#x79F0;&#x9ED8;&#x8BA4;&#x662F;Bean&#x7C7B;&#x7684;&#x9996;&#x5B57;&#x6BCD;&#x5C0F;&#x5199;&#xFF0C;&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x4E0D;&#x53D8;&#x3002; &#x6307;&#x5B9A;&#x4E86;&#x67D0;&#x4E9B;&#x7C7B;&#x53EF;&#x4F5C;&#x4E3A;Spring Bean&#x7C7B;&#x4F7F;&#x7528;&#x540E;&#xFF0C;&#x6700;&#x597D;&#x8FD8;&#x9700;&#x8981;&#x8BA9;spring&#x641C;&#x7D22;&#x6307;&#x5B9A;&#x8DEF;&#x5F84;&#x3002;&#x5728;&#x4E3B;&#x914D;&#x7F6E;&#x7C7B;&#x4E0A;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x6CE8;&#x89E3;: @Configuration @ComponentScan(value=&quot;com.xxx&quot;)&#x9ED8;&#x8BA4;&#x626B;&#x63CF;&#x5B50;&#x5305;&#x4F8B;&#x5B50;:&#x6211;&#x4EEC;web&#x5DE5;&#x7A0B;&#x4E2D;&#xFF0C;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;BookController&#x7C7B;&#xFF0C;&#x5177;&#x4F53;&#x5982;&#x4E0B;&#xFF1A; package com.itwell.controller; // &#x7701;&#x7565;&#x4E86;&#x5305;&#x7684;&#x5BFC;&#x5165; @Controller public class BookController { @Autowired private BookService bookService; }BookService&#x7C7B; package com.itwell.service; @Service public class BookService { @Autowired private BookDao bookDao; public void print(){ System.out.println(bookDao); } @Override public String toString() { return &quot;BookService [bookDao=&quot; + bookDao + &quot;]&quot;; } }&#x6700;&#x540E;&#x662F;BookDao&#x7C7B; package com.itwell.dao; //&#x540D;&#x5B57;&#x9ED8;&#x8BA4;&#x662F;&#x7C7B;&#x540D;&#x9996;&#x5B57;&#x6BCD;&#x5C0F;&#x5199; @Repository public class BookDao { private String lable = &quot;1&quot;; public String getLable() { return lable; } public void setLable(String lable) { this.lable = lable; } @Override public String toString() { return &quot;BookDao [lable=&quot; + lable + &quot;]&quot;; } }&#x6211;&#x4EEC;&#x65B0;&#x5EFA;MainConfig&#x7C7B;&#xFF0C;&#x4F5C;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x914D;&#x7F6E;&#x7C7B; package com.itwell.config; //&#x914D;&#x7F6E;&#x7C7B;==&#x914D;&#x7F6E;&#x6587;&#x4EF6; @Configuration //&#x544A;&#x8BC9;Spring&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x7C7B; &#x8BA9;&#x8FD9;&#x4E2A;&#x7C7B;&#x7B49;&#x540C;&#x4E8E;xml @ComponentScan(value=&quot;com.itwell&quot;) // &#x6CE8;&#x610F;&#x8FD9;&#x4E00;&#x884C;&#x3002; public class MainConfig { //&#x7ED9;&#x5BB9;&#x5668;&#x4E2D;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;Bean;&#x7C7B;&#x578B;&#x4E3A;&#x8FD4;&#x56DE;&#x503C;&#x7684;&#x7C7B;&#x578B;&#xFF0C;id&#x9ED8;&#x8BA4;&#x662F;&#x7528;&#x65B9;&#x6CD5;&#x540D;&#x4F5C;&#x4E3A;id @Bean(name = &quot;person&quot;) public Person person01(){ return new Person(&quot;lisi&quot;, 20); } }&#x6211;&#x4EEC;&#x5199;&#x4E2A;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;&#xFF1A; public class IOCTest { @SuppressWarnings(&quot;resource&quot;) @Test public void test01(){ AnnotationConfigApplicationContext applicationContext = new AnnotationConfigApplicationContext(MainConfig.class); String[] definitionNames = applicationContext.getBeanDefinitionNames(); for (String name : definitionNames) { System.out.println(name); } } }&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x7C7B;&#xFF0C;&#x5E76;&#x83B7;&#x53D6;&#x5230;&#x5BB9;&#x5668;&#x4E2D;&#x6240;&#x6709;&#x7684;Bean&#x7684;&#x540D;&#x5B57;&#xFF0C;&#x7136;&#x540E;&#x904D;&#x5386;&#x8FDB;&#x884C;&#x6253;&#x5370; &#x6211;&#x4EEC;&#x770B;&#x4E0B;&#x6253;&#x5370;&#x7ED3;&#x679C; org.springframework.context.annotation.internalConfigurationAnnotationProcessor org.springframework.context.annotation.internalAutowiredAnnotationProcessor org.springframework.context.annotation.internalRequiredAnnotationProcessor org.springframework.context.annotation.internalCommonAnnotationProcessor org.springframework.context.event.internalEventListenerProcessor org.springframework.context.event.internalEventListenerFactory // &#x8FD9;&#x51E0;&#x4E2A;&#x90FD;&#x662F;spring&#x5BB9;&#x5668;&#x672C;&#x8EAB;&#x7684; mainConfig bookController bookDao bookService person&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5C06;com.itwell&#x4E0B;&#x6240;&#x6709;&#x7684;bean&#x90FD;&#x5DF2;&#x7ECF;&#x626B;&#x63CF;&#x4E86;&#x8FDB;&#x6765;&#xFF0C;&#x8FD9;&#x91CC;&#x8BF4;&#x4E00;&#x4E0B;MainConfig&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7C7B;&#xFF0C;&#x4E5F;&#x5728;&#x626B;&#x63CF;&#x7684;&#x5305;&#x4E0B;&#x3002;&#x5B83;&#x7684;&#x7C7B;&#x4E0A;&#x6709;&#x4E2A;&#x6CE8;&#x89E3;@Configuration&#xFF0C;&#x8868;&#x793A;&#x914D;&#x7F6E;&#x7C7B;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;bean&#x3002;&#x8FD8;&#x6709;&#x4E2A;person&#x662F;&#x6211;&#x4EEC;&#x5728;@Bean&#x6CE8;&#x89E3;&#x5B9A;&#x4E49;&#x7684;Bean. @Autowired&#x5C5E;&#x4E8E;Spring &#x7684;org.springframework.beans.factory.annotation&#x5305;&#x4E0B;,&#x53EF;&#x7528;&#x4E8E;&#x4E3A;&#x7C7B;&#x7684;&#x5C5E;&#x6027;&#x3001;&#x6784;&#x9020;&#x5668;&#x3001;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6CE8;&#x503C; @Resource&#x4E0D;&#x5C5E;&#x4E8E;spring&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x800C;&#x662F;&#x6765;&#x81EA;&#x4E8E;JSR-250&#x4F4D;&#x4E8E;java.annotation&#x5305;&#x4E0B;&#xFF0C;&#x4F7F;&#x7528;&#x8BE5;annotation&#x4E3A;&#x76EE;&#x6807;bean&#x6307;&#x5B9A;&#x534F;&#x4F5C;&#x8005;Bean&#x3002; &#x76F8;&#x540C;&#x70B9;@Resource&#x7684;&#x4F5C;&#x7528;&#x76F8;&#x5F53;&#x4E8E;@Autowired&#xFF0C;&#x5747;&#x53EF;&#x6807;&#x6CE8;&#x5728;&#x5B57;&#x6BB5;&#x6216;&#x5C5E;&#x6027;&#x7684;setter&#x65B9;&#x6CD5;&#x4E0A;&#x3002; &#x4E0D;&#x540C;&#x70B9;1.@Autowired&#x662F;Spring&#x7684;&#x6CE8;&#x89E3;&#xFF0C;@Resource&#x662F;javax.annotation&#x6CE8;&#x89E3;&#xFF0C;&#x800C;&#x662F;&#x6765;&#x81EA;&#x4E8E;JSR-250&#xFF0C;J2EE&#x63D0;&#x4F9B;&#xFF0C;&#x9700;&#x8981;JDK1.6&#x53CA;&#x4EE5;&#x4E0A;&#x3002; 2.@Autowired&#x53EA;&#x6309;&#x7167;Type &#x6CE8;&#x5165;&#xFF1B;@Resource&#x9ED8;&#x8BA4;&#x6309;Name&#x81EA;&#x52A8;&#x6CE8;&#x5165;&#xFF0C;&#x4E5F;&#x63D0;&#x4F9B;&#x6309;&#x7167;Type &#x6CE8;&#x5165;&#xFF1B; 3.@Autowired&#x6CE8;&#x89E3;&#x9ED8;&#x8BA4;&#x6309;&#x7167;&#x7C7B;&#x578B;&#x88C5;&#x914D;&#xFF0C;&#x5982;&#x679C;&#x5BB9;&#x5668;&#x4E2D;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x540C;&#x4E00;&#x7C7B;&#x578B;&#x7684;Bean&#xFF0C;&#x90A3;&#x4E48;&#x542F;&#x52A8;&#x5BB9;&#x5668;&#x65F6;&#x4F1A;&#x62A5;&#x627E;&#x4E0D;&#x5230;&#x6307;&#x5B9A;&#x7C7B;&#x578B;bean&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#x7ED3;&#x5408;@Qualifier&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x9650;&#x5B9A;&#xFF0C;&#x6307;&#x5B9A;&#x6CE8;&#x5165;&#x7684;bean&#x540D;&#x79F0;&#x3002; @Resource&#x6709;&#x4E24;&#x4E2A;&#x4E2D;&#x91CD;&#x8981;&#x7684;&#x5C5E;&#x6027;&#xFF1A;name&#x548C;type&#x3002;name&#x5C5E;&#x6027;&#x6307;&#x5B9A;byName&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;name&#x5C5E;&#x6027;&#xFF0C;&#x5F53;&#x6CE8;&#x89E3;&#x6807;&#x6CE8;&#x5728;&#x5B57;&#x6BB5;&#x4E0A;&#xFF0C;&#x5373;&#x9ED8;&#x8BA4;&#x53D6;&#x5B57;&#x6BB5;&#x7684;&#x540D;&#x79F0;&#x4F5C;&#x4E3A;bean&#x540D;&#x79F0;&#x5BFB;&#x627E;&#x4F9D;&#x8D56;&#x5BF9;&#x8C61;&#xFF0C;&#x5F53;&#x6CE8;&#x89E3;&#x6807;&#x6CE8;&#x5728;&#x5C5E;&#x6027;&#x7684;setter&#x65B9;&#x6CD5;&#x4E0A;&#xFF0C;&#x5373;&#x9ED8;&#x8BA4;&#x53D6;&#x5C5E;&#x6027;&#x540D;&#x4F5C;&#x4E3A;bean&#x540D;&#x79F0;&#x5BFB;&#x627E;&#x4F9D;&#x8D56;&#x5BF9;&#x8C61;&#x3002; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;@Resource&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;name&#x5C5E;&#x6027;&#xFF0C;&#x5E76;&#x4E14;&#x6309;&#x7167;&#x9ED8;&#x8BA4;&#x7684;&#x540D;&#x79F0;&#x4ECD;&#x7136;&#x627E;&#x4E0D;&#x5230;&#x4F9D;&#x8D56;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C; @Resource&#x6CE8;&#x89E3;&#x4F1A;&#x56DE;&#x9000;&#x5230;&#x6309;&#x7C7B;&#x578B;&#x88C5;&#x914D;&#x3002; &#x603B;&#x7ED3;@Resource&#x6CE8;&#x89E3;&#x7684;&#x4F7F;&#x7528;&#x6027;&#x66F4;&#x4E3A;&#x7075;&#x6D3B;&#xFF0C;&#x53EF;&#x6307;&#x5B9A;&#x540D;&#x79F0;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x7C7B;&#x578B; &#xFF1B;@Autowired&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x88C5;&#x914D;&#x5BB9;&#x6613;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x7279;&#x522B;&#x662F;&#x88C5;&#x914D;&#x7684;bean&#x7C7B;&#x578B;&#x6709;&#x591A;&#x4E2A;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x800C;&#x89E3;&#x51B3;&#x7684;&#x529E;&#x6CD5;&#x662F;&#x9700;&#x8981;&#x5728;&#x589E;&#x52A0;@Qualifier&#x8FDB;&#x884C;&#x9650;&#x5B9A;&#x3002; @Configuration&#x4F7F;&#x7528;@Configuration &#x6765;&#x6CE8;&#x89E3;&#x7C7B;&#x8868;&#x793A;&#x7C7B;&#x53EF;&#x4EE5;&#x88AB; Spring &#x7684; IoC &#x5BB9;&#x5668;&#x6240;&#x4F7F;&#x7528;,&#x76F8;&#x5F53;&#x4E8E;&#x8FD9;&#x4E2A;&#x7C7B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;XML @Bean&#x7ED3;&#x5408;@Configuration&#x4F7F;&#x7528;,&#x4F5C;&#x7528;&#x4E8E;&#x65B9;&#x6CD5;&#x4E0A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61; &#x4F8B;&#x5B50;:@Configuration public class AppConfig { @Bean public MyService myService() { return new MyServiceImpl(); } }&#x76F8;&#x5F53;&#x4E8E; &lt;beans&gt; &lt;bean id=&quot;myService&quot; class=&quot;com.itwell.services.MyServiceImpl&quot;/&gt; &lt;/beans&gt;spring MVC&#x6A21;&#x5757;&#x6CE8;&#x89E3;@RequestMapping&#x8FD9;&#x4E2A;&#x6CE8;&#x89E3;&#x7528;&#x4E8E;&#x5C06;url&#x6620;&#x5C04;&#x5230;&#x6574;&#x4E2A;&#x5904;&#x7406;&#x7C7B;&#x6216;&#x8005;&#x7279;&#x5B9A;&#x7684;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x53EF;&#x4EE5;&#x53EA;&#x7528;&#x901A;&#x914D;&#x7B26;&#xFF01; @RequestMapping &#x65E2;&#x53EF;&#x4EE5;&#x4F5C;&#x7528;&#x5728;&#x7C7B;&#x7EA7;&#x522B;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F5C;&#x7528;&#x5728;&#x65B9;&#x6CD5;&#x7EA7;&#x522B;&#x3002;&#x5F53;&#x5B83;&#x5B9A;&#x4E49;&#x5728;&#x7C7B;&#x7EA7;&#x522B;&#x65F6;&#x5C31;&#x662F;&#x7236;&#x8DEF;&#x7531;,&#x5F53;&#x5B83;&#x5B9A;&#x4E49;&#x5728;&#x65B9;&#x6CD5;&#x7EA7;&#x522B;&#x65F6;&#x5C31;&#x662F;&#x5B50;&#x8DEF;&#x7531;&#x3002; @RequestParam@RequestParam&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x83B7;&#x53D6;?userName=zhangsan&#x8FD9;&#x79CD;&#x540E;&#x9762;&#x7684;&#x53C2;&#x6570;&#x503C; @PathVariable&#x83B7;&#x53D6;&#x4E00;&#x4E2A;url &#x5730;&#x5740;&#x4E2D;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x503C; @RequestBody&#x7528;&#x6765;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x4F20;&#x9012;&#x7ED9;&#x540E;&#x7AEF;&#x7684;&#x8BF7;&#x6C42;&#x4F53;&#x4E2D;&#x7684;json&#x5B57;&#x7B26;&#x4E32;&#x4E2D;&#x7684;&#x6570;&#x636E; @ResponseBody&#x5C06;&#x540E;&#x53F0;java&#x5BF9;&#x8C61;&#x4EE5;json&#x5B57;&#x7B26;&#x4E32;&#x683C;&#x5F0F;&#x8F93;&#x51FA;&#x7ED9;&#x524D;&#x53F0; @RestController&#x76F8;&#x5F53;&#x4E8E;@RequestMapping&#x548C;@ResponseBody&#x7684;&#x7EC4;&#x5408; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fhei-ping-guo-an-zhuang.html</url>
    <content type="text"><![CDATA[&#x5FC3;&#x6D41; 10:23:07&#x8FC7;&#x53BB;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:23:16&#x6536;&#x5230;~ &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:23:25teamviewer&#x5F00;&#x4E0B; &#x5FC3;&#x6D41; 10:26:031 359 363 589 &#x5FC3;&#x6D41; 10:26:06117rhb &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:28:29&#x4F18;&#x76D8;&#x63D2;&#x4E0B; &#x5FC3;&#x6D41; 10:28:35&#x597D; &#x5FC3;&#x6D41; 10:28:37&#x7A0D;&#x7B49; &#x5FC3;&#x6D41; 10:29:17ok&#x4E86; &#x5FC3;&#x6D41; 10:29:52&#x88C5;&#x5728;&#x54EA;&#x4E2A;D &#x76D8; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:29:58&#x55EF;&#x5462; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:30:30&#x90FD;&#x7ED9;mac&#xFF1F; &#x5FC3;&#x6D41; 10:30:41&#x5BF9; &#x5FC3;&#x6D41; 10:30:43512&#x7684; &#x5FC3;&#x6D41; 10:30:46970pro &#x5FC3;&#x6D41; 10:30:48&#x90FD;&#x7ED9;&#x4ED6; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:30:50&#x55EF; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:32:40&#x5148;&#x7B49;&#x8FD9;&#x4E2A;&#x5199;&#x5165;&#x5B8C;&#x5427; &#x5FC3;&#x6D41; 10:32:47&#x55EF;&#x5462; &#x5FC3;&#x6D41; 10:33:10&#x4F60;&#x7684;&#x535A;&#x5BA2;hexo&#x4E3B;&#x9898;&#x54EA;&#x91CC;&#x641E;&#x5F97; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:33:24&#x767E;&#x5EA6;&#x76F4;&#x63A5;&#x641C;&#x5427; &#x5FC3;&#x6D41; 10:33:30&#x989D; &#x5FC3;&#x6D41; 10:34:53 &#x5FC3;&#x6D41; 10:34:55&#x8FD9;&#x4E2A;&#x5565;&#x610F;&#x601D; &#x5FC3;&#x6D41; 10:35:15&#x6211;&#x7684;U&#x76D8;&#x662F;&#x90A3;&#x4E2A;&#x7CFB;&#x7EDF;&#x76D8; &#x5FC3;&#x6D41; 10:35:21windows&#x7684; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:36:01&#x3002;&#x3002;&#x3002;&#x80AF;&#x5B9A;&#x4F1A;&#x88AB;&#x62B9;&#x9664;&#x7684;&#x989D; &#x5FC3;&#x6D41; 10:36:16&#x597D;&#x7684; &#x5FC3;&#x6D41; 10:36:19&#x6CA1;&#x4E8B; &#x5FC3;&#x6D41; 10:36:22&#x6211;&#x4F1A;&#x641E; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:36:22&#x4F60;&#x80FD;&#x4E0D;&#x80FD;&#x522B;&#x4E71;&#x52A8;&#x3002;&#x3002;&#x3002; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:36:27 &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:37:50&#x91CD;&#x542F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:37:54F2&#x8FDB;bios &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:38:02secure boot&#x6539;&#x6210;disabled &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:38:08F4&#x4FDD;&#x5B58; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:38:15&#x91CD;&#x542F;&#x540E;&#xFF0C;F10&#xFF0C;&#x4ECE;&#x4F18;&#x76D8;&#x542F;&#x52A8; &#x5FC3;&#x6D41; 10:38:19. &#x5FC3;&#x6D41; 10:38:24&#x8FD9;&#x4E2A;&#x70B9;&#x5565;&#xFF1F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:38:30&#x4E0D;&#x8981;&#x683C;&#x5F0F;&#x5316; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:38:37&#x4E0D;&#x7136;&#x521A;&#x624D;&#x5C31;&#x767D;&#x505A;&#x4E86; &#x5FC3;&#x6D41; 10:38:42&#x55EF; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:38:48&#x91CD;&#x542F;&#x5427;~ &#x5FC3;&#x6D41; 10:42:33&#x7B49;&#x4F1A;&#x5148; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:42:40&#x55EF; &#x5FC3;&#x6D41; 10:43:50 &#x5FC3;&#x6D41; 10:43:57&#x5F00;&#x59CB;&#x9009;&#x5417;&#xFF1F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:44:11&#x55EF;&#x5462; &#x5FC3;&#x6D41; 10:45:08 &#x5FC3;&#x6D41; 10:45:13&#x5230;&#x78C1;&#x76D8;&#x5DE5;&#x5177;&#x91CC;&#x9762;&#x4E86; &#x5FC3;&#x6D41; 10:46:00 &#x5FC3;&#x6D41; 10:46:21&#x62B9;&#x6389;&#x5B83;&#x5427;&#xFF1F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:46:30&#x5BF9;&#x7684; &#x5FC3;&#x6D41; 10:47:48 &#x5FC3;&#x6D41; 10:47:50Apfs &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:48:15&#x5BF9; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:48:18&#x8FD9;&#x6837;&#x5C31;OK &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:48:22&#x62B9;&#x9664;&#x5B8C;&#x6210;&#x540E; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:48:26&#x8FDB;&#x5B89;&#x88C5;&#x5DE5;&#x5177; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:48:33&#x5B89;&#x88C5;5&#x5206;&#x949F;&#x540E;&#x4F1A;&#x91CD;&#x542F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:48:56&#x4ECD;&#x65E7;&#x4F18;&#x76D8;&#x542F;&#x52A8;&#xFF0C;&#x9009;&#x62E9;&#x7B2C;&#x4E09;&#x4E2A;&#x56FE;&#x6807;&#xFF0C;&#x56DE;&#x8F66;&#xFF0C;&#x5F00;&#x59CB;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x5B89;&#x88C5; &#x5FC3;&#x6D41; 10:49:24 &#x5FC3;&#x6D41; 10:49:26&#x7B2C;&#x4E8C;&#x4E2A;&#x5BF9;&#x5427; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:49:33&#x55EF;&#x55EF; &#x5FC3;&#x6D41; 10:56:47 &#x5FC3;&#x6D41; 10:56:55&#x4EC0;&#x4E48;&#x9B3C;&#x3002;&#x3002; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:57:04&#x4F60;&#x662F;&#x4E0D;&#x662F;&#x63D2;&#x7F51;&#x7EBF;&#x4E86; &#x5FC3;&#x6D41; 10:57:11&#x6CA1;&#x6709; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:57:26&#x770B;&#x770B;bios&#x91CC;&#x65F6;&#x95F4;&#x5BF9;&#x4E0D;&#x5BF9; &#x5FC3;&#x6D41; 10:58:01 &#x5FC3;&#x6D41; 10:58:05&#x5BF9;&#x7740;&#x5462; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:58:20&#x90A3;&#x3002;&#x3002;&#x3002;&#x4F60;&#x61C2;&#x7684; &#x5FC3;&#x6D41; 10:58:26&#x662F;&#x4E0D;&#x662F;&#x4E4B;&#x524D;u&#x76D8;&#x641E;&#x8FC7;win&#x7684;&#x7CFB;&#x7EDF;&#x76D8; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:58:26&#x91CD;&#x65B0;&#x5199;&#x5165;&#x4E00;&#x6B21; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:58:35&#x7F51;&#x7EBF;&#x62D4;&#x6389;&#x518D;&#x8BD5;&#x4E00;&#x6B21;&#x770B;&#x770B; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:58:37&#x5982;&#x679C;&#x8FD8;&#x4E0D;&#x884C; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:58:43&#x5C31;&#x662F;&#x3002;&#x3002;&#x3002;&#x3002;&#x955C;&#x50CF;&#x635F;&#x574F;&#x4E86; &#x5FC3;&#x6D41; 10:58:44&#x6CA1;&#x6709;&#x7F51;&#x7AD9;&#x7684; &#x5FC3;&#x6D41; 10:58:49&#x7F51;&#x7EBF; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:59:03&#x91CD;&#x65B0;&#x5199;&#x4E00;&#x6B21;&#x4F18;&#x76D8;&#x770B;&#x770B; &#x5FC3;&#x6D41; 10:59:43&#x5148;&#x53BB;windows? &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:59:49&#x662F;&#x7684; &#x5FC3;&#x6D41; 11:00:19&#x5E94;&#x8BE5;&#x5F04;&#x4E4B;&#x524D;&#x683C;&#x5F0F;&#x5316;&#x4E00;&#x4E0B;u&#x76D8; &#x5FC3;&#x6D41; 11:00:24&#x6211;&#x89C9;&#x5F97; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:00:30&#x60F3;&#x591A;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:00:39etcher&#x4F1A;&#x81EA;&#x5DF1;&#x683C;&#x5F0F;&#x5316;&#x4F18;&#x76D8; &#x5FC3;&#x6D41; 11:00:50&#x54E6; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:00:58&#x91CD;&#x5199;&#x4E00;&#x6B21; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:01:06&#x7136;&#x540E;dg&#x6362;efi&#x770B;&#x770B; &#x5FC3;&#x6D41; 11:01:16&#x4F60;&#x8FD9;&#x4E2A;&#x767E;&#x5EA6;&#x4E91;&#x7684;&#x955C;&#x50CF;&#x6CA1;&#x6BDB;&#x75C5;&#x5427; &#x5FC3;&#x6D41; 11:01:22&#x7B49;&#x4E0B;&#x5427; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:01:23&#x5982;&#x679C;&#x8FD8;&#x4E0D;&#x884C;&#x5C31;&#x91CD;&#x65B0;&#x4E0B;&#x8F7D;10.14.5&#xFF0C;Ota &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:01:25&#x6CA1;&#x6709; &#x5FC3;&#x6D41; 11:01:26&#x6211;&#x6069;&#x9519;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:01:31&#x5F88;&#x591A;&#x4EBA;&#x7528;&#x8FC7; &#x5FC3;&#x6D41; 11:01:35&#x55EF;&#x55EF; &#x5FC3;&#x6D41; 11:03:521 359 363 589 &#x5FC3;&#x6D41; 11:03:55xcu254 &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:06:42&#x8FD9;&#x4E2A;&#x5206;&#x533A;&#x53EF;&#x4EE5;&#x4E0D;&#x52A8; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:06:47&#x5148;&#x7B49;&#x4ED6;&#x5199;&#x5165;&#x5B8C;&#x5427; &#x5FC3;&#x6D41; 11:06:52&#x55EF;&#x55EF; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:12:23&#x91CD;&#x542F;&#xFF0C;&#x4F18;&#x76D8;&#x542F;&#x52A8;&#xFF0C;&#x62B9;&#x9664;&#xFF0C;&#x518D;&#x88C5;&#x4E00;&#x6B21;&#x770B;&#x770B; &#x5FC3;&#x6D41; 11:20:54&#x53EF;&#x4EE5;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:21:00&#x55EF; &#x5FC3;&#x6D41; 11:21:06&#x5F00;&#x59CB;&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:21:15&#x7B2C;&#x4E8C;&#x9636;&#x6BB5;&#x91CD;&#x542F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:21:19&#x4ECD;&#x65E7;&#x4F18;&#x76D8;&#x542F;&#x52A8; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:21:23&#x7B2C;&#x4E09;&#x4E2A;&#x56FE;&#x6807; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:21:29&#x8FDB;&#x53BB;&#x4E4B;&#x540E;&#x7B80;&#x5355;&#x8BBE;&#x7F6E;&#x4E0B; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:21:33&#x8BBE;&#x7F6E;&#x597D;&#x6EF4;&#x6EF4;&#x6211; &#x5FC3;&#x6D41; 11:21:36&#x597D; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:21:39&#x8BBE;&#x7F6E;&#x65F6;&#x4E0D;&#x8981;&#x63D2;&#x7F51;&#x7EBF; &#x5FC3;&#x6D41; 11:21:45&#x55EF;&#x55EF; &#x5FC3;&#x6D41; 11:22:21&#x6211;&#x4EE5;&#x540E;&#x53EA;&#x4E70;&#x8F7B;&#x8584;&#x672C;&#x628A;&#x8FD9;&#x4E2A;&#x56FA;&#x6001;&#x76F4;&#x63A5;&#x6263;&#x4E0A;&#x53BB;&#x662F;&#x4E0D;&#x662F;&#x5C31;&#x76F4;&#x63A5;&#x662F;mac&#x7CFB;&#x7EDF;&#x554A; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:22:48&#x7528;&#x4E0D;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:22:51&#x914D;&#x7F6E;&#x4E0D;&#x4E00;&#x6837; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:22:55&#x5F15;&#x5BFC;&#x6587;&#x4EF6;&#x4E0D;&#x4E00;&#x6837; &#x5FC3;&#x6D41; 11:22:56&#x989D;&#x989D; &#x5FC3;&#x6D41; 11:40:27&#x8FDB;&#x6765;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:42:47&#x8BBE;&#x7F6E;&#x5B8C;&#x4E86;&#xFF1F; &#x5FC3;&#x6D41; 11:42:59&#x55EF;&#x55EF; &#x5FC3;&#x6D41; 11:43:04&#x641E;&#x5B8C;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:43:05&#x7A0D;&#x7B49;&#xFF0C;&#x6211;&#x5403;&#x4E2A;&#x996D;&#xFF0C;&#x7B49;&#x4F1A;&#x5E2E;&#x4F60;&#x53BB;win&#x8BBE;&#x7F6E;&#x5F15;&#x5BFC;&#x548C;&#x89E6;&#x6478;&#x677F; &#x5FC3;&#x6D41; 11:43:14&#x55EF;&#x55EF; &#x5FC3;&#x6D41; 11:43:31&#x5927;&#x6982;&#x591A;&#x4E45;&#x6211;&#x53BB;&#x6D17;&#x4E2A;&#x6FA1; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:43:41&#x7EC8;&#x7AEF;&#x91CC;&#x5148;&#x8F93;&#x5165;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;sudo spctl &#x2013;master-disable &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:43:41mac&#x4E0B;&#x88C5;&#x4E0B;QQ&#x5565;&#x7684; &#x5FC3;&#x6D41; 11:43:51&#x55EF;&#x55EF; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 11:43:5812&#x70B9;20&#x8FD9;&#x6837;&#x5427; &#x5FC3;&#x6D41; 11:44:03&#x597D; &#x5FC3;&#x6D41; 12:22:52&#x56DE;&#x6765;&#x6CA1;&#xFF1F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:23:57&#x7EC8;&#x7AEF;&#x547D;&#x4EE4;&#x8F93;&#x5165;&#x8FC7;&#x4E86;&#x5427; &#x5FC3;&#x6D41; 12:24:13&#x8F93;&#x5165;&#x4E86;&#x4E0D;&#x80FD;sudo &#x5FC3;&#x6D41; 12:24:16&#x3002;&#x3002;&#x3002; &#x5FC3;&#x6D41; 12:24:23&#x7F51;&#x7EDC;&#x5728;&#x54EA;&#x91CC;&#x5F00;&#x554A;&#xFF1F; &#x5FC3;&#x6D41; 12:24:29&#x627E;&#x4E0D;&#x5230;&#x3002;&#x3002;&#x3002; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:24:31&#x65E0;&#x7EBF;&#x7F51;&#x5361;&#x7528;&#x4E0D;&#x4E86;&#x7684;&#x554A; &#x5FC3;&#x6D41; 12:24:36&#x54E6;&#x54E6; &#x5FC3;&#x6D41; 12:24:43&#x6211;&#x628A;&#x7F51;&#x5361;&#x63D2;&#x4E0A; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:24:50&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x7ED9;&#x6211;&#x770B;&#x4E0B; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:24:58&#x6211;&#x4E0D;&#x4E3A;usb&#x7F51;&#x5361;&#x63D0;&#x4F9B;&#x652F;&#x6301; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:25:15&#x8FD9;&#x4E2A;&#x7F51;&#x5361;&#x4F60;&#x8DDF;&#x8C01;&#x4E70;&#x7684;&#xFF0C;&#x627E;&#x8C01;&#x8981;&#x9A71;&#x52A8;&#xFF0C;&#x8FD9;&#x4E2A;&#x82AF;&#x7247;&#x7EC4;&#x592A;&#x591A; &#x5FC3;&#x6D41; 12:25:27&#x54E6; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:25:50&#x7EC8;&#x7AEF;&#x8F93;&#x5165;&#x7684;&#x547D;&#x4EE4;&#x7ED9;&#x6211;&#x770B;&#x4E0B; &#x5FC3;&#x6D41; 12:26:27 &#x5FC3;&#x6D41; 12:26:28Ok&#x7684; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:26:38&#x7A0D;&#x7B49;&#x4E0B; &#x5FC3;&#x6D41; 12:26:39&#x6CA1;&#x62A5;&#x9519; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:26:41&#x6709;QQ&#x5417; &#x5FC3;&#x6D41; 12:26:47Mac&#x6CA1;&#x6709; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:26:55 &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:27:04mac&#x4E0B;&#x8F7D;&#x4E2A;QQ &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:27:08&#x7136;&#x540E;&#x63A5;&#x53D7;&#x4E0B;&#x8FD9;&#x4E2A; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:27:12&#x89E3;&#x538B;&#x8FD0;&#x884C;&#x4E0B; &#x5FC3;&#x6D41; 12:27:13&#x63D2;&#x7F51;&#x7EBF;&#xFF1F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:27:17&#x8FD0;&#x884C;&#x5B8C;&#x6210;&#x540E;&#x56DE;win &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:27:25&#x55EF;&#xFF0C;&#x63D2;&#x7F51;&#x7EBF; &#x5FC3;&#x6D41; 12:29:57&#x4E0B;&#x8F7D;&#x7684;&#x8F6F;&#x4EF6;&#x4E00;&#x822C;&#x653E;&#x5728;&#x6211;&#x7684;&#x5BB6;&#x76EE;&#x5F55;&#x4E0B;&#x5417;&#xFF1F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:30:08&#x5783;&#x573E;&#x6876;&#x65C1;&#x8FB9;&#x6709;&#x4E2A;&#x4E0B;&#x8F7D; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:30:16&#x4E0B;&#x8F7D;&#x7684;&#x6587;&#x4EF6;&#x90FD;&#x5728;&#x90A3;&#x91CC;&#x7684; &#x5FC3;&#x6D41; 12:30:22&#x54E6; &#x5FC3;&#x6D41; 12:33:24ok &#x5FC3;&#x6D41; 12:33:25le &#x5FC3;&#x6D41; 12:33:55&#x6211;&#x73B0;&#x5728;&#x662F;mac &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:34:10&#x6587;&#x4EF6;&#x63A5;&#x6536;&#x4E86;&#x5417; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:34:20&#x4E0B;&#x8F7D;&#x540E;&#x4ECE;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x5939;&#x62D6;&#x52A8;&#x5230;&#x684C;&#x9762;&#x4E0A; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:34:23&#x89E3;&#x538B;&#x8FD0;&#x884C;&#x4E0B; &#x5FC3;&#x6D41; 12:34:30 &#x5FC3;&#x6D41; 12:35:24&#x6B63;&#x5728;&#x8FD0;&#x884C; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:36:26&#x8FD0;&#x884C;&#x540E;&#x5C3D;&#x5FEB;&#x56DE;win&#x5F00;&#x4E0B;&#x8FDC;&#x7A0B; &#x5FC3;&#x6D41; 12:36:45all done &#x5FC3;&#x6D41; 12:36:48&#x7ED3;&#x675F;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:36:54&#x55EF;&#xFF0C;&#x56DE;win &#x5FC3;&#x6D41; 12:37:45 &#x5FC3;&#x6D41; 12:38:01&#x96EA;&#x82B1;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:38:02&#x91CD;&#x542F;&#x82B1;&#x5C4F;&#x662F;&#x5C4F;&#x5E55;&#x7D20;&#x8D28;&#x95EE;&#x9898; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:38:08&#x8981;&#x4E48;&#x6362;&#x5C4F;&#x5E55; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:38:16&#x8981;&#x4E48;&#x5C31;&#x5173;&#x673A;&#x91CD;&#x5F00; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:38:20&#x53EF;&#x4EE5;&#x907F;&#x514D; &#x5FC3;&#x6D41; 12:38:21&#x55EF; &#x5FC3;&#x6D41; 12:39:48&#x6211;&#x628A;u&#x76D8;&#x62D4;&#x4E86;&#x53EF;&#x4EE5;&#x5417;&#xFF1F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:40:14&#x7B49;&#x6211;&#x8FDB;win&#x52A0;&#x5B8C;&#x5F15;&#x5BFC; &#x5FC3;&#x6D41; 12:40:531 359 363 589 &#x5FC3;&#x6D41; 12:40:58bk836w &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:43:58&#x4F60;&#x662F;&#x4E0D;&#x662F;&#x5C11;&#x4E0B;&#x4E00;&#x4E2A; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:44:02easyuefi &#x5FC3;&#x6D41; 12:44:16&#x90A3;&#x4E2A;&#x535A;&#x5BA2;&#x5730;&#x5740;&#x7ED9;&#x6211; &#x5FC3;&#x6D41; 12:44:23&#x6211;&#x770B;&#x4E0B; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:44:30cmbs-soft.com &#x5FC3;&#x6D41; 12:45:18&#x5728;&#x90A3;&#x4E2A;&#x680F;&#x76EE;&#x91CC; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:45:30&#x5728;&#x6587;&#x7AE0;&#x91CC;&#xFF0C;&#x7B97;&#x4E86;&#xFF0C;&#x6211;&#x76F4;&#x63A5;&#x53D1;&#x7ED9;&#x4F60;&#x5427; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:45:32&#x4F60;&#x7A0D;&#x7B49;&#x4E0B; &#x5FC3;&#x6D41; 12:45:37&#x55EF; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:45:46 &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:48:11&#x4F18;&#x76D8;&#x62D4;&#x6389; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:48:16&#x91CD;&#x542F;F2&#x8FDB;bios &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:48:28&#x5728;boot&#x9875;&#x9762;&#x6700;&#x4E0B;&#x9762;&#xFF0C;&#x6700;&#x4E0B;&#x9762;&#x627E;&#x5230; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:48:35UEFI HARDDISK BBS PROP &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:48:37&#x56DE;&#x8F66;&#x8FDB;&#x53BB; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:48:45&#x628A;clover&#x8BBE;&#x7F6E;&#x6210;&#x7B2C;&#x4E00;&#x4E2A; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:48:50F4&#x4FDD;&#x5B58;&#x5C31;OK&#x4E86; &#x5FC3;&#x6D41; 12:48:51&#x597D; &#x5FC3;&#x6D41; 12:50:17&#x597D;&#x4E86; &#x5FC3;&#x6D41; 12:50:21&#x6709;&#x5F15;&#x5BFC;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:50:32&#x55EF; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:50:36&#x4F60;&#x81EA;&#x5DF1;&#x5148;&#x7528;&#x4E0B; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:50:40&#x6709;&#x95EE;&#x9898;&#x4E0B;&#x5348;&#x6EF4;&#x6EF4;&#x6211; &#x5FC3;&#x6D41; 12:50:40&#x597D; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:50:44&#x6211;&#x5348;&#x4F11;&#x4F1A; &#x5FC3;&#x6D41; 12:50:46&#x55EF;&#x55EF; &#x5FC3;&#x6D41; 12:50:50&#x9EBB;&#x70E6;&#x4F60;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:50:58&#x6728;&#x4E8B;&#x6728;&#x4E8B;&#xFF0C;&#x5E94;&#x8BE5;&#x7684; &#x5FC3;&#x6D41; 12:58:23&#x597D;&#x50CF;&#x5361;&#x5728;&#x5F00;&#x673A;&#x754C;&#x9762;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 13:45:25&#x5361;&#x8BFB;&#x6761;&#x5C31;&#x5F3A;&#x5236;&#x91CD;&#x542F;&#x518D;&#x6765;&#x5427; &#x5FC3;&#x6D41; 13:45:34&#x641E;&#x597D;&#x4E86; &#x5FC3;&#x6D41; 13:45:46&#x641E;&#x4E00;&#x4E0B;bios&#x53C8;&#x597D;&#x4E86; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 13:45:51&#x55EF; )2019-08-18 &#x5FC3;&#x6D41; 10:58:52&#x8001;&#x54E5;&#x600E;&#x4E48;&#x8BA9;&#x5728;windws&#x4E0B;&#x628A;mac&#x76D8;&#x5C55;&#x793A;&#x51FA;&#x6765;&#x54C7; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 10:59:03&#x505A;&#x4E0D;&#x5230; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:22:14&#x6709;&#x7A7A;&#x7684;&#x8BDD;&#xFF0C;&#x8BD5;&#x4E0B;&#x7761;&#x7720; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:22:16&#xFF1F; &#x5FC3;&#x6D41; 12:23:31&#x55EF;&#x55EF; &#x5FC3;&#x6D41; 12:23:36&#x6211;&#x5728;&#x4E0B;&#x8F7D;&#x4E1C;&#x897F; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:24:55&#x81EA;&#x5DF1;&#x6362;&#x4E0B;efi&#xFF0C;&#x5220;&#x9664;&#x540E;&#x66FF;&#x6362;&#xFF0C;&#x8BD5;&#x4E00;&#x4E0B;&#x7761;&#x7720;&#xFF0C;&#x544A;&#x8BC9;&#x6211;&#x7ED3;&#x679C;&#x3002;&#x4E0D;&#x8981;&#x5916;&#x4F20;&#x6216;&#x8005;&#x53D1;&#x7ED9;&#x4EFB;&#x4F55;&#x4EBA; &#x5F7C;&#x5CB8;&#x82B1;&#x83AB;&#x8BED; 12:25:13&#x7A0D;&#x7B49;&#xFF0C;&#x5728;&#x53D1;&#x9001; &#x5FC3;&#x6D41; 12:25:32&#x6211;&#x4F30;&#x8BA1;&#x5F97;&#x8FC7;&#x4E00;&#x4F1A;&#x624D;&#x80FD;&#x8BD5; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-09-oauth2%2Fchang-gou-09-oauth2.html</url>
    <content type="text"><![CDATA[&#x7B2C;9&#x7AE0; &#x7528;&#x6237;&#x8BA4;&#x8BC1;1 &#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x5206;&#x6790; &#x4E0A;&#x9762;&#x6D41;&#x7A0B;&#x56FE;&#x63CF;&#x8FF0;&#x4E86;&#x7528;&#x6237;&#x8981;&#x64CD;&#x4F5C;&#x7684;&#x5404;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x7528;&#x6237;&#x67E5;&#x770B;&#x4E2A;&#x4EBA;&#x4FE1;&#x606F;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5BA2;&#x6237;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x4E0B;&#x5355;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x8BA2;&#x5355;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x79D2;&#x6740;&#x62A2;&#x8D2D;&#x5546;&#x54C1;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x79D2;&#x6740;&#x5FAE;&#x670D;&#x52A1;&#x3002;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x90FD;&#x9700;&#x8981;&#x8BA4;&#x8BC1;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x8BC6;&#x522B;&#x7528;&#x6237;&#x7684;&#x89D2;&#x8272;&#x7136;&#x540E;&#x6388;&#x6743;&#x8BBF;&#x95EE;&#x5BF9;&#x5E94;&#x7684;&#x529F;&#x80FD;&#x3002; 1.1 &#x5355;&#x70B9;&#x767B;&#x5F55;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x81F3;&#x5C11;&#x6709;3&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x9700;&#x8981;&#x8BC6;&#x522B;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x6BCF;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x90FD;&#x767B;&#x5F55;&#x4E00;&#x6B21;&#x5C31;&#x592A;&#x9EBB;&#x70E6;&#x4E86;&#xFF0C;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x7528;&#x6237;&#x7684;&#x4F53;&#x9A8C;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x8BA9;&#x7528;&#x6237;&#x5728;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#x767B;&#x5F55;&#xFF0C;&#x5176;&#x4ED6;&#x4EFB;&#x610F;&#x53D7;&#x4FE1;&#x4EFB;&#x7684;&#x7CFB;&#x7EDF;&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x5C31;&#x53EB;&#x5355;&#x70B9;&#x767B;&#x5F55;&#x3002; &#x5355;&#x70B9;&#x767B;&#x5F55;&#xFF08;Single Sign On&#xFF09;&#xFF0C;&#x7B80;&#x79F0;&#x4E3A; SSO&#xFF0C;&#x662F;&#x76EE;&#x524D;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;&#x4F01;&#x4E1A;&#x4E1A;&#x52A1;&#x6574;&#x5408;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E4B;&#x4E00;&#x3002; SSO&#x7684;&#x5B9A;&#x4E49;&#x662F;&#x5728;&#x591A;&#x4E2A;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x7528;&#x6237;&#x53EA;&#x9700;&#x8981;&#x767B;&#x5F55;&#x4E00;&#x6B21;&#x5C31;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x76F8;&#x4E92;&#x4FE1;&#x4EFB;&#x7684;&#x5E94;&#x7528;&#x7CFB;&#x7EDF; 1.2 &#x7B2C;&#x4E09;&#x65B9;&#x8D26;&#x53F7;&#x767B;&#x5F55;&#x968F;&#x7740;&#x56FD;&#x5185;&#x53CA;&#x56FD;&#x5916;&#x5DE8;&#x5934;&#x4EEC;&#x7684;&#x5E73;&#x53F0;&#x5F00;&#x653E;&#x6218;&#x7565;&#x4EE5;&#x53CA;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x7B2C;&#x4E09;&#x65B9;&#x767B;&#x5F55;&#x5DF2;&#x7ECF;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x964C;&#x751F;&#x7684;&#x4EA7;&#x54C1;&#x8BBE;&#x8BA1;&#x6982;&#x5FF5;&#x4E86;&#x3002; &#x6240;&#x8C13;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x767B;&#x5F55;&#xFF0C;&#x662F;&#x8BF4;&#x57FA;&#x4E8E;&#x7528;&#x6237;&#x5728;&#x7B2C;&#x4E09;&#x65B9;&#x5E73;&#x53F0;&#x4E0A;&#x5DF2;&#x6709;&#x7684;&#x8D26;&#x53F7;&#x548C;&#x5BC6;&#x7801;&#x6765;&#x5FEB;&#x901F;&#x5B8C;&#x6210;&#x5DF1;&#x65B9;&#x5E94;&#x7528;&#x7684;&#x767B;&#x5F55;&#x6216;&#x8005;&#x6CE8;&#x518C;&#x7684;&#x529F;&#x80FD;&#x3002;&#x800C;&#x8FD9;&#x91CC;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x5E73;&#x53F0;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x5DF2;&#x7ECF;&#x62E5;&#x6709;&#x5927;&#x91CF;&#x7528;&#x6237;&#x7684;&#x5E73;&#x53F0;&#xFF0C;&#x56FD;&#x5916;&#x7684;&#x6BD4;&#x5982;Facebook&#xFF0C;Twitter&#x7B49;&#xFF0C;&#x56FD;&#x5185;&#x7684;&#x6BD4;&#x5982;&#x5FAE;&#x535A;&#x3001;&#x5FAE;&#x4FE1;&#x3001;QQ&#x7B49;&#x3002; 2 &#x8BA4;&#x8BC1;&#x89E3;&#x51B3;&#x65B9;&#x6848;2.1 &#x5355;&#x70B9;&#x767B;&#x5F55;&#x6280;&#x672F;&#x65B9;&#x6848;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x8981;&#x5B9E;&#x73B0;&#x5355;&#x70B9;&#x767B;&#x5F55;&#xFF0C;&#x901A;&#x5E38;&#x5C06;&#x8BA4;&#x8BC1;&#x7CFB;&#x7EDF;&#x72EC;&#x7ACB;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;&#x5355;&#x72EC;&#x7684;&#x5B58;&#x50A8;&#x4ECB;&#x8D28;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A; MySQL&#x3001;Redis&#xFF0C;&#x8003;&#x8651;&#x6027;&#x80FD;&#x8981;&#x6C42;&#xFF0C;&#x901A;&#x5E38;&#x5B58;&#x50A8;&#x5728;Redis&#x4E2D;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; Java&#x4E2D;&#x6709;&#x5F88;&#x591A;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x7684;&#x6846;&#x67B6;&#x90FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5355;&#x70B9;&#x767B;&#x5F55;&#xFF1A; 1&#x3001;Apache Shiro. 2&#x3001;CAS 3&#x3001;Spring security 2.2 &#x7B2C;&#x4E09;&#x65B9;&#x767B;&#x5F55;&#x6280;&#x672F;&#x65B9;&#x6848;2.2.1 Oauth2&#x8BA4;&#x8BC1;&#x6D41;&#x7A0B;&#x7B2C;&#x4E09;&#x65B9;&#x8BA4;&#x8BC1;&#x6280;&#x672F;&#x65B9;&#x6848;&#x6700;&#x4E3B;&#x8981;&#x662F;&#x89E3;&#x51B3;&#x8BA4;&#x8BC1;&#x534F;&#x8BAE;&#x7684;&#x901A;&#x7528;&#x6807;&#x51C6;&#x95EE;&#x9898;&#xFF0C;&#x56E0;&#x4E3A;&#x8981;&#x5B9E;&#x73B0;&#x8DE8;&#x7CFB;&#x7EDF;&#x8BA4;&#x8BC1;&#xFF0C;&#x5404;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x8981;&#x9075;&#x5FAA;&#x4E00;&#x5B9A;&#x7684; &#x63A5;&#x53E3;&#x534F;&#x8BAE;&#x3002; OAUTH&#x534F;&#x8BAE;&#x4E3A;&#x7528;&#x6237;&#x8D44;&#x6E90;&#x7684;&#x6388;&#x6743;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x5B89;&#x5168;&#x7684;&#x3001;&#x5F00;&#x653E;&#x800C;&#x53C8;&#x7B80;&#x6613;&#x7684;&#x6807;&#x51C6;&#x3002;&#x540C;&#x65F6;&#xFF0C;&#x4EFB;&#x4F55;&#x7B2C;&#x4E09;&#x65B9;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;OAUTH&#x8BA4; &#x8BC1;&#x670D;&#x52A1;&#xFF0C;&#x4EFB;&#x4F55;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x5546;&#x90FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x81EA;&#x8EAB;&#x7684;OAUTH&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#xFF0C;&#x56E0;&#x800C;OAUTH&#x662F;&#x5F00;&#x653E;&#x7684;&#x3002;&#x4E1A;&#x754C;&#x63D0;&#x4F9B;&#x4E86;OAUTH&#x7684;&#x591A;&#x79CD;&#x5B9E;&#x73B0;&#x5982;PHP&#x3001;JavaScript&#xFF0C;Java&#xFF0C;Ruby&#x7B49;&#x5404;&#x79CD;&#x8BED;&#x8A00;&#x5F00;&#x53D1;&#x5305;&#xFF0C;&#x5927;&#x5927;&#x8282;&#x7EA6;&#x4E86;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x56E0;&#x800C;OAUTH&#x662F;&#x7B80;&#x6613;&#x7684;&#x3002;&#x4E92;&#x8054;&#x7F51;&#x5F88;&#x591A;&#x670D;&#x52A1;&#x5982;Open API&#xFF0C;&#x5F88;&#x591A;&#x5927;&#x516C;&#x53F8;&#x5982;Google&#xFF0C;Yahoo&#xFF0C;Microsoft&#x7B49;&#x90FD;&#x63D0;&#x4F9B;&#x4E86;OAUTH&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x8DB3;&#x4EE5;&#x8BF4;&#x660E;OAUTH&#x6807;&#x51C6;&#x9010;&#x6E10;&#x6210;&#x4E3A;&#x5F00;&#x653E;&#x8D44;&#x6E90;&#x6388;&#x6743;&#x7684;&#x6807;&#x51C6;&#x3002; Oauth&#x534F;&#x8BAE;&#x76EE;&#x524D;&#x53D1;&#x5C55;&#x5230;2.0&#x7248;&#x672C;&#xFF0C;1.0&#x7248;&#x672C;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#xFF0C;2.0&#x7248;&#x672C;&#x5DF2;&#x5F97;&#x5230;&#x5E7F;&#x6CDB;&#x5E94;&#x7528;&#x3002; &#x53C2;&#x8003;&#xFF1A;https://baike.baidu.com/item/oAuth/7153134?fr=aladdin Oauth&#x534F;&#x8BAE;&#xFF1A;https://tools.ietf.org/html/rfc6749 &#x4E0B;&#x8FB9;&#x5206;&#x6790;&#x4E00;&#x4E2A;Oauth2&#x8BA4;&#x8BC1;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x7F51;&#x7AD9;&#x4F7F;&#x7528;&#x5FAE;&#x4FE1;&#x8BA4;&#x8BC1;&#x7684;&#x8FC7;&#x7A0B;&#xFF1A; 1.&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7B2C;&#x4E09;&#x65B9;&#x6388;&#x6743; &#x7528;&#x6237;&#x8FDB;&#x5165;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;&#x5FAE;&#x4FE1;&#x7684;&#x56FE;&#x6807;&#x4EE5;&#x5FAE;&#x4FE1;&#x8D26;&#x53F7;&#x767B;&#x5F55;&#x7CFB;&#x7EDF;&#xFF0C;&#x7528;&#x6237;&#x662F;&#x81EA;&#x5DF1;&#x5728;&#x5FAE;&#x4FE1;&#x91CC;&#x4FE1;&#x606F;&#x7684;&#x8D44;&#x6E90;&#x62E5;&#x6709;&#x8005;&#x3002; &#x70B9;&#x51FB;&#x201C;&#x7528;QQ&#x8D26;&#x53F7;&#x767B;&#x5F55;&#x201D;&#x51FA;&#x73B0;&#x4E00;&#x4E2A;&#x4E8C;&#x7EF4;&#x7801;&#xFF0C;&#x6B64;&#x65F6;&#x7528;&#x6237;&#x626B;&#x63CF;&#x4E8C;&#x7EF4;&#x7801;&#xFF0C;&#x5F00;&#x59CB;&#x7ED9;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x6388;&#x6743;&#x3002; 2.&#x8D44;&#x6E90;&#x62E5;&#x6709;&#x8005;&#x540C;&#x610F;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x6388;&#x6743; &#x8D44;&#x6E90;&#x62E5;&#x6709;&#x8005;&#x626B;&#x63CF;&#x4E8C;&#x7EF4;&#x7801;&#x8868;&#x793A;&#x8D44;&#x6E90;&#x62E5;&#x6709;&#x8005;&#x540C;&#x610F;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x6388;&#x6743;&#xFF0C;&#x5FAE;&#x4FE1;&#x4F1A;&#x5BF9;&#x8D44;&#x6E90;&#x62E5;&#x6709;&#x8005;&#x7684;&#x8EAB;&#x4EFD;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C; &#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#xFF0C;QQ&#x4F1A;&#x8BE2;&#x95EE;&#x7528;&#x6237;&#x662F;&#x5426;&#x7ED9;&#x6388;&#x6743;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x8BBF;&#x95EE;&#x81EA;&#x5DF1;&#x7684;QQ&#x6570;&#x636E;&#xFF0C;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x201C;&#x786E;&#x8BA4;&#x767B;&#x5F55;&#x201D;&#x8868;&#x793A;&#x540C;&#x610F;&#x6388;&#x6743;&#xFF0C;QQ&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x4F1A; &#x9881;&#x53D1;&#x4E00;&#x4E2A;&#x6388;&#x6743;&#x7801;&#xFF0C;&#x5E76;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x7F51;&#x7AD9;&#x3002; 3.&#x5BA2;&#x6237;&#x7AEF;&#x83B7;&#x53D6;&#x5230;&#x6388;&#x6743;&#x7801;&#xFF0C;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x7533;&#x8BF7;&#x4EE4;&#x724C; &#x6B64;&#x8FC7;&#x7A0B;&#x7528;&#x6237;&#x770B;&#x4E0D;&#x5230;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8BF7;&#x6C42;&#x643A;&#x5E26;&#x6388;&#x6743;&#x7801;&#x3002; 4.&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x54CD;&#x5E94;&#x4EE4;&#x724C; &#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x9A8C;&#x8BC1;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7684;&#x6388;&#x6743;&#x7801;&#xFF0C;&#x5982;&#x679C;&#x5408;&#x6CD5;&#x5219;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x9881;&#x53D1;&#x4EE4;&#x724C;&#xFF0C;&#x4EE4;&#x724C;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x7684;&#x901A;&#x884C;&#x8BC1;&#x3002; &#x6B64;&#x4EA4;&#x4E92;&#x8FC7;&#x7A0B;&#x7528;&#x6237;&#x770B;&#x4E0D;&#x5230;&#xFF0C;&#x5F53;&#x5BA2;&#x6237;&#x7AEF;&#x62FF;&#x5230;&#x4EE4;&#x724C;&#x540E;&#xFF0C;&#x7528;&#x6237;&#x5728;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x770B;&#x5230;&#x5DF2;&#x7ECF;&#x767B;&#x5F55;&#x6210;&#x529F;&#x3002; 5.&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90; &#x5BA2;&#x6237;&#x7AEF;&#x643A;&#x5E26;&#x4EE4;&#x724C;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;&#x3002; &#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x7F51;&#x7AD9;&#x643A;&#x5E26;&#x4EE4;&#x724C;&#x8BF7;&#x6C42;&#x8BBF;&#x95EE;&#x5FAE;&#x4FE1;&#x670D;&#x52A1;&#x5668;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x3002; 6.&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x53D7;&#x4FDD;&#x62A4;&#x8D44;&#x6E90; &#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x6821;&#x9A8C;&#x4EE4;&#x724C;&#x7684;&#x5408;&#x6CD5;&#x6027;&#xFF0C;&#x5982;&#x679C;&#x5408;&#x6CD5;&#x5219;&#x5411;&#x7528;&#x6237;&#x54CD;&#x5E94;&#x8D44;&#x6E90;&#x4FE1;&#x606F;&#x5185;&#x5BB9;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x548C;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x4E5F;&#x53EF;&#x4EE5;&#x5206;&#x5F00;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x5206;&#x5F00;&#x7684;&#x670D;&#x52A1;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x901A;&#x5E38;&#x8981;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1; &#x670D;&#x52A1;&#x5668;&#x6765;&#x6821;&#x9A8C;&#x4EE4;&#x724C;&#x7684;&#x5408;&#x6CD5;&#x6027;&#x3002; Oauth2.0&#x8BA4;&#x8BC1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x5F15;&#x81EA;Oauth2.0&#x534F;&#x8BAE;rfc6749 https://tools.ietf.org/html/rfc6749 Oauth2&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x89D2;&#x8272;&#xFF1A; 1&#x3001;&#x5BA2;&#x6237;&#x7AEF; &#x672C;&#x8EAB;&#x4E0D;&#x5B58;&#x50A8;&#x8D44;&#x6E90;&#xFF0C;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x8D44;&#x6E90;&#x62E5;&#x6709;&#x8005;&#x7684;&#x6388;&#x6743;&#x53BB;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x7545;&#x8D2D;Android&#x5BA2;&#x6237;&#x7AEF;&#x3001;&#x7545;&#x8D2D;Web&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#xFF09;&#x3001;&#x5FAE;&#x4FE1;&#x5BA2;&#x6237;&#x7AEF;&#x7B49;&#x3002; 2&#x3001;&#x8D44;&#x6E90;&#x62E5;&#x6709;&#x8005; &#x901A;&#x5E38;&#x4E3A;&#x7528;&#x6237;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x5373;&#x8BE5;&#x8D44;&#x6E90;&#x7684;&#x62E5;&#x6709;&#x8005;&#x3002; 3&#x3001;&#x6388;&#x6743;&#x670D;&#x52A1;&#x5668;&#xFF08;&#x4E5F;&#x79F0;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#xFF09; &#x7528;&#x6765;&#x5BF9;&#x8D44;&#x6E90;&#x62E5;&#x6709;&#x7684;&#x8EAB;&#x4EFD;&#x8FDB;&#x884C;&#x8BA4;&#x8BC1;&#x3001;&#x5BF9;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x6388;&#x6743;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x8981;&#x60F3;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x7531;&#x8D44;&#x6E90;&#x62E5;&#x6709;&#x8005;&#x6388; &#x6743;&#x540E;&#x65B9;&#x53EF;&#x8BBF;&#x95EE;&#x3002; 4&#x3001;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668; &#x5B58;&#x50A8;&#x8D44;&#x6E90;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x7545;&#x8D2D;&#x7528;&#x6237;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5668;&#x5B58;&#x50A8;&#x4E86;&#x7545;&#x8D2D;&#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x5FAE;&#x4FE1;&#x7684;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5B58;&#x50A8;&#x4E86;&#x5FAE;&#x4FE1;&#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x7B49;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x6700;&#x7EC8;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x83B7;&#x53D6;&#x8D44;&#x6E90;&#x4FE1;&#x606F;&#x3002; 2.2.2 Oauth2&#x5728;&#x9879;&#x76EE;&#x7684;&#x5E94;&#x7528;Oauth2&#x662F;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x7684;&#x5F00;&#x653E;&#x7684;&#x6388;&#x6743;&#x534F;&#x8BAE;&#xFF0C;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x8981;&#x6C42;&#x53BB;&#x4F7F;&#x7528;Oauth2&#xFF0C;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;Oauth2&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#x529F;&#x80FD;&#xFF1A; 1&#x3001;&#x672C;&#x7CFB;&#x7EDF;&#x8BBF;&#x95EE;&#x7B2C;&#x4E09;&#x65B9;&#x7CFB;&#x7EDF;&#x7684;&#x8D44;&#x6E90; 2&#x3001;&#x5916;&#x90E8;&#x7CFB;&#x7EDF;&#x8BBF;&#x95EE;&#x672C;&#x7CFB;&#x7EDF;&#x7684;&#x8D44;&#x6E90; 3&#x3001;&#x672C;&#x7CFB;&#x7EDF;&#x524D;&#x7AEF;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#xFF09; &#x8BBF;&#x95EE;&#x672C;&#x7CFB;&#x7EDF;&#x540E;&#x7AEF;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x8D44;&#x6E90;&#x3002; 4&#x3001;&#x672C;&#x7CFB;&#x7EDF;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;&#x5FAE;&#x670D;&#x52A1;A&#x8BBF;&#x95EE;&#x5FAE;&#x670D;&#x52A1;B&#x7684;&#x8D44;&#x6E90;&#xFF0C;B&#x8BBF;&#x95EE;A&#x7684;&#x8D44;&#x6E90;&#x3002; 2.3 Spring security Oauth2&#x8BA4;&#x8BC1;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x672C;&#x9879;&#x76EE;&#x91C7;&#x7528; Spring security + Oauth2+JWT&#x5B8C;&#x6210;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x53CA;&#x7528;&#x6237;&#x6388;&#x6743;&#xFF0C;Spring security &#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x7684;&#x548C;&#x9AD8;&#x5EA6;&#x53EF;&#x5B9A;&#x5236;&#x7684;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x548C;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x6846;&#x67B6;&#xFF0C;Spring security &#x6846;&#x67B6;&#x96C6;&#x6210;&#x4E86;Oauth2&#x534F;&#x8BAE;&#xFF0C;&#x4E0B;&#x56FE;&#x662F;&#x9879;&#x76EE;&#x8BA4;&#x8BC1;&#x67B6;&#x6784;&#x56FE;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5B8C;&#x6210;&#x8BA4;&#x8BC1;&#x3002; 2&#x3001;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x4E0B;&#x53D1;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x4EE4;&#x724C;&#xFF0C;&#x62E5;&#x6709;&#x8EAB;&#x4EFD;&#x4EE4;&#x724C;&#x8868;&#x793A;&#x8EAB;&#x4EFD;&#x5408;&#x6CD5;&#x3002; 3&#x3001;&#x7528;&#x6237;&#x643A;&#x5E26;&#x4EE4;&#x724C;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#xFF0C;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5FC5;&#x5148;&#x7ECF;&#x8FC7;&#x7F51;&#x5173;&#x3002; 4&#x3001;&#x7F51;&#x5173;&#x6821;&#x9A8C;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x4EE4;&#x724C;&#x7684;&#x5408;&#x6CD5;&#xFF0C;&#x4E0D;&#x5408;&#x6CD5;&#x8868;&#x793A;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x767B;&#x5F55;&#xFF0C;&#x5982;&#x679C;&#x5408;&#x6CD5;&#x5219;&#x653E;&#x884C;&#x7EE7;&#x7EED;&#x8BBF;&#x95EE;&#x3002; 5&#x3001;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x4EE4;&#x724C;&#xFF0C;&#x6839;&#x636E;&#x4EE4;&#x724C;&#x5B8C;&#x6210;&#x6388;&#x6743;&#x3002; 6&#x3001;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5B8C;&#x6210;&#x6388;&#x6743;&#x5219;&#x54CD;&#x5E94;&#x8D44;&#x6E90;&#x4FE1;&#x606F;&#x3002; 3 Jwt&#x4EE4;&#x724C;&#x56DE;&#x987E;JSON Web Token&#xFF08;JWT&#xFF09;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x653E;&#x7684;&#x884C;&#x4E1A;&#x6807;&#x51C6;&#xFF08;RFC 7519&#xFF09;&#xFF0C;&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x79CD;&#x7B80;&#x4ECB;&#x7684;&#x3001;&#x81EA;&#x5305;&#x542B;&#x7684;&#x534F;&#x8BAE;&#x683C;&#x5F0F;&#xFF0C;&#x7528;&#x4E8E; &#x5728;&#x901A;&#x4FE1;&#x53CC;&#x65B9;&#x4F20;&#x9012;json&#x5BF9;&#x8C61;&#xFF0C;&#x4F20;&#x9012;&#x7684;&#x4FE1;&#x606F;&#x7ECF;&#x8FC7;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#x53EF;&#x4EE5;&#x88AB;&#x9A8C;&#x8BC1;&#x548C;&#x4FE1;&#x4EFB;&#x3002;JWT&#x53EF;&#x4EE5;&#x4F7F;&#x7528;HMAC&#x7B97;&#x6CD5;&#x6216;&#x4F7F;&#x7528;RSA&#x7684;&#x516C; &#x94A5;/&#x79C1;&#x94A5;&#x5BF9;&#x6765;&#x7B7E;&#x540D;&#xFF0C;&#x9632;&#x6B62;&#x88AB;&#x7BE1;&#x6539;&#x3002; &#x5B98;&#x7F51;&#xFF1A;https://jwt.io/ &#x6807;&#x51C6;&#xFF1A;https://tools.ietf.org/html/rfc7519 JWT&#x4EE4;&#x724C;&#x7684;&#x4F18;&#x70B9;&#xFF1A; 1&#x3001;jwt&#x57FA;&#x4E8E;json&#xFF0C;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x89E3;&#x6790;&#x3002; 2&#x3001;&#x53EF;&#x4EE5;&#x5728;&#x4EE4;&#x724C;&#x4E2D;&#x81EA;&#x5B9A;&#x4E49;&#x4E30;&#x5BCC;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6613;&#x6269;&#x5C55;&#x3002; 3&#x3001;&#x901A;&#x8FC7;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x53CA;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#x6280;&#x672F;&#xFF0C;JWT&#x9632;&#x6B62;&#x7BE1;&#x6539;&#xFF0C;&#x5B89;&#x5168;&#x6027;&#x9AD8;&#x3002; 4&#x3001;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x4F7F;&#x7528;JWT&#x53EF;&#x4E0D;&#x4F9D;&#x8D56;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x6388;&#x6743;&#x3002;&#x7F3A;&#x70B9;&#xFF1A; &#xFF11;&#x3001;JWT&#x4EE4;&#x724C;&#x8F83;&#x957F;&#xFF0C;&#x5360;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x6BD4;&#x8F83;&#x5927;&#x3002; 3.1 &#x4EE4;&#x724C;&#x7ED3;&#x6784;&#x901A;&#x8FC7;&#x5B66;&#x4E60;JWT&#x4EE4;&#x724C;&#x7ED3;&#x6784;&#x4E3A;&#x81EA;&#x5B9A;&#x4E49;jwt&#x4EE4;&#x724C;&#x6253;&#x597D;&#x57FA;&#x7840;&#x3002; JWT&#x4EE4;&#x724C;&#x7531;&#x4E09;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;&#x6BCF;&#x90E8;&#x5206;&#x4E2D;&#x95F4;&#x4F7F;&#x7528;&#x70B9;&#xFF08;.&#xFF09;&#x5206;&#x9694;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;xxxxx.yyyyy.zzzzz Header &#x5934;&#x90E8;&#x5305;&#x62EC;&#x4EE4;&#x724C;&#x7684;&#x7C7B;&#x578B;&#xFF08;&#x5373;JWT&#xFF09;&#x53CA;&#x4F7F;&#x7528;&#x7684;&#x54C8;&#x5E0C;&#x7B97;&#x6CD5;&#xFF08;&#x5982;HMAC SHA256&#x6216;RSA&#xFF09; &#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x5982;&#x4E0B;&#xFF1A; &#x4E0B;&#x8FB9;&#x662F;Header&#x90E8;&#x5206;&#x7684;&#x5185;&#x5BB9; { &quot;alg&quot;: &quot;HS256&quot;, &quot;typ&quot;: &quot;JWT&quot; }&#x5C06;&#x4E0A;&#x8FB9;&#x7684;&#x5185;&#x5BB9;&#x4F7F;&#x7528;Base64Url&#x7F16;&#x7801;&#xFF0C;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5C31;&#x662F;JWT&#x4EE4;&#x724C;&#x7684;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#x3002; Payload &#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#x662F;&#x8D1F;&#x8F7D;&#xFF0C;&#x5185;&#x5BB9;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;json&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x662F;&#x5B58;&#x653E;&#x6709;&#x6548;&#x4FE1;&#x606F;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5B58;&#x653E;jwt&#x63D0;&#x4F9B;&#x7684;&#x73B0;&#x6210;&#x5B57;&#x6BB5;&#xFF0C;&#x6BD4; &#x5982;&#xFF1A;iss&#xFF08;&#x7B7E;&#x53D1;&#x8005;&#xFF09;,exp&#xFF08;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x6233;&#xFF09;, sub&#xFF08;&#x9762;&#x5411;&#x7684;&#x7528;&#x6237;&#xFF09;&#x7B49;&#xFF0C;&#x4E5F;&#x53EF;&#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x6BB5;&#x3002; &#x6B64;&#x90E8;&#x5206;&#x4E0D;&#x5EFA;&#x8BAE;&#x5B58;&#x653E;&#x654F;&#x611F;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x4E3A;&#x6B64;&#x90E8;&#x5206;&#x53EF;&#x4EE5;&#x89E3;&#x7801;&#x8FD8;&#x539F;&#x539F;&#x59CB;&#x5185;&#x5BB9;&#x3002; &#x6700;&#x540E;&#x5C06;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#x8D1F;&#x8F7D;&#x4F7F;&#x7528;Base64Url&#x7F16;&#x7801;&#xFF0C;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x5C31;&#x662F;JWT&#x4EE4;&#x724C;&#x7684;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#x3002; &#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; { &quot;sub&quot;: &quot;1234567890&quot;, &quot;name&quot;: &quot;456&quot;, &quot;admin&quot;: true }Signature &#x7B2C;&#x4E09;&#x90E8;&#x5206;&#x662F;&#x7B7E;&#x540D;&#xFF0C;&#x6B64;&#x90E8;&#x5206;&#x7528;&#x4E8E;&#x9632;&#x6B62;jwt&#x5185;&#x5BB9;&#x88AB;&#x7BE1;&#x6539;&#x3002; &#x8FD9;&#x4E2A;&#x90E8;&#x5206;&#x4F7F;&#x7528;base64url&#x5C06;&#x524D;&#x4E24;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#xFF0C;&#x7F16;&#x7801;&#x540E;&#x4F7F;&#x7528;&#x70B9;&#xFF08;.&#xFF09;&#x8FDE;&#x63A5;&#x7EC4;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6700;&#x540E;&#x4F7F;&#x7528;header&#x4E2D;&#x58F0;&#x660E; &#x7B7E;&#x540D;&#x7B97;&#x6CD5;&#x8FDB;&#x884C;&#x7B7E;&#x540D;&#x3002; &#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; HMACSHA256( base64UrlEncode(header) + &quot;.&quot; + base64UrlEncode(payload), secret)base64UrlEncode(header)&#xFF1A;jwt&#x4EE4;&#x724C;&#x7684;&#x7B2C;&#x4E00;&#x90E8;&#x5206;&#x3002; base64UrlEncode(payload)&#xFF1A;jwt&#x4EE4;&#x724C;&#x7684;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#x3002; secret&#xFF1A;&#x7B7E;&#x540D;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5BC6;&#x94A5;&#x3002; 3.2 &#x751F;&#x6210;&#x79C1;&#x94A5;&#x516C;&#x94A5;JWT&#x4EE4;&#x724C;&#x751F;&#x6210;&#x91C7;&#x7528;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5; 1&#x3001;&#x751F;&#x6210;&#x5BC6;&#x94A5;&#x8BC1;&#x4E66; &#x4E0B;&#x8FB9;&#x547D;&#x4EE4;&#x751F;&#x6210;&#x5BC6;&#x94A5;&#x8BC1;&#x4E66;&#xFF0C;&#x91C7;&#x7528;RSA &#x7B97;&#x6CD5;&#x6BCF;&#x4E2A;&#x8BC1;&#x4E66;&#x5305;&#x542B;&#x516C;&#x94A5;&#x548C;&#x79C1;&#x94A5; keytool -genkeypair -alias changgou -keyalg RSA -keypass changgou -keystore changgou.jks -storepass changgou &#x79C1;&#x94A5;&#x91C7;&#x7528;&#x4E86;RSA&#x7B97;&#x6CD5; Keytool &#x662F;&#x4E00;&#x4E2A;java&#x63D0;&#x4F9B;&#x7684;&#x8BC1;&#x4E66;&#x7BA1;&#x7406;&#x5DE5;&#x5177; -alias&#xFF1A;&#x5BC6;&#x94A5;&#x7684;&#x522B;&#x540D; -keyalg&#xFF1A;&#x4F7F;&#x7528;&#x7684;hash&#x7B97;&#x6CD5; -keypass&#xFF1A;&#x5BC6;&#x94A5;&#x7684;&#x8BBF;&#x95EE;&#x5BC6;&#x7801; -keystore&#xFF1A;&#x5BC6;&#x94A5;&#x5E93;&#x6587;&#x4EF6;&#x540D;&#xFF0C;changgou.jks&#x4FDD;&#x5B58;&#x4E86;&#x751F;&#x6210;&#x7684;&#x8BC1;&#x4E66; -storepass&#xFF1A;&#x5BC6;&#x94A5;&#x5E93;&#x7684;&#x8BBF;&#x95EE;&#x5BC6;&#x7801; &#x67E5;&#x8BE2;&#x8BC1;&#x4E66;&#x4FE1;&#x606F;&#xFF1A; keytool -list -keystore changgou.jks2&#x3001;&#x5BFC;&#x51FA;&#x516C;&#x94A5; openssl&#x662F;&#x4E00;&#x4E2A;&#x52A0;&#x89E3;&#x5BC6;&#x5DE5;&#x5177;&#x5305;&#xFF0C;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;openssl&#x6765;&#x5BFC;&#x51FA;&#x516C;&#x94A5;&#x4FE1;&#x606F;&#x3002; &#x5B89;&#x88C5; openssl&#xFF1A;http://slproweb.com/products/Win32OpenSSL.html &#x5B89;&#x88C5;&#x8D44;&#x6599;&#x76EE;&#x5F55;&#x4E0B;&#x7684;Win64OpenSSL-1_1_1b.exe &#x914D;&#x7F6E;openssl&#x7684;path&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C; cmd&#x8FDB;&#x5165;changgou.jks&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; keytool -list -rfc --keystore changgou.jks | openssl x509 -inform pem -pubkey &#x4E0B;&#x9762;&#x6BB5;&#x5185;&#x5BB9;&#x662F;&#x516C;&#x94A5; -----BEGIN PUBLIC KEY----- MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvFsEiaLvij9C1Mz+oyAm t47whAaRkRu/8kePM+X8760UGU0RMwGti6Z9y3LQ0RvK6I0brXmbGB/RsN38PVnh cP8ZfxGUH26kX0RK+tlrxcrG+HkPYOH4XPAL8Q1lu1n9x3tLcIPxq8ZZtuIyKYEm oLKyMsvTviG5flTpDprT25unWgE4md1kthRWXOnfWHATVY7Y/r4obiOL1mS5bEa/ iNKotQNnvIAKtjBM4RlIDWMa6dmz+lHtLtqDD2LF1qwoiSIHI75LQZ/CNYaHCfZS xtOydpNKq8eb1/PGiLNolD4La2zf0/1dlcr5mkesV570NxRmU1tFm8Zd3MZlZmyv 9QIDAQAB -----END PUBLIC KEY-----&#x5C06;&#x4E0A;&#x8FB9;&#x7684;&#x516C;&#x94A5;&#x62F7;&#x8D1D;&#x5230;&#x6587;&#x672C;public.key&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5408;&#x5E76;&#x4E3A;&#x4E00;&#x884C;,&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x653E;&#x5230;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x6388;&#x6743;&#x8BA4;&#x8BC1;&#x7684;&#x5DE5;&#x7A0B;&#x4E2D;&#x3002; 3.3 &#x57FA;&#x4E8E;&#x79C1;&#x94A5;&#x751F;&#x6210;jwt&#x4EE4;&#x724C;3.3.1&#x5BFC;&#x5165;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;1) &#x5C06;&#x8BFE;&#x4EF6;&#x4E2D;changgou_user_auth&#x7684;&#x5DE5;&#x7A0B;&#x5BFC;&#x5165;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#x53BB;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; 2) &#x542F;&#x52A8;eureka&#xFF0C;&#x518D;&#x542F;&#x52A8;&#x8BA4;&#x8BC1;&#x670D;&#x52A1; 3.3.2 &#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x4E2D;&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;public class CreateJwtTest { /*** * &#x521B;&#x5EFA;&#x4EE4;&#x724C;&#x6D4B;&#x8BD5; */ @Test public void testCreateToken(){ //&#x8BC1;&#x4E66;&#x6587;&#x4EF6;&#x8DEF;&#x5F84; String key_location=&quot;changgou.jks&quot;; //&#x79D8;&#x94A5;&#x5E93;&#x5BC6;&#x7801; String key_password=&quot;changgou&quot;; //&#x79D8;&#x94A5;&#x5BC6;&#x7801; String keypwd = &quot;changgou&quot;; //&#x79D8;&#x94A5;&#x522B;&#x540D; String alias = &quot;changgou&quot;; //&#x8BBF;&#x95EE;&#x8BC1;&#x4E66;&#x8DEF;&#x5F84; ClassPathResource resource = new ClassPathResource(key_location); //&#x521B;&#x5EFA;&#x79D8;&#x94A5;&#x5DE5;&#x5382; KeyStoreKeyFactory keyStoreKeyFactory = new KeyStoreKeyFactory(resource,key_password.toCharArray()); //&#x8BFB;&#x53D6;&#x79D8;&#x94A5;&#x5BF9;(&#x516C;&#x94A5;&#x3001;&#x79C1;&#x94A5;) KeyPair keyPair = keyStoreKeyFactory.getKeyPair(alias,keypwd.toCharArray()); //&#x83B7;&#x53D6;&#x79C1;&#x94A5; RSAPrivateKey rsaPrivate = (RSAPrivateKey) keyPair.getPrivate(); //&#x5B9A;&#x4E49;Payload Map&lt;String, Object&gt; tokenMap = new HashMap&lt;&gt;(); tokenMap.put(&quot;id&quot;, &quot;1&quot;); tokenMap.put(&quot;name&quot;, &quot;itheima&quot;); tokenMap.put(&quot;roles&quot;, &quot;ROLE_VIP,ROLE_USER&quot;); //&#x751F;&#x6210;Jwt&#x4EE4;&#x724C; Jwt jwt = JwtHelper.encode(JSON.toJSONString(tokenMap), new RsaSigner(rsaPrivate)); //&#x53D6;&#x51FA;&#x4EE4;&#x724C; String encoded = jwt.getEncoded(); System.out.println(encoded); } }3.4 &#x57FA;&#x4E8E;&#x516C;&#x94A5;&#x89E3;&#x6790;jwt&#x4EE4;&#x724C;&#x4E0A;&#x9762;&#x521B;&#x5EFA;&#x4EE4;&#x724C;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;JWT&#x4EE4;&#x724C;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x8FD9;&#x91CC;&#x89E3;&#x6790;&#x9700;&#x8981;&#x7528;&#x5230;&#x516C;&#x94A5;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x4E4B;&#x524D;&#x751F;&#x6210;&#x7684;&#x516C;&#x94A5;public.key&#x62F7;&#x8D1D;&#x51FA;&#x6765;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x53D8;&#x91CF;token&#x5B58;&#x50A8;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;&#x516C;&#x94A5;&#x89E3;&#x5BC6;&#x3002; &#x5728;changgou-user-oauth&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;com.changgou.token.ParseJwtTest&#x5B9E;&#x73B0;&#x89E3;&#x6790;&#x6821;&#x9A8C;&#x4EE4;&#x724C;&#x6570;&#x636E;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; public class ParseJwtTest { /*** * &#x6821;&#x9A8C;&#x4EE4;&#x724C; */ @Test public void testParseToken(){ //&#x4EE4;&#x724C; String token = &quot;eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlcyI6IlJPTEVfVklQLFJPTEVfVVNFUiIsIm5hbWUiOiJpdGhlaW1hIiwiaWQiOiIxIn0.IR9Qu9ZqYZ2gU2qgAziyT38UhEeL4Oi69ko-dzC_P9-Vjz40hwZDqxl8wZ-W2WAw1eWGIHV1EYDjg0-eilogJZ5UikyWw1bewXCpvlM-ZRtYQQqHFTlfDiVcFetyTayaskwa-x_BVS4pTWAskiaIKbKR4KcME2E5o1rEek-3YPkqAiZ6WP1UOmpaCJDaaFSdninqG0gzSCuGvLuG40x0Ngpfk7mPOecsIi5cbJElpdYUsCr9oXc53ROyfvYpHjzV7c2D5eIZu3leUPXRvvVAPJFEcSBiisxUSEeiGpmuQhaFZd1g-yJ1WQrixFvehMeLX2XU6W1nlL5ARTpQf_Jjiw&quot;; //&#x516C;&#x94A5; String publickey = &quot;-----BEGIN PUBLIC KEY-----MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvFsEiaLvij9C1Mz+oyAmt47whAaRkRu/8kePM+X8760UGU0RMwGti6Z9y3LQ0RvK6I0brXmbGB/RsN38PVnhcP8ZfxGUH26kX0RK+tlrxcrG+HkPYOH4XPAL8Q1lu1n9x3tLcIPxq8ZZtuIyKYEmoLKyMsvTviG5flTpDprT25unWgE4md1kthRWXOnfWHATVY7Y/r4obiOL1mS5bEa/iNKotQNnvIAKtjBM4RlIDWMa6dmz+lHtLtqDD2LF1qwoiSIHI75LQZ/CNYaHCfZSxtOydpNKq8eb1/PGiLNolD4La2zf0/1dlcr5mkesV570NxRmU1tFm8Zd3MZlZmyv9QIDAQAB-----END PUBLIC KEY-----&quot;; //&#x6821;&#x9A8C;Jwt Jwt jwt = JwtHelper.decodeAndVerify(token, new RsaVerifier(publickey)); //&#x83B7;&#x53D6;Jwt&#x539F;&#x59CB;&#x5185;&#x5BB9; String claims = jwt.getClaims(); System.out.println(claims); //jwt&#x4EE4;&#x724C; String encoded = jwt.getEncoded(); System.out.println(encoded); } }4 Oauth2.0&#x5165;&#x95E8;4.1 &#x51C6;&#x5907;&#x5DE5;&#x4F5C;1) &#x642D;&#x5EFA;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x5728;&#x7528;&#x6237;&#x7CFB;&#x7EDF;&#x8868;&#x7ED3;&#x6784;&#x4E2D;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x8868;&#x7ED3;&#x6784;&#xFF1A; CREATE TABLE `oauth_client_details` ( `client_id` varchar(48) NOT NULL COMMENT &apos;&#x5BA2;&#x6237;&#x7AEF;ID&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x5BF9;&#x5E94;&#x7684;&#x5E94;&#x7528;&apos;, `resource_ids` varchar(256) DEFAULT NULL, `client_secret` varchar(256) DEFAULT NULL COMMENT &apos;&#x5BA2;&#x6237;&#x7AEF;&#x79D8;&#x94A5;&#xFF0C;BCryptPasswordEncoder&#x52A0;&#x5BC6;&apos;, `scope` varchar(256) DEFAULT NULL COMMENT &apos;&#x5BF9;&#x5E94;&#x7684;&#x8303;&#x56F4;&apos;, `authorized_grant_types` varchar(256) DEFAULT NULL COMMENT &apos;&#x8BA4;&#x8BC1;&#x6A21;&#x5F0F;&apos;, `web_server_redirect_uri` varchar(256) DEFAULT NULL COMMENT &apos;&#x8BA4;&#x8BC1;&#x540E;&#x91CD;&#x5B9A;&#x5411;&#x5730;&#x5740;&apos;, `authorities` varchar(256) DEFAULT NULL, `access_token_validity` int(11) DEFAULT NULL COMMENT &apos;&#x4EE4;&#x724C;&#x6709;&#x6548;&#x671F;&apos;, `refresh_token_validity` int(11) DEFAULT NULL COMMENT &apos;&#x4EE4;&#x724C;&#x5237;&#x65B0;&#x5468;&#x671F;&apos;, `additional_information` varchar(4096) DEFAULT NULL, `autoapprove` varchar(256) DEFAULT NULL, PRIMARY KEY (`client_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#x5BFC;&#x5165;1&#x6761;&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;,&#x5176;&#x4E2D;&#x52A0;&#x5BC6;&#x5B57;&#x7B26;&#x660E;&#x6587;&#x4E3A;changgou&#xFF1A; INSERT INTO `oauth_client_details` VALUES (&apos;changgou&apos;, null, &apos;$2a$10$Yvkp3xzDcri6MAsPIqnzzeGBHez1QZR3A079XDdmNU4R725KrkXi2&apos;, &apos;app&apos;, &apos;authorization_code,password,refresh_token,client_credentials&apos;, &apos;http://localhost&apos;, null, &apos;43200&apos;, &apos;43200&apos;, null, null);4.2 Oauth2&#x6388;&#x6743;&#x6A21;&#x5F0F;&#x4ECB;&#x7ECD;Oauth2&#x6709;&#x4EE5;&#x4E0B;&#x6388;&#x6743;&#x6A21;&#x5F0F;&#xFF1A; 1.&#x6388;&#x6743;&#x7801;&#x6A21;&#x5F0F;&#xFF08;Authorization Code&#xFF09; 2.&#x9690;&#x5F0F;&#x6388;&#x6743;&#x6A21;&#x5F0F;&#xFF08;Implicit&#xFF09; 3.&#x5BC6;&#x7801;&#x6A21;&#x5F0F;&#xFF08;Resource Owner Password Credentials&#xFF09; 4.&#x5BA2;&#x6237;&#x7AEF;&#x6A21;&#x5F0F;&#xFF08;Client Credentials&#xFF09; &#x5176;&#x4E2D;&#x6388;&#x6743;&#x7801;&#x6A21;&#x5F0F;&#x548C;&#x5BC6;&#x7801;&#x6A21;&#x5F0F;&#x5E94;&#x7528;&#x8F83;&#x591A;&#xFF0C;&#x672C;&#x5C0F;&#x8282;&#x4ECB;&#x7ECD;&#x6388;&#x6743;&#x7801;&#x6A21;&#x5F0F;&#x3002; 4.2.1 &#x6388;&#x6743;&#x7801;&#x6A21;&#x5F0F;4.2.1.1 &#x6388;&#x6743;&#x7801;&#x6388;&#x6743;&#x6D41;&#x7A0B;&#x4E0A;&#x8FB9;&#x4F8B;&#x4E3E;&#x7684;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x7F51;&#x7AD9;&#x4F7F;&#x7528;QQ&#x8BA4;&#x8BC1;&#x7684;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x6388;&#x6743;&#x7801;&#x6A21;&#x5F0F;&#xFF0C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x7B2C;&#x4E09;&#x65B9;&#x6388;&#x6743; 2&#x3001;&#x7528;&#x6237;&#x540C;&#x610F;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x6388;&#x6743; 3&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x83B7;&#x53D6;&#x5230;&#x6388;&#x6743;&#x7801;&#xFF0C;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x7533;&#x8BF7; &#x4EE4;&#x724C; 4&#x3001;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x54CD;&#x5E94;&#x4EE4;&#x724C; 5&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x6821;&#x9A8C;&#x4EE4;&#x724C;&#x5408;&#x6CD5;&#x6027;&#xFF0C;&#x5B8C;&#x6210;&#x6388;&#x6743; 6&#x3001;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x53D7;&#x4FDD;&#x62A4;&#x8D44;&#x6E90; 4.2.1.2 &#x7533;&#x8BF7;&#x6388;&#x6743;&#x7801;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x6388;&#x6743;&#x7801;&#xFF1A; /oauth/authorize&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x662F;Oauth&#x5185;&#x90E8;&#x63D0;&#x4F9B;&#x7684; Get&#x8BF7;&#x6C42;&#xFF1A; http://localhost:9200/oauth/authorize?client_id=changgou&amp;response_type=code&amp;scop=app&amp;redirect_uri=http://localhost&#x53C2;&#x6570;&#x5217;&#x8868;&#x5982;&#x4E0B;&#xFF1A; client_id&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;id&#xFF0C;&#x548C;&#x6388;&#x6743;&#x914D;&#x7F6E;&#x7C7B;&#x4E2D;&#x8BBE;&#x7F6E;&#x7684;&#x5BA2;&#x6237;&#x7AEF;id&#x4E00;&#x81F4;&#x3002; response_type&#xFF1A;&#x6388;&#x6743;&#x7801;&#x6A21;&#x5F0F;&#x56FA;&#x5B9A;&#x4E3A;code scop&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x8303;&#x56F4;&#xFF0C;&#x548C;&#x6388;&#x6743;&#x914D;&#x7F6E;&#x7C7B;&#x4E2D;&#x8BBE;&#x7F6E;&#x7684;scop&#x4E00;&#x81F4;&#x3002; redirect_uri&#xFF1A;&#x8DF3;&#x8F6C;uri&#xFF0C;&#x5F53;&#x6388;&#x6743;&#x7801;&#x7533;&#x8BF7;&#x6210;&#x529F;&#x540E;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x6B64;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x5728;&#x540E;&#x8FB9;&#x5E26;&#x4E0A;code&#x53C2;&#x6570;&#xFF08;&#x6388;&#x6743;&#x7801;&#xFF09;&#x9996;&#x5148;&#x8DF3;&#x8F6C;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF1A; &#x5BA2;&#x6237;&#x7AEF;ID&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x5BC6;&#x94A5;&#x5C31;&#x662F;&#x76F8;&#x5F53;&#x4E8E;&#x5FAE;&#x4FE1;&#x7684;&#x8D26;&#x53F7;&#x5BC6;&#x7801; &#x6211;&#x8981;&#x62FF;&#x7740;&#x6211;&#x7684;&#x5FAE;&#x4FE1;&#x8D26;&#x53F7;&#x548C;&#x5BC6;&#x7801;&#x53BB;&#x5FAE;&#x4FE1;&#x90A3;&#x8FB9;&#x7533;&#x8BF7;&#x6388;&#x6743;&#x7801; &#x76F8;&#x5F53;&#x4E8E;&#x6211;&#x626B;&#x7801;&#x7684;&#x8FC7;&#x7A0B; &#x8F93;&#x5165;&#x8D26;&#x53F7;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x70B9;&#x51FB;Login&#x3002; Spring Security&#x63A5;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x4F1A;&#x8C03;&#x7528;UserDetailsService&#x63A5;&#x53E3;&#x7684;loadUserByUsername&#x65B9;&#x6CD5;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x6B63;&#x786E;&#x7684;&#x5BC6;&#x7801;&#x3002; &#x5F53;&#x524D;&#x5BFC;&#x5165;&#x7684;&#x57FA;&#x7840;&#x5DE5;&#x7A0B;&#x4E2D;&#x5BA2;&#x6237;&#x7AEF;ID&#x4E3A;changgou&#xFF0C;&#x79D8;&#x94A5;&#x4E5F;&#x4E3A;changgou&#x5373;&#x53EF;&#x8BA4;&#x8BC1;&#x901A;&#x8FC7;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x8FDB;&#x5165;&#x6388;&#x6743;&#x9875;&#x9762;&#xFF1A; &#x5FAE;&#x4FE1;&#x7ED9;&#x6211;&#x5F39;&#x51FA;&#x6765;&#x4E00;&#x4E2A;&#x6388;&#x6743;&#x9875;&#x9762;&#x95EE;&#x6211;&#x662F;&#x5426;&#x540C;&#x610F;&#x4F7F;&#x7528;&#x6211;&#x7684;&#x5FAE;&#x4FE1;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x53BB;&#x767B;&#x9646;&#x7B2C;&#x4E09;&#x65B9;&#x7684;&#x8D44;&#x6E90; &#x9632;&#x6B62;&#x574F;&#x4EBA;&#x4ECE;&#x4E0D;&#x540C;&#x7684;&#x7EC8;&#x7AEF;&#x767B;&#x9646;&#x76D7;&#x7528;&#x800C;&#x4E0D;&#x7ECF;&#x8FC7;&#x6211;&#x7684;&#x624B;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x4E86;&#x7B2C;&#x4E09;&#x65B9;&#x8D44;&#x6E90;&#x76D7;&#x53D6;&#x6211;&#x7684;money &#x70B9;&#x51FB;Authorize,&#x63A5;&#x4E0B;&#x6765;&#x8FD4;&#x56DE;&#x6388;&#x6743;&#x7801;&#xFF1A; &#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x643A;&#x5E26;&#x6388;&#x6743;&#x7801;&#x8DF3;&#x8F6C;redirect_uri,code=k45iLY&#x5C31;&#x662F;&#x8FD4;&#x56DE;&#x7684;&#x6388;&#x6743;&#x7801;, &#x6BCF;&#x4E00;&#x4E2A;&#x6388;&#x6743;&#x7801;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x4E00;&#x6B21; 4.2.1.3 &#x7533;&#x8BF7;&#x4EE4;&#x724C;/oauth/token&#x8FD9;&#x4E2A;&#x662F;&#x8FD9;&#x4E2A;&#x8DEF;&#x7531;&#x662F;Oauth&#x5185;&#x90E8;&#x63D0;&#x4F9B;&#x7684; &#x62FF;&#x5230;&#x6388;&#x6743;&#x7801;&#x540E;&#xFF0C;&#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x3002; Post&#x8BF7;&#x6C42;&#xFF1A; http://localhost:9200/oauth/token&#x53C2;&#x6570;&#x5982;&#x4E0B;&#xFF1A; grant_type&#xFF1A;&#x6388;&#x6743;&#x7C7B;&#x578B;&#xFF0C;&#x586B;&#x5199;authorization_code&#xFF0C;&#x8868;&#x793A;&#x6388;&#x6743;&#x7801;&#x6A21;&#x5F0F; code&#xFF1A;&#x6388;&#x6743;&#x7801;&#xFF0C;&#x5C31;&#x662F;&#x521A;&#x521A;&#x83B7;&#x53D6;&#x7684;&#x6388;&#x6743;&#x7801;&#xFF0C;&#x6CE8;&#x610F;&#xFF1A;&#x6388;&#x6743;&#x7801;&#x53EA;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#x5C31;&#x65E0;&#x6548;&#x4E86;&#xFF0C;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x7533;&#x8BF7;&#x3002; redirect_uri&#xFF1A;&#x7533;&#x8BF7;&#x6388;&#x6743;&#x7801;&#x65F6;&#x7684;&#x8DF3;&#x8F6C;url&#xFF0C;&#x4E00;&#x5B9A;&#x548C;&#x7533;&#x8BF7;&#x6388;&#x6743;&#x7801;&#x65F6;&#x7528;&#x7684;redirect_uri&#x4E00;&#x81F4;&#x3002; &#x6B64;&#x94FE;&#x63A5;&#x9700;&#x8981;&#x4F7F;&#x7528; http Basic&#x8BA4;&#x8BC1;&#x3002; &#x4EC0;&#x4E48;&#x662F;http Basic&#x8BA4;&#x8BC1;&#xFF1F; http&#x534F;&#x8BAE;&#x5B9A;&#x4E49;&#x7684;&#x4E00;&#x79CD;&#x8BA4;&#x8BC1;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x5BA2;&#x6237;&#x7AEF;id&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x5BC6;&#x7801;&#x6309;&#x7167;&#x201C;&#x5BA2;&#x6237;&#x7AEF;ID:&#x5BA2;&#x6237;&#x7AEF;&#x5BC6;&#x7801;&#x201D;&#x7684;&#x683C;&#x5F0F;&#x62FC;&#x63A5;&#xFF0C;&#x5E76;&#x7528;base64&#x7F16; &#x7801;&#xFF0C;&#x653E;&#x5728;header&#x4E2D;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; Authorization&#xFF1A;Basic WGNXZWJBcHA6WGNXZWJBcHA=WGNXZWJBcHA6WGNXZWJBcHA= &#x662F;&#x7528;&#x6237;&#x540D;:&#x5BC6;&#x7801;&#x7684;base64&#x7F16;&#x7801;&#x3002; &#x8BA4;&#x8BC1;&#x5931;&#x8D25;&#x670D;&#x52A1;&#x7AEF;&#x8FD4;&#x56DE; 401 Unauthorized&#x3002; &#x4EE5;&#x4E0A;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;postman&#x5B8C;&#x6210;&#xFF1A; http basic&#x8BA4;&#x8BC1;&#xFF1A; &#x5BA2;&#x6237;&#x7AEF;Id&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x5BC6;&#x7801;&#x4F1A;&#x5339;&#x914D;&#x6570;&#x636E;&#x5E93;oauth_client_details&#x8868;&#x4E2D;&#x7684;&#x5BA2;&#x6237;&#x7AEF;id&#x53CA;&#x5BA2;&#x6237;&#x7AEF;&#x5BC6;&#x7801;&#x3002; &#x70B9;&#x51FB;&#x53D1;&#x9001;&#xFF1A; &#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x6210;&#x529F; &#x8FD4;&#x56DE;&#x4FE1;&#x5982;&#x4E0B;: access_token&#xFF1A;&#x8BBF;&#x95EE;&#x4EE4;&#x724C;&#xFF0C;&#x643A;&#x5E26;&#x6B64;&#x4EE4;&#x724C;&#x8BBF;&#x95EE;&#x8D44;&#x6E90; token_type&#xFF1A;&#x6709;MAC Token&#x4E0E;Bearer Token&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x4E24;&#x79CD;&#x7684;&#x6821;&#x9A8C;&#x7B97;&#x6CD5;&#x4E0D;&#x540C;&#xFF0C;RFC 6750&#x5EFA;&#x8BAE;Oauth2&#x91C7;&#x7528; Bearer Token&#xFF08;http://www.rfcreader.com/#rfc6750&#xFF09;&#x3002; refresh_token&#xFF1A;&#x5237;&#x65B0;&#x4EE4;&#x724C;&#xFF0C;&#x4F7F;&#x7528;&#x6B64;&#x4EE4;&#x724C;&#x53EF;&#x4EE5;&#x5EF6;&#x957F;&#x8BBF;&#x95EE;&#x4EE4;&#x724C;&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x3002; expires_in&#xFF1A;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x79D2;&#x3002; scope&#xFF1A;&#x8303;&#x56F4;&#xFF0C;&#x4E0E;&#x5B9A;&#x4E49;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8303;&#x56F4;&#x4E00;&#x81F4;&#x3002; jti&#xFF1A;&#x5F53;&#x524D;token&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;4.2.1.4 &#x4EE4;&#x724C;&#x6821;&#x9A8C;Spring Security Oauth2&#x63D0;&#x4F9B;&#x6821;&#x9A8C;&#x4EE4;&#x724C;&#x7684;&#x7AEF;&#x70B9;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; Get: http://localhost:9200/oauth/check_token?token= [access_token] &#x53C2;&#x6570;&#xFF1A; token&#xFF1A;&#x4EE4;&#x724C; &#x4F7F;&#x7528;postman&#x6D4B;&#x8BD5;&#x5982;&#x4E0B;: &#x5982;&#x679C;&#x4EE4;&#x724C;&#x6821;&#x9A8C;&#x5931;&#x8D25;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A; &#x5982;&#x679C;&#x4EE4;&#x724C;&#x8FC7;&#x671F;&#x4E86;&#xFF0C;&#x4F1A;&#x5982;&#x4E0B;&#x5982;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A; 4.2.1.5 &#x5237;&#x65B0;&#x4EE4;&#x724C;&#x5237;&#x65B0;&#x4EE4;&#x724C;&#x662F;&#x5F53;&#x4EE4;&#x724C;&#x5FEB;&#x8FC7;&#x671F;&#x65F6;&#x91CD;&#x65B0;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4EE4;&#x724C;&#xFF0C;&#x5B83;&#x4E8E;&#x6388;&#x6743;&#x7801;&#x6388;&#x6743;&#x548C;&#x5BC6;&#x7801;&#x6388;&#x6743;&#x751F;&#x6210;&#x4EE4;&#x724C;&#x4E0D;&#x540C;&#xFF0C;&#x5237;&#x65B0;&#x4EE4;&#x724C;&#x4E0D;&#x9700;&#x8981;&#x6388;&#x6743;&#x7801; &#x4E5F;&#x4E0D;&#x9700;&#x8981;&#x8D26;&#x53F7;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x5237;&#x65B0;&#x4EE4;&#x724C;&#x3001;&#x5BA2;&#x6237;&#x7AEF;id&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x5BC6;&#x7801;&#x3002; &#x6D4B;&#x8BD5;&#x5982;&#x4E0B;&#xFF1A; Post&#xFF1A;http://localhost:9200/oauth/token &#x53C2;&#x6570;&#xFF1A; grant_type&#xFF1A; &#x56FA;&#x5B9A;&#x4E3A; refresh_token refresh_token&#xFF1A;&#x5237;&#x65B0;&#x4EE4;&#x724C;&#xFF08;&#x6CE8;&#x610F;&#x4E0D;&#x662F;access_token&#xFF0C;&#x800C;&#x662F;refresh_token&#xFF09; 4.2.2 &#x5BC6;&#x7801;&#x6A21;&#x5F0F;&#x5BC6;&#x7801;&#x6A21;&#x5F0F;&#xFF08;Resource Owner Password Credentials&#xFF09;&#x4E0E;&#x6388;&#x6743;&#x7801;&#x6A21;&#x5F0F;&#x7684;&#x533A;&#x522B;&#x662F;&#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#x6388;&#x6743;&#x7801;&#xFF0C;&#x800C;&#x662F;&#x76F4;&#x63A5; &#x901A;&#x8FC7;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x5373;&#x53EF;&#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x3002; 4.2.2.1 &#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x6D4B;&#x8BD5;&#x5982;&#x4E0B;&#xFF1A; Post&#x8BF7;&#x6C42;&#xFF1A; http://localhost:9200/oauth/token &#x643A;&#x5E26;&#x53C2;&#x6570;&#xFF1A; grant_type&#xFF1A;&#x5BC6;&#x7801;&#x6A21;&#x5F0F;&#x6388;&#x6743;&#x586B;&#x5199;password username&#xFF1A;&#x8D26;&#x53F7; password&#xFF1A;&#x5BC6;&#x7801; &#x5E76;&#x4E14;&#x6B64;&#x94FE;&#x63A5;&#x9700;&#x8981;&#x4F7F;&#x7528; http Basic&#x8BA4;&#x8BC1;&#x3002; &#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A; 4.3 &#x8D44;&#x6E90;&#x670D;&#x52A1;&#x6388;&#x6743;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x62E5;&#x6709;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x53D7;&#x4FDD;&#x62A4;&#x8D44;&#x6E90;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x643A;&#x5E26;&#x4EE4;&#x724C;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x4EE4;&#x724C;&#x5408;&#x6CD5;&#x5219;&#x53EF;&#x6210;&#x529F;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x4E2D;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;: &#x4E0A;&#x56FE;&#x7684;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;: 1&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x7533;&#x8BF7;&#x4EE4;&#x724C; 2&#x3001;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x751F;&#x6210;&#x4EE4;&#x724C;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x91C7;&#x7528;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#xFF0C;&#x4F7F;&#x7528;&#x79C1;&#x94A5;&#x751F;&#x6210;&#x4EE4;&#x724C;&#x3002; 3&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x643A;&#x5E26;&#x4EE4;&#x724C;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5BA2;&#x6237;&#x7AEF;&#x5728;Http header &#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; Authorization&#xFF1A;Bearer&#x4EE4;&#x724C;&#x3002; 4&#x3001;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x6821;&#x9A8C;&#x4EE4;&#x724C;&#x7684;&#x6709;&#x6548;&#x6027;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x63A5;&#x6536;&#x5230;&#x4EE4;&#x724C;&#xFF0C;&#x4F7F;&#x7528;&#x516C;&#x94A5;&#x6821;&#x9A8C;&#x4EE4;&#x724C;&#x7684;&#x5408;&#x6CD5;&#x6027;&#x3002; 5&#x3001;&#x4EE4;&#x724C;&#x6709;&#x6548;&#xFF0C;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x54CD;&#x5E94;&#x8D44;&#x6E90;&#x4FE1;&#x606F;4.3.1 &#x7528;&#x6237;&#x670D;&#x52A1;&#x5BF9;&#x63A5;Oauth2&#x57FA;&#x672C;&#x4E0A;&#x6240;&#x6709;&#x5FAE;&#x670D;&#x52A1;&#x90FD;&#x662F;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5728;&#x7528;&#x6237;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x4E0A;&#x914D;&#x7F6E;&#x6388;&#x6743;&#x63A7;&#x5236;&#xFF0C;&#x5F53;&#x914D;&#x7F6E;&#x4E86;&#x6388;&#x6743;&#x63A7;&#x5236;&#x540E;&#x5982;&#x8981;&#x8BBF;&#x95EE;&#x5176;&#x5B83;&#x4FE1;&#x606F;&#x5219;&#x5FC5;&#x987B;&#x63D0;&#x4F9B;&#x4EE4;&#x724C;&#x3002; 1&#x3001;&#x914D;&#x7F6E;&#x516C;&#x94A5; &#xFF0C;&#x5C06; changggou_user_auth &#x9879;&#x76EE;&#x4E2D;public.key&#x590D;&#x5236;&#x5230;changgou_service_user&#x4E2D; 2&#x3001;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt; &lt;/dependency&gt;3&#x3001;&#x914D;&#x7F6E;&#x6BCF;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;Http&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x5B89;&#x5168;&#x63A7;&#x5236;&#x7B56;&#x7565;&#x4EE5;&#x53CA;&#x8BFB;&#x53D6;&#x516C;&#x94A5;&#x4FE1;&#x606F;&#x8BC6;&#x522B;&#x4EE4;&#x724C;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; @Configuration @EnableResourceServer @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)//&#x6FC0;&#x6D3B;&#x65B9;&#x6CD5;&#x4E0A;&#x7684;PreAuthorize&#x6CE8;&#x89E3; public class ResourceServerConfig extends ResourceServerConfigurerAdapter { //&#x516C;&#x94A5; private static final String PUBLIC_KEY = &quot;public.key&quot;; /*** * &#x5B9A;&#x4E49;JwtTokenStore * @param jwtAccessTokenConverter * @return */ @Bean public TokenStore tokenStore(JwtAccessTokenConverter jwtAccessTokenConverter) { return new JwtTokenStore(jwtAccessTokenConverter); } /*** * &#x5B9A;&#x4E49;JJwtAccessTokenConverter * @return */ @Bean public JwtAccessTokenConverter jwtAccessTokenConverter() { JwtAccessTokenConverter converter = new JwtAccessTokenConverter(); converter.setVerifierKey(getPubKey()); return converter; } /** * &#x83B7;&#x53D6;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x516C;&#x94A5; Key * @return &#x516C;&#x94A5; Key */ private String getPubKey() { Resource resource = new ClassPathResource(PUBLIC_KEY); try { InputStreamReader inputStreamReader = new InputStreamReader(resource.getInputStream()); BufferedReader br = new BufferedReader(inputStreamReader); return br.lines().collect(Collectors.joining(&quot;\n&quot;)); } catch (IOException ioe) { return null; } } /*** * Http&#x5B89;&#x5168;&#x914D;&#x7F6E;&#xFF0C;&#x5BF9;&#x6BCF;&#x4E2A;&#x5230;&#x8FBE;&#x7CFB;&#x7EDF;&#x7684;http&#x8BF7;&#x6C42;&#x94FE;&#x63A5;&#x8FDB;&#x884C;&#x6821;&#x9A8C; * @param http * @throws Exception */ @Override public void configure(HttpSecurity http) throws Exception { //&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x5FC5;&#x987B;&#x8BA4;&#x8BC1;&#x901A;&#x8FC7; http.authorizeRequests() //&#x4E0B;&#x8FB9;&#x7684;&#x8DEF;&#x5F84;&#x653E;&#x884C; .antMatchers( &quot;/user/add&quot;). //&#x914D;&#x7F6E;&#x5730;&#x5740;&#x653E;&#x884C; permitAll() .anyRequest(). authenticated(); //&#x5176;&#x4ED6;&#x5730;&#x5740;&#x9700;&#x8981;&#x8BA4;&#x8BC1;&#x6388;&#x6743; } }4.3.2 &#x8D44;&#x6E90;&#x670D;&#x52A1;&#x6388;&#x6743;&#x6D4B;&#x8BD5;&#x4E0D;&#x643A;&#x5E26;&#x4EE4;&#x724C;&#x8BBF;&#x95EE;http://localhost:9005/user &#x7531;&#x4E8E;&#x8BE5;&#x5730;&#x5740;&#x53D7;&#x8BBF;&#x95EE;&#x9650;&#x5236;&#xFF0C;&#x9700;&#x8981;&#x6388;&#x6743;&#xFF0C;&#x6240;&#x4EE5;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A; { &quot;error&quot;: &quot;unauthorized&quot;, &quot;error_description&quot;: &quot;Full authentication is required to access this resource&quot; }&#x643A;&#x5E26;&#x4EE4;&#x724C;&#x8BBF;&#x95EE;http://localhost:9005/user &#x5728;http header&#x4E2D;&#x6DFB;&#x52A0; Authorization&#xFF1A; Bearer &#x4EE4;&#x724C; &#x5F53;&#x8F93;&#x5165;&#x9519;&#x8BEF;&#x7684;&#x4EE4;&#x724C;&#x4E5F;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x3002; 5 &#x8BA4;&#x8BC1;&#x5F00;&#x53D1;5.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x529F;&#x80FD;&#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x6267;&#x884C;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x767B;&#x5F55;&#xFF0C;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1; 2&#x3001;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x8BA4;&#x8BC1;&#x901A;&#x8FC7;&#xFF0C;&#x751F;&#x6210;jwt&#x4EE4;&#x724C;&#xFF0C;&#x5C06;jwt&#x4EE4;&#x724C;&#x53CA;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x5199;&#x5165;Redis&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x8EAB;&#x4EFD;&#x4EE4;&#x724C;&#x5199;&#x5165;cookie 3&#x3001;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x9875;&#x9762;&#xFF0C;&#x5E26;&#x7740;cookie&#x5230;&#x7F51;&#x5173; 4&#x3001;&#x7F51;&#x5173;&#x4ECE;cookie&#x83B7;&#x53D6;token&#xFF0C;&#x5E76;&#x67E5;&#x8BE2;Redis&#x6821;&#x9A8C;token,&#x5982;&#x679C;token&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#xFF0C;&#x5426;&#x5219;&#x653E;&#x884C; 5&#x3001;&#x7528;&#x6237;&#x9000;&#x51FA;&#xFF0C;&#x8BF7;&#x6C42;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#xFF0C;&#x6E05;&#x9664;redis&#x4E2D;&#x7684;token&#xFF0C;&#x5E76;&#x4E14;&#x5220;&#x9664;cookie&#x4E2D;&#x7684;token &#x4F7F;&#x7528;redis&#x5B58;&#x50A8;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x4EE4;&#x724C;&#x6709;&#x4EE5;&#x4E0B;&#x4F5C;&#x7528;&#xFF1A; 1&#x3001;&#x5B9E;&#x73B0;&#x7528;&#x6237;&#x9000;&#x51FA;&#x6CE8;&#x9500;&#x529F;&#x80FD;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x6E05;&#x9664;&#x4EE4;&#x724C;&#x540E;&#xFF0C;&#x5373;&#x4F7F;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x643A;&#x5E26;token&#x4E5F;&#x662F;&#x65E0;&#x6548;&#x7684;&#x3002; 2&#x3001;&#x7531;&#x4E8E;jwt&#x4EE4;&#x724C;&#x8FC7;&#x957F;&#xFF0C;&#x4E0D;&#x5B9C;&#x5B58;&#x50A8;&#x5728;cookie&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x5C06;jwt&#x4EE4;&#x724C;&#x5B58;&#x50A8;&#x5728;redis&#xFF0C;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x83B7;&#x53D6;&#x5E76;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8;&#x3002; 5.2 Redis&#x914D;&#x7F6E;&#x5C06;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;changgou_user_auth&#x4E2D;&#x7684;application.yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;Redis&#x914D;&#x7F6E;&#x6539;&#x6210;&#x81EA;&#x5DF1;&#x5BF9;&#x5E94;&#x7684;&#x7AEF;&#x53E3;&#x548C;&#x5BC6;&#x7801;&#x3002; 5.3 &#x8BA4;&#x8BC1;&#x670D;&#x52A1;5.3.1 &#x8BA4;&#x8BC1;&#x9700;&#x6C42;&#x5206;&#x6790;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x529F;&#x80FD;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x767B;&#x5F55;&#x63A5;&#x53E3; &#x524D;&#x7AEF;post&#x63D0;&#x4EA4;&#x8D26;&#x53F7;&#x3001;&#x5BC6;&#x7801;&#x7B49;&#xFF0C;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x6821;&#x9A8C;&#x901A;&#x8FC7;&#xFF0C;&#x751F;&#x6210;&#x4EE4;&#x724C;&#xFF0C;&#x5E76;&#x5C06;&#x4EE4;&#x724C;&#x5B58;&#x50A8;&#x5230;redis&#x3002; &#x5C06;&#x4EE4;&#x724C;&#x5199;&#x5165;cookie&#x3002; 2&#x3001;&#x9000;&#x51FA;&#x63A5;&#x53E3; &#x6821;&#x9A8C;&#x5F53;&#x524D;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x4E3A;&#x5408;&#x6CD5;&#x5E76;&#x4E14;&#x4E3A;&#x5DF2;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x3002; &#x5C06;&#x4EE4;&#x724C;&#x4ECE;redis&#x5220;&#x9664;&#x3002; &#x5220;&#x9664;cookie&#x4E2D;&#x7684;&#x4EE4;&#x724C;&#x3002; 5.3.2 &#x6388;&#x6743;&#x53C2;&#x6570;&#x914D;&#x7F6E;&#x4FEE;&#x6539;changgou_user_auth&#x4E2D;application.yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x4FEE;&#x6539;&#x5BF9;&#x5E94;&#x7684;&#x6388;&#x6743;&#x914D;&#x7F6E; auth: ttl: 1200 #token&#x5B58;&#x50A8;&#x5230;redis&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4; clientId: changgou #&#x5BA2;&#x6237;&#x7AEF;ID clientSecret: changgou #&#x5BA2;&#x6237;&#x7AEF;&#x79D8;&#x94A5; cookieDomain: localhost #Cookie&#x4FDD;&#x5B58;&#x5BF9;&#x5E94;&#x7684;&#x57DF;&#x540D; cookieMaxAge: -1 #Cookie&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;-1&#x8868;&#x793A;&#x6D4F;&#x89C8;&#x5668;&#x5173;&#x95ED;&#x5219;&#x9500;&#x6BC1;5.3.3 &#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x6D4B;&#x8BD5;&#x4E3A;&#x4E86;&#x4E0D;&#x7834;&#x574F;Spring Security&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x6211;&#x4EEC;&#x5728;Service&#x65B9;&#x6CD5;&#x4E2D;&#x901A;&#x8FC7;RestTemplate&#x8BF7;&#x6C42;Spring Security&#x6240;&#x66B4;&#x9732;&#x7684;&#x7533;&#x8BF7;&#x4EE4; &#x724C;&#x63A5;&#x53E3;&#x6765;&#x7533;&#x8BF7;&#x4EE4;&#x724C;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#xFF1A; package com.changgou.oauth; import org.junit.Test; import org.junit.runner.RunWith; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.test.context.SpringBootTest; import org.springframework.cloud.client.ServiceInstance; import org.springframework.cloud.client.loadbalancer.LoadBalancerClient; import org.springframework.http.HttpEntity; import org.springframework.http.HttpMethod; import org.springframework.http.ResponseEntity; import org.springframework.http.client.ClientHttpResponse; import org.springframework.test.context.junit4.SpringRunner; import org.springframework.util.Base64Utils; import org.springframework.util.LinkedMultiValueMap; import org.springframework.util.MultiValueMap; import org.springframework.web.client.DefaultResponseErrorHandler; import org.springframework.web.client.RestTemplate; import java.io.IOException; import java.net.URI; import java.util.Map; @SpringBootTest @RunWith(SpringRunner.class) public class ApplyTokenTest { @Autowired private LoadBalancerClient loadBalancerClient; @Autowired private RestTemplate restTemplate; /**** * &#x53D1;&#x9001;Http&#x8BF7;&#x6C42;&#x521B;&#x5EFA;&#x4EE4;&#x724C; */ @Test public void testCreateToken() throws InterruptedException { //&#x91C7;&#x7528;&#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x4ECE;eureka&#x83B7;&#x53D6;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x7684;ip &#x548C;&#x7AEF;&#x53E3; ServiceInstance serviceInstance = loadBalancerClient.choose(&quot;USER-AUTH&quot;); URI uri = serviceInstance.getUri(); //&#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x5730;&#x5740; String authUrl = uri + &quot;/oauth/token&quot;; //1&#x3001;header&#x4FE1;&#x606F;&#xFF0C;&#x5305;&#x62EC;&#x4E86;http basic&#x8BA4;&#x8BC1;&#x4FE1;&#x606F; MultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;String, String&gt;(); //&#x8FDB;&#x884C;Base64&#x7F16;&#x7801;,&#x5E76;&#x5C06;&#x7F16;&#x7801;&#x540E;&#x7684;&#x8BA4;&#x8BC1;&#x6570;&#x636E;&#x653E;&#x5230;&#x5934;&#x6587;&#x4EF6;&#x4E2D; String httpbasic = httpbasic(&quot;changgou&quot;, &quot;changgou&quot;); headers.add(&quot;Authorization&quot;, httpbasic); //2&#x3001;&#x6307;&#x5B9A;&#x8BA4;&#x8BC1;&#x7C7B;&#x578B;&#x3001;&#x8D26;&#x53F7;&#x3001;&#x5BC6;&#x7801; MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;String, String&gt;(); body.add(&quot;grant_type&quot;,&quot;password&quot;); body.add(&quot;username&quot;,&quot;itheima&quot;); body.add(&quot;password&quot;,&quot;itheima&quot;); HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; multiValueMapHttpEntity = new HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt;(body, headers); //&#x6307;&#x5B9A; restTemplate&#x5F53;&#x9047;&#x5230;400&#x6216;401&#x54CD;&#x5E94;&#x65F6;&#x5019;&#x4E5F;&#x4E0D;&#x8981;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x4E5F;&#x8981;&#x6B63;&#x5E38;&#x8FD4;&#x56DE;&#x503C; restTemplate.setErrorHandler(new DefaultResponseErrorHandler() { @Override public void handleError(ClientHttpResponse response) throws IOException { //&#x5F53;&#x54CD;&#x5E94;&#x7684;&#x503C;&#x4E3A;400&#x6216;401&#x65F6;&#x5019;&#x4E5F;&#x8981;&#x6B63;&#x5E38;&#x54CD;&#x5E94;&#xFF0C;&#x4E0D;&#x8981;&#x629B;&#x51FA;&#x5F02;&#x5E38; if (response.getRawStatusCode() != 400 &amp;&amp; response.getRawStatusCode() != 401) { super.handleError(response); } } }); //&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7533;&#x8BF7;&#x4EE4;&#x724C; ResponseEntity&lt;Map&gt; exchange = restTemplate.exchange(authUrl, HttpMethod.POST, multiValueMapHttpEntity, Map.class); Map result = exchange.getBody(); System.out.println(result); while (true) { } } /*** * base64&#x7F16;&#x7801; * @param clientId * @param clientSecret * @return */ private String httpbasic(String clientId,String clientSecret){ //&#x5C06;&#x5BA2;&#x6237;&#x7AEF;id&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x5BC6;&#x7801;&#x62FC;&#x63A5;&#xFF0C;&#x6309;&#x201C;&#x5BA2;&#x6237;&#x7AEF;id:&#x5BA2;&#x6237;&#x7AEF;&#x5BC6;&#x7801;&#x201D; String string = clientId+&quot;:&quot;+clientSecret; //&#x8FDB;&#x884C;base64&#x7F16;&#x7801; byte[] encode = Base64Utils.encode(string.getBytes()); return &quot;Basic &quot;+new String(encode); } }&#x6709;&#x5751; &#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x4E0D;&#x5BF9; &#x8FD9;&#x91CC;&#x53EA;&#x6821;&#x9A8C;&#x4E86;&#x5BC6;&#x7801;&#x6CA1;&#x6709;&#x6821;&#x9A8C;&#x8D26;&#x53F7; 5.3.4 &#x4E1A;&#x52A1;&#x5C42;AuthService&#x63A5;&#x53E3;&#xFF1A; public interface AuthService { AuthToken login(String username, String password, String clientId, String clientSecret); }AuthServiceImpl&#x5B9E;&#x73B0;&#x7C7B;&#xFF1A; &#x57FA;&#x4E8E;&#x521A;&#x624D;&#x5199;&#x7684;&#x6D4B;&#x8BD5;&#x5B9E;&#x73B0;&#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x7684;service&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; @Service public class AuthServiceImpl implements AuthService { @Autowired private RestTemplate restTemplate; @Autowired private LoadBalancerClient loadBalancerClient; @Autowired private StringRedisTemplate stringRedisTemplate; @Value(&quot;${auth.ttl}&quot;) private long ttl; /** * &#x7533;&#x8BF7;&#x4EE4;&#x724C; * @param username * @param password * @param clientId * @param clientSecret * @return */ @Override public AuthToken applyToken(String username, String password, String clientId, String clientSecret) { ServiceInstance serviceInstance = loadBalancerClient.choose(&quot;user-auth&quot;); URI uri = serviceInstance.getUri(); String url = uri+&quot;/oauth/token&quot;; MultiValueMap&lt;String, String&gt; body = new LinkedMultiValueMap&lt;&gt;(); body.add(&quot;grant_type&quot;,&quot;password&quot;); body.add(&quot;username&quot;,username); body.add(&quot;password&quot;,password); MultiValueMap&lt;String, String&gt; headers = new LinkedMultiValueMap&lt;&gt;(); headers.add(&quot;Authorization&quot;,this.getHttpBasic(clientId,clientSecret)); HttpEntity&lt;MultiValueMap&lt;String, String&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body,headers); restTemplate.setErrorHandler(new DefaultResponseErrorHandler(){ @Override public void handleError(ClientHttpResponse response) throws IOException { if (response.getRawStatusCode()!=400 &amp;&amp; response.getRawStatusCode()!=401){ super.handleError(response); } } }); ResponseEntity&lt;Map&gt; responseEntity = restTemplate.exchange(url, HttpMethod.POST, requestEntity, Map.class); Map map = responseEntity.getBody(); if (map==null || map.get(&quot;access_token&quot;)==null || map.get(&quot;refresh_token&quot;)==null || map.get(&quot;jti&quot;)==null){ throw new RuntimeException(&quot;&#x7533;&#x8BF7;&#x4EE4;&#x724C;&#x5931;&#x8D25;&quot;); } AuthToken authToken = new AuthToken(); authToken.setAccessToken((String) map.get(&quot;access_token&quot;)); authToken.setRefreshToken((String) map.get(&quot;refresh_token&quot;)); authToken.setJti((String) map.get(&quot;jti&quot;)); stringRedisTemplate.boundValueOps(authToken.getJti()).set(authToken.getAccessToken(),ttl, TimeUnit.SECONDS); return authToken; } private String getHttpBasic(String clientId, String clientSecret) { String value = clientId+&quot;:&quot;+clientSecret; byte[] encode = Base64Utils.encode(value.getBytes()); return &quot;Basic &quot;+new String(encode); } }5.3.5 &#x63A7;&#x5236;&#x5C42;AuthController&#x7F16;&#x5199;&#x7528;&#x6237;&#x767B;&#x5F55;&#x6388;&#x6743;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @RestController @RequestMapping(&quot;/oauth&quot;) public class AuthController { @Autowired private AuthService authService; @Value(&quot;${auth.clientId}&quot;) private String clientId; @Value(&quot;${auth.clientSecret}&quot;) private String clientSecret; @Value(&quot;${auth.cookieDomain}&quot;) private String cookieDomain; @Value(&quot;${auth.cookieMaxAge}&quot;) private int cookieMaxAge; @PostMapping(&quot;/login&quot;) public Result login(String username,String password){ if (StringUtils.isEmpty(username)){ throw new RuntimeException(&quot;&#x7528;&#x6237;&#x540D;&#x4E0D;&#x5B58;&#x5728;&quot;); } if (StringUtils.isEmpty(password)){ throw new RuntimeException(&quot;&#x5BC6;&#x7801;&#x4E0D;&#x5B58;&#x5728;&quot;); } AuthToken authToken = authService.applyToken(username,password,clientId,clientSecret); this.saveJtiToCookie(authToken.getJti()); return new Result(true, StatusCode.OK,&quot;&#x767B;&#x5F55;&#x6210;&#x529F;&quot;); } private void saveJtiToCookie(String jti) { HttpServletResponse response = ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getResponse(); CookieUtil.addCookie(response,cookieDomain,&quot;/&quot;,&quot;uid&quot;,jti,cookieMaxAge,false); } }5.3.6 &#x767B;&#x5F55;&#x8BF7;&#x6C42;&#x653E;&#x884C;&#x4FEE;&#x6539;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;WebSecurityConfig&#x7C7B;&#x4E2D;configure&#xFF08;&#xFF09;&#xFF0C;&#x6DFB;&#x52A0;&#x653E;&#x884C;&#x8DEF;&#x5F84; 5.3.7 &#x6D4B;&#x8BD5;&#x8BA4;&#x8BC1;&#x63A5;&#x53E3;&#x4F7F;&#x7528;postman&#x6D4B;&#x8BD5;&#xFF1A; 1)Post&#x8BF7;&#x6C42;&#xFF1A;http://localhost:9200/oauth/login 5.3.8 &#x52A8;&#x6001;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x5F53;&#x524D;&#x5728;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x4E2D;&#xFF0C;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x662F;&#x5199;&#x6B7B;&#x5728;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x7C7B;&#x4E2D;&#x3002;&#x6240;&#x4EE5;&#x7528;&#x6237;&#x767B;&#x5F55;&#x65F6;&#xFF0C;&#x65E0;&#x8BBA;&#x5E10;&#x53F7;&#x8F93;&#x5165;&#x4EC0;&#x4E48;&#xFF0C;&#x53EA;&#x8981;&#x5BC6;&#x7801;&#x662F;itheima&#x90FD;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x3002; &#x56E0;&#x6B64;&#x9700;&#x8981;&#x52A8;&#x6001;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5E10;&#x53F7;&#x4E0E;&#x5BC6;&#x7801;. 5.3.8.1 &#x5B9A;&#x4E49;&#x88AB;&#x8BBF;&#x95EE;&#x63A5;&#x53E3;&#x7528;&#x6237;&#x5FAE;&#x670D;&#x52A1;&#x5BF9;&#x5916;&#x66B4;&#x9732;&#x6839;&#x636E;&#x7528;&#x6237;&#x540D;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x63A5;&#x53E3; @GetMapping(&quot;/load/{username}&quot;) public User findUserInfo(@PathVariable(&quot;username&quot;) String username){ return userService.findById(username); }5.3.8.2 &#x653E;&#x884C;&#x8BE5;&#x63A5;&#x53E3;&#xFF0C;&#x4FEE;&#x6539;ResourceServerConfig&#x7C7B; 5.3.8.3&#x5B9A;&#x4E49;feign&#x63A5;&#x53E3;changgou_user_server_api&#x65B0;&#x589E;feign&#x63A5;&#x53E3; @FeignClient(name=&quot;user&quot;) public interface UserFeign { @GetMapping(&quot;/user/load/{username}&quot;) public User findUserInfo(@PathVariable(&quot;username&quot;) String username); }5.3.8.4 &#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_service_user_api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt;5.3.8.5 &#x4FEE;&#x6539;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x542F;&#x52A8;&#x7C7B;@EnableFeignClients(basePackages = &quot;com.changgou.user.feign&quot;)5.3.8.6 &#x4FEE;&#x6539;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x7C7B; &#x6D4B;&#x8BD5;&#xFF1A; &#x91CD;&#x65B0;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x5E76;&#x7533;&#x8BF7;&#x4EE4;&#x724C; 6 &#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x5BF9;&#x63A5;&#x7F51;&#x5173;6.1 &#x65B0;&#x5EFA;&#x7F51;&#x5173;&#x5DE5;&#x7A0B;changgou_gateway_web1) changgou_gateway&#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;!--&#x7F51;&#x5173;&#x4F9D;&#x8D56;--&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!--redis--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt; &lt;version&gt;2.1.3.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;2) &#x65B0;&#x5EFA;&#x5DE5;&#x7A0B;changgou_gateway_web,&#x5E76;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B; @SpringBootApplication @EnableDiscoveryClient public class WebGateWayApplication { public static void main(String[] args) { SpringApplication.run(WebGateWayApplication.class,args); } }3) &#x521B;&#x5EFA;application.yml spring: application: name: gateway-web cloud: gateway: globalcors: cors-configurations: &apos;[/**]&apos;: # &#x5339;&#x914D;&#x6240;&#x6709;&#x8BF7;&#x6C42; allowedOrigins: &quot;*&quot; #&#x8DE8;&#x57DF;&#x5904;&#x7406; &#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;&#x57DF; allowedMethods: # &#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5; - GET - POST - PUT - DELETE routes: - id: changgou_goods_route uri: lb://goods predicates: - Path=/api/album/**,/api/brand/**,/api/cache/**,/api/categoryBrand/**,/api/category/**,/api/para/**,/api/pref/**,/api/sku/**,/api/spec/**,/api/spu/**,/api/stockBack/**,/api/template/** filters: #- PrefixPath=/brand - StripPrefix=1 #&#x7528;&#x6237;&#x5FAE;&#x670D;&#x52A1; - id: changgou_user_route uri: lb://user predicates: - Path=/api/user/**,/api/address/**,/api/areas/**,/api/cities/**,/api/provinces/** filters: - StripPrefix=1 #&#x8BA4;&#x8BC1;&#x5FAE;&#x670D;&#x52A1; - id: changgou_oauth_user uri: lb://user-auth predicates: - Path=/api/oauth/** filters: - StripPrefix=1 redis: host: 192.168.200.128 server: port: 8001 eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: true management: endpoint: gateway: enabled: true web: exposure: include: true6.2 &#x7F51;&#x5173;&#x5168;&#x5C40;&#x8FC7;&#x6EE4;&#x5668; &#x65B0;&#x5EFA;&#x8FC7;&#x6EE4;&#x5668;&#x7C7B;AuthorizeFilter,&#x5BF9;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4; &#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF1A; 1&#xFF09;&#x5224;&#x65AD;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x4E3A;&#x767B;&#x5F55;&#x8BF7;&#x6C42;&#xFF0C;&#x662F;&#x7684;&#x8BDD;&#xFF0C;&#x5219;&#x653E;&#x884C; 2) &#x5224;&#x65AD;cookie&#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4FE1;&#x606F;, &#x6CA1;&#x6709;&#x7684;&#x8BDD;&#xFF0C;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE; 3&#xFF09;&#x5224;&#x65AD;redis&#x4E2D;&#x4EE4;&#x724C;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#xFF0C;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE; @Component public class AuthFilter implements GlobalFilter, Ordered { public static final String Authorization = &quot;Authorization&quot;; @Autowired private AuthService authService; @Override public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) { //&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61; ServerHttpRequest request = exchange.getRequest(); ServerHttpResponse response = exchange.getResponse(); String path = request.getURI().getPath(); if (&quot;/api/oauth/login&quot;.equals(path)){ //&#x653E;&#x884C; return chain.filter(exchange); } //&#x5224;&#x65AD;cookie&#x4E0A;&#x662F;&#x5426;&#x5B58;&#x5728;jti String jti = authService.getJtiFromCookie(request); if (StringUtils.isEmpty(jti)){ //&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;,&#x8BF7;&#x6C42;&#x8DF3;&#x8F6C; response.setStatusCode(HttpStatus.UNAUTHORIZED); return response.setComplete(); } //&#x5224;&#x65AD;redis&#x4E2D;token&#x662F;&#x5426;&#x5B58;&#x5728; String redisToken = authService.getTokenFromRedis(jti); if (StringUtils.isEmpty(redisToken)){ //&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#xFF0C;&#x8BF7;&#x6C42;&#x8DF3;&#x8F6C; response.setStatusCode(HttpStatus.UNAUTHORIZED); return response.setComplete(); } //&#x6821;&#x9A8C;&#x901A;&#x8FC7; , &#x8BF7;&#x6C42;&#x5934;&#x589E;&#x5F3A;&#xFF0C;&#x653E;&#x884C; request.mutate().header(Authorization,&quot;Bearer &quot;+redisToken); return chain.filter(exchange); } @Override public int getOrder() { return 0; } }&#x65B0;&#x5EFA;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7C7B;AuthService @Service public class AuthService { @Autowired private StringRedisTemplate stringRedisTemplate; /** * &#x5224;&#x65AD;cookie&#x4E2D;jti&#x662F;&#x5426;&#x5B58;&#x5728; * @param request * @return */ public String getJtiFromCookie(ServerHttpRequest request) { HttpCookie cookie = request.getCookies().getFirst(&quot;uid&quot;); if (cookie!=null){ return cookie.getValue(); } return null; } /** * &#x5224;&#x65AD;redis&#x4E2D;&#x4EE4;&#x724C;&#x662F;&#x5426;&#x8FC7;&#x671F; * @param jti * @return */ public String getTokenFromRedis(String jti) { String token = stringRedisTemplate.boundValueOps(jti).get(); return token; } }&#x6D4B;&#x8BD5;: &#x6E05;&#x9664;postman&#x4E2D;&#x7684;cookie&#x6570;&#x636E;&#xFF0C;&#x5728;&#x672A;&#x767B;&#x5F55;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E76;&#x8BBF;&#x95EE;&#xFF1A; http://localhost:8001/api/user &#x3002;&#x4F1A;&#x8FD4;&#x56DE;401&#x5F02;&#x5E38;&#x4FE1;&#x606F; &#x8BBF;&#x95EE;&#xFF1A;http://localhost:8001/api/oauth/login&#xFF0C;&#x5E76;&#x91CD;&#x65B0;&#x6D4B;&#x8BD5;&#x3002;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x6D4B;&#x8BD5;&#x901A;&#x8FC7;&#xFF0C;&#x62FF;&#x5230;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x6570;&#x636E; &#x5751; &#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x90FD;&#x4E3A;itheima &#x6D4B;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x53BB;&#x6389;user-oauth&#x91CC;&#x9762;&#x7684;&#x5224;&#x65AD; if (&quot;/api/oauth/login&quot;.equals(path) || !UrlFilter.hasAuthorize(path)7 &#x81EA;&#x5B9A;&#x4E49;&#x767B;&#x5F55;&#x9875;&#x9762;7.1 &#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&lt;!--thymeleaf--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt;7.2 &#x8D44;&#x6E90;\&#x6210;&#x54C1;&#x9875;&#x9762;\&#x767B;&#x5F55;&#x9875;&#x9762; 7.3 &#x628A;&#x9875;&#x9762;&#x653E;&#x5230;&#x4E0B;&#x9762;&#x7684;&#x9879;&#x76EE;&#x4E2D; 7.4 &#x9759;&#x6001;&#x8D44;&#x6E90;&#x653E;&#x884C;&#x4FEE;&#x6539;WebSecurityConfig&#x7C7B; web.ignoring().antMatchers( &quot;/oauth/login&quot;, &quot;/oauth/logout&quot;,&quot;/oauth/toLogin&quot;,&quot;/login.html&quot;,&quot;/css/**&quot;,&quot;/data/**&quot;,&quot;/fonts/**&quot;,&quot;/img/**&quot;,&quot;/js/**&quot;);&#x6DFB;&#x52A0;&#x5F00;&#x542F;&#x8868;&#x5355;&#x767B;&#x5F55; 7.5 LoginRedirectController@Controller @RequestMapping(&quot;/oauth&quot;) public class LoginRedirectController { @RequestMapping(&quot;/toLogin&quot;) public String toLogin(){ return &quot;login&quot;; } }7.6 &#x4FEE;&#x6539;&#x767B;&#x5F55;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x7528;&#x6237;&#x767B;&#x5F55; 7.7 &#x5B9A;&#x4E49;login&#x65B9;&#x6CD5;&lt;script th:inline=&quot;javascript&quot;&gt; var app = new Vue({ el:&quot;#app&quot;, data:{ username:&quot;&quot;, password:&quot;&quot;, msg:&quot;&quot; }, methods:{ login:function(){ app.msg=&quot;&#x6B63;&#x5728;&#x767B;&#x5F55;&quot;; axios.post(&quot;/api/oauth/login?username=&quot;+app.username+&quot;&amp;password=&quot;+app.password).then(function (response) { if (response.data.flag){ app.msg=&quot;&#x767B;&#x5F55;&#x6210;&#x529F;&quot;; }else{ app.msg=&quot;&#x767B;&#x5F55;&#x5931;&#x8D25;&quot;; } }) } } }) &lt;/script&gt;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84;&#x8FC7;&#x6EE4; public class URLFilter { public static String filterPath = &quot;/api/wseckillorder,/api/seckill,/api/wxpay,/api/wxpay/**,/api/worder/**,/api/user/**,/api/address/**,/api/wcart/**,/api/cart/**,/api/categoryReport/**,/api/orderConfig/**,/api/order/**,/api/orderItem/**,/api/orderLog/**,/api/preferential/**,/api/returnCause/**,/api/returnOrder/**,/api/returnOrderItem/**&quot;; public static boolean hasAuthorize(String url){ String[] split = filterPath.replace(&quot;**&quot;, &quot;&quot;).split(&quot;,&quot;); for (String value : split) { if (url.startsWith(value)){ return true; } } return false; } }7.8 &#x6D4B;&#x8BD5;&#x8BBF;&#x95EE;&#xFF1A;http://localhost:9200/oauth/toLogin document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-08-xiang-qing-ye-mian%2Fchang-gou-08-xiang-qing-ye-mian.html</url>
    <content type="text"><![CDATA[&#x7B2C;8&#x7AE0; Thymeleaf&#x5B66;&#x4E60;&#x76EE;&#x6807; Thymeleaf&#x7684;&#x4ECB;&#x7ECD; Thymeleaf&#x7684;&#x5165;&#x95E8; Thymeleaf&#x7684;&#x8BED;&#x6CD5;&#x53CA;&#x6807;&#x7B7E; &#x641C;&#x7D22;&#x9875;&#x9762;&#x6E32;&#x67D3; &#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#x9759;&#x6001;&#x5316;&#x529F;&#x80FD;&#x5B9E;&#x73B0; 1.Thymeleaf&#x4ECB;&#x7ECD;thymeleaf&#x662F;&#x4E00;&#x4E2A;XML/XHTML/HTML5&#x6A21;&#x677F;&#x5F15;&#x64CE;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;Web&#x4E0E;&#x975E;Web&#x73AF;&#x5883;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x3002;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;Java&#x5E93;&#xFF0C;&#x57FA;&#x4E8E;Apache License 2.0&#x8BB8;&#x53EF;&#xFF0C;&#x7531;Daniel Fern&#xE1;ndez&#x521B;&#x5EFA;&#xFF0C;&#x8BE5;&#x4F5C;&#x8005;&#x8FD8;&#x662F;Java&#x52A0;&#x5BC6;&#x5E93;Jasypt&#x7684;&#x4F5C;&#x8005;&#x3002; Thymeleaf&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;&#x6574;&#x5408;Spring MVC&#x7684;&#x53EF;&#x9009;&#x6A21;&#x5757;&#xFF0C;&#x5728;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Thymeleaf&#x6765;&#x5B8C;&#x5168;&#x4EE3;&#x66FF;JSP&#x6216;&#x5176;&#x4ED6;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#xFF0C;&#x5982;Velocity&#x3001;FreeMarker&#x7B49;&#x3002;Thymeleaf&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x6807;&#x5728;&#x4E8E;&#x63D0;&#x4F9B;&#x4E00;&#x79CD;&#x53EF;&#x88AB;&#x6D4F;&#x89C8;&#x5668;&#x6B63;&#x786E;&#x663E;&#x793A;&#x7684;&#x3001;&#x683C;&#x5F0F;&#x826F;&#x597D;&#x7684;&#x6A21;&#x677F;&#x521B;&#x5EFA;&#x65B9;&#x5F0F;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4F5C;&#x9759;&#x6001;&#x5EFA;&#x6A21;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B83;&#x521B;&#x5EFA;&#x7ECF;&#x8FC7;&#x9A8C;&#x8BC1;&#x7684;XML&#x4E0E;HTML&#x6A21;&#x677F;&#x3002;&#x76F8;&#x5BF9;&#x4E8E;&#x7F16;&#x5199;&#x903B;&#x8F91;&#x6216;&#x4EE3;&#x7801;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EA;&#x9700;&#x5C06;&#x6807;&#x7B7E;&#x5C5E;&#x6027;&#x6DFB;&#x52A0;&#x5230;&#x6A21;&#x677F;&#x4E2D;&#x5373;&#x53EF;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x8FD9;&#x4E9B;&#x6807;&#x7B7E;&#x5C5E;&#x6027;&#x5C31;&#x4F1A;&#x5728;DOM&#xFF08;&#x6587;&#x6863;&#x5BF9;&#x8C61;&#x6A21;&#x578B;&#xFF09;&#x4E0A;&#x6267;&#x884C;&#x9884;&#x5148;&#x5236;&#x5B9A;&#x597D;&#x7684;&#x903B;&#x8F91;&#x3002; &#x5B83;&#x7684;&#x7279;&#x70B9;&#x4FBF;&#x662F;&#xFF1A;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#xFF0C;Thymeleaf&#x5141;&#x8BB8;&#x60A8;&#x5904;&#x7406;&#x516D;&#x79CD;&#x6A21;&#x677F;&#xFF0C;&#x6BCF;&#x79CD;&#x6A21;&#x677F;&#x79F0;&#x4E3A;&#x6A21;&#x677F;&#x6A21;&#x5F0F;&#xFF1A; XML &#x6709;&#x6548;&#x7684;XML XHTML &#x6709;&#x6548;&#x7684;XHTML HTML5 &#x65E7;&#x7248;HTML5 &#x6240;&#x6709;&#x8FD9;&#x4E9B;&#x6A21;&#x5F0F;&#x90FD;&#x6307;&#x7684;&#x662F;&#x683C;&#x5F0F;&#x826F;&#x597D;&#x7684;XML&#x6587;&#x4EF6;&#xFF0C;&#x4F46;Legacy HTML5&#x6A21;&#x5F0F;&#x9664;&#x5916;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x60A8;&#x5904;&#x7406;HTML5&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x72EC;&#x7ACB;&#xFF08;&#x975E;&#x5173;&#x95ED;&#xFF09;&#x6807;&#x8BB0;&#xFF0C;&#x6CA1;&#x6709;&#x503C;&#x7684;&#x6807;&#x8BB0;&#x5C5E;&#x6027;&#x6216;&#x4E0D;&#x5728;&#x5F15;&#x53F7;&#x4E4B;&#x95F4;&#x5199;&#x5165;&#x7684;&#x6807;&#x8BB0;&#x5C5E;&#x6027;&#x3002;&#x4E3A;&#x4E86;&#x5728;&#x8FD9;&#x79CD;&#x7279;&#x5B9A;&#x6A21;&#x5F0F;&#x4E0B;&#x5904;&#x7406;&#x6587;&#x4EF6;&#xFF0C;Thymeleaf&#x5C06;&#x9996;&#x5148;&#x6267;&#x884C;&#x8F6C;&#x6362;&#xFF0C;&#x5C06;&#x60A8;&#x7684;&#x6587;&#x4EF6;&#x8F6C;&#x6362;&#x4E3A;&#x683C;&#x5F0F;&#x826F;&#x597D;&#x7684;XML&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x4ECD;&#x7136;&#x662F;&#x5B8C;&#x5168;&#x6709;&#x6548;&#x7684;HTML5&#xFF08;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x521B;&#x5EFA;HTML5&#x4EE3;&#x7801;&#x7684;&#x63A8;&#x8350;&#x65B9;&#x6CD5;&#xFF09;1&#x3002; &#x53E6;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x9A8C;&#x8BC1;&#x4EC5;&#x9002;&#x7528;&#x4E8E;XML&#x548C;XHTML&#x6A21;&#x677F;&#x3002; &#x7136;&#x800C;&#xFF0C;&#x8FD9;&#x4E9B;&#x5E76;&#x4E0D;&#x662F;Thymeleaf&#x53EF;&#x4EE5;&#x5904;&#x7406;&#x7684;&#x552F;&#x4E00;&#x6A21;&#x677F;&#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x4E14;&#x7528;&#x6237;&#x59CB;&#x7EC8;&#x80FD;&#x591F;&#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x5728;&#x6B64;&#x6A21;&#x5F0F;&#x4E0B;&#x89E3;&#x6790;&#x6A21;&#x677F;&#x7684;&#x65B9;&#x6CD5;&#x548C;&#x7F16;&#x5199;&#x7ED3;&#x679C;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5B9A;&#x4E49;&#x4ED6;/&#x5979;&#x81EA;&#x5DF1;&#x7684;&#x6A21;&#x5F0F;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x4EFB;&#x4F55;&#x53EF;&#x4EE5;&#x5EFA;&#x6A21;&#x4E3A;DOM&#x6811;&#xFF08;&#x65E0;&#x8BBA;&#x662F;&#x5426;&#x4E3A;XML&#xFF09;&#x7684;&#x4E1C;&#x897F;&#x90FD;&#x53EF;&#x4EE5;&#x88AB;Thymeleaf&#x6709;&#x6548;&#x5730;&#x4F5C;&#x4E3A;&#x6A21;&#x677F;&#x5904;&#x7406;&#x3002; 2.Springboot&#x6574;&#x5408;thymeleaf&#x4F7F;&#x7528;springboot &#x6765;&#x96C6;&#x6210;&#x4F7F;&#x7528;Thymeleaf&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x5355;&#x7EAF;&#x4F7F;&#x7528;thymleaf&#x7684;&#x4EE3;&#x7801;&#x91CF;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x6765;&#x4F7F;&#x7528;springboot&#x96C6;&#x6210;&#x4F7F;&#x7528;thymeleaf. &#x5B9E;&#x73B0;&#x7684;&#x6B65;&#x9AA4;&#x4E3A;&#xFF1A; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;sprinboot&#x9879;&#x76EE; &#x6DFB;&#x52A0;thymeleaf&#x7684;&#x8D77;&#x6B65;&#x4F9D;&#x8D56; &#x6DFB;&#x52A0;spring web&#x7684;&#x8D77;&#x6B65;&#x4F9D;&#x8D56; &#x7F16;&#x5199;html &#x4F7F;&#x7528;thymleaf&#x7684;&#x8BED;&#x6CD5;&#x83B7;&#x53D6;&#x53D8;&#x91CF;&#x5BF9;&#x5E94;&#x540E;&#x53F0;&#x4F20;&#x9012;&#x7684;&#x503C; &#x7F16;&#x5199;controller &#x8BBE;&#x7F6E;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x5230;model&#x4E2D; (1)&#x521B;&#x5EFA;&#x5DE5;&#x7A0B; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x5DE5;&#x7A0B;springboot-thymeleaf,&#x8BE5;&#x5DE5;&#x7A0B;&#x4E3A;&#x6848;&#x4F8B;&#x5DE5;&#x7A0B;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x653E;&#x5230;changgou&#x5DE5;&#x7A0B;&#x4E2D;&#x3002; pom.xml&#x4F9D;&#x8D56; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.itheima&lt;/groupId&gt; &lt;artifactId&gt;springboot-thymeleaf&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.4.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;dependencies&gt; &lt;!--web&#x8D77;&#x6B65;&#x4F9D;&#x8D56;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!--thymeleaf&#x914D;&#x7F6E;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt;(2)&#x521B;&#x5EFA;&#x5305;com.itheima.thymeleaf.&#x5E76;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B;ThymeleafApplication @SpringBootApplication public class ThymeleafApplication { public static void main(String[] args) { SpringApplication.run(ThymeleafApplication.class,args); } }(3)&#x521B;&#x5EFA;application.yml &#x8BBE;&#x7F6E;thymeleaf&#x7684;&#x7F13;&#x5B58;&#x8BBE;&#x7F6E;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;false&#x3002;&#x9ED8;&#x8BA4;&#x52A0;&#x7F13;&#x5B58;&#x7684;&#xFF0C;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x3002; spring: thymeleaf: cache: false(4)&#x63A7;&#x5236;&#x5C42; &#x521B;&#x5EFA;controller&#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x540E;&#x53F0; &#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x5230;model&#x4E2D;&#x3002; &#x521B;&#x5EFA;com.itheima.controller.TestController&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Controller @RequestMapping(&quot;/test&quot;) public class TestController { /*** * &#x8BBF;&#x95EE;/test/hello &#x8DF3;&#x8F6C;&#x5230;demo1&#x9875;&#x9762; * @param model * @return */ @RequestMapping(&quot;/hello&quot;) public String hello(Model model){ model.addAttribute(&quot;hello&quot;,&quot;hello welcome&quot;); return &quot;demo&quot;; } }(2)&#x521B;&#x5EFA;html &#x5728;resources&#x4E2D;&#x521B;&#x5EFA;templates&#x76EE;&#x5F55;&#xFF0C;&#x5728;templates&#x76EE;&#x5F55;&#x521B;&#x5EFA; demo.html,&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head&gt; &lt;title&gt;Thymeleaf&#x7684;&#x5165;&#x95E8;&lt;/title&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt; &lt;/head&gt; &lt;body&gt; &lt;!--&#x8F93;&#x51FA;hello&#x6570;&#x636E;--&gt; &lt;p th:text=&quot;${hello}&quot;&gt;&lt;/p&gt; &lt;/body&gt; &lt;/html&gt;&#x89E3;&#x91CA;&#xFF1A; &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;:&#x8FD9;&#x53E5;&#x58F0;&#x660E;&#x4F7F;&#x7528;thymeleaf&#x6807;&#x7B7E; :&#x8FD9;&#x53E5;&#x4F7F;&#x7528; th:text=&quot;${&#x53D8;&#x91CF;&#x540D;}&quot; &#x8868;&#x793A; &#x4F7F;&#x7528;thymeleaf&#x83B7;&#x53D6;&#x6587;&#x672C;&#x6570;&#x636E;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;EL&#x8868;&#x8FBE;&#x5F0F;&#x3002; (5)&#x6D4B;&#x8BD5; &#x542F;&#x52A8;&#x7CFB;&#x7EDF;&#xFF0C;&#x5E76;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE; http://localhost:8080/test/hello 3 Thymeleaf&#x57FA;&#x672C;&#x8BED;&#x6CD5;(1)th:action &#x5B9A;&#x4E49;&#x540E;&#x53F0;&#x63A7;&#x5236;&#x5668;&#x8DEF;&#x5F84;&#xFF0C;&#x7C7B;&#x4F3C;&lt;form&gt;&#x6807;&#x7B7E;&#x7684;action&#x5C5E;&#x6027;&#x3002; &#x4F8B;&#x5982;&#xFF1A; &lt;form th:action=&quot;@{/test/hello}&quot; &gt; &lt;input th:type=&quot;text&quot; th:name=&quot;id&quot;&gt; &lt;button&gt;&#x63D0;&#x4EA4;&lt;/button&gt;&lt;/form&gt;(2)th:each &#x5BF9;&#x8C61;&#x904D;&#x5386;&#xFF0C;&#x529F;&#x80FD;&#x7C7B;&#x4F3C;jstl&#x4E2D;&#x7684;&lt;c:forEach&gt;&#x6807;&#x7B7E;&#x3002; &#x521B;&#x5EFA;com.itheima.model.User,&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; public class User { private Integer id; private String name; private String address; //..get..set}Controller&#x6DFB;&#x52A0;&#x6570;&#x636E; /*** * &#x8BBF;&#x95EE;/test/hello &#x8DF3;&#x8F6C;&#x5230;demo1&#x9875;&#x9762; * @param model * @return */@RequestMapping(&quot;/hello&quot;)public String hello(Model model){ model.addAttribute(&quot;hello&quot;,&quot;hello welcome&quot;); //&#x96C6;&#x5408;&#x6570;&#x636E; List&lt;User&gt; users = new ArrayList&lt;User&gt;(); users.add(new User(1,&quot;&#x5F20;&#x4E09;&quot;,&quot;&#x6DF1;&#x5733;&quot;)); users.add(new User(2,&quot;&#x674E;&#x56DB;&quot;,&quot;&#x5317;&#x4EAC;&quot;)); users.add(new User(3,&quot;&#x738B;&#x4E94;&quot;,&quot;&#x6B66;&#x6C49;&quot;)); model.addAttribute(&quot;users&quot;,users); return &quot;demo1&quot;;}&#x9875;&#x9762;&#x8F93;&#x51FA; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&#x4E0B;&#x6807;&lt;/td&gt; &lt;td&gt;&#x7F16;&#x53F7;&lt;/td&gt; &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt; &lt;td&gt;&#x4F4F;&#x5740;&lt;/td&gt; &lt;/tr&gt; &lt;tr th:each=&quot;user,userStat:${users}&quot;&gt; &lt;td&gt; &#x4E0B;&#x6807;:&lt;span th:text=&quot;${userStat.index}&quot;&gt;&lt;/span&gt;, &lt;/td&gt; &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt; &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt; &lt;td th:text=&quot;${user.address}&quot;&gt;&lt;/td&gt; &lt;/tr&gt;&lt;/table&gt;&#x6D4B;&#x8BD5;&#x6548;&#x679C; (3)Map&#x8F93;&#x51FA; &#x540E;&#x53F0;&#x6DFB;&#x52A0;Map //Map&#x5B9A;&#x4E49;Map&lt;String,Object&gt; dataMap = new HashMap&lt;String,Object&gt;();dataMap.put(&quot;No&quot;,&quot;123&quot;);dataMap.put(&quot;address&quot;,&quot;&#x6DF1;&#x5733;&quot;);model.addAttribute(&quot;dataMap&quot;,dataMap);&#x9875;&#x9762;&#x8F93;&#x51FA; &lt;div th:each=&quot;map,mapStat:${dataMap}&quot;&gt; &lt;div th:text=&quot;${map}&quot;&gt;&lt;/div&gt; key:&lt;span th:text=&quot;${mapStat.current.key}&quot;&gt;&lt;/span&gt;&lt;br/&gt; value:&lt;span th:text=&quot;${mapStat.current.value}&quot;&gt;&lt;/span&gt;&lt;br/&gt; ==============================================&lt;/div&gt;&#x6D4B;&#x8BD5;&#x6548;&#x679C; (4)&#x6570;&#x7EC4;&#x8F93;&#x51FA; &#x540E;&#x53F0;&#x6DFB;&#x52A0;&#x6570;&#x7EC4; //&#x5B58;&#x50A8;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;String[] names = {&quot;&#x5F20;&#x4E09;&quot;,&quot;&#x674E;&#x56DB;&quot;,&quot;&#x738B;&#x4E94;&quot;};model.addAttribute(&quot;names&quot;,names);&#x9875;&#x9762;&#x8F93;&#x51FA; &lt;div th:each=&quot;nm,nmStat:${names}&quot;&gt; &lt;span th:text=&quot;${nmStat.count}&quot;&gt;&lt;/span&gt;&lt;span th:text=&quot;${nm}&quot;&gt;&lt;/span&gt; ==============================================&lt;/div&gt;&#x6D4B;&#x8BD5;&#x6548;&#x679C; (5)Date&#x8F93;&#x51FA; &#x540E;&#x53F0;&#x6DFB;&#x52A0;&#x65E5;&#x671F; //&#x65E5;&#x671F;model.addAttribute(&quot;now&quot;,new Date());&#x9875;&#x9762;&#x8F93;&#x51FA; &lt;div&gt; &lt;span th:text=&quot;${#dates.format(now,&apos;yyyy-MM-dd hh:ss:mm&apos;)}&quot;&gt;&lt;/span&gt;&lt;/div&gt;&#x6D4B;&#x8BD5;&#x6548;&#x679C; (6)th:if&#x6761;&#x4EF6; &#x540E;&#x53F0;&#x6DFB;&#x52A0;&#x5E74;&#x9F84; //if&#x6761;&#x4EF6;model.addAttribute(&quot;age&quot;,22);&#x9875;&#x9762;&#x8F93;&#x51FA; &lt;div&gt; &lt;span th:if=&quot;${(age&gt;=18)}&quot;&gt;&#x7EC8;&#x4E8E;&#x957F;&#x5927;&#x4E86;&#xFF01;&lt;/span&gt;&lt;/div&gt;&#x6D4B;&#x8BD5;&#x6548;&#x679C; (7)th:fragment &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6A21;&#x5757; &#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;footer.html&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt;&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=charset=utf-8&quot;&gt; &lt;title&gt;fragment&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;div id=&quot;C&quot; th:fragment=&quot;copy&quot; &gt; &#x5173;&#x4E8E;&#x6211;&#x4EEC;&lt;br/&gt;&lt;/div&gt;&lt;/body&gt;(8)th:include &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5F15;&#x5165;th:fragment,&#x5728;demo1.html&#x4E2D;&#x5F15;&#x5165;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &lt;div id=&quot;A&quot; th:include=&quot;footer::copy&quot;&gt;&lt;/div&gt;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 4 &#x641C;&#x7D22;&#x9875;&#x9762;&#x6E32;&#x67D3;4.1 &#x641C;&#x7D22;&#x5206;&#x6790; &#x641C;&#x7D22;&#x9875;&#x9762;&#x8981;&#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;&#x4E3B;&#x8981;&#x5206;&#x4E3A;3&#x5757;&#x3002; 1)&#x641C;&#x7D22;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x679C; 2)&#x7B5B;&#x9009;&#x51FA;&#x7684;&#x6570;&#x636E;&#x641C;&#x7D22;&#x6761;&#x4EF6; 3)&#x7528;&#x6237;&#x5DF2;&#x7ECF;&#x52FE;&#x9009;&#x7684;&#x6570;&#x636E;&#x6761;&#x4EF6; 4.2 &#x641C;&#x7D22;&#x5B9E;&#x73B0; &#x641C;&#x7D22;&#x7684;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0A;&#x56FE;&#xFF0C;&#x7528;&#x6237;&#x6BCF;&#x6B21;&#x641C;&#x7D22;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5148;&#x7ECF;&#x8FC7;&#x641C;&#x7D22;&#x4E1A;&#x52A1;&#x5DE5;&#x7A0B;&#xFF0C;&#x641C;&#x7D22;&#x4E1A;&#x52A1;&#x5DE5;&#x7A0B;&#x8C03;&#x7528;&#x641C;&#x7D22;&#x5FAE;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x3002; 4.2.1 &#x641C;&#x7D22;&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;(1)&#x5F15;&#x5165;&#x4F9D;&#x8D56; &#x5728;changgou-service_search&#x5DE5;&#x7A0B;&#x4E2D;&#x7684;pom.xml&#x4E2D;&#x5F15;&#x5165;&#x5982;&#x4E0B;&#x4F9D;&#x8D56;&#xFF1A; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt;(2)&#x9759;&#x6001;&#x8D44;&#x6E90;&#x5BFC;&#x5165; &#x5C06;&#x8D44;&#x6E90;&#x4E2D;&#x7684;&#x9875;&#x9762;&#x8D44;&#x6E90;/&#x6240;&#x6709;&#x5185;&#x5BB9;&#x62F7;&#x8D1D;&#x5230;&#x5DE5;&#x7A0B;&#x7684;resources&#x76EE;&#x5F55;&#x4E0B;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; (3) &#x66F4;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;,&#x5728;spring&#x4E0B;&#x6DFB;&#x52A0;&#x5185;&#x5BB9; thymeleaf: cache: false4.2.1 &#x57FA;&#x7840;&#x6570;&#x636E;&#x6E32;&#x67D3;(1)&#x66F4;&#x65B0;SearchController,&#x5B9A;&#x4E49;&#x8DF3;&#x8F6C;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x9762;&#x65B9;&#x6CD5; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x641C;&#x7D22;&#x9875;&#x9762; http://localhost:9009/search/list?keywords=&#x624B;&#x673A;&amp;brand=&#x4E09;&#x661F;&amp;spec_&#x989C;&#x8272;=&#x7C89;&#x8272;&amp; //&#x5165;&#x53C2;&#xFF1A;Map //&#x8FD4;&#x56DE;&#x503C; Map //&#x7531;&#x4E8E;&#x9875;&#x9762;&#x662F;thymeleaf &#x5B8C;&#x6210;&#x7684; &#x5C5E;&#x4E8E;&#x670D;&#x52A1;&#x5668;&#x5185;&#x9875;&#x9762;&#x6E32;&#x67D3; &#x8DF3;&#x8F6C;&#x9875;&#x9762; @GetMapping(&quot;/list&quot;) public String search(@RequestParam Map&lt;String, String&gt; searchMap, Model model) throws Exception { //&#x7279;&#x6B8A;&#x7B26;&#x53F7;&#x5904;&#x7406; handlerSearchMap(searchMap); //&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x503C; Map&lt;String, Object&gt; resultMap = searchService.search(searchMap); model.addAttribute(&quot;searchMap&quot;, searchMap); model.addAttribute(&quot;result&quot;, resultMap); return &quot;search&quot;; }}(2) &#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x9762;&#x6E32;&#x67D3; (2.1)&#x7528;&#x6237;&#x9009;&#x62E9;&#x6761;&#x4EF6;&#x56DE;&#x663E; &lt;div class=&quot;bread&quot;&gt; &lt;ul class=&quot;fl sui-breadcrumb&quot;&gt; &lt;li&gt; &lt;a href=&quot;#&quot;&gt;&#x5168;&#x90E8;&#x7ED3;&#x679C;&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;active&quot;&gt; &lt;span th:text=&quot;${searchMap.keywords}&quot;&gt;&lt;/span&gt; &lt;/li&gt; &lt;/ul&gt; &lt;ul class=&quot;fl sui-tag&quot;&gt; &lt;!-- &#x54C1;&#x724C;--&gt; &lt;li class=&quot;with-x&quot; th:if=&quot;${#maps.containsKey(searchMap,&apos;brand&apos;)}&quot;&gt; &#x54C1;&#x724C;:&lt;span th:text=&quot;${searchMap.brand}&quot;&gt;&lt;/span&gt; &lt;i&gt;&#xD7;&lt;/i&gt; &lt;/li&gt; &lt;!-- &#x4EF7;&#x683C;--&gt; &lt;li class=&quot;with-x&quot; th:if=&quot;${#maps.containsKey(searchMap,&apos;price&apos;)}&quot;&gt; &#x4EF7;&#x683C;:&lt;span th:text=&quot;${searchMap.price}&quot;&gt;&lt;/span&gt; &lt;i&gt;&#xD7;&lt;/i&gt; &lt;/li&gt; &lt;!-- &#x89C4;&#x683C;--&gt; &lt;li class=&quot;with-x&quot; th:each=&quot;sm:${searchMap}&quot; th:if=&quot;${#strings.startsWith(sm.key,&apos;spec_&apos;)}&quot;&gt; &lt;span th:text=&quot;${#strings.replace(sm.key,&apos;spec_&apos;,&apos;&apos;)}&quot;&gt;&lt;/span&gt;:&lt;span th:text=&quot;${#strings.replace(sm.value,&apos;%2B&apos;,&apos;+&apos;)}&quot;&gt;&lt;/span&gt; &lt;i&gt;&#xD7;&lt;/i&gt; &lt;/li&gt; &lt;/ul&gt; &lt;form class=&quot;fl sui-form form-dark&quot;&gt; &lt;div class=&quot;input-control control-right&quot;&gt; &lt;input type=&quot;text&quot; /&gt; &lt;i class=&quot;sui-icon icon-touch-magnifier&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt;(2.2)&#x5546;&#x54C1;&#x5C5E;&#x6027;&#x53CA;&#x89C4;&#x683C;&#x663E;&#x793A; &#x66F4;&#x65B0;&#x641C;&#x7D22;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; public Map&lt;String, Set&lt;String&gt;&gt; formartSpec(List&lt;String&gt; specList){ Map&lt;String,Set&lt;String&gt;&gt; resultMap = new HashMap&lt;&gt;(); if (specList!=null &amp;&amp; specList.size()&gt;0){ for (String specJsonString : specList) { //&quot;{&apos;&#x989C;&#x8272;&apos;: &apos;&#x9ED1;&#x8272;&apos;, &apos;&#x5C3A;&#x7801;&apos;: &apos;250&#x5EA6;&apos;}&quot; //&#x5C06;&#x83B7;&#x53D6;&#x5230;&#x7684;json&#x8F6C;&#x6362;&#x4E3A;map Map&lt;String,String&gt; specMap = JSON.parseObject(specJsonString, Map.class); for (String specKey : specMap.keySet()) { Set&lt;String&gt; specSet = resultMap.get(specKey); if (specSet == null){ specSet = new HashSet&lt;String&gt;(); } //&#x5C06;&#x89C4;&#x683C;&#x4FE1;&#x606F;&#x5B58;&#x5165;set&#x4E2D; specSet.add(specMap.get(specKey)); //&#x5C06;set&#x5B58;&#x5165;map resultMap.put(specKey,specSet); } } } return resultMap; }&#x66F4;&#x65B0;&#x9875;&#x9762; &lt;div class=&quot;clearfix selector&quot;&gt; &lt;div class=&quot;type-wrap logo&quot; th:unless=&quot;${#maps.containsKey(searchMap,&apos;brand&apos;)}&quot;&gt; &lt;div class=&quot;fl key brand&quot;&gt;&#x54C1;&#x724C;&lt;/div&gt; &lt;div class=&quot;value logos&quot;&gt; &lt;ul class=&quot;logo-list&quot;&gt; &lt;li th:each=&quot;brand,brandStat:${result.brandList}&quot;&gt; &lt;a th:text=&quot;${brand}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;ext&quot;&gt; &lt;a href=&quot;javascript:void(0);&quot; class=&quot;sui-btn&quot;&gt;&#x591A;&#x9009;&lt;/a&gt; &lt;a href=&quot;javascript:void(0);&quot;&gt;&#x66F4;&#x591A;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;type-wrap&quot; th:each=&quot;spec,specStat:${result.specList}&quot; th:unless=&quot;${#maps.containsKey(searchMap,&apos;spec_&apos;+spec.key)}&quot;&gt; &lt;div class=&quot;fl key&quot; th:text=&quot;${spec.key}&quot;&gt;&lt;/div&gt; &lt;div class=&quot;fl value&quot;&gt; &lt;ul class=&quot;type-list&quot;&gt; &lt;li th:each=&quot;op,opStat:${spec.value}&quot;&gt; &lt;a th:text=&quot;${op}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;fl ext&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;type-wrap&quot; th:unless=&quot;${#maps.containsKey(searchMap,&apos;price&apos;)}&quot;&gt; &lt;div class=&quot;fl key&quot;&gt;&#x4EF7;&#x683C;&lt;/div&gt; &lt;div class=&quot;fl value&quot;&gt; &lt;ul class=&quot;type-list&quot;&gt; &lt;li&gt; &lt;a th:text=&quot;0-500&#x5143;&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;500-1000&#x5143;&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;1000-1500&#x5143;&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;1500-2000&#x5143;&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;2000-3000&#x5143;&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;3000&#x5143;&#x4EE5;&#x4E0A;&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;fl ext&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;type-wrap&quot;&gt; &lt;div class=&quot;fl key&quot;&gt;&#x66F4;&#x591A;&#x7B5B;&#x9009;&#x9879;&lt;/div&gt; &lt;div class=&quot;fl value&quot;&gt; &lt;ul class=&quot;type-list&quot;&gt; &lt;li&gt; &lt;a&gt;&#x7279;&#x70B9;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a&gt;&#x7CFB;&#x7EDF;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a&gt;&#x624B;&#x673A;&#x5185;&#x5B58; &lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a&gt;&#x5355;&#x5361;&#x53CC;&#x5361;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a&gt;&#x5176;&#x4ED6;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;fl ext&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;(2.3)&#x5546;&#x54C1;&#x5217;&#x8868;&#x663E;&#x793A; &lt;div class=&quot;goods-list&quot;&gt; &lt;ul class=&quot;yui3-g&quot;&gt; &lt;li class=&quot;yui3-u-1-5&quot; th:each=&quot;sku,skuStat:${result.rows}&quot;&gt; &lt;div class=&quot;list-wrap&quot;&gt; &lt;div class=&quot;p-img&quot;&gt; &lt;a href=&quot;item.html&quot; target=&quot;_blank&quot;&gt;&lt;img src=&quot;/img/_/mobile01.png&quot; /&gt;&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;price&quot;&gt; &lt;strong&gt; &lt;em&gt;&#xA5;&lt;/em&gt; &lt;i th:text=&quot;${sku.price}&quot;&gt;&lt;/i&gt; &lt;/strong&gt; &lt;/div&gt; &lt;div class=&quot;attr&quot;&gt; &lt;a target=&quot;_blank&quot; href=&quot;item.html&quot; th:title=&quot;${sku.spec}&quot; th:utext=&quot;${sku.name}&quot;&gt;Apple&#x82F9;&#x679C;iPhone 6s (A1699)Apple&#x82F9;&#x679C;iPhone 6s (A1699)Apple&#x82F9;&#x679C;iPhone 6s (A1699)Apple&#x82F9;&#x679C;iPhone 6s (A1699)&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;commit&quot;&gt; &lt;i class=&quot;command&quot;&gt;&#x5DF2;&#x6709;&lt;span&gt;2000&lt;/span&gt;&#x4EBA;&#x8BC4;&#x4EF7;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;operate&quot;&gt; &lt;a href=&quot;success-cart.html&quot; target=&quot;_blank&quot; class=&quot;sui-btn btn-bordered btn-danger&quot;&gt;&#x52A0;&#x5165;&#x8D2D;&#x7269;&#x8F66;&lt;/a&gt; &lt;a href=&quot;javascript:void(0);&quot; class=&quot;sui-btn btn-bordered&quot;&gt;&#x6536;&#x85CF;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;4.3 &#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x4FEE;&#x6539;search.html &lt;form th:action=&quot;@{/search/list}&quot; class=&quot;sui-form form-inline&quot;&gt; &lt;!--searchAutoComplete--&gt; &lt;div class=&quot;input-append&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;autocomplete&quot; name=&quot;keywords&quot; th:value=&quot;${searchMap.keywords}&quot; class=&quot;input-error input-xxlarge&quot; /&gt; &lt;button class=&quot;sui-btn btn-xlarge btn-danger&quot; th:type=&quot;submit&quot;&gt;&#x641C;&#x7D22;&lt;/button&gt; &lt;/div&gt;&lt;/form&gt;&#x6D4B;&#x8BD5; &#x641C;&#x7D22;&#x534E;&#x4E3A;&#x5173;&#x952E;&#x5B57;,&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 4.4 &#x6761;&#x4EF6;&#x641C;&#x7D22;&#x5B9E;&#x73B0; &#x7528;&#x6237;&#x6BCF;&#x6B21;&#x70B9;&#x51FB;&#x641C;&#x7D22;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5176;&#x5B9E;&#x5728;&#x4E0A;&#x6B21;&#x641C;&#x7D22;&#x7684;&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#x52A0;&#x4E0A;&#x4E86;&#x65B0;&#x7684;&#x641C;&#x7D22;&#x6761;&#x4EF6;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5728;&#x4E0A;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#x7684;URL&#x540E;&#x9762;&#x8FFD;&#x52A0;&#x4E86;&#x65B0;&#x7684;&#x641C;&#x7D22;&#x6761;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x540E;&#x53F0;&#x6BCF;&#x6B21;&#x62FC;&#x63A5;&#x7EC4;&#x88C5;&#x51FA;&#x4E0A;&#x6B21;&#x641C;&#x7D22;&#x7684;URL&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x6B21;&#x5C06;URL&#x5B58;&#x5165;&#x5230;Model&#x4E2D;&#xFF0C;&#x9875;&#x9762;&#x6BCF;&#x6B21;&#x70B9;&#x51FB;&#x4E0D;&#x540C;&#x6761;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4ECE;Model&#x4E2D;&#x53D6;&#x51FA;&#x4E0A;&#x6B21;&#x8BF7;&#x6C42;&#x7684;URL&#xFF0C;&#x7136;&#x540E;&#x518D;&#x52A0;&#x4E0A;&#x65B0;&#x70B9;&#x51FB;&#x7684;&#x6761;&#x4EF6;&#x53C2;&#x6570;&#x5B9E;&#x73B0;&#x8DF3;&#x8F6C;&#x5373;&#x53EF;&#x3002; (1)&#x540E;&#x53F0;&#x8BB0;&#x5F55;&#x641C;&#x7D22;URL &#x4FEE;&#x6539;SkuController&#xFF0C;&#x6DFB;&#x52A0;&#x7EC4;&#x88C5;URL&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5C06;&#x7EC4;&#x88C5;&#x597D;&#x7684;URL&#x5B58;&#x50A8;&#x8D77;&#x6765;,&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x62FC;&#x88C5;url StringBuilder url = new StringBuilder(&quot;/search/list&quot;); if (searchMap != null &amp;&amp; searchMap.size()&gt;0){ //&#x662F;&#x7531;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; url.append(&quot;?&quot;); for (String paramKey : searchMap.keySet()) { if (!&quot;sortRule&quot;.equals(paramKey) &amp;&amp; !&quot;sortField&quot;.equals(paramKey) &amp;&amp; !&quot;pageNum&quot;.equals(paramKey)){ url.append(paramKey).append(&quot;=&quot;).append(searchMap.get(paramKey)).append(&quot;&amp;&quot;); } } //http://localhost:9009/search/list?keywords=&#x624B;&#x673A;&amp;spec_&#x7F51;&#x7EDC;&#x5236;&#x5F0F;=4G&amp; String urlString = url.toString(); //&#x53BB;&#x9664;&#x8DEF;&#x5F84;&#x4E0A;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&amp; urlString=urlString.substring(0,urlString.length()-1); model.addAttribute(&quot;url&quot;,urlString); }else{ model.addAttribute(&quot;url&quot;,url); }(2)&#x9875;&#x9762;&#x641C;&#x7D22;&#x5BF9;&#x63A5; &lt;div class=&quot;clearfix selector&quot;&gt; &lt;div class=&quot;type-wrap logo&quot; th:unless=&quot;${#maps.containsKey(searchMap,&apos;brand&apos;)}&quot;&gt; &lt;div class=&quot;fl key brand&quot;&gt;&#x54C1;&#x724C;&lt;/div&gt; &lt;div class=&quot;value logos&quot;&gt; &lt;ul class=&quot;logo-list&quot;&gt; &lt;li th:each=&quot;brand,brandSate:${result.brandList}&quot;&gt; &lt;a th:text=&quot;${brand}&quot; th:href=&quot;@{${url}(brand=${brand})}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;ext&quot;&gt; &lt;a href=&quot;javascript:void(0);&quot; class=&quot;sui-btn&quot;&gt;&#x591A;&#x9009;&lt;/a&gt; &lt;a href=&quot;javascript:void(0);&quot;&gt;&#x66F4;&#x591A;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;type-wrap&quot; th:each=&quot;spec,specStat:${result.specList}&quot; th:unless=&quot;${#maps.containsKey(searchMap,&apos;spec_&apos;+spec.key)}&quot;&gt; &lt;div class=&quot;fl key&quot; th:text=&quot;${spec.key}&quot;&gt; &lt;/div&gt; &lt;div class=&quot;fl value&quot;&gt; &lt;ul class=&quot;type-list&quot;&gt; &lt;li th:each=&quot;op,opstat:${spec.value}&quot;&gt; &lt;a th:text=&quot;${op}&quot; th:href=&quot;@{${url}(&apos;spec_&apos;+${spec.key}=${op})}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;fl ext&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;type-wrap&quot; th:unless=&quot;${#maps.containsKey(searchMap,&apos;price&apos;)}&quot;&gt; &lt;div class=&quot;fl key&quot;&gt;&#x4EF7;&#x683C;&lt;/div&gt; &lt;div class=&quot;fl value&quot;&gt; &lt;ul class=&quot;type-list&quot;&gt; &lt;li&gt; &lt;a th:text=&quot;0-500&#x5143;&quot; th:href=&quot;@{${url}(price=&apos;0-500&apos;)}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;500-1000&#x5143;&quot; th:href=&quot;@{${url}(price=&apos;500-1000&apos;)}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;1000-1500&#x5143;&quot; th:href=&quot;@{${url}(price=&apos;1000-1500&apos;)}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;1500-2000&#x5143;&quot; th:href=&quot;@{${url}(price=&apos;1500-2000&apos;)}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;2000-3000&#x5143;&quot; th:href=&quot;@{${url}(price=&apos;2000-3000&apos;)}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:text=&quot;3000&#x5143;&#x4EE5;&#x4E0A;&quot; th:href=&quot;@{${url}(price=&apos;3000&apos;)}&quot;&gt;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;fl ext&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;type-wrap&quot;&gt; &lt;div class=&quot;fl key&quot;&gt;&#x66F4;&#x591A;&#x7B5B;&#x9009;&#x9879;&lt;/div&gt; &lt;div class=&quot;fl value&quot;&gt; &lt;ul class=&quot;type-list&quot;&gt; &lt;li&gt; &lt;a&gt;&#x7279;&#x70B9;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a&gt;&#x7CFB;&#x7EDF;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a&gt;&#x624B;&#x673A;&#x5185;&#x5B58; &lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a&gt;&#x5355;&#x5361;&#x53CC;&#x5361;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a&gt;&#x5176;&#x4ED6;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;fl ext&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;4.5 &#x79FB;&#x9664;&#x641C;&#x7D22;&#x6761;&#x4EF6; &#x5982;&#x4E0A;&#x56FE;&#xFF0C;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x540E;&#xFF0C;&#x8981;&#x5C06;&#x9009;&#x4E2D;&#x7684;&#x6761;&#x4EF6;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x63D0;&#x4F9B;&#x79FB;&#x9664;&#x6761;&#x4EF6;&#x7684;x&#x6309;&#x94AE;,&#x663E;&#x793A;&#x6761;&#x4EF6;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4ECE;searchMap&#x4E2D;&#x83B7;&#x53D6;&#xFF0C;&#x79FB;&#x9664;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E2D;&#x7684;&#x6307;&#x5B9A;&#x6761;&#x4EF6;&#x5220;&#x9664;&#x5373;&#x53EF;&#x3002; &#x4FEE;&#x6539;search.html&#xFF0C;&#x79FB;&#x9664;&#x5206;&#x7C7B;&#x3001;&#x54C1;&#x724C;&#x3001;&#x4EF7;&#x683C;&#x3001;&#x89C4;&#x683C;&#x641C;&#x7D22;&#x6761;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;ul class=&quot;fl sui-tag&quot;&gt; &lt;li class=&quot;with-x&quot; th:if=&quot;${#maps.containsKey(searchMap,&apos;brand&apos;)}&quot;&gt; &#x54C1;&#x724C;:&lt;span th:text=&quot;${searchMap.brand}&quot;&gt;&lt;/span&gt; &lt;a th:href=&quot;@{${#strings.replace(url,&apos;&amp;brand=&apos;+searchMap.brand,&apos;&apos;)}}&quot;&gt;&#xD7;&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;with-x&quot; th:if=&quot;${#maps.containsKey(searchMap,&apos;price&apos;)}&quot;&gt; &#x4EF7;&#x683C;:&lt;span th:text=&quot;${searchMap.price}&quot;&gt;&lt;/span&gt; &lt;a th:href=&quot;@{${#strings.replace(url,&apos;&amp;price=&apos;+searchMap.price,&apos;&apos;)}}&quot;&gt;&#xD7;&lt;/a&gt; &lt;/li&gt; &lt;!--&#x89C4;&#x683C;--&gt; &lt;li class=&quot;with-x&quot; th:each=&quot;sm:${searchMap}&quot; th:if=&quot;${#strings.startsWith(sm.key,&apos;spec_&apos;)}&quot;&gt; &lt;span th:text=&quot;${#strings.replace(sm.key,&apos;spec_&apos;,&apos;&apos;)}&quot;&gt;&lt;/span&gt; : &lt;span th:text=&quot;${#strings.replace(sm.value,&apos;%2B&apos;,&apos;+&apos;)}&quot;&gt;&lt;/span&gt; &lt;a th:href=&quot;@{${#strings.replace(url,&apos;&amp;&apos;+sm.key+&apos;=&apos;+sm.value,&apos;&apos;)}}&quot;&gt;&#xD7;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt;4.6 &#x6392;&#x5E8F;&#x4FEE;&#x6539;search.html&#xFF0C;&#x5B9E;&#x73B0;&#x6392;&#x5E8F;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;li&gt; &lt;a th:href=&quot;@{${url}(sortRule=&apos;ASC&apos;,sortField=&apos;price&apos;)}&quot;&gt;&#x4EF7;&#x683C;&#x2191;&lt;/a&gt;&lt;/li&gt;&lt;li&gt; &lt;a th:href=&quot;@{${url}(sortRule=&apos;DESC&apos;,sortField=&apos;price&apos;)}&quot;&gt;&#x4EF7;&#x683C;&#x2193;&lt;/a&gt;&lt;/li&gt;4.7 &#x5206;&#x9875;&#x771F;&#x5B9E;&#x7684;&#x5206;&#x9875;&#x5E94;&#x8BE5;&#x50CF;&#x767E;&#x5EA6;&#x90A3;&#x6837;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; (1)&#x5206;&#x9875;&#x5DE5;&#x5177;&#x7C7B;&#x5B9A;&#x4E49; &#x5728;comm&#x5DE5;&#x7A0B;&#x4E2D;&#x6DFB;&#x52A0;Page&#x5206;&#x9875;&#x5BF9;&#x8C61;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.changgou.entity;import java.io.Serializable;import java.util.List;/** * &#x5206;&#x9875;&#x5BF9;&#x8C61; * @param &lt;T&gt; */public class Page &lt;T&gt; implements Serializable{ //&#x5F53;&#x524D;&#x9ED8;&#x8BA4;&#x4E3A;&#x7B2C;&#x4E00;&#x9875; public static final Integer pageNum = 1; //&#x9ED8;&#x8BA4;&#x6BCF;&#x9875;&#x663E;&#x793A;&#x6761;&#x4EF6; public static final Integer pageSize = 20; //&#x5224;&#x65AD;&#x5F53;&#x524D;&#x9875;&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#x6216;&#x662F;&#x5C0F;&#x4E8E;1 public static Integer cpn(Integer pageNum){ if(null == pageNum || pageNum &lt; 1){ pageNum = 1; } return pageNum; } // &#x9875;&#x6570;&#xFF08;&#x7B2C;&#x51E0;&#x9875;&#xFF09; private long currentpage; // &#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x91CC;&#x9762;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#x6709;&#x591A;&#x5C11;&#x6761; private long total;// &#x4ECE;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x5904;&#x7684;&#x603B;&#x8BB0;&#x5F55;&#x6570; // &#x6BCF;&#x9875;&#x67E5;5&#x6761; private int size; // &#x4E0B;&#x9875; private int next; private List&lt;T&gt; list; // &#x6700;&#x540E;&#x4E00;&#x9875; private int last; private int lpage; private int rpage; //&#x4ECE;&#x54EA;&#x6761;&#x5F00;&#x59CB;&#x67E5; private long start; //&#x5168;&#x5C40;&#x504F;&#x79FB;&#x91CF; public int offsize = 2; public Page() { super(); } /**** * * @param currentpage * @param total * @param pagesize */ public void setCurrentpage(long currentpage,long total,long pagesize) { //&#x53EF;&#x4EE5;&#x6574;&#x9664;&#x7684;&#x60C5;&#x51B5;&#x4E0B; long pagecount = total/pagesize; //&#x5982;&#x679C;&#x6574;&#x9664;&#x8868;&#x793A;&#x6B63;&#x597D;&#x5206;N&#x9875;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x80FD;&#x6574;&#x9664;&#x5728;N&#x9875;&#x7684;&#x57FA;&#x7840;&#x4E0A;+1&#x9875; int totalPages = (int) (total%pagesize==0? total/pagesize : (total/pagesize)+1); //&#x603B;&#x9875;&#x6570; this.last = totalPages; //&#x5224;&#x65AD;&#x5F53;&#x524D;&#x9875;&#x662F;&#x5426;&#x8D8A;&#x754C;,&#x5982;&#x679C;&#x8D8A;&#x754C;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x67E5;&#x6700;&#x540E;&#x4E00;&#x9875; if(currentpage&gt;totalPages){ this.currentpage = totalPages; }else{ this.currentpage=currentpage; } //&#x8BA1;&#x7B97;start this.start = (this.currentpage-1)*pagesize; } //&#x4E0A;&#x4E00;&#x9875; public long getUpper() { return currentpage&gt;1? currentpage-1: currentpage; } //&#x603B;&#x5171;&#x6709;&#x591A;&#x5C11;&#x9875;&#xFF0C;&#x5373;&#x672B;&#x9875; public void setLast(int last) { this.last = (int) (total%size==0? total/size : (total/size)+1); } /**** * &#x5E26;&#x6709;&#x504F;&#x79FB;&#x91CF;&#x8BBE;&#x7F6E;&#x7684;&#x5206;&#x9875; * @param total * @param currentpage * @param pagesize * @param offsize */ public Page(long total,int currentpage,int pagesize,int offsize) { this.offsize = offsize; initPage(total, currentpage, pagesize); } /**** * * @param total &#x603B;&#x8BB0;&#x5F55;&#x6570; * @param currentpage &#x5F53;&#x524D;&#x9875; * @param pagesize &#x6BCF;&#x9875;&#x663E;&#x793A;&#x591A;&#x5C11;&#x6761; */ public Page(long total,int currentpage,int pagesize) { initPage(total,currentpage,pagesize); } /**** * &#x521D;&#x59CB;&#x5316;&#x5206;&#x9875; * @param total * @param currentpage * @param pagesize */ public void initPage(long total,int currentpage,int pagesize){ //&#x603B;&#x8BB0;&#x5F55;&#x6570; this.total = total; //&#x6BCF;&#x9875;&#x663E;&#x793A;&#x591A;&#x5C11;&#x6761; this.size=pagesize; //&#x8BA1;&#x7B97;&#x5F53;&#x524D;&#x9875;&#x548C;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x8D77;&#x59CB;&#x503C;&#x4EE5;&#x53CA;&#x603B;&#x9875;&#x6570; setCurrentpage(currentpage, total, pagesize); //&#x5206;&#x9875;&#x8BA1;&#x7B97; int leftcount =this.offsize, //&#x9700;&#x8981;&#x5411;&#x4E0A;&#x4E00;&#x9875;&#x6267;&#x884C;&#x591A;&#x5C11;&#x6B21; rightcount =this.offsize; //&#x8D77;&#x70B9;&#x9875; this.lpage =currentpage; //&#x7ED3;&#x675F;&#x9875; this.rpage =currentpage; //2&#x70B9;&#x5224;&#x65AD; this.lpage = currentpage-leftcount; //&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x8D77;&#x70B9; this.rpage = currentpage+rightcount; //&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x7EC8;&#x70B9; //&#x9875;&#x5DEE;=&#x603B;&#x9875;&#x6570;&#x548C;&#x7ED3;&#x675F;&#x9875;&#x7684;&#x5DEE; int topdiv = this.last-rpage; //&#x5224;&#x65AD;&#x662F;&#x5426;&#x5927;&#x4E8E;&#x6700;&#x5927;&#x9875;&#x6570; /*** * &#x8D77;&#x70B9;&#x9875; * 1&#x3001;&#x9875;&#x5DEE;&lt;0 &#x8D77;&#x70B9;&#x9875;=&#x8D77;&#x70B9;&#x9875;+&#x9875;&#x5DEE;&#x503C; * 2&#x3001;&#x9875;&#x5DEE;&gt;=0 &#x8D77;&#x70B9;&#x548C;&#x7EC8;&#x70B9;&#x5224;&#x65AD; */ this.lpage=topdiv&lt;0? this.lpage+topdiv:this.lpage; /*** * &#x7ED3;&#x675F;&#x9875; * 1&#x3001;&#x8D77;&#x70B9;&#x9875;&lt;=0 &#x7ED3;&#x675F;&#x9875;=|&#x8D77;&#x70B9;&#x9875;|+1 * 2&#x3001;&#x8D77;&#x70B9;&#x9875;&gt;0 &#x7ED3;&#x675F;&#x9875; */ this.rpage=this.lpage&lt;=0? this.rpage+(this.lpage*-1)+1: this.rpage; /*** * &#x5F53;&#x8D77;&#x70B9;&#x9875;&lt;=0 &#x8BA9;&#x8D77;&#x70B9;&#x9875;&#x4E3A;&#x7B2C;&#x4E00;&#x9875; * &#x5426;&#x5219;&#x4E0D;&#x7BA1; */ this.lpage=this.lpage&lt;=0? 1:this.lpage; /*** * &#x5982;&#x679C;&#x7ED3;&#x675F;&#x9875;&gt;&#x603B;&#x9875;&#x6570; &#x7ED3;&#x675F;&#x9875;=&#x603B;&#x9875;&#x6570; * &#x5426;&#x5219;&#x4E0D;&#x7BA1; */ this.rpage=this.rpage&gt;last? this.last:this.rpage; } public long getNext() { return currentpage&lt;last? currentpage+1: last; } public void setNext(int next) { this.next = next; } public long getCurrentpage() { return currentpage; } public long getTotal() { return total; } public void setTotal(long total) { this.total = total; } public long getSize() { return size; } public void setSize(int size) { this.size = size; } public long getLast() { return last; } public long getLpage() { return lpage; } public void setLpage(int lpage) { this.lpage = lpage; } public long getRpage() { return rpage; } public void setRpage(int rpage) { this.rpage = rpage; } public long getStart() { return start; } public void setStart(long start) { this.start = start; } public void setCurrentpage(long currentpage) { this.currentpage = currentpage; } /** * @return the list */ public List&lt;T&gt; getList() { return list; } /** * @param list the list to set */ public void setList(List&lt;T&gt; list) { this.list = list; } public static void main(String[] args) { //&#x603B;&#x8BB0;&#x5F55;&#x6570; //&#x5F53;&#x524D;&#x9875; //&#x6BCF;&#x9875;&#x663E;&#x793A;&#x591A;&#x5C11;&#x6761; int cpage =17; Page page = new Page(1001,cpage,50,7); System.out.println(&quot;&#x5F00;&#x59CB;&#x9875;:&quot;+page.getLpage()+&quot;__&#x5F53;&#x524D;&#x9875;&#xFF1A;&quot;+page.getCurrentpage()+&quot;__&#x7ED3;&#x675F;&#x9875;&quot;+page.getRpage()+&quot;____&#x603B;&#x9875;&#x6570;&#xFF1A;&quot;+page.getLast()); }}(2)&#x5206;&#x9875;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;SkuController,&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C01;&#x88C5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; (3)&#x9875;&#x9762;&#x5206;&#x9875;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;search.html&#xFF0C;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; 5.&#x7545;&#x8D2D;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;5.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x5F53;&#x7CFB;&#x7EDF;&#x5BA1;&#x6838;&#x5B8C;&#x6210;&#x5546;&#x54C1;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#x8FDB;&#x884C;&#x5C55;&#x793A;&#xFF0C;&#x90A3;&#x4E48;&#x91C7;&#x7528;&#x9759;&#x6001;&#x9875;&#x9762;&#x751F;&#x6210;&#x7684;&#x65B9;&#x5F0F;&#x751F;&#x6210;&#xFF0C;&#x5E76;&#x90E8;&#x7F72;&#x5230;&#x9AD8;&#x6027;&#x80FD;&#x7684;web&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x662F;&#x6BD4;&#x8F83;&#x5408;&#x9002;&#x7684;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x6B64;&#x5904;MQ&#x6211;&#x4EEC;&#x4F7F;&#x7528;Rabbitmq&#x5373;&#x53EF;&#x3002; &#x6267;&#x884C;&#x6B65;&#x9AA4;&#x89E3;&#x91CA;&#xFF1A; &#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#xFF08;&#x5546;&#x5BB6;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#xFF09;&#x4FEE;&#x6539;&#x6216;&#x8005;&#x5BA1;&#x6838;&#x5546;&#x54C1;&#x7684;&#x65F6;&#x5019;, &#x4F1A;&#x66F4;&#x6539;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x72B6;&#x6001;&#x5E76;&#x53D1;&#x9001;&#x5546;&#x54C1;id&#x7ED9;rabbitMq&#x4E2D;&#x7684;&#x4E0A;&#x67B6;&#x4EA4;&#x6362;&#x5668; &#x4E0A;&#x67B6;&#x4EA4;&#x6362;&#x5668;&#x4F1A;&#x5C06;&#x5546;&#x54C1;id&#x53D1;&#x7ED9;&#x9759;&#x6001;&#x9875;&#x751F;&#x6210;&#x961F;&#x5217; &#x9759;&#x6001;&#x9875;&#x5FAE;&#x670D;&#x52A1;&#x8BBE;&#x7F6E;&#x76D1;&#x542C;&#x5668;, &#x76D1;&#x542C;&#x9759;&#x6001;&#x9875;&#x751F;&#x6210;&#x961F;&#x5217;, &#x6839;&#x636E;&#x5546;&#x54C1;id&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x8BE6;&#x7EC6;&#x6570;&#x636E;&#x5E76;&#x4F7F;&#x7528;thymeleaf&#x7684;&#x6A21;&#x677F;&#x6280;&#x672F;&#x751F;&#x6210;&#x9759;&#x6001;&#x9875; 5.2 &#x5546;&#x54C1;&#x9759;&#x6001;&#x5316;&#x5FAE;&#x670D;&#x52A1;&#x521B;&#x5EFA;5.2.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x8BE5;&#x5FAE;&#x670D;&#x52A1;&#x53EA;&#x7528;&#x4E8E;&#x751F;&#x6210;&#x5546;&#x54C1;&#x9759;&#x6001;&#x9875;&#xFF0C;&#x4E0D;&#x505A;&#x5176;&#x4ED6;&#x4E8B;&#x60C5;&#x3002; 5.2.2 &#x642D;&#x5EFA;&#x9879;&#x76EE;&#xFF08;1&#xFF09;&#x5728;changgou-service&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x4E3A;changgou_service_page&#x7684;&#x9879;&#x76EE;,&#x4F5C;&#x4E3A;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;&#x751F;&#x6210;&#x670D;&#x52A1; &#xFF08;2&#xFF09;changgou-service-page&#x4E2D;&#x6DFB;&#x52A0;&#x8D77;&#x6B65;&#x4F9D;&#x8D56;&#xFF0C;&#x5982;&#x4E0B; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_service_goods_api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt;&#xFF08;3&#xFF09;&#x4FEE;&#x6539;application.yml&#x7684;&#x914D;&#x7F6E; server: port: 9011spring: application: name: page rabbitmq: host: 192.168.200.128 main: allow-bean-definition-overriding: true #&#x5F53;&#x9047;&#x5230;&#x540C;&#x6837;&#x540D;&#x5B57;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8986;&#x76D6;&#x6CE8;&#x518C;eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: truefeign: hystrix: enabled: false client: config: default: #&#x914D;&#x7F6E;&#x5168;&#x5C40;&#x7684;feign&#x7684;&#x8C03;&#x7528;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &#x5982;&#x679C; &#x6709;&#x6307;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#x914D;&#x7F6E; &#x9ED8;&#x8BA4;&#x7684;&#x914D;&#x7F6E;&#x4E0D;&#x4F1A;&#x751F;&#x6548; connectTimeout: 600000 # &#x6307;&#x5B9A;&#x7684;&#x662F; &#x6D88;&#x8D39;&#x8005; &#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x7684;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &#x662F;&#x5426;&#x80FD;&#x8FDE;&#x63A5; &#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2; readTimeout: 600000 # &#x6307;&#x5B9A;&#x7684;&#x662F;&#x8C03;&#x7528;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x7684; &#x670D;&#x52A1; &#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF08;&#xFF09; &#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2;#hystrix &#x914D;&#x7F6E;hystrix: command: default: execution: timeout: #&#x5982;&#x679C;enabled&#x8BBE;&#x7F6E;&#x4E3A;false&#xFF0C;&#x5219;&#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x4EA4;&#x7ED9;ribbon&#x63A7;&#x5236; enabled: true isolation: strategy: SEMAPHORE# &#x751F;&#x6210;&#x9759;&#x6001;&#x9875;&#x7684;&#x4F4D;&#x7F6E;pagepath: D:\items&#xFF08;4&#xFF09;&#x521B;&#x5EFA;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#x7C7B; @SpringBootApplication@EnableEurekaClient@EnableFeignClients(basePackages = &quot;com.changgou.goods.feign&quot;)public class PageApplication { public static void main(String[] args) { SpringApplication.run(PageApplication.class); }}5.3 &#x751F;&#x6210;&#x9759;&#x6001;&#x9875;5.3.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x9875;&#x9762;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x4F20;&#x9012;&#x8981;&#x751F;&#x6210;&#x7684;&#x9759;&#x6001;&#x9875;&#x7684;&#x5546;&#x54C1;&#x7684;SpuID.&#x540E;&#x53F0;controller &#x63A5;&#x6536;&#x8BF7;&#x6C42;&#xFF0C;&#x8C03;&#x7528;thyemleaf&#x7684;&#x539F;&#x751F;API&#x751F;&#x6210;&#x5546;&#x54C1;&#x9759;&#x6001;&#x9875;&#x3002; &#x4E0A;&#x56FE;&#x662F;&#x8981;&#x751F;&#x6210;&#x7684;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#xFF0C;&#x4ECE;&#x56FE;&#x7247;&#x4E0A;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x9700;&#x8981;&#x67E5;&#x8BE2;SPU&#x7684;3&#x4E2A;&#x5206;&#x7C7B;&#x4F5C;&#x4E3A;&#x9762;&#x5305;&#x5C51;&#x663E;&#x793A;&#xFF0C;&#x540C;&#x65F6;&#x8FD8;&#x9700;&#x8981;&#x67E5;&#x8BE2;SKU&#x548C;SPU&#x4FE1;&#x606F;&#x3002; 5.3.2 Feign&#x521B;&#x5EFA;&#x4E00;&#x4F1A;&#x513F;&#x9700;&#x8981;&#x67E5;&#x8BE2;SPU&#x548C;SKU&#x4EE5;&#x53CA;Category&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5148;&#x521B;&#x5EFA;Feign&#xFF0C;&#x4FEE;&#x6539;changgou-service-goods-api,&#x6DFB;&#x52A0;CategoryFeign&#xFF0C;&#x5E76;&#x5728;CategoryFeign&#x4E2D;&#x6DFB;&#x52A0;&#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x5206;&#x7C7B;&#x6570;&#x636E;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @FeignClient(name = &quot;goods&quot;)public interface CategoryFeign { @GetMapping(&quot;/category/{id}&quot;) public Result&lt;Category&gt; findById(@PathVariable(&quot;id&quot;) Integer id);}&#x5728;changgou-service-goods-api,&#x6DFB;&#x52A0;SkuFeign,&#x5E76;&#x6DFB;&#x52A0;&#x6839;&#x636E;SpuID&#x67E5;&#x8BE2;Sku&#x96C6;&#x5408;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @FeignClient(name = &quot;goods&quot;)public interface SkuFeign { @GetMapping(&quot;/sku/spu/{spuId}&quot;) public List&lt;Sku&gt; findSkuListBySpuId(@PathVariable(&quot;spuId&quot;) String spuId);}&#x5728;changgou-service-goods-api,&#x6DFB;&#x52A0;SpuFeign,&#x5E76;&#x6DFB;&#x52A0;&#x6839;&#x636E;SpuID&#x67E5;&#x8BE2;Spu&#x4FE1;&#x606F;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @FeignClient(name = &quot;goods&quot;)public interface SpuFeign { @GetMapping(&quot;/spu/findSpuById/{id}&quot;) public Result&lt;Spu&gt; findSpuById(@PathVariable(&quot;id&quot;) String id);}5.3.3 &#x9759;&#x6001;&#x9875;&#x751F;&#x6210;&#x4EE3;&#x7801; (1)&#x521B;&#x5EFA;PageService public interface PageService { /** * &#x751F;&#x6210;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762; * @param spuId */ void generateItemPage(String spuId);}(2)&#x521B;&#x5EFA;PageServiceImpl @Servicepublic class PageServiceImpl implements PageService { @Autowired private SpuFeign spuFeign; @Autowired private CategoryFeign categoryFeign; @Autowired private SkuFeign skuFeign; @Value(&quot;${pagepath}&quot;) private String pagepath; @Autowired private TemplateEngine templateEngine; @Override public void generateItemPage(String spuId) { //&#x83B7;&#x53D6;context&#x5BF9;&#x8C61;,&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x6570;&#x636E; Context context = new Context(); Map&lt;String, Object&gt; itemData = this.findItemData(spuId); context.setVariables(itemData); //&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#x751F;&#x6210;&#x7684;&#x6307;&#x5B9A;&#x4F4D;&#x7F6E; File dir = new File(pagepath); //&#x5224;&#x65AD;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#x6587;&#x4EF6;&#x5939;&#x662F;&#x5426;&#x5B58;&#x5728;,&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x521B;&#x5EFA; if (!dir.exists()){ dir.mkdirs(); } //&#x5B9A;&#x4E49;&#x8F93;&#x51FA;&#x6D41;,&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x751F;&#x6210; File file = new File(dir+&quot;/&quot;+spuId+&quot;.html&quot;); Writer out = null; try{ out = new PrintWriter(file); //&#x751F;&#x6210;&#x6587;&#x4EF6; /** * 1.&#x6A21;&#x677F;&#x540D;&#x79F0; * 2.context&#x5BF9;&#x8C61;,&#x5305;&#x542B;&#x4E86;&#x6A21;&#x677F;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E; * 3.&#x8F93;&#x51FA;&#x6D41;,&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x8F93;&#x51FA;&#x4F4D;&#x7F6E; */ templateEngine.process(&quot;item&quot;,context,out); }catch (Exception e){ e.printStackTrace(); }finally { //&#x5173;&#x95ED;&#x6D41; try { out.close(); } catch (IOException e) { e.printStackTrace(); } } } //&#x83B7;&#x53D6;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;&#x6570;&#x636E; private Map&lt;String, Object&gt; findItemData(String spuId) { Map&lt;String,Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x83B7;&#x53D6;spu&#x4FE1;&#x606F; Result&lt;Spu&gt; spuResult = spuFeign.findSpuById(spuId); Spu spu = spuResult.getData(); resultMap.put(&quot;spu&quot;,spu); //&#x83B7;&#x53D6;&#x56FE;&#x7247;&#x4FE1;&#x606F; if (spu != null){ if(!StringUtils.isEmpty(spu.getImages())){ resultMap.put(&quot;imageList&quot;,spu.getImages().split(&quot;,&quot;)); } } //&#x83B7;&#x53D6;&#x5206;&#x7C7B;&#x4FE1;&#x606F; Category category1 = categoryFeign.findById(spu.getCategory1Id()).getData(); resultMap.put(&quot;category1&quot;,category1); Category category2 = categoryFeign.findById(spu.getCategory2Id()).getData(); resultMap.put(&quot;category2&quot;,category2); Category category3 = categoryFeign.findById(spu.getCategory3Id()).getData(); resultMap.put(&quot;category3&quot;,category3); //&#x83B7;&#x53D6;sku&#x96C6;&#x5408;&#x4FE1;&#x606F; List&lt;Sku&gt; skuList = skuFeign.findSkuListBySpuId(spuId); resultMap.put(&quot;skuList&quot;,skuList); resultMap.put(&quot;specificationList&quot;,JSON.parseObject(spu.getSpecItems(), Map.class)); return resultMap; }}(3)&#x58F0;&#x660E;page_create_queue&#x961F;&#x5217;,&#x5E76;&#x7ED1;&#x5B9A;&#x5230;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x4EA4;&#x6362;&#x673A; @Configurationpublic class RabbitMQConfig { //&#x5B9A;&#x4E49;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; public static final String GOODS_UP_EXCHANGE=&quot;goods_up_exchange&quot;; public static final String GOODS_DOWN_EXCHANGE=&quot;goods_down_exchange&quot;; //&#x5B9A;&#x4E49;&#x961F;&#x5217;&#x540D;&#x79F0; public static final String AD_UPDATE_QUEUE=&quot;ad_update_queue&quot;; public static final String SEARCH_ADD_QUEUE=&quot;search_add_queue&quot;; public static final String SEARCH_DEL_QUEUE=&quot;search_del_queue&quot;; public static final String PAGE_CREATE_QUEUE=&quot;page_create_queue&quot;; //&#x58F0;&#x660E;&#x961F;&#x5217; @Bean public Queue queue(){ return new Queue(AD_UPDATE_QUEUE); } @Bean(SEARCH_ADD_QUEUE) public Queue SEARCH_ADD_QUEUE(){ return new Queue(SEARCH_ADD_QUEUE); } @Bean(SEARCH_DEL_QUEUE) public Queue SEARCH_DEL_QUEUE(){ return new Queue(SEARCH_DEL_QUEUE); } @Bean(PAGE_CREATE_QUEUE) public Queue PAGE_CREATE_QUEUE(){ return new Queue(PAGE_CREATE_QUEUE); } //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; @Bean(GOODS_UP_EXCHANGE) public Exchange GOODS_UP_EXCHANGE(){ return ExchangeBuilder.fanoutExchange(GOODS_UP_EXCHANGE).durable(true).build(); } @Bean(GOODS_DOWN_EXCHANGE) public Exchange GOODS_DOWN_EXCHANGE(){ return ExchangeBuilder.fanoutExchange(GOODS_DOWN_EXCHANGE).durable(true).build(); } //&#x961F;&#x5217;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x7ED1;&#x5B9A; @Bean public Binding GOODS_UP_EXCHANGE_BINDING(@Qualifier(SEARCH_ADD_QUEUE)Queue queue,@Qualifier(GOODS_UP_EXCHANGE)Exchange exchange){ return BindingBuilder.bind(queue).to(exchange).with(&quot;&quot;).noargs(); } @Bean public Binding PAGE_CREATE_QUEUE_BINDING(@Qualifier(PAGE_CREATE_QUEUE)Queue queue,@Qualifier(GOODS_UP_EXCHANGE)Exchange exchange){ return BindingBuilder.bind(queue).to(exchange).with(&quot;&quot;).noargs(); } @Bean public Binding GOODS_DOWN_EXCHANGE_BINDING(@Qualifier(SEARCH_DEL_QUEUE)Queue queue,@Qualifier(GOODS_DOWN_EXCHANGE)Exchange exchange){ return BindingBuilder.bind(queue).to(exchange).with(&quot;&quot;).noargs(); }}(4)&#x521B;&#x5EFA;PageListener&#x76D1;&#x542C;&#x7C7B;,&#x76D1;&#x542C;page_create_queue&#x961F;&#x5217;,&#x83B7;&#x53D6;&#x6D88;&#x606F;,&#x5E76;&#x751F;&#x6210;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762; @Componentpublic class PageListener { @Autowired private PageService pageService; @RabbitListener(queues = RabbitMQConfig.PAGE_CREATE_QUEUE) public void receiveMessage(String spuId){ System.out.println(&quot;&#x751F;&#x6210;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#x9762;,&#x5546;&#x54C1;id&#x4E3A;: &quot;+spuId); //&#x751F;&#x6210;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762; pageService.generateItemPage(spuId); }}(5)&#x66F4;&#x65B0;canal&#x4E2D;&#x6D88;&#x606F;&#x961F;&#x5217;&#x914D;&#x7F6E;&#x7C7B;&#x4E0E;Page&#x670D;&#x52A1;&#x4E00;&#x81F4; (6)&#x66F4;&#x65B0;canal&#x4E2D;&#x5BF9;&#x4E8E;spu&#x8868;&#x7684;&#x76D1;&#x542C;&#x7C7B;,&#x5F53;&#x5546;&#x54C1;&#x5BA1;&#x6838;&#x72B6;&#x6001;&#x4ECE;0&#x53D8;1,&#x5219;&#x5C06;&#x5F53;&#x524D;spuId&#x53D1;&#x9001;&#x5230;&#x6D88;&#x606F;&#x961F;&#x5217; //&#x83B7;&#x53D6;&#x6700;&#x65B0;&#x5BA1;&#x6838;&#x5546;&#x54C1;if (&quot;0&quot;.equals(oldData.get(&quot;status&quot;)) &amp;&amp; &quot;1&quot;.equals(newData.get(&quot;status&quot;))){ //&#x53D1;&#x9001;&#x5546;&#x54C1;spuId rabbitTemplate.convertAndSend(RabbitMQConfig.GOODS_UP_EXCHANGE,&quot;&quot;,newData.get(&quot;id&quot;));}5.3.4 &#x6A21;&#x677F;&#x586B;&#x5145;(1)&#x9762;&#x5305;&#x5C51;&#x6570;&#x636E; &#x4FEE;&#x6539;item.html&#xFF0C;&#x586B;&#x5145;&#x4E09;&#x4E2A;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x4F5C;&#x4E3A;&#x9762;&#x5305;&#x5C51;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; (2)&#x5546;&#x54C1;&#x56FE;&#x7247; &#x4FEE;&#x6539;item.html&#xFF0C;&#x5C06;&#x5546;&#x54C1;&#x56FE;&#x7247;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#xFF0C;&#x5728;&#x771F;&#x5B9E;&#x5DE5;&#x4F5C;&#x4E2D;&#x9700;&#x8981;&#x505A;&#x7A7A;&#x5224;&#x65AD;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; (3)&#x89C4;&#x683C;&#x8F93;&#x51FA; (4)&#x9ED8;&#x8BA4;SKU&#x663E;&#x793A; &#x9759;&#x6001;&#x9875;&#x751F;&#x6210;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x663E;&#x793A;&#x9ED8;&#x8BA4;&#x7684;Sku&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x7B2C;1&#x4E2A;Sku&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x7740;Vue&#x4E00;&#x8D77;&#x5B9E;&#x73B0;&#x3002;&#x53EF;&#x4EE5;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x518D;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;spec&#x548C;sku&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7684;Sku&#x4FE1;&#x606F;&#x548C;Sku&#x7684;&#x89C4;&#x683C;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x9875;&#x9762;&#x663E;&#x793A;&#x9ED8;&#x8BA4;&#x7684;Sku&#x4FE1;&#x606F; (5)&#x8BB0;&#x5F55;&#x9009;&#x4E2D;&#x7684;Sku &#x5728;&#x5F53;&#x524D;Spu&#x7684;&#x6240;&#x6709;Sku&#x4E2D;spec&#x503C;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6839;&#x636E;spec&#x6765;&#x5224;&#x65AD;&#x7528;&#x6237;&#x9009;&#x4E2D;&#x7684;&#x662F;&#x54EA;&#x4E2A;Sku&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;Vue&#x4E2D;&#x6DFB;&#x52A0;&#x4EE3;&#x7801;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x6DFB;&#x52A0;&#x89C4;&#x683C;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6; (6)&#x6837;&#x5F0F;&#x5207;&#x6362; &#x70B9;&#x51FB;&#x4E0D;&#x540C;&#x89C4;&#x683C;&#x540E;&#xFF0C;&#x5B9E;&#x73B0;&#x6837;&#x5F0F;&#x9009;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x6BCF;&#x4E2A;&#x89C4;&#x683C;&#x5224;&#x65AD;&#x8BE5;&#x89C4;&#x683C;&#x662F;&#x5426;&#x5728;&#x5F53;&#x524D;&#x9009;&#x4E2D;&#x7684;Sku&#x89C4;&#x683C;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5728;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;true&#x6DFB;&#x52A0;selected&#x6837;&#x5F0F;&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;false&#x4E0D;&#x6DFB;&#x52A0;selected&#x6837;&#x5F0F;&#x3002; Vue&#x6DFB;&#x52A0;&#x4EE3;&#x7801;&#xFF1A; &#x9875;&#x9762;&#x6DFB;&#x52A0;&#x6837;&#x5F0F;&#x7ED1;&#x5B9A;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; 5.3.5 &#x542F;&#x52A8;&#x6D4B;&#x8BD5;&#x542F;&#x52A8;eurekea&#x670D;&#x52A1;&#x7AEF;,&#x6570;&#x636E;&#x76D1;&#x63A7;&#x670D;&#x52A1;,&#x5546;&#x54C1;&#x670D;&#x52A1;,&#x9759;&#x6001;&#x9875;&#x751F;&#x6210;&#x670D;&#x52A1;. &#x5C06;spu&#x8868;&#x4E2D;status&#x5B57;&#x6BB5;&#x4ECE;0&#x66F4;&#x65B0;&#x4E3A;1. 5.3.6 &#x57FA;&#x4E8E;nginx&#x5B8C;&#x6210;&#x9759;&#x6001;&#x9875;&#x8BBF;&#x95EE;&#x751F;&#x6210;&#x7684;&#x9759;&#x6001;&#x9875;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5148;&#x653E;&#x5230;changgou-service-page&#x5DE5;&#x7A0B;&#x4E2D;&#xFF0C;&#x540E;&#x9762;&#x9879;&#x76EE;&#x5B9E;&#x6218;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x632A;&#x51FA;&#x6765;&#x653E;&#x5230;Nginx&#x6307;&#x5B9A;&#x53D1;&#x5E03;&#x76EE;&#x5F55;&#x3002;&#x4E00;&#x4F1A;&#x513F;&#x6211;&#x4EEC;&#x5C06;&#x751F;&#x6210;&#x7684;&#x9759;&#x6001;&#x9875;&#x653E;&#x5230;resources/templates/items&#x76EE;&#x5F55;&#x4E0B;,&#x6240;&#x4EE5;&#x8BF7;&#x6C42;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x9759;&#x6001;&#x9875;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x5230;&#x8BE5;&#x76EE;&#x5F55;&#x67E5;&#x627E;&#x5373;&#x53EF;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-07-shang-pin-sou-suo%2Fchang-gou-07-shang-pin-xiang-qing-ye-mian.html</url>
    <content type="text"><![CDATA[&#x7B2C;7&#x7AE0; &#x5546;&#x54C1;&#x641C;&#x7D22;&#x5B66;&#x4E60;&#x76EE;&#x6807; &#x6839;&#x636E;&#x641C;&#x7D22;&#x5173;&#x952E;&#x5B57;&#x67E5;&#x8BE2; &#x6761;&#x4EF6;&#x7B5B;&#x9009; &#x89C4;&#x683C;&#x8FC7;&#x6EE4; &#x4EF7;&#x683C;&#x533A;&#x95F4;&#x641C;&#x7D22; &#x5206;&#x9875;&#x67E5;&#x8BE2; &#x6392;&#x5E8F;&#x67E5;&#x8BE2; &#x9AD8;&#x4EAE;&#x67E5;&#x8BE2; 1 &#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x67E5;&#x8BE2;(1) changgou_service_search&#x9879;&#x76EE;&#x521B;&#x5EFA;SearchService&#x63A5;&#x53E3; public interface SearchService { /** * &#x5168;&#x6587;&#x68C0;&#x7D22; * @param paramMap &#x67E5;&#x8BE2;&#x53C2;&#x6570; * @return */ public Map search(Map&lt;String, String&gt; paramMap) throws Exception; }(2) changgou_service_search&#x9879;&#x76EE;&#x521B;&#x5EFA;SearchService&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x7C7B;SearchServiceImpl @Service public class SearchServiceImpl implements SearchService { @Autowired private ElasticsearchTemplate esTemplate; //&#x8BBE;&#x7F6E;&#x6BCF;&#x9875;&#x67E5;&#x8BE2;&#x6761;&#x6570;&#x636E; public final static Integer PAGE_SIZE = 20; @Override public Map search(Map&lt;String, String&gt; searchMap) throws Exception { Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x6709;&#x6761;&#x4EF6;&#x624D;&#x67E5;&#x8BE2;Es if (null != searchMap) { //&#x7EC4;&#x5408;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); //0:&#x5173;&#x952E;&#x8BCD; if (!StringUtils.isEmpty(searchMap.get(&quot;keywords&quot;))) { boolQuery.must(QueryBuilders.matchQuery(&quot;name&quot;, searchMap.get(&quot;keywords&quot;)).operator(Operator.AND)); } //4. &#x539F;&#x751F;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x7C7B; NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder(); nativeSearchQueryBuilder.withQuery(boolQuery); //10: &#x6267;&#x884C;&#x67E5;&#x8BE2;, &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x8C61; AggregatedPage&lt;SkuInfo&gt; aggregatedPage = esTemplate.queryForPage(nativeSearchQueryBuilder.build(), SkuInfo.class, new SearchResultMapper() { @Override public &lt;T&gt; AggregatedPage&lt;T&gt; mapResults(SearchResponse searchResponse, Class&lt;T&gt; aClass, Pageable pageable) { List&lt;T&gt; list = new ArrayList&lt;&gt;(); SearchHits hits = searchResponse.getHits(); if (null != hits) { for (SearchHit hit : hits) { SkuInfo skuInfo = JSON.parseObject(hit.getSourceAsString(), SkuInfo.class); list.add((T) skuInfo); } } return new AggregatedPageImpl&lt;T&gt;(list, pageable, hits.getTotalHits(), searchResponse.getAggregations()); } }); //11. &#x603B;&#x6761;&#x6570; resultMap.put(&quot;total&quot;, aggregatedPage.getTotalElements()); //12. &#x603B;&#x9875;&#x6570; resultMap.put(&quot;totalPages&quot;, aggregatedPage.getTotalPages()); //13. &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5408; resultMap.put(&quot;rows&quot;, aggregatedPage.getContent()); return resultMap; } return null; } }(3) changgou_service_search&#x9879;&#x76EE;&#x521B;&#x5EFA;SearchController @RestController @RequestMapping(&quot;/sku_search&quot;) public class SearchController { @Autowired private EsManagerService esManagerService; @Autowired private SearchService searchService; //&#x5BF9;&#x641C;&#x7D22;&#x5165;&#x53C2;&#x5E26;&#x6709;&#x7279;&#x6B8A;&#x7B26;&#x53F7;&#x8FDB;&#x884C;&#x5904;&#x7406; public void handlerSearchMap(Map&lt;String,String&gt; searchMap){ if(null != searchMap){ Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = searchMap.entrySet(); for (Map.Entry&lt;String, String&gt; entry : entries) { if(entry.getKey().startsWith(&quot;spec_&quot;)){ searchMap.put(entry.getKey(),entry.getValue().replace(&quot;+&quot;,&quot;%2B&quot;)); } } } } /** * &#x5168;&#x6587;&#x68C0;&#x7D22; * @return */ @GetMapping public Map search(@RequestParam Map&lt;String, String&gt; paramMap) throws Exception { //&#x7279;&#x6B8A;&#x7B26;&#x53F7;&#x5904;&#x7406; handlerSearchMap(searchMap); Map resultMap = searchService.search(paramMap); return resultMap; } }(4) &#x6D4B;&#x8BD5; &#x4F7F;&#x7528;postmain&#x8BBF;&#x95EE; http://localhost:9009/sku_search?keywords=&#x624B;&#x673A; 2 &#x6761;&#x4EF6;&#x7B5B;&#x9009; &#x7528;&#x6237;&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x6839;&#x636E;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x3001;&#x54C1;&#x724C;&#x641C;&#x7D22;&#xFF0C;&#x8FD8;&#x6709;&#x53EF;&#x80FD;&#x6839;&#x636E;&#x89C4;&#x683C;&#x641C;&#x7D22;&#xFF0C;&#x4EE5;&#x53CA;&#x4EF7;&#x683C;&#x641C;&#x7D22;&#x548C;&#x6392;&#x5E8F;&#x64CD;&#x4F5C;&#x3002;&#x6839;&#x636E;&#x5206;&#x7C7B;&#x548C;&#x54C1;&#x724C;&#x641C;&#x7D22;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6839;&#x636E;&#x6307;&#x5B9A;&#x57DF;&#x641C;&#x7D22;&#xFF0C;&#x800C;&#x89C4;&#x683C;&#x641C;&#x7D22;&#x7684;&#x57DF;&#x6570;&#x636E;&#x662F;&#x4E0D;&#x786E;&#x5B9A;&#x7684;&#xFF0C;&#x4EF7;&#x683C;&#x662F;&#x4E00;&#x4E2A;&#x533A;&#x95F4;&#x641C;&#x7D22;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x4E09;&#x6BB5;&#x5B9E;&#x73B0;&#xFF0C;&#x5148;&#x5B9E;&#x73B0;&#x5206;&#x7C7B;&#x3001;&#x54C1;&#x724C;&#x641C;&#x7D20;&#xFF0C;&#x518D;&#x5B9E;&#x73B0;&#x89C4;&#x683C;&#x641C;&#x7D22;&#xFF0C;&#x7136;&#x540E;&#x5B9E;&#x73B0;&#x4EF7;&#x683C;&#x533A;&#x95F4;&#x641C;&#x7D22;&#x3002; 2.1 &#x54C1;&#x724C;&#x7B5B;&#x9009;2.1.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x9875;&#x9762;&#x6BCF;&#x6B21;&#x5411;&#x540E;&#x53F0;&#x4F20;&#x5165;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x7C7B;&#x548C;&#x54C1;&#x724C;&#xFF0C;&#x540E;&#x53F0;&#x636E;&#x5206;&#x7C7B;&#x548C;&#x54C1;&#x724C;&#x8FDB;&#x884C;&#x6761;&#x4EF6;&#x8FC7;&#x6EE4;&#x5373;&#x53EF;&#x3002; 2.1.2 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4FEE;&#x6539;&#x641C;&#x7D22;&#x5FAE;&#x670D;&#x52A1;com.changgou.service.SearchServiceImpl&#x7684;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#xFF0C;&#x6DFB;&#x52A0;&#x54C1;&#x724C;&#x8FC7;&#x6EE4;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Override public Map search(Map&lt;String, String&gt; searchMap) throws Exception { Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x6709;&#x6761;&#x4EF6;&#x624D;&#x67E5;&#x8BE2;Es if (null != searchMap) { //&#x7EC4;&#x5408;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); //0:&#x5173;&#x952E;&#x8BCD; if (StringUtils.isNotEmpty(searchMap.get(&quot;keywords&quot;))) { boolQuery.must(QueryBuilders.matchQuery(&quot;name&quot;, searchMap.get(&quot;keywords&quot;)).operator(Operator.AND)); } //1:&#x6761;&#x4EF6; &#x54C1;&#x724C; if (StringUtils.isNotEmpty(searchMap.get(&quot;brand&quot;))) { boolQuery.filter(QueryBuilders.termQuery(&quot;brandName&quot;, searchMap.get(&quot;brand&quot;))); } //4. &#x539F;&#x751F;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x7C7B; NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder(); nativeSearchQueryBuilder.withQuery(boolQuery); //6. &#x54C1;&#x724C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuBrand = &quot;skuBrand&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuBrand).field(&quot;brandName&quot;)); //10: &#x6267;&#x884C;&#x67E5;&#x8BE2;, &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x8C61; AggregatedPage&lt;SkuInfo&gt; aggregatedPage = esTemplate.queryForPage(nativeSearchQueryBuilder.build(), SkuInfo.class, new SearchResultMapper() { @Override public &lt;T&gt; AggregatedPage&lt;T&gt; mapResults(SearchResponse searchResponse, Class&lt;T&gt; aClass, Pageable pageable) { List&lt;T&gt; list = new ArrayList&lt;&gt;(); SearchHits hits = searchResponse.getHits(); if (null != hits) { for (SearchHit hit : hits) { SkuInfo skuInfo = JSON.parseObject(hit.getSourceAsString(), SkuInfo.class); list.add((T) skuInfo); } } return new AggregatedPageImpl&lt;T&gt;(list, pageable, hits.getTotalHits(), searchResponse.getAggregations()); } }); //11. &#x603B;&#x6761;&#x6570; resultMap.put(&quot;total&quot;, aggregatedPage.getTotalElements()); //12. &#x603B;&#x9875;&#x6570; resultMap.put(&quot;totalPages&quot;, aggregatedPage.getTotalPages()); //13. &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5408; resultMap.put(&quot;rows&quot;, aggregatedPage.getContent()); //14. &#x83B7;&#x53D6;&#x54C1;&#x724C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms brandTerms = (StringTerms) aggregatedPage.getAggregation(skuBrand); List&lt;String&gt; brandList = brandTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;brandList&quot;, brandList); return resultMap; } return null; }2.1.3 &#x6D4B;&#x8BD5;&#x6D4B;&#x8BD5;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;http://localhost:9009/sku_search?keywords=&#x624B;&#x673A; &#x6B64;&#x65F6;&#x53EA;&#x80FD;&#x641C;&#x5230;&#x534E;&#x4E3A;&#x624B;&#x73AF;&#x8BBE;&#x5907; 2.2 &#x89C4;&#x683C;&#x8FC7;&#x6EE4;2.2.1 &#x9700;&#x6C42;&#x5206;&#x6790; &#x89C4;&#x683C;&#x8FD9;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x9700;&#x8981;&#x5411;&#x540E;&#x53F0;&#x53D1;&#x9001;&#x89C4;&#x683C;&#x540D;&#x5B57;&#x4EE5;&#x53CA;&#x89C4;&#x683C;&#x503C;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x8981;&#x6C42;&#x6765;&#x53D1;&#x9001;&#x6570;&#x636E;&#xFF0C;&#x4F8B;&#x5982;&#x89C4;&#x683C;&#x540D;&#x5B57;&#x4EE5;&#x7279;&#x6B8A;&#x524D;&#x7F00;&#x63D0;&#x4EA4;&#x5230;&#x540E;&#x53F0;&#xFF1A;spec_&#x7F51;&#x7EDC;&#x5236;&#x5F0F;&#xFF1A;&#x7535;&#x4FE1;4G&#x3001;spec_&#x663E;&#x793A;&#x5C4F;&#x5C3A;&#x5BF8;&#xFF1A;4.0-4.9&#x82F1;&#x5BF8; &#x540E;&#x53F0;&#x63A5;&#x5230;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x524D;&#x7F00;spec_&#x6765;&#x533A;&#x5206;&#x662F;&#x5426;&#x662F;&#x89C4;&#x683C;&#xFF0C;&#x5982;&#x679C;&#x4EE5;spec_xxx&#x5F00;&#x59CB;&#x7684;&#x6570;&#x636E;&#x5219;&#x4E3A;&#x89C4;&#x683C;&#x6570;&#x636E;&#xFF0C;&#x9700;&#x8981;&#x6839;&#x636E;&#x6307;&#x5B9A;&#x89C4;&#x683C;&#x627E;&#x4FE1;&#x606F;&#x3002; &#x4E0A;&#x56FE;&#x662F;&#x89C4;&#x683C;&#x7684;&#x7D22;&#x5F15;&#x5B58;&#x50A8;&#x683C;&#x5F0F;&#xFF0C;&#x771F;&#x5B9E;&#x6570;&#x636E;&#x5728;spechMap.&#x89C4;&#x683C;&#x540D;&#x5B57;.keyword&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x627E;&#x6570;&#x636E;&#x4E5F;&#x662F;&#x6309;&#x7167;&#x5982;&#x4E0B;&#x683C;&#x5F0F;&#x53BB;&#x627E;&#xFF1A; spechMap.&#x89C4;&#x683C;&#x540D;&#x5B57;.keyword2.2.2 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4FEE;&#x6539;com.changgou.service.SearchServiceImpl&#x7684;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#xFF0C;&#x589E;&#x52A0;&#x89C4;&#x683C;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Override public Map search(Map&lt;String, String&gt; searchMap) throws Exception { Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x6709;&#x6761;&#x4EF6;&#x624D;&#x67E5;&#x8BE2;Es if (null != searchMap) { //&#x7EC4;&#x5408;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); //0:&#x5173;&#x952E;&#x8BCD; if (!StringUtils.isEmpty(searchMap.get(&quot;keywords&quot;))) { boolQuery.must(QueryBuilders.matchQuery(&quot;name&quot;, searchMap.get(&quot;keywords&quot;)).operator(Operator.AND)); } //1:&#x6761;&#x4EF6; &#x54C1;&#x724C; if (!StringUtils.isEmpty(searchMap.get(&quot;brand&quot;))) { boolQuery.filter(QueryBuilders.termQuery(&quot;brandName&quot;, searchMap.get(&quot;brand&quot;))); } //2:&#x6761;&#x4EF6; &#x89C4;&#x683C; for (String key : searchMap.keySet()) { if (key.startsWith(&quot;spec_&quot;)) { String value = searchMap.get(key).replace(&quot;%2B&quot;, &quot;+&quot;); boolQuery.filter(QueryBuilders.termQuery(&quot;specMap.&quot; + key.substring(5) + &quot;.keyword&quot;,value)); } } //4. &#x539F;&#x751F;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x7C7B; NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder(); nativeSearchQueryBuilder.withQuery(boolQuery); //6. &#x54C1;&#x724C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuBrand = &quot;skuBrand&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuBrand).field(&quot;brandName&quot;)); //7. &#x89C4;&#x683C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuSpec = &quot;skuSpec&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuSpec).field(&quot;spec.keyword&quot;)); //10: &#x6267;&#x884C;&#x67E5;&#x8BE2;, &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x8C61; AggregatedPage&lt;SkuInfo&gt; aggregatedPage = esTemplate.queryForPage(nativeSearchQueryBuilder.build(), SkuInfo.class, new SearchResultMapper() { @Override public &lt;T&gt; AggregatedPage&lt;T&gt; mapResults(SearchResponse searchResponse, Class&lt;T&gt; aClass, Pageable pageable) { List&lt;T&gt; list = new ArrayList&lt;&gt;(); SearchHits hits = searchResponse.getHits(); if (null != hits) { for (SearchHit hit : hits) { SkuInfo skuInfo = JSON.parseObject(hit.getSourceAsString(), SkuInfo.class); list.add((T) skuInfo); } } return new AggregatedPageImpl&lt;T&gt;(list, pageable, hits.getTotalHits(), searchResponse.getAggregations()); } }); //11. &#x603B;&#x6761;&#x6570; resultMap.put(&quot;total&quot;, aggregatedPage.getTotalElements()); //12. &#x603B;&#x9875;&#x6570; resultMap.put(&quot;totalPages&quot;, aggregatedPage.getTotalPages()); //13. &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5408; resultMap.put(&quot;rows&quot;, aggregatedPage.getContent()); //14. &#x83B7;&#x53D6;&#x54C1;&#x724C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms brandTerms = (StringTerms) aggregatedPage.getAggregation(skuBrand); List&lt;String&gt; brandList = brandTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;brandList&quot;, brandList); //15. &#x83B7;&#x53D6;&#x89C4;&#x683C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms specTerms = (StringTerms) aggregatedPage.getAggregation(skuSpec); List&lt;String&gt; specList = specTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;specList&quot;, specList(specList)); return resultMap; } return null; } //&#x5904;&#x7406;&#x89C4;&#x683C;&#x96C6;&#x5408; public Map&lt;String, Set&lt;String&gt;&gt; specList(List&lt;String&gt; specList) { Map&lt;String, Set&lt;String&gt;&gt; specMap = new HashMap&lt;&gt;(); if (null != specList &amp;&amp; specList.size() &gt; 0) { for (String spec : specList) { Map&lt;String, String&gt; map = JSON.parseObject(spec, Map.class); Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = map.entrySet(); for (Map.Entry&lt;String, String&gt; entry : entries) { String key = entry.getKey(); String value = entry.getValue(); Set&lt;String&gt; specValues = specMap.get(key); if (null == specValues) { specValues = new HashSet&lt;&gt;(); } specValues.add(value); specMap.put(key, specValues); } } } return specMap; }2.2.3 &#x6D4B;&#x8BD5;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;http://localhost:9009/sku_search?keywords=&#x624B;&#x673A; 2.3 &#x4EF7;&#x683C;&#x533A;&#x95F4;&#x67E5;&#x8BE2;2.3.1 &#x9700;&#x6C42;&#x5206;&#x6790; &#x4EF7;&#x683C;&#x533A;&#x95F4;&#x67E5;&#x8BE2;&#xFF0C;&#x6BCF;&#x6B21;&#x9700;&#x8981;&#x5C06;&#x4EF7;&#x683C;&#x4F20;&#x5165;&#x5230;&#x540E;&#x53F0;&#xFF0C;&#x524D;&#x7AEF;&#x4F20;&#x5165;&#x540E;&#x53F0;&#x7684;&#x4EF7;&#x683C;&#x5927;&#x6982;&#x662F;price=0-500&#x6216;&#x8005;price=500-1000&#x4F9D;&#x6B21;&#x7C7B;&#x63A8;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x662F;price=3000,&#x540E;&#x53F0;&#x53EF;&#x4EE5;&#x6839;&#x636E;-&#x5206;&#x5272;&#xFF0C;&#x5982;&#x679C;&#x5206;&#x5272;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x6700;&#x591A;&#x6709;2&#x4E2A;&#xFF0C;&#x7B2C;1&#x4E2A;&#x8868;&#x793A;x&lt;price&#xFF0C;&#x7B2C;2&#x4E2A;&#x8868;&#x793A;price&lt;=y&#x3002; 2.3.2 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4FEE;&#x6539;com.changgou.service.impl.SearchServiceImpl&#x7684;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#xFF0C;&#x589E;&#x52A0;&#x4EF7;&#x683C;&#x533A;&#x95F4;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Override public Map search(Map&lt;String, String&gt; searchMap) throws Exception { Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x6709;&#x6761;&#x4EF6;&#x624D;&#x67E5;&#x8BE2;Es if (null != searchMap) { //&#x7EC4;&#x5408;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); //0:&#x5173;&#x952E;&#x8BCD; if (!StringUtils.isEmpty(searchMap.get(&quot;keywords&quot;))) { boolQuery.must(QueryBuilders.matchQuery(&quot;name&quot;, searchMap.get(&quot;keywords&quot;)).operator(Operator.AND)); } //1:&#x6761;&#x4EF6; &#x54C1;&#x724C; if (!StringUtils.isEmpty(searchMap.get(&quot;brand&quot;))) { boolQuery.filter(QueryBuilders.termQuery(&quot;brandName&quot;, searchMap.get(&quot;brand&quot;))); } //2:&#x6761;&#x4EF6; &#x89C4;&#x683C; for (String key : searchMap.keySet()) { if (key.startsWith(&quot;spec_&quot;)) { String value = searchMap.get(key).replace(&quot;%2B&quot;, &quot;+&quot;); boolQuery.filter(QueryBuilders.termQuery(&quot;specMap.&quot; + key.substring(5) + &quot;.keyword&quot;,value)); } } //3:&#x6761;&#x4EF6; &#x4EF7;&#x683C; if (StringUtils.isNotEmpty(searchMap.get(&quot;price&quot;))) { String[] p = searchMap.get(&quot;price&quot;).split(&quot;-&quot;); if (p.length == 2) { boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).lte(p[1])); } boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).gte(p[0])); } //4. &#x539F;&#x751F;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x7C7B; NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder(); nativeSearchQueryBuilder.withQuery(boolQuery); //6. &#x54C1;&#x724C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuBrand = &quot;skuBrand&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuBrand).field(&quot;brandName&quot;)); //7. &#x89C4;&#x683C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuSpec = &quot;skuSpec&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuSpec).field(&quot;spec.keyword&quot;)); //10: &#x6267;&#x884C;&#x67E5;&#x8BE2;, &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x8C61; AggregatedPage&lt;SkuInfo&gt; aggregatedPage = esTemplate.queryForPage(nativeSearchQueryBuilder.build(), SkuInfo.class, new SearchResultMapper() { @Override public &lt;T&gt; AggregatedPage&lt;T&gt; mapResults(SearchResponse searchResponse, Class&lt;T&gt; aClass, Pageable pageable) { List&lt;T&gt; list = new ArrayList&lt;&gt;(); SearchHits hits = searchResponse.getHits(); if (null != hits) { for (SearchHit hit : hits) { SkuInfo skuInfo = JSON.parseObject(hit.getSourceAsString(), SkuInfo.class); list.add((T) skuInfo); } } return new AggregatedPageImpl&lt;T&gt;(list, pageable, hits.getTotalHits(), searchResponse.getAggregations()); } }); //11. &#x603B;&#x6761;&#x6570; resultMap.put(&quot;total&quot;, aggregatedPage.getTotalElements()); //12. &#x603B;&#x9875;&#x6570; resultMap.put(&quot;totalPages&quot;, aggregatedPage.getTotalPages()); //13. &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5408; resultMap.put(&quot;rows&quot;, aggregatedPage.getContent()); //14. &#x83B7;&#x53D6;&#x54C1;&#x724C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms brandTerms = (StringTerms) aggregatedPage.getAggregation(skuBrand); List&lt;String&gt; brandList = brandTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;brandList&quot;, brandList); //15. &#x83B7;&#x53D6;&#x89C4;&#x683C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms specTerms = (StringTerms) aggregatedPage.getAggregation(skuSpec); List&lt;String&gt; specList = specTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;specList&quot;, specList(specList)); return resultMap; } return null; }2.3.3 &#x6D4B;&#x8BD5;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#xFF1A;http://localhost:9009/sku_search?keywords=&#x624B;&#x673A; &#x6548;&#x679C;&#x5982;&#x4E0B;(&#x90E8;&#x5206;&#x6570;&#x636E;)&#xFF1A; [ { &quot;id&quot;: 1088256019328536576, &quot;name&quot;: &quot;&#x5B88;&#x62A4;&#x5B9D;&#x5E7C;&#x513F;&#x5B89;&#x5168;&#x624B;&#x73AF;&quot;, &quot;price&quot;: 500, &quot;num&quot;: 100, &quot;image&quot;: &quot;http://img10.360buyimg.com/n1/s450x450_jfs/t3457/294/236823024/102048/c97f5825/58072422Ndd7e66c4.jpg&quot;, &quot;status&quot;: &quot;1&quot;, &quot;createTime&quot;: &quot;2019-01-24T10:03:48.000+0000&quot;, &quot;updateTime&quot;: &quot;2019-01-24T10:03:48.000+0000&quot;, &quot;isDefault&quot;: null, &quot;spuId&quot;: 1088256019315953664, &quot;categoryId&quot;: 1108, &quot;categoryName&quot;: &quot;&#x6237;&#x5916;&#x5DE5;&#x5177;&quot;, &quot;brandName&quot;: &quot;&#x5B88;&#x62A4;&#x5B9D;&quot;, &quot;spec&quot;: &quot;{\&quot;&#x989C;&#x8272;\&quot;:\&quot;&#x7EA2;\&quot;,\&quot;&#x673A;&#x8EAB;&#x5185;&#x5B58;\&quot;:\&quot;64G\&quot;}&quot;, &quot;specMap&quot;: { &quot;&#x989C;&#x8272;&quot;: &quot;&#x7EA2;&quot;, &quot;&#x673A;&#x8EAB;&#x5185;&#x5B58;&quot;: &quot;64G&quot; } }, { &quot;id&quot;: 1088256014043713536, &quot;name&quot;: &quot;&#x8BA1;&#x6B65;&#x5668;&#x5C0F;&#x7C73;&#x624B;&#x73AF;&#xFF0C;&#x9002;&#x7528;&#x8001;&#x4EBA;&#x3001;&#x5C0F;&#x5B69;&quot;, &quot;price&quot;: 800, &quot;num&quot;: 100, &quot;image&quot;: &quot;http://img10.360buyimg.com/n1/s450x450_jfs/t3457/294/236823024/102048/c97f5825/58072422Ndd7e66c4.jpg&quot;, &quot;status&quot;: &quot;1&quot;, &quot;createTime&quot;: &quot;2019-01-24T10:03:47.000+0000&quot;, &quot;updateTime&quot;: &quot;2019-01-24T10:03:47.000+0000&quot;, &quot;isDefault&quot;: null, &quot;spuId&quot;: 1088256014026936320, &quot;categoryId&quot;: 1192, &quot;categoryName&quot;: &quot;&#x5C0F;&#x5BB6;&#x7535;&quot;, &quot;brandName&quot;: &quot;&#x5C0F;&#x7C73;&quot;, &quot;spec&quot;: &quot;{\&quot;&#x989C;&#x8272;\&quot;:\&quot;&#x7EA2;\&quot;,\&quot;&#x673A;&#x8EAB;&#x5185;&#x5B58;\&quot;:\&quot;64G\&quot;}&quot;, &quot;specMap&quot;: { &quot;&#x989C;&#x8272;&quot;: &quot;&#x7EA2;&quot;, &quot;&#x673A;&#x8EAB;&#x5185;&#x5B58;&quot;: &quot;64G&quot; } } ]3 &#x641C;&#x7D22;&#x5206;&#x9875;3.1 &#x5206;&#x9875;&#x5206;&#x6790; &#x9875;&#x9762;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x641C;&#x7D22;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x540E;&#x53F0;&#x6BCF;&#x6B21;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x3002;&#x7528;&#x6237;&#x9875;&#x9762;&#x6BCF;&#x6B21;&#x4F1A;&#x4F20;&#x5165;&#x5F53;&#x524D;&#x9875;&#x548C;&#x6BCF;&#x9875;&#x67E5;&#x8BE2;&#x591A;&#x5C11;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x7136;&#x5982;&#x679C;&#x4E0D;&#x4F20;&#x5165;&#x6BCF;&#x9875;&#x663E;&#x793A;&#x591A;&#x5C11;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;30&#x6761;&#x5373;&#x53EF;&#x3002; 3.2 &#x5206;&#x9875;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x4F7F;&#x7528;PageRequest.of( pageNo- 1, pageSize);&#x5B9E;&#x73B0;&#xFF0C;&#x7B2C;1&#x4E2A;&#x53C2;&#x6570;&#x8868;&#x793A;&#x7B2C;N&#x9875;&#xFF0C;&#x4ECE;0&#x5F00;&#x59CB;&#xFF0C;&#x7B2C;2&#x4E2A;&#x53C2;&#x6570;&#x8868;&#x793A;&#x6BCF;&#x9875;&#x663E;&#x793A;&#x591A;&#x5C11;&#x6761;&#xFF0C;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Override public Map search(Map&lt;String, String&gt; searchMap) throws Exception { Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x6709;&#x6761;&#x4EF6;&#x624D;&#x67E5;&#x8BE2;Es if (null != searchMap) { //&#x7EC4;&#x5408;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); //0:&#x5173;&#x952E;&#x8BCD; if (!StringUtils.isEmpty(searchMap.get(&quot;keywords&quot;))) { boolQuery.must(QueryBuilders.matchQuery(&quot;name&quot;, searchMap.get(&quot;keywords&quot;)).operator(Operator.AND)); } //1:&#x6761;&#x4EF6; &#x54C1;&#x724C; if (!StringUtils.isEmpty(searchMap.get(&quot;brand&quot;))) { boolQuery.filter(QueryBuilders.termQuery(&quot;brandName&quot;, searchMap.get(&quot;brand&quot;))); } //2:&#x6761;&#x4EF6; &#x89C4;&#x683C; for (String key : searchMap.keySet()) { if (key.startsWith(&quot;spec_&quot;)) { String value = searchMap.get(key).replace(&quot;%2B&quot;, &quot;+&quot;); boolQuery.filter(QueryBuilders.termQuery(&quot;specMap.&quot; + key.substring(5) + &quot;.keyword&quot;,value)); } } //3:&#x6761;&#x4EF6; &#x4EF7;&#x683C; if (!StringUtils.isEmpty(searchMap.get(&quot;price&quot;))) { String[] p = searchMap.get(&quot;price&quot;).split(&quot;-&quot;); boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).gte(p[0])); if (p.length == 2) { boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).lte(p[1])); } } //4. &#x539F;&#x751F;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x7C7B; NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder(); nativeSearchQueryBuilder.withQuery(boolQuery); //6. &#x54C1;&#x724C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuBrand = &quot;skuBrand&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuBrand).field(&quot;brandName&quot;)); //7. &#x89C4;&#x683C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuSpec = &quot;skuSpec&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuSpec).field(&quot;spec.keyword&quot;)); String pageNum = searchMap.get(&quot;pageNum&quot;); if (null == pageNum) { pageNum = &quot;1&quot;; } //9: &#x5206;&#x9875; nativeSearchQueryBuilder.withPageable(PageRequest.of(Integer.parseInt(pageNum) - 1, Page.pageSize)); //10: &#x6267;&#x884C;&#x67E5;&#x8BE2;, &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x8C61; AggregatedPage&lt;SkuInfo&gt; aggregatedPage = esTemplate.queryForPage(nativeSearchQueryBuilder.build(), SkuInfo.class, new SearchResultMapper() { @Override public &lt;T&gt; AggregatedPage&lt;T&gt; mapResults(SearchResponse searchResponse, Class&lt;T&gt; aClass, Pageable pageable) { List&lt;T&gt; list = new ArrayList&lt;&gt;(); SearchHits hits = searchResponse.getHits(); if (null != hits) { for (SearchHit hit : hits) { SkuInfo skuInfo = JSON.parseObject(hit.getSourceAsString(), SkuInfo.class); list.add((T) skuInfo); } } return new AggregatedPageImpl&lt;T&gt;(list, pageable, hits.getTotalHits(), searchResponse.getAggregations()); } }); //11. &#x603B;&#x6761;&#x6570; resultMap.put(&quot;total&quot;, aggregatedPage.getTotalElements()); //12. &#x603B;&#x9875;&#x6570; resultMap.put(&quot;totalPages&quot;, aggregatedPage.getTotalPages()); //13. &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5408; resultMap.put(&quot;rows&quot;, aggregatedPage.getContent()); //14. &#x83B7;&#x53D6;&#x54C1;&#x724C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms brandTerms = (StringTerms) aggregatedPage.getAggregation(skuBrand); List&lt;String&gt; brandList = brandTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;brandList&quot;, brandList); //15. &#x83B7;&#x53D6;&#x89C4;&#x683C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms specTerms = (StringTerms) aggregatedPage.getAggregation(skuSpec); List&lt;String&gt; specList = specTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;specList&quot;, specList(specList)); //16. &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x9875; resultMap.put(&quot;pageNum&quot;, pageNum); return resultMap; } return null; }&#x6D4B;&#x8BD5;&#x5982;&#x4E0B;&#xFF1A; 4 &#x641C;&#x7D22;&#x6392;&#x5E8F;4.1 &#x6392;&#x5E8F;&#x5206;&#x6790; &#x6392;&#x5E8F;&#x8FD9;&#x91CC;&#x603B;&#x5171;&#x6709;&#x6839;&#x636E;&#x4EF7;&#x683C;&#x6392;&#x5E8F;&#x3001;&#x6839;&#x636E;&#x8BC4;&#x4EF7;&#x6392;&#x5E8F;&#x3001;&#x6839;&#x636E;&#x65B0;&#x54C1;&#x6392;&#x5E8F;&#x3001;&#x6839;&#x636E;&#x9500;&#x91CF;&#x6392;&#x5E8F;&#xFF0C;&#x6392;&#x5E8F;&#x8981;&#x60F3;&#x5B9E;&#x73B0;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x544A;&#x77E5;&#x6392;&#x5E8F;&#x7684;&#x57DF;&#x4EE5;&#x53CA;&#x6392;&#x5E8F;&#x65B9;&#x5F0F;&#x5373;&#x53EF;&#x5B9E;&#x73B0;&#x3002; &#x4EF7;&#x683C;&#x6392;&#x5E8F;&#xFF1A;&#x53EA;&#x9700;&#x8981;&#x6839;&#x636E;&#x4EF7;&#x683C;&#x9AD8;&#x4F4E;&#x6392;&#x5E8F;&#x5373;&#x53EF;&#xFF0C;&#x964D;&#x5E8F;&#x4EF7;&#x683C;&#x9AD8;-&gt;&#x4F4E;&#xFF0C;&#x5347;&#x5E8F;&#x4EF7;&#x683C;&#x4F4E;-&gt;&#x9AD8; &#x8BC4;&#x4EF7;&#x6392;&#x5E8F;&#xFF1A;&#x8BC4;&#x4EF7;&#x5206;&#x4E3A;&#x597D;&#x8BC4;&#x3001;&#x4E2D;&#x8BC4;&#x3001;&#x5DEE;&#x8BC4;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x8BBE;&#x8BA1;3&#x4E2A;&#x5217;&#xFF0C;&#x7528;&#x6765;&#x8BB0;&#x5F55;&#x597D;&#x8BC4;&#x3001;&#x4E2D;&#x8BC4;&#x3001;&#x5DEE;&#x8BC4;&#x7684;&#x91CF;&#xFF0C;&#x6BCF;&#x6B21;&#x6392;&#x5E8F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x597D;&#x8BC4;&#x7684;&#x6BD4;&#x4F8B;&#x6765;&#x6392;&#x5E8F;&#xFF0C;&#x5F53;&#x7136;&#x8FD8;&#x8981;&#x6709;&#x6761;&#x6570;&#x9650;&#x5236;&#xFF0C;&#x8BC4;&#x4EF7;&#x6761;&#x6570;&#x9700;&#x8981;&#x8D85;&#x8FC7;N&#x6761;&#x3002; &#x65B0;&#x54C1;&#x6392;&#x5E8F;&#xFF1A;&#x76F4;&#x63A5;&#x6839;&#x636E;&#x5546;&#x54C1;&#x7684;&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#x6216;&#x8005;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#x6392;&#x5E8F;&#x3002; &#x9500;&#x91CF;&#x6392;&#x5E8F;&#xFF1A;&#x9500;&#x91CF;&#x6392;&#x5E8F;&#x9664;&#x4E86;&#x9500;&#x552E;&#x6570;&#x91CF;&#x5916;&#xFF0C;&#x8FD8;&#x5E94;&#x8BE5;&#x8981;&#x6709;&#x65F6;&#x95F4;&#x6BB5;&#x9650;&#x5236;&#x3002; 4.2 &#x6392;&#x5E8F;&#x5B9E;&#x73B0;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4E0D;&#x5355;&#x72EC;&#x9488;&#x5BF9;&#x67D0;&#x4E2A;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x6392;&#x5E8F;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5728;&#x540E;&#x53F0;&#x63A5;&#x6536;2&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x6392;&#x5E8F;&#x57DF;&#x540D;&#x5B57;&#x548C;&#x6392;&#x5E8F;&#x65B9;&#x5F0F;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Override public Map search(Map&lt;String, String&gt; searchMap) throws Exception { Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x6709;&#x6761;&#x4EF6;&#x624D;&#x67E5;&#x8BE2;Es if (null != searchMap) { //&#x7EC4;&#x5408;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); //0:&#x5173;&#x952E;&#x8BCD; if (!StringUtils.isEmpty(searchMap.get(&quot;keywords&quot;))) { boolQuery.must(QueryBuilders.matchQuery(&quot;name&quot;, searchMap.get(&quot;keywords&quot;)).operator(Operator.AND)); } //1:&#x6761;&#x4EF6; &#x54C1;&#x724C; if (!StringUtils.isEmpty(searchMap.get(&quot;brand&quot;))) { boolQuery.filter(QueryBuilders.termQuery(&quot;brandName&quot;, searchMap.get(&quot;brand&quot;))); } //2:&#x6761;&#x4EF6; &#x89C4;&#x683C; for (String key : searchMap.keySet()) { if (key.startsWith(&quot;spec_&quot;)) { String value = searchMap.get(key).replace(&quot;%2B&quot;, &quot;+&quot;); boolQuery.filter(QueryBuilders.termQuery(&quot;specMap.&quot; + key.substring(5) + &quot;.keyword&quot;,value)); } } //3:&#x6761;&#x4EF6; &#x4EF7;&#x683C; if (!StringUtils.isEmpty(searchMap.get(&quot;price&quot;))) { String[] p = searchMap.get(&quot;price&quot;).split(&quot;-&quot;); boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).gte(p[0])); if (p.length == 2) { boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).lte(p[1])); } } //4. &#x539F;&#x751F;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x7C7B; NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder(); nativeSearchQueryBuilder.withQuery(boolQuery); //6. &#x54C1;&#x724C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuBrand = &quot;skuBrand&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuBrand).field(&quot;brandName&quot;)); //7. &#x89C4;&#x683C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuSpec = &quot;skuSpec&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuSpec).field(&quot;spec.keyword&quot;)); //8: &#x6392;&#x5E8F; if (!StringUtils.isEmpty(searchMap.get(&quot;sortField&quot;))) { if (&quot;ASC&quot;.equals(searchMap.get(&quot;sortRule&quot;))) { nativeSearchQueryBuilder.withSort(SortBuilders.fieldSort(searchMap.get(&quot;sortField&quot;)).order(SortOrder.ASC)); } else { nativeSearchQueryBuilder.withSort(SortBuilders.fieldSort(searchMap.get(&quot;sortField&quot;)).order(SortOrder.DESC)); } } String pageNum = searchMap.get(&quot;pageNum&quot;); if (null == pageNum) { pageNum = &quot;1&quot;; } //9: &#x5206;&#x9875; nativeSearchQueryBuilder.withPageable(PageRequest.of(Integer.parseInt(pageNum) - 1, Page.pageSize)); //10: &#x6267;&#x884C;&#x67E5;&#x8BE2;, &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x8C61; AggregatedPage&lt;SkuInfo&gt; aggregatedPage = esTemplate.queryForPage(nativeSearchQueryBuilder.build(), SkuInfo.class, new SearchResultMapper() { @Override public &lt;T&gt; AggregatedPage&lt;T&gt; mapResults(SearchResponse searchResponse, Class&lt;T&gt; aClass, Pageable pageable) { List&lt;T&gt; list = new ArrayList&lt;&gt;(); SearchHits hits = searchResponse.getHits(); if (null != hits) { for (SearchHit hit : hits) { SkuInfo skuInfo = JSON.parseObject(hit.getSourceAsString(), SkuInfo.class); list.add((T) skuInfo); } } return new AggregatedPageImpl&lt;T&gt;(list, pageable, hits.getTotalHits(), searchResponse.getAggregations()); } }); //11. &#x603B;&#x6761;&#x6570; resultMap.put(&quot;total&quot;, aggregatedPage.getTotalElements()); //12. &#x603B;&#x9875;&#x6570; resultMap.put(&quot;totalPages&quot;, aggregatedPage.getTotalPages()); //13. &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5408; resultMap.put(&quot;rows&quot;, aggregatedPage.getContent()); //14. &#x83B7;&#x53D6;&#x54C1;&#x724C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms brandTerms = (StringTerms) aggregatedPage.getAggregation(skuBrand); List&lt;String&gt; brandList = brandTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;brandList&quot;, brandList); //15. &#x83B7;&#x53D6;&#x89C4;&#x683C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms specTerms = (StringTerms) aggregatedPage.getAggregation(skuSpec); List&lt;String&gt; specList = specTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;specList&quot;, specList(specList)); //16. &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x9875; resultMap.put(&quot;pageNum&quot;, pageNum); return resultMap; } return null; }&#x6D4B;&#x8BD5; &#x6839;&#x636E;&#x4EF7;&#x683C;&#x964D;&#x5E8F;&#xFF1A; {&quot;keywords&quot;:&quot;&#x624B;&#x673A;&quot;,&quot;pageNum&quot;:&quot;1&quot;,&quot;sortRule&quot;:&quot;DESC&quot;,&quot;sortField&quot;:&quot;price&quot;}&#x6839;&#x636E;&#x4EF7;&#x683C;&#x5347;&#x5E8F;&#xFF1A; {&quot;keywords&quot;:&quot;&#x624B;&#x673A;&quot;,&quot;pageNum&quot;:&quot;1&quot;,&quot;sortRule&quot;:&quot;ASC&quot;,&quot;sortField&quot;:&quot;price&quot;}5 &#x9AD8;&#x4EAE;&#x663E;&#x793A;5.1 &#x9AD8;&#x4EAE;&#x5206;&#x6790; &#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x662F;&#x6307;&#x6839;&#x636E;&#x5546;&#x54C1;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x5546;&#x54C1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x663E;&#x793A;&#x7684;&#x9875;&#x9762;&#x5BF9;&#x5173;&#x952E;&#x5B57;&#x7ED9;&#x5B9A;&#x4E86;&#x7279;&#x6B8A;&#x6837;&#x5F0F;&#xFF0C;&#x8BA9;&#x5B83;&#x663E;&#x793A;&#x66F4;&#x52A0;&#x7A81;&#x51FA;&#xFF0C;&#x5982;&#x4E0A;&#x56FE;&#x5546;&#x54C1;&#x641C;&#x7D22;&#x4E2D;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x7F16;&#x7A0B;&#x4E86;&#x7EA2;&#x8272;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x7ED9;&#x5B9A;&#x4E86;&#x7EA2;&#x8272;&#x6837;&#x5F0F;&#x3002; 5.2 &#x9AD8;&#x4EAE;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;&#x89E3;&#x6790;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x641C;&#x7D22;&#x6362;&#x6389;&#xFF0C;&#x6362;&#x6210;&#x9AD8;&#x4EAE;&#x641C;&#x7D22;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x505A;3&#x4E2A;&#x6B65;&#x9AA4;&#xFF1A; 1.&#x6307;&#x5B9A;&#x9AD8;&#x4EAE;&#x57DF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BBE;&#x7F6E;&#x54EA;&#x4E2A;&#x57DF;&#x9700;&#x8981;&#x9AD8;&#x4EAE;&#x663E;&#x793A; &#x8BBE;&#x7F6E;&#x9AD8;&#x4EAE;&#x57DF;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x524D;&#x7F00;&#x548C;&#x540E;&#x7F00;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x5173;&#x952E;&#x8BCD;&#x7528;&#x4EC0;&#x4E48;html&#x6807;&#x7B7E;&#x5305;&#x88F9;&#xFF0C;&#x518D;&#x7ED9;&#x8BE5;&#x6807;&#x7B7E;&#x6837;&#x5F0F; 2.&#x9AD8;&#x4EAE;&#x641C;&#x7D22;&#x5B9E;&#x73B0; 3.&#x5C06;&#x975E;&#x9AD8;&#x4EAE;&#x6570;&#x636E;&#x66FF;&#x6362;&#x6210;&#x9AD8;&#x4EAE;&#x6570;&#x636E;&#x7B2C;1&#x70B9;&#xFF0C;&#x4F8B;&#x5982;&#x5728;&#x767E;&#x5EA6;&#x4E2D;&#x641C;&#x7D22;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x6709;2&#x4E2A;&#x5730;&#x65B9;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x6807;&#x9898;&#x548C;&#x63CF;&#x8FF0;&#xFF0C;&#x5546;&#x57CE;&#x641C;&#x7D22;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EA;&#x662F;&#x5546;&#x54C1;&#x540D;&#x79F0;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x4E86;&#x3002;&#x800C;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x6DFB;&#x52A0;&#x4E86;&#x6837;&#x5F0F;&#xFF0C;&#x4F8B;&#x5982;&lt;span style=&quot;color:red;&quot;&gt;&#x7B14;&#x8BB0;&#x672C;&lt;/span&gt;,&#x800C;&#x5176;&#x4E2D;span&#x5F00;&#x59CB;&#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;&#x524D;&#x7F00;&#xFF0C;span&#x7ED3;&#x675F;&#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;&#x540E;&#x7F00;&#x3002; &#x7B2C;2&#x70B9;&#xFF0C;&#x9AD8;&#x4EAE;&#x641C;&#x7D22;&#x4F7F;&#x7528;ElasticsearchTemplate&#x5B9E;&#x73B0;&#x3002; &#x7B2C;3&#x70B9;&#xFF0C;&#x9AD8;&#x4EAE;&#x641C;&#x7D22;&#x540E;&#xFF0C;&#x4F1A;&#x641C;&#x51FA;&#x975E;&#x9AD8;&#x4EAE;&#x6570;&#x636E;&#x548C;&#x9AD8;&#x4EAE;&#x6570;&#x636E;&#xFF0C;&#x9AD8;&#x4EAE;&#x6570;&#x636E;&#x4F1A;&#x52A0;&#x4E0A;&#x7B2C;1&#x70B9;&#x4E2D;&#x7684;&#x9AD8;&#x4EAE;&#x6837;&#x5F0F;&#xFF0C;&#x6B64;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x975E;&#x9AD8;&#x4EAE;&#x6570;&#x636E;&#x6362;&#x6210;&#x9AD8;&#x4EAE;&#x6570;&#x636E;&#x5373;&#x53EF;&#x3002;&#x4F8B;&#x5982;&#x975E;&#x9AD8;&#x4EAE;:&#x534E;&#x4E3A;&#x7B14;&#x8BB0;&#x672C;&#x6027;&#x80FD;&#x8D85;&#x5F3A;&#x608D; &#x9AD8;&#x4EAE;&#x6570;&#x636E;&#xFF1A;&#x534E;&#x4E3A;&lt;span style=&quot;color:red;&quot;&#x7B14;&#x8BB0;&#x672C;&lt;/span&gt;&#x6027;&#x80FD;&#x8D85;&#x5F3A;&#x608D;,&#x5C06;&#x975E;&#x9AD8;&#x4EAE;&#x7684;&#x6362;&#x6210;&#x9AD8;&#x4EAE;&#x7684;&#xFF0C;&#x5230;&#x9875;&#x9762;&#x5C31;&#x80FD;&#x663E;&#x793A;&#x6837;&#x5F0F;&#x4E86;&#x3002; 5.3 &#x9AD8;&#x4EAE;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x5220;&#x6389;&#x4E4B;&#x524D;com.changgou.service.impl.SearchServiceImpl&#x7684;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x641C;&#x7D22;&#x4EE3;&#x7801;&#xFF0C;&#x7528;&#x4E0B;&#x9762;&#x9AD8;&#x4EAE;&#x641C;&#x7D22;&#x4EE3;&#x7801;&#x66FF;&#x6362;&#xFF1A; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Override public Map search(Map&lt;String, String&gt; searchMap) throws Exception { Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x6709;&#x6761;&#x4EF6;&#x624D;&#x67E5;&#x8BE2;Es if (null != searchMap) { //&#x7EC4;&#x5408;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); //0:&#x5173;&#x952E;&#x8BCD; if (!StringUtils.isEmpty(searchMap.get(&quot;keywords&quot;))) { boolQuery.must(QueryBuilders.matchQuery(&quot;name&quot;, searchMap.get(&quot;keywords&quot;)).operator(Operator.AND)); } //1:&#x6761;&#x4EF6; &#x54C1;&#x724C; if (!StringUtils.isEmpty(searchMap.get(&quot;brand&quot;))) { boolQuery.filter(QueryBuilders.termQuery(&quot;brandName&quot;, searchMap.get(&quot;brand&quot;))); } //2:&#x6761;&#x4EF6; &#x89C4;&#x683C; for (String key : searchMap.keySet()) { if (key.startsWith(&quot;spec_&quot;)) { String value = searchMap.get(key).replace(&quot;%2B&quot;, &quot;+&quot;); boolQuery.filter(QueryBuilders.termQuery(&quot;specMap.&quot; + key.substring(5) + &quot;.keyword&quot;,value)); } } //3:&#x6761;&#x4EF6; &#x4EF7;&#x683C; if (!StringUtils.isEmpty(searchMap.get(&quot;price&quot;))) { String[] p = searchMap.get(&quot;price&quot;).split(&quot;-&quot;); boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).gte(p[0])); if (p.length == 2) { boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).lte(p[1])); } } //4. &#x539F;&#x751F;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x7C7B; NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder(); nativeSearchQueryBuilder.withQuery(boolQuery); //5:&#x9AD8;&#x4EAE; HighlightBuilder.Field field = new HighlightBuilder .Field(&quot;name&quot;) .preTags(&quot;&lt;span style=&apos;color:red&apos;&gt;&quot;) .postTags(&quot;&lt;/span&gt;&quot;); nativeSearchQueryBuilder.withHighlightFields(field); //6. &#x54C1;&#x724C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuBrand = &quot;skuBrand&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuBrand).field(&quot;brandName&quot;)); //7. &#x89C4;&#x683C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuSpec = &quot;skuSpec&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuSpec).field(&quot;spec.keyword&quot;)); //8: &#x6392;&#x5E8F; if (!StringUtils.isEmpty(searchMap.get(&quot;sortField&quot;))) { if (&quot;ASC&quot;.equals(searchMap.get(&quot;sortRule&quot;))) { nativeSearchQueryBuilder.withSort(SortBuilders.fieldSort(searchMap.get(&quot;sortField&quot;)).order(SortOrder.ASC)); } else { nativeSearchQueryBuilder.withSort(SortBuilders.fieldSort(searchMap.get(&quot;sortField&quot;)).order(SortOrder.DESC)); } } String pageNum = searchMap.get(&quot;pageNum&quot;); if (null == pageNum) { pageNum = &quot;1&quot;; } //9: &#x5206;&#x9875; nativeSearchQueryBuilder.withPageable(PageRequest.of(Integer.parseInt(pageNum) - 1, Page.pageSize)); //10: &#x6267;&#x884C;&#x67E5;&#x8BE2;, &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x8C61; AggregatedPage&lt;SkuInfo&gt; aggregatedPage = esTemplate.queryForPage(nativeSearchQueryBuilder.build(), SkuInfo.class, new SearchResultMapper() { @Override public &lt;T&gt; AggregatedPage&lt;T&gt; mapResults(SearchResponse searchResponse, Class&lt;T&gt; aClass, Pageable pageable) { List&lt;T&gt; list = new ArrayList&lt;&gt;(); SearchHits hits = searchResponse.getHits(); if (null != hits) { for (SearchHit hit : hits) { SkuInfo skuInfo = JSON.parseObject(hit.getSourceAsString(), SkuInfo.class); Map&lt;String, HighlightField&gt; highlightFields = hit.getHighlightFields(); if (null != highlightFields &amp;&amp; highlightFields.size() &gt; 0) { skuInfo.setName(highlightFields.get(&quot;name&quot;).getFragments()[0].toString()); } list.add((T) skuInfo); } } return new AggregatedPageImpl&lt;T&gt;(list, pageable, hits.getTotalHits(), searchResponse.getAggregations()); } }); //11. &#x603B;&#x6761;&#x6570; resultMap.put(&quot;total&quot;, aggregatedPage.getTotalElements()); //12. &#x603B;&#x9875;&#x6570; resultMap.put(&quot;totalPages&quot;, aggregatedPage.getTotalPages()); //13. &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5408; resultMap.put(&quot;rows&quot;, aggregatedPage.getContent()); //14. &#x83B7;&#x53D6;&#x54C1;&#x724C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms brandTerms = (StringTerms) aggregatedPage.getAggregation(skuBrand); List&lt;String&gt; brandList = brandTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;brandList&quot;, brandList); //15. &#x83B7;&#x53D6;&#x89C4;&#x683C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms specTerms = (StringTerms) aggregatedPage.getAggregation(skuSpec); List&lt;String&gt; specList = specTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;specList&quot;, specList(specList)); //16. &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x9875; resultMap.put(&quot;pageNum&quot;, pageNum); return resultMap; } return null; } 5.4 &#x6D4B;&#x8BD5; &#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &quot;name&quot;: &quot;HTC M8Sd (E8) &#x6CE2;&#x5C14;&#x591A;&#x7EA2; &#x7535;&#x4FE1;4G&lt;span style=\&quot;color:red\&quot;&gt;&#x624B;&#x673A;&lt;/span&gt; &#x53CC;&#x5361;&#x53CC;&#x5F85;&#x53CC;&#x901A;&quot;,6 &#x6CE8;: &#x6700;&#x7EC8;&#x641C;&#x7D22;&#x4E1A;&#x52A1;&#x4EE3;&#x7801;&#x5982;&#x4E0B;@Service public class SearchServiceImpl implements SearchService { @Autowired private ElasticsearchTemplate esTemplate; //&#x8BBE;&#x7F6E;&#x6BCF;&#x9875;&#x67E5;&#x8BE2;&#x6761;&#x6570;&#x636E; public final static Integer PAGE_SIZE = 20; @Override public Map search(Map&lt;String, String&gt; searchMap) throws Exception { Map&lt;String, Object&gt; resultMap = new HashMap&lt;&gt;(); //&#x6709;&#x6761;&#x4EF6;&#x624D;&#x67E5;&#x8BE2;Es if (null != searchMap) { //&#x7EC4;&#x5408;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; BoolQueryBuilder boolQuery = QueryBuilders.boolQuery(); //0:&#x5173;&#x952E;&#x8BCD; if (!StringUtils.isEmpty(searchMap.get(&quot;keywords&quot;))) { boolQuery.must(QueryBuilders.matchQuery(&quot;name&quot;, searchMap.get(&quot;keywords&quot;)).operator(Operator.AND)); } //1:&#x6761;&#x4EF6; &#x54C1;&#x724C; if (!StringUtils.isEmpty(searchMap.get(&quot;brand&quot;))) { boolQuery.filter(QueryBuilders.termQuery(&quot;brandName&quot;, searchMap.get(&quot;brand&quot;))); } //2:&#x6761;&#x4EF6; &#x89C4;&#x683C; for (String key : searchMap.keySet()) { if (key.startsWith(&quot;spec_&quot;)) { String value = searchMap.get(key).replace(&quot;%2B&quot;, &quot;+&quot;); boolQuery.filter(QueryBuilders.termQuery(&quot;specMap.&quot; + key.substring(5) + &quot;.keyword&quot;,value)); } } //3:&#x6761;&#x4EF6; &#x4EF7;&#x683C; if (!StringUtils.isEmpty(searchMap.get(&quot;price&quot;))) { String[] p = searchMap.get(&quot;price&quot;).split(&quot;-&quot;); boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).gte(p[0])); if (p.length == 2) { boolQuery.filter(QueryBuilders.rangeQuery(&quot;price&quot;).lte(p[1])); } } //4. &#x539F;&#x751F;&#x641C;&#x7D22;&#x5B9E;&#x73B0;&#x7C7B; NativeSearchQueryBuilder nativeSearchQueryBuilder = new NativeSearchQueryBuilder(); nativeSearchQueryBuilder.withQuery(boolQuery); //5:&#x9AD8;&#x4EAE; HighlightBuilder.Field field = new HighlightBuilder .Field(&quot;name&quot;) .preTags(&quot;&lt;span style=&apos;color:red&apos;&gt;&quot;) .postTags(&quot;&lt;/span&gt;&quot;); nativeSearchQueryBuilder.withHighlightFields(field); //6. &#x54C1;&#x724C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuBrand = &quot;skuBrand&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuBrand).field(&quot;brandName&quot;)); //7. &#x89C4;&#x683C;&#x805A;&#x5408;(&#x5206;&#x7EC4;)&#x67E5;&#x8BE2; String skuSpec = &quot;skuSpec&quot;; nativeSearchQueryBuilder.addAggregation(AggregationBuilders.terms(skuSpec).field(&quot;spec.keyword&quot;)); //8: &#x6392;&#x5E8F; if (!StringUtils.isEmpty(searchMap.get(&quot;sortField&quot;))) { if (&quot;ASC&quot;.equals(searchMap.get(&quot;sortRule&quot;))) { nativeSearchQueryBuilder.withSort(SortBuilders.fieldSort(searchMap.get(&quot;sortField&quot;)).order(SortOrder.ASC)); } else { nativeSearchQueryBuilder.withSort(SortBuilders.fieldSort(searchMap.get(&quot;sortField&quot;)).order(SortOrder.DESC)); } } String pageNum = searchMap.get(&quot;pageNum&quot;); if (null == pageNum) { pageNum = &quot;1&quot;; } //9: &#x5206;&#x9875; nativeSearchQueryBuilder.withPageable(PageRequest.of(Integer.parseInt(pageNum) - 1, Page.pageSize)); //10: &#x6267;&#x884C;&#x67E5;&#x8BE2;, &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5BF9;&#x8C61; AggregatedPage&lt;SkuInfo&gt; aggregatedPage = esTemplate.queryForPage(nativeSearchQueryBuilder.build(), SkuInfo.class, new SearchResultMapper() { @Override public &lt;T&gt; AggregatedPage&lt;T&gt; mapResults(SearchResponse searchResponse, Class&lt;T&gt; aClass, Pageable pageable) { List&lt;T&gt; list = new ArrayList&lt;&gt;(); SearchHits hits = searchResponse.getHits(); if (null != hits) { for (SearchHit hit : hits) { SkuInfo skuInfo = JSON.parseObject(hit.getSourceAsString(), SkuInfo.class); Map&lt;String, HighlightField&gt; highlightFields = hit.getHighlightFields(); if (null != highlightFields &amp;&amp; highlightFields.size() &gt; 0) { skuInfo.setName(highlightFields.get(&quot;name&quot;).getFragments()[0].toString()); } list.add((T) skuInfo); } } return new AggregatedPageImpl&lt;T&gt;(list, pageable, hits.getTotalHits(), searchResponse.getAggregations()); } }); //11. &#x603B;&#x6761;&#x6570; resultMap.put(&quot;total&quot;, aggregatedPage.getTotalElements()); //12. &#x603B;&#x9875;&#x6570; resultMap.put(&quot;totalPages&quot;, aggregatedPage.getTotalPages()); //13. &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6;&#x5408; resultMap.put(&quot;rows&quot;, aggregatedPage.getContent()); //14. &#x83B7;&#x53D6;&#x54C1;&#x724C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms brandTerms = (StringTerms) aggregatedPage.getAggregation(skuBrand); List&lt;String&gt; brandList = brandTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;brandList&quot;, brandList); //15. &#x83B7;&#x53D6;&#x89C4;&#x683C;&#x805A;&#x5408;&#x7ED3;&#x679C; StringTerms specTerms = (StringTerms) aggregatedPage.getAggregation(skuSpec); List&lt;String&gt; specList = specTerms.getBuckets().stream().map(bucket -&gt; bucket.getKeyAsString()).collect(Collectors.toList()); resultMap.put(&quot;specList&quot;, specList(specList)); //16. &#x8FD4;&#x56DE;&#x5F53;&#x524D;&#x9875; resultMap.put(&quot;pageNum&quot;, pageNum); return resultMap; } return null; } //&#x5904;&#x7406;&#x89C4;&#x683C;&#x96C6;&#x5408; public Map&lt;String, Set&lt;String&gt;&gt; specList(List&lt;String&gt; specList) { Map&lt;String, Set&lt;String&gt;&gt; specMap = new HashMap&lt;&gt;(); if (null != specList &amp;&amp; specList.size() &gt; 0) { for (String spec : specList) { Map&lt;String, String&gt; map = JSON.parseObject(spec, Map.class); Set&lt;Map.Entry&lt;String, String&gt;&gt; entries = map.entrySet(); for (Map.Entry&lt;String, String&gt; entry : entries) { String key = entry.getKey(); String value = entry.getValue(); Set&lt;String&gt; specValues = specMap.get(key); if (null == specValues) { specValues = new HashSet&lt;&gt;(); } specValues.add(value); specMap.put(key, specValues); } } } return specMap; } } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-06-shu-ju-tong-bu%2Fchang-gou-06-shu-ju-tong-bu.html</url>
    <content type="text"><![CDATA[&#x7B2C;6&#x7AE0; &#x6570;&#x636E;&#x540C;&#x6B65;&#x89E3;&#x51B3;&#x65B9;&#x6848;-canal&#x5B66;&#x4E60;&#x76EE;&#x6807; &#x80FD;&#x591F;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x5F00;&#x53D1; &#x80FD;&#x591F;&#x5B8C;&#x6210;&#x9996;&#x9875;&#x5E7F;&#x544A;&#x7F13;&#x5B58;&#x66F4;&#x65B0;&#x7684;&#x529F;&#x80FD; &#x80FD;&#x591F;&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x7D22;&#x5F15;&#x5E93;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x529F;&#x80FD;&#xFF0C;&#x80FD;&#x591F;&#x753B;&#x51FA;&#x6D41;&#x7A0B;&#x56FE;&#x548C;&#x8BF4;&#x51FA;&#x5B9E;&#x73B0;&#x601D;&#x8DEF; &#x80FD;&#x591F;&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x4E0B;&#x67B6;&#x7D22;&#x5F15;&#x5E93;&#x5220;&#x9664;&#x6570;&#x636E;&#x529F;&#x80FD;&#xFF0C;&#x80FD;&#x591F;&#x753B;&#x51FA;&#x6D41;&#x7A0B;&#x56FE;&#x548C;&#x8BF4;&#x51FA;&#x5B9E;&#x73B0;&#x601D;&#x8DEF; 1. canal1.1 canal&#x7B80;&#x4ECB;canal&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x76D1;&#x63A7;&#x6570;&#x636E;&#x5E93;&#x6570;&#x636E;&#x7684;&#x53D8;&#x5316;&#xFF0C;&#x4ECE;&#x800C;&#x83B7;&#x5F97;&#x65B0;&#x589E;&#x6570;&#x636E;&#xFF0C;&#x6216;&#x8005;&#x4FEE;&#x6539;&#x7684;&#x6570;&#x636E;&#x3002; canal&#x662F;&#x5E94;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x5B58;&#x5728;&#x676D;&#x5DDE;&#x548C;&#x7F8E;&#x56FD;&#x7684;&#x53CC;&#x673A;&#x623F;&#x90E8;&#x7F72;&#xFF0C;&#x5B58;&#x5728;&#x8DE8;&#x673A;&#x623F;&#x540C;&#x6B65;&#x7684;&#x4E1A;&#x52A1;&#x9700;&#x6C42;&#x800C;&#x63D0;&#x51FA;&#x7684;&#x3002; &#x963F;&#x91CC;&#x7CFB;&#x516C;&#x53F8;&#x5F00;&#x59CB;&#x9010;&#x6B65;&#x7684;&#x5C1D;&#x8BD5;&#x57FA;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65E5;&#x5FD7;&#x89E3;&#x6790;&#xFF0C;&#x83B7;&#x53D6;&#x589E;&#x91CF;&#x53D8;&#x66F4;&#x8FDB;&#x884C;&#x540C;&#x6B65;&#xFF0C;&#x7531;&#x6B64;&#x884D;&#x751F;&#x51FA;&#x4E86;&#x589E;&#x91CF;&#x8BA2;&#x9605;&amp;&#x6D88;&#x8D39;&#x7684;&#x4E1A;&#x52A1;&#x3002; &#x539F;&#x7406;&#x76F8;&#x5BF9;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF1A; canal&#x6A21;&#x62DF;mysql slave&#x7684;&#x4EA4;&#x4E92;&#x534F;&#x8BAE;&#xFF0C;&#x4F2A;&#x88C5;&#x81EA;&#x5DF1;&#x4E3A;mysql slave&#xFF0C;&#x5411;mysql master&#x53D1;&#x9001;dump&#x534F;&#x8BAE; mysql master&#x6536;&#x5230;dump&#x8BF7;&#x6C42;&#xFF0C;&#x5F00;&#x59CB;&#x63A8;&#x9001;binary log&#x7ED9;slave(&#x4E5F;&#x5C31;&#x662F;canal) canal&#x89E3;&#x6790;binary log&#x5BF9;&#x8C61;(&#x539F;&#x59CB;&#x4E3A;byte&#x6D41;) 1.2 &#x73AF;&#x5883;&#x90E8;&#x7F72;1.2.1 mysql&#x5F00;&#x542F;binlog&#x6A21;&#x5F0F;&#xFF08;1&#xFF09;&#x67E5;&#x770B;&#x5F53;&#x524D;mysql&#x662F;&#x5426;&#x5F00;&#x542F;binlog&#x6A21;&#x5F0F;&#x3002; SHOW VARIABLES LIKE &apos;%log_bin%&apos;&#x5982;&#x679C;log_bin&#x7684;&#x503C;&#x4E3A;OFF&#x662F;&#x672A;&#x5F00;&#x542F;&#xFF0C;&#x4E3A;ON&#x662F;&#x5DF2;&#x5F00;&#x542F;&#x3002; &#xFF08;2&#xFF09;&#x4FEE;&#x6539;/etc/my.cnf &#x9700;&#x8981;&#x5F00;&#x542F;binlog&#x6A21;&#x5F0F;&#x3002; [mysqld] log-bin=mysql-bin binlog-format=ROW server_id=1&#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x91CD;&#x542F;mysqld&#x7684;&#x670D;&#x52A1;&#x3002; (3) &#x8FDB;&#x5165;mysql mysql -h localhost -u root -p&#xFF08;4&#xFF09;&#x521B;&#x5EFA;&#x8D26;&#x53F7; &#x7528;&#x4E8E;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528; &#x4F7F;&#x7528;root&#x8D26;&#x53F7;&#x521B;&#x5EFA;&#x7528;&#x6237;&#x5E76;&#x6388;&#x4E88;&#x6743;&#x9650; create user canal@&apos;%&apos; IDENTIFIED by &apos;canal&apos;; GRANT SELECT, REPLICATION SLAVE, REPLICATION CLIENT,SUPER ON *.* TO &apos;canal&apos;@&apos;%&apos;; FLUSH PRIVILEGES;1.2.2 canal&#x670D;&#x52A1;&#x7AEF;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#xFF08;1&#xFF09;&#x4E0B;&#x8F7D;&#x5730;&#x5740;canal https://github.com/alibaba/canal/releases/tag/canal-1.0.24 &#xFF08;2&#xFF09;&#x4E0B;&#x8F7D;&#x4E4B;&#x540E; &#x4E0A;&#x4F20;&#x5230;linux&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x89E3;&#x538B;&#x7F29;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x76EE;&#x5F55;/usr/local/canal &#x89E3;&#x538B;&#x7F29;&#x4E4B;&#x540E;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#xFF08;3&#xFF09;&#x4FEE;&#x6539; exmaple&#x4E0B;&#x7684;&#x5B9E;&#x4F8B;&#x914D;&#x7F6E; vi conf/example/instance.properties &#x4FEE;&#x6539;&#x5982;&#x56FE;&#x6240;&#x793A;&#x7684;&#x51E0;&#x4E2A;&#x53C2;&#x6570;&#x3002; &#xFF08;3&#xFF09;&#x6307;&#x5B9A;&#x8BFB;&#x53D6;&#x4F4D;&#x7F6E; &#x8FDB;&#x5165;mysql&#x4E2D;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x8BED;&#x53E5;&#x67E5;&#x770B;binlog&#x6240;&#x5728;&#x4F4D;&#x7F6E; mysql&gt; show master status; &#x663E;&#x793A;&#x5982;&#x4E0B;: +------------------+----------+--------------+------------------+-------------------+ | File | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set | +------------------+----------+--------------+------------------+-------------------+ | mysql-bin.000001 | 120 | | | | +------------------+----------+--------------+------------------+-------------------+ 1 row in set (0.00 sec)&#x5982;&#x679C;file&#x4E2D;binlog&#x6587;&#x4EF6;&#x4E0D;&#x4E3A; mysql-bin.000001 &#x53EF;&#x4EE5;&#x91CD;&#x7F6E;mysql mysql&gt; reset master;&#x67E5;&#x770B;canal&#x914D;&#x7F6E;&#x6587;&#x4EF6; vim /usr/local/canal/conf/example/meta.dat&#x627E;&#x5230;&#x5BF9;&#x5E94;&#x7684;binlog&#x4FE1;&#x606F;&#x66F4;&#x6539;&#x4E00;&#x81F4;&#x5373;&#x53EF; &quot;journalName&quot;:&quot;mysql-bin.000001&quot;,&quot;position&quot;:120,&quot;&#x6CE8;&#x610F;&#xFF1A;&#x5982;&#x679C;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x4EE5;&#x4E0B;&#x9519;&#x8BEF; 2019-06-17 19:35:20.918 [New I/O server worker #1-2] ERROR c.a.otter.canal.server.netty.handler.SessionHandler - something goes wrong with channel:[id: 0x7f2e9be3, /192.168.200.56:52225 =&gt; /192.168.200.128:11111], exception=java.io.IOException: Connection reset by peer&#xFF08;4&#xFF09;&#x542F;&#x52A8;&#x670D;&#x52A1;&#xFF1A; [root@localhost canal]# ./bin/startup.sh&#xFF08;5&#xFF09;&#x67E5;&#x770B;&#x65E5;&#x5FD7;&#xFF1A; cat /usr/local/canal/logs/canal/canal.log &#x8FD9;&#x6837;&#x5C31;&#x8868;&#x793A;&#x542F;&#x52A8;&#x6210;&#x529F;&#x4E86;&#x3002; 1.3 &#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;&#x5F53;&#x7528;&#x6237;&#x6267;&#x884C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x5019;&#xFF0C;binlog &#x65E5;&#x5FD7;&#x4F1A;&#x88AB;canal&#x6355;&#x83B7;&#x5230;&#xFF0C;&#x5E76;&#x89E3;&#x6790;&#x51FA;&#x6570;&#x636E;&#x3002;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5C06;&#x89E3;&#x6790;&#x51FA;&#x6765;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x903B;&#x8F91;&#x5904;&#x7406;&#x3002; &#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x7684;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x5B83;&#x5B9E;&#x73B0;&#x4E86;springboot&#x4E0E;canal&#x7684;&#x96C6;&#x6210;&#x3002;&#x6BD4;&#x539F;&#x751F;&#x7684;canal&#x66F4;&#x52A0;&#x4F18;&#x96C5;&#x3002; https://github.com/chenqian56131/spring-boot-starter-canal &#x4F7F;&#x7528;&#x524D;&#x9700;&#x8981;&#x5C06;starter-canal&#x5B89;&#x88C5;&#x5230;&#x672C;&#x5730;&#x4ED3;&#x5E93;&#x3002; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53C2;&#x7167;&#x5B83;&#x63D0;&#x4F9B;&#x7684;canal-test&#xFF0C;&#x8FDB;&#x884C;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x3002; 1.3.1 &#x5FAE;&#x670D;&#x52A1;&#x642D;&#x5EFA;&#xFF08;1&#xFF09;&#x521B;&#x5EFA;&#x5DE5;&#x7A0B;&#x6A21;&#x5757;changgou_canal&#xFF0C;pom&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;com.xpand&lt;/groupId&gt; &lt;artifactId&gt;starter-canal&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba.otter&lt;/groupId&gt; &lt;artifactId&gt;canal.client&lt;/artifactId&gt; &lt;version&gt;1.0.25&lt;/version&gt; &lt;/dependency&gt;&#x5C11;&#x4E86;&#x4E00;&#x4E2A;pom &#xFF08;2&#xFF09;&#x521B;&#x5EFA;&#x5305;com.changgou.canal &#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B; @SpringBootApplication @EnableCanalClient //&#x58F0;&#x660E;&#x5F53;&#x524D;&#x7684;&#x670D;&#x52A1;&#x662F;canal&#x7684;&#x5BA2;&#x6237;&#x7AEF; public class CanalApplication { public static void main(String[] args) { SpringApplication.run(CanalApplication.class,args); } }&#xFF08;3&#xFF09;&#x6DFB;&#x52A0;&#x914D;&#x7F6E;&#x6587;&#x4EF6;application.properties canal.client.instances.example.host=192.168.200.128 canal.client.instances.example.port=11111 canal.client.instances.example.batchSize=1000 spring.rabbitmq.host=192.168.200.128&#xFF08;4&#xFF09;&#x521B;&#x5EFA;com.changgou.canal.listener&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x7C7B; @CanalEventListener //&#x58F0;&#x660E;&#x5F53;&#x524D;&#x7684;&#x7C7B;&#x662F;canal&#x7684;&#x76D1;&#x542C;&#x7C7B; public class BusinessListener { @Autowired private RabbitTemplate rabbitTemplate; /** * * @param eventType &#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7C7B;&#x578B; * @param rowData &#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E; */ @ListenPoint(schema = &quot;changgou_business&quot;,table = &quot;tb_ad&quot;) public void adUpdate(CanalEntry.EventType eventType,CanalEntry.RowData rowData){ System.out.println(&quot;&#x5E7F;&#x544A;&#x8868;&#x6570;&#x636E;&#x53D1;&#x751F;&#x6539;&#x53D8;&quot;); //&#x83B7;&#x53D6;&#x6539;&#x53D8;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E; rowData.getBeforeColumnsList().forEach((c)-&gt; System.out.println(&quot;&#x6539;&#x53D8;&#x524D;&#x7684;&#x6570;&#x636E;:&quot;+c.getName()+&quot;::&quot;+c.getValue())); //&#x83B7;&#x53D6;&#x6539;&#x53D8;&#x4E4B;&#x540E;&#x7684;&#x6570;&#x636E; rowData.getAfterColumnsList().forEach((c)-&gt; System.out.println(&quot;&#x6539;&#x53D8;&#x4E4B;&#x540E;&#x7684;&#x6570;&#x636E;:&quot;+c.getName()+&quot;::&quot;+c.getValue())); } }&#x6D4B;&#x8BD5;&#xFF1A;&#x542F;&#x52A8;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x4FEE;&#x6539;changgou_business&#x7684;tb_ad&#x8868;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x3002; &#x6709;&#x4E86;&#x8FD9;&#x4E2A;&#x76D1;&#x542C;&#x4E4B;&#x540E; &#x8FD0;&#x8425;&#x4EBA;&#x5458;&#x5728;&#x540E;&#x53F0;&#x4FEE;&#x6539;&#x9996;&#x9875;&#x7684;banner&#x5C31;&#x53EF;&#x4EE5;&#x540C;&#x6B65;&#x5230;&#x524D;&#x53F0;&#x670D;&#x52A1;&#x4E86; 2. &#x9996;&#x9875;&#x5E7F;&#x544A;&#x7F13;&#x5B58;&#x66F4;&#x65B0;2.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x5F53;tb_ad&#xFF08;&#x5E7F;&#x544A;&#xFF09;&#x8868;&#x7684;&#x6570;&#x636E;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#xFF0C;&#x66F4;&#x65B0;redis&#x4E2D;&#x7684;&#x5E7F;&#x544A;&#x6570;&#x636E;&#x3002; 2.2 &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF08;1&#xFF09;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x76D1;&#x63A7;tb_ad&#x8868;&#xFF0C;&#x5F53;&#x53D1;&#x751F;&#x589E;&#x5220;&#x6539;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x63D0;&#x53D6;position&#x503C;&#xFF08;&#x5E7F;&#x544A;&#x4F4D;&#x7F6E;key&#xFF09;&#xFF0C;&#x53D1;&#x9001;&#x5230;rabbitmq &#xFF08;2&#xFF09;&#x4ECE;rabbitmq&#x4E2D;&#x63D0;&#x53D6;&#x6D88;&#x606F;&#xFF0C;&#x901A;&#x8FC7;OkHttpClient&#x8C03;&#x7528;ad_update&#x6765;&#x5B9E;&#x73B0;&#x5BF9;&#x5E7F;&#x544A;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x7684;&#x66F4;&#x65B0;&#x3002; 2.3 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;2.3.1 &#x53D1;&#x9001;&#x6D88;&#x606F;&#x5230;mq&#xFF08;1&#xFF09;&#x5728;rabbitmq&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x521B;&#x5EFA;&#x961F;&#x5217; ad_update_queue &#xFF0C;&#x7528;&#x4E8E;&#x63A5;&#x6536;&#x5E7F;&#x544A;&#x66F4;&#x65B0;&#x901A;&#x77E5; &#xFF08;2&#xFF09;&#x5F15;&#x5165;rabbitmq&#x8D77;&#x6B65;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.amqp&lt;/groupId&gt; &lt;artifactId&gt;spring-rabbit&lt;/artifactId&gt; &lt;/dependency&gt;&#xFF08;3&#xFF09;&#x914D;&#x7F6E;&#x6587;&#x4EF6;application.properties &#x6DFB;&#x52A0;&#x5185;&#x5BB9; spring.rabbitmq.host=192.168.200.128&#xFF08;4&#xFF09;&#x65B0;&#x589E;rabbitMQ&#x914D;&#x7F6E;&#x7C7B; @Configuration public class RabbitMQConfig { //&#x5B9A;&#x4E49;&#x961F;&#x5217;&#x540D;&#x79F0; public static final String AD_UPDATE_QUEUE=&quot;ad_update_queue&quot;; //&#x58F0;&#x660E;&#x961F;&#x5217; @Bean public Queue queue(){ return new Queue(AD_UPDATE_QUEUE); } }&#xFF08;4&#xFF09;&#x4FEE;&#x6539;BusinessListener&#x7C7B; @CanalEventListener //&#x58F0;&#x660E;&#x5F53;&#x524D;&#x7684;&#x7C7B;&#x662F;canal&#x7684;&#x76D1;&#x542C;&#x7C7B; public class BusinessListener { @Autowired private RabbitTemplate rabbitTemplate; /** * * @param eventType &#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x7C7B;&#x578B; * @param rowData &#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6570;&#x636E; */ @ListenPoint(schema = &quot;changgou_business&quot;,table = &quot;tb_ad&quot;) public void adUpdate(CanalEntry.EventType eventType,CanalEntry.RowData rowData){ System.out.println(&quot;&#x5E7F;&#x544A;&#x8868;&#x6570;&#x636E;&#x53D1;&#x751F;&#x6539;&#x53D8;&quot;); for (CanalEntry.Column column : rowData.getAfterColumnsList()) { if (&quot;position&quot;.equals(column.getName())){ System.out.println(&quot;&#x53D1;&#x9001;&#x6700;&#x65B0;&#x7684;&#x6570;&#x636E;&#x5230;MQ:&quot;+column.getValue()); //&#x53D1;&#x9001;&#x6D88;&#x606F; rabbitTemplate.convertAndSend(&quot;&quot;, RabbitMQConfig.AD_UPDATE_QUEUE,column.getValue()); } } } }&#xFF08;5&#xFF09;&#x6D4B;&#x8BD5;&#xFF0C;&#x8FD0;&#x884C;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;canal&#xFF0C;&#x65B0;&#x589E;&#x3001;&#x4FEE;&#x6539;&#x6216;&#x5220;&#x9664;tb_ad&#x8868;&#x6570;&#x636E;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x548C;rabbitmq&#x7BA1;&#x7406;&#x754C;&#x9762;&#x4E2D;ad_update_queue&#x662F;&#x5426;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F; 2.3.2 &#x4ECE;mq&#x4E2D;&#x63D0;&#x53D6;&#x6D88;&#x606F;&#x6267;&#x884C;&#x66F4;&#x65B0;&#xFF08;1&#xFF09;changgou_service_business&#x5DE5;&#x7A0B;pom.xml&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt;&#xFF08;2&#xFF09;&#x5728;spring&#x8282;&#x70B9;&#x4E0B;&#x6DFB;&#x52A0;rabbitmq&#x914D;&#x7F6E; rabbitmq: host: 192.168.200.128&#xFF08;3&#xFF09;com.changgou.business&#x5305;&#x4E0B;&#x521B;&#x5EFA;listener&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x7C7B; @Component public class AdListener { @RabbitListener(queues = &quot;ad_update_queue&quot;) public void receiveMessage(String message){ System.out.println(&quot;&#x63A5;&#x6536;&#x5230;&#x7684;&#x6D88;&#x606F;&#x4E3A;:&quot;+message); //&#x53D1;&#x8D77;&#x8FDC;&#x7A0B;&#x8C03;&#x7528; OkHttpClient okHttpClient = new OkHttpClient(); String url = &quot;http://192.168.200.128/ad_update?position=&quot;+message; Request request = new Request.Builder().url(url).build(); Call call = okHttpClient.newCall(request); call.enqueue(new Callback() { @Override public void onFailure(Call call, IOException e) { //&#x8BF7;&#x6C42;&#x5931;&#x8D25; e.printStackTrace(); } @Override public void onResponse(Call call, Response response) throws IOException { //&#x8BF7;&#x6C42;&#x6210;&#x529F; System.out.println(&quot;&#x8BF7;&#x6C42;&#x6210;&#x529F;:&quot;+response.message()); } }); } }&#xFF08;7&#xFF09;&#x6D4B;&#x8BD5;&#xFF0C;&#x542F;&#x52A8;eureka&#x548C;business&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x548C;&#x6570;&#x636E;&#x540C;&#x6B65;&#x6548;&#x679C;&#x3002; 3. &#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x7D22;&#x5F15;&#x5E93;&#x5BFC;&#x5165;&#x6570;&#x636E;3.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x5C06;&#x5546;&#x54C1;&#x7684;sku&#x5217;&#x8868;&#x5BFC;&#x5165;&#x6216;&#x66F4;&#x65B0;&#x7D22;&#x5F15;&#x5E93;&#x3002; 3.2 &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF08;1&#xFF09;&#x5728;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x76D1;&#x63A7;tb_spu&#x8868;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5F53;tb_spu&#x53D1;&#x751F;&#x66F4;&#x6539;&#x4E14;is_marketable&#x4E3A;1&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#xFF0C;&#x5C06;spu&#x7684;id&#x53D1;&#x9001;&#x5230;rabbitmq&#x3002; &#xFF08;2&#xFF09;&#x5728;rabbitmq&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x521B;&#x5EFA;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x4EA4;&#x6362;&#x5668;&#xFF08;fanout&#xFF09;&#x3002;&#x4F7F;&#x7528;&#x5206;&#x5217;&#x6A21;&#x5F0F;&#x7684;&#x4EA4;&#x6362;&#x5668;&#x662F;&#x8003;&#x8651;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#x79CD;&#x903B;&#x8F91;&#x9700;&#x8981;&#x5904;&#x7406;&#xFF0C;&#x5BFC;&#x5165;&#x7D22;&#x5F15;&#x5E93;&#x53EA;&#x662F;&#x5176;&#x4E2D;&#x4E00;&#x9879;&#xFF0C;&#x53E6;&#x5916;&#x8FD8;&#x6709;&#x5546;&#x54C1;&#x8BE6;&#x7EC6;&#x9875;&#x9759;&#x6001;&#x5316;&#x7B49;&#x64CD;&#x4F5C;&#x3002;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x5BFC;&#x5165;&#x7D22;&#x5F15;&#x5E93;&#x7684;&#x961F;&#x5217;&#x548C;&#x5546;&#x54C1;&#x8BE6;&#x7EC6;&#x9875;&#x9759;&#x6001;&#x5316;&#x961F;&#x5217;&#x5E76;&#x4E0E;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x4EA4;&#x6362;&#x5668;&#x8FDB;&#x884C;&#x7ED1;&#x5B9A;&#x3002; &#xFF08;3&#xFF09;&#x641C;&#x7D22;&#x5FAE;&#x670D;&#x52A1;&#x4ECE;rabbitmq&#x7684;&#x5BFC;&#x5165;&#x7D22;&#x5F15;&#x5E93;&#x7684;&#x961F;&#x5217;&#x4E2D;&#x63D0;&#x53D6;spu&#x7684;id&#xFF0C;&#x901A;&#x8FC7;feign&#x8C03;&#x7528;&#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;&#x5F97;&#x5230;sku&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5E76;&#x4E14;&#x901A;&#x8FC7;&#x8C03;&#x7528;elasticsearch&#x7684;&#x9AD8;&#x7EA7;restAPI &#x5C06;sku&#x5217;&#x8868;&#x5BFC;&#x5165;&#x5230;&#x7D22;&#x5F15;&#x5E93;&#x3002; 3.3 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;3.3.1 &#x53D1;&#x9001;&#x6D88;&#x606F;&#x5230;mq&#xFF08;1&#xFF09;&#x5728;rabbitmq&#x540E;&#x53F0;&#x521B;&#x5EFA;&#x4EA4;&#x6362;&#x5668;goods_up_exchange&#xFF08;&#x7C7B;&#x578B;&#x4E3A;fanout&#xFF09;&#xFF0C;&#x521B;&#x5EFA;&#x961F;&#x5217;search_add_queue&#x7ED1;&#x5B9A;&#x4EA4;&#x6362;&#x5668;goods_up_exchange,&#x66F4;&#x65B0;rabbitmq&#x914D;&#x7F6E;&#x7C7B; @Configuration public class RabbitMQConfig { //&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; private static final String GOODS_UP_EXCHANGE=&quot;goods_up_exchange&quot;; //&#x5B9A;&#x4E49;&#x961F;&#x5217;&#x540D;&#x79F0; private static final String SEARCH_ADD_QUEUE=&quot;search_add_queue&quot;; //&#x5B9A;&#x4E49;&#x961F;&#x5217;&#x540D;&#x79F0; public static final String AD_UPDATE_QUEUE=&quot;ad_update_queue&quot;; //&#x58F0;&#x660E;&#x961F;&#x5217; @Bean public Queue queue(){ return new Queue(AD_UPDATE_QUEUE); } //&#x58F0;&#x660E;&#x961F;&#x5217; @Bean(AD_UPDATE_QUEUE) public Queue AD_UPDATE_QUEUE(){ return new Queue(AD_UPDATE_QUEUE); } //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; @Bean(GOODS_UP_EXCHANGE) public Exchange GOODS_UP_EXCHANGE(){ return ExchangeBuilder.fanoutExchange(GOODS_UP_EXCHANGE).durable(true).build(); } //&#x961F;&#x5217;&#x7ED1;&#x5B9A;&#x4EA4;&#x6362;&#x673A; @Bean public Binding AD_UPDATE_QUEUE_BINDING(@Qualifier(AD_UPDATE_QUEUE) Queue queue,@Qualifier(GOODS_UP_EXCHANGE) Exchange exchange){ return BindingBuilder.bind(queue).to(exchange).with(&quot;&quot;).noargs(); } }&#xFF08;2&#xFF09;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;&#x65B0;&#x589E;SpuListener&#xFF0C;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; @CanalEventListener public class SpuListener { @Autowired private RabbitTemplate rabbitTemplate; @ListenPoint(schema = &quot;changgou_goods&quot;,table = &quot;tb_spu&quot;) public void goodsUp(CanalEntry.EventType eventType,CanalEntry.RowData rowData){ //&#x83B7;&#x53D6;&#x6539;&#x53D8;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#x5E76;&#x5C06;&#x8FD9;&#x90E8;&#x5206;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;map Map&lt;String,String&gt; oldData=new HashMap&lt;&gt;(); rowData.getBeforeColumnsList().forEach((c)-&gt;oldData.put(c.getName(),c.getValue())); //&#x83B7;&#x53D6;&#x6539;&#x53D8;&#x4E4B;&#x540E;&#x7684;&#x6570;&#x636E;&#x5E76;&#x8FD9;&#x90E8;&#x5206;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A;map Map&lt;String,String&gt; newData = new HashMap&lt;&gt;(); rowData.getAfterColumnsList().forEach((c)-&gt;newData.put(c.getName(),c.getValue())); //&#x83B7;&#x53D6;&#x6700;&#x65B0;&#x4E0A;&#x67B6;&#x7684;&#x5546;&#x54C1; 0-&gt;1 if (&quot;0&quot;.equals(oldData.get(&quot;is_marketable&quot;)) &amp;&amp; &quot;1&quot;.equals(newData.get(&quot;is_marketable&quot;))){ //&#x5C06;&#x5546;&#x54C1;&#x7684;spuid&#x53D1;&#x9001;&#x5230;mq rabbitTemplate.convertAndSend(RabbitMQConfig.GOODS_UP_EXCHANGE,&quot;&quot;,newData.get(&quot;id&quot;)); } } }3.3.2 &#x7D22;&#x5F15;&#x5E93;&#x73AF;&#x5883;&#x51C6;&#x5907;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x865A;&#x62DF;&#x673A;&#x955C;&#x50CF;&#x4E2D;&#x5DF2;&#x7ECF;&#x5305;&#x542B;&#x4E86;elasticsearch&#x7684;&#x76F8;&#x5173;docker&#x955C;&#x50CF; 3.3.3 &#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x7ED3;&#x6784;&#x65B0;&#x5EFA;changgou_service_search_api&#x6A21;&#x5757;,&#x5E76;&#x6DFB;&#x52A0;&#x7D22;&#x5F15;&#x5E93;&#x5B9E;&#x4F53;&#x7C7B; (1) &#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;(2) &#x521B;&#x5EFA;&#x5B9E;&#x4F53;&#x7C7B; @Document(indexName = &quot;skuinfo&quot;, type = &quot;docs&quot;) public class SkuInfo implements Serializable { //&#x5546;&#x54C1;id&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x662F;&#x5546;&#x54C1;&#x7F16;&#x53F7; @Id @Field(index = true, store = true, type = FieldType.Keyword) private Long id; //SKU&#x540D;&#x79F0; @Field(index = true, store = true, type = FieldType.Text, analyzer = &quot;ik_smart&quot;) private String name; //&#x5546;&#x54C1;&#x4EF7;&#x683C;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#xFF1A;&#x5143; @Field(index = true, store = true, type = FieldType.Double) private Long price; //&#x5E93;&#x5B58;&#x6570;&#x91CF; @Field(index = true, store = true, type = FieldType.Integer) private Integer num; //&#x5546;&#x54C1;&#x56FE;&#x7247; @Field(index = false, store = true, type = FieldType.Text) private String image; //&#x5546;&#x54C1;&#x72B6;&#x6001;&#xFF0C;1-&#x6B63;&#x5E38;&#xFF0C;2-&#x4E0B;&#x67B6;&#xFF0C;3-&#x5220;&#x9664; @Field(index = true, store = true, type = FieldType.Keyword) private String status; //&#x521B;&#x5EFA;&#x65F6;&#x95F4; private Date createTime; //&#x66F4;&#x65B0;&#x65F6;&#x95F4; private Date updateTime; //&#x662F;&#x5426;&#x9ED8;&#x8BA4; @Field(index = true, store = true, type = FieldType.Keyword) private String isDefault; //SPUID @Field(index = true, store = true, type = FieldType.Long) private Long spuId; //&#x7C7B;&#x76EE;ID @Field(index = true, store = true, type = FieldType.Long) private Long categoryId; //&#x7C7B;&#x76EE;&#x540D;&#x79F0; @Field(index = true, store = true, type = FieldType.Keyword) private String categoryName; //&#x54C1;&#x724C;&#x540D;&#x79F0; @Field(index = true, store = true, type = FieldType.Keyword) private String brandName; //&#x89C4;&#x683C; private String spec; //&#x89C4;&#x683C;&#x53C2;&#x6570; private Map&lt;String, Object&gt; specMap; //getter &amp; setter&#x7565; }3.3.4 &#x641C;&#x7D22;&#x5FAE;&#x670D;&#x52A1;&#x642D;&#x5EFA;&#xFF08;1&#xFF09;&#x521B;&#x5EFA;changgou_service_search&#x6A21;&#x5757;&#xFF0C;pom.xml&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_service_goods_api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_service_search_api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09;changgou_service_search&#x7684;application.yml server: port: 9009 spring: application: name: search rabbitmq: host: 192.168.200.128 redis: host: 192.168.200.128 main: allow-bean-definition-overriding: true #&#x5F53;&#x9047;&#x5230;&#x540C;&#x6837;&#x540D;&#x5B57;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8986;&#x76D6;&#x6CE8;&#x518C; data: elasticsearch: cluster-name: elasticsearch cluster-nodes: 192.168.200.128:9300 thymeleaf: cache: false eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: true feign: hystrix: enabled: true client: config: default: #&#x914D;&#x7F6E;&#x5168;&#x5C40;&#x7684;feign&#x7684;&#x8C03;&#x7528;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &#x5982;&#x679C; &#x6709;&#x6307;&#x5B9A;&#x7684;&#x670D;&#x52A1;&#x914D;&#x7F6E; &#x9ED8;&#x8BA4;&#x7684;&#x914D;&#x7F6E;&#x4E0D;&#x4F1A;&#x751F;&#x6548; connectTimeout: 600000 # &#x6307;&#x5B9A;&#x7684;&#x662F; &#x6D88;&#x8D39;&#x8005; &#x8FDE;&#x63A5;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x7684;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &#x662F;&#x5426;&#x80FD;&#x8FDE;&#x63A5; &#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2; readTimeout: 600000 # &#x6307;&#x5B9A;&#x7684;&#x662F;&#x8C03;&#x7528;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x7684; &#x670D;&#x52A1; &#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF08;&#xFF09; &#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2; #hystrix &#x914D;&#x7F6E; hystrix: command: default: execution: timeout: #&#x5982;&#x679C;enabled&#x8BBE;&#x7F6E;&#x4E3A;false&#xFF0C;&#x5219;&#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x4EA4;&#x7ED9;ribbon&#x63A7;&#x5236; enabled: false isolation: strategy: SEMAPHORE&#xFF08;3&#xFF09;&#x521B;&#x5EFA;com.changgou&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;SearchApplication @SpringBootApplication @EnableEurekaClient @EnableFeignClients(basePackages = {&quot;com.changgou.goods.feign&quot;}) public class SearchApplication { public static void main(String[] args) { SpringApplication.run(SearchApplication.class,args); } }(4) &#x5C06;rabbitmq&#x914D;&#x7F6E;&#x7C7B;&#x653E;&#x5165;&#x8BE5;&#x6A21;&#x5757;&#x4E0B; 3.3.5 &#x5546;&#x54C1;&#x670D;&#x52A1;&#x67E5;&#x8BE2;&#x5546;&#x54C1;&#x4FE1;&#x606F;(1) SkuController&#x65B0;&#x589E;&#x65B9;&#x6CD5; @GetMapping(&quot;/spu/{spuId}&quot;) public List&lt;Sku&gt; findSkuListBySpuId(@PathVariable(&quot;spuId&quot;) String spuId){ Map&lt;String,Object&gt; searchMap = new HashMap&lt;&gt;(); if (!&quot;all&quot;.equals(spuId)){ searchMap.put(&quot;spuId&quot;,spuId); } searchMap.put(&quot;status&quot;,&quot;1&quot;); List&lt;Sku&gt; skuList = skuService.findList(searchMap); return skuList; }(2) changgou_service_goods_api&#x65B0;&#x589E;common&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;(3) &#x5B9A;&#x4E49;skuFegin&#x63A5;&#x53E3; @FeignClient(name=&quot;goods&quot;) @RequestMapping(&quot;/sku&quot;) public interface SkuFeign { /*** * &#x591A;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x54C1;&#x724C;&#x6570;&#x636E; * @param spuId * @return */ @GetMapping(&quot;/sku/spu/{spuId}&quot;) public List&lt;Sku&gt; findSkuListBySpuId(@PathVariable(&quot;spuId&quot;) String spuId); }3.3.6 &#x641C;&#x7D22;&#x5FAE;&#x670D;&#x52A1;&#x6279;&#x91CF;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x903B;&#x8F91;(1) &#x521B;&#x5EFA; com.changgou.search.dao&#x5305;,&#x5E76;&#x65B0;&#x589E;ESManagerMapper&#x63A5;&#x53E3; public interface ESManagerMapper extends ElasticsearchRepository&lt;SkuInfo,Long&gt; { }&#xFF08;2&#xFF09;&#x521B;&#x5EFA; com.changgou.search.service&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x63A5;&#x53E3;EsManagerService public interface SkuSearchService { /** * &#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;&#x7ED3;&#x6784; */ public void createIndexAndMapping(); /** * &#x5BFC;&#x5165;&#x5168;&#x90E8;&#x6570;&#x636E;&#x5230;ES&#x7D22;&#x5F15;&#x5E93; */ public void importAll(); /** * &#x6839;&#x636E;spuid&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5230;ES&#x7D22;&#x5F15;&#x5E93; * @param spuId &#x5546;&#x54C1;id */ public void importDataToESBySpuId(String spuId); }&#xFF08;2&#xFF09;&#x521B;&#x5EFA;com.changgou.search.service.impl&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x670D;&#x52A1;&#x5B9E;&#x73B0;&#x7C7B; @Service public class ESManagerServiceImpl implements ESManagerService { @Autowired private ElasticsearchTemplate elasticsearchTemplate; @Autowired private SkuFeign skuFeign; @Autowired private ESManagerMapper esManagerMapper; //&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;&#x7ED3;&#x6784; @Override public void createMappingAndIndex() { //&#x521B;&#x5EFA;&#x7D22;&#x5F15; elasticsearchTemplate.createIndex(SkuInfo.class); //&#x521B;&#x5EFA;&#x6620;&#x5C04; elasticsearchTemplate.putMapping(SkuInfo.class); } //&#x5BFC;&#x5165;&#x5168;&#x90E8;sku&#x96C6;&#x5408;&#x8FDB;&#x5165;&#x5230;&#x7D22;&#x5F15;&#x5E93; @Override public void importAll() { //&#x67E5;&#x8BE2;sku&#x96C6;&#x5408; List&lt;Sku&gt; skuList = skuFeign.findSkuListBySpuId(&quot;all&quot;); if (skuList == null || skuList.size()&lt;=0){ throw new RuntimeException(&quot;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x88AB;&#x67E5;&#x8BE2;&#x5230;,&#x65E0;&#x6CD5;&#x5BFC;&#x5165;&#x7D22;&#x5F15;&#x5E93;&quot;); } //skulist&#x8F6C;&#x6362;&#x4E3A;json String jsonSkuList = JSON.toJSONString(skuList); //&#x5C06;json&#x8F6C;&#x6362;&#x4E3A;skuinfo List&lt;SkuInfo&gt; skuInfoList = JSON.parseArray(jsonSkuList, SkuInfo.class); for (SkuInfo skuInfo : skuInfoList) { //&#x5C06;&#x89C4;&#x683C;&#x4FE1;&#x606F;&#x8F6C;&#x6362;&#x4E3A;map Map specMap = JSON.parseObject(skuInfo.getSpec(), Map.class); skuInfo.setSpecMap(specMap); } //&#x5BFC;&#x5165;&#x7D22;&#x5F15;&#x5E93; esManagerMapper.saveAll(skuInfoList); } //&#x6839;&#x636E;spuid&#x67E5;&#x8BE2;skuList,&#x6DFB;&#x52A0;&#x5230;&#x7D22;&#x5F15;&#x5E93; @Override public void importDataBySpuId(String spuId) { List&lt;Sku&gt; skuList = skuFeign.findSkuListBySpuId(spuId); if (skuList == null || skuList.size()&lt;=0){ throw new RuntimeException(&quot;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x88AB;&#x67E5;&#x8BE2;&#x5230;,&#x65E0;&#x6CD5;&#x5BFC;&#x5165;&#x7D22;&#x5F15;&#x5E93;&quot;); } //&#x5C06;&#x96C6;&#x5408;&#x8F6C;&#x6362;&#x4E3A;json String jsonSkuList = JSON.toJSONString(skuList); List&lt;SkuInfo&gt; skuInfoList = JSON.parseArray(jsonSkuList, SkuInfo.class); for (SkuInfo skuInfo : skuInfoList) { //&#x5C06;&#x89C4;&#x683C;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x8F6C;&#x6362; Map specMap = JSON.parseObject(skuInfo.getSpec(), Map.class); skuInfo.setSpecMap(specMap); } //&#x6DFB;&#x52A0;&#x7D22;&#x5F15;&#x5E93; esManagerMapper.saveAll(skuInfoList); } }(3) &#x521B;&#x5EFA;com.changgou.search.controller.&#x5B9A;&#x4E49;ESManagerController @RestController @RequestMapping(&quot;/manager&quot;) public class ESManagerController { @Autowired private ESManagerService esManagerService; //&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;&#x7ED3;&#x6784; @GetMapping(&quot;/create&quot;) public Result create(){ esManagerService.createMappingAndIndex(); return new Result(true, StatusCode.OK,&quot;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;&#x7ED3;&#x6784;&#x6210;&#x529F;&quot;); } //&#x5BFC;&#x5165;&#x5168;&#x90E8;&#x6570;&#x636E; @GetMapping(&quot;/importAll&quot;) public Result importAll(){ esManagerService.importAll(); return new Result(true, StatusCode.OK,&quot;&#x5BFC;&#x5165;&#x5168;&#x90E8;&#x6570;&#x636E;&#x6210;&#x529F;&quot;); } }3.3.7 &#x63A5;&#x6536;mq&#x6D88;&#x606F;&#x6267;&#x884C;&#x5BFC;&#x5165;changgou_service_search&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;com.changgou.search.listener&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x7C7B; @Component public class GoodsUpListener { @Autowired private ESManagerService esManagerService; @RabbitListener(queues = RabbitMQConfig.SEARCH_ADD_QUEUE) public void receiveMessage(String spuId){ System.out.println(&quot;&#x63A5;&#x6536;&#x5230;&#x7684;&#x6D88;&#x606F;&#x4E3A;: &quot;+spuId); //&#x67E5;&#x8BE2;skulist,&#x5E76;&#x5BFC;&#x5165;&#x5230;&#x7D22;&#x5F15;&#x5E93; esManagerService.importDataBySpuId(spuId); } }3.3.8 &#x6D4B;&#x8BD5;&#xFF08;1&#xFF09;&#x542F;&#x52A8;&#x73AF;&#x5883; eureka &#x3001;elasticsearch &#x3001;canal&#x670D;&#x52A1;&#x7AEF;&#x3001;canal&#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;&#x3001;rabbitmq &#xFF08;2&#xFF09;&#x542F;&#x52A8;&#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;&#x3001;&#x641C;&#x7D22;&#x5FAE;&#x670D;&#x52A1; &#xFF08;3&#xFF09;&#x4FEE;&#x6539;tb_spu&#x67D0;&#x8BB0;&#x5F55;&#x7684;is_marketable&#x503C;&#x4E3A;1&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#xFF0C;&#x542F;&#x52A8;kibana&#x67E5;&#x8BE2;&#x8BB0;&#x5F55;&#x662F;&#x5426;&#x5BFC;&#x5165;&#x6210;&#x529F; 4. &#x5546;&#x54C1;&#x4E0B;&#x67B6;&#x7D22;&#x5F15;&#x5E93;&#x5220;&#x9664;&#x6570;&#x636E;4.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x5546;&#x54C1;&#x4E0B;&#x67B6;&#x540E;&#x5C06;&#x5546;&#x54C1;&#x4ECE;&#x7D22;&#x5F15;&#x5E93;&#x4E2D;&#x79FB;&#x9664;&#x3002; 4.2 &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x4E0E;&#x5546;&#x54C1;&#x4E0A;&#x67B6;&#x7684;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x975E;&#x5E38;&#x7C7B;&#x4F3C;&#x3002; &#xFF08;1&#xFF09;&#x5728;&#x6570;&#x636E;&#x76D1;&#x63A7;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x76D1;&#x63A7;tb_spu&#x8868;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5F53;tb_spu&#x53D1;&#x751F;&#x66F4;&#x6539;&#x4E14;is_marketable&#x4E3A;0&#x65F6;&#xFF0C;&#x8868;&#x793A;&#x5546;&#x54C1;&#x4E0B;&#x67B6;&#xFF0C;&#x5C06;spu&#x7684;id&#x53D1;&#x9001;&#x5230;rabbitmq&#x3002; &#xFF08;2&#xFF09;&#x5728;rabbitmq&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x521B;&#x5EFA;&#x5546;&#x54C1;&#x4E0B;&#x67B6;&#x4EA4;&#x6362;&#x5668;&#xFF08;fanout&#xFF09;&#x3002;&#x4F7F;&#x7528;&#x5206;&#x5217;&#x6A21;&#x5F0F;&#x7684;&#x4EA4;&#x6362;&#x5668;&#x662F;&#x8003;&#x8651;&#x5546;&#x54C1;&#x4E0B;&#x67B6;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#x79CD;&#x903B;&#x8F91;&#x9700;&#x8981;&#x5904;&#x7406;&#xFF0C;&#x7D22;&#x5F15;&#x5E93;&#x5220;&#x9664;&#x6570;&#x636E;&#x53EA;&#x662F;&#x5176;&#x4E2D;&#x4E00;&#x9879;&#xFF0C;&#x53E6;&#x5916;&#x8FD8;&#x6709;&#x5220;&#x9664;&#x5546;&#x54C1;&#x8BE6;&#x7EC6;&#x9875;&#x7B49;&#x64CD;&#x4F5C;&#x3002; &#xFF08;3&#xFF09;&#x641C;&#x7D22;&#x5FAE;&#x670D;&#x52A1;&#x4ECE;rabbitmq&#x7684;&#x7684;&#x961F;&#x5217;&#x4E2D;&#x63D0;&#x53D6;spu&#x7684;id&#xFF0C;&#x901A;&#x8FC7;&#x8C03;&#x7528;elasticsearch&#x7684;&#x9AD8;&#x7EA7;restAPI &#x5C06;&#x76F8;&#x5173;&#x7684;sku&#x5217;&#x8868;&#x4ECE;&#x7D22;&#x5F15;&#x5E93;&#x5220;&#x9664;&#x3002; 4.3 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x6839;&#x636E;&#x4E0A;&#x8FB9;&#x8BB2;&#x89E3;&#x7684;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x4E0B;&#x67B6;&#x7D22;&#x5F15;&#x5E93;&#x5220;&#x9664;&#x6570;&#x636E;&#x7684;&#x529F;&#x80FD; 4.3.1 &#x521B;&#x5EFA;&#x4EA4;&#x6362;&#x5668;&#x4E0E;&#x961F;&#x5217;&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x4E0B;&#x67B6;&#x4EA4;&#x6362;&#x5668;&#x7684;&#x521B;&#x5EFA;&#xFF0C;&#x961F;&#x5217;&#x7684;&#x521B;&#x5EFA;&#x4E0E;&#x7ED1;&#x5B9A;&#xFF0C;&#x5C06;spuId&#x53D1;&#x9001;&#x6D88;&#x606F;&#x5230;mq &#x5546;&#x54C1;&#x4E0B;&#x67B6;&#x4EA4;&#x6362;&#x5668;&#xFF1A;goods_down_exchange &#x961F;&#x5217;&#x540D;&#x79F0;&#xFF1A; search_delete_queue &#x7ED1;&#x5B9A; search_delete_queue&#x5230;goods_down_exchange @Configuration public class RabbitMQConfig { //&#x5B9A;&#x4E49;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; public static final String GOODS_UP_EXCHANGE=&quot;goods_up_exchange&quot;; public static final String GOODS_DOWN_EXCHANGE=&quot;goods_down_exchange&quot;; //&#x5B9A;&#x4E49;&#x961F;&#x5217;&#x540D;&#x79F0; public static final String AD_UPDATE_QUEUE=&quot;ad_update_queue&quot;; public static final String SEARCH_ADD_QUEUE=&quot;search_add_queue&quot;; public static final String SEARCH_DEL_QUEUE=&quot;search_del_queue&quot;; //&#x58F0;&#x660E;&#x961F;&#x5217; @Bean public Queue queue(){ return new Queue(AD_UPDATE_QUEUE); } @Bean(SEARCH_ADD_QUEUE) public Queue SEARCH_ADD_QUEUE(){ return new Queue(SEARCH_ADD_QUEUE); } @Bean(SEARCH_DEL_QUEUE) public Queue SEARCH_DEL_QUEUE(){ return new Queue(SEARCH_DEL_QUEUE); } //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; @Bean(GOODS_UP_EXCHANGE) public Exchange GOODS_UP_EXCHANGE(){ return ExchangeBuilder.fanoutExchange(GOODS_UP_EXCHANGE).durable(true).build(); } @Bean(GOODS_DOWN_EXCHANGE) public Exchange GOODS_DOWN_EXCHANGE(){ return ExchangeBuilder.fanoutExchange(GOODS_DOWN_EXCHANGE).durable(true).build(); } //&#x961F;&#x5217;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x7ED1;&#x5B9A; @Bean public Binding GOODS_UP_EXCHANGE_BINDING(@Qualifier(SEARCH_ADD_QUEUE)Queue queue,@Qualifier(GOODS_UP_EXCHANGE)Exchange exchange){ return BindingBuilder.bind(queue).to(exchange).with(&quot;&quot;).noargs(); } @Bean public Binding GOODS_DOWN_EXCHANGE_BINDING(@Qualifier(SEARCH_DEL_QUEUE)Queue queue,@Qualifier(GOODS_DOWN_EXCHANGE)Exchange exchange){ return BindingBuilder.bind(queue).to(exchange).with(&quot;&quot;).noargs(); } }4.3.2 canal&#x76D1;&#x542C;&#x4E0B;&#x67B6;&#x4FEE;&#x6539;changgou_canal&#x7684;SpuListener&#x7684;spuUpdate&#x65B9;&#x6CD5;&#xFF0C;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801; //&#x83B7;&#x53D6;&#x6700;&#x65B0;&#x4E0B;&#x67B6;&#x7684;&#x5546;&#x54C1; 1-&gt;0 if (&quot;1&quot;.equals(oldData.get(&quot;is_marketable&quot;)) &amp;&amp; &quot;0&quot;.equals(newData.get(&quot;is_marketable&quot;))){ //&#x5C06;&#x5546;&#x54C1;&#x7684;spuid&#x53D1;&#x9001;&#x5230;mq rabbitTemplate.convertAndSend(RabbitMQConfig.GOODS_DOWN_EXCHANGE,&quot;&quot;,newData.get(&quot;id&quot;)); }4.3.3 &#x6839;&#x636E;spuId&#x5220;&#x9664;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x7F16;&#x5199;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x5B9E;&#x73B0;&#x6839;&#x636E;spuId&#x5220;&#x9664;&#x7D22;&#x5F15;&#x5E93;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#xFF08;1&#xFF09;ESManagerService&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49; //&#x6839;&#x636E;souid&#x5220;&#x9664;es&#x7D22;&#x5F15;&#x5E93;&#x4E2D;&#x76F8;&#x5173;&#x7684;sku&#x6570;&#x636E; void delDataBySpuId(String spuId);&#xFF08;2&#xFF09;ESManagerServiceImpl&#x5B9E;&#x73B0;&#x65B9;&#x6CD5; @Override public void delDataBySpuId(String spuId) { List&lt;Sku&gt; skuList = skuFeign.findSkuListBySpuId(spuId); if (skuList == null || skuList.size()&lt;=0){ throw new RuntimeException(&quot;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x88AB;&#x67E5;&#x8BE2;&#x5230;,&#x65E0;&#x6CD5;&#x5BFC;&#x5165;&#x7D22;&#x5F15;&#x5E93;&quot;); } for (Sku sku : skuList) { esManagerMapper.deleteById(Long.parseLong(sku.getId())); } }4.3.4 &#x63A5;&#x6536;mq&#x6D88;&#x606F;&#xFF0C;&#x6267;&#x884C;&#x7D22;&#x5F15;&#x5E93;&#x5220;&#x9664;&#x4ECE;rabbitmq&#x4E2D;&#x63D0;&#x53D6;&#x6D88;&#x606F;&#xFF0C;&#x8C03;&#x52A8;&#x6839;&#x636E;spuId&#x5220;&#x9664;&#x7D22;&#x5F15;&#x5E93;&#x6570;&#x636E;&#x7684;&#x65B9;&#x6CD5; changgou_service_search&#x65B0;&#x589E;&#x76D1;&#x542C;&#x7C7B; @Component public class GoodsDelListener { @Autowired private ESManagerService esManagerService; @RabbitListener(queues = RabbitMQConfig.SEARCH_DEL_QUEUE) public void receiveMessage(String spuId){ System.out.println(&quot;&#x5220;&#x9664;&#x7D22;&#x5F15;&#x5E93;&#x76D1;&#x542C;&#x7C7B;,&#x63A5;&#x6536;&#x5230;&#x7684;spuId: &quot;+spuId); //&#x8C03;&#x7528;&#x4E1A;&#x52A1;&#x5C42;&#x5B8C;&#x6210;&#x7D22;&#x5F15;&#x5E93;&#x6570;&#x636E;&#x5220;&#x9664; esManagerService.delDataBySpuId(spuId); } } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-05-shou-ye-gao-ke-yong%2Fchang-gou-05-shou-ye-gao-ke-yong.html</url>
    <content type="text"><![CDATA[&#x7B2C;5&#x7AE0; &#x7F51;&#x7AD9;&#x9996;&#x9875;&#x9AD8;&#x53EF;&#x7528;nginx+lua&#x5B66;&#x4E60;&#x76EE;&#x6807; &#x4E86;&#x89E3;Lua&#x8BED;&#x8A00;&#x7684;&#x57FA;&#x672C;&#x8BED;&#x6CD5; &#x4F7F;&#x7528;nginx+Lua+redis&#x5B9E;&#x73B0;&#x5E7F;&#x544A;&#x7F13;&#x5B58; &#x638C;&#x63E1;nginx&#x9650;&#x6D41;&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5; 1 Lua&#x4ECB;&#x7ECD;1.1 lua&#x662F;&#x4EC0;&#x4E48;Lua &#x662F;&#x4E00;&#x4E2A;&#x5C0F;&#x5DE7;&#x7684;&#x811A;&#x672C;&#x8BED;&#x8A00;&#x3002;&#x5B83;&#x662F;&#x5DF4;&#x897F;&#x91CC;&#x7EA6;&#x70ED;&#x5185;&#x5362;&#x5929;&#x4E3B;&#x6559;&#x5927;&#x5B66;&#xFF08;Pontifical Catholic University of Rio de Janeiro&#xFF09;&#x91CC;&#x7684;&#x4E00;&#x4E2A;&#x7531;Roberto Ierusalimschy&#x3001;Waldemar Celes &#x548C; Luiz Henrique de Figueiredo&#x4E09;&#x4EBA;&#x6240;&#x7EC4;&#x6210;&#x7684;&#x7814;&#x7A76;&#x5C0F;&#x7EC4;&#x4E8E;1993&#x5E74;&#x5F00;&#x53D1;&#x7684;&#x3002; &#x5176;&#x8BBE;&#x8BA1;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x901A;&#x8FC7;&#x7075;&#x6D3B;&#x5D4C;&#x5165;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#x4ECE;&#x800C;&#x4E3A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x7075;&#x6D3B;&#x7684;&#x6269;&#x5C55;&#x548C;&#x5B9A;&#x5236;&#x529F;&#x80FD;&#x3002;Lua&#x7531;&#x6807;&#x51C6;C&#x7F16;&#x5199;&#x800C;&#x6210;&#xFF0C;&#x51E0;&#x4E4E;&#x5728;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x5E73;&#x53F0;&#x4E0A;&#x90FD;&#x53EF;&#x4EE5;&#x7F16;&#x8BD1;&#xFF0C;&#x8FD0;&#x884C;&#x3002;Lua&#x5E76;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x5F3A;&#x5927;&#x7684;&#x5E93;&#xFF0C;&#x8FD9;&#x662F;&#x7531;&#x5B83;&#x7684;&#x5B9A;&#x4F4D;&#x51B3;&#x5B9A;&#x7684;&#x3002;&#x6240;&#x4EE5;Lua&#x4E0D;&#x9002;&#x5408;&#x4F5C;&#x4E3A;&#x5F00;&#x53D1;&#x72EC;&#x7ACB;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x8BED;&#x8A00;&#x3002;Lua &#x6709;&#x4E00;&#x4E2A;&#x540C;&#x65F6;&#x8FDB;&#x884C;&#x7684;JIT&#x9879;&#x76EE;&#xFF0C;&#x63D0;&#x4F9B;&#x5728;&#x7279;&#x5B9A;&#x5E73;&#x53F0;&#x4E0A;&#x7684;&#x5373;&#x65F6;&#x7F16;&#x8BD1;&#x529F;&#x80FD;&#x3002; &#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF1A; Lua &#x662F;&#x4E00;&#x79CD;&#x8F7B;&#x91CF;&#x5C0F;&#x5DE7;&#x7684;&#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;&#x7528;&#x6807;&#x51C6;C&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x5E76;&#x4EE5;&#x6E90;&#x4EE3;&#x7801;&#x5F62;&#x5F0F;&#x5F00;&#x653E;&#xFF0C; &#x5176;&#x8BBE;&#x8BA1;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x5D4C;&#x5165;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x4ECE;&#x800C;&#x4E3A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x7075;&#x6D3B;&#x7684;&#x6269;&#x5C55;&#x548C;&#x5B9A;&#x5236;&#x529F;&#x80FD;&#x3002; lua &#x8BED;&#x8A00;&#x5177;&#x6709;&#x4EE5;&#x4E0B;&#x7279;&#x6027; &#x652F;&#x6301;&#x9762;&#x5411;&#x8FC7;&#x7A0B;(procedure-oriented)&#x7F16;&#x7A0B;&#x548C;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;(functional programming)&#xFF1B; &#x81EA;&#x52A8;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#xFF1B;&#x53EA;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x79CD;&#x901A;&#x7528;&#x7C7B;&#x578B;&#x7684;&#x8868;&#xFF08;table&#xFF09;&#xFF0C;&#x7528;&#x5B83;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6570;&#x7EC4;&#xFF0C;&#x54C8;&#x5E0C;&#x8868;&#xFF0C;&#x96C6;&#x5408;&#xFF0C;&#x5BF9;&#x8C61;&#xFF1B; &#x8BED;&#x8A00;&#x5185;&#x7F6E;&#x6A21;&#x5F0F;&#x5339;&#x914D;&#xFF1B;&#x95ED;&#x5305;(closure)&#xFF1B;&#x51FD;&#x6570;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x4E00;&#x4E2A;&#x503C;&#xFF1B;&#x63D0;&#x4F9B;&#x591A;&#x7EBF;&#x7A0B;&#xFF08;&#x534F;&#x540C;&#x8FDB;&#x7A0B;&#xFF0C;&#x5E76;&#x975E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x6240;&#x652F;&#x6301;&#x7684;&#x7EBF;&#x7A0B;&#xFF09;&#x652F;&#x6301;&#xFF1B; &#x901A;&#x8FC7;&#x95ED;&#x5305;&#x548C;table&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x652F;&#x6301;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7F16;&#x7A0B;&#x6240;&#x9700;&#x8981;&#x7684;&#x4E00;&#x4E9B;&#x5173;&#x952E;&#x673A;&#x5236;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x62BD;&#x8C61;&#xFF0C;&#x865A;&#x51FD;&#x6570;&#xFF0C;&#x7EE7;&#x627F;&#x548C;&#x91CD;&#x8F7D;&#x7B49;&#x3002; &#x5E94;&#x7528;&#x573A;&#x666F; &#x6E38;&#x620F;&#x5F00;&#x53D1; &#x72EC;&#x7ACB;&#x5E94;&#x7528;&#x811A;&#x672C; Web &#x5E94;&#x7528;&#x811A;&#x672C; &#x6269;&#x5C55;&#x548C;&#x6570;&#x636E;&#x5E93;&#x63D2;&#x4EF6;&#x5982;&#xFF1A;MySQL Proxy &#x548C; MySQL WorkBench &#x5B89;&#x5168;&#x7CFB;&#x7EDF;&#xFF0C;&#x5982;&#x5165;&#x4FB5;&#x68C0;&#x6D4B;&#x7CFB;&#x7EDF; redis&#x4E2D;&#x5D4C;&#x5957;&#x8C03;&#x7528;&#x5B9E;&#x73B0;&#x7C7B;&#x4F3C;&#x4E8B;&#x52A1;&#x7684;&#x529F;&#x80FD; web&#x5BB9;&#x5668;&#x4E2D;&#x5E94;&#x7528;&#x5904;&#x7406;&#x4E00;&#x4E9B;&#x8FC7;&#x6EE4; &#x7F13;&#x5B58;&#x7B49;&#x7B49;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x4F8B;&#x5982;nginx&#x3002; 1.2 lua&#x7684;&#x5B89;&#x88C5;&#x6709;linux&#x7248;&#x672C;&#x7684;&#x5B89;&#x88C5;&#x4E5F;&#x6709;mac&#x7248;&#x672C;&#x7684;&#x5B89;&#x88C5;&#x3002;&#x3002;&#x6211;&#x4EEC;&#x91C7;&#x7528;linux&#x7248;&#x672C;&#x7684;&#x5B89;&#x88C5;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x51C6;&#x5907;&#x4E00;&#x4E2A;linux&#x865A;&#x62DF;&#x673A;&#x3002; &#x5B89;&#x88C5;&#x6B65;&#x9AA4;,&#x5728;linux&#x7CFB;&#x7EDF;&#x4E2D;&#x6267;&#x884C;&#x4E0B;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x3002; yum install -y gcc yum install libtermcap-devel ncurses-devel libevent-devel readline-devel curl -R -O http://www.lua.org/ftp/lua-5.3.5.tar.gz tar -zxf lua-5.3.5.tar.gz cd lua-5.3.5 make linux test make install1.3 &#x5FEB;&#x901F;&#x5165;&#x95E8;&#x521B;&#x5EFA;hello.lua&#x6587;&#x4EF6;&#xFF0C;&#x5185;&#x5BB9;&#x4E3A; print(&quot;hello&quot;);&#x4FDD;&#x5B58;&#x3002;&#x6267;&#x884C;&#x547D;&#x4EE4; lua helloworld.lua&#x8F93;&#x51FA;&#x4E3A;&#xFF1A; Hello1.4 LUA&#x7684;&#x57FA;&#x672C;&#x8BED;&#x6CD5; lua&#x6709;&#x4EA4;&#x4E92;&#x5F0F;&#x7F16;&#x7A0B;&#x548C;&#x811A;&#x672C;&#x5F0F;&#x7F16;&#x7A0B;&#x3002; &#x4EA4;&#x4E92;&#x5F0F;&#x7F16;&#x7A0B;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x8F93;&#x5165;&#x8BED;&#x6CD5;&#xFF0C;&#x5C31;&#x80FD;&#x6267;&#x884C;&#x3002; &#x811A;&#x672C;&#x5F0F;&#x7F16;&#x7A0B;&#x9700;&#x8981;&#x7F16;&#x5199;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6267;&#x884C;&#x3002; &#x4E00;&#x822C;&#x91C7;&#x7528;&#x811A;&#x672C;&#x5F0F;&#x7F16;&#x7A0B;&#x3002;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;&#x7F16;&#x5199;&#x4E00;&#x4E2A;hello.lua&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8F93;&#x5165;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x5E76;&#x6267;&#x884C;lua hell.lua&#x5373;&#x53EF;&#xFF09; 1.4.1 &#x6CE8;&#x91CA;&#x5355;&#x884C;&#x6CE8;&#x91CA;&#xFF1A;&#x4E24;&#x4E2A;&#x51CF;&#x53F7;&#x662F;&#x5355;&#x884C;&#x6CE8;&#x91CA;: --&#x591A;&#x884C;&#x6CE8;&#x91CA;&#xFF1A; --[[ &#x591A;&#x884C;&#x6CE8;&#x91CA; &#x591A;&#x884C;&#x6CE8;&#x91CA; --]]1.4.2 &#x5173;&#x952E;&#x5B57;&#x5173;&#x952E;&#x5B57;&#x5C31;&#x597D;&#x6BD4;java&#x4E2D;&#x7684; break if else&#x7B49;&#x7B49;&#x4E00;&#x6837;&#x7684;&#x6548;&#x679C;&#x3002;lua&#x7684;&#x5173;&#x952E;&#x5B57;&#x5982;&#x4E0B;&#xFF1A; and break do else elseif end false for function if in local nil not or repeat return then true until while 1.4.3 &#x5B9A;&#x4E49;&#x53D8;&#x91CF;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x90FD;&#x662F;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#xFF0C; &#x5982;&#x679C;&#x8981;&#x7528;&#x5C40;&#x90E8;&#x53D8;&#x91CF; &#x9700;&#x8981;&#x58F0;&#x660E;&#x4E3A;local.&#x4F8B;&#x5982;&#xFF1A; -- &#x5168;&#x5C40;&#x53D8;&#x91CF;&#x8D4B;&#x503C; a=1 -- &#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8D4B;&#x503C; local b=2 &#x5982;&#x679C;&#x53D8;&#x91CF;&#x6CA1;&#x6709;&#x521D;&#x59CB;&#x5316;&#xFF1A;&#x5219; &#x5B83;&#x7684;&#x503C;&#x4E3A;nil &#x8FD9;&#x548C;java&#x4E2D;&#x7684;null&#x4E0D;&#x540C;&#x3002; 1.4.4 Lua&#x4E2D;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;Lua &#x662F;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#xFF0C;&#x53D8;&#x91CF;&#x4E0D;&#x8981;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;,&#x53EA;&#x9700;&#x8981;&#x4E3A;&#x53D8;&#x91CF;&#x8D4B;&#x503C;&#x3002; &#x503C;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x5728;&#x53D8;&#x91CF;&#x4E2D;&#xFF0C;&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x6216;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x3002; Lua &#x4E2D;&#x6709; 8 &#x4E2A;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x5206;&#x522B;&#x4E3A;&#xFF1A;nil&#x3001;boolean&#x3001;number&#x3001;string&#x3001;userdata&#x3001;function&#x3001;thread &#x548C; table&#x3002; &#x6570;&#x636E;&#x7C7B;&#x578B; &#x63CF;&#x8FF0; nil &#x8FD9;&#x4E2A;&#x6700;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x6709;&#x503C;nil&#x5C5E;&#x4E8E;&#x8BE5;&#x7C7B;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x65E0;&#x6548;&#x503C;&#xFF08;&#x5728;&#x6761;&#x4EF6;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x76F8;&#x5F53;&#x4E8E;false&#xFF09;&#x3002; boolean &#x5305;&#x542B;&#x4E24;&#x4E2A;&#x503C;&#xFF1A;false&#x548C;true&#x3002; number &#x8868;&#x793A;&#x53CC;&#x7CBE;&#x5EA6;&#x7C7B;&#x578B;&#x7684;&#x5B9E;&#x6D6E;&#x70B9;&#x6570; string &#x5B57;&#x7B26;&#x4E32;&#x7531;&#x4E00;&#x5BF9;&#x53CC;&#x5F15;&#x53F7;&#x6216;&#x5355;&#x5F15;&#x53F7;&#x6765;&#x8868;&#x793A; function &#x7531; C &#x6216; Lua &#x7F16;&#x5199;&#x7684;&#x51FD;&#x6570; userdata &#x8868;&#x793A;&#x4EFB;&#x610F;&#x5B58;&#x50A8;&#x5728;&#x53D8;&#x91CF;&#x4E2D;&#x7684;C&#x6570;&#x636E;&#x7ED3;&#x6784; thread &#x8868;&#x793A;&#x6267;&#x884C;&#x7684;&#x72EC;&#x7ACB;&#x7EBF;&#x8DEF;&#xFF0C;&#x7528;&#x4E8E;&#x6267;&#x884C;&#x534F;&#x540C;&#x7A0B;&#x5E8F; table Lua &#x4E2D;&#x7684;&#x8868;&#xFF08;table&#xFF09;&#x5176;&#x5B9E;&#x662F;&#x4E00;&#x4E2A;&#x201D;&#x5173;&#x8054;&#x6570;&#x7EC4;&#x201D;&#xFF08;associative arrays&#xFF09;&#xFF0C;&#x6570;&#x7EC4;&#x7684;&#x7D22;&#x5F15;&#x53EF;&#x4EE5;&#x662F;&#x6570;&#x5B57;&#x3001;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8868;&#x7C7B;&#x578B;&#x3002;&#x5728; Lua &#x91CC;&#xFF0C;table &#x7684;&#x521B;&#x5EFA;&#x662F;&#x901A;&#x8FC7;&#x201D;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x201D;&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x6700;&#x7B80;&#x5355;&#x6784;&#x9020;&#x8868;&#x8FBE;&#x5F0F;&#x662F;{}&#xFF0C;&#x7528;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x8868;&#x3002; 1.4.5 &#x6D41;&#x7A0B;&#x63A7;&#x5236;&#x5982;&#x4E0B;&#xFF1A;&#x7C7B;&#x4F3C;&#x4E8E;if else --[ 0 &#x4E3A; true ] if(0) then print(&quot;0 &#x4E3A; true&quot;) else print(&quot;0 &#x4E0D;&#x4E3A;true&quot;) end1.4.6 &#x51FD;&#x6570;lua&#x4E2D;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x51FD;&#x6570;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;java&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x4F8B;&#x5982;&#xFF1A; --[[ &#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x4E24;&#x4E2A;&#x503C;&#x7684;&#x6700;&#x5927;&#x503C; --]] function max(num1, num2) if (num1 &gt; num2) then result = num1; else result = num2; end return result; end -- &#x8C03;&#x7528;&#x51FD;&#x6570; print(&quot;&#x4E24;&#x503C;&#x6BD4;&#x8F83;&#x6700;&#x5927;&#x503C;&#x4E3A; &quot;,max(10,4)) print(&quot;&#x4E24;&#x503C;&#x6BD4;&#x8F83;&#x6700;&#x5927;&#x503C;&#x4E3A; &quot;,max(5,6))&#x6267;&#x884C;&#x4E4B;&#x540E;&#x7684;&#x7ED3;&#x679C;&#xFF1A; &#x4E24;&#x503C;&#x6BD4;&#x8F83;&#x6700;&#x5927;&#x503C;&#x4E3A; 10 &#x4E24;&#x503C;&#x6BD4;&#x8F83;&#x6700;&#x5927;&#x503C;&#x4E3A; 61.4.7 require &#x51FD;&#x6570;require &#x7528;&#x4E8E; &#x5F15;&#x5165;&#x5176;&#x4ED6;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;java&#x4E2D;&#x7684;&#x7C7B;&#x8981;&#x5F15;&#x7528;&#x522B;&#x7684;&#x7C7B;&#x7684;&#x6548;&#x679C;&#x3002; &#x7528;&#x6CD5;&#xFF1A; require &quot;&lt;&#x6A21;&#x5757;&#x540D;&gt;&quot;2.nginx+lua+redis&#x5B9E;&#x73B0;&#x5E7F;&#x544A;&#x7F13;&#x5B58;2.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x4E0A;&#x663E;&#x793A;&#x5E7F;&#x544A;&#x7684;&#x4FE1;&#x606F;&#x3002; 2.2 OpenResty2.2.1 OpenResty&#x4ECB;&#x7ECD;OpenResty(&#x53C8;&#x79F0;&#xFF1A;ngx_openresty) &#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E; NGINX &#x7684;&#x53EF;&#x4F38;&#x7F29;&#x7684; Web &#x5E73;&#x53F0;&#xFF0C;&#x7531;&#x4E2D;&#x56FD;&#x4EBA;&#x7AE0;&#x4EA6;&#x6625;&#x53D1;&#x8D77;&#xFF0C;&#x63D0;&#x4F9B;&#x4E86;&#x5F88;&#x591A;&#x9AD8;&#x8D28;&#x91CF;&#x7684;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;&#x3002; OpenResty &#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x7684; Web &#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#xFF0C;Web &#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Lua &#x811A;&#x672C;&#x8BED;&#x8A00;&#x8C03;&#x52A8; Nginx &#x652F;&#x6301;&#x7684;&#x5404;&#x79CD; C &#x4EE5;&#x53CA; Lua &#x6A21;&#x5757;,&#x66F4;&#x4E3B;&#x8981;&#x7684;&#x662F;&#x5728;&#x6027;&#x80FD;&#x65B9;&#x9762;&#xFF0C;OpenResty&#x53EF;&#x4EE5; &#x5FEB;&#x901F;&#x6784;&#x9020;&#x51FA;&#x8DB3;&#x4EE5;&#x80DC;&#x4EFB; 10K &#x4E43;&#x81F3;1000K&#x4EE5;&#x4E0A;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x54CD;&#x5E94;&#x7684;&#x8D85;&#x9AD8;&#x6027;&#x80FD; Web &#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x3002; 360&#xFF0C;UPYUN&#xFF0C;&#x963F;&#x91CC;&#x4E91;&#xFF0C;&#x65B0;&#x6D6A;&#xFF0C;&#x817E;&#x8BAF;&#x7F51;&#xFF0C;&#x53BB;&#x54EA;&#x513F;&#x7F51;&#xFF0C;&#x9177;&#x72D7;&#x97F3;&#x4E50;&#x7B49;&#x90FD;&#x662F; OpenResty &#x7684;&#x6DF1;&#x5EA6;&#x7528;&#x6237;&#x3002; OpenResty &#x7B80;&#x5355;&#x7406;&#x89E3;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x5C01;&#x88C5;&#x4E86;nginx,&#x5E76;&#x4E14;&#x96C6;&#x6210;&#x4E86;LUA&#x811A;&#x672C;&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x53EA;&#x9700;&#x8981;&#x7B80;&#x5355;&#x7684;&#x5176;&#x63D0;&#x4F9B;&#x4E86;&#x6A21;&#x5757;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x76F8;&#x5173;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x800C;&#x4E0D;&#x518D;&#x50CF;&#x4E4B;&#x524D;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5728;nginx&#x4E2D;&#x81EA;&#x5DF1;&#x7F16;&#x5199;lua&#x7684;&#x811A;&#x672C;&#xFF0C;&#x518D;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x4E86;&#x3002; 2.2.2 OpenResty&#x5B89;&#x88C5;linux&#x5B89;&#x88C5;openresty: 1.&#x6DFB;&#x52A0;&#x4ED3;&#x5E93;&#x6267;&#x884C;&#x547D;&#x4EE4; yum install yum-utils yum-config-manager --add-repo https://openresty.org/package/centos/openresty.repo2.&#x6267;&#x884C;&#x5B89;&#x88C5; yum install openresty3.&#x5B89;&#x88C5;&#x6210;&#x529F;&#x540E; &#x4F1A;&#x5728;&#x9ED8;&#x8BA4;&#x7684;&#x76EE;&#x5F55;&#x5982;&#x4E0B;&#xFF1A; /usr/local/openresty2.2.3 &#x5B89;&#x88C5;nginx&#x9ED8;&#x8BA4;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x597D;&#x4E86;nginx,&#x5728;&#x76EE;&#x5F55;&#xFF1A;/usr/local/openresty/nginx &#x4E0B;&#x3002; &#x4FEE;&#x6539;/usr/local/openresty/nginx/conf/nginx.conf ,&#x5C06;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F7F;&#x7528;&#x7684;&#x6839;&#x8BBE;&#x7F6E;&#x4E3A;root,&#x76EE;&#x7684;&#x5C31;&#x662F;&#x5C06;&#x6765;&#x8981;&#x4F7F;&#x7528;lua&#x811A;&#x672C;&#x7684;&#x65F6;&#x5019; &#xFF0C;&#x76F4;&#x63A5;&#x53EF;&#x4EE5;&#x52A0;&#x8F7D;&#x5728;root&#x4E0B;&#x7684;lua&#x811A;&#x672C;&#x3002; #user nobody; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7B2C;&#x4E00;&#x884C;&#x539F;&#x6765;&#x4E3A;&#x8FD9;&#x6837;, &#x73B0;&#x6539;&#x4E3A;&#x4E0B;&#x9762;&#x7684;&#x914D;&#x7F6E; user root root;&#x6D4B;&#x8BD5;&#x8BBF;&#x95EE; http://192.168.200.128 2.3 &#x5B9E;&#x73B0;&#x601D;&#x8DEF;2.3.1 &#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790;tb_ad &#xFF08;&#x5E7F;&#x544A;&#x8868;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id ID INT name &#x5E7F;&#x544A;&#x540D;&#x79F0; VARCHAR position &#x5E7F;&#x544A;&#x4F4D;&#x7F6E; VARCHAR &#x7CFB;&#x7EDF;&#x5B9A;&#x4E49; start_time &#x5F00;&#x59CB;&#x65F6;&#x95F4; DATETIME end_time &#x5230;&#x671F;&#x65F6;&#x95F4; DATETIME status &#x72B6;&#x6001; CHAR 0&#xFF1A;&#x65E0;&#x6548; 1:&#x6709;&#x6548; image &#x56FE;&#x7247;&#x5730;&#x5740; VARCHAR url URL VARCHAR remarks &#x5907;&#x6CE8; VARCHAR web_index_lb &#x9996;&#x9875;&#x8F6E;&#x64AD;&#x56FE; web_index_amusing &#x6709;&#x8DA3;&#x533A; web_index_ea_lb &#x5BB6;&#x7528;&#x7535;&#x5668;&#x697C;&#x5C42;&#x8F6E;&#x64AD;&#x56FE; web_index_ea &#x5BB6;&#x7528;&#x7535;&#x5668;&#x697C;&#x5C42;&#x5E7F;&#x544A; web_index_mobile_lb &#x624B;&#x673A;&#x901A;&#x8BAF;&#x697C;&#x5C42;&#x8F6E;&#x64AD;&#x56FE; web_index_mobile &#x624B;&#x673A;&#x901A;&#x8BAF;&#x697C;&#x5C42;&#x5E7F;&#x544A; 2.3.2 &#x7F13;&#x5B58;&#x9884;&#x70ED;&#x4E0E;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x67E5;&#x8BE2;&#x6B65;&#x9AA4;&#x4E00;&#xFF1A;&#x7F16;&#x5199;lua&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x7F13;&#x5B58;&#x9884;&#x70ED;&#xFF08;&#x5C06;mysql&#x91CC;&#x7684;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5B58;&#x5165;redis&#xFF09; &#x6B65;&#x9AA4;&#x4E8C;&#xFF1A;&#x7F16;&#x5199;lua&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x8BFB;&#x53D6; 2.4 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;2.4.1 &#x7F13;&#x5B58;&#x9884;&#x70ED;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF1A; &#x5B9A;&#x4E49;&#x8BF7;&#x6C42;&#xFF1A;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x5230;redis&#x4E2D;&#x3002; &#xFF08;1&#xFF09;&#x8FDE;&#x63A5;mysql &#xFF0C;&#x6309;&#x7167;&#x5E7F;&#x544A;&#x5206;&#x7C7B;ID&#x8BFB;&#x53D6;&#x5E7F;&#x544A;&#x5217;&#x8868;&#xFF0C;&#x8F6C;&#x6362;&#x4E3A;json&#x5B57;&#x7B26;&#x4E32;&#x3002; &#xFF08;2&#xFF09;&#x8FDE;&#x63A5;redis&#xFF0C;&#x5C06;&#x5E7F;&#x544A;&#x5217;&#x8868;json&#x5B57;&#x7B26;&#x4E32;&#x5B58;&#x5165;redis &#x3002; &#x5B9A;&#x4E49;&#x8BF7;&#x6C42;&#xFF1A; &#x8BF7;&#x6C42;&#xFF1A; /ad_update &#x53C2;&#x6570;&#xFF1A; position --&#x6307;&#x5B9A;&#x5E7F;&#x544A;&#x4F4D;&#x7F6E; &#x8FD4;&#x56DE;&#x503C;&#xFF1A; json&#x5728;/root/lua&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;ad_load.lua &#xFF0C;&#x5B9E;&#x73B0;&#x8FDE;&#x63A5;mysql &#x67E5;&#x8BE2;&#x6570;&#x636E; &#x5E76;&#x5B58;&#x50A8;&#x5230;redis&#x4E2D;&#x3002; &#x8FD9;&#x91CC;&#x811A;&#x672C;&#x7684;sql&#x6709;&#x8BEF; ngx.header.content_type=&quot;application/json;charset=utf8&quot; local cjson = require(&quot;cjson&quot;) local mysql = require(&quot;resty.mysql&quot;) local uri_args = ngx.req.get_uri_args() local position = uri_args[&quot;position&quot;] local db = mysql:new() db:set_timeout(1000) local props = { host = &quot;192.168.200.128&quot;, port = 3306, database = &quot;changgou_business&quot;, user = &quot;root&quot;, password = &quot;root&quot; } local res = db:connect(props) local select_sql = &quot;select url,image from tb_ad where status =&apos;1&apos; and position=&apos;&quot;..position..&quot;&apos; and start_time&lt;= NOW()&quot; res = db:query(select_sql) db:close() local redis = require(&quot;resty.redis&quot;) local red = redis:new() red:set_timeout(2000) local ip =&quot;192.168.200.128&quot; local port = 6379 red:connect(ip,port) red:set(&quot;ad_&quot;..position,cjson.encode(res)) red:close() ngx.say(&quot;{flag:true}&quot;)&#x4FEE;&#x6539;/usr/local/openresty/nginx/conf/nginx.conf&#x6587;&#x4EF6;&#xFF1A; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; #user nobody; user root root; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; server { listen 80; server_name localhost; charset utf-8; #access_log logs/host.access.log main; # &#x6DFB;&#x52A0; location /ad_update { content_by_lua_file /root/lua/ad_update.lua; } # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root html; } } }&#x91CD;&#x65B0;&#x542F;&#x52A8;nginx &#x6D4B;&#x8BD5;&#xFF1A;http://192.168.200.128/ad_update?position=web_index_lb 2.4.2 &#x5E7F;&#x544A;&#x7F13;&#x5B58;&#x8BFB;&#x53D6;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF1A; &#x901A;&#x8FC7;lua&#x811A;&#x672C;&#x76F4;&#x63A5;&#x4ECE;redis&#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5373;&#x53EF;&#x3002; &#x5B9A;&#x4E49;&#x8BF7;&#x6C42;&#xFF1A; &#x8BF7;&#x6C42;:/ad_read &#x53C2;&#x6570;&#xFF1A;position &#x8FD4;&#x56DE;&#x503C;&#xFF1A;json&#x5728;/root/lua&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;ad_read.lua ngx.header.content_type=&quot;application/json;charset=utf8&quot; local uri_args = ngx.req.get_uri_args(); local position = uri_args[&quot;position&quot;]; local redis = require(&quot;resty.redis&quot;); local red = redis:new() red:set_timeout(2000) local ok, err = red:connect(&quot;192.168.200.128&quot;, 6379) local rescontent=red:get(&quot;ad_&quot;..position) ngx.say(rescontent) red:close()&#x5728;/usr/local/openresty/nginx/conf/nginx.conf&#x4E2D;server&#x4E0B;&#x6DFB;&#x52A0;&#x914D;&#x7F6E; location /ad_read { content_by_lua_file /root/lua/ad_read.lua; }&#x6D4B;&#x8BD5; http://192.168.200.128/ad_read?position=web_index_lb &#x8F93;&#x51FA; [{&quot;url&quot;:&quot;img\/banner1.jpg&quot;,&quot;image&quot;:&quot;img\/banner1.jpg&quot;},{&quot;url&quot;:&quot;img\/banner2.jpg&quot;,&quot;image&quot;:&quot;img\/banner2.jpg&quot;}]2.4.3 &#x4E8C;&#x7EA7;&#x7F13;&#x5B58;-&#x52A0;&#x5165;openresty&#x672C;&#x5730;&#x7F13;&#x5B58;&#x5982;&#x4E0A;&#x7684;&#x65B9;&#x5F0F;&#x6CA1;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x90FD;&#x5230;redis&#xFF0C;redis&#x538B;&#x529B;&#x4E5F;&#x5F88;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x91C7;&#x7528;&#x591A;&#x7EA7;&#x7F13;&#x5B58;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x51CF;&#x5C11;&#x4E0B;&#x6E38;&#x7CFB;&#x7EDF;&#x7684;&#x670D;&#x52A1;&#x538B;&#x529B;&#x3002; &#x5148;&#x67E5;&#x8BE2;openresty&#x672C;&#x5730;&#x7F13;&#x5B58; &#x5982;&#x679C;&#x6CA1;&#x6709;&#x518D;&#x67E5;&#x8BE2;redis&#x4E2D;&#x7684;&#x6570;&#x636E; &#x4FEE;&#x6539;/root/lua&#x76EE;&#x5F55;&#x4E0B;ad_read&#x6587;&#x4EF6;, &#x5185;&#x5BB9;&#x5982;&#x4E0B;: ngx.header.content_type=&quot;application/json;charset=utf8&quot; local uri_args = ngx.req.get_uri_args(); local position = uri_args[&quot;position&quot;]; local cache_ngx = ngx.shared.dis_cache; local adCache = cache_ngx:get(&apos;ad_cache_&apos;..position); if adCache == &quot;&quot; or adCache == nil then local redis = require(&quot;resty.redis&quot;); local red = redis:new() red:set_timeout(2000) local ok, err = red:connect(&quot;192.168.200.128&quot;, 6379) local rescontent=red:get(&quot;ad_&quot;..position) ngx.say(rescontent) red:close() cache_ngx:set(&apos;ad_cache_&apos;..position, rescontent, 10*60); else ngx.say(adCache) end &#x4FEE;&#x6539;nginx&#x914D;&#x7F6E;&#x6587;&#x4EF6;vi /usr/local/openresty/nginx/conf/nginx.conf &#xFF0C;http&#x8282;&#x70B9;&#x4E0B;&#x6DFB;&#x52A0;&#x914D;&#x7F6E;: #&#x5305;&#x542B;redis&#x521D;&#x59CB;&#x5316;&#x6A21;&#x5757; lua_shared_dict dis_cache 5m; #&#x5171;&#x4EAB;&#x5185;&#x5B58;&#x5F00;&#x542F;2.4.4 &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#xFF08;&#x4E86;&#x89E3;&#xFF09;&#xFF08;1&#xFF09;&#x4FEE;&#x6539;index.html&#xFF0C;&#x7F16;&#x5199;&#x811A;&#x672C; &lt;script&gt; new Vue({ el: &apos;#app&apos;, data: { ad: { web_index_lb:[] } }, methods: { adRead: function(position) { axios.get(&apos;ad_read?position=&apos;+position).then(response =&gt;{ this.ad[position]=response.data }) } }, created(){ this.adRead(&apos;web_index_lb&apos;) } }) &lt;/script&gt;&#x5728;&#x9875;&#x9762;&#x4E0A;&#x6DFB;&#x52A0;&lt;div id=&apos;app&apos;&gt; ... &lt;/div&gt; &#xFF08;2&#xFF09;&#x4FEE;&#x6539;index.html&#xFF0C;&#x6E32;&#x67D3;&#x5E7F;&#x544A;&#x8F6E;&#x64AD;&#x56FE; &lt;div id=&quot;myCarousel&quot; data-ride=&quot;carousel&quot; data-interval=&quot;4000&quot; class=&quot;sui-carousel slide&quot;&gt; &lt;ol class=&quot;carousel-indicators&quot;&gt; &lt;li data-target=&quot;#myCarousel&quot; data-slide-to=&quot;0&quot; class=&quot;active&quot; v-for=&quot;item in ad.web_index_lb&quot;&gt;&lt;/li&gt; &lt;/ol&gt; &lt;div class=&quot;carousel-inner&quot; id=&quot;lbt&quot;&gt; &lt;div class=&quot;item&quot; v-for=&quot;item in contentList&quot;&gt; &lt;a :href=&quot;item.url&quot;&gt; &lt;img :src=&quot;item.pic&quot; /&gt; &lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;a href=&quot;#myCarousel&quot; data-slide=&quot;prev&quot; class=&quot;carousel-control left&quot;&gt;&#x2039;&lt;/a&gt; &lt;a href=&quot;#myCarousel&quot; data-slide=&quot;next&quot; class=&quot;carousel-control right&quot;&gt;&#x203A;&lt;/a&gt; &lt;/div&gt;&#xFF08;3&#xFF09;&#x4E0A;&#x4F20;&#x81F3;&#x670D;&#x52A1;&#x5668;&#x5E76;&#x6D4B;&#x8BD5; &#x66F4;&#x6539; # &#x52A0;&#x8F7D;&#x9996;&#x9875; location / { root html; index index.html index.htm; }3 nginx&#x9650;&#x6D41;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9996;&#x9875;&#x7684;&#x5E76;&#x53D1;&#x91CF;&#x662F;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#xFF0C;&#x5373;&#x4F7F;&#x6709;&#x4E86;&#x591A;&#x7EA7;&#x7F13;&#x5B58;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5927;&#x91CF;&#x6076;&#x610F;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x4E5F;&#x4F1A;&#x5BF9;&#x7CFB;&#x7EDF;&#x9020;&#x6210;&#x5F71;&#x54CD;&#x3002;&#x800C;&#x9650;&#x6D41;&#x5C31;&#x662F;&#x4FDD;&#x62A4;&#x63AA;&#x65BD;&#x4E4B;&#x4E00;&#x3002; nginx&#x63D0;&#x4F9B;&#x4E24;&#x79CD;&#x9650;&#x6D41;&#x7684;&#x65B9;&#x5F0F;&#xFF1A; &#x4E00;&#x662F;&#x63A7;&#x5236;&#x901F;&#x7387; &#x4E8C;&#x662F;&#x63A7;&#x5236;&#x5E76;&#x53D1;&#x8FDE;&#x63A5;&#x6570; 3.1 &#x63A7;&#x5236;&#x901F;&#x7387;&#x63A7;&#x5236;&#x901F;&#x7387;&#x7684;&#x65B9;&#x5F0F;&#x4E4B;&#x4E00;&#x5C31;&#x662F;&#x91C7;&#x7528;&#x6F0F;&#x6876;&#x7B97;&#x6CD5;&#x3002; 3.1.1 &#x6F0F;&#x6876;&#x7B97;&#x6CD5;&#x5B9E;&#x73B0;&#x63A7;&#x5236;&#x901F;&#x7387;&#x9650;&#x6D41;&#x6F0F;&#x6876;(Leaky Bucket)&#x7B97;&#x6CD5;&#x601D;&#x8DEF;&#x5F88;&#x7B80;&#x5355;,&#x6C34;(&#x8BF7;&#x6C42;)&#x5148;&#x8FDB;&#x5165;&#x5230;&#x6F0F;&#x6876;&#x91CC;,&#x6F0F;&#x6876;&#x4EE5;&#x4E00;&#x5B9A;&#x7684;&#x901F;&#x5EA6;&#x51FA;&#x6C34;(&#x63A5;&#x53E3;&#x6709;&#x54CD;&#x5E94;&#x901F;&#x7387;),&#x5F53;&#x6C34;&#x6D41;&#x5165;&#x901F;&#x5EA6;&#x8FC7;&#x5927;&#x4F1A;&#x76F4;&#x63A5;&#x6EA2;&#x51FA;(&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x8D85;&#x8FC7;&#x63A5;&#x53E3;&#x54CD;&#x5E94;&#x901F;&#x7387;),&#x7136;&#x540E;&#x5C31;&#x62D2;&#x7EDD;&#x8BF7;&#x6C42;,&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x6F0F;&#x6876;&#x7B97;&#x6CD5;&#x80FD;&#x5F3A;&#x884C;&#x9650;&#x5236;&#x6570;&#x636E;&#x7684;&#x4F20;&#x8F93;&#x901F;&#x7387;.&#x793A;&#x610F;&#x56FE;&#x5982;&#x4E0B;: &#x6F0F;&#x6876;&#x7B97;&#x6CD5;&#x5B9E;&#x73B0; nginx&#x7684;&#x914D;&#x7F6E; &#x914D;&#x7F6E;&#x793A;&#x610F;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x4FEE;&#x6539;/usr/local/openresty/nginx/conf/nginx.conf: #user nobody; user root root; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; # &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; # &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; limit_req_zone $binary_remote_addr zone=myRateLimit:10m rate=2r/s; server { listen 8081; server_name localhost; charset utf-8; location / { limit_req zone=myRateLimit; root html; index index.html index.htm; } } }&#x89E3;&#x91CA;&#xFF1A; binary_remote_addr &#x662F;&#x4E00;&#x79CD;key&#xFF0C;&#x8868;&#x793A;&#x57FA;&#x4E8E; remote_addr(&#x5BA2;&#x6237;&#x7AEF;IP) &#x6765;&#x505A;&#x9650;&#x6D41;&#xFF0C;binary_ &#x7684;&#x76EE;&#x7684;&#x662F;&#x538B;&#x7F29;&#x5185;&#x5B58;&#x5360;&#x7528;&#x91CF;&#x3002; zone&#xFF1A;&#x5B9A;&#x4E49;&#x5171;&#x4EAB;&#x5185;&#x5B58;&#x533A;&#x6765;&#x5B58;&#x50A8;&#x8BBF;&#x95EE;&#x4FE1;&#x606F;&#xFF0C; myRateLimit:10m &#x8868;&#x793A;&#x4E00;&#x4E2A;&#x5927;&#x5C0F;&#x4E3A;10M&#xFF0C;&#x540D;&#x5B57;&#x4E3A;myRateLimit&#x7684;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x3002;1M&#x80FD;&#x5B58;&#x50A8;16000 IP&#x5730;&#x5740;&#x7684;&#x8BBF;&#x95EE;&#x4FE1;&#x606F;&#xFF0C;10M&#x53EF;&#x4EE5;&#x5B58;&#x50A8;16W IP&#x5730;&#x5740;&#x8BBF;&#x95EE;&#x4FE1;&#x606F;&#x3002; rate &#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x6700;&#x5927;&#x8BBF;&#x95EE;&#x901F;&#x7387;&#xFF0C;rate=10r/s &#x8868;&#x793A;&#x6BCF;&#x79D2;&#x6700;&#x591A;&#x5904;&#x7406;10&#x4E2A;&#x8BF7;&#x6C42;&#x3002;Nginx &#x5B9E;&#x9645;&#x4E0A;&#x4EE5;&#x6BEB;&#x79D2;&#x4E3A;&#x7C92;&#x5EA6;&#x6765;&#x8DDF;&#x8E2A;&#x8BF7;&#x6C42;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x6B64; 10r/s &#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x9650;&#x5236;&#xFF1A;&#x6BCF;100&#x6BEB;&#x79D2;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x81EA;&#x4E0A;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x5B8C;&#x540E;&#xFF0C;&#x82E5;&#x540E;&#x7EED;100&#x6BEB;&#x79D2;&#x5185;&#x53C8;&#x6709;&#x8BF7;&#x6C42;&#x5230;&#x8FBE;&#xFF0C;&#x5C06;&#x62D2;&#x7EDD;&#x5904;&#x7406;&#x8BE5;&#x8BF7;&#x6C42;.&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x6210;2 &#x65B9;&#x4FBF;&#x6D4B;&#x8BD5;&#x3002;&#x6D4B;&#x8BD5;&#xFF1A;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#x6587;&#x4EF6; cd /usr/local/openresty/nginx/sbin ./nginx -s reload&#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A; &#x76F4;&#x63A5;&#x62A5;&#x9519;&#x3002;&#x62D2;&#x7EDD;&#x8BBF;&#x95EE;&#x3002; 3.1.2 &#x5904;&#x7406;&#x7A81;&#x53D1;&#x6D41;&#x91CF;&#x4E0A;&#x9762;&#x4F8B;&#x5B50;&#x9650;&#x5236; 2r/s&#xFF0C;&#x5982;&#x679C;&#x6709;&#x65F6;&#x6B63;&#x5E38;&#x6D41;&#x91CF;&#x7A81;&#x7136;&#x589E;&#x5927;&#xFF0C;&#x8D85;&#x51FA;&#x7684;&#x8BF7;&#x6C42;&#x5C06;&#x88AB;&#x62D2;&#x7EDD;&#xFF0C;&#x65E0;&#x6CD5;&#x5904;&#x7406;&#x7A81;&#x53D1;&#x6D41;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x7ED3;&#x5408; burst &#x53C2;&#x6570;&#x4F7F;&#x7528;&#x6765;&#x89E3;&#x51B3;&#x8BE5;&#x95EE;&#x9898;&#x3002; &#x4F8B;&#x5982;&#xFF0C;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x8868;&#x793A;&#xFF1A; server { location / { limit_req zone=myRateLimit burst=5; root html; index index.html index.htm; } }burst &#x8BD1;&#x4E3A;&#x7A81;&#x53D1;&#x3001;&#x7206;&#x53D1;&#xFF0C;&#x8868;&#x793A;&#x5728;&#x8D85;&#x8FC7;&#x8BBE;&#x5B9A;&#x7684;&#x5904;&#x7406;&#x901F;&#x7387;&#x540E;&#x80FD;&#x989D;&#x5916;&#x5904;&#x7406;&#x7684;&#x8BF7;&#x6C42;&#x6570;,&#x5F53; rate=2r/s &#x65F6;&#xFF0C;&#x5C06;1s&#x62C6;&#x6210;2&#x4EFD;&#xFF0C;&#x5373;&#x6BCF;500ms&#x53EF;&#x5904;&#x7406;1&#x4E2A;&#x8BF7;&#x6C42;&#x3002; &#x6B64;&#x5904;&#xFF0C;burst=5 &#xFF0C;&#x82E5;&#x540C;&#x65F6;&#x6709;6&#x4E2A;&#x8BF7;&#x6C42;&#x5230;&#x8FBE;&#xFF0C;Nginx &#x4F1A;&#x5904;&#x7406;&#x7B2C;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x5269;&#x4F59;5&#x4E2A;&#x8BF7;&#x6C42;&#x5C06;&#x653E;&#x5165;&#x961F;&#x5217;&#xFF0C;&#x7136;&#x540E;&#x6BCF;&#x9694;500ms&#x4ECE;&#x961F;&#x5217;&#x4E2D;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x5904;&#x7406;&#x3002;&#x82E5;&#x8BF7;&#x6C42;&#x6570;&#x5927;&#x4E8E;6&#xFF0C;&#x5C06;&#x62D2;&#x7EDD;&#x5904;&#x7406;&#x591A;&#x4F59;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;503. &#x4E0D;&#x8FC7;&#xFF0C;&#x5355;&#x72EC;&#x4F7F;&#x7528; burst &#x53C2;&#x6570;&#x5E76;&#x4E0D;&#x5B9E;&#x7528;&#x3002;&#x5047;&#x8BBE; burst=50 &#xFF0C;rate&#x4E3A;10r/s&#xFF0C;&#x6392;&#x961F;&#x4E2D;&#x7684;50&#x4E2A;&#x8BF7;&#x6C42;&#x867D;&#x7136;&#x6BCF;100ms&#x4F1A;&#x5904;&#x7406;&#x4E00;&#x4E2A;&#xFF0C;&#x4F46;&#x7B2C;50&#x4E2A;&#x8BF7;&#x6C42;&#x5374;&#x9700;&#x8981;&#x7B49;&#x5F85; 50 * 100ms&#x5373; 5s&#xFF0C;&#x8FD9;&#x4E48;&#x957F;&#x7684;&#x5904;&#x7406;&#x65F6;&#x95F4;&#x81EA;&#x7136;&#x96BE;&#x4EE5;&#x63A5;&#x53D7;&#x3002; &#x56E0;&#x6B64;&#xFF0C;burst &#x5F80;&#x5F80;&#x7ED3;&#x5408; nodelay &#x4E00;&#x8D77;&#x4F7F;&#x7528;&#x3002; &#x4F8B;&#x5982;&#xFF1A;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A; server { location / { limit_req zone=myRateLimit burst=5 nodelay; root html; index index.html index.htm; } }&#x5982;&#x4E0A;&#x8868;&#x793A;&#xFF1A; &#x5904;&#x7406;&#x7A81;&#x53D1;5&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6CA1;&#x6709;&#x5EF6;&#x8FDF;&#xFF0C;&#x7B49;&#x5230;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x6309;&#x7167;&#x6B63;&#x5E38;&#x7684;&#x901F;&#x7387;&#x5904;&#x7406;&#x3002; &#x5982;&#x4E0A;&#x4E24;&#x79CD;&#x914D;&#x7F6E;&#x7ED3;&#x5408;&#x5C31;&#x8FBE;&#x5230;&#x4E86;&#x901F;&#x7387;&#x7A33;&#x5B9A;&#xFF0C;&#x4F46;&#x7A81;&#x7136;&#x6D41;&#x91CF;&#x4E5F;&#x80FD;&#x6B63;&#x5E38;&#x5904;&#x7406;&#x7684;&#x6548;&#x679C;&#x3002;&#x914D;&#x7F6E;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; #user nobody; user root root; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; # &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; # &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; # &#x8BBE;&#x7F6E;&#x9650;&#x6D41;&#x914D;&#x7F6E; limit_req_zone $binary_remote_addr zone=myRateLimit:10m rate=2r/s; server { listen 8081; server_name localhost; charset utf-8; location / { limit_req zone=myRateLimit burst = 5 nodelay; root html; index index.html index.htm; } } }&#x6D4B;&#x8BD5;&#xFF1A;&#x5982;&#x4E0B;&#x56FE; &#x5728;1&#x79D2;&#x949F;&#x4E4B;&#x5185;&#x53EF;&#x4EE5;&#x5237;&#x65B0;5&#x6B21;&#xFF0C;&#x6B63;&#x5E38;&#x5904;&#x7406;&#x3002; &#x4F46;&#x662F;&#x8D85;&#x8FC7;&#x4E4B;&#x540E;&#xFF0C;&#x8FDE;&#x7EED;&#x5237;&#x65B0;5&#x6B21;&#xFF0C;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-04-shang-pin-guan-li%2Fchang-gou-04-shang-pin-guan-li.html</url>
    <content type="text"><![CDATA[&#x7B2C;4&#x7AE0; &#x5546;&#x54C1;&#x7BA1;&#x7406;&#x5B66;&#x4E60;&#x76EE;&#x6807; &#x80FD;&#x591F;&#x4F7F;&#x7528;&#x5F00;&#x6E90;&#x7B97;&#x6CD5;snowflake&#x751F;&#x6210;&#x5206;&#x5E03;&#x5F0F;id &#x5B8C;&#x6210;&#x65B0;&#x589E;&#x548C;&#x4FEE;&#x6539;&#x5546;&#x54C1;&#x529F;&#x80FD; &#x5B8C;&#x6210;&#x5546;&#x54C1;&#x5BA1;&#x6838;&#x548C;&#x4E0A;&#x4E0B;&#x67B6;&#x529F;&#x80FD; &#x5B8C;&#x6210;&#x5220;&#x9664;&#x4E0E;&#x8FD8;&#x539F;&#x5546;&#x54C1;&#x529F;&#x80FD; 1. &#x5206;&#x5E03;&#x5F0F;ID&#x751F;&#x6210;&#x89E3;&#x51B3;&#x65B9;&#x6848;1.1 &#x5206;&#x5E03;&#x5F0F;ID&#x751F;&#x6210;&#x89E3;&#x51B3;&#x65B9;&#x6848;1.1.1 UUID&#x5E38;&#x89C1;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x6570;&#x636E;&#x5E93;&#x4E5F;&#x53EF;&#x4EE5;&#x5229;&#x7528;&#x7A0B;&#x5E8F;&#x751F;&#x6210;&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x5168;&#x7403;&#x552F;&#x4E00;&#x3002; &#x4F18;&#x70B9;&#xFF1A; 1&#xFF09;&#x7B80;&#x5355;&#xFF0C;&#x4EE3;&#x7801;&#x65B9;&#x4FBF;&#x3002; 2&#xFF09;&#x751F;&#x6210;ID&#x6027;&#x80FD;&#x975E;&#x5E38;&#x597D;&#xFF0C;&#x57FA;&#x672C;&#x4E0D;&#x4F1A;&#x6709;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x3002; 3&#xFF09;&#x5168;&#x7403;&#x552F;&#x4E00;&#xFF0C;&#x5728;&#x9047;&#x89C1;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#xFF0C;&#x7CFB;&#x7EDF;&#x6570;&#x636E;&#x5408;&#x5E76;&#xFF0C;&#x6216;&#x8005;&#x6570;&#x636E;&#x5E93;&#x53D8;&#x66F4;&#x7B49;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x5BB9;&#x5E94;&#x5BF9;&#x3002; &#x7F3A;&#x70B9;&#xFF1A; 1&#xFF09;&#x6CA1;&#x6709;&#x6392;&#x5E8F;&#xFF0C;&#x65E0;&#x6CD5;&#x4FDD;&#x8BC1;&#x8D8B;&#x52BF;&#x9012;&#x589E;&#x3002; 2&#xFF09;UUID&#x5F80;&#x5F80;&#x662F;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x5B58;&#x50A8;&#xFF0C;&#x67E5;&#x8BE2;&#x7684;&#x6548;&#x7387;&#x6BD4;&#x8F83;&#x4F4E;&#x3002; 3&#xFF09;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x6D77;&#x91CF;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x8003;&#x8651;&#x5B58;&#x50A8;&#x91CF;&#x7684;&#x95EE;&#x9898;&#x3002; 4&#xFF09;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x91CF;&#x5927; 5&#xFF09;&#x4E0D;&#x53EF;&#x8BFB;&#x3002; 1.1.2 Redis&#x5F53;&#x4F7F;&#x7528;&#x6570;&#x636E;&#x5E93;&#x6765;&#x751F;&#x6210;ID&#x6027;&#x80FD;&#x4E0D;&#x591F;&#x8981;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;Redis&#x6765;&#x751F;&#x6210;ID&#x3002;&#x8FD9;&#x4E3B;&#x8981;&#x4F9D;&#x8D56;&#x4E8E;Redis&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x751F;&#x6210;&#x5168;&#x5C40;&#x552F;&#x4E00;&#x7684;ID&#x3002;&#x53EF;&#x4EE5;&#x7528;Redis&#x7684;&#x539F;&#x5B50;&#x64CD;&#x4F5C; INCR&#x548C;INCRBY&#x6765;&#x5B9E;&#x73B0;&#x3002; &#x4F18;&#x70B9;&#xFF1A; 1&#xFF09;&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7075;&#x6D3B;&#x65B9;&#x4FBF;&#xFF0C;&#x4E14;&#x6027;&#x80FD;&#x4F18;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x3002; 2&#xFF09;&#x6570;&#x5B57;ID&#x5929;&#x7136;&#x6392;&#x5E8F;&#xFF0C;&#x5BF9;&#x5206;&#x9875;&#x6216;&#x8005;&#x9700;&#x8981;&#x6392;&#x5E8F;&#x7684;&#x7ED3;&#x679C;&#x5F88;&#x6709;&#x5E2E;&#x52A9;&#x3002; &#x7F3A;&#x70B9;&#xFF1A; 1&#xFF09;&#x5982;&#x679C;&#x7CFB;&#x7EDF;&#x4E2D;&#x6CA1;&#x6709;Redis&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5F15;&#x5165;&#x65B0;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x589E;&#x52A0;&#x7CFB;&#x7EDF;&#x590D;&#x6742;&#x5EA6;&#x3002; 2&#xFF09;&#x9700;&#x8981;&#x7F16;&#x7801;&#x548C;&#x914D;&#x7F6E;&#x7684;&#x5DE5;&#x4F5C;&#x91CF;&#x6BD4;&#x8F83;&#x5927;&#x3002; 3&#xFF09;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x9020;&#x6210;&#x6027;&#x80FD;&#x4E0B;&#x964D;&#x3002; 1.1.3 &#x5F00;&#x6E90;&#x7B97;&#x6CD5;snowflake snowflake&#x662F;Twitter&#x5F00;&#x6E90;&#x7684;&#x5206;&#x5E03;&#x5F0F;ID&#x751F;&#x6210;&#x7B97;&#x6CD5;&#xFF0C;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x4E2A;long&#x578B;&#x7684;ID&#x3002;&#x5176;&#x6838;&#x5FC3;&#x601D;&#x60F3;&#x662F;&#xFF1A;&#x4F7F;&#x7528;41bit&#x4F5C;&#x4E3A;&#x6BEB;&#x79D2;&#x6570;&#xFF0C;10bit&#x4F5C;&#x4E3A;&#x673A;&#x5668;&#x7684;ID&#xFF08;5&#x4E2A;bit&#x662F;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#xFF0C;5&#x4E2A;bit&#x7684;&#x673A;&#x5668;ID&#xFF09;&#xFF0C;12bit&#x4F5C;&#x4E3A;&#x6BEB;&#x79D2;&#x5185;&#x7684;&#x6D41;&#x6C34;&#x53F7;&#xFF08;&#x610F;&#x5473;&#x7740;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5728;&#x6BCF;&#x6BEB;&#x79D2;&#x53EF;&#x4EE5;&#x4EA7;&#x751F; 4096 &#x4E2A; ID&#xFF09;&#xFF0C;&#x6700;&#x540E;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x4F4D;&#xFF0C;&#x6C38;&#x8FDC;&#x662F;0 &#x6211;&#x4EEC;&#x5728;&#x300A;&#x7545;&#x8D2D;&#x300B;&#x7CFB;&#x7EDF;&#x4E2D;&#x91C7;&#x7528;&#x7684;&#x5C31;&#x662F;&#x5F00;&#x6E90;&#x7B97;&#x6CD5;snowflake 1.2 snowflake&#x5FEB;&#x901F;&#x5165;&#x95E8;1.2.1 &#x5FEB;&#x901F;&#x5165;&#x95E8;&#xFF08;1&#xFF09;&#x65B0;&#x5EFA;&#x5DE5;&#x7A0B;&#xFF0C;&#x5C06;&#x8D44;&#x6599;/&#x5DE5;&#x5177;&#x7C7B;&#x4E0B;&#x7684;IdWorker.java&#x62F7;&#x8D1D;&#x5230;&#x5DE5;&#x7A0B;&#x4E2D;&#x3002; &#xFF08;2&#xFF09;&#x7F16;&#x5199;&#x4EE3;&#x7801; IdWorker&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;&#x5DE5;&#x4F5C;&#x673A;&#x5668;id IdWorker&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;&#x5E8F;&#x5217;&#x53F7; IdWorker idWorker=new IdWorker(1,1); for(int i=0;i&lt;10000;i++){ long id = idWorker.nextId(); System.out.println(id); }1.2.2 &#x914D;&#x7F6E;&#x5206;&#x5E03;&#x5F0F;ID&#x751F;&#x6210;&#x5668;&#xFF08;1&#xFF09;IdWorker.java&#x62F7;&#x8D1D;&#x5230;changgou_common&#x5DE5;&#x7A0B;com.changgou.util&#x5305;&#x4E2D; &#xFF08;2&#xFF09;changgou_service_goods&#x7684;application.yml&#x6DFB;&#x52A0;&#x914D;&#x7F6E; workerId: 0 datacenterId: 0&#xFF08;3&#xFF09;&#x4FEE;&#x6539;GoodsApplication&#xFF0C;&#x589E;&#x52A0;&#x4EE3;&#x7801; @Value(&quot;${workerId}&quot;) private Integer workerId; @Value(&quot;${datacenterId}&quot;) private Integer datacenterId; @Bean public IdWorker idWorker(){ return new IdWorker(workerId,datacenterId); }2 &#x65B0;&#x589E;&#x548C;&#x4FEE;&#x6539;&#x5546;&#x54C1;2.1 &#x6982;&#x5FF5;&#x4E0E;&#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790;2.1.1 SPU&#x4E0E;SKU&#x6982;&#x5FF5;SPU = Standard Product Unit &#xFF08;&#x6807;&#x51C6;&#x4EA7;&#x54C1;&#x5355;&#x4F4D;&#xFF09;&#x7C97;&#x7565;&#x7684; &#x6982;&#x5FF5; : SPU &#x662F;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#x805A;&#x5408;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#xFF0C;&#x662F;&#x4E00;&#x7EC4;&#x53EF;&#x590D;&#x7528;&#x3001;&#x6613;&#x68C0;&#x7D22;&#x7684;&#x6807;&#x51C6;&#x5316;&#x4FE1;&#x606F;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x8BE5;&#x96C6;&#x5408;&#x63CF;&#x8FF0;&#x4E86;&#x4E00;&#x4E2A;&#x4EA7;&#x54C1;&#x7684;&#x7279;&#x6027;&#x3002; &#x901A;&#x4FD7;&#x70B9;&#x8BB2;&#xFF0C;&#x5C5E;&#x6027;&#x503C;&#x3001;&#x7279;&#x6027;&#x76F8;&#x540C;&#x7684;&#x8D27;&#x54C1;&#x5C31;&#x53EF;&#x4EE5;&#x79F0;&#x4E3A;&#x4E00;&#x4E2A; SPU &#x4F8B;&#x5982;&#xFF1A;&#x534E;&#x4E3A;P30 &#x5C31;&#x662F;&#x4E00;&#x4E2A; SPU SKU=stock keeping unit( &#x5E93;&#x5B58;&#x91CF;&#x5355;&#x4F4D;) &#x5177;&#x4F53;&#x7684; SKU &#x5373;&#x5E93;&#x5B58;&#x8FDB;&#x51FA;&#x8BA1;&#x91CF;&#x7684;&#x5355;&#x4F4D;&#xFF0C; &#x53EF;&#x4EE5;&#x662F;&#x4EE5;&#x4EF6;&#x3001;&#x76D2;&#x3001;&#x6258;&#x76D8;&#x7B49;&#x4E3A;&#x5355;&#x4F4D;&#x3002; SKU &#x662F;&#x7269;&#x7406;&#x4E0A;&#x4E0D;&#x53EF;&#x5206;&#x5272;&#x7684;&#x6700;&#x5C0F;&#x5B58;&#x8D27;&#x5355;&#x5143;&#x3002;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x8981;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x4E1A;&#x6001;&#xFF0C;&#x4E0D;&#x540C;&#x7BA1;&#x7406;&#x6A21;&#x5F0F;&#x6765;&#x5904;&#x7406;&#x3002; &#x5728;&#x670D;&#x88C5;&#x3001;&#x978B;&#x7C7B;&#x5546;&#x54C1;&#x4E2D;&#x4F7F;&#x7528;&#x6700;&#x591A;&#x6700;&#x666E;&#x904D;&#x3002; &#x4F8B;&#x5982;&#xFF1A;&#x534E;&#x4E3A;P30 &#x7EA2;&#x8272; 64G &#x5C31;&#x662F;&#x4E00;&#x4E2A; SKU 2.1.2 &#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790;tb_spu &#x8868; &#xFF08;SPU&#x8868;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id &#x4E3B;&#x952E; VARCHAR sn &#x8D27;&#x53F7; VARCHAR name SPU&#x540D; VARCHAR caption &#x526F;&#x6807;&#x9898; VARCHAR brand_id &#x54C1;&#x724C;ID INT category1_id &#x4E00;&#x7EA7;&#x5206;&#x7C7B; INT category2_id &#x4E8C;&#x7EA7;&#x5206;&#x7C7B; INT category3_id &#x4E09;&#x7EA7;&#x5206;&#x7C7B; INT template_id &#x6A21;&#x677F;ID INT freight_id &#x8FD0;&#x8D39;&#x6A21;&#x677F;id INT image &#x56FE;&#x7247; VARCHAR images &#x56FE;&#x7247;&#x5217;&#x8868; VARCHAR sale_service &#x552E;&#x540E;&#x670D;&#x52A1; VARCHAR introduction &#x4ECB;&#x7ECD; TEXT spec_items &#x89C4;&#x683C;&#x5217;&#x8868; VARCHAR para_items &#x53C2;&#x6570;&#x5217;&#x8868; VARCHAR sale_num &#x9500;&#x91CF; INT comment_num &#x8BC4;&#x8BBA;&#x6570; INT is_marketable &#x662F;&#x5426;&#x4E0A;&#x67B6; CHAR is_enable_spec &#x662F;&#x5426;&#x542F;&#x7528;&#x89C4;&#x683C; CHAR is_delete &#x662F;&#x5426;&#x5220;&#x9664; CHAR status &#x5BA1;&#x6838;&#x72B6;&#x6001; CHAR tb_sku &#x8868;&#xFF08;SKU&#x5546;&#x54C1;&#x8868;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id &#x5546;&#x54C1;id VARCHAR sn &#x5546;&#x54C1;&#x6761;&#x7801; VARCHAR name SKU&#x540D;&#x79F0; VARCHAR price &#x4EF7;&#x683C;&#xFF08;&#x5206;&#xFF09; INT num &#x5E93;&#x5B58;&#x6570;&#x91CF; INT alert_num &#x5E93;&#x5B58;&#x9884;&#x8B66;&#x6570;&#x91CF; INT image &#x5546;&#x54C1;&#x56FE;&#x7247; VARCHAR images &#x5546;&#x54C1;&#x56FE;&#x7247;&#x5217;&#x8868; VARCHAR weight &#x91CD;&#x91CF;&#xFF08;&#x514B;&#xFF09; INT create_time &#x521B;&#x5EFA;&#x65F6;&#x95F4; DATETIME update_time &#x66F4;&#x65B0;&#x65F6;&#x95F4; DATETIME spu_id SPUID BIGINT category_id &#x7C7B;&#x76EE;ID INT category_name &#x7C7B;&#x76EE;&#x540D;&#x79F0; VARCHAR brand_name &#x54C1;&#x724C;&#x540D;&#x79F0; VARCHAR spec &#x89C4;&#x683C; VARCHAR sale_num &#x9500;&#x91CF; INT comment_num &#x8BC4;&#x8BBA;&#x6570; INT status &#x5546;&#x54C1;&#x72B6;&#x6001; 1-&#x6B63;&#x5E38;&#xFF0C;2-&#x4E0B;&#x67B6;&#xFF0C;3-&#x5220;&#x9664; CHAR 2.2 &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x524D;&#x7AEF;&#x4F20;&#x9012;&#x7ED9;&#x540E;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F; &#x662F;&#x4E00;&#x4E2A;spu&#x5BF9;&#x8C61;&#x548C;sku&#x5217;&#x8868;&#x7EC4;&#x6210;&#x7684;&#x5BF9;&#x8C61; { &quot;spu&quot;: { &quot;name&quot;: &quot;&#x8FD9;&#x4E2A;&#x662F;&#x5546;&#x54C1;&#x540D;&#x79F0;&quot;, &quot;caption&quot;: &quot;&#x8FD9;&#x4E2A;&#x662F;&#x526F;&#x6807;&#x9898;&quot;, &quot;brandId&quot;: 14026, &quot;category1Id&quot;: 558, &quot;category2Id&quot;: 559, &quot;category3Id&quot;: 560, &quot;freightId&quot;: 10, &quot;image&quot;: &quot;http://www.changgou.com/image/1.jpg&quot;, &quot;images&quot;: &quot;http://www.changgou.com/image/1.jpg,http://www.changgou.com/image/2.jpg&quot;, &quot;introduction&quot;: &quot;&#x8FD9;&#x4E2A;&#x662F;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#xFF0C;html&#x4EE3;&#x7801;&quot;, &quot;paraItems&quot;: &quot;{&apos;&#x51FA;&#x5382;&#x5E74;&#x4EFD;&apos;:&apos;2019&apos;,&apos;&#x8D60;&#x54C1;&apos;:&apos;&#x5145;&#x7535;&#x5668;&apos;}&quot;, &quot;saleService&quot;: &quot;&#x4E03;&#x5929;&#x5305;&#x9000;,&#x95EA;&#x7535;&#x9000;&#x8D27;&quot;, &quot;sn&quot;: &quot;020102331&quot;, &quot;specItems&quot;: &quot;{&apos;&#x989C;&#x8272;&apos;:[&apos;&#x7EA2;&apos;,&apos;&#x7EFF;&apos;],&apos;&#x673A;&#x8EAB;&#x5185;&#x5B58;&apos;:[&apos;64G&apos;,&apos;8G&apos;]}&quot;, &quot;templateId&quot;: 42 }, &quot;skuList&quot;: [{ &quot;sn&quot;: &quot;10192010292&quot;, &quot;num&quot;: 100, &quot;alertNum&quot;: 20, &quot;price&quot;: 900000, &quot;spec&quot;: &quot;{&apos;&#x989C;&#x8272;&apos;:&apos;&#x7EA2;&apos;,&apos;&#x673A;&#x8EAB;&#x5185;&#x5B58;&apos;:&apos;64G&apos;}&quot;, &quot;image&quot;: &quot;http://www.changgou.com/image/1.jpg&quot;, &quot;images&quot;: &quot;http://www.changgou.com/image/1.jpg,http://www.changgou.com/image/2.jpg&quot;, &quot;status&quot;: &quot;1&quot;, &quot;weight&quot;: 130 }, { &quot;sn&quot;: &quot;10192010293&quot;, &quot;num&quot;: 100, &quot;alertNum&quot;: 20, &quot;price&quot;: 600000, &quot;spec&quot;: &quot;{&apos;&#x989C;&#x8272;&apos;:&apos;&#x84DD;&apos;,&apos;&#x673A;&#x8EAB;&#x5185;&#x5B58;&apos;:&apos;128G&apos;}&quot;, &quot;image&quot;: &quot;http://www.changgou.com/image/1.jpg&quot;, &quot;images&quot;: &quot;http://www.changgou.com/image/1.jpg,http://www.changgou.com/image/2.jpg&quot;, &quot;status&quot;: &quot;1&quot;, &quot;weight&quot;: 130 } ] }2.3 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;2.3.1 SPU&#x4E0E;SKU&#x5217;&#x8868;&#x7684;&#x4FDD;&#x5B58;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF1A; &#xFF08;1&#xFF09;changgou_service_goods_api&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;&#x7EC4;&#x5408;&#x5B9E;&#x4F53;&#x7C7B;Goods /** * &#x5546;&#x54C1;&#x7EC4;&#x5408;&#x5B9E;&#x4F53;&#x7C7B; */ public class Goods implements Serializable { private Spu spu; private List&lt;Sku&gt; skuList; public Spu getSpu() { return spu; } public void setSpu(Spu spu) { this.spu = spu; } public List&lt;Sku&gt; getSkuList() { return skuList; } public void setSkuList(List&lt;Sku&gt; skuList) { this.skuList = skuList; } }&#xFF08;2&#xFF09;changgou_service_goods&#x5DE5;&#x7A0B;SpuService&#x65B0;&#x589E;&#x65B9;&#x6CD5;add(Goods goods) /*** * &#x65B0;&#x589E; * @param goods */ void add(Goods goods);&#xFF08;3&#xFF09;changgou_service_goods&#x5DE5;&#x7A0B;SpuServiceImpl&#x5B9E;&#x73B0;&#x6B64;&#x65B9;&#x6CD5; @Autowired private CategoryMapper categoryMapper; @Autowired private SkuMapper skuMapper; @Autowired private BrandMapper brandMapper; @Autowired private IdWorker idWorker; /** * &#x4FDD;&#x5B58;&#x5546;&#x54C1; SPU+SKU&#x5217;&#x8868; * @param goods &#x5546;&#x54C1;&#x7EC4;&#x5408;&#x5B9E;&#x4F53;&#x7C7B; */ @Transactional @Override public void add(Goods goods) { Spu spu = goods.getSpu(); long spuId = idWorker.nextId(); spu.setId(String.valueOf(spuId)); spu.setIsDelete(&quot;0&quot;); spu.setIsMarketable(&quot;0&quot;); spu.setStatus(&quot;0&quot;); spuMapper.insertSelective(spu); //&#x4FDD;&#x5B58;sku&#x96C6;&#x5408;&#x6570;&#x636E;&#x5230;&#x6570;&#x636E;&#x5E93; saveSkuList(goods); } /** * &#x4FDD;&#x5B58;sku&#x5217;&#x8868; * @param goods */ private void saveSkuList(Goods goods){ //&#x83B7;&#x53D6;spu&#x5BF9;&#x8C61; Spu spu = goods.getSpu(); //&#x5F53;&#x524D;&#x65E5;&#x671F; Date date = new Date(); //&#x83B7;&#x53D6;&#x54C1;&#x724C;&#x5BF9;&#x8C61; Brand brand = brandMapper.selectByPrimaryKey(spu.getBrandId()); //&#x83B7;&#x53D6;&#x5206;&#x7C7B;&#x5BF9;&#x8C61; Category category = categoryMapper.selectByPrimaryKey(spu.getCategory3Id()); //&#x83B7;&#x53D6;sku&#x96C6;&#x5408;&#x5BF9;&#x8C61; List&lt;Sku&gt; skuList = goods.getSkuList(); if (skuList != null) { for (Sku sku : skuList) { //&#x8BBE;&#x7F6E;sku&#x4E3B;&#x952E;ID sku.setId(String.valueOf(idWorker.nextId())); //&#x8BBE;&#x7F6E;sku&#x89C4;&#x683C; if (sku.getSpec() == null || &quot;&quot;.equals(sku.getSpec())) { sku.setSpec(&quot;{}&quot;); } //&#x8BBE;&#x7F6E;sku&#x540D;&#x79F0;(&#x5546;&#x54C1;&#x540D;&#x79F0; + &#x89C4;&#x683C;) String name = spu.getName(); //&#x5C06;&#x89C4;&#x683C;json&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;Map Map&lt;String, String&gt; specMap = JSON.parseObject(sku.getSpec(), Map.class); if (specMap != null &amp;&amp; specMap.size() &gt; 0) { for(String value : specMap.values()){ name += &quot; &quot;+ value; } } sku.setName(name);//&#x540D;&#x79F0; sku.setSpuId(spu.getId());//&#x8BBE;&#x7F6E;spu&#x7684;ID sku.setCreateTime(date);//&#x521B;&#x5EFA;&#x65E5;&#x671F; sku.setUpdateTime(date);//&#x4FEE;&#x6539;&#x65E5;&#x671F; sku.setCategoryId(category.getId());//&#x5546;&#x54C1;&#x5206;&#x7C7B;ID sku.setCategoryName(category.getName());//&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x540D;&#x79F0; sku.setBrandName(brand.getName());//&#x54C1;&#x724C;&#x540D;&#x79F0; skuMapper.insertSelective(sku);//&#x63D2;&#x5165;sku&#x8868;&#x6570;&#x636E; } } }&#x524D;&#x53F0;&#x4F20;&#x8FC7;&#x6765;goods &#x540E;&#x53F0;&#x8FDB;&#x884C;&#x62C6;&#x5206; &#x62C6;&#x5206;&#x5B8C;&#x4EE5;&#x540E;&#x53D8;&#x6210;SKU&#x548C;SPU &#xFF08;3&#xFF09;&#x4FEE;&#x6539;SpuController&#x7684;add&#x65B9;&#x6CD5; /*** * &#x65B0;&#x589E;&#x6570;&#x636E; * @param goods * @return */ @PostMapping public Result add(@RequestBody Goods goods){ spuService.add(goods); return new Result(true,StatusCode.OK,&quot;&#x6DFB;&#x52A0;&#x6210;&#x529F;&quot;); }2.3.2 &#x54C1;&#x724C;&#x4E0E;&#x5206;&#x7C7B;&#x5173;&#x8054;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF1A; &#x5C06;&#x5206;&#x7C7B;ID&#x4E0E;SPU&#x7684;&#x54C1;&#x724C;ID &#x4E00;&#x8D77;&#x63D2;&#x5165;&#x5230;tb_category_brand&#x8868;&#x4E2D; &#xFF08;1&#xFF09;&#x521B;&#x5EFA;&#x5B9E;&#x4F53;&#x7C7B; @Table(name=&quot;tb_category_brand&quot;) public class CategoryBrand implements Serializable { @Id private Integer categoryId; @Id private Integer brandId; public Integer getCategoryId() { return categoryId; } public void setCategoryId(Integer categoryId) { this.categoryId = categoryId; } public Integer getBrandId() { return brandId; } public void setBrandId(Integer brandId) { this.brandId = brandId; } }&#x8FD9;&#x4E2A;&#x8868;&#x662F;&#x8054;&#x5408;&#x4E3B;&#x952E;&#xFF0C;&#x6240;&#x4EE5;templateId&#x548C;brandId&#x90FD;&#x6709;@Id&#x6CE8;&#x89E3; &#xFF08;2&#xFF09;&#x65B0;&#x5EFA;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x63A5;&#x53E3; public interface CategoryBrandMapper extends Mapper&lt;CategoryBrand&gt; { }&#xFF08;3&#xFF09;SpuServiceImpl&#x5F15;&#x5165; @Autowired private CategoryBrandMapper categoryBrandMapper;&#xFF08;4&#xFF09;&#x4FEE;&#x6539;SpuServiceImpl&#x7684;saveSkuList&#x65B9;&#x6CD5;&#xFF0C;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x4E0E;&#x54C1;&#x724C;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x8054;, &#x4FEE;&#x6539;&#x540E;&#x4EE3;&#x7801;&#x5982;&#x4E0B;: private void saveSkuList(Goods goods) { //&#x83B7;&#x53D6;spu&#x5BF9;&#x8C61; Spu spu = goods.getSpu(); //&#x5F53;&#x524D;&#x65E5;&#x671F; Date date = new Date(); //&#x83B7;&#x53D6;&#x54C1;&#x724C;&#x5BF9;&#x8C61; Brand brand = brandMapper.selectByPrimaryKey(spu.getBrandId()); //&#x83B7;&#x53D6;&#x5206;&#x7C7B;&#x5BF9;&#x8C61; Category category = categoryMapper.selectByPrimaryKey(spu.getCategory3Id()); /** * &#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x4E0E;&#x54C1;&#x724C;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x8054; */ CategoryBrand categoryBrand = new CategoryBrand(); categoryBrand.setBrandId(spu.getBrandId()); categoryBrand.setCategoryId(spu.getCategory3Id()); int count = categoryBrandMapper.selectCount(categoryBrand); //&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x8FD9;&#x4E2A;&#x54C1;&#x724C;&#x548C;&#x5206;&#x7C7B;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E; if(count == 0) { //&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5219;&#x6DFB;&#x52A0;&#x54C1;&#x724C;&#x548C;&#x5206;&#x7C7B;&#x5173;&#x7CFB;&#x6570;&#x636E; categoryBrandMapper.insert(categoryBrand); } //&#x83B7;&#x53D6;sku&#x96C6;&#x5408;&#x5BF9;&#x8C61; List&lt;Sku&gt; skuList = goods.getSkuList(); if (skuList != null) { for (Sku sku : skuList) { //&#x8BBE;&#x7F6E;sku&#x4E3B;&#x952E;ID sku.setId(String.valueOf(idWorker.nextId())); //&#x8BBE;&#x7F6E;sku&#x89C4;&#x683C; if (sku.getSpec() == null || &quot;&quot;.equals(sku.getSpec())) { sku.setSpec(&quot;{}&quot;); } //&#x8BBE;&#x7F6E;sku&#x540D;&#x79F0;(&#x5546;&#x54C1;&#x540D;&#x79F0; + &#x89C4;&#x683C;) String name = spu.getName(); //&#x5C06;&#x89C4;&#x683C;json&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6362;&#x6210;Map Map&lt;String, String&gt; specMap = JSON.parseObject(sku.getSpec(), Map.class); if (specMap != null &amp;&amp; specMap.size() &gt; 0) { for(String value : specMap.values()){ name += &quot; &quot;+ value; } } sku.setName(name);//&#x540D;&#x79F0; sku.setSpuId(spu.getId());//&#x8BBE;&#x7F6E;spu&#x7684;ID sku.setCreateTime(date);//&#x521B;&#x5EFA;&#x65E5;&#x671F; sku.setUpdateTime(date);//&#x4FEE;&#x6539;&#x65E5;&#x671F; sku.setCategoryId(category.getId());//&#x5546;&#x54C1;&#x5206;&#x7C7B;ID sku.setCategoryName(category.getName());//&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x540D;&#x79F0; sku.setBrandName(brand.getName());//&#x54C1;&#x724C;&#x540D;&#x79F0; skuMapper.insertSelective(sku);//&#x63D2;&#x5165;sku&#x8868;&#x6570;&#x636E; } } }2.3.3 &#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x5546;&#x54C1;&#x9700;&#x6C42;&#xFF1A;&#x6839;&#x636E;id &#x67E5;&#x8BE2;SPU&#x548C;SKU&#x5217;&#x8868; &#xFF0C;&#x663E;&#x793A;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; { &quot;spu&quot;: { &quot;brandId&quot;: 8557, &quot;caption&quot;: &quot;111&quot;, &quot;category1Id&quot;: 558, &quot;category2Id&quot;: 559, &quot;category3Id&quot;: 560, &quot;commentNum&quot;: 0, &quot;freightId&quot;: 0, &quot;id&quot;: 149187842867993, &quot;image&quot;: &quot;&quot;, &quot;images&quot;: &quot;[{\&quot;color\&quot;:\&quot;&#x94F6;&#x767D;&#x8272;\&quot;,\&quot;url\&quot;:\&quot;//img11.360buyimg.com/n7/jfs/t30040/100/1290632710/208879/1f7e2225/5cdd0d92Nb78895a6.jpg\&quot;}]&quot;, &quot;introduction&quot;: &quot;&#x8FD9;&#x662F;&#x6D4B;&#x8BD5;&#x624B;&#x673A;&#x6570;&#x636E;&quot;, &quot;isDelete&quot;: 0, &quot;isEnableSpec&quot;: &quot;0&quot;, &quot;isMarketable&quot;: &quot;0&quot;, &quot;name&quot;: &quot;&#x9ED1;&#x9A6C;&#x667A;&#x80FD;&#x624B;&#x673A;&quot;, &quot;paraItems&quot;: &quot;&quot;, &quot;saleNum&quot;: 0, &quot;saleService&quot;: &quot;&quot;, &quot;sn&quot;: &quot;&quot;, &quot;specItems&quot;: &quot;{\&quot;&#x989C;&#x8272;\&quot;:[\&quot;&#x91D1;&#x8272;\&quot;,\&quot;&#x9ED1;&#x8272;\&quot;,\&quot;&#x84DD;&#x8272;\&quot;],\&quot;&#x7248;&#x672C;\&quot;:[\&quot;6GB+64GB\&quot;]}&quot;, &quot;status&quot;: &quot;0&quot;, &quot;templateId&quot;: 42 }, &quot;skuList&quot;: [{ &quot;alertNum&quot;: 100, &quot;commentNum&quot;: 0, &quot;image&quot;: &quot;https://m.360buyimg.com/mobilecms/s720x720_jfs/t22642/312/2563982615/103706/1398b13d/5b865bb3N0409f0d0.jpg!q70.jpg.webp&quot;, &quot;images&quot;: &quot;https://m.360buyimg.com/mobilecms/s720x720_jfs/t22642/312/2563982615/103706/1398b13d/5b865bb3N0409f0d0.jpg!q70.jpg.webp&quot;, &quot;num&quot;: 100, &quot;price&quot;: 90000, &quot;saleNum&quot;: 0, &quot;sn&quot;: &quot;&quot;, &quot;spec&quot;: &quot;{&apos;&#x989C;&#x8272;&apos;: &apos;&#x84DD;&#x8272;&apos;}&quot;, &quot;status&quot;: &quot;1&quot;, &quot;weight&quot;: 10 },{ &quot;alertNum&quot;: 100, &quot;commentNum&quot;: 0, &quot;image&quot;: &quot;https://m.360buyimg.com/mobilecms/s720x720_jfs/t22642/312/2563982615/103706/1398b13d/5b865bb3N0409f0d0.jpg!q70.jpg.webp&quot;, &quot;images&quot;: &quot;https://m.360buyimg.com/mobilecms/s720x720_jfs/t22642/312/2563982615/103706/1398b13d/5b865bb3N0409f0d0.jpg!q70.jpg.webp&quot;, &quot;num&quot;: 100, &quot;price&quot;: 80000, &quot;saleNum&quot;: 0, &quot;sn&quot;: &quot;&quot;, &quot;spec&quot;: &quot;{&apos;&#x989C;&#x8272;&apos;: &apos;&#x9ED1;&#x8272;&apos;}&quot;, &quot;status&quot;: &quot;1&quot;, &quot;weight&quot;: 10 } ] }&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF1A; &#xFF08;1&#xFF09;changgou_service_goods&#x5DE5;&#x7A0B;SpuService&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49; /** * &#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x5546;&#x54C1; * @param id * @return */ public Goods findGoodsById(String id);&#xFF08;2&#xFF09;changgou_service_goods&#x5DE5;&#x7A0B;SpuServiceImpl&#x5B9E;&#x73B0;&#x6B64;&#x65B9;&#x6CD5; /** * &#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x5546;&#x54C1; * @param id * @return */ public Goods findGoodsById(String id){ //&#x67E5;&#x8BE2;spu Spu spu = spuMapper.selectByPrimaryKey(id); //&#x67E5;&#x8BE2;SKU &#x5217;&#x8868; Example example=new Example(Sku.class); Example.Criteria criteria = example.createCriteria(); criteria.andEqualTo(&quot;spuId&quot;,id); List&lt;Sku&gt; skuList = skuMapper.selectByExample(example); //&#x5C01;&#x88C5;&#xFF0C;&#x8FD4;&#x56DE; Goods goods=new Goods(); goods.setSpu(spu); goods.setSkuList(skuList); return goods; }&#xFF08;3&#xFF09;&#x4FEE;&#x6539;SpuController&#x7684;findById&#x65B9;&#x6CD5; @GetMapping(&quot;/{id}&quot;) public Result findById(@PathVariable String id){ Goods goods = spuService.findGoodsById(id); return new Result(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,goods); }2.3.4 &#x4FDD;&#x5B58;&#x4FEE;&#x6539;&#xFF08;1&#xFF09;changgou_service_goods&#x5DE5;&#x7A0B;SpuService&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49; /*** * &#x4FEE;&#x6539;&#x6570;&#x636E; * @param spu */ void update(Goods goods);&#xFF08;2&#xFF09;changgou_service_goods&#x5DE5;&#x7A0B;SpuServiceImpl&#x5B9E;&#x73B0;&#x6B64;&#x65B9;&#x6CD5; @Override public void update(Goods goods ) { //&#x53D6;&#x51FA;spu&#x90E8;&#x5206; Spu spu = goods.getSpu(); spuMapper.updateByPrimaryKey(spu); //&#x5220;&#x9664;&#x539F;sku&#x5217;&#x8868; Example example=new Example(Sku.class); Example.Criteria criteria = example.createCriteria(); criteria.andEqualTo(&quot;spuId&quot;,spu.getId()); skuMapper.deleteByExample(example); saveSkuList(goods);//&#x4FDD;&#x5B58;sku&#x5217;&#x8868; }&#xFF08;3&#xFF09;&#x4FEE;&#x6539;SpuController&#x7684;update&#x65B9;&#x6CD5; /*** * &#x4FEE;&#x6539;&#x6570;&#x636E; * @param goods * @param id * @return */ @PutMapping(value=&quot;/{id}&quot;) public Result update(@RequestBody Goods goods,@PathVariable String id){ spuService.update(goods); return new Result(true,StatusCode.OK,&quot;&#x4FEE;&#x6539;&#x6210;&#x529F;&quot;); }3 &#x5546;&#x54C1;&#x5BA1;&#x6838;&#x4E0E;&#x4E0A;&#x4E0B;&#x67B6;3.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x5546;&#x54C1;&#x65B0;&#x589E;&#x540E;&#xFF0C;&#x5BA1;&#x6838;&#x72B6;&#x6001;&#x4E3A;0&#xFF08;&#x672A;&#x5BA1;&#x6838;&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;&#x4E0B;&#x67B6;&#x72B6;&#x6001;&#x3002; &#x5BA1;&#x6838;&#x5546;&#x54C1;&#xFF0C;&#x9700;&#x8981;&#x6821;&#x9A8C;&#x662F;&#x5426;&#x662F;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5546;&#x54C1;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x5220;&#x9664;&#x5219;&#x4FEE;&#x6539;&#x5BA1;&#x6838;&#x72B6;&#x6001;&#x4E3A;1&#xFF0C;&#x5E76;&#x81EA;&#x52A8;&#x4E0A;&#x67B6; &#x4E0B;&#x67B6;&#x5546;&#x54C1;&#xFF0C;&#x9700;&#x8981;&#x6821;&#x9A8C;&#x662F;&#x5426;&#x662F;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5546;&#x54C1;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x5220;&#x9664;&#x5219;&#x4FEE;&#x6539;&#x4E0A;&#x67B6;&#x72B6;&#x6001;&#x4E3A;0 &#x4E0A;&#x67B6;&#x5546;&#x54C1;&#xFF0C;&#x9700;&#x8981;&#x5BA1;&#x6838;&#x72B6;&#x6001;&#x4E3A;1,&#x5982;&#x679C;&#x4E3A;1,&#x5219;&#x66F4;&#x6539;&#x4E0A;&#x4E0B;&#x67B6;&#x72B6;&#x6001;&#x4E3A;1 &#x4E0A;&#x67B6;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x5BA1;&#x6838; &#x5BA1;&#x6838;&#x5FC5;&#x987B;&#x662F;&#x672A;&#x5220;&#x9664; 3.2 &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#xFF08;1&#xFF09;&#x6309;&#x7167;ID&#x67E5;&#x8BE2;SPU&#x4FE1;&#x606F; &#xFF08;2&#xFF09;&#x5224;&#x65AD;&#x4FEE;&#x6539;&#x5BA1;&#x6838;&#x3001;&#x4E0A;&#x67B6;&#x4E0B;&#x67B6;&#x72B6;&#x6001; &#xFF08;3&#xFF09;&#x4FDD;&#x5B58;SPU 3.3 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;3.3.1 &#x5546;&#x54C1;&#x5BA1;&#x6838;&#x9700;&#x8981;&#x6821;&#x9A8C;&#x662F;&#x5426;&#x662F;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5546;&#x54C1;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x5220;&#x9664;&#x5219;&#x4FEE;&#x6539;&#x5BA1;&#x6838;&#x72B6;&#x6001;&#x4E3A;1&#xFF0C;&#x5E76;&#x81EA;&#x52A8;&#x4E0A;&#x67B6; &#xFF08;1&#xFF09;SpuService&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x5BA1;&#x6838; * @param id */ public void audit(String id);&#xFF08;2&#xFF09;SpuServiceImpl&#x5B9E;&#x73B0;&#x65B9;&#x6CD5; @Transactional public void audit(String id) { //&#x67E5;&#x8BE2;spu&#x5BF9;&#x8C61; Spu spu = spuMapper.selectByPrimaryKey(id); if (spu == null){ throw new RuntimeException(&quot;&#x5F53;&#x524D;&#x5546;&#x54C1;&#x4E0D;&#x5B58;&#x5728;&quot;); } //&#x5224;&#x65AD;&#x5F53;&#x524D;spu&#x662F;&#x5426;&#x5904;&#x4E8E;&#x5220;&#x9664;&#x72B6;&#x6001; if (&quot;1&quot;.equals(spu.getIsDelete())){ throw new RuntimeException(&quot;&#x5F53;&#x524D;&#x5546;&#x54C1;&#x5904;&#x4E8E;&#x5220;&#x9664;&#x72B6;&#x6001;&quot;); } //&#x4E0D;&#x5904;&#x4E8E;&#x5220;&#x9664;&#x72B6;&#x6001;,&#x4FEE;&#x6539;&#x5BA1;&#x6838;&#x72B6;&#x6001;&#x4E3A;1,&#x4E0A;&#x4E0B;&#x67B6;&#x72B6;&#x6001;&#x4E3A;1 spu.setStatus(&quot;1&quot;); spu.setIsMarketable(&quot;1&quot;); //&#x6267;&#x884C;&#x4FEE;&#x6539;&#x64CD;&#x4F5C; spuMapper.updateByPrimaryKeySelective(spu); }&#xFF08;2&#xFF09;SpuController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x5BA1;&#x6838; * @param id * @return */ @PutMapping(&quot;/audit/{id}&quot;) public Result audit(@PathVariable String id){ spuService.audit(id); return new Result(); }3.3.2 &#x4E0B;&#x67B6;&#x5546;&#x54C1;&#x6821;&#x9A8C;&#x662F;&#x5426;&#x662F;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5546;&#x54C1;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x5220;&#x9664;&#x5219;&#x4FEE;&#x6539;&#x4E0A;&#x67B6;&#x72B6;&#x6001;&#x4E3A;0 &#xFF08;1&#xFF09;SpuService&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x4E0B;&#x67B6;&#x5546;&#x54C1; * @param id */ public void pull(String id);&#xFF08;2&#xFF09;SpuServiceImpl&#x5B9E;&#x73B0;&#x65B9;&#x6CD5; @Transactional public void pull(String id) { //&#x67E5;&#x8BE2;spu Spu spu = spuMapper.selectByPrimaryKey(id); if (spu == null){ throw new RuntimeException(&quot;&#x5F53;&#x524D;&#x5546;&#x54C1;&#x4E0D;&#x5B58;&#x5728;&quot;); } //&#x5224;&#x65AD;&#x5F53;&#x524D;&#x5546;&#x54C1;&#x662F;&#x5426;&#x5904;&#x4E8E;&#x5220;&#x9664;&#x72B6;&#x6001; if (&quot;1&quot;.equals(spu.getIsDelete())){ throw new RuntimeException(&quot;&#x5F53;&#x524D;&#x5546;&#x54C1;&#x5904;&#x4E8E;&#x5220;&#x9664;&#x72B6;&#x6001;&quot;); } //&#x5546;&#x54C1;&#x5904;&#x4E8E;&#x672A;&#x5220;&#x9664;&#x72B6;&#x6001;&#x7684;&#x8BDD;,&#x5219;&#x4FEE;&#x6539;&#x4E0A;&#x4E0B;&#x67B6;&#x72B6;&#x6001;&#x4E3A;&#x5DF2;&#x4E0B;&#x67B6;(0) spu.setIsMarketable(&quot;0&quot;); spuMapper.updateByPrimaryKeySelective(spu); }&#xFF08;2&#xFF09;SpuController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x4E0B;&#x67B6; * @param id * @return */ @PutMapping(&quot;/pull/{id}&quot;) public Result pull(@PathVariable String id){ spuService.pull(id); return new Result(); }3.3.3 &#x4E0A;&#x67B6;&#x5546;&#x54C1;&#x5FC5;&#x987B;&#x662F;&#x901A;&#x8FC7;&#x5BA1;&#x6838;&#x7684;&#x5546;&#x54C1;&#x624D;&#x80FD;&#x4E0A;&#x67B6; &#xFF08;1&#xFF09;SpuService&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x4E0A;&#x67B6;&#x5546;&#x54C1; * @param id */ public void put(String id);&#xFF08;2&#xFF09;SpuServiceImpl &#x5B9E;&#x73B0;&#x6B64;&#x65B9;&#x6CD5; /** * &#x4E0A;&#x67B6;&#x5546;&#x54C1; * @param id */ @Override public void put(String id) { Spu spu = spuMapper.selectByPrimaryKey(id); if(!spu.getStatus().equals(&quot;1&quot;)){ throw new RuntimeException(&quot;&#x672A;&#x901A;&#x8FC7;&#x5BA1;&#x6838;&#x7684;&#x5546;&#x54C1;&#x4E0D;&#x80FD;&#x4E0A;&#x67B6;&#xFF01;&quot;); } spu.setIsMarketable(&quot;1&quot;);//&#x4E0A;&#x67B6;&#x72B6;&#x6001; spuMapper.updateByPrimaryKeySelective(spu); }&#xFF08;3&#xFF09;SpuController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x4E0A;&#x67B6; * @param id * @return */ @PutMapping(&quot;/put/{id}&quot;) public Result put(@PathVariable String id){ spuService.put(id); return new Result(); }4 &#x5220;&#x9664;&#x4E0E;&#x8FD8;&#x539F;&#x5546;&#x54C1;4.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x5546;&#x54C1;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5220;&#x9664;&#x5546;&#x54C1;&#x529F;&#x80FD;&#xFF0C;&#x5E76;&#x975E;&#x771F;&#x6B63;&#x7684;&#x5220;&#x9664;(&#x7269;&#x7406;&#x5220;&#x9664;)&#xFF0C;&#x800C;&#x662F;&#x91C7;&#x7528;&#x903B;&#x8F91;&#x5220;&#x9664;&#x5C06;&#x5220;&#x9664;&#x6807;&#x8BB0;&#x7684;&#x5B57;&#x6BB5;&#x8BBE;&#x7F6E;&#x4E3A;1. &#x5728;&#x56DE;&#x6536;&#x7AD9;&#x4E2D;&#x6709;&#x8FD8;&#x539F;&#x5546;&#x54C1;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5C06;&#x5220;&#x9664;&#x6807;&#x8BB0;&#x7684;&#x5B57;&#x6BB5;&#x8BBE;&#x7F6E;&#x4E3A;0 &#x5728;&#x56DE;&#x6536;&#x7AD9;&#x4E2D;&#x6709;&#x5220;&#x9664;&#x5546;&#x54C1;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x662F;&#x771F;&#x6B63;&#x7684;&#x7269;&#x7406;&#x5220;&#x9664;,&#x5C06;&#x6570;&#x636E;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#x6389;&#x3002; 4.2 &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x5546;&#x54C1;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5220;&#x9664;&#x5546;&#x54C1;,&#x6267;&#x884C;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x4FEE;&#x6539;spu&#x8868;is_delete&#x5B57;&#x6BB5;&#x4E3A;1 &#x5546;&#x54C1;&#x56DE;&#x6536;&#x7AD9;&#x4E2D;&#x7684;&#x8FD8;&#x539F;&#x5546;&#x54C1;,&#x4FEE;&#x6539;spu&#x8868;is_delete&#x5B57;&#x6BB5;&#x4E3A;0 &#x5546;&#x54C1;&#x56DE;&#x6536;&#x7AD9;&#x4E2D;&#x7684;&#x5220;&#x9664;&#x5546;&#x54C1;,&#x6267;&#x884C;delete&#x64CD;&#x4F5C;,&#x8FDB;&#x884C;&#x7269;&#x7406;&#x5220;&#x9664; 4.3 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;4.3.1 &#x903B;&#x8F91;&#x5220;&#x9664;&#x5546;&#x54C1;&#x4FEE;&#x6539;SpuServiceImpl&#x7684;delete&#x65B9;&#x6CD5; /** * &#x5220;&#x9664; * @param id */ @Override public void delete(String id){ Spu spu = spuMapper.selectByPrimaryKey(id); //&#x68C0;&#x67E5;&#x662F;&#x5426;&#x4E0B;&#x67B6;&#x7684;&#x5546;&#x54C1; if(!spu.getIsMarketable().equals(&quot;0&quot;)){ throw new RuntimeException(&quot;&#x5FC5;&#x987B;&#x5148;&#x4E0B;&#x67B6;&#x518D;&#x5220;&#x9664;&#xFF01;&quot;); } spu.setIsDelete(&quot;1&quot;);//&#x5220;&#x9664; spu.setStatus(&quot;0&quot;);//&#x672A;&#x5BA1;&#x6838; spuMapper.updateByPrimaryKeySelective(spu); }4.3.2 &#x8FD8;&#x539F;&#x88AB;&#x5220;&#x9664;&#x7684;&#x5546;&#x54C1;&#xFF08;1&#xFF09;SpuService&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x6062;&#x590D;&#x6570;&#x636E; * @param id */ public void restore(String id);&#xFF08;2&#xFF09;SpuServiceImpl&#x5B9E;&#x73B0;&#x6B64;&#x65B9;&#x6CD5; /** * &#x6062;&#x590D;&#x6570;&#x636E; * @param id */ @Override public void restore(String id) { Spu spu = spuMapper.selectByPrimaryKey(id); //&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5220;&#x9664;&#x7684;&#x5546;&#x54C1; if(!spu.getIsDelete().equals(&quot;1&quot;)){ throw new RuntimeException(&quot;&#x6B64;&#x5546;&#x54C1;&#x672A;&#x5220;&#x9664;&#xFF01;&quot;); } spu.setIsDelete(&quot;0&quot;);//&#x672A;&#x5220;&#x9664; spu.setStatus(&quot;0&quot;);//&#x672A;&#x5BA1;&#x6838; spuMapper.updateByPrimaryKeySelective(spu); } &#xFF08;3&#xFF09;SpuController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x6062;&#x590D;&#x6570;&#x636E; * @param id * @return */ @PutMapping(&quot;/restore/{id}&quot;) public Result restore(@PathVariable String id){ spuService.restore(id); return new Result(); }4.3.3 &#x7269;&#x7406;&#x5220;&#x9664;&#x5546;&#x54C1;&#x5224;&#x65AD;&#x5FC5;&#x987B;&#x903B;&#x8F91;&#x5220;&#x9664;&#x5546;&#x54C1;&#x624D;&#x80FD;&#x7269;&#x7406;&#x5220;&#x9664; &#xFF08;1&#xFF09;SpuService &#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x7269;&#x7406;&#x5220;&#x9664; * @param id */ public void realDelete(String id);&#xFF08;2&#xFF09;SpuServiceImpl &#x5B9E;&#x73B0;&#x65B9;&#x6CD5; @Override public void realDelete(String id) { Spu spu = spuMapper.selectByPrimaryKey(id); //&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5220;&#x9664;&#x7684;&#x5546;&#x54C1; if(!spu.getIsDelete().equals(&quot;1&quot;)){ throw new RuntimeException(&quot;&#x6B64;&#x5546;&#x54C1;&#x672A;&#x5220;&#x9664;&#xFF01;&quot;); } spuMapper.deleteByPrimaryKey(id); }&#xFF08;3&#xFF09;SpuController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x7269;&#x7406;&#x5220;&#x9664; * @param id * @return */ @DeleteMapping(&quot;/realDelete/{id}&quot;) public Result realDelete(@PathVariable String id){ spuService.realDelete(id); return new Result(); } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-03-wang-guan-jian-quan-xian-liu%2Fchang-gou-03-wang-guan-jian-quan-xian-liu.html</url>
    <content type="text"><![CDATA[&#x7B2C;3&#x7AE0; &#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x9650;&#x6D41;&amp;&#x9274;&#x6743;&#x8BFE;&#x7A0B;&#x76EE;&#x6807; &#x638C;&#x63E1;&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;Gateway&#x7684;&#x7CFB;&#x7EDF;&#x642D;&#x5EFA; &#x638C;&#x63E1;&#x7F51;&#x5173;&#x9650;&#x6D41;&#x7684;&#x5B9E;&#x73B0; &#x80FD;&#x591F;&#x4F7F;&#x7528;BCrypt&#x5B9E;&#x73B0;&#x5BF9;&#x5BC6;&#x7801;&#x7684;&#x52A0;&#x5BC6;&#x4E0E;&#x9A8C;&#x8BC1; &#x4E86;&#x89E3;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5; &#x80FD;&#x591F;&#x4F7F;&#x7528;JWT&#x5B9E;&#x73B0;&#x5FAE;&#x670D;&#x52A1;&#x9274;&#x6743; 1.&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;Gateway1.1 &#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x6982;&#x8FF0;&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#xFF0C;&#x901A;&#x8FC7;&#x66B4;&#x9732;&#x8BE5;&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x7CFB;&#x7EDF;&#xFF0C;&#x65B9;&#x4FBF;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x76F8;&#x5173;&#x7684;&#x9274;&#x6743;&#xFF0C;&#x5B89;&#x5168;&#x63A7;&#x5236;&#xFF0C;&#x65E5;&#x5FD7;&#x7EDF;&#x4E00;&#x5904;&#x7406;&#xFF0C;&#x6613;&#x4E8E;&#x76D1;&#x63A7;&#x7684;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x3002; &#x4ED6;&#x5C31;&#x597D;&#x6BD4;&#x524D;&#x53F0; &#x627E;&#x4EBA; &#x8FD8;&#x6709; &#x9632;&#x6B62;&#x6709;&#x4EBA;&#x53A6;&#x5077;&#x4E1C;&#x897F; &#x4E0D;&#x540C;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x4E00;&#x822C;&#x4F1A;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#xFF0C;&#x800C;&#x5916;&#x90E8;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x8C03;&#x7528;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x63A5;&#x53E3;&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x4E1A;&#x52A1;&#x9700;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x8BA9;&#x5BA2;&#x6237;&#x7AEF;&#x76F4;&#x63A5;&#x4E0E;&#x5404;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x901A;&#x4FE1;&#xFF0C;&#x4F1A;&#x6709;&#x4EE5;&#x4E0B;&#x7684;&#x95EE;&#x9898;&#xFF1A; &#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x591A;&#x6B21;&#x8BF7;&#x6C42;&#x4E0D;&#x540C;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x590D;&#x6742;&#x6027; &#x5B58;&#x5728;&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;&#xFF0C;&#x5728;&#x4E00;&#x5B9A;&#x573A;&#x666F;&#x4E0B;&#x5904;&#x7406;&#x76F8;&#x5BF9;&#x590D;&#x6742; &#x8BA4;&#x8BC1;&#x590D;&#x6742;&#xFF0C;&#x6BCF;&#x4E2A;&#x670D;&#x52A1;&#x90FD;&#x9700;&#x8981;&#x72EC;&#x7ACB;&#x8BA4;&#x8BC1; &#x96BE;&#x4EE5;&#x91CD;&#x6784;&#xFF0C;&#x968F;&#x7740;&#x9879;&#x76EE;&#x7684;&#x8FED;&#x4EE3;&#xFF0C;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x5212;&#x5206;&#x5FAE;&#x670D;&#x52A1;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x53EF;&#x80FD;&#x5C06;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x5408;&#x5E76;&#x6210;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x5C06;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x62C6;&#x5206;&#x6210;&#x591A;&#x4E2A;&#x3002;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x76F4;&#x63A5;&#x4E0E;&#x5FAE;&#x670D;&#x52A1;&#x901A;&#x4FE1;&#xFF0C;&#x90A3;&#x4E48;&#x91CD;&#x6784;&#x5C06;&#x4F1A;&#x5F88;&#x96BE;&#x5B9E;&#x65BD; &#x4EE5;&#x4E0A;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x501F;&#x52A9;&#x7F51;&#x5173;&#x89E3;&#x51B3;&#x3002; &#x7F51;&#x5173;&#x662F;&#x4ECB;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4E4B;&#x95F4;&#x7684;&#x4E2D;&#x95F4;&#x5C42;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5916;&#x90E8;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x5148;&#x7ECF;&#x8FC7; &#x7F51;&#x5173;&#x8FD9;&#x4E00;&#x5C42;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;API &#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x9762;&#x66F4;&#x591A;&#x7684;&#x8003;&#x8651;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x800C;&#x5B89;&#x5168;&#x3001;&#x6027;&#x80FD;&#x3001;&#x76D1;&#x63A7;&#x53EF;&#x4EE5;&#x4EA4;&#x7531; &#x7F51;&#x5173;&#x6765;&#x505A;&#xFF0C;&#x8FD9;&#x6837;&#x65E2;&#x63D0;&#x9AD8;&#x4E1A;&#x52A1;&#x7075;&#x6D3B;&#x6027;&#x53C8;&#x4E0D;&#x7F3A;&#x5B89;&#x5168;&#x6027;&#xFF0C;&#x5178;&#x578B;&#x7684;&#x67B6;&#x6784;&#x56FE;&#x5982;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x4F18;&#x70B9;&#x5982;&#x4E0B;&#xFF1A; &#x5B89;&#x5168; &#xFF0C;&#x53EA;&#x6709;&#x7F51;&#x5173;&#x7CFB;&#x7EDF;&#x5BF9;&#x5916;&#x8FDB;&#x884C;&#x66B4;&#x9732;&#xFF0C;&#x5FAE;&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x9690;&#x85CF;&#x5728;&#x5185;&#x7F51;&#xFF0C;&#x901A;&#x8FC7;&#x9632;&#x706B;&#x5899;&#x4FDD;&#x62A4;&#x3002; &#x6613;&#x4E8E;&#x76D1;&#x63A7;&#x3002;&#x53EF;&#x4EE5;&#x5728;&#x7F51;&#x5173;&#x6536;&#x96C6;&#x76D1;&#x63A7;&#x6570;&#x636E;&#x5E76;&#x5C06;&#x5176;&#x63A8;&#x9001;&#x5230;&#x5916;&#x90E8;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x3002; &#x6613;&#x4E8E;&#x7EDF;&#x4E00;&#x8BA4;&#x8BC1;&#x6388;&#x6743;&#x3002;&#x53EF;&#x4EE5;&#x5728;&#x7F51;&#x5173;&#x4E0A;&#x8FDB;&#x884C;&#x8BA4;&#x8BC1;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x540E;&#x7AEF;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x800C;&#x65E0;&#x987B;&#x5728;&#x6BCF;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x8FDB;&#x884C;&#x8BA4;&#x8BC1;&#x3002; &#x51CF;&#x5C11;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x5404;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x4EA4;&#x4E92;&#x6B21;&#x6570; &#x5B9E;&#x73B0;&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x7684;&#x6280;&#x672F;&#x6709;&#x5F88;&#x591A;&#xFF0C; nginx Nginx (engine x) &#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x6027;&#x80FD;&#x7684;HTTP&#x548C;&#x53CD;&#x5411;&#x4EE3;&#x7406;web&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;IMAP/POP3/SMTP&#x670D;&#x52A1; zuul ,Zuul &#x662F; Netflix &#x51FA;&#x54C1;&#x7684;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E; JVM &#x8DEF;&#x7531;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#x3002; spring-cloud-gateway, &#x662F;spring &#x51FA;&#x54C1;&#x7684; &#x57FA;&#x4E8E;spring &#x7684;&#x7F51;&#x5173;&#x9879;&#x76EE;&#xFF0C;&#x96C6;&#x6210;&#x65AD;&#x8DEF;&#x5668;&#xFF0C;&#x8DEF;&#x5F84;&#x91CD;&#x5199;&#xFF0C;&#x6027;&#x80FD;&#x6BD4;Zuul&#x597D;&#x3002; &#x6211;&#x4EEC;&#x4F7F;&#x7528;gateway&#x8FD9;&#x4E2A;&#x7F51;&#x5173;&#x6280;&#x672F;&#xFF0C;&#x65E0;&#x7F1D;&#x8854;&#x63A5;&#x5230;&#x57FA;&#x4E8E;spring cloud&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x5F00;&#x53D1;&#x4E2D;&#x6765;&#x3002; gateway&#x5B98;&#x7F51;&#xFF1A; https://spring.io/projects/spring-cloud-gateway 1.2 &#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x5FAE;&#x670D;&#x52A1;&#x642D;&#x5EFA;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x5F00;&#x53D1;&#x7684;&#x7CFB;&#x7EDF; &#x6709;&#x5305;&#x62EC;&#x524D;&#x53F0;&#x7CFB;&#x7EDF;&#x548C;&#x540E;&#x53F0;&#x7CFB;&#x7EDF;&#xFF0C;&#x540E;&#x53F0;&#x7684;&#x7CFB;&#x7EDF;&#x7ED9;&#x7BA1;&#x7406;&#x5458;&#x4F7F;&#x7528;&#x3002;&#x90A3;&#x4E48;&#x4E5F;&#x9700;&#x8981;&#x8C03;&#x7528;&#x5404;&#x79CD;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9488;&#x5BF9;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x642D;&#x5EFA;&#x4E00;&#x4E2A;&#x7F51;&#x5173;&#x5FAE;&#x670D;&#x52A1;&#x3002;&#x5206;&#x6790;&#x5982;&#x4E0B;&#xFF1A; &#x642D;&#x5EFA;&#x6B65;&#x9AA4;&#xFF1A; &#xFF08;1&#xFF09;&#x5728;changgou_gateway&#x5DE5;&#x7A0B;&#x4E2D;&#xFF0C;&#x521B;&#x5EFA;changgou_gateway_system&#x5DE5;&#x7A0B;&#xFF0C;pom.xml: &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-gateway&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt;&#xFF08;2&#xFF09;&#x521B;&#x5EFA;&#x5305;com.changgou.system, &#x521B;&#x5EFA;&#x5F15;&#x5BFC;&#x7C7B;&#xFF1A;GatewayApplication @SpringBootApplication @EnableEurekaClient public class GatewayApplication { public static void main(String[] args) { SpringApplication.run(GatewayApplication.class, args); } }&#xFF08;3&#xFF09;&#x5728;resources&#x4E0B;&#x521B;&#x5EFA;application.yml spring: application: name: sysgateway cloud: gateway: routes: - id: goods uri: lb://goods predicates: - Path=/goods/** filters: - StripPrefix= 1 - id: system uri: lb://system predicates: - Path=/system/** filters: - StripPrefix= 1 server: port: 9101 eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: true&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x624B;&#x518C;&#xFF1A; https://cloud.spring.io/spring-cloud-gateway/spring-cloud-gateway.html#_stripprefix_gatewayfilter_factory 1.3 &#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x8DE8;&#x57DF;&#x4FEE;&#x6539;application.yml ,&#x5728;spring.cloud.gateway&#x8282;&#x70B9;&#x6DFB;&#x52A0;&#x914D;&#x7F6E;&#xFF0C; globalcors: cors-configurations: &apos;[/**]&apos;: # &#x5339;&#x914D;&#x6240;&#x6709;&#x8BF7;&#x6C42; allowedOrigins: &quot;*&quot; #&#x8DE8;&#x57DF;&#x5904;&#x7406; &#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;&#x57DF; allowedMethods: # &#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5; - GET - POST - PUT - DELETE&#x6700;&#x7EC8;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; spring: application: name: sysgateway cloud: gateway: globalcors: cors-configurations: &apos;[/**]&apos;: # &#x5339;&#x914D;&#x6240;&#x6709;&#x8BF7;&#x6C42; allowedOrigins: &quot;*&quot; #&#x8DE8;&#x57DF;&#x5904;&#x7406; &#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;&#x57DF; allowedMethods: # &#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5; - GET - POST - PUT - DELETE routes: - id: goods uri: lb://goods predicates: - Path=/goods/** filters: - StripPrefix= 1 server: port: 9101 eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: true&#x4E0B;&#x9762;&#x7684;goods&#x4E3A;&#x865A;&#x62DF;&#x8DEF;&#x5F84; &#x5339;&#x914D;&#x5230;&#x4E0A;&#x9762;&#x7684;goods&#x670D;&#x52A1;&#x540D;&#x79F0; 1.4 &#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x8FC7;&#x6EE4;&#x5668;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F51;&#x5173;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5B9E;&#x73B0;&#x4E00;&#x4E9B;&#x903B;&#x8F91;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x6BD4;&#x5982;ip&#x9ED1;&#x767D;&#x540D;&#x5355;&#x62E6;&#x622A;&#x3001;&#x7279;&#x5B9A;&#x5730;&#x5740;&#x7684;&#x62E6;&#x622A;&#x7B49;&#x3002;&#x4E0B;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x505A;&#x4E86;&#x4E24;&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x5B9A;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#xFF0C;&#x53EA;&#x6F14;&#x793A;&#x8FC7;&#x6EE4;&#x5668;&#x4E0E;&#x8FD0;&#x884C;&#x6548;&#x679C;&#x3002;&#xFF08;&#x5177;&#x4F53;&#x903B;&#x8F91;&#x5904;&#x7406;&#x90E8;&#x5206;&#x5B66;&#x5458;&#x5B9E;&#x73B0;&#xFF09; &#xFF08;1&#xFF09;changgou_gateway_system&#x521B;&#x5EFA;IpFilter @Component public class IpFilter implements GlobalFilter, Ordered { @Override public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) { System.out.println(&quot;&#x7ECF;&#x8FC7;&#x7B2C;1&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;IpFilter&quot;); ServerHttpRequest request = exchange.getRequest(); InetSocketAddress remoteAddress = request.getRemoteAddress(); System.out.println(&quot;ip:&quot;+remoteAddress.getHostName()); return chain.filter(exchange); } @Override public int getOrder() { return 1; } }&#xFF08;2&#xFF09;changgou_gateway_system&#x521B;&#x5EFA;UrlFilter @Component public class UrlFilter implements GlobalFilter, Ordered { @Override public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) { System.out.println(&quot;&#x7ECF;&#x8FC7;&#x7B2C;2&#x4E2A;&#x8FC7;&#x6EE4;&#x5668;UrlFilter&quot;); ServerHttpRequest request = exchange.getRequest(); String url = request.getURI().getPath(); System.out.println(&quot;url:&quot;+url); return chain.filter(exchange); } @Override public int getOrder() { return 2; } }&#x6D4B;&#x8BD5;&#xFF0C;&#x89C2;&#x5BDF;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x51FA;&#x3002; 2 &#x7F51;&#x5173;&#x9650;&#x6D41;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x8BF4;&#x8FC7;&#xFF0C;&#x7F51;&#x5173;&#x53EF;&#x4EE5;&#x505A;&#x5F88;&#x591A;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x9650;&#x6D41;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x7684;&#x7CFB;&#x7EDF;&#x88AB;&#x9891;&#x7E41;&#x7684;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x6709;&#x53EF;&#x80FD;&#x5C06;&#x7CFB;&#x7EDF;&#x538B;&#x57AE;&#xFF0C;&#x6240;&#x4EE5;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x505A;&#x9650;&#x6D41;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x6709;&#x4E86;&#x7F51;&#x5173;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x7F51;&#x5173;&#x7CFB;&#x7EDF;&#x505A;&#x9650;&#x6D41;&#xFF0C;&#x56E0;&#x4E3A;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x90FD;&#x9700;&#x8981;&#x5148;&#x901A;&#x8FC7;&#x7F51;&#x5173;&#x7CFB;&#x7EDF;&#x624D;&#x80FD;&#x8DEF;&#x7531;&#x5230;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x3002;&#x9632;&#x6B62;DDOS&#x653B;&#x51FB; 2.1 &#x601D;&#x8DEF;&#x5206;&#x6790; 2.2 &#x4EE4;&#x724C;&#x6876;&#x7B97;&#x6CD5;&#x4EE4;&#x724C;&#x6876;&#x7B97;&#x6CD5;&#x662F;&#x6BD4;&#x8F83;&#x5E38;&#x89C1;&#x7684;&#x9650;&#x6D41;&#x7B97;&#x6CD5;&#x4E4B;&#x4E00;&#xFF0C;&#x5927;&#x6982;&#x63CF;&#x8FF0;&#x5982;&#x4E0B;&#xFF1A; 1&#xFF09;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x5728;&#x5904;&#x7406;&#x4E4B;&#x524D;&#x90FD;&#x9700;&#x8981;&#x62FF;&#x5230;&#x4E00;&#x4E2A;&#x53EF;&#x7528;&#x7684;&#x4EE4;&#x724C;&#x624D;&#x4F1A;&#x88AB;&#x5904;&#x7406;&#xFF1B; 2&#xFF09;&#x6839;&#x636E;&#x9650;&#x6D41;&#x5927;&#x5C0F;&#xFF0C;&#x8BBE;&#x7F6E;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x901F;&#x7387;&#x5F80;&#x6876;&#x91CC;&#x6DFB;&#x52A0;&#x4EE4;&#x724C;&#xFF1B; 3&#xFF09;&#x6876;&#x8BBE;&#x7F6E;&#x6700;&#x5927;&#x7684;&#x653E;&#x7F6E;&#x4EE4;&#x724C;&#x9650;&#x5236;&#xFF0C;&#x5F53;&#x6876;&#x6EE1;&#x65F6;&#x3001;&#x65B0;&#x6DFB;&#x52A0;&#x7684;&#x4EE4;&#x724C;&#x5C31;&#x88AB;&#x4E22;&#x5F03;&#x6216;&#x8005;&#x62D2;&#x7EDD;&#xFF1B; 4&#xFF09;&#x8BF7;&#x6C42;&#x8FBE;&#x5230;&#x540E;&#x9996;&#x5148;&#x8981;&#x83B7;&#x53D6;&#x4EE4;&#x724C;&#x6876;&#x4E2D;&#x7684;&#x4EE4;&#x724C;&#xFF0C;&#x62FF;&#x7740;&#x4EE4;&#x724C;&#x624D;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5176;&#x4ED6;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x5904;&#x7406;&#x5B8C;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4E4B;&#x540E;&#xFF0C;&#x5C06;&#x4EE4;&#x724C;&#x76F4;&#x63A5;&#x5220;&#x9664;&#xFF1B; 5&#xFF09;&#x4EE4;&#x724C;&#x6876;&#x6709;&#x6700;&#x4F4E;&#x9650;&#x989D;&#xFF0C;&#x5F53;&#x6876;&#x4E2D;&#x7684;&#x4EE4;&#x724C;&#x8FBE;&#x5230;&#x6700;&#x4F4E;&#x9650;&#x989D;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x5B8C;&#x4E4B;&#x540E;&#x5C06;&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x4EE4;&#x724C;&#xFF0C;&#x4EE5;&#x6B64;&#x4FDD;&#x8BC1;&#x8DB3;&#x591F;&#x7684;&#x9650;&#x6D41; &#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x8FD9;&#x4E2A;&#x7B97;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x6709;&#x5F88;&#x591A;&#x6280;&#x672F;&#xFF0C;Guava(&#x8BFB;&#x97F3;: &#x74DC;&#x54C7;)&#x662F;&#x5176;&#x4E2D;&#x4E4B;&#x4E00;&#xFF0C;redis&#x5BA2;&#x6237;&#x7AEF;&#x4E5F;&#x6709;&#x5176;&#x5B9E;&#x73B0;&#x3002; 2.3 &#x7F51;&#x5173;&#x9650;&#x6D41;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x9700;&#x6C42;&#xFF1A;&#x6BCF;&#x4E2A;ip&#x5730;&#x5740;1&#x79D2;&#x5185;&#x53EA;&#x80FD;&#x53D1;&#x9001;1&#x6B21;&#x8BF7;&#x6C42;&#xFF0C;&#x591A;&#x51FA;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;429&#x9519;&#x8BEF;&#x3002; &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF1A; &#xFF08;1&#xFF09;spring cloud gateway &#x9ED8;&#x8BA4;&#x4F7F;&#x7528;redis&#x7684;RateLimter&#x9650;&#x6D41;&#x7B97;&#x6CD5;&#x6765;&#x5B9E;&#x73B0;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8981;&#x4F7F;&#x7528;&#x9996;&#x5148;&#x9700;&#x8981;&#x5F15;&#x5165;redis&#x7684;&#x4F9D;&#x8D56; &lt;!--redis--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis-reactive&lt;/artifactId&gt; &lt;version&gt;2.1.3.RELEASE&lt;/version&gt; &lt;/dependency&gt;&#xFF08;2&#xFF09;&#x5B9A;&#x4E49;KeyResolver &#x5728;GatewayApplicatioin&#x5F15;&#x5BFC;&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;KeyResolver&#x7528;&#x4E8E;&#x8BA1;&#x7B97;&#x67D0;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x7684;&#x9650;&#x6D41;&#x7684;KEY&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;KeyResolver&#x6765;&#x6307;&#x5B9A;&#x9650;&#x6D41;&#x7684;Key&#x3002; //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;KeyResolver @Bean public KeyResolver ipKeyResolver() { return new KeyResolver() { @Override public Mono&lt;String&gt; resolve(ServerWebExchange exchange) { return Mono.just(exchange.getRequest().getRemoteAddress().getHostName()); } }; }&#xFF08;3&#xFF09;&#x4FEE;&#x6539;application.yml&#x4E2D;&#x914D;&#x7F6E;&#x9879;&#xFF0C;&#x6307;&#x5B9A;&#x9650;&#x5236;&#x6D41;&#x91CF;&#x7684;&#x914D;&#x7F6E;&#x4EE5;&#x53CA;REDIS&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x6700;&#x7EC8;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; spring: application: name: sysgateway cloud: gateway: globalcors: cors-configurations: &apos;[/**]&apos;: # &#x5339;&#x914D;&#x6240;&#x6709;&#x8BF7;&#x6C42; allowedOrigins: &quot;*&quot; #&#x8DE8;&#x57DF;&#x5904;&#x7406; &#x5141;&#x8BB8;&#x6240;&#x6709;&#x7684;&#x57DF; allowedMethods: # &#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5; - GET - POST - PUT - DELETE routes: - id: goods uri: lb://goods predicates: - Path=/goods/** filters: - StripPrefix= 1 - name: RequestRateLimiter #&#x8BF7;&#x6C42;&#x6570;&#x9650;&#x6D41; &#x540D;&#x5B57;&#x4E0D;&#x80FD;&#x968F;&#x4FBF;&#x5199; args: key-resolver: &quot;#{@ipKeyResolver}&quot; #&#x4ECE;spring&#x5BB9;&#x5668;&#x4E2D;&#x83B7;&#x53D6;&#x521A;&#x624D;&#x58F0;&#x660E;&#x7684;bean redis-rate-limiter.replenishRate: 1 #&#x4EE4;&#x724C;&#x6876;&#x6BCF;&#x79D2;&#x586B;&#x5145;&#x5E73;&#x5747;&#x901F;&#x7387; redis-rate-limiter.burstCapacity: 1 #&#x4EE4;&#x724C;&#x6876;&#x603B;&#x5BB9;&#x91CF; - id: system uri: lb://system predicates: - Path=/system/** filters: - StripPrefix= 1 # &#x914D;&#x7F6E;Redis 127.0.0.1&#x53EF;&#x4EE5;&#x7701;&#x7565;&#x914D;&#x7F6E; redis: host: 192.168.200.128 port: 6379 server: port: 9101 eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: true&#x89E3;&#x91CA;&#xFF1A; burstCapacity&#xFF1A;&#x4EE4;&#x724C;&#x6876;&#x603B;&#x5BB9;&#x91CF;&#x3002; replenishRate&#xFF1A;&#x4EE4;&#x724C;&#x6876;&#x6BCF;&#x79D2;&#x586B;&#x5145;&#x5E73;&#x5747;&#x901F;&#x7387;&#x3002; key-resolver&#xFF1A;&#x7528;&#x4E8E;&#x9650;&#x6D41;&#x7684;&#x952E;&#x7684;&#x89E3;&#x6790;&#x5668;&#x7684; Bean &#x5BF9;&#x8C61;&#x7684;&#x540D;&#x5B57;&#x3002;&#x5B83;&#x4F7F;&#x7528; SpEL &#x8868;&#x8FBE;&#x5F0F;&#x6839;&#x636E;#{@beanName}&#x4ECE; Spring &#x5BB9;&#x5668;&#x4E2D;&#x83B7;&#x53D6; Bean &#x5BF9;&#x8C61;&#x3002; &#x901A;&#x8FC7;&#x5728;replenishRate&#x548C;&#x4E2D;&#x8BBE;&#x7F6E;&#x76F8;&#x540C;&#x7684;&#x503C;&#x6765;&#x5B9E;&#x73B0;&#x7A33;&#x5B9A;&#x7684;&#x901F;&#x7387;burstCapacity&#x3002;&#x8BBE;&#x7F6E;burstCapacity&#x9AD8;&#x4E8E;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5141;&#x8BB8;&#x4E34;&#x65F6;&#x7A81;&#x53D1;replenishRate&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x7A81;&#x53D1;&#x4E4B;&#x95F4;&#x5141;&#x8BB8;&#x901F;&#x7387;&#x9650;&#x5236;&#x5668;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#xFF08;&#x6839;&#x636E;replenishRate&#xFF09;&#xFF0C;&#x56E0;&#x4E3A;2&#x6B21;&#x8FDE;&#x7EED;&#x7A81;&#x53D1;&#x5C06;&#x5BFC;&#x81F4;&#x8BF7;&#x6C42;&#x88AB;&#x4E22;&#x5F03;&#xFF08;HTTP 429 - Too Many Requests&#xFF09; key-resolver: &#x201C;#{@userKeyResolver}&#x201D; &#x7528;&#x4E8E;&#x901A;&#x8FC7;SPEL&#x8868;&#x8FBE;&#x5F0F;&#x6765;&#x6307;&#x5B9A;&#x4F7F;&#x7528;&#x54EA;&#x4E00;&#x4E2A;KeyResolver. &#x5982;&#x4E0A;&#x914D;&#x7F6E;&#xFF1A; &#x8868;&#x793A; &#x4E00;&#x79D2;&#x5185;&#xFF0C;&#x5141;&#x8BB8;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x901A;&#x8FC7;&#xFF0C;&#x4EE4;&#x724C;&#x6876;&#x7684;&#x586B;&#x5145;&#x901F;&#x7387;&#x4E5F;&#x662F;&#x4E00;&#x79D2;&#x949F;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x4EE4;&#x724C;&#x3002; &#x6700;&#x5927;&#x7A81;&#x53D1;&#x72B6;&#x51B5; &#x4E5F;&#x53EA;&#x5141;&#x8BB8; &#x4E00;&#x79D2;&#x5185;&#x6709;&#x4E00;&#x6B21;&#x8BF7;&#x6C42;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4E1A;&#x52A1;&#x6765;&#x8C03;&#x6574; &#x3002; &#xFF08;4&#xFF09;&#x6D4B;&#x8BD5; &#x542F;&#x52A8;redis &#x542F;&#x52A8;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x542F;&#x52A8;&#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1; &#x542F;&#x52A8;gateway&#x7F51;&#x5173; &#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668; http://localhost:9101/goods/brand &#x5FEB;&#x901F;&#x5237;&#x65B0;&#xFF0C;&#x5F53;1&#x79D2;&#x5185;&#x53D1;&#x9001;&#x591A;&#x6B21;&#x8BF7;&#x6C42;&#xFF0C;&#x5C31;&#x4F1A;&#x8FD4;&#x56DE;429&#x9519;&#x8BEF;&#x3002; 3. BCrypt&#x5BC6;&#x7801;&#x52A0;&#x5BC6;3.1 BCrypt&#x5FEB;&#x901F;&#x5165;&#x95E8;&#x5728;&#x7528;&#x6237;&#x6A21;&#x5757;&#xFF0C;&#x5BF9;&#x4E8E;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x7684;&#x4FDD;&#x62A4;&#xFF0C;&#x901A;&#x5E38;&#x90FD;&#x4F1A;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x3002;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x5BF9;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#xFF0C;&#x7136;&#x540E;&#x5B58;&#x653E;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x5728;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C06;&#x5176;&#x8F93;&#x5165;&#x7684;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x7136;&#x540E;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x5BC6;&#x6587;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x4EE5;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x662F;&#x5426;&#x6B63;&#x786E;&#x3002; &#x76EE;&#x524D;&#xFF0C;MD5&#x548C;BCrypt&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x3002;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#xFF0C;BCrypt&#x6BD4;MD5&#x66F4;&#x5B89;&#x5168;&#x3002;&#x56E0;&#x4E3A;&#x5176;&#x5185;&#x90E8;&#x5F15;&#x5165;&#x7684;&#x52A0;&#x76D0;&#x673A;&#x5236; BCrypt &#x5B98;&#x7F51;http://www.mindrot.org/projects/jBCrypt/ &#xFF08;1&#xFF09;&#x65B0;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;&#xFF0C;main&#x65B9;&#x6CD5;&#x4E2D;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x5B9E;&#x73B0;&#x5BF9;&#x5BC6;&#x7801;&#x7684;&#x52A0;&#x5BC6; public class TestBcrypt { public static void main(String[] args) { /** * &#x5F97;&#x5230;&#x76D0; * &#x76D0;&#x662F;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x751F;&#x6210;&#x7684;&#x542B;&#x6709;29&#x4E2A;&#x5B57;&#x7B26;&#x7684;&#x5B57;&#x7B26;&#x4E32;,&#x5E76;&#x4E14;&#x4F1A;&#x4E0E;&#x5BC6;&#x7801;&#x4E00;&#x8D77;&#x5408;&#x5E76;&#x8FDB;&#x884C;&#x6700;&#x7EC8;&#x7684;&#x5BC6;&#x6587;&#x751F;&#x6210; * &#x5E76;&#x4E14;&#x6BCF;&#x4E00;&#x6B21;&#x751F;&#x6210;&#x7684;&#x76D0;&#x7684;&#x503C;&#x90FD;&#x662F;&#x4E0D;&#x540C;&#x7684; */ for(int i=0;i&lt;10;i++){ String gensalt = BCrypt.gensalt(); System.out.println(&quot;salt:&quot;+gensalt); String saltPassword = BCrypt.hashpw(&quot;123456&quot;, gensalt); System.out.println(&quot;&#x672C;&#x6B21;&#x751F;&#x6210;&#x7684;&#x5BC6;&#x7801;:&quot;+saltPassword); } } }&#xFF08;2&#xFF09;main&#x65B9;&#x6CD5;&#x4E2D;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x5B9E;&#x73B0;&#x5BF9;&#x5BC6;&#x7801;&#x7684;&#x6821;&#x9A8C;&#x3002;BCrypt&#x4E0D;&#x652F;&#x6301;&#x53CD;&#x8FD0;&#x7B97;&#xFF0C;&#x53EA;&#x652F;&#x6301;&#x5BC6;&#x7801;&#x6821;&#x9A8C;&#x3002; //&#x6821;&#x9A8C;&#x5BC6;&#x7801; boolean checkpw = BCrypt.checkpw(&quot;123456&quot;, saltPassword); System.out.println(&quot;&#x5BC6;&#x7801;&#x6821;&#x9A8C;&#x7ED3;&#x679C;:&quot;+checkpw);3.2 &#x65B0;&#x589E;&#x7BA1;&#x7406;&#x5458;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;3.2.1 &#x9700;&#x6C42;&#x4E0E;&#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790;&#x65B0;&#x589E;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x4F7F;&#x7528;BCrypt&#x8FDB;&#x884C;&#x5BC6;&#x7801;&#x52A0;&#x5BC6; id int &#x4E3B;&#x952E;id login_name varchar &#x767B;&#x5F55;&#x540D; password varchar &#x5BC6;&#x7801; status char &#x72B6;&#x6001; 3.2.2 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF08;1&#xFF09;&#x4FEE;&#x6539;changgou_service_system&#x9879;&#x76EE;&#x7684;AdminServiceImpl /** * &#x589E;&#x52A0; * @param admin */ @Override public void add(Admin admin){ String password = BCrypt.hashpw(admin.getPassword(), BCrypt.gensalt()); admin.setPassword(password); adminMapper.insert(admin); }3.3 &#x7BA1;&#x7406;&#x5458;&#x767B;&#x5F55;&#x5BC6;&#x7801;&#x9A8C;&#x8BC1;3.3.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x7528;&#x6237;&#x9700;&#x8981;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#xFF0C;&#x624D;&#x80FD;&#x8FDB;&#x5165;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x3002; &#x601D;&#x8DEF;&#xFF1A; &#x7528;&#x6237;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801; &#x540E;&#x53F0;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;controller&#x63A5;&#x6536;&#x53C2;&#x6570;&#xFF0C;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x662F;&#x5426;&#x6B63;&#x786E;&#xFF0C;&#x5982;&#x679C;&#x6B63;&#x786E;&#x5219;&#x8FD4;&#x56DE;&#x7528;&#x6237;&#x767B;&#x5F55;&#x6210;&#x529F;&#x7ED3;&#x679C; 3.3.2 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF08;1&#xFF09;AdminService&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49; /** * &#x767B;&#x5F55;&#x9A8C;&#x8BC1;&#x5BC6;&#x7801; * @param admin * @return */ boolean login(Admin admin);&#xFF08;2&#xFF09;AdminServiceImpl&#x5B9E;&#x73B0;&#x6B64;&#x65B9;&#x6CD5; @Override public boolean login(Admin admin) { //&#x6839;&#x636E;&#x767B;&#x5F55;&#x540D;&#x67E5;&#x8BE2;&#x7BA1;&#x7406;&#x5458; Admin admin1=new Admin(); admin1.setLoginName(admin.getLoginName()); //&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x6CA1;&#x529E;&#x6CD5;&#x8F93;&#x5165;&#x7BA1;&#x7406;&#x5458;&#x7684;&#x72B6;&#x6001;,&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x8981;&#x65B0;new&#x4E00;&#x4E2A;,&#x4E3A;&#x4EE5;&#x540E;&#x5C01;&#x53F7;&#x505A;&#x51C6;&#x5907; admin1.setStatus(&quot;1&quot;); Admin admin2 = adminMapper.selectOne(admin1);//&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x51FA;&#x7684;&#x5BF9;&#x8C61; if(admin2==null){ return false; }else{ //&#x9A8C;&#x8BC1;&#x5BC6;&#x7801;, Bcrypt&#x4E3A;spring&#x7684;&#x5305;, &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;&#x660E;&#x6587;&#x5BC6;&#x7801;, &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;&#x5BC6;&#x6587;&#x5BC6;&#x7801; return BCrypt.checkpw(admin.getPassword(),admin2.getPassword()); } }&#xFF08;3&#xFF09;AdminController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x767B;&#x5F55; * @param admin * @return */ @PostMapping(&quot;/login&quot;) public Result login(@RequestBody Admin admin){ boolean login = adminService.login(admin); if(login){ return new Result(); }else{ return new Result(false,StatusCode.LOGINERROR,&quot;&#x7528;&#x6237;&#x540D;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&quot;); } }4.&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;(&#x4E86;&#x89E3;)&#x7531;&#x4E8E;&#x5728;&#x5B66;&#x4E60;JWT&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x6D89;&#x53CA;&#x4F7F;&#x7528;&#x5F88;&#x591A;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;, &#x6240;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x505A;&#x4E0B;&#x626B;&#x76F2;, &#x7B80;&#x5355;&#x4E86;&#x89E3;&#x5C31;&#x53EF;&#x4EE5; &#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x79CD;&#x7C7B;&#x6709;: &#x200B; &#x53EF;&#x9006;&#x7B97;&#x6CD5; : &#x5BF9;&#x79F0;(&#x52A0;&#x5BC6;&#x548C;&#x89E3;&#x5BC6;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x5BC6;&#x94A5;&#x5373;&#x52A0;&#x5BC6;&#x5BC6;&#x94A5;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4F5C;&#x89E3;&#x5BC6;&#x5BC6;&#x94A5;) &#x975E;&#x5BF9;&#x79F0;(&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#xFF08;publickey&#xFF09;&#x548C;&#x79C1;&#x6709;&#x5BC6;&#x94A5;&#xFF0C;&#x516C;&#x6709;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#xFF0C;&#x79C1;&#x6709;&#x5BC6;&#x94A5;&#x89E3;&#x5BC6;) &#x200B; &#x4E0D;&#x53EF;&#x9006;&#x7B97;&#x6CD5; : &#x4E00;&#x65E6;&#x52A0;&#x5BC6;&#x5C31;&#x4E0D;&#x80FD;&#x53CD;&#x5411;&#x89E3;&#x5BC6;&#x5F97;&#x5230;&#x5BC6;&#x7801;&#x539F;&#x6587;.(Hash&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;, &#x6563;&#x5217;&#x7B97;&#x6CD5;, &#x6458;&#x8981;&#x7B97;&#x6CD5;&#x7B49;) 4.1.&#x53EF;&#x9006;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x89E3;&#x91CA;: &#x52A0;&#x5BC6;&#x540E;, &#x5BC6;&#x6587;&#x53EF;&#x4EE5;&#x53CD;&#x5411;&#x89E3;&#x5BC6;&#x5F97;&#x5230;&#x5BC6;&#x7801;&#x539F;&#x6587;. 4.1.1. &#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x3010;&#x6587;&#x4EF6;&#x52A0;&#x5BC6;&#x548C;&#x89E3;&#x5BC6;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x5BC6;&#x94A5;&#xFF0C;&#x5373;&#x52A0;&#x5BC6;&#x5BC6;&#x94A5;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x4F5C;&#x89E3;&#x5BC6;&#x5BC6;&#x94A5;&#x3011; &#x89E3;&#x91CA;: &#x5728;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x4E2D;&#xFF0C;&#x6570;&#x636E;&#x53D1;&#x4FE1;&#x65B9;&#x5C06;&#x660E;&#x6587;&#x548C;&#x52A0;&#x5BC6;&#x5BC6;&#x94A5;&#x4E00;&#x8D77;&#x7ECF;&#x8FC7;&#x7279;&#x6B8A;&#x7684;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x5904;&#x7406;&#x540E;&#xFF0C;&#x4F7F;&#x5176;&#x53D8;&#x6210;&#x590D;&#x6742;&#x7684;&#x52A0;&#x5BC6;&#x5BC6;&#x6587;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#xFF0C;&#x6536;&#x4FE1;&#x65B9;&#x6536;&#x5230;&#x5BC6;&#x6587;&#x540E;&#xFF0C;&#x82E5;&#x60F3;&#x89E3;&#x8BFB;&#x51FA;&#x539F;&#x6587;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x52A0;&#x5BC6;&#x65F6;&#x7528;&#x7684;&#x5BC6;&#x94A5;&#x4EE5;&#x53CA;&#x76F8;&#x540C;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x7684;&#x9006;&#x7B97;&#x6CD5;&#x5BF9;&#x5BC6;&#x6587;&#x8FDB;&#x884C;&#x89E3;&#x5BC6;&#xFF0C;&#x624D;&#x80FD;&#x4F7F;&#x5176;&#x56DE;&#x590D;&#x6210;&#x53EF;&#x8BFB;&#x660E;&#x6587;&#x3002;&#x5728;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528;&#x7684;&#x5BC6;&#x94A5;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;&#x6536;&#x53D1;&#x53CC;&#x65B9;&#x90FD;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5BC6;&#x94A5;&#xFF0C;&#x8FD9;&#x5C31;&#x9700;&#x8981;&#x89E3;&#x5BC6;&#x65B9;&#x4E8B;&#x5148;&#x77E5;&#x9053;&#x52A0;&#x5BC6;&#x5BC6;&#x94A5;&#x3002; &#x4F18;&#x70B9;: &#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x7684;&#x4F18;&#x70B9;&#x662F;&#x7B97;&#x6CD5;&#x516C;&#x5F00;&#x3001;&#x8BA1;&#x7B97;&#x91CF;&#x5C0F;&#x3001;&#x52A0;&#x5BC6;&#x901F;&#x5EA6;&#x5FEB;&#x3001;&#x52A0;&#x5BC6;&#x6548;&#x7387;&#x9AD8;&#x3002; &#x7F3A;&#x70B9;: &#x6CA1;&#x6709;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x5B89;&#x5168;. &#x7528;&#x9014;&#xFF1A; &#x4E00;&#x822C;&#x7528;&#x4E8E;&#x4FDD;&#x5B58;&#x7528;&#x6237;&#x624B;&#x673A;&#x53F7;&#x3001;&#x8EAB;&#x4EFD;&#x8BC1;&#x7B49;&#x654F;&#x611F;&#x4F46;&#x80FD;&#x89E3;&#x5BC6;&#x7684;&#x4FE1;&#x606F;&#x3002; &#x5E38;&#x89C1;&#x7684;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x6709;: AES&#x3001;DES&#x3001;3DES&#x3001;Blowfish&#x3001;IDEA&#x3001;RC4&#x3001;RC5&#x3001;RC6&#x3001;HS256 4.1.2. &#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x3010;&#x4E24;&#x4E2A;&#x5BC6;&#x94A5;&#xFF1A;&#x516C;&#x5F00;&#x5BC6;&#x94A5;&#xFF08;publickey&#xFF09;&#x548C;&#x79C1;&#x6709;&#x5BC6;&#x94A5;&#xFF0C;&#x516C;&#x6709;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6;&#xFF0C;&#x79C1;&#x6709;&#x5BC6;&#x94A5;&#x89E3;&#x5BC6;&#x3011; &#x89E3;&#x91CA;: &#x540C;&#x65F6;&#x751F;&#x6210;&#x4E24;&#x628A;&#x5BC6;&#x94A5;&#xFF1A;&#x79C1;&#x94A5;&#x548C;&#x516C;&#x94A5;&#xFF0C;&#x79C1;&#x94A5;&#x9690;&#x79D8;&#x4FDD;&#x5B58;&#xFF0C;&#x516C;&#x94A5;&#x53EF;&#x4EE5;&#x4E0B;&#x53D1;&#x7ED9;&#x4FE1;&#x4EFB;&#x5BA2;&#x6237;&#x7AEF;. &#x52A0;&#x5BC6;&#x4E0E;&#x89E3;&#x5BC6;: &#x79C1;&#x94A5;&#x52A0;&#x5BC6;&#xFF0C;&#x6301;&#x6709;&#x79C1;&#x94A5;&#x6216;&#x516C;&#x94A5;&#x624D;&#x53EF;&#x4EE5;&#x89E3;&#x5BC6; &#x516C;&#x94A5;&#x52A0;&#x5BC6;&#xFF0C;&#x6301;&#x6709;&#x79C1;&#x94A5;&#x624D;&#x53EF;&#x89E3;&#x5BC6; &#x7B7E;&#x540D;: &#x79C1;&#x94A5;&#x7B7E;&#x540D;, &#x6301;&#x6709;&#x516C;&#x94A5;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x662F;&#x5426;&#x88AB;&#x7BE1;&#x6539;&#x8FC7;. &#x4F18;&#x70B9;: &#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x4E0E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x76F8;&#x6BD4;&#xFF0C;&#x5176;&#x5B89;&#x5168;&#x6027;&#x66F4;&#x597D;&#xFF1B; &#x7F3A;&#x70B9;: &#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7684;&#x7F3A;&#x70B9;&#x662F;&#x52A0;&#x5BC6;&#x548C;&#x89E3;&#x5BC6;&#x82B1;&#x8D39;&#x65F6;&#x95F4;&#x957F;&#x3001;&#x901F;&#x5EA6;&#x6162;&#xFF0C;&#x53EA;&#x9002;&#x5408;&#x5BF9;&#x5C11;&#x91CF;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#x3002; &#x7528;&#x9014;&#xFF1A; &#x4E00;&#x822C;&#x7528;&#x4E8E;&#x7B7E;&#x540D;&#x548C;&#x8BA4;&#x8BC1;&#x3002;&#x79C1;&#x94A5;&#x670D;&#x52A1;&#x5668;&#x4FDD;&#x5B58;, &#x7528;&#x6765;&#x52A0;&#x5BC6;, &#x516C;&#x94A5;&#x5BA2;&#x6237;&#x62FF;&#x7740;&#x7528;&#x4E8E;&#x5BF9;&#x4E8E;&#x4EE4;&#x724C;&#x6216;&#x8005;&#x7B7E;&#x540D;&#x7684;&#x89E3;&#x5BC6;&#x6216;&#x8005;&#x6821;&#x9A8C;&#x4F7F;&#x7528;. &#x5E38;&#x89C1;&#x7684;&#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x6709;&#xFF1A; RSA&#x3001;DSA&#xFF08;&#x6570;&#x5B57;&#x7B7E;&#x540D;&#x7528;&#xFF09;&#x3001;ECC&#xFF08;&#x79FB;&#x52A8;&#x8BBE;&#x5907;&#x7528;&#xFF09;&#x3001;RS256 (&#x91C7;&#x7528;SHA-256 &#x7684; RSA &#x7B7E;&#x540D;) 4.2.&#x4E0D;&#x53EF;&#x9006;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x89E3;&#x91CA;: &#x4E00;&#x65E6;&#x52A0;&#x5BC6;&#x5C31;&#x4E0D;&#x80FD;&#x53CD;&#x5411;&#x89E3;&#x5BC6;&#x5F97;&#x5230;&#x5BC6;&#x7801;&#x539F;&#x6587;. &#x79CD;&#x7C7B;: Hash&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;, &#x6563;&#x5217;&#x7B97;&#x6CD5;, &#x6458;&#x8981;&#x7B97;&#x6CD5;&#x7B49; &#x7528;&#x9014;&#xFF1A;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x6548;&#x9A8C;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x6B63;&#x786E;&#x6027;&#xFF0C;&#x4E00;&#x822C;&#x5728;&#x7F51;&#x7AD9;&#x4E0A;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x90FD;&#x80FD;&#x89C1;&#x5230;&#xFF1B;&#x5B58;&#x50A8;&#x7528;&#x6237;&#x654F;&#x611F;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x5BC6;&#x7801;&#x3001; &#x5361;&#x53F7;&#x7B49;&#x4E0D;&#x53EF;&#x89E3;&#x5BC6;&#x7684;&#x4FE1;&#x606F;&#x3002; &#x5E38;&#x89C1;&#x7684;&#x4E0D;&#x53EF;&#x9006;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x6709;&#xFF1A; MD5&#x3001;SHA&#x3001;HMAC 4.3.Base64&#x7F16;&#x7801;Base64&#x662F;&#x7F51;&#x7EDC;&#x4E0A;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x7528;&#x4E8E;&#x4F20;&#x8F93;8Bit&#x5B57;&#x8282;&#x4EE3;&#x7801;&#x7684;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x4E4B;&#x4E00;&#x3002;Base64&#x7F16;&#x7801;&#x53EF;&#x7528;&#x4E8E;&#x5728;HTTP&#x73AF;&#x5883;&#x4E0B;&#x4F20;&#x9012;&#x8F83;&#x957F;&#x7684;&#x6807;&#x8BC6;&#x4FE1;&#x606F;&#x3002;&#x91C7;&#x7528;Base64&#x7F16;&#x7801;&#x89E3;&#x7801;&#x5177;&#x6709;&#x4E0D;&#x53EF;&#x8BFB;&#x6027;&#xFF0C;&#x5373;&#x6240;&#x7F16;&#x7801;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x4F1A;&#x88AB;&#x4EBA;&#x7528;&#x8089;&#x773C;&#x6240;&#x76F4;&#x63A5;&#x770B;&#x5230;&#x3002;&#x6CE8;&#x610F;&#xFF1A;Base64&#x53EA;&#x662F;&#x4E00;&#x79CD;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#xFF0C;&#x4E0D;&#x7B97;&#x52A0;&#x5BC6;&#x65B9;&#x6CD5;&#x3002; &#x5728;&#x7EBF;&#x7F16;&#x7801;&#x5DE5;&#x5177;&#xFF1A; http://www.jsons.cn/img2base64/ 5. JWT &#x5B9E;&#x73B0;&#x5FAE;&#x670D;&#x52A1;&#x9274;&#x6743;5.1 &#x4EC0;&#x4E48;&#x662F;&#x5FAE;&#x670D;&#x52A1;&#x9274;&#x6743;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x642D;&#x5EFA;&#x8FC7;&#x4E86;&#x7F51;&#x5173;&#xFF0C;&#x4F7F;&#x7528;&#x7F51;&#x5173;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x6BD4;&#x8F83;&#x9002;&#x5408;&#x8FDB;&#x884C;&#x6743;&#x9650;&#x6821;&#x9A8C;&#x3002; &#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x91C7;&#x7528;JWT&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x9274;&#x6743;&#x6821;&#x9A8C;&#x3002; 5.2 JWTJSON Web Token&#xFF08;JWT&#xFF09;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x8F7B;&#x5DE7;&#x7684;&#x89C4;&#x8303;&#x3002;&#x8FD9;&#x4E2A;&#x89C4;&#x8303;&#x5141;&#x8BB8;&#x6211;&#x4EEC;&#x4F7F;&#x7528;JWT&#x5728;&#x7528;&#x6237;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x4F20;&#x9012;&#x5B89;&#x5168;&#x53EF;&#x9760;&#x7684;&#x4FE1;&#x606F;&#x3002; &#x4F18;&#x70B9; JWT&#x4F7F;&#x7528;&#x8D77;&#x6765;&#x8F7B;&#x4FBF;&#xFF0C;&#x5F00;&#x9500;&#x5C0F;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x4E0D;&#x7528;&#x8BB0;&#x5F55;&#x7528;&#x6237;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#xFF08;&#x65E0;&#x72B6;&#x6001;&#xFF09; &#x4E0D;&#x50CF;&#x4E4B;&#x524D;&#x7684;session&#x4E00;&#x6837; &#x4E00;&#x4E2A;JWT&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5B83;&#x7531;&#x4E09;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF0C;&#x5934;&#x90E8;&#x3001;&#x8F7D;&#x8377;&#x4E0E;&#x7B7E;&#x540D;&#x3002; &#x5934;&#x90E8;&#xFF08;Header&#xFF09; &#x5934;&#x90E8;&#x7528;&#x4E8E;&#x63CF;&#x8FF0;&#x5173;&#x4E8E;&#x8BE5;JWT&#x7684;&#x6700;&#x57FA;&#x672C;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4F8B;&#x5982;&#x5176;&#x7C7B;&#x578B;&#x4EE5;&#x53CA;&#x7B7E;&#x540D;&#x6240;&#x7528;&#x7684;&#x7B97;&#x6CD5;&#x7B49;&#x3002;&#x8FD9;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x8868;&#x793A;&#x6210;&#x4E00;&#x4E2A;JSON&#x5BF9;&#x8C61;&#x3002; {&quot;typ&quot;:&quot;JWT&quot;,&quot;alg&quot;:&quot;HS256&quot;}&#x5728;&#x5934;&#x90E8;&#x6307;&#x660E;&#x4E86;&#x7B7E;&#x540D;&#x7B97;&#x6CD5;&#x662F;HS256&#x7B97;&#x6CD5;&#x3002; &#x6211;&#x4EEC;&#x8FDB;&#x884C;BASE64&#x7F16;&#x7801;http://base64.xpcha.com/&#xFF0C;&#x7F16;&#x7801;&#x540E;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x5982;&#x4E0B;&#xFF1A; eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9&#x8F7D;&#x8377;&#xFF08;playload&#xFF09; &#x8F7D;&#x8377;&#x5C31;&#x662F;&#x5B58;&#x653E;&#x6709;&#x6548;&#x4FE1;&#x606F;&#x7684;&#x5730;&#x65B9;&#x3002; &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;payload: {&quot;sub&quot;:&quot;1234567890&quot;,&quot;name&quot;:&quot;John Doe&quot;,&quot;admin&quot;:true}&#x7136;&#x540E;&#x5C06;&#x5176;&#x8FDB;&#x884C;base64&#x52A0;&#x5BC6;&#xFF0C;&#x5F97;&#x5230;Jwt&#x7684;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#x3002; eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9&#x7B7E;&#x8BC1;&#xFF08;signature&#xFF09; (&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x524D;&#x4E24;&#x90E8;&#x5206;&#x52A0;&#x5BC6;&#x4E00;&#x4E0B;&#x7EC4;&#x6210;&#x7B2C;&#x4E09;&#x90E8;&#x5206;) &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x6709;&#x7B7E;&#x540D; &#x9632;&#x6B62;&#x4E00;&#x4E9B;&#x574F;&#x4EBA;&#x62FF;&#x5230;token&#x7834;&#x89E3;&#x4E86;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x4FEE;&#x6539;&#x6211;&#x4EEC;token&#x7684;&#x5B58;&#x6D3B;&#x65E5;&#x671F;,&#x5047;&#x5982;&#x5B58;&#x6D3B;&#x65E5;&#x671F;&#x4FEE;&#x6539;&#x4E86;&#x7684;&#x8BDD;&#x6211;&#x4EEC;&#x7684;&#x7B7E;&#x540D;&#x5C31;&#x4E0D;&#x5BF9;&#x4E86; &#x5C31;&#x65E0;&#x6CD5;&#x901A;&#x8FC7;&#x6821;&#x9A8C; jwt&#x7684;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#x662F;&#x4E00;&#x4E2A;&#x7B7E;&#x8BC1;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x4E2A;&#x7B7E;&#x8BC1;&#x4FE1;&#x606F;&#x7531;&#x4E09;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF1A; header (base64&#x540E;&#x7684;) payload (base64&#x540E;&#x7684;) secret &#x8FD9;&#x4E2A;&#x90E8;&#x5206;&#x9700;&#x8981;base64&#x52A0;&#x5BC6;&#x540E;&#x7684;header&#x548C;base64&#x52A0;&#x5BC6;&#x540E;&#x7684;payload&#x4F7F;&#x7528;.&#x8FDE;&#x63A5;&#x7EC4;&#x6210;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;header&#x4E2D;&#x58F0;&#x660E;&#x7684;&#x52A0;&#x5BC6;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x52A0;&#x76D0;secret&#x7EC4;&#x5408;&#x52A0;&#x5BC6;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x6784;&#x6210;&#x4E86;jwt&#x7684;&#x7B2C;&#x4E09;&#x90E8;&#x5206;&#x3002; TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ&#x5C06;&#x8FD9;&#x4E09;&#x90E8;&#x5206;&#x7528;.&#x8FDE;&#x63A5;&#x6210;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x5B57;&#x7B26;&#x4E32;,&#x6784;&#x6210;&#x4E86;&#x6700;&#x7EC8;&#x7684;jwt: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ5.3 JJWT&#x7B7E;&#x53D1;&#x4E0E;&#x9A8C;&#x8BC1;tokenJJWT&#x662F;&#x4E00;&#x4E2A;&#x63D0;&#x4F9B;&#x7AEF;&#x5230;&#x7AEF;&#x7684;JWT&#x521B;&#x5EFA;&#x548C;&#x9A8C;&#x8BC1;&#x7684;Java&#x5E93;&#x3002;&#x6C38;&#x8FDC;&#x514D;&#x8D39;&#x548C;&#x5F00;&#x6E90;(Apache License&#xFF0C;&#x7248;&#x672C;2.0)&#xFF0C;JJWT&#x5F88;&#x5BB9;&#x6613;&#x4F7F;&#x7528;&#x548C;&#x7406;&#x89E3;&#x3002;&#x5B83;&#x88AB;&#x8BBE;&#x8BA1;&#x6210;&#x4E00;&#x4E2A;&#x4EE5;&#x5EFA;&#x7B51;&#x4E3A;&#x4E2D;&#x5FC3;&#x7684;&#x6D41;&#x7545;&#x754C;&#x9762;&#xFF0C;&#x9690;&#x85CF;&#x4E86;&#x5B83;&#x7684;&#x5927;&#x90E8;&#x5206;&#x590D;&#x6742;&#x6027;&#x3002; &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A; https://github.com/jwtk/jjwt 5.3.1 &#x521B;&#x5EFA;token&#xFF08;1&#xFF09;&#x65B0;&#x5EFA;&#x9879;&#x76EE;jwtTest&#x4E2D;&#x7684;pom.xml&#x4E2D;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&#xFF1A; &lt;dependency&gt; &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt; &lt;artifactId&gt;jjwt&lt;/artifactId&gt; &lt;version&gt;0.9.0&lt;/version&gt; &lt;/dependency&gt;(2) &#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B; JwtBuilder builder= Jwts.builder() .setId(&quot;888&quot;) //&#x8BBE;&#x7F6E;&#x552F;&#x4E00;&#x7F16;&#x53F7; .setSubject(&quot;&#x5C0F;&#x767D;&quot;)//&#x8BBE;&#x7F6E;&#x4E3B;&#x9898; &#x53EF;&#x4EE5;&#x662F;JSON&#x6570;&#x636E; .setIssuedAt(new Date())//&#x8BBE;&#x7F6E;&#x7B7E;&#x53D1;&#x65E5;&#x671F; .signWith(SignatureAlgorithm.HS256,&quot;itcast&quot;);//&#x8BBE;&#x7F6E;&#x7B7E;&#x540D; &#x4F7F;&#x7528;HS256&#x7B97;&#x6CD5;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;SecretKey(&#x5B57;&#x7B26;&#x4E32;) //&#x6784;&#x5EFA; &#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32; System.out.println( builder.compact() );&#x8FD0;&#x884C;&#x6253;&#x5370;&#x7ED3;&#x679C;&#xFF1A; eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4ODgiLCJzdWIiOiLlsI_nmb0iLCJpYXQiOjE1NTc5MDQxODF9.ThecMfgYjtoys3JX7dpx3hu6pUm0piZ0tXXreFU_u3Y&#x518D;&#x6B21;&#x8FD0;&#x884C;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x6BCF;&#x6B21;&#x8FD0;&#x884C;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x7684;&#x8F7D;&#x8377;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x65F6;&#x95F4;&#x3002; 5.3.2 &#x89E3;&#x6790;token&#x6211;&#x4EEC;&#x521A;&#x624D;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x4E86;token &#xFF0C;&#x5728;web&#x5E94;&#x7528;&#x4E2D;&#x8FD9;&#x4E2A;&#x64CD;&#x4F5C;&#x662F;&#x7531;&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x7136;&#x540E;&#x53D1;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x4E0B;&#x6B21;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x65F6;&#x9700;&#x8981;&#x643A;&#x5E26;&#x8FD9;&#x4E2A;token&#xFF08;&#x8FD9;&#x5C31;&#x597D;&#x50CF;&#x662F;&#x62FF;&#x7740;&#x4E00;&#x5F20;&#x95E8;&#x7968;&#x4E00;&#x6837;&#xFF09;&#xFF0C;&#x90A3;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x5230;&#x8FD9;&#x4E2A;token &#x5E94;&#x8BE5;&#x89E3;&#x6790;&#x51FA;token&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x4F8B;&#x5982;&#x7528;&#x6237;id&#xFF09;,&#x6839;&#x636E;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x8FD4;&#x56DE;&#x76F8;&#x5E94;&#x7684;&#x7ED3;&#x679C;&#x3002; String compactJwt=&quot;eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4ODgiLCJzdWIiOiLlsI_nmb0iLCJpYXQiOjE1NTc5MDQxODF9.ThecMfgYjtoys3JX7dpx3hu6pUm0piZ0tXXreFU_u3Y&quot;; Claims claims = Jwts.parser().setSigningKey(&quot;itcast&quot;).parseClaimsJws(compactJwt).getBody(); System.out.println(claims);&#x8FD0;&#x884C;&#x6253;&#x5370;&#x6548;&#x679C;&#xFF1A; {jti=888, sub=&#x5C0F;&#x767D;, iat=1557904181}&#x8BD5;&#x7740;&#x5C06;token&#x6216;&#x7B7E;&#x540D;&#x79D8;&#x94A5;&#x7BE1;&#x6539;&#x4E00;&#x4E0B;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x8FD0;&#x884C;&#x65F6;&#x5C31;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x6240;&#x4EE5;&#x89E3;&#x6790;token&#x4E5F;&#x5C31;&#x662F;&#x9A8C;&#x8BC1;token. 5.3.3 &#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x6709;&#x5F88;&#x591A;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x5E0C;&#x671B;&#x7B7E;&#x53D1;&#x7684;token&#x662F;&#x6C38;&#x4E45;&#x751F;&#x6548;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E3A;token&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x3002; &#xFF08;1&#xFF09;&#x521B;&#x5EFA;token &#x5E76;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4; //&#x5F53;&#x524D;&#x65F6;&#x95F4; long currentTimeMillis = System.currentTimeMillis(); Date date = new Date(currentTimeMillis); JwtBuilder builder= Jwts.builder() .setId(&quot;888&quot;) //&#x8BBE;&#x7F6E;&#x552F;&#x4E00;&#x7F16;&#x53F7; .setSubject(&quot;&#x5C0F;&#x767D;&quot;)//&#x8BBE;&#x7F6E;&#x4E3B;&#x9898; &#x53EF;&#x4EE5;&#x662F;JSON&#x6570;&#x636E; .setIssuedAt(new Date())//&#x8BBE;&#x7F6E;&#x7B7E;&#x53D1;&#x65E5;&#x671F; .setExpiration(date) .signWith(SignatureAlgorithm.HS256,&quot;itcast&quot;);//&#x8BBE;&#x7F6E;&#x7B7E;&#x540D; &#x4F7F;&#x7528;HS256&#x7B97;&#x6CD5;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;SecretKey(&#x5B57;&#x7B26;&#x4E32;) //&#x6784;&#x5EFA; &#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32; System.out.println( builder.compact() );&#x89E3;&#x91CA;&#xFF1A; .setExpiration(date)//&#x7528;&#x4E8E;&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4; &#xFF0C;&#x53C2;&#x6570;&#x4E3A;Date&#x7C7B;&#x578B;&#x6570;&#x636E;&#x8FD0;&#x884C;&#xFF0C;&#x6253;&#x5370;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4ODgiLCJzdWIiOiLlsI_nmb0iLCJpYXQiOjE1NTc5MDUzMDgsImV4cCI6MTU1NzkwNTMwOH0.4q5AaTyBRf8SB9B3Tl-I53PrILGyicJC3fgR3gWbvUI&#xFF08;2&#xFF09;&#x89E3;&#x6790;TOKEN String compactJwt=&quot;eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4ODgiLCJzdWIiOiLlsI_nmb0iLCJpYXQiOjE1NTc5MDUzMDgsImV4cCI6MTU1NzkwNTMwOH0.4q5AaTyBRf8SB9B3Tl-I53PrILGyicJC3fgR3gWbvUI&quot;; Claims claims = Jwts.parser().setSigningKey(&quot;itcast&quot;).parseClaimsJws(compactJwt).getBody(); System.out.println(claims);&#x6253;&#x5370;&#x6548;&#x679C;&#xFF1A; &#x5F53;&#x524D;&#x65F6;&#x95F4;&#x8D85;&#x8FC7;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;&#x5219;&#x4F1A;&#x62A5;&#x9519;&#x3002; 5.3.4 &#x81EA;&#x5B9A;&#x4E49;claims&#x6211;&#x4EEC;&#x521A;&#x624D;&#x7684;&#x4F8B;&#x5B50;&#x53EA;&#x662F;&#x5B58;&#x50A8;&#x4E86;id&#x548C;subject&#x4E24;&#x4E2A;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x60F3;&#x5B58;&#x50A8;&#x66F4;&#x591A;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x4F8B;&#x5982;&#x89D2;&#x8272;&#xFF09;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x81EA;&#x5B9A;&#x4E49;claims&#x3002; &#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;&#xFF1A; &#x521B;&#x5EFA;token: @Test public void createJWT(){ //&#x5F53;&#x524D;&#x65F6;&#x95F4; long currentTimeMillis = System.currentTimeMillis(); currentTimeMillis+=1000000L; Date date = new Date(currentTimeMillis); JwtBuilder builder= Jwts.builder() .setId(&quot;888&quot;) //&#x8BBE;&#x7F6E;&#x552F;&#x4E00;&#x7F16;&#x53F7; .setSubject(&quot;&#x5C0F;&#x767D;&quot;)//&#x8BBE;&#x7F6E;&#x4E3B;&#x9898; &#x53EF;&#x4EE5;&#x662F;JSON&#x6570;&#x636E; .setIssuedAt(new Date())//&#x8BBE;&#x7F6E;&#x7B7E;&#x53D1;&#x65E5;&#x671F; .setExpiration(date)//&#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4; .claim(&quot;roles&quot;,&quot;admin&quot;)//&#x8BBE;&#x7F6E;&#x89D2;&#x8272; .signWith(SignatureAlgorithm.HS256,&quot;itcast&quot;);//&#x8BBE;&#x7F6E;&#x7B7E;&#x540D; &#x4F7F;&#x7528;HS256&#x7B97;&#x6CD5;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;SecretKey(&#x5B57;&#x7B26;&#x4E32;) //&#x6784;&#x5EFA; &#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32; System.out.println( builder.compact() ); }&#x8FD0;&#x884C;&#x6253;&#x5370;&#x6548;&#x679C;&#xFF1A; eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4ODgiLCJzdWIiOiLlsI_nmb0iLCJpYXQiOjE1NTc5MDU4MDIsImV4cCI6MTU1NzkwNjgwMiwicm9sZXMiOiJhZG1pbiJ9.AS5Y2fNCwUzQQxXh_QQWMpaB75YqfuK-2P7VZiCXEJI&#x89E3;&#x6790;TOKEN: //&#x89E3;&#x6790; @Test public void parseJWT(){ String compactJwt=&quot;eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI4ODgiLCJzdWIiOiLlsI_nmb0iLCJpYXQiOjE1NTc5MDU4MDIsImV4cCI6MTU1NzkwNjgwMiwicm9sZXMiOiJhZG1pbiJ9.AS5Y2fNCwUzQQxXh_QQWMpaB75YqfuK-2P7VZiCXEJI&quot;; Claims claims = Jwts.parser().setSigningKey(&quot;itcast&quot;).parseClaimsJws(compactJwt).getBody(); System.out.println(claims); }&#x8FD0;&#x884C;&#x6548;&#x679C;&#xFF1A; 5.4 &#x7545;&#x8D2D;&#x5FAE;&#x670D;&#x52A1;&#x9274;&#x6743;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;5.4.1 &#x601D;&#x8DEF;&#x5206;&#x6790; 1. &#x7528;&#x6237;&#x8FDB;&#x5165;&#x7F51;&#x5173;&#x5F00;&#x59CB;&#x767B;&#x9646;&#xFF0C;&#x7F51;&#x5173;&#x8FC7;&#x6EE4;&#x5668;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x767B;&#x5F55;&#xFF0C;&#x5219;&#x8DEF;&#x7531;&#x5230;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x767B;&#x5F55; 2. &#x7528;&#x6237;&#x767B;&#x5F55;&#x6210;&#x529F;&#xFF0C;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;&#x7B7E;&#x53D1;JWT TOKEN&#x4FE1;&#x606F;&#x8FD4;&#x56DE;&#x7ED9;&#x7528;&#x6237; 3. &#x7528;&#x6237;&#x518D;&#x6B21;&#x8FDB;&#x5165;&#x7F51;&#x5173;&#x5F00;&#x59CB;&#x8BBF;&#x95EE;&#xFF0C;&#x7F51;&#x5173;&#x8FC7;&#x6EE4;&#x5668;&#x63A5;&#x6536;&#x7528;&#x6237;&#x643A;&#x5E26;&#x7684;TOKEN 4. &#x7F51;&#x5173;&#x8FC7;&#x6EE4;&#x5668;&#x89E3;&#x6790;TOKEN &#xFF0C;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x6743;&#x9650;&#xFF0C;&#x5982;&#x679C;&#x6709;&#xFF0C;&#x5219;&#x653E;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5219;&#x8FD4;&#x56DE;&#x672A;&#x8BA4;&#x8BC1;&#x9519;&#x8BEF;5.4.2 &#x7CFB;&#x7EDF;&#x5FAE;&#x670D;&#x52A1;&#x7B7E;&#x53D1;token&#xFF08;1&#xFF09;&#x5728;changgou_service_system&#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt; &lt;artifactId&gt;jjwt&lt;/artifactId&gt; &lt;version&gt;0.9.0&lt;/version&gt; &lt;/dependency&gt;&#xFF08;2&#xFF09;&#x5728;changgou_service_system&#x4E2D;&#x521B;&#x5EFA;&#x7C7B;&#xFF1A; JwtUtil package com.changgou.system.util; import io.jsonwebtoken.JwtBuilder; import io.jsonwebtoken.Jwts; import io.jsonwebtoken.SignatureAlgorithm; import javax.crypto.SecretKey; import javax.crypto.spec.SecretKeySpec; import java.util.Base64; import java.util.Date; /** * JWT&#x5DE5;&#x5177;&#x7C7B; */ public class JwtUtil { //&#x6709;&#x6548;&#x671F;&#x4E3A; public static final Long JWT_TTL = 3600000L;// 60 * 60 *1000 &#x4E00;&#x4E2A;&#x5C0F;&#x65F6; //&#x8BBE;&#x7F6E;&#x79D8;&#x94A5;&#x660E;&#x6587; public static final String JWT_KEY = &quot;itcast&quot;; /** * &#x521B;&#x5EFA;token * @param id * @param subject * @param ttlMillis * @return */ public static String createJWT(String id, String subject, Long ttlMillis) { SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256; long nowMillis = System.currentTimeMillis(); Date now = new Date(nowMillis); if(ttlMillis==null){ ttlMillis=JwtUtil.JWT_TTL; } long expMillis = nowMillis + ttlMillis; Date expDate = new Date(expMillis); SecretKey secretKey = generalKey(); JwtBuilder builder = Jwts.builder() .setId(id) //&#x552F;&#x4E00;&#x7684;ID .setSubject(subject) // &#x4E3B;&#x9898; &#x53EF;&#x4EE5;&#x662F;JSON&#x6570;&#x636E; .setIssuer(&quot;admin&quot;) // &#x7B7E;&#x53D1;&#x8005; .setIssuedAt(now) // &#x7B7E;&#x53D1;&#x65F6;&#x95F4; .signWith(signatureAlgorithm, secretKey) //&#x4F7F;&#x7528;HS256&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x7B7E;&#x540D;, &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E3A;&#x79D8;&#x94A5; .setExpiration(expDate);// &#x8BBE;&#x7F6E;&#x8FC7;&#x671F;&#x65F6;&#x95F4; return builder.compact(); } /** * &#x751F;&#x6210;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x79D8;&#x94A5; secretKey * @return */ public static SecretKey generalKey() { byte[] encodedKey = Base64.getDecoder().decode(JwtUtil.JWT_KEY); SecretKey key = new SecretKeySpec(encodedKey, 0, encodedKey.length, &quot;AES&quot;); return key; } }&#xFF08;3&#xFF09;&#x4FEE;&#x6539;AdminController&#x7684;login&#x65B9;&#x6CD5;, &#x7528;&#x6237;&#x767B;&#x5F55;&#x6210;&#x529F; &#x5219; &#x7B7E;&#x53D1;TOKEN /** * &#x767B;&#x5F55; * @param admin * @return */ @PostMapping(&quot;/login&quot;) public Result login(@RequestBody Admin admin){ boolean login = adminService.login(admin); if(login){ //&#x5982;&#x679C;&#x9A8C;&#x8BC1;&#x6210;&#x529F; Map&lt;String,String&gt; info = new HashMap&lt;&gt;(); info.put(&quot;username&quot;,admin.getLoginName()); String token = JwtUtil.createJWT(UUID.randomUUID().toString(), admin.getLoginName(), null); info.put(&quot;token&quot;,token); return new Result(true, StatusCode.OK,&quot;&#x767B;&#x5F55;&#x6210;&#x529F;&quot;,info); }else{ return new Result(false,StatusCode.LOGINERROR,&quot;&#x7528;&#x6237;&#x540D;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF;&quot;); } }&#x4F7F;&#x7528;postman &#x6D4B;&#x8BD5; 5.4.3 &#x7F51;&#x5173;&#x8FC7;&#x6EE4;&#x5668;&#x9A8C;&#x8BC1;token&#xFF08;1&#xFF09;&#x5728;changgou_gateway_system&#x7F51;&#x5173;&#x7CFB;&#x7EDF;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;!--&#x9274;&#x6743;--&gt; &lt;dependency&gt; &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt; &lt;artifactId&gt;jjwt&lt;/artifactId&gt; &lt;version&gt;0.9.0&lt;/version&gt; &lt;/dependency&gt;&#xFF08;2&#xFF09;&#x521B;&#x5EFA;JWTUtil&#x7C7B; package com.changgou.gateway.util; import io.jsonwebtoken.Claims; import io.jsonwebtoken.Jwts; import javax.crypto.SecretKey; import javax.crypto.spec.SecretKeySpec; import java.util.Base64; /** * jwt&#x6821;&#x9A8C;&#x5DE5;&#x5177;&#x7C7B; */ public class JwtUtil { //&#x6709;&#x6548;&#x671F;&#x4E3A; public static final Long JWT_TTL = 3600000L;// 60 * 60 *1000 &#x4E00;&#x4E2A;&#x5C0F;&#x65F6; //&#x8BBE;&#x7F6E;&#x79D8;&#x94A5;&#x660E;&#x6587; public static final String JWT_KEY = &quot;itcast&quot;; /** * &#x751F;&#x6210;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x79D8;&#x94A5; secretKey * * @return */ public static SecretKey generalKey() { byte[] encodedKey = Base64.getDecoder().decode(JwtUtil.JWT_KEY); SecretKey key = new SecretKeySpec(encodedKey, 0, encodedKey.length, &quot;AES&quot;); return key; } /** * &#x89E3;&#x6790; * * @param jwt * @return * @throws Exception */ public static Claims parseJWT(String jwt) throws Exception { SecretKey secretKey = generalKey(); return Jwts.parser() .setSigningKey(secretKey) .parseClaimsJws(jwt) .getBody(); } }&#xFF08;3&#xFF09;&#x521B;&#x5EFA;&#x8FC7;&#x6EE4;&#x5668;&#xFF0C;&#x7528;&#x4E8E;token&#x9A8C;&#x8BC1; /** * &#x9274;&#x6743;&#x8FC7;&#x6EE4;&#x5668; &#x9A8C;&#x8BC1;token */ @Component public class AuthorizeFilter implements GlobalFilter, Ordered { private static final String AUTHORIZE_TOKEN = &quot;token&quot;; @Override public Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) { //1. &#x83B7;&#x53D6;&#x8BF7;&#x6C42; ServerHttpRequest request = exchange.getRequest(); //2. &#x5219;&#x83B7;&#x53D6;&#x54CD;&#x5E94; ServerHttpResponse response = exchange.getResponse(); //3. &#x5982;&#x679C;&#x662F;&#x767B;&#x5F55;&#x8BF7;&#x6C42;&#x5219;&#x653E;&#x884C; if (request.getURI().getPath().contains(&quot;/admin/login&quot;)) { return chain.filter(exchange); } //4. &#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x5934; HttpHeaders headers = request.getHeaders(); //5. &#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x83B7;&#x53D6;&#x4EE4;&#x724C; String token = headers.getFirst(AUTHORIZE_TOKEN); //6. &#x5224;&#x65AD;&#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x662F;&#x5426;&#x6709;&#x4EE4;&#x724C; if (StringUtils.isEmpty(token)) { //7. &#x54CD;&#x5E94;&#x4E2D;&#x653E;&#x5165;&#x8FD4;&#x56DE;&#x7684;&#x72B6;&#x6001;&#x5417;, &#x6CA1;&#x6709;&#x6743;&#x9650;&#x8BBF;&#x95EE; response.setStatusCode(HttpStatus.UNAUTHORIZED); //8. &#x8FD4;&#x56DE; return response.setComplete(); } //9. &#x5982;&#x679C;&#x8BF7;&#x6C42;&#x5934;&#x4E2D;&#x6709;&#x4EE4;&#x724C;&#x5219;&#x89E3;&#x6790;&#x4EE4;&#x724C; try { JwtUtil.parseJWT(token); } catch (Exception e) { e.printStackTrace(); //10. &#x89E3;&#x6790;jwt&#x4EE4;&#x724C;&#x51FA;&#x9519;, &#x8BF4;&#x660E;&#x4EE4;&#x724C;&#x8FC7;&#x671F;&#x6216;&#x8005;&#x4F2A;&#x9020;&#x7B49;&#x4E0D;&#x5408;&#x6CD5;&#x60C5;&#x51B5;&#x51FA;&#x73B0; response.setStatusCode(HttpStatus.UNAUTHORIZED); //11. &#x8FD4;&#x56DE; return response.setComplete(); } //12. &#x653E;&#x884C; return chain.filter(exchange); } @Override public int getOrder() { return 0; } }&#xFF08;4&#xFF09;&#x6D4B;&#x8BD5;&#xFF1A; &#x6CE8;&#x610F;: &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7BA1;&#x7406;&#x5458;&#x8D26;&#x6237;&#x4E3A; : admin , &#x5BC6;&#x7801;&#x4E3A; : 123456 &#x5982;&#x679C;&#x4E0D;&#x643A;&#x5E26;token&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#xFF0C;&#x5219;&#x8FD4;&#x56DE;401&#x9519;&#x8BEF; &#x5982;&#x679C;&#x643A;&#x5E26;&#x6B63;&#x786E;&#x7684;token&#xFF0C;&#x5219;&#x8FD4;&#x56DE;&#x67E5;&#x8BE2;&#x7ED3;&#x679C; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-02-fen-bu-shi-wen-jian-cun-chu%2Fchang-gou-02-fen-bu-shi-wen-jian-cun-chu.html</url>
    <content type="text"><![CDATA[&#x7B2C;2&#x7AE0; &#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5B66;&#x4E60;&#x76EE;&#x6807;&#x76EE;&#x6807;1&#xFF1A;&#x80FD;&#x591F;CORS&#x89E3;&#x51B3;&#x8DE8;&#x57DF;&#x95EE;&#x9898; &#x76EE;&#x6807;2&#xFF1A;&#x7406;&#x89E3;&#x89C4;&#x683C;&#x53C2;&#x6570;&#x6A21;&#x677F;&#x4E0E;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x8868;&#x7ED3;&#x6784; &#x76EE;&#x6807;3&#xFF1A;&#x638C;&#x63E1;&#x901A;&#x7528;mapper&#x81EA;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528; &#x76EE;&#x6807;4&#xFF1A;&#x80FD;&#x591F;&#x4F7F;&#x7528;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x5B58;&#x50A8;FastDFS&#x4E0A;&#x4F20;&#x6587;&#x4EF6; 1. &#x8DE8;&#x57DF;&#x89E3;&#x51B3;&#x65B9;&#x6848;CORS1.1 &#x4EC0;&#x4E48;&#x662F;&#x8DE8;&#x57DF;&#x51FA;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x9650;&#x5236;&#x3002;&#x540C;&#x6E90;&#x7B56;&#x7565;&#xFF08;Sameoriginpolicy&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x7EA6;&#x5B9A;&#xFF0C;&#x5B83;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x6700;&#x6838;&#x5FC3;&#x4E5F;&#x6700;&#x57FA;&#x672C;&#x7684;&#x5B89;&#x5168;&#x529F;&#x80FD;&lt;&#xFF0C;&#x5982;&#x679C;&#x7F3A;&#x5C11;&#x4E86;&#x540C;&#x6E90;&#x7B56;&#x7565;&#xFF0C;&#x5219;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x6B63;&#x5E38;&#x529F;&#x80FD;&#x53EF;&#x80FD;&#x90FD;&#x4F1A;&#x53D7;&#x5230;&#x5F71;&#x54CD;&#x3002;&#x53EF;&#x4EE5;&#x8BF4;Web&#x662F;&#x6784;&#x5EFA;&#x5728;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x57FA;&#x7840;&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x53EA;&#x662F;&#x9488;&#x5BF9;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x7684;&#x4E00;&#x79CD;&#x5B9E;&#x73B0;&#x3002;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x4F1A;&#x963B;&#x6B62;&#x4E00;&#x4E2A;&#x57DF;&#x7684;javascript&#x811A;&#x672C;&#x548C;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x57DF;&#x7684;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x3002;&#x6240;&#x8C13;&#x540C;&#x6E90;&#xFF08;&#x5373;&#x6307;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x57DF;&#xFF09;&#x5C31;&#x662F;&#x4E24;&#x4E2A;&#x9875;&#x9762;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x534F;&#x8BAE;&#xFF08;protocol&#xFF09;&#xFF0C;&#x4E3B;&#x673A;&#xFF08;host&#xFF09;&#x548C;&#x7AEF;&#x53E3;&#x53F7;&#xFF08;port&#xFF09; &#x5982;&#x679C;&#x8DE8;&#x57DF;&#x8C03;&#x7528;&#xFF0C;&#x4F1A;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x9519;&#x8BEF;&#xFF1A; No &#x2018;Access-Control-Allow-Origin&#x2019; header is present on the requested resource. Origin &#x2018;http://localhost:9100&apos; is therefore not allowed access. The response had HTTP status code 400. &#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x91C7;&#x7528;&#x7684;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x7684;&#x7F16;&#x7A0B;&#x65B9;&#x5F0F;&#xFF0C;&#x524D;&#x7AEF;&#x548C;&#x540E;&#x7AEF;&#x5FC5;&#x5B9A;&#x5B58;&#x5728;&#x8DE8;&#x57DF;&#x95EE;&#x9898;&#x3002;&#x89E3;&#x51B3;&#x8DE8;&#x57DF;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x91C7;&#x7528;CORS 1.2 CORS&#x7B80;&#x4ECB;CORS &#x662F;&#x4E00;&#x4E2A; W3C &#x6807;&#x51C6;&#xFF0C;&#x5168;&#x79F0;&#x662F;&#x201D;&#x8DE8;&#x57DF;&#x8D44;&#x6E90;&#x5171;&#x4EAB;&#x201D;&#xFF08;Cross-origin resource sharing&#xFF09;&#x3002;CORS&#x9700;&#x8981;&#x6D4F;&#x89C8;&#x5668;&#x548C;&#x670D;&#x52A1;&#x5668;&#x540C;&#x65F6;&#x652F;&#x6301;&#x3002;&#x76EE;&#x524D;&#xFF0C;&#x6240;&#x6709;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x652F;&#x6301;&#x8BE5;&#x529F;&#x80FD;&#xFF0C;IE &#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x80FD;&#x4F4E;&#x4E8E; IE10&#x3002;&#x5B83;&#x5141;&#x8BB8;&#x6D4F;&#x89C8;&#x5668;&#x5411;&#x8DE8;&#x6E90;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53D1;&#x51FA; XMLHttpRequest &#x8BF7;&#x6C42;&#xFF0C;&#x4ECE;&#x800C;&#x514B;&#x670D;&#x4E86; AJAX &#x53EA;&#x80FD;&#x540C;&#x6E90;&#x4F7F;&#x7528;&#x7684;&#x9650;&#x5236;&#x3002;&#x6574;&#x4E2A; CORS &#x901A;&#x4FE1;&#x8FC7;&#x7A0B;&#xFF0C;&#x90FD;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x81EA;&#x52A8;&#x5B8C;&#x6210;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x7528;&#x6237;&#x53C2;&#x4E0E;&#x3002;&#x5BF9;&#x4E8E;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x8BF4;&#xFF0C;CORS &#x901A;&#x4FE1;&#x4E0E;&#x540C;&#x6E90;&#x7684; AJAX &#x901A;&#x4FE1;&#x6CA1;&#x6709;&#x5DEE;&#x522B;&#xFF0C;&#x4EE3;&#x7801;&#x5B8C;&#x5168;&#x4E00;&#x6837;&#x3002;&#x6D4F;&#x89C8;&#x5668;&#x4E00;&#x65E6;&#x53D1;&#x73B0; AJAX &#x8BF7;&#x6C42;&#x8DE8;&#x6E90;&#xFF0C;&#x5C31;&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x4E00;&#x4E9B;&#x9644;&#x52A0;&#x7684;&#x5934;&#x4FE1;&#x606F;&#xFF0C;&#x6709;&#x65F6;&#x8FD8;&#x4F1A;&#x591A;&#x51FA;&#x4E00;&#x6B21;&#x9644;&#x52A0;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x4F46;&#x7528;&#x6237;&#x4E0D;&#x4F1A;&#x6709;&#x611F;&#x89C9;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5B9E;&#x73B0; CORS &#x901A;&#x4FE1;&#x7684;&#x5173;&#x952E;&#x662F;&#x670D;&#x52A1;&#x5668;&#x3002;&#x53EA;&#x8981;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x73B0;&#x4E86; CORS &#x63A5;&#x53E3;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8DE8;&#x6E90;&#x901A;&#x4FE1;&#x3002; &#x8BF7;&#x6C42;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#x56FE;: Preflight Request&#xFF1A; &#x7136;&#x540E;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x7ED9;&#x6211;&#x4EEC;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;PreflightResponse &#x90A3;&#x4E48;&#x5177;&#x4F53;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x5462;&#xFF1F;springMVC&#x7684;&#x7248;&#x672C;&#x5728;4.2&#x6216;&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x5B9E;&#x73B0;&#x8DE8;&#x57DF;&#x3002; &#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5728;Controller&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;@CrossOrigin&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002; 2. &#x5BFC;&#x5165;&#x57FA;&#x7840;&#x67B6;&#x6784;&#x9879;&#x76EE;&#xFF08;&#x4E86;&#x89E3;&#xFF09;&#x9879;&#x76EE;&#x57FA;&#x7840;&#x67B6;&#x6784;&#x5305;&#x89E3;&#x538B;, &#x590D;&#x5236;&#x5230;idea&#x5DE5;&#x7A0B;&#x4E2D; 2.1 &#x5BFC;&#x5165;&#x9879;&#x76EE;&#x5728;idea&#x4E0B;&#x70B9;&#x51FB;file&#x83DC;&#x5355;&#x4E2D;&#x7684;open&#x9879;, &#x627E;&#x5230;changgou_parent&#x4F4D;&#x7F6E;&#x6253;&#x5F00; 3.&#x89C4;&#x683C;&#x53C2;&#x6570;&#x4E0E;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&#xFF08;&#x540E;&#x53F0;&#xFF09;&#x6211;&#x4EEC;&#x672C;&#x5C0F;&#x8282;&#x53EA;&#x9700;&#x540C;&#x5B66;&#x4EEC;&#x7406;&#x89E3;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x89C4;&#x683C;&#x53C2;&#x6570;&#x4E0E;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&#x7684;&#x9700;&#x6C42;&#x548C;&#x8868;&#x7ED3;&#x6784;&#x7684;&#x8BBE;&#x8BA1;&#xFF0C;&#x6CA1;&#x6709;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF0C;&#x56E0;&#x4E3A;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x6240;&#x9700;&#x7684;&#x4EE3;&#x7801;&#x5728;&#x57FA;&#x7840;&#x5DE5;&#x7A0B;&#x4E2D;&#x5DF2;&#x7ECF;&#x5E2E;&#x6211;&#x4EEC;&#x751F;&#x6210;&#x4E86;&#xFF0C;&#x65E0;&#x9700;&#x81EA;&#x5DF1;&#x7F16;&#x5199;&#x3002; 3.1 &#x89C4;&#x683C;&#x53C2;&#x6570;&#x7BA1;&#x7406;3.1.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x89C4;&#x683C;&#x53C2;&#x6570;&#x6A21;&#x677F;&#x662F;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x89C4;&#x683C;&#x53C2;&#x6570;&#x7684;&#x5355;&#x5143;&#x3002;&#x89C4;&#x683C;&#x662F;&#x4F8B;&#x5982;&#x989C;&#x8272;&#x3001;&#x624B;&#x673A;&#x8FD0;&#x884C;&#x5185;&#x5B58;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x53C2;&#x6570;&#x662F;&#x4F8B;&#x5982;&#x7CFB;&#x7EDF;&#xFF1A;&#x5B89;&#x5353;&#xFF08;Android&#xFF09;&#x540E;&#x7F6E;&#x6444;&#x50CF;&#x5934;&#x50CF;&#x7D20;&#xFF1A;2000&#x4E07;&#x53CA;&#x4EE5;&#x4E0A; &#x70ED;&#x70B9;&#xFF1A;&#x5FEB;&#x901F;&#x5145;&#x7535;&#x7B49;&#x4FE1;&#x606F; &#x3002; &#x524D;&#x7AEF;&#x4EA4;&#x4E92;&#x65B9;&#x5F0F;&#x89C1;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x7684;&#x9759;&#x6001;&#x539F;&#x578B; 3.1.2 &#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790;&#x89C4;&#x683C;&#x53C2;&#x6570;&#x6A21;&#x677F;&#x76F8;&#x5173;&#x7684;&#x8868;&#x6709;3&#x4E2A; tb_template&#x8868;&#xFF08;&#x6A21;&#x677F;&#x8868;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id ID INT name &#x6A21;&#x677F;&#x540D;&#x79F0; VARCHAR spec_num &#x89C4;&#x683C;&#x6570;&#x91CF; INT para_num &#x53C2;&#x6570;&#x6570;&#x91CF; INT tb_spec&#x8868;&#xFF08;&#x89C4;&#x683C;&#x8868;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id ID INT name &#x540D;&#x79F0; VARCHAR options &#x89C4;&#x683C;&#x9009;&#x9879; VARCHAR seq &#x6392;&#x5E8F; INT template_id &#x6A21;&#x677F;ID INT tb_para&#x8868;&#xFF08;&#x53C2;&#x6570;&#x8868;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id id INT name &#x540D;&#x79F0; VARCHAR options &#x9009;&#x9879; VARCHAR seq &#x6392;&#x5E8F; INT template_id &#x6A21;&#x677F;ID INT &#x6A21;&#x677F;&#x4E0E;&#x89C4;&#x683C;&#x662F;&#x4E00;&#x5BF9;&#x591A;&#x5173;&#x7CFB; &#xFF0C;&#x6A21;&#x677F;&#x4E0E;&#x53C2;&#x6570;&#x662F;&#x4E00;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#x597D;&#x6BD4;&#x4E00;&#x4E2A;&#x624B;&#x673A;(&#x6A21;&#x677F;) &#x4ED6;&#x6709;5.5&#x5BF8; 5&#x5BF8; &#x6709;&#x5B89;&#x5353;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF; ios&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;(&#x89C4;&#x683C;) &#x4E0A;&#x5E02;&#x5E74;&#x4EFD; &#x5165;&#x7F51;&#x578B;&#x53F7;(&#x53C2;&#x6570;) 3.2 &#x5206;&#x7C7B;&#x7BA1;&#x7406;3.2.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x4E00;&#x5171;&#x5206;&#x4E09;&#x7EA7;&#x7BA1;&#x7406;&#xFF0C;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x5728;&#x7F51;&#x7AD9;&#x9996;&#x9875;&#x4E2D;&#x663E;&#x793A;&#x5546;&#x54C1;&#x5BFC;&#x822A;&#xFF0C;&#x4EE5;&#x53CA;&#x5728;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x5546;&#x54C1;&#x65F6;&#x4F7F;&#x7528;&#x3002; 3.2.2 &#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790;tb_category &#x8868; &#xFF08;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id &#x5206;&#x7C7B;ID INT name &#x5206;&#x7C7B;&#x540D;&#x79F0; VARCHAR goods_num &#x5546;&#x54C1;&#x6570;&#x91CF; INT is_show &#x662F;&#x5426;&#x663E;&#x793A; CHAR 0 &#x4E0D;&#x663E;&#x793A; 1&#x663E;&#x793A; is_menu &#x662F;&#x5426;&#x5BFC;&#x822A; CHAR 0 &#x4E0D;&#x65F6;&#x5BFC;&#x822A; 1 &#x4E3A;&#x5BFC;&#x822A; seq &#x6392;&#x5E8F; INT parent_id &#x4E0A;&#x7EA7;ID INT template_id &#x6A21;&#x677F;ID INT &#x5546;&#x54C1;&#x5206;&#x7C7B;&#x4E0E;&#x6A21;&#x677F;&#x662F;&#x591A;&#x5BF9;&#x4E00;&#x5173;&#x7CFB; 4.&#x901A;&#x7528;mapper&#x81EA;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;4.1 &#x6839;&#x636E;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x5217;&#x8868;4.1.1 &#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790;&#x57FA;&#x4E8E;&#x4E0A;&#x8FF0;&#x7684;&#x8BB2;&#x89E3;&#x5DF2;&#x77E5;&#x5206;&#x7C7B;&#x4E0E;&#x54C1;&#x724C;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x5C5E;&#x4E8E;&#x591A;&#x5BF9;&#x591A;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x91CC;&#x901A;&#x8FC7;tb_category_brand&#x8868;&#x6765;&#x5EFA;&#x7ACB;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x3002; &#x5206;&#x7C7B;-&#x54C1;&#x724C;&#x4E2D;&#x95F4;&#x8868; &#x624B;&#x673A; &#x6709;&#x5C0F;&#x7C73;&#x624B;&#x673A; &#x6709;&#x534E;&#x4E3A;&#x624B;&#x673A;(&#x5206;&#x7C7B;&#x548C;&#x54C1;&#x724C;&#x4E00;&#x5BF9;&#x591A;) &#x5C0F;&#x7C73; &#x6709;&#x624B;&#x673A; &#x6709;&#x8DEF;&#x7531;&#x5668;(&#x54C1;&#x724C;&#x548C;&#x5206;&#x7C7B;&#x4E00;&#x5BF9;&#x591A;) &#x5217;&#x540D; &#x7C7B;&#x578B; &#x8BF4;&#x660E; category_id int(11) &#x5206;&#x7C7B;ID brand_id int(11) &#x54C1;&#x724C;ID 4.1.2 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF08;1&#xFF09;&#x4FEE;&#x6539;BrandMapper&#xFF0C;&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49; /** * &#x6839;&#x636E;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x5217;&#x8868; * @param categoryName * @return */ @Select(&quot;SELECT name,image FROM tb_brand WHERE id IN (SELECT brand_id FROM tb_category_brand WHERE category_id IN (SELECT id FROM tb_category WHERE NAME=#{name}) )order by seq&quot;) public List&lt;Map&gt; findListByCategoryName(@Param(&quot;name&quot;) String categoryName);&#xFF08;2&#xFF09;&#x4FEE;&#x6539;BrandService&#xFF0C;&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49; /** * &#x6839;&#x636E;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x5217;&#x8868; * @param categoryName * @return */ public List&lt;Map&gt; findListByCategoryName(String categoryName);&#xFF08;3&#xFF09;BrandServiceImpl&#x5B9E;&#x73B0;&#x65B9;&#x6CD5; @Override public List&lt;Map&gt; findListByCategoryName(String categoryName) { return brandMapper.findListByCategoryName(categoryName); }&#xFF08;4&#xFF09;BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x6839;&#x636E;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x5217;&#x8868; * @param category * @return */ @GetMapping(&quot;/category/{category}&quot;) public Result findListByCategoryName(@PathVariable String category){ System.out.println(category); List&lt;Map&gt; brandList = brandService.findListByCategoryName(category); return new Result(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,brandList); }4.2 &#x6839;&#x636E;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x89C4;&#x683C;&#x5217;&#x8868;4.2.1 &#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x4F1A;&#x7528;&#x5230;&#x89C4;&#x683C;&#x8868;&#x3001;&#x6A21;&#x677F;&#x8868;&#x3001;&#x5206;&#x7C7B;&#x8868; &#x6CE8;&#x610F;&#xFF1A;&#x4EE5;&#x4E0B;&#x8868;&#x7ED3;&#x6784;&#x5DF2;&#x7701;&#x7565;&#x65E0;&#x5173;&#x5B57;&#x6BB5; tb_template &#x8868;&#xFF08;&#x6A21;&#x677F;&#x8868;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id ID INT name &#x6A21;&#x677F;&#x540D;&#x79F0; VARCHAR tb_spec &#x8868;&#xFF08; &#x89C4;&#x683C;&#x8868;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id ID INT name &#x540D;&#x79F0; VARCHAR options &#x89C4;&#x683C;&#x9009;&#x9879; VARCHAR seq &#x6392;&#x5E8F; INT template_id &#x6A21;&#x677F;ID INT tb_category &#x8868; &#xFF08;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#xFF09; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id &#x5206;&#x7C7B;ID INT name &#x5206;&#x7C7B;&#x540D;&#x79F0; VARCHAR parent_id &#x4E0A;&#x7EA7;ID INT template_id &#x6A21;&#x677F;ID INT 4.2.2 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#xFF08;1&#xFF09;SpecMapper&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49; @Select(&quot;SELECT name,options FROM tb_spec WHERE template_id IN ( SELECT template_id FROM tb_category WHERE NAME=#{categoryName}) order by seq&quot;) public List&lt;Map&gt; findListByCategoryName(@Param(&quot;categoryName&quot;) String categoryName); &#xFF08;2&#xFF09;SpecService&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49; /** * &#x6839;&#x636E;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x89C4;&#x683C;&#x5217;&#x8868; * @param categoryName * @return */ public List&lt;Map&gt; findListByCategoryName(String categoryName);&#xFF08;3&#xFF09;SpecServiceImpl&#x5B9E;&#x73B0;&#x65B9;&#x6CD5; @Override public List&lt;Map&gt; findListByCategoryName(String categoryName) { List&lt;Map&gt; specList = specMapper.findListByCategoryName(categoryName); for(Map spec:specList){ String[] options = ((String) spec.get(&quot;options&quot;)).split(&quot;,&quot;);//&#x89C4;&#x683C;&#x9009;&#x9879;&#x5217;&#x8868; spec.put(&quot;options&quot;,options); } return specList; }&#xFF08;4&#xFF09;SpecController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x6839;&#x636E;&#x5546;&#x54C1;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x89C4;&#x683C;&#x5217;&#x8868; * @param category * @return */ @GetMapping(&quot;/category/{category}&quot;) public Result findListByCategoryName(@PathVariable String category){ List&lt;Map&gt; specList = specService.findListByCategoryName(category); return new Result(true,StatusCode.OK,&quot;&quot;,specList); }5. &#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x5B58;&#x50A8;-FastDFS5.1 FastDFS&#x7B80;&#x4ECB;5.1.1 FastDFS&#x4F53;&#x7CFB;&#x7ED3;&#x6784;FastDFS&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x8F7B;&#x91CF;&#x7EA7;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x5BF9;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x529F;&#x80FD;&#x5305;&#x62EC;&#xFF1A;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x3001;&#x6587;&#x4EF6;&#x540C;&#x6B65;&#x3001;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#xFF08;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x3001;&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#xFF09;&#x7B49;&#xFF0C;&#x89E3;&#x51B3;&#x4E86;&#x5927;&#x5BB9;&#x91CF;&#x5B58;&#x50A8;&#x548C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x95EE;&#x9898;&#x3002;&#x7279;&#x522B;&#x9002;&#x5408;&#x4EE5;&#x6587;&#x4EF6;&#x4E3A;&#x8F7D;&#x4F53;&#x7684;&#x5728;&#x7EBF;&#x670D;&#x52A1;&#xFF0C;&#x5982;&#x76F8;&#x518C;&#x7F51;&#x7AD9;&#x3001;&#x89C6;&#x9891;&#x7F51;&#x7AD9;&#x7B49;&#x7B49;&#x3002; FastDFS&#x4E3A;&#x4E92;&#x8054;&#x7F51;&#x91CF;&#x8EAB;&#x5B9A;&#x5236;&#xFF0C;&#x5145;&#x5206;&#x8003;&#x8651;&#x4E86;&#x5197;&#x4F59;&#x5907;&#x4EFD;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x7EBF;&#x6027;&#x6269;&#x5BB9;&#x7B49;&#x673A;&#x5236;&#xFF0C;&#x5E76;&#x6CE8;&#x91CD;&#x9AD8;&#x53EF;&#x7528;&#x3001;&#x9AD8;&#x6027;&#x80FD;&#x7B49;&#x6307;&#x6807;&#xFF0C;&#x4F7F;&#x7528;FastDFS&#x5F88;&#x5BB9;&#x6613;&#x642D;&#x5EFA;&#x4E00;&#x5957;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x96C6;&#x7FA4;&#x63D0;&#x4F9B;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x3001;&#x4E0B;&#x8F7D;&#x7B49;&#x670D;&#x52A1;&#x3002; FastDFS &#x67B6;&#x6784;&#x5305;&#x62EC; Tracker server &#x548C; Storage server&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42; Tracker server &#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x3001;&#x4E0B;&#x8F7D;&#xFF0C;&#x901A;&#x8FC7;Tracker server &#x8C03;&#x5EA6;&#x6700;&#x7EC8;&#x7531; Storage server &#x5B8C;&#x6210;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x548C;&#x4E0B;&#x8F7D;&#x3002; Tracker server &#x4F5C;&#x7528;&#x662F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x548C;&#x8C03;&#x5EA6;&#xFF0C;&#x901A;&#x8FC7; Tracker server &#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x65F6;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4E00;&#x4E9B;&#x7B56;&#x7565;&#x627E;&#x5230;Storage server &#x63D0;&#x4F9B;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x670D;&#x52A1;&#x3002;&#x53EF;&#x4EE5;&#x5C06; tracker &#x79F0;&#x4E3A;&#x8FFD;&#x8E2A;&#x670D;&#x52A1;&#x5668;&#x6216;&#x8C03;&#x5EA6;&#x670D;&#x52A1;&#x5668;&#x3002;Storage server &#x4F5C;&#x7528;&#x662F;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x6700;&#x7EC8;&#x5B58;&#x50A8;&#x5728; Storage &#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;Storageserver &#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x800C;&#x662F;&#x5229;&#x7528;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6765;&#x7BA1;&#x7406;&#x6587;&#x4EF6;&#x3002;&#x53EF;&#x4EE5;&#x5C06;storage&#x79F0;&#x4E3A;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x3002; 5.1.2 &#x4E0A;&#x4F20;&#x6D41;&#x7A0B; &#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x540E;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x6587;&#x4EF6; ID &#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6B64;&#x6587;&#x4EF6; ID &#x7528;&#x4E8E;&#x4EE5;&#x540E;&#x8BBF;&#x95EE;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x7D22;&#x5F15;&#x4FE1;&#x606F;&#x3002;&#x6587;&#x4EF6;&#x7D22;&#x5F15;&#x4FE1;&#x606F;&#x5305;&#x62EC;&#xFF1A;&#x7EC4;&#x540D;&#xFF0C;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;&#xFF0C;&#x6570;&#x636E;&#x4E24;&#x7EA7;&#x76EE;&#x5F55;&#xFF0C;&#x6587;&#x4EF6;&#x540D;&#x3002; &#x7EC4;&#x540D;&#xFF1A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x540E;&#x6240;&#x5728;&#x7684; storage &#x7EC4;&#x540D;&#x79F0;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x540E;&#x6709;storage &#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#xFF0C;&#x9700;&#x8981;&#x5BA2;&#x6237;&#x7AEF;&#x81EA;&#x884C;&#x4FDD;&#x5B58;&#x3002; &#x865A;&#x62DF;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;&#xFF1A;storage &#x914D;&#x7F6E;&#x7684;&#x865A;&#x62DF;&#x8DEF;&#x5F84;&#xFF0C;&#x4E0E;&#x78C1;&#x76D8;&#x9009;&#x9879;store_path*&#x5BF9;&#x5E94;&#x3002;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E86; store_path0 &#x5219;&#x662F; M00&#xFF0C;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E86; store_path1 &#x5219;&#x662F; M01&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002; &#x6570;&#x636E;&#x4E24;&#x7EA7;&#x76EE;&#x5F55;&#xFF1A;storage &#x670D;&#x52A1;&#x5668;&#x5728;&#x6BCF;&#x4E2A;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;&#x4E0B;&#x521B;&#x5EFA;&#x7684;&#x4E24;&#x7EA7;&#x76EE;&#x5F55;&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x6570;&#x636E; &#x6587;&#x4EF6;&#x3002; &#x6587;&#x4EF6;&#x540D;&#xFF1A;&#x4E0E;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x65F6;&#x4E0D;&#x540C;&#x3002;&#x662F;&#x7531;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x6839;&#x636E;&#x7279;&#x5B9A;&#x4FE1;&#x606F;&#x751F;&#x6210;&#xFF0C;&#x6587;&#x4EF6;&#x540D;&#x5305;&#x542B;&#xFF1A;&#x6E90;&#x5B58;&#x50A8; &#x670D;&#x52A1;&#x5668; IP &#x5730;&#x5740;&#x3001;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x6233;&#x3001;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x3001;&#x968F;&#x673A;&#x6570;&#x548C;&#x6587;&#x4EF6;&#x62D3;&#x5C55;&#x540D;&#x7B49;&#x4FE1;&#x606F;&#x3002; 5.2 FastDFS&#x642D;&#x5EFA;&#x6211;&#x4EEC;&#x4F7F;&#x7528;Docker&#x642D;&#x5EFA;FastDFS&#x7684;&#x5F00;&#x53D1;&#x73AF;&#x5883; &#x62C9;&#x53D6;&#x955C;&#x50CF; docker pull morunchang/fastdfs&#x8FD0;&#x884C;tracker docker run -d --name tracker --net=host morunchang/fastdfs sh tracker.sh&#x8FD0;&#x884C;storage docker run -d --name storage --net=host -e TRACKER_IP=&lt;your tracker server address&gt;:22122 -e GROUP_NAME=&lt;group name&gt; morunchang/fastdfs sh storage.sh &#x4F7F;&#x7528;&#x7684;&#x7F51;&#x7EDC;&#x6A21;&#x5F0F;&#x662F;&#x2013;net=host, &#x66FF;&#x6362;&#x4E3A;&#x4F60;&#x673A;&#x5668;&#x7684;Ip&#x5373;&#x53EF; &#x662F;&#x7EC4;&#x540D;&#xFF0C;&#x5373;storage&#x7684;&#x7EC4; &#x5982;&#x679C;&#x60F3;&#x8981;&#x589E;&#x52A0;&#x65B0;&#x7684;storage&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x518D;&#x6B21;&#x8FD0;&#x884C;&#x8BE5;&#x547D;&#x4EE4;&#xFF0C;&#x6CE8;&#x610F;&#x66F4;&#x6362; &#x65B0;&#x7EC4;&#x540D; &#xFF08;4&#xFF09;&#x4FEE;&#x6539;nginx&#x7684;&#x914D;&#x7F6E; &#x8FDB;&#x5165;storage&#x7684;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#xFF0C;&#x4FEE;&#x6539;nginx.conf docker exec -it storage /bin/bash&#x8FDB;&#x5165;&#x540E; vi /data/nginx/conf/nginx.conf&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9; location /group1/M00 { proxy_next_upstream http_502 http_504 error timeout invalid_header; proxy_cache http-cache; proxy_cache_valid 200 304 12h; proxy_cache_key $uri$is_args$args; proxy_pass http://fdfs_group1; expires 30d; }&#xFF08;5&#xFF09;&#x9000;&#x51FA;&#x5BB9;&#x5668; exit&#xFF08;6&#xFF09;&#x91CD;&#x542F;storage&#x5BB9;&#x5668; docker restart storage5.3 &#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5FAE;&#x670D;&#x52A1;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;changgou_service_file&#xFF0C;&#x8BE5;&#x5DE5;&#x7A0B;&#x4E3B;&#x8981;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4EE5;&#x53CA;&#x6587;&#x4EF6;&#x5220;&#x9664;&#x7B49;&#x529F;&#x80FD;&#x3002; &#xFF08;1&#xFF09;&#x4FEE;&#x6539;pom.xml&#xFF0C;&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;net.oschina.zcx7878&lt;/groupId&gt; &lt;artifactId&gt;fastdfs-client-java&lt;/artifactId&gt; &lt;version&gt;1.27.0.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09;&#x5728;resources&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x521B;&#x5EFA;fasfDFS&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;fdfs_client.conf connect_timeout = 60 network_timeout = 60 charset = UTF-8 http.tracker_http_port = 8080 tracker_server = 192.168.200.128:22122connect_timeout&#xFF1A;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x79D2;&#x3002; network_timeout&#xFF1A;&#x901A;&#x4FE1;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x79D2;&#x3002;&#x53D1;&#x9001;&#x6216;&#x63A5;&#x6536;&#x6570;&#x636E;&#x65F6;&#x3002;&#x5047;&#x8BBE;&#x5728;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x540E;&#x8FD8;&#x4E0D;&#x80FD;&#x53D1;&#x9001;&#x6216;&#x63A5;&#x6536;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x672C;&#x6B21;&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x5931;&#x8D25; charset&#xFF1A; &#x5B57;&#x7B26;&#x96C6; http.tracker_http_port &#xFF1A;.tracker&#x7684;http&#x7AEF;&#x53E3; tracker_server&#xFF1A; tracker&#x670D;&#x52A1;&#x5668;IP&#x548C;&#x7AEF;&#x53E3;&#x8BBE;&#x7F6E; &#xFF08;3&#xFF09;&#x5728;resources&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x521B;&#x5EFA;application.yml spring: servlet: multipart: max-file-size: 10MB max-request-size: 10MB server: port: 9008 eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: true feign: hystrix: enabled: truemax-file-size&#x662F;&#x5355;&#x4E2A;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;max-request-size&#x662F;&#x8BBE;&#x7F6E;&#x603B;&#x4E0A;&#x4F20;&#x7684;&#x6570;&#x636E;&#x5927;&#x5C0F; &#xFF08;4&#xFF09;&#x521B;&#x5EFA;com.changgou.file&#x5305;&#xFF0C;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B;FileApplication @SpringBootApplication @EnableEurekaClient public class FileApplication { public static void main(String[] args) { SpringApplication.run(FileApplication.class); } }5.4 &#x6587;&#x4EF6;&#x4E0A;&#x4F20;5.4.1 &#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x5C01;&#x88C5;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4E00;&#x822C;&#x90FD;&#x6709;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x5B57;&#x3001;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x3001;&#x6587;&#x4EF6;&#x7684;&#x6269;&#x5C55;&#x540D;&#x3001;&#x6587;&#x4EF6;&#x7684;md5&#x503C;&#x3001;&#x6587;&#x4EF6;&#x7684;&#x4F5C;&#x8005;&#x7B49;&#x76F8;&#x5173;&#x5C5E;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5C01;&#x88C5;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x521B;&#x5EFA;com.changgou.file.pojo.FastDFSFile public class FastDFSFile { //&#x6587;&#x4EF6;&#x540D;&#x5B57; private String name; //&#x6587;&#x4EF6;&#x5185;&#x5BB9; private byte[] content; //&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D; private String ext; //&#x6587;&#x4EF6;MD5&#x6458;&#x8981;&#x503C; private String md5; //&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x4F5C;&#x8005; private String author; public FastDFSFile(String name, byte[] content, String ext, String height, String width, String author) { super(); this.name = name; this.content = content; this.ext = ext; this.author = author; } public FastDFSFile(String name, byte[] content, String ext) { super(); this.name = name; this.content = content; this.ext = ext; } // getter and setter ... }5.4.2 &#x6587;&#x4EF6;&#x64CD;&#x4F5C;&#x521B;&#x5EFA;FastDFSClient&#x7C7B;,&#x653E;&#x5728;com.changgou.file.util&#x4E0B;&#x5728;&#x8BE5;&#x7C7B;&#x4E2D;&#x5B9E;&#x73B0;FastDFS&#x4FE1;&#x606F;&#x83B7;&#x53D6;&#x4EE5;&#x53CA;&#x6587;&#x4EF6;&#x7684;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#xFF0C; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; public class FastDFSClient { private static org.slf4j.Logger logger = LoggerFactory.getLogger(FastDFSClient.class); /*** * &#x521D;&#x59CB;&#x5316;&#x52A0;&#x8F7D;FastDFS&#x7684;TrackerServer&#x914D;&#x7F6E; */ static { try { String filePath = new ClassPathResource(&quot;fdfs_client.conf&quot;).getFile().getAbsolutePath(); ClientGlobal.init(filePath); } catch (Exception e) { logger.error(&quot;FastDFS Client Init Fail!&quot;,e); } } /*** * &#x6587;&#x4EF6;&#x4E0A;&#x4F20; * @param file * @return */ public static String[] upload(FastDFSFile file) { //&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x4F5C;&#x8005; NameValuePair[] meta_list = new NameValuePair[1]; meta_list[0] = new NameValuePair(&quot;author&quot;, file.getAuthor()); //&#x63A5;&#x6536;&#x8FD4;&#x56DE;&#x6570;&#x636E; String[] uploadResults = null; StorageClient storageClient=null; try { //&#x521B;&#x5EFA;StorageClient&#x5BA2;&#x6237;&#x7AEF;&#x5BF9;&#x8C61; storageClient = getTrackerClient(); /*** * &#x6587;&#x4EF6;&#x4E0A;&#x4F20; * 1)&#x6587;&#x4EF6;&#x5B57;&#x8282;&#x6570;&#x7EC4; * 2)&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D; * 3)&#x6587;&#x4EF6;&#x4F5C;&#x8005; */ uploadResults = storageClient.upload_file(file.getContent(), file.getExt(), meta_list); } catch (Exception e) { logger.error(&quot;Exception when uploadind the file:&quot; + file.getName(), e); } if (uploadResults == null &amp;&amp; storageClient!=null) { logger.error(&quot;upload file fail, error code:&quot; + storageClient.getErrorCode()); } //&#x83B7;&#x53D6;&#x7EC4;&#x540D; String groupName = uploadResults[0]; //&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x8DEF;&#x5F84; String remoteFileName = uploadResults[1]; return uploadResults; } /*** * &#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x4FE1;&#x606F; * @param groupName:&#x7EC4;&#x540D; * @param remoteFileName&#xFF1A;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5B8C;&#x6574;&#x540D; * @return */ public static FileInfo getFile(String groupName, String remoteFileName) { try { StorageClient storageClient = getTrackerClient(); return storageClient.get_file_info(groupName, remoteFileName); } catch (Exception e) { logger.error(&quot;Exception: Get File from Fast DFS failed&quot;, e); } return null; } /*** * &#x6587;&#x4EF6;&#x4E0B;&#x8F7D; * @param groupName * @param remoteFileName * @return */ public static InputStream downFile(String groupName, String remoteFileName) { try { //&#x521B;&#x5EFA;StorageClient StorageClient storageClient = getTrackerClient(); //&#x4E0B;&#x8F7D;&#x6587;&#x4EF6; byte[] fileByte = storageClient.download_file(groupName, remoteFileName); InputStream ins = new ByteArrayInputStream(fileByte); return ins; } catch (Exception e) { logger.error(&quot;Exception: Get File from Fast DFS failed&quot;, e); } return null; } /*** * &#x6587;&#x4EF6;&#x5220;&#x9664; * @param groupName * @param remoteFileName * @throws Exception */ public static void deleteFile(String groupName, String remoteFileName) throws Exception { //&#x521B;&#x5EFA;StorageClient StorageClient storageClient = getTrackerClient(); //&#x5220;&#x9664;&#x6587;&#x4EF6; int i = storageClient.delete_file(groupName, remoteFileName); } /*** * &#x83B7;&#x53D6;Storage&#x7EC4; * @param groupName * @return * @throws IOException */ public static StorageServer[] getStoreStorages(String groupName) throws IOException { //&#x521B;&#x5EFA;TrackerClient TrackerClient trackerClient = new TrackerClient(); //&#x83B7;&#x53D6;TrackerServer TrackerServer trackerServer = trackerClient.getConnection(); //&#x83B7;&#x53D6;Storage&#x7EC4; return trackerClient.getStoreStorages(trackerServer, groupName); } /*** * &#x83B7;&#x53D6;Storage&#x4FE1;&#x606F;,IP&#x548C;&#x7AEF;&#x53E3; * @param groupName * @param remoteFileName * @return * @throws IOException */ public static ServerInfo[] getFetchStorages(String groupName, String remoteFileName) throws IOException { TrackerClient trackerClient = new TrackerClient(); TrackerServer trackerServer = trackerClient.getConnection(); return trackerClient.getFetchStorages(trackerServer, groupName, remoteFileName); } /*** * &#x83B7;&#x53D6;Tracker&#x670D;&#x52A1;&#x5730;&#x5740; * @return * @throws IOException */ public static String getTrackerUrl() throws IOException { return &quot;http://&quot;+getTrackerServer().getInetSocketAddress().getHostString()+&quot;:&quot;+ClientGlobal.getG_tracker_http_port()+&quot;/&quot;; } /*** * &#x83B7;&#x53D6;Storage&#x5BA2;&#x6237;&#x7AEF; * @return * @throws IOException */ private static StorageClient getTrackerClient() throws IOException { TrackerServer trackerServer = getTrackerServer(); StorageClient storageClient = new StorageClient(trackerServer, null); return storageClient; } /*** * &#x83B7;&#x53D6;Tracker * @return * @throws IOException */ private static TrackerServer getTrackerServer() throws IOException { TrackerClient trackerClient = new TrackerClient(); TrackerServer trackerServer = trackerClient.getConnection(); return trackerServer; } }5.4.3 &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;FileController&#xFF0C;&#x5728;&#x8BE5;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x5B9E;&#x73B0;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @RestController @RequestMapping(&quot;/file&quot;) public class FileController { @PostMapping(&quot;/upload&quot;) public Result uploadFile(MultipartFile file){ try{ //&#x5224;&#x65AD;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728; if (file == null){ throw new RuntimeException(&quot;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&quot;); } //&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x5B8C;&#x6574;&#x540D;&#x79F0; String originalFilename = file.getOriginalFilename(); if (StringUtils.isEmpty(originalFilename)){ throw new RuntimeException(&quot;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&quot;); } //&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x7684;&#x6269;&#x5C55;&#x540D;&#x79F0; abc.jpg jpg String extName = originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;) + 1); //&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5185;&#x5BB9; byte[] content = file.getBytes(); //&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7684;&#x5C01;&#x88C5;&#x5B9E;&#x4F53;&#x7C7B; FastDFSFile fastDFSFile = new FastDFSFile(originalFilename,content,extName); //&#x57FA;&#x4E8E;&#x5DE5;&#x5177;&#x7C7B;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;,&#x5E76;&#x63A5;&#x53D7;&#x8FD4;&#x56DE;&#x53C2;&#x6570; String[] String[] uploadResult = FastDFSClient.upload(fastDFSFile); //&#x5C01;&#x88C5;&#x8FD4;&#x56DE;&#x7ED3;&#x679C; String url = FastDFSClient.getTrackerUrl()+uploadResult[0]+&quot;/&quot;+uploadResult[1]; return new Result(true,StatusCode.OK,&quot;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6210;&#x529F;&quot;,url); }catch (Exception e){ e.printStackTrace(); } return new Result(false, StatusCode.ERROR,&quot;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5931;&#x8D25;&quot;); } }5.5 Postman&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6B65;&#x9AA4;&#xFF1A; 1&#x3001;&#x9009;&#x62E9;post&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#xFF0C;&#x8F93;&#x5165;&#x8BF7;&#x6C42;&#x5730;&#x5740; http://localhost:9008/upload 2&#x3001;&#x586B;&#x5199;Headers Key&#xFF1A;Content-Type Value&#xFF1A;multipart/form-data3&#x3001;&#x586B;&#x5199;body &#x9009;&#x62E9;form-data &#x7136;&#x540E;&#x9009;&#x62E9;&#x6587;&#x4EF6;file &#x70B9;&#x51FB;&#x6DFB;&#x52A0;&#x6587;&#x4EF6;&#xFF0C;&#x6700;&#x540E;&#x53D1;&#x9001;&#x5373;&#x53EF;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou%2Fchang-gou-01-kuang-jia-da-jian%2Fchang-gou-01-kuang-jia-da-jian.html</url>
    <content type="text"><![CDATA[&#x7B2C;1&#x7AE0; &#x6846;&#x67B6;&#x642D;&#x5EFA;&#x5B66;&#x4E60;&#x76EE;&#x6807;&#x76EE;&#x6807;1&#xFF1A;&#x4E86;&#x89E3;&#x7535;&#x5546;&#x7684;&#x6280;&#x672F;&#x7279;&#x70B9;&#x548C;&#x4E3B;&#x8981;&#x7535;&#x5546;&#x6A21;&#x5F0F; &#x76EE;&#x6807;2&#xFF1A;&#x7406;&#x89E3;&#x7545;&#x8D2D;&#x7684;&#x9700;&#x6C42;&#x4E0E;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1; &#x76EE;&#x6807;3&#xFF1A;&#x80FD;&#x591F;&#x5B8C;&#x6210;&#x7545;&#x8D2D;&#x5DE5;&#x7A0B;&#x6846;&#x67B6;&#x7684;&#x642D;&#x5EFA; &#x76EE;&#x6807;4&#xFF1A;&#x80FD;&#x591F;&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;&#x54C1;&#x724C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x529F;&#x80FD; 1. &#x8D70;&#x8FDB;&#x7535;&#x5546;1.1 &#x7535;&#x5546;&#x884C;&#x4E1A;&#x5206;&#x6790;&#x8FD1;&#x5E74;&#x6765;&#xFF0C;&#x4E16;&#x754C;&#x7ECF;&#x6D4E;&#x6B63;&#x5411;&#x6570;&#x5B57;&#x5316;&#x8F6C;&#x578B;&#xFF0C;&#x5927;&#x529B;&#x53D1;&#x5C55;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x6210;&#x4E3A;&#x5168;&#x7403;&#x5171;&#x8BC6;&#x3002;&#x515A;&#x7684;&#x5341;&#x4E5D;&#x5927;&#x62A5;&#x544A;&#x660E;&#x786E;&#x63D0;&#x51FA;&#x8981;&#x5EFA;&#x8BBE;&#x201C;&#x6570;&#x5B57;&#x4E2D;&#x56FD;&#x201D;&#x201C;&#x7F51;&#x7EDC;&#x5F3A;&#x56FD;&#x201D;&#xFF0C;&#x6211;&#x56FD;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x53D1;&#x5C55;&#x8FDB;&#x5165;&#x65B0;&#x9636;&#x6BB5;&#xFF0C;&#x5E02;&#x573A;&#x89C4;&#x6A21;&#x4F4D;&#x5C45;&#x5168;&#x7403;&#x7B2C;&#x4E8C;&#xFF0C;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x4E0E;&#x5B9E;&#x4F53;&#x7ECF;&#x6D4E;&#x6DF1;&#x5EA6;&#x878D;&#x5408;&#xFF0C;&#x6709;&#x529B;&#x4FC3;&#x8FDB;&#x4E86;&#x4F9B;&#x7ED9;&#x4FA7;&#x7ED3;&#x6784;&#x6027;&#x6539;&#x9769;&#x3002;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x662F;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x7684;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;&#x662F;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x6700;&#x6D3B;&#x8DC3;&#x3001;&#x6700;&#x96C6;&#x4E2D;&#x7684;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x4E4B;&#x4E00;&#x3002;2017&#x5E74;&#xFF0C;&#x5728;&#x653F;&#x5E9C;&#x548C;&#x5E02;&#x573A;&#x5171;&#x540C;&#x63A8;&#x52A8;&#x4E0B;&#xFF0C;&#x6211;&#x56FD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x53D1;&#x5C55;&#x66F4;&#x52A0;&#x6CE8;&#x91CD;&#x6548;&#x7387;&#x3001;&#x8D28;&#x91CF;&#x548C;&#x521B;&#x65B0;&#xFF0C;&#x53D6;&#x5F97;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x65B0;&#x7684;&#x8FDB;&#x5C55;&#xFF0C;&#x5728;&#x58EE;&#x5927;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x3001;&#x5171;&#x5EFA;&#x201C;&#x4E00;&#x5E26;&#x4E00;&#x8DEF;&#x201D;&#x3001;&#x52A9;&#x529B;&#x4E61;&#x6751;&#x632F;&#x5174;&#x3001;&#x5E26;&#x52A8;&#x521B;&#x65B0;&#x521B;&#x4E1A;&#x3001;&#x4FC3;&#x8FDB;&#x7ECF;&#x6D4E;&#x8F6C;&#x578B;&#x5347;&#x7EA7;&#x7B49;&#x8BF8;&#x591A;&#x65B9;&#x9762;&#x53D1;&#x6325;&#x4E86;&#x91CD;&#x8981;&#x4F5C;&#x7528;&#xFF0C;&#x6210;&#x4E3A;&#x6211;&#x56FD;&#x7ECF;&#x6D4E;&#x589E;&#x957F;&#x7684;&#x65B0;&#x52A8;&#x529B;&#x3002; 2017&#x5E74;&#xFF0C;&#x6211;&#x56FD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4EA4;&#x6613;&#x89C4;&#x6A21;&#x7EE7;&#x7EED;&#x6269;&#x5927;&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x9AD8;&#x901F;&#x589E;&#x957F;&#x6001;&#x52BF;&#x3002;&#x56FD;&#x5BB6;&#x7EDF;&#x8BA1;&#x5C40;&#x6570;&#x636E;&#x663E;&#x793A;&#xFF0C;2017&#x5E74;&#x5168;&#x56FD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4EA4;&#x6613;&#x989D;&#x8FBE;29.16&#x4E07;&#x4EBF;&#x5143;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;11.7%&#xFF1B;&#x7F51;&#x4E0A;&#x96F6;&#x552E;&#x989D;7.18&#x4E07;&#x4EBF;&#x5143;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;32.2%&#x3002;&#x6211;&#x56FD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4F18;&#x52BF;&#x8FDB;&#x4E00;&#x6B65;&#x6269;&#x5927;&#xFF0C;&#x7F51;&#x7EDC;&#x96F6;&#x552E;&#x89C4;&#x6A21;&#x5168;&#x7403;&#x6700;&#x5927;&#x3001;&#x4EA7;&#x4E1A;&#x521B;&#x65B0;&#x6D3B;&#x529B;&#x4E16;&#x754C;&#x9886;&#x5148;&#x3002;&#x6570;&#x636E;&#x663E;&#x793A;&#xFF0C;&#x622A;&#x6B62;2017&#x5E74;&#x5E95;&#xFF0C;&#x5168;&#x56FD;&#x7F51;&#x7EDC;&#x8D2D;&#x7269;&#x7528;&#x6237;&#x89C4;&#x6A21;&#x8FBE;5.33&#x4EBF;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;14.3%&#xFF1B;&#x975E;&#x94F6;&#x884C;&#x652F;&#x4ED8;&#x673A;&#x6784;&#x53D1;&#x751F;&#x7F51;&#x7EDC;&#x652F;&#x4ED8;&#x91D1;&#x989D;&#x8FBE;143.26&#x4E07;&#x4EBF;&#x5143;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;44.32%&#xFF1B;&#x5168;&#x56FD;&#x5FEB;&#x9012;&#x670D;&#x52A1;&#x4F01;&#x4E1A;&#x4E1A;&#x52A1;&#x91CF;&#x7D2F;&#x8BA1;&#x5B8C;&#x6210;400.6&#x4EBF;&#x4EF6;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;28%&#xFF1B;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x76F4;&#x63A5;&#x4ECE;&#x4E1A;&#x4EBA;&#x5458;&#x548C;&#x95F4;&#x63A5;&#x5E26;&#x52A8;&#x5C31;&#x4E1A;&#x8FBE;4250&#x4E07;&#x4EBA;&#x3002; 1.2 &#x7535;&#x5546;&#x7CFB;&#x7EDF;&#x6280;&#x672F;&#x7279;&#x70B9;&#x6280;&#x672F;&#x65B0; &#x6280;&#x672F;&#x8303;&#x56F4;&#x5E7F; &#x5206;&#x5E03;&#x5F0F; &#x9AD8;&#x5E76;&#x53D1;&#x3001;&#x96C6;&#x7FA4;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x9AD8;&#x53EF;&#x7528; &#x6D77;&#x91CF;&#x6570;&#x636E; &#x4E1A;&#x52A1;&#x590D;&#x6742; &#x7CFB;&#x7EDF;&#x5B89;&#x5168; 1.3 &#x4E3B;&#x8981;&#x7535;&#x5546;&#x6A21;&#x5F0F;B2B B2B &#xFF08; Business to Business&#xFF09;&#x662F;&#x6307;&#x8FDB;&#x884C;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4EA4;&#x6613;&#x7684;&#x4F9B;&#x9700;&#x53CC;&#x65B9;&#x90FD;&#x662F;&#x5546;&#x5BB6;&#xFF08;&#x6216;&#x4F01;&#x4E1A;&#x3001;&#x516C;&#x53F8;&#xFF09;&#xFF0C;&#x5979;&#xFF08;&#x4ED6;&#xFF09;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x6280;&#x672F;&#x6216;&#x5404;&#x79CD;&#x5546;&#x52A1;&#x7F51;&#x7EDC;&#x5E73;&#x53F0;&#xFF0C;&#x5B8C;&#x6210;&#x5546;&#x52A1;&#x4EA4;&#x6613;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x662F;&#x73B0;&#x4EE3; B2B marketing&#x7684;&#x4E00;&#x79CD;&#x5177;&#x4F53;&#x4E3B;&#x8981;&#x7684;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x3001;&#x6167;&#x806A;&#x7F51;C2C C2C&#x5373; Customer&#xFF08;Consumer&#xFF09; to Customer&#xFF08;Consumer&#xFF09;&#xFF0C;&#x610F;&#x601D;&#x5C31;&#x662F;&#x6D88;&#x8D39;&#x8005;&#x4E2A;&#x4EBA;&#x95F4;&#x7684;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x884C;&#x4E3A;&#x3002;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x6709;&#x4E00;&#x53F0;&#x7535;&#x8111;&#xFF0C;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8FDB;&#x884C;&#x4EA4;&#x6613;&#xFF0C;&#x628A;&#x5B83;&#x51FA;&#x552E;&#x7ED9;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x6B64;&#x79CD;&#x4EA4;&#x6613;&#x7C7B;&#x578B;&#x5C31;&#x79F0;&#x4E3A;C2C&#x7535;&#x5B50;&#x5546;&#x52A1;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x54B8;&#x9C7C;&#x3001;&#x8F6C;&#x8F6C;&#x3001;&#x74DC;&#x5B50;&#x4E8C;&#x624B;&#x8F66;B2C B2C&#x662F;Business-to-Customer&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x800C;&#x5176;&#x4E2D;&#x6587;&#x7B80;&#x79F0;&#x4E3A;&#x201C;&#x5546;&#x5BF9;&#x5BA2;&#x201D;&#x3002;&#x201C;&#x5546;&#x5BF9;&#x5BA2;&#x201D;&#x662F;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x7684;&#x4E00;&#x79CD;&#x6A21;&#x5F0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x901A;&#x5E38;&#x8BF4;&#x7684;&#x76F4;&#x63A5;&#x9762;&#x5411;&#x6D88;&#x8D39;&#x8005;&#x9500;&#x552E;&#x4EA7;&#x54C1;&#x548C;&#x670D;&#x52A1;&#x5546;&#x4E1A;&#x96F6;&#x552E;&#x6A21;&#x5F0F;&#x3002;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x7684;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4E00;&#x822C;&#x4EE5;&#x7F51;&#x7EDC;&#x96F6;&#x552E;&#x4E1A;&#x4E3A;&#x4E3B;&#xFF0C;&#x4E3B;&#x8981;&#x501F;&#x52A9;&#x4E8E;&#x4E92;&#x8054;&#x7F51;&#x5F00;&#x5C55;&#x5728;&#x7EBF;&#x9500;&#x552E;&#x6D3B;&#x52A8;&#x3002;B2C&#x5373;&#x4F01;&#x4E1A;&#x901A;&#x8FC7;&#x4E92;&#x8054;&#x7F51;&#x4E3A;&#x6D88;&#x8D39;&#x8005;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x65B0;&#x578B;&#x7684;&#x8D2D;&#x7269;&#x73AF;&#x5883;&#x2014;&#x2014;&#x7F51;&#x4E0A;&#x5546;&#x5E97;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x5728;&#x7F51;&#x4E0A;&#x8D2D;&#x7269;&#x3001;&#x7F51;&#x4E0A;&#x652F;&#x4ED8;&#x7B49;&#x6D88;&#x8D39;&#x884C;&#x4E3A;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x552F;&#x54C1;&#x4F1A;&#x3001;&#x4E50;&#x8702;&#x7F51;C2B C2B&#xFF08;Consumer to Business&#xFF0C;&#x5373;&#x6D88;&#x8D39;&#x8005;&#x5230;&#x4F01;&#x4E1A;&#xFF09;&#xFF0C;&#x662F;&#x4E92;&#x8054;&#x7F51;&#x7ECF;&#x6D4E;&#x65F6;&#x4EE3;&#x65B0;&#x7684;&#x5546;&#x4E1A;&#x6A21;&#x5F0F;&#x3002;&#x8FD9;&#x4E00;&#x6A21;&#x5F0F;&#x6539;&#x53D8;&#x4E86;&#x539F;&#x6709;&#x751F;&#x4EA7;&#x8005;&#xFF08;&#x4F01;&#x4E1A;&#x548C;&#x673A;&#x6784;&#xFF09;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6D88;&#x8D39;&#x8005;&#x8D21;&#x732E;&#x4EF7;&#x503C;&#xFF08;Create Value&#xFF09;&#xFF0C; &#x4F01;&#x4E1A;&#x548C;&#x673A;&#x6784;&#x6D88;&#x8D39;&#x4EF7;&#x503C;&#xFF08;Consume Value&#xFF09;&#x3002; C2B&#x6A21;&#x5F0F;&#x548C;&#x6211;&#x4EEC;&#x719F;&#x77E5;&#x7684;&#x4F9B;&#x9700;&#x6A21;&#x5F0F;&#xFF08;DSM, Demand SupplyModel&#xFF09;&#x6070;&#x6070;&#x76F8;&#x53CD;&#xFF0C;&#x771F;&#x6B63;&#x7684;C2B &#x5E94;&#x8BE5;&#x5148;&#x6709;&#x6D88;&#x8D39;&#x8005;&#x9700;&#x6C42;&#x4EA7;&#x751F;&#x800C;&#x540E;&#x6709;&#x4F01;&#x4E1A;&#x751F;&#x4EA7;&#xFF0C;&#x5373;&#x5148;&#x6709;&#x6D88;&#x8D39;&#x8005;&#x63D0;&#x51FA;&#x9700;&#x6C42;&#xFF0C;&#x540E;&#x6709;&#x751F;&#x4EA7;&#x4F01;&#x4E1A;&#x6309;&#x9700;&#x6C42;&#x7EC4;&#x7EC7;&#x751F;&#x4EA7;&#x3002;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E3A;&#x6D88;&#x8D39;&#x8005;&#x6839;&#x636E;&#x81EA;&#x8EAB;&#x9700;&#x6C42;&#x5B9A;&#x5236;&#x4EA7;&#x54C1;&#x548C;&#x4EF7;&#x683C;&#xFF0C;&#x6216;&#x4E3B;&#x52A8;&#x53C2;&#x4E0E;&#x4EA7;&#x54C1;&#x8BBE;&#x8BA1;&#x3001;&#x751F;&#x4EA7;&#x548C;&#x5B9A;&#x4EF7;&#xFF0C;&#x4EA7;&#x54C1;&#x3001;&#x4EF7;&#x683C;&#x7B49;&#x5F70;&#x663E;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x4E2A;&#x6027;&#x5316;&#x9700;&#x6C42;&#xFF0C;&#x751F;&#x4EA7;&#x4F01;&#x4E1A;&#x8FDB;&#x884C;&#x5B9A;&#x5236;&#x5316;&#x751F;&#x4EA7;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x6D77;&#x5C14;&#x5546;&#x57CE;&#x3001; &#x5C1A;&#x54C1;&#x5B85;&#x914D;O2O O2O&#x5373;Online To Offline&#xFF08;&#x5728;&#x7EBF;&#x79BB;&#x7EBF;/&#x7EBF;&#x4E0A;&#x5230;&#x7EBF;&#x4E0B;&#xFF09;&#xFF0C;&#x662F;&#x6307;&#x5C06;&#x7EBF;&#x4E0B;&#x7684;&#x5546;&#x52A1;&#x673A;&#x4F1A;&#x4E0E;&#x4E92;&#x8054;&#x7F51;&#x7ED3;&#x5408;&#xFF0C;&#x8BA9;&#x4E92;&#x8054;&#x7F51;&#x6210;&#x4E3A;&#x7EBF;&#x4E0B;&#x4EA4;&#x6613;&#x7684;&#x5E73;&#x53F0;&#xFF0C;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x6700;&#x65E9;&#x6765;&#x6E90;&#x4E8E;&#x7F8E;&#x56FD;&#x3002;O2O&#x7684;&#x6982;&#x5FF5;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#xFF0C;&#x65E2;&#x53EF;&#x6D89;&#x53CA;&#x5230;&#x7EBF;&#x4E0A;&#xFF0C;&#x53C8;&#x53EF;&#x6D89;&#x53CA;&#x5230;&#x7EBF;&#x4E0B;,&#x53EF;&#x4EE5;&#x901A;&#x79F0;&#x4E3A;O2O&#x3002;&#x4E3B;&#x6D41;&#x5546;&#x4E1A;&#x7BA1;&#x7406;&#x8BFE;&#x7A0B;&#x5747;&#x5BF9;O2O&#x8FD9;&#x79CD;&#x65B0;&#x578B;&#x7684;&#x5546;&#x4E1A;&#x6A21;&#x5F0F;&#x6709;&#x6240;&#x4ECB;&#x7ECD;&#x53CA;&#x5173;&#x6CE8;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x7F8E;&#x56E2;&#x3001;&#x997F;&#x4E86;&#x5417;F2C F2C&#x6307;&#x7684;&#x662F;Factory to customer&#xFF0C;&#x5373;&#x4ECE;&#x5382;&#x5546;&#x5230;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x6A21;&#x5F0F;&#x3002;B2B2C B2B2C&#x662F;&#x4E00;&#x79CD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x7C7B;&#x578B;&#x7684;&#x7F51;&#x7EDC;&#x8D2D;&#x7269;&#x5546;&#x4E1A;&#x6A21;&#x5F0F;&#xFF0C;B&#x662F;BUSINESS&#x7684;&#x7B80;&#x79F0;&#xFF0C;C&#x662F;CUSTOMER&#x7684;&#x7B80;&#x79F0;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;B&#x6307;&#x7684;&#x662F;&#x5546;&#x54C1;&#x6216;&#x670D;&#x52A1;&#x7684;&#x4F9B;&#x5E94;&#x5546;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;B&#x6307;&#x7684;&#x662F;&#x4ECE;&#x4E8B;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x7684;&#x4F01;&#x4E1A;&#xFF0C;C&#x5219;&#x662F;&#x8868;&#x793A;&#x6D88;&#x8D39;&#x8005;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x4EAC;&#x4E1C;&#x5546;&#x57CE;&#x3001;&#x5929;&#x732B;&#x5546;&#x57CE;2. &#x7545;&#x8D2D;-&#x9700;&#x6C42;&#x5206;&#x6790;&#x4E0E;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;2.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x7F51;&#x7AD9;&#x524D;&#x53F0;&#x9759;&#x6001;&#x539F;&#x578B;&#x6F14;&#x793A;&#xFF0C;&#x6253;&#x5F00;&#x8D44;&#x6599;\&#x9759;&#x6001;&#x539F;&#x578B;\&#x524D;&#x53F0;&#xFF0C;&#x9996;&#x9875;index.html &#x7F51;&#x7AD9;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x9759;&#x6001;&#x539F;&#x578B;&#x6F14;&#x793A; &#x6253;&#x5F00;&#x8D44;&#x6599;\&#x9759;&#x6001;&#x539F;&#x578B;\&#x540E;&#x53F0;,&#x9996;&#x9875;index.html 2.2 &#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;2.2.1 &#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x7F51;&#x7AD9;&#x540E;&#x53F0;&#x7684;&#x90E8;&#x5206;&#x91C7;&#x7528;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x65B9;&#x5F0F;&#x3002; &#x4EE5;&#x524D;&#x7684;JavaWeb&#x9879;&#x76EE;&#x5927;&#x591A;&#x6570;&#x90FD;&#x662F;java&#x7A0B;&#x5E8F;&#x5458;&#x53C8;&#x5F53;&#x7239;&#x53C8;&#x5F53;&#x5988;&#xFF0C;&#x53C8;&#x641E;&#x524D;&#x7AEF;&#xFF0C;&#x53C8;&#x641E;&#x540E;&#x7AEF;&#x3002;&#x968F;&#x7740;&#x65F6;&#x4EE3;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x6E10;&#x6E10;&#x7684;&#x8BB8;&#x591A;&#x5927;&#x4E2D;&#x5C0F;&#x516C;&#x53F8;&#x5F00;&#x59CB;&#x628A;&#x524D;&#x540E;&#x7AEF;&#x7684;&#x754C;&#x9650;&#x5206;&#x7684;&#x8D8A;&#x6765;&#x8D8A;&#x660E;&#x786E;&#xFF0C;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x5E08;&#x53EA;&#x7BA1;&#x524D;&#x7AEF;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x540E;&#x7AEF;&#x5DE5;&#x7A0B;&#x5E08;&#x53EA;&#x7BA1;&#x540E;&#x7AEF;&#x7684;&#x4E8B;&#x60C5;&#x3002;&#x6B63;&#x6240;&#x8C13;&#x672F;&#x4E1A;&#x6709;&#x4E13;&#x653B;&#xFF0C;&#x4E00;&#x4E2A;&#x4EBA;&#x5982;&#x679C;&#x4EC0;&#x4E48;&#x90FD;&#x4F1A;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x6BD5;&#x7ADF;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x7CBE;&#x3002; &#x5BF9;&#x4E8E;&#x540E;&#x7AEF;java&#x5DE5;&#x7A0B;&#x5E08;&#xFF1A; &#x628A;&#x7CBE;&#x529B;&#x653E;&#x5728;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;spring+springmvc&#xFF0C;linux&#xFF0C;mysql&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x4E0E;&#x9501;&#x673A;&#x5236;&#xFF0C;mongodb&#xFF0C;http/tcp&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#xFF0C;&#x5F39;&#x6027;&#x8BA1;&#x7B97;&#x67B6;&#x6784;&#xFF0C;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#xFF0C;java&#x6027;&#x80FD;&#x4F18;&#x5316;&#xFF0C;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x7684;&#x9879;&#x76EE;&#x7BA1;&#x7406;&#x7B49;&#x7B49;&#x3002; &#x5BF9;&#x4E8E;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x5E08;&#xFF1A; &#x628A;&#x7CBE;&#x529B;&#x653E;&#x5728;html5&#xFF0C;css3&#xFF0C;vuejs&#xFF0C;webpack&#xFF0C;nodejs&#xFF0C;Google V8&#x5F15;&#x64CE;&#xFF0C;javascript&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x6A21;&#x5757;&#x5316;&#xFF0C;&#x9762;&#x5411;&#x5207;&#x9762;&#x7F16;&#x7A0B;&#xFF0C;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x6027;&#x80FD;&#x4F18;&#x5316;&#x7B49;&#x7B49;&#x3002; &#x6211;&#x4EEC;&#x5728;&#x672C;&#x8BFE;&#x7A0B;&#x4E2D;&#x63D0;&#x4F9B;&#x4E0E;&#x9879;&#x76EE;&#x8BFE;&#x7A0B;&#x914D;&#x5957;&#x7684;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x7684;&#x524D;&#x7AEF;&#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x8BB2;&#x89E3;&#x524D;&#x7AEF;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x4F1A;&#x5C06;&#x66F4;&#x591A;&#x7684;&#x7CBE;&#x529B;&#x653E;&#x5728;&#x540E;&#x7AEF;&#x4EE3;&#x7801;&#x7684;&#x5F00;&#x53D1;&#x4E0A;&#xFF01; 2.2.2 &#x6280;&#x672F;&#x67B6;&#x6784; 2.2.3 &#x7CFB;&#x7EDF;&#x67B6;&#x6784;&#x56FE; 3. &#x7545;&#x8D2D;-&#x6846;&#x67B6;&#x642D;&#x5EFA;3.1 &#x73AF;&#x5883;&#x51C6;&#x5907;&#x5C06;&#x8D44;&#x6E90;&#x4E2D;&#x7684;&#x865A;&#x62DF;&#x673A;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#xFF08;&#x76F8;&#x5173;&#x7684;docker&#x5BB9;&#x5668;&#x5B89;&#x88C5;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;,&#x6CE8;&#x610F;&#x53F7;&#x6BB5;&#x6539;&#x4E3A;200&#xFF09; 3.2 &#x9879;&#x76EE;&#x7ED3;&#x6784;&#x8BF4;&#x660E; &#x7ED3;&#x6784;&#x8BF4;&#x660E;&#xFF1A; changgou_gateway &#x7F51;&#x5173;&#x6A21;&#x5757;&#xFF0C;&#x6839;&#x636E;&#x7F51;&#x7AD9;&#x7684;&#x89C4;&#x6A21;&#x548C;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x7EFC;&#x5408;&#x903B;&#x8F91;&#x76F8;&#x5173;&#x7684;&#x670D;&#x52A1;&#x7528;&#x7F51;&#x5173;&#x8DEF;&#x7531;&#x7EC4;&#x5408;&#x5230;&#x4E00;&#x8D77;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#x8FD8;&#x53EF;&#x4EE5;&#x505A;&#x9274;&#x6743;&#x548C;&#x9650;&#x6D41;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#x3002;changgou_service &#x5FAE;&#x670D;&#x52A1;&#x6A21;&#x5757;&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x6240;&#x6709;&#x72EC;&#x7ACB;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x3002;changgou_service_api &#x5BF9;&#x5E94;&#x5DE5;&#x7A0B;&#x7684;JavaBean&#x3001;Feign&#x3001;&#x4EE5;&#x53CA;Hystrix&#x914D;&#x7F6E;&#xFF0C;&#x8BE5;&#x5DE5;&#x7A0B;&#x4E3B;&#x8981;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x4F9D;&#x8D56;&#x3002;changgou_transaction_fescar &#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x6A21;&#x5757;&#xFF0C;&#x5C06;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x62BD;&#x53D6;&#x5230;&#x8BE5;&#x5DE5;&#x7A0B;&#x4E2D;&#xFF0C;&#x4EFB;&#x4F55;&#x5DE5;&#x7A0B;&#x5982;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF0C;&#x53EA;&#x9700;&#x4F9D;&#x8D56;&#x8BE5;&#x5DE5;&#x7A0B;&#x5373;&#x53EF;&#x3002;changgou_web web&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#xFF0C;&#x5BF9;&#x5E94;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x5982;&#x9700;&#x8981;&#x8C03;&#x7528;&#x591A;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5199;&#x5165;&#x5230;&#x8BE5;&#x6A21;&#x5757;&#x4E2D;&#xFF0C;&#x4F8B;&#x5982;&#x7F51;&#x7AD9;&#x540E;&#x53F0;&#x3001;&#x7F51;&#x7AD9;&#x524D;&#x53F0;&#x7B49;3.3 &#x7236;&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;3.3.1 &#x4E00;&#x7EA7;&#x7236;&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;&#x521B;&#x5EFA;&#x7236;&#x5DE5;&#x7A0B; changgou_parent,pom.xml&#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x914D;&#x7F6E; &lt;parent> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-parent&lt;/artifactId> &lt;version>2.1.4.RELEASE&lt;/version> &lt;/parent> &lt;properties> &lt;skipTests>true&lt;/skipTests> &lt;/properties> &lt;!--&amp;#x4F9D;&amp;#x8D56;&amp;#x5305;--> &lt;dependencies> &lt;!--&amp;#x6D4B;&amp;#x8BD5;&amp;#x5305;--> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-test&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;/dependencies> &lt;dependencyManagement> &lt;dependencies> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-dependencies&lt;/artifactId> &lt;version>Greenwich.SR1&lt;/version> &lt;type>pom&lt;/type> &lt;scope>import&lt;/scope> &lt;/dependency> &lt;/dependencies> &lt;/dependencyManagement> &#x5220;&#x9664;src&#x6587;&#x4EF6;&#x5939; 3.3.2 &#x4E8C;&#x7EA7;&#x7236;&#x5DE5;&#x7A0B;&#x6A21;&#x5757;&#x642D;&#x5EFA;&#x521B;&#x5EFA;changgou_gateway&#x3001;changgou_service&#x3001;changgou_service_api&#x3001;changgou_web&#x5DE5;&#x7A0B;&#xFF0C;&#x5DE5;&#x7A0B;&#x5168;&#x90E8;&#x4E3A;pom&#x5DE5;&#x7A0B;&#xFF0C;&#x5E76;&#x5C06;&#x6240;&#x6709;&#x5DE5;&#x7A0B;&#x7684;src&#x6587;&#x4EF6;&#x5220;&#x9664;&#x3002; 3.4 Eureka&#x5FAE;&#x670D;&#x52A1;&#x642D;&#x5EFA;&#xFF08;1&#xFF09;pom.xml&#x4F9D;&#x8D56; &#x521B;&#x5EFA;&#x6A21;&#x5757;changgou_eureka&#xFF0C;pom.xml&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09; appliation.yml&#x914D;&#x7F6E; &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;application.yml server: port: 6868 eureka: client: register-with-eureka: false #&#x662F;&#x5426;&#x5C06;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5230;eureka&#x4E2D; fetch-registry: false #&#x662F;&#x5426;&#x4ECE;eureka&#x4E2D;&#x83B7;&#x53D6;&#x4FE1;&#x606F; service-url: defaultZone: http://127.0.0.1:${server.port}/eureka/&#xFF08;3&#xFF09;&#x542F;&#x52A8;&#x7C7B;&#x914D;&#x7F6E; &#x521B;&#x5EFA;&#x5305;com.changgou.eureka &#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B; @SpringBootApplication @EnableEurekaServer public class EurekaApplication { public static void main(String[] args) { SpringApplication.run(EurekaApplication.class); } }3.5 &#x516C;&#x5171;&#x6A21;&#x5757;&#x642D;&#x5EFA;3.5.1 &#x5168;&#x5C40;&#x516C;&#x5171;&#x6A21;&#x5757;&#xFF08;1&#xFF09;pom.xml&#x4F9D;&#x8D56; &#x521B;&#x5EFA;&#x516C;&#x5171;&#x5B50;&#x6A21;&#x5757;changgou_common&#xFF0C;pom.xml&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;!--web&#x8D77;&#x6B65;&#x4F9D;&#x8D56;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- redis &#x4F7F;&#x7528;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.51&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09;&#x5E38;&#x7528;&#x5BF9;&#x8C61; &#x521B;&#x5EFA;com.changgou.entity&#x5305; &#xFF0C;&#x5305;&#x4E0B;&#x5C01;&#x88C5;&#x76F8;&#x5173;&#x516C;&#x5171;&#x5B9E;&#x4F53;&#x7C7B;&#x3002;&#x5C06;&#x2019;&#x8D44;&#x6E90;/common_entity&#x2019;&#x4E0B;&#x7684;&#x76F8;&#x5173;&#x8D44;&#x6E90;&#x5BFC;&#x5165;&#x5DE5;&#x7A0B; package com.changgou.entity; /** * &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5B9E;&#x4F53;&#x7C7B; */ public class Result&lt;T&gt; { private boolean flag;//&#x662F;&#x5426;&#x6210;&#x529F; private Integer code;//&#x8FD4;&#x56DE;&#x7801; private String message;//&#x8FD4;&#x56DE;&#x6D88;&#x606F; private T data;//&#x8FD4;&#x56DE;&#x6570;&#x636E; public Result(boolean flag, Integer code, String message, Object data) { this.flag = flag; this.code = code; this.message = message; this.data = (T)data; } public Result(boolean flag, Integer code, String message) { this.flag = flag; this.code = code; this.message = message; } public Result() { this.flag = true; this.code = StatusCode.OK; this.message = &quot;&#x6267;&#x884C;&#x6210;&#x529F;&quot;; } //getter and setter.. } &#x5EFA;&#x7ACB;&#x7C7B;&#x7528;&#x4E8E;&#x627F;&#x8F7D;&#x5206;&#x9875;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x679C; /** * &#x5206;&#x9875;&#x7ED3;&#x679C;&#x7C7B; */ public class PageResult&lt;T&gt; { private Long total;//&#x603B;&#x8BB0;&#x5F55;&#x6570; private List&lt;T&gt; rows;//&#x8BB0;&#x5F55; public PageResult(Long total, List&lt;T&gt; rows) { this.total = total; this.rows = rows; } public PageResult() { } //getter and setter ...... }&#x521B;&#x5EFA;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801;&#x5B9E;&#x4F53;&#x7C7B; /** * &#x8FD4;&#x56DE;&#x7801; */ public class StatusCode { public static final int OK=20000;//&#x6210;&#x529F; public static final int ERROR =20001;//&#x5931;&#x8D25; public static final int LOGINERROR =20002;//&#x7528;&#x6237;&#x540D;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF; public static final int ACCESSERROR =20003;//&#x6743;&#x9650;&#x4E0D;&#x8DB3; public static final int REMOTEERROR =20004;//&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x5931;&#x8D25; public static final int REPERROR =20005;//&#x91CD;&#x590D;&#x64CD;&#x4F5C; }3.5.2 &#x6570;&#x636E;&#x8BBF;&#x95EE;&#x516C;&#x5171;&#x6A21;&#x5757;&#x642D;&#x5EFA;&#x8FD9;&#x4E2A;&#x516C;&#x5171;&#x6A21;&#x5757;&#x662F;&#x8FDE;&#x63A5;mysql&#x6570;&#x636E;&#x5E93;&#x7684;&#x516C;&#x5171;&#x5FAE;&#x670D;&#x52A1;&#x6A21;&#x5757;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x8FDE;&#x63A5;mysql&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x90FD;&#x7EE7;&#x627F;&#x81EA;&#x6B64;&#x5DE5;&#x7A0B;&#x3002; &#x521B;&#x5EFA;&#x516C;&#x5171;&#x6A21;&#x5757;changgou_common_db&#xFF0C;pom&#x6587;&#x4EF6;&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;!--&#x901A;&#x7528;mapper&#x8D77;&#x6B65;&#x4F9D;&#x8D56;--&gt; &lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.0.4&lt;/version&gt; &lt;/dependency&gt; &lt;!--MySQL&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8;--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!--mybatis&#x5206;&#x9875;&#x63D2;&#x4EF6;--&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;3.6 &#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;&#x642D;&#x5EFA;3.6.1 &#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;API&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;&#xFF08;1&#xFF09;changgou_service_api &#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.persistence&lt;/groupId&gt; &lt;artifactId&gt;persistence-api&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09;changgou_service_api &#x4E0B;&#x521B;&#x5EFA;changgou_service_goods_api&#x5B50;&#x6A21;&#x5757;&#x5E76;&#x6DFB;&#x52A0;common&#x4F9D;&#x8D56; 3.6.2 &#x5FAE;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;&#xFF08;1&#xFF09;changgou_service&#x4E0B;&#x521B;&#x5EFA;changgou_service_goods&#x5B50;&#x6A21;&#x5757; &#xFF0C;pom.xml&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common_db&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_service_goods_api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09;&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;application.yml server: port: 9011 spring: application: name: goods datasource: driver-class-name: com.mysql.jdbc.Driver url: jdbc:mysql://192.168.200.128:3306/changgou_goods?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC username: root password: root eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: true feign: hystrix: enabled: true #hystrix &#x914D;&#x7F6E; hystrix: command: default: execution: timeout: #&#x5982;&#x679C;enabled&#x8BBE;&#x7F6E;&#x4E3A;false&#xFF0C;&#x5219;&#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x4EA4;&#x7ED9;ribbon&#x63A7;&#x5236; enabled: true isolation: strategy: SEMAPHORE&#xFF08;3&#xFF09;&#x521B;&#x5EFA;&#x5305;com.changgou.goods &#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B; @SpringBootApplication @EnableEurekaClient @MapperScan(basePackages = {&quot;com.changgou.goods.dao&quot;}) public class GoodsApplication { public static void main(String[] args) { SpringApplication.run(GoodsApplication.class); } }&#x6CE8;&#x610F;&#xFF1A;@MapperScan&#x662F;tk.mybatis.spring.annotation&#x5305;&#x4E0B;&#x7684;&#xFF0C;&#x7528;&#x4E8E;&#x626B;&#x63CF;Mapper&#x63A5;&#x53E3; 4. &#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;-&#x54C1;&#x724C;&#x589E;&#x5220;&#x6539;&#x67E5;4.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x521B;&#x5EFA;&#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x5B9E;&#x73B0;&#x5BF9;&#x54C1;&#x724C;&#x8868;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x529F;&#x80FD;&#x3002;&#x5177;&#x4F53;&#x5305;&#x62EC; &#xFF08;1&#xFF09;&#x67E5;&#x8BE2;&#x5168;&#x90E8;&#x5217;&#x8868;&#x6570;&#x636E; &#xFF08;2&#xFF09;&#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x5B9E;&#x4F53;&#x6570;&#x636E; &#xFF08;3&#xFF09;&#x589E;&#x52A0; &#xFF08;4&#xFF09;&#x4FEE;&#x6539; &#xFF08;5&#xFF09;&#x5220;&#x9664; &#xFF08;6&#xFF09;&#x6761;&#x4EF6;&#x67E5;&#x8BE2; &#xFF08;7&#xFF09;&#x5206;&#x9875;&#x67E5;&#x8BE2; &#xFF08;8&#xFF09;&#x5206;&#x9875;+&#x6761;&#x4EF6;&#x67E5;&#x8BE2; 4.2 &#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id &#x54C1;&#x724C;id INT name &#x54C1;&#x724C;&#x540D;&#x79F0; VARCHAR image &#x54C1;&#x724C;&#x56FE;&#x7247;&#x5730;&#x5740; VARCHAR letter &#x54C1;&#x724C;&#x7684;&#x9996;&#x5B57;&#x6BCD; CHAR seq &#x6392;&#x5E8F; INT 4.3 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;4.3.1 &#x54C1;&#x724C;&#x5217;&#x8868;&#xFF08;1&#xFF09;&#x5728;changgou_service_goods_api&#x521B;&#x5EFA;com.changgou.goods.pojo&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;Brand&#x5B9E;&#x4F53;&#x7C7B; @Table(name=&quot;tb_brand&quot;) public class Brand implements Serializable{ @Id private Integer id;//&#x54C1;&#x724C;id private String name;//&#x54C1;&#x724C;&#x540D;&#x79F0; private String image;//&#x54C1;&#x724C;&#x56FE;&#x7247;&#x5730;&#x5740; private String letter;//&#x54C1;&#x724C;&#x7684;&#x9996;&#x5B57;&#x6BCD; private Integer seq;//&#x6392;&#x5E8F; // getter and setter .....(&#x7701;&#x7565;) }@Table&#x548C;@Id&#x90FD;&#x662F;JPA&#x6CE8;&#x89E3;&#xFF0C;@Table&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x8868;&#x4E0E;&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;@Id&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x4E3B;&#x952E;&#x5C5E;&#x6027;&#x3002; &#xFF08;2&#xFF09;Dao&#x521B;&#x5EFA; &#x5728;changgou_service_goods&#x5FAE;&#x670D;&#x52A1;&#x4E0B;&#x521B;&#x5EFA;com.changgou.goods.dao.BrandMapper&#x63A5;&#x53E3;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; public interface BrandMapper extends Mapper&lt;Brand&gt; { }&#x7EE7;&#x627F;&#x4E86;Mapper&#x63A5;&#x53E3;&#xFF0C;&#x5C31;&#x81EA;&#x52A8;&#x5B9E;&#x73B0;&#x4E86;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#x3002; &#xFF08;3&#xFF09;&#x4E1A;&#x52A1;&#x5C42; &#x521B;&#x5EFA;com.changgou.goods.service.BrandService&#x63A5;&#x53E3;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; public interface BrandService { /*** * &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x54C1;&#x724C; * @return */ public List&lt;Brand&gt; findAll(); }&#x521B;&#x5EFA;com.changgou.goods.service.impl&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x670D;&#x52A1;&#x5B9E;&#x73B0;&#x7C7B; BrandServiceImpl&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Service public class BrandServiceImpl implements BrandService { @Autowired private BrandMapper brandMapper; @Override public List&lt;Brand&gt; findAll() { return brandMapper.selectAll(); } }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; &#x63A7;&#x5236;&#x5C42; com.changgou.goods&#x5305;&#x4E0B;&#x521B;&#x5EFA;controller&#x5305; &#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x7C7B; @RestController @RequestMapping(&quot;/brand&quot;) public class BrandController { @Autowired private BrandService brandService; @GetMapping public Result findAll(){ List&lt;Brand&gt; brandList = brandService.findAll(); return new Result(true, StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,brandList) ; } }4.3.2 &#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#x63A5;&#x53E3;&#xFF0C;&#x6DFB;&#x52A0;&#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x6570;&#x636E;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x6839;&#x636E;ID&#x67E5;&#x8BE2; * @param id * @return */ public Brand findById(Integer id);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x6839;&#x636E;ID&#x67E5;&#x8BE2; * @param id * @return */ @Override public Brand findById(Integer id){ return brandMapper.selectByPrimaryKey(id); }&#xFF08;3&#xFF09; &#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x6570;&#x636E; * @param id * @return */ @GetMapping(&quot;/{id}&quot;) public Result findById(@PathVariable Integer id){ Brand brand = brandService.findById(id); return new Result(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,brand); }4.3.3 &#x65B0;&#x589E;&#x54C1;&#x724C;&#xFF08;1&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#xFF0C;&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x65B0;&#x589E;&#x54C1;&#x724C; * @param brand */ public void add(Brand brand);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x65B0;&#x589E;&#x589E;&#x52A0;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x589E;&#x52A0; * @param brand */ @Override public void add(Brand brand){ brandMapper.insertSelective(brand); }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x65B0;&#x589E;&#x54C1;&#x724C;&#x6570;&#x636E; * @param brand * @return */ @PostMapping public Result add(@RequestBody Brand brand){ brandService.add(brand); return new Result(true,StatusCode.OK,&quot;&#x6DFB;&#x52A0;&#x6210;&#x529F;&quot;); }4.3.4 &#x4FEE;&#x6539;&#x54C1;&#x724C;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x9700;&#x6539;com.changgou.goods.service.BrandService,&#x6DFB;&#x52A0;&#x4FEE;&#x6539;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /*** * &#x4FEE;&#x6539;&#x54C1;&#x724C;&#x6570;&#x636E; * @param brand */ public void update(Brand brand);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x6DFB;&#x52A0;&#x4FEE;&#x6539;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x4FEE;&#x6539; * @param brand */ @Override public void update(Brand brand){ brandMapper.updateByPrimaryKeySelective(brand); }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x4FEE;&#x6539;&#x54C1;&#x724C;&#x6570;&#x636E; * @param brand * @param id * @return */ @PutMapping(value=&quot;/{id}&quot;) public Result update(@RequestBody Brand brand,@PathVariable Integer id){ brand.setId(id); brandService.update(brand); return new Result(true,StatusCode.OK,&quot;&#x4FEE;&#x6539;&#x6210;&#x529F;&quot;); }4.3.5 &#x5220;&#x9664;&#x54C1;&#x724C;&#xFF08;1&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#xFF0C;&#x6DFB;&#x52A0;&#x5220;&#x9664;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /*** * &#x5220;&#x9664;&#x54C1;&#x724C; * @param id */ public void delete(Integer id);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x65B0;&#x589E;&#x5220;&#x9664;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x5220;&#x9664; * @param id */ @Override public void delete(Integer id){ brandMapper.deleteByPrimaryKey(id); }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x6839;&#x636E;ID&#x5220;&#x9664;&#x54C1;&#x724C;&#x6570;&#x636E; * @param id * @return */ @DeleteMapping(value = &quot;/{id}&quot; ) public Result delete(@PathVariable Integer id){ brandService.delete(id); return new Result(true,StatusCode.OK,&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;); }4.3.6 &#x54C1;&#x724C;&#x5217;&#x8868;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#xFF0C;&#x589E;&#x52A0;&#x6839;&#x636E;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /*** * &#x591A;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x54C1;&#x724C;&#x65B9;&#x6CD5; * @param searchMap * @return */ public List&lt;Brand&gt; findList(Map&lt;String, Object&gt; searchMap);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x6DFB;&#x52A0;&#x6839;&#x636E;&#x591A;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x6761;&#x4EF6;&#x67E5;&#x8BE2; * @param searchMap * @return */ @Override public List&lt;Brand&gt; findList(Map&lt;String, Object&gt; searchMap){ Example example=new Example(Brand.class); Example.Criteria criteria = example.createCriteria(); if(searchMap!=null){ // &#x54C1;&#x724C;&#x540D;&#x79F0; if(searchMap.get(&quot;name&quot;)!=null &amp;&amp; !&quot;&quot;.equals(searchMap.get(&quot;name&quot;))){ criteria.andLike(&quot;name&quot;,&quot;%&quot;+searchMap.get(&quot;name&quot;)+&quot;%&quot;); } // &#x54C1;&#x724C;&#x7684;&#x9996;&#x5B57;&#x6BCD; if(searchMap.get(&quot;letter&quot;)!=null &amp;&amp; !&quot;&quot;.equals(searchMap.get(&quot;letter&quot;))){ criteria.andEqualTo(&quot;letter&quot;,searchMap.get(&quot;letter&quot;)); } } return brandMapper.selectByExample(example); }&#xFF08;3&#xFF09; &#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x591A;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x54C1;&#x724C;&#x6570;&#x636E; * @param searchMap * @return */ @GetMapping(value = &quot;/search&quot; ) public Result findList(@RequestParam Map searchMap){ List&lt;Brand&gt; list = brandService.findList(searchMap); return new Result(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,list); }4.3.7 &#x54C1;&#x724C;&#x5217;&#x8868;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#x6DFB;&#x52A0;&#x5206;&#x9875;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /*** * &#x5206;&#x9875;&#x67E5;&#x8BE2; * @param page * @param size * @return */ public Page&lt;Brand&gt; findPage(int page, int size);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#x6DFB;&#x52A0;&#x5206;&#x9875;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x5206;&#x9875;&#x67E5;&#x8BE2; * @param page * @param size * @return */ @Override public Page&lt;Brand&gt; findPage(int page, int size){ PageHelper.startPage(page,size); return (Page&lt;Brand&gt;)brandMapper.selectAll(); }&#xFF08;3&#xFF09; &#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x5206;&#x9875;&#x641C;&#x7D22;&#x5B9E;&#x73B0; * @param page * @param size * @return */ @GetMapping(value = &quot;/search/{page}/{size}&quot; ) public Result findPage(@PathVariable int page, @PathVariable int size){ Page&lt;Brand&gt; pageList = brandService.findPage(page, size); PageResult pageResult=new PageResult(pageList.getTotal(),pageList.getResult()); return new Result(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,pageResult); }4.3.8 &#x54C1;&#x724C;&#x5217;&#x8868;&#x6761;&#x4EF6;+&#x5206;&#x9875;&#x67E5;&#x8BE2;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#xFF0C;&#x589E;&#x52A0;&#x591A;&#x6761;&#x4EF6;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /*** * &#x591A;&#x6761;&#x4EF6;&#x5206;&#x9875;&#x67E5;&#x8BE2; * @param searchMap * @param page * @param size * @return */ Page&lt;Brand&gt; findPage(Map&lt;String, Object&gt; searchMap, int page, int size);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x6DFB;&#x52A0;&#x591A;&#x6761;&#x4EF6;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x6761;&#x4EF6;+&#x5206;&#x9875;&#x67E5;&#x8BE2; * @param searchMap &#x67E5;&#x8BE2;&#x6761;&#x4EF6; * @param page &#x9875;&#x7801; * @param size &#x9875;&#x5927;&#x5C0F; * @return &#x5206;&#x9875;&#x7ED3;&#x679C; */ @Override public Page&lt;Brand&gt; findPage(Map&lt;String,Object&gt; searchMap, int page, int size){ PageHelper.startPage(page,size); Example example=new Example(Brand.class); Example.Criteria criteria = example.createCriteria(); if(searchMap!=null){ // &#x54C1;&#x724C;&#x540D;&#x79F0; if(searchMap.get(&quot;name&quot;)!=null &amp;&amp; !&quot;&quot;.equals(searchMap.get(&quot;name&quot;))){ criteria.andLike(&quot;name&quot;,&quot;%&quot;+searchMap.get(&quot;name&quot;)+&quot;%&quot;); } // &#x54C1;&#x724C;&#x7684;&#x9996;&#x5B57;&#x6BCD; if(searchMap.get(&quot;letter&quot;)!=null &amp;&amp; !&quot;&quot;.equals(searchMap.get(&quot;letter&quot;))){ criteria.andEqualTo(&quot;letter&quot;,searchMap.get(&quot;letter&quot;)); } } return (Page&lt;Brand&gt;)brandMapper.selectByExample(example); }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x5206;&#x9875;&#x641C;&#x7D22;&#x5B9E;&#x73B0; * @param searchMap * @param page * @param size * @return */ @GetMapping(value = &quot;/search/{page}/{size}&quot; ) public Result findPage(@RequestParam Map searchMap, @PathVariable int page, @PathVariable int size){ Page&lt;Brand&gt; pageList = brandService.findPage(searchMap, page, size); PageResult pageResult=new PageResult(pageList.getTotal(),pageList.getResult()); return new Result(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,pageResult); }5 &#x516C;&#x5171;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x4E3A;&#x4E86;&#x4F7F;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x66F4;&#x5BB9;&#x6613;&#x7EF4;&#x62A4;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B;&#x96C6;&#x4E2D;&#x5904;&#x7406;&#x5F02;&#x5E38; &#x5728;com.changgou.goods.handler&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x516C;&#x5171;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7C7B;BaseExceptionHandler /** * &#x7EDF;&#x4E00;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7C7B; */ @ControllerAdvice public class BaseExceptionHandler { @ExceptionHandler(value = Exception.class) @ResponseBody public Result error( Exception e) { e.printStackTrace(); return new Result(false, StatusCode.ERROR, e.getMessage()); } } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxing-dian-jiao-yu-mo-ban.html</url>
    <content type="text"><![CDATA[2.&#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x6211;&#x4EEC;&#x7684;&#x8BBA;&#x575B;&#x6A21;&#x677F; (&#x661F;&#x70B9;&#x4E92;&#x8054;&#x6A21;&#x677F;) &#x9996;&#x5148;&#x53F3;&#x952E;&#x68C0;&#x67E5;&#x6E90;&#x4EE3;&#x7801;&#x770B;&#x770B;&#x7F51;&#x7AD9;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;charset=utf-8 &#x627E;&#x5230;&#x6A21;&#x677F;&#x7684;&#x5BF9;&#x5E94;&#x7F16;&#x7801;&#x5305; &#x5C06;&#x6A21;&#x677F;&#x5305;template&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x6254;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7684;/data/wwwroot/default/discuz/template&#x76EE;&#x5F55;&#x4E0B; &#x200B; /www/wwwroot/www.yiqifeiyang.com/template &#x8FDB;&#x5165;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x754C;&#x9762;http://www.yiqifeiyang.com/admin.php &#x627E;&#x5230;&#x672C;&#x6B21;&#x5546;&#x4E1A;&#x7248;&#x70B9;&#x51FB;&#x5B89;&#x88C5;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x4E3A;&#x9ED8;&#x8BA4;&#x6A21;&#x677F;&#xFF0C;&#x63D0;&#x4EA4;&#x4FDD;&#x5B58;&#xFF0C;&#x7136;&#x540E;&#x66F4;&#x65B0;css&#x7F13;&#x5B58;&#x3002; &#x53BB;&#x5DE5;&#x5177;&#x680F;&#x76EE;&#x4E0B;&#x66F4;&#x65B0;&#x4E00;&#x4E0B;&#x7F13;&#x5B58;&#x3002;&#x6B64;&#x65F6;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x597D;&#x6A21;&#x677F;&#x3002; &#x8FDB;&#x5165;&#x5168;&#x5C40;&#xFF0C;&#x7AD9;&#x70B9;&#x529F;&#x80FD;&#x300B;&#x5F00;&#x542F;&#x4E0B;&#x9700;&#x8981;&#x7684;&#x529F;&#x80FD;&#x3002;&#x5EFA;&#x8BAE;&#x5168;&#x90E8;&#x5F00;&#x542F;&#x3002; &#x5176;&#x4E2D;&#x95E8;&#x6237;&#x529F;&#x80FD;&#x5EFA;&#x8BAE;&#x653E;&#x5230;&#x4E3B;&#x5BFC;&#x822A;&#x4E0A;&#x9762;&#xFF0C;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#x4E0D;&#x5EFA;&#x8BAE;&#x653E;&#x5728;&#x4E3B;&#x5BFC;&#x822A;&#x4E0A; &#x540E;&#x53F0;&#x754C;&#x9762;&#x8BBE;&#x7F6E;&#x65B9;&#x6CD5;&#xFF1A;&#x8BBA;&#x575B;&#x9996;&#x9875;&#x5F00;&#x542F;&#x8FB9;&#x680F;&#x529F;&#x80FD;&#xFF1B;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x5E16;&#x5B50;&#x5217;&#x8868;&#x9875;&#x56FE;&#x7247;&#x6A21;&#x5F0F;&#x56FE;&#x7247;&#x5C3A;&#x5BF8;&#x5982;&#x4E0B;&#x56FE;&#xFF1B;&#xFF08;&#x8BBE;&#x7F6E;&#x4E3A;&#x5BBD;&#x9AD8;&#x56FA;&#x5B9A;&#x4E3A;&#x7684;&#x662F;&#x754C;&#x9762;&#x6574;&#x9F50;&#x5212;&#x4E00;&#xFF0C;&#x5F53;&#x7136;&#x60A8;&#x53EF;&#x4EE5;&#x4EFB;&#x610F;&#x8BBE;&#x7F6E;&#x60A8;&#x559C;&#x6B22;&#x7684;&#x5BBD;&#x9AD8;&#x6570;&#x5B57;&#xFF1B;&#xFF09; &#x5E16;&#x5B50;&#x5185;&#x5BB9;&#x9875;&#x8BBE;&#x7F6E;&#x5DE6;&#x4FA7;&#x7528;&#x6237;&#x680F;&#x4E3A;&#x5173;&#x95ED; &#x8BBA;&#x575B;&#x7248;&#x5757;&#x529F;&#x80FD;&#x5F00;&#x542F;&#x4EE5;&#x53CA;&#x8BBE;&#x7F6E;&#x65B9;&#x6CD5; &#x5F00;&#x542F;&#x8BBA;&#x575B;&#x56FE;&#x7247;&#x5217;&#x8868;&#x529F;&#x80FD;&#xFF0C;&#x5F00;&#x542F;&#x65B9;&#x6CD5;&#xFF1A;&#x9009;&#x62E9;&#x540E;&#x53F0;&#x8BBA;&#x575B;&#x680F;&#x76EE;&#xFF0C;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x7248;&#x5757;&#xFF0C;&#x540D;&#x79F0;&#x53EF;&#x4EFB;&#x610F;&#x547D;&#x540D;&#xFF0C;&#x70B9;&#x51FB;&#x8FD9;&#x4E2A;&#x7248;&#x5757;&#x540E;&#x9762;&#x7684;&#x7F16;&#x8F91;&#x529F;&#x80FD;&#x8FDB;&#x5165;&#x7F16;&#x8F91;&#x9875;&#x9762;&#xFF0C;&#x201C;&#x57FA;&#x672C;&#x8BBE;&#x7F6E;&#x201D;&#x5C06;&#x201C;&#x5728;&#x5BFC;&#x822A;&#x4E0A;&#x663E;&#x793A;&#x201D;&#x9009;&#x62E9;&#x662F;&#x3002;&#x5E76;&#x4FDD;&#x5B58;&#x3002;&#x7136;&#x540E;&#x8FDB;&#x5165;&#x540C;&#x4E00;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x201C;&#x62D3;&#x5C55;&#x8BBE;&#x7F6E;&#x201D;&#xFF0C;&#x201C;&#x5F00;&#x542F;&#x56FE;&#x7247;&#x5217;&#x8868;&#x6A21;&#x5F0F;:&#x201D;&#x9009;&#x62E9;&#x201C;&#x662F;&#x201D;&#x5E76;&#x4FDD;&#x5B58;&#x3002; &#x6D3B;&#x52A8;&#x5E16;&#x5B50;&#x529F;&#x80FD;&#x5F00;&#x542F;&#x65B9;&#x5F0F;&#xFF1A;&#x4EFB;&#x610F;&#x8BBA;&#x575B;&#x5B50;&#x7248;&#x5757; &#x8BBA;&#x575B;&#x5217;&#x8868;&#x9875;&#x5F00;&#x542F;&#x4E00;&#x4E0B;&#x53F3;&#x8FB9;&#x680F;&#x529F;&#x80FD;&#xFF0C;&#x5177;&#x4F53;&#x65B9;&#x6CD5;&#x5982;&#x4E0B; &#x5E16;&#x5B50;&#x5185;&#x5BB9;&#x9875;&#x9700;&#x8981;&#x5173;&#x95ED;&#x5DE6;&#x4FA7;&#x4FE1;&#x606F;&#x680F;&#x540E;&#x518D;&#x5BFC;&#x5165;diy&#x6587;&#x4EF6;&#xFF0C;&#x5012;&#x5165;&#x540E;&#x540C;&#x6837;&#x53EF;&#x4EE5;&#x51B3;&#x5B9A;&#x5173;&#x95ED;&#x6216;&#x8005;&#x5F00;&#x542F;&#x3002;&#x53E6;&#x5916;&#x8BBA;&#x575B;&#x9996;&#x9875;&#x9700;&#x8981;&#x5F00;&#x542F;&#x53F3;&#x8FB9;&#x680F;&#x518D;&#x5BFC;&#x5165;diy&#x6587;&#x4EF6; &#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x529F;&#x80FD; &#x5BFC;&#x5165;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x6587;&#x4EF6;&#x3002;&#x7136;&#x540E;&#x7ED1;&#x5B9A;&#x5230;&#x8BBA;&#x575B;&#x7248;&#x5757;&#x4F7F;&#x7528;&#x5373;&#x53EF;&#x3002; &#x6DFB;&#x52A0;&#x9891;&#x9053;&#x9875;&#x65B9;&#x6CD5;&#xFF1A;&#x540E;&#x53F0;&#x95E8;&#x6237;&#x680F;&#x76EE; &#x6848;&#x4F8B;&#x9891;&#x9053;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x3002;&#x4E0B;&#x7EA7;&#x5206;&#x7C7B;&#x5B50;&#x7248;&#x5757;&#x6BCF;&#x6B21;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5C31;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x4E00;&#x6B21;&#x3002; &#x8D44;&#x8BAF;&#x9891;&#x9053;&#x6A21;&#x677F;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1B;&#x4E0B;&#x7EA7;&#x5206;&#x7C7B;&#x5B50;&#x7248;&#x5757;&#x6BCF;&#x6B21;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x5C31;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x4E00;&#x6B21;&#x3002; &#x5173;&#x4E8E;&#x6211;&#x4EEC;&#x9891;&#x9053;&#x9875;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1B;&#x5185;&#x5BB9;&#x9875;&#x4E0D;&#x9700;&#x8BBE;&#x7F6E;&#x3002; VIP&#x9875;&#x9762;&#xFF1A; &#x4E0B;&#x9762;&#x662F;diy&#x64CD;&#x4F5C;&#x65B9;&#x5F0F;&#x65B9;&#x6CD5;&#xFF1A; &#x8FDB;&#x5165;&#x524D;&#x53F0;&#x9875;&#x9762;&#xFF0C;&#x5206;&#x522B;&#x8FDB;&#x884C;DIY&#x6570;&#x636E;&#x5BFC;&#x5165;&#x64CD;&#x4F5C;&#xFF08;\***&#x5373;&#x95E8;&#x6237;.xml&#x6587;&#x4EF6;&#x5C31;&#x5BFC;&#x5165;&#x5230;&#x95E8;&#x6237;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x8BBA;&#x575B;&#x9996;&#x9875;.xml&#x6587;&#x4EF6;&#x5BFC;&#x5165;&#x5230;&#x8BBA;&#x575B;&#x9996;&#x9875;&#x4E2D;&#x3002;&#x5EFA;&#x8BAE;&#x5927;&#x5BB6;&#x5148;&#x53D1;&#x5E03;&#x8BBA;&#x575B;&#x548C;&#x6587;&#x7AE0;&#x6570;&#x636E;&#xFF0C;&#x8BA9;&#x5BFC;&#x5165;DIY&#x5305;&#x6709;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x8BFB;&#x53D6;,&#x5982;&#x679C;&#x60A8;&#x7684;&#x7F51;&#x7AD9;&#x6CA1;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x90A3;&#x4E48;&#x5BFC;&#x5165;diy&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x9875;&#x9762;&#x540C;&#x6837;&#x4E5F;&#x662F;&#x7A7A;&#x767D;&#x4E00;&#x7247;&#x3002;&#x9700;&#x8981;&#x8BF4;&#x660E;&#x7684;&#x662F;&#xFF0C;&#x95E8;&#x6237;&#x7B49;&#x9891;&#x9053;&#x9875;&#x5982;&#x679C;&#x5728;&#x6709;&#x6570;&#x636E;&#x5374;&#x65E0;&#x6CD5;&#x8BFB;&#x53D6;&#x51FA;&#x6765;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x5E16;&#x5B50;&#x6216;&#x8005;&#x6587;&#x7AE0;&#x6CA1;&#x6709;&#x63D2;&#x5165;&#x56FE;&#x7247;&#x9020;&#x6210;&#x7684;&#xFF08;&#x6216;&#x8005;&#x6587;&#x7AE0;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x5C01;&#x9762;&#xFF09;&#xFF0C;&#x6CE8;&#x610F;&#x662F;&#x63D2;&#x5165;&#x56FE;&#x7247;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x590D;&#x5236;&#x9ECF;&#x8D34;&#x56FE;&#x7247;&#x3002;***\&#xFF09;**&#x3002;&#x6B63;&#x786E;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5E16;&#x5B50;: &#x200B; &#x6587;&#x7AE0;&#xFF1A; &#x6CE8;&#x610F;&#xFF1A;&#x5728;&#x4FEE;&#x6539;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x5148;&#x628A;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x6587;&#x4EF6;&#x505A;&#x597D;&#x5907;&#x4EFD;&#xFF0C;&#x4EE5;&#x9632;&#x4E0D;&#x6D4B;&#x3002; &#x8BBA;&#x575B;&#x53F3;&#x8FB9;&#x680F;&#x5F00;&#x542F;&#x4EE5;&#x53CA;&#x5173;&#x95ED;&#x64CD;&#x4F5C;&#x8BF4;&#x660E;&#xFF1A;&#x540E;&#x53F0;&#x8BBA;&#x575B;&#x680F;&#x76EE;-&#x8BBA;&#x575B;&#x5404;&#x4E2A;&#x677F;&#x5757;&#x540E;&#x9762;&#x7684;&#x7F16;&#x8F91;&#x6309;&#x94AE;&#x8FDB;&#x5165;&#x8BBE;&#x7F6E;&#x9875;&#x9762;&#xFF0C;&#x4E0A;&#x65B9;&#x7684;&#x62D3;&#x5C55;&#x8BBE;&#x7F6E;&#x91CC;&#x9762;&#xFF0C;&#x6839;&#x636E;&#x60C5;&#x51B5;&#x9009;&#x62E9;&#x662F;&#x6216;&#x8005;&#x5426;&#x3002; &#x5934;&#x90E8;&#x4FEE;&#x6539;&#xFF1A;&#x5728;common&#x6587;&#x4EF6;&#x5939;&#x91CC;&#x9762;&#x7684;header&#x91CC;&#x4FEE;&#x6539;&#x3002; &#x5E95;&#x90E8;&#x6587;&#x5B57;&#x4FEE;&#x6539;&#xFF1A;&#x5728;common&#x6587;&#x4EF6;&#x5939;&#x91CC;&#x9762;&#x7684;footer&#x91CC;&#x4FEE;&#x6539;&#x3002; &#x516C;&#x5171;&#x6837;&#x5F0F;&#x4FEE;&#x6539;&#xFF08;&#x5934;&#x90E8;&#x548C;&#x5E95;&#x90E8;&#x6837;&#x5F0F;&#xFF09;&#xFF1A;&#x5728;common&#x6587;&#x4EF6;&#x5939;&#x91CC;&#x9762;&#x7684;Extend_common&#x91CC;&#x4FEE;&#x6539;&#x3002; &#x5176;&#x4ED6;&#x9875;&#x9762;&#x7684;&#x6837;&#x5F0F;&#xFF08;&#x9996;&#x9875;&#x3001;&#x8BBA;&#x575B;&#x90E8;&#x5206;&#x3001;&#x9891;&#x9053;&#x90E8;&#x5206;&#x6837;&#x5F0F;&#xFF09;&#x4FEE;&#x6539;&#x5728;common&#x6587;&#x4EF6;&#x5939;&#x91CC;&#x9762;&#x7684;Extend_module&#x91CC;&#x3002; &#x4EE5;&#x4E0A;&#x6587;&#x4EF6;&#x8BF7;&#x5230;&#x60A8;&#x7684;ftp&#x4E2D;template&#x6587;&#x4EF6;&#x5939;&#x91CC;&#x627E;&#x5230;nex&#x5F00;&#x5934;&#x7684;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x628A;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x5730;&#x4FEE;&#x6539;&#x540E;&#x518D;&#x4E0A;&#x4F20;&#x56DE;&#x53BB;&#x8986;&#x76D6;&#x539F;&#x6587;&#x4EF6;&#xFF0C;&#x540E;&#x53F0;&#x5DE5;&#x5177;&#x66F4;&#x65B0;&#x7F13;&#x5B58;&#x5373;&#x53EF; &#x7F51;&#x7AD9;&#x524D;&#x53F0;&#x8F6E;&#x64AD;&#x56FE;&#x4E0B;&#x65B9;&lt;li> &lt;i class="nex_tro1">&lt;/i> &lt;p>&amp;#x65E0;&amp;#x9700;&amp;#x57FA;&amp;#x7840;&lt;br>&amp;#x8F7B;&amp;#x677E;&amp;#x5165;&amp;#x5B66;&lt;/p>&lt;div class="clear">&lt;/div> &lt;/li> &lt;li> &lt;i class="nex_tro2">&lt;/i> &lt;p>&amp;#x5B66;&amp;#x6709;&amp;#x6240;&amp;#x6210;&lt;br>&amp;#x6C38;&amp;#x4E45;&amp;#x4FDD;&amp;#x969C;&lt;/p>&lt;div class="clear">&lt;/div> &lt;/li> &lt;li> &lt;i class="nex_tro3">&lt;/i> &lt;p>&amp;#x5B66;&amp;#x8D39;&amp;#x8D85;&amp;#x503C;&lt;br>&amp;#x65E0;&amp;#x606F;&amp;#x5206;&amp;#x671F;&lt;/p>&lt;div class="clear">&lt;/div> &lt;/li> &lt;li> &lt;i class="nex_tro4">&lt;/i> &lt;p>&amp;#x5341;&amp;#x5E74;&amp;#x7ECF;&amp;#x9A8C;&lt;br>&amp;#x7CFB;&amp;#x7EDF;&amp;#x6559;&amp;#x5B66;&lt;/p>&lt;div class="clear">&lt;/div> &lt;/li> &lt;li> &lt;i class="nex_tro5">&lt;/i> &lt;p>&amp;#x884C;&amp;#x4E1A;&amp;#x4E13;&amp;#x5BB6;&lt;br>&amp;#x7CBE;&amp;#x54C1;&amp;#x5C0F;&amp;#x73ED;&lt;/p>&lt;div class="clear">&lt;/div> &lt;/li> &lt;li> &lt;i class="nex_tro6">&lt;/i> &lt;p>&amp;#x9AD8;&amp;#x6548;&amp;#x5B66;&amp;#x4E60;&lt;br>&amp;#x8D34;&amp;#x5FC3;&amp;#x670D;&amp;#x52A1;&lt;/p>&lt;div class="clear">&lt;/div> &lt;/li> &#x8BA1;&#x7B97;&#x673A;&#x5B66;&#x4E60;&#x9996;&#x9009;&#x6613;&#x8D77;&#x98DE;&#x626C; course1 &#x70ED;&#x95E8; &#x6613;&#x8BED;&#x8A00; &#x4E2D;&#x56FD;&#x4EBA;&#x81EA;&#x5DF1;&#x7684;&#x8BED;&#x8A00; &#x6613;&#x8BED;&#x8A00;&#x57FA;&#x7840;&#x5165;&#x95E8; &#x5176;&#x975E;&#x5E38;&#x63A5;&#x8FD1;&#x81EA;&#x7136;&#x8BED;&#x8A00;&#xFF0C;&#x7CBE;&#x7B80;&#x4E86;&#x5F88;&#x591A;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x5206;&#x53F7;&#x548C;&#x62EC;&#x53F7;&#xFF0C;&#x975E;&#x5E38;&#x5BB9;&#x6613;&#x9605;&#x8BFB;&#x7406;&#x89E3;&#x3002;&#x7F16;&#x7A0B;&#x7B80;&#x5355;&#x76F4;&#x63A5;&#xFF0C;&#x66F4;&#x9002;&#x5408;&#x521D;&#x5B66;&#x7F16;&#x7A0B;&#x8005;&#xFF0C;&#x8BA9;&#x5176;&#x4E13;&#x6CE8;&#x4E8E;&#x7F16;&#x7A0B;&#x903B;&#x8F91;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x56F0;&#x60D1;&#x4E8E;&#x6666;&#x6DA9;&#x7684;&#x8BED;&#x6CD5;&#x7EC6;&#x8282;&#x4E0A;&#xFF0C;&#x6BD4;&#x8D77;JAVA&#x3001;C#&#x548C;C/C++&#x8FD9;&#x4E9B;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x76F8;&#x5BF9;&#x5BB9;&#x6613;&#x5F88;&#x591A;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5373;&#x4F7F;&#x662F;&#x975E;&#x8BA1;&#x7B97;&#x673A;&#x4E13;&#x4E1A;&#x6216;&#x8005;&#x6CA1;&#x6709;&#x57FA;&#x7840;&#x7684;&#x5C0F;&#x767D;&#xFF0C;&#x4E5F;&#x80FD;&#x5206;&#x5206;&#x949F;&#x5165;&#x95E8;&#x3002; &#x96BE;&#x5EA6;&#x2605; 3669&#x4EBA;&#x5728;&#x5B66; course2 &lt;div class="nexcoursetop"> &lt;a href="http://www.yixuebc.com/forum.php?mod=viewthread&amp;tid=21" target="_blank"> &lt;div class="nexcoursepiv">&lt;img src="./template/zvis_edu_180113/neoconex/index/course2.jpg">&lt;/div> &lt;div class="nexcourseiners"> &lt;div class="nexcourse_name"> &lt;em>&amp;#x70ED;&lt;br>&amp;#x95E8;&lt;/em> &lt;span style="letter-spacing:4px;font-size:28px;">POST&amp;JS&lt;/span> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexcoursetitles">POST&amp;JS&amp;#x52A0;&amp;#x89E3;&amp;#x5BC6;&lt;/div> &lt;/div> &lt;/a> &lt;/div> &lt;div class="nexcousebtm"> &lt;h5>&lt;a href="#" target="_blank">POST&amp;#x548C;JS&amp;#x52A0;&amp;#x89E3;&amp;#x5BC6;&lt;/a>&lt;/h5> &lt;div class="nexcourseinterso">&amp;#x6211;&amp;#x4EEC;&amp;#x5E38;&amp;#x5E38;&amp;#x8BA4;&amp;#x4E3A;POST&amp;#x5C31;&amp;#x662F;&amp;#x6293;&amp;#x5305;&amp;#xFF0C;JS&amp;#x5C31;&amp;#x662F;&amp;#x811A;&amp;#x672C;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;POST&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;HTTP&amp;#x534F;&amp;#x8BAE;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x91CD;&amp;#x8981;&amp;#x7EC4;&amp;#x6210;&amp;#x90E8;&amp;#x5206;&amp;#x3002;&amp;#x5728;&amp;#x7F16;&amp;#x7A0B;&amp;#x4EBA;&amp;#x5458;&amp;#x773C;&amp;#x4E2D;&amp;#xFF0C;POST&amp;#x65B9;&amp;#x6CD5;&amp;#x4E00;&amp;#x822C;&amp;#x7528;&amp;#x6765;&amp;#x5411;&amp;#x76EE;&amp;#x7684;&amp;#x670D;&amp;#x52A1;&amp;#x5668;&amp;#x53D1;&amp;#x51FA;&amp;#x66F4;&amp;#x65B0;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x5E76;&amp;#x9644;&amp;#x6709;&amp;#x8BF7;&amp;#x6C42;&amp;#x5B9E;&amp;#x4F53;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x6293;&amp;#x5305;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#xFF0C;&amp;#x9047;&amp;#x5230;&amp;#x7684;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x6570;&amp;#x636E;&amp;#x90FD;&amp;#x662F;POST&amp;#x5F62;&amp;#x5F0F;&amp;#x53D1;&amp;#x9001;&amp;#xFF0C;&amp;#x6709;&amp;#x7528;&amp;#x7684;&amp;#x5305;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x662F;POST&amp;#x5305;&amp;#xFF0C;&amp;#x4E45;&amp;#x800C;&amp;#x4E45;&amp;#x4E4B;&amp;#xFF0C;&amp;#x5927;&amp;#x5BB6;&amp;#x90FD;&amp;#x76F4;&amp;#x63A5;&amp;#x5C06;POST&amp;#x7406;&amp;#x89E3;&amp;#x4E3A;&amp;#x6293;&amp;#x5305;&amp;#x3002;&lt;/div> &lt;div class="nexcourseghtns"> &lt;div class="nexcourselps">&amp;#x96BE;&amp;#x5EA6;&lt;em>&amp;#x2605;&amp;#x2605;&amp;#x2605;&lt;/div> &lt;div class="nexcourserps">&lt;em>878&lt;/em>&amp;#x4EBA;&amp;#x5728;&amp;#x5B66;&lt;/div> &lt;div class="clear">&lt;/div> &lt;/div> &lt;/div> course3 &lt;div class="nexcoursetop"> &lt;a href="http://www.yixuebc.com/forum.php?mod=viewthread&amp;tid=8" target="_blank"> &lt;div class="nexcoursepiv">&lt;img src="./template/zvis_edu_180113/neoconex/index/course3.jpg">&lt;/div> &lt;div class="nexcourseiners"> &lt;div class="nexcourse_name"> &lt;em>&amp;#x70ED;&lt;br>&amp;#x95E8;&lt;/em> &lt;span style="letter-spacing:2px;font-size:32px;">&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&lt;/span> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexcoursetitles">&amp;#x4F60;&amp;#x7ECF;&amp;#x5E38;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x5374;&amp;#x5404;&amp;#x79CD;&amp;#x96BE;&amp;#x53D7;&lt;/div> &lt;/div> &lt;/a> &lt;/div> &lt;div class="nexcousebtm"> &lt;h5>&lt;a href="#" target="_blank">&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x539F;&amp;#x7406;&amp;#x5256;&amp;#x6790;&lt;/a>&lt;/h5> &lt;div class="nexcourseinterso">&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;(&amp;#x82F1;&amp;#x6587;&amp;#x540D;&amp;#x79F0;&amp;#xFF1A;multithreading)&amp;#x662F;&amp;#x6307;&amp;#x4ECE;&amp;#x8F6F;&amp;#x4EF6;&amp;#x6216;&amp;#x8005;&amp;#x786C;&amp;#x4EF6;&amp;#x4E0A;&amp;#x5B9E;&amp;#x73B0;&amp;#x591A;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x5E76;&amp;#x53D1;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x6280;&amp;#x672F;&amp;#x3002;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x540C;&amp;#x65F6;&amp;#x5F00;&amp;#x591A;&amp;#x4E2A;&amp;#x4E1C;&amp;#x897F;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4E1C;&amp;#x897F;&amp;#x6211;&amp;#x4EEC;&amp;#x79F0;&amp;#x4E4B;&amp;#x4E3A;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5982;&amp;#x4F55;&amp;#x5904;&amp;#x7406;&amp;#x597D;&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#xFF0C;&amp;#x662F;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5458;&amp;#x5FC5;&amp;#x5907;&amp;#x7684;&amp;#x6280;&amp;#x80FD;&amp;#x3002;&amp;#x672C;&amp;#x6559;&amp;#x7A0B;&amp;#x5C06;&amp;#x5E26;&amp;#x4F60;&amp;#x8FDB;&amp;#x5165;&amp;#x591A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7684;&amp;#x65F6;&amp;#x95F4;&amp;#xFF01;&lt;/div> &lt;div class="nexcourseghtns"> &lt;div class="nexcourselps">&amp;#x96BE;&amp;#x5EA6;&lt;em>&amp;#x2605;&amp;#x2605;&amp;#x2606;&lt;/em>&lt;/div> &lt;div class="nexcourserps">&lt;em>766&lt;/em>&amp;#x4EBA;&amp;#x5728;&amp;#x5B66;&lt;/div> &lt;div class="clear">&lt;/div> &lt;/div> &lt;/div> course4 &lt;div class="nexcoursetop"> &lt;a href="http://www.yixuebc.com/forum.php?mod=viewthread&amp;tid=12" target="_blank"> &lt;div class="nexcoursepiv">&lt;img src="./template/zvis_edu_180113/neoconex/index/course4.jpg">&lt;/div> &lt;div class="nexcourseiners"> &lt;div class="nexcourse_name"> &lt;em>&amp;#x7ECF;&lt;br>&amp;#x5178;&lt;/em> &lt;span style="letter-spacing:2px;font-size:28px;">win32 API&lt;/span> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexcoursetitles">&amp;#x4F7F;&amp;#x7528;win&amp;#x7CFB;&amp;#x7EDF;API&amp;#x5FC5;&amp;#x5B66;&amp;#x4E4B;&lt;/div> &lt;/div> &lt;/a> &lt;/div> &lt;div class="nexcousebtm"> &lt;h5>&lt;a href="#" target="_blank">&amp;#x7F16;&amp;#x7A0B;&amp;#x4EBA;&amp;#x5458;&amp;#x5FC5;&amp;#x5907;&amp;#x8BFE;&amp;#x7A0B;&lt;/a>&lt;/h5> &lt;div class="nexcourseinterso">win32 API&amp;#xFF0C;&amp;#x770B;&amp;#x4F3C;&amp;#x5F88;&amp;#x6DF1;&amp;#x5965;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#xFF01;&amp;#x5176;&amp;#x5B9E;&amp;#x5B83;&amp;#x662F;Microsoft 32&amp;#x4F4D;&amp;#x5E73;&amp;#x53F0;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x7F16;&amp;#x7A0B;&amp;#x63A5;&amp;#x53E3;&amp;#x3002;&amp;#x6240;&amp;#x6709;&amp;#x5728;Win32&amp;#x5E73;&amp;#x53F0;&amp;#x4E0A;&amp;#x8FD0;&amp;#x884C;&amp;#x7684;&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x8C03;&amp;#x7528;&amp;#x8FD9;&amp;#x4E9B;&amp;#x51FD;&amp;#x6570;&amp;#x3002;&lt;/div> &lt;div class="nexcourseghtns"> &lt;div class="nexcourselps">&amp;#x96BE;&amp;#x5EA6;&lt;em>&amp;#x2605;&amp;#x2605;&lt;/em>&lt;/div> &lt;div class="nexcourserps">&lt;em>578&lt;/em>&amp;#x4EBA;&amp;#x5728;&amp;#x5B66;&lt;/div> &lt;div class="clear">&lt;/div> &lt;/div> &lt;/div> course5 &lt;div class="nexcoursetop"> &lt;a href="http://www.yixuebc.com/forum.php?mod=viewthread&amp;tid=17" target="_blank"> &lt;div class="nexcoursepiv">&lt;img src="./template/zvis_edu_180113/neoconex/index/course5.jpg">&lt;/div> &lt;div class="nexcourseiners"> &lt;div class="nexcourse_name"> &lt;em>&amp;#x706B;&lt;br>&amp;#x7206;&lt;/em> &lt;span style="letter-spacing:2px;font-size:28px;">&amp;#x9A71;&amp;#x52A8;+&amp;#x5185;&amp;#x6838;&lt;/span> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexcoursetitles">&amp;#x8FD9;&amp;#x662F;&amp;#x5927;&amp;#x795E;&amp;#x7684;&amp;#x4E16;&amp;#x754C;&amp;#xFF01;&lt;/div> &lt;/div> &lt;/a> &lt;/div> &lt;div class="nexcousebtm"> &lt;h5>&lt;a href="#" target="_blank">&amp;#x8FC7;&amp;#x4FDD;&amp;#x62A4;&amp;#xFF0C;&amp;#x53CD;&amp;#x8C03;&amp;#x8BD5;&lt;/a>&lt;/h5> &lt;div class="nexcourseinterso">&amp;#x9A71;&amp;#x52A8;&amp;#x4E0E;&amp;#x5185;&amp;#x6838;&amp;#xFF0C;&amp;#x8FD9;&amp;#x662F;&amp;#x83DC;&amp;#x9E1F;&amp;#x8E0F;&amp;#x5165;&amp;#x5927;&amp;#x4F6C;&amp;#x7684;&amp;#x5FC5;&amp;#x7ECF;&amp;#x4E4B;&amp;#x8DEF;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x5B66;&amp;#x4F1A;&amp;#x9A71;&amp;#x52A8;&amp;#x4E0E;&amp;#x5185;&amp;#x6838;&amp;#xFF0C;&amp;#x6C38;&amp;#x8FDC;&amp;#x53EA;&amp;#x662F;&amp;#x83DC;&amp;#x9E1F;&amp;#xFF01;&amp;#x5B66;&amp;#x5B8C;&amp;#x4E4B;&amp;#x540E;&amp;#x4F60;&amp;#x80FD;&amp;#x8FBE;&amp;#x5230;&amp;#x7684;&amp;#x6C34;&amp;#x5E73;&amp;#x2014;&amp;#x2014;&amp;#x72EC;&amp;#x7ACB;&amp;#x5236;&amp;#x4F5C;&amp;#x80FD;&amp;#x591F;&amp;#x8FC7;&amp;#x6389;&amp;#x4FDD;&amp;#x62A4;&amp;#x7684;CE&amp;#xFF0C;OD&amp;#x8F6F;&amp;#x4EF6;&amp;#xFF0C;&amp;#x8BA9;&amp;#x5E02;&amp;#x9762;&amp;#x4E0A;&amp;#x51E0;&amp;#x4E4E;&amp;#x6240;&amp;#x6709;&amp;#x6E38;&amp;#x620F;&amp;#xFF0C;&amp;#x5728;&amp;#x4F60;&amp;#x9762;&amp;#x524D;&amp;#x90FD;&amp;#x662F;&amp;#x88F8;&amp;#x5954;&amp;#x72B6;&amp;#x6001;&amp;#xFF01;&amp;#x524D;&amp;#x63D0;&amp;#xFF0C;&amp;#x8981;&amp;#x61C2;&amp;#x5F97;&amp;#x4E3E;&amp;#x4E00;&amp;#x53CD;&amp;#x4E09;&amp;#xFF0C;&amp;#x89E6;&amp;#x7C7B;&amp;#x65C1;&amp;#x901A;&amp;#xFF01;&lt;/div> &lt;div class="nexcourseghtns"> &lt;div class="nexcourselps">&amp;#x96BE;&amp;#x5EA6;&lt;em>&amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2605;&lt;/em>&lt;/div> &lt;div class="nexcourserps">&lt;em>189&lt;/em>&amp;#x4EBA;&amp;#x5728;&amp;#x5B66;&lt;/div> &lt;div class="clear">&lt;/div> &lt;/div> &lt;/div> course6 &lt;div class="nexcoursetop"> &lt;a href="http://www.yixuebc.com/forum.php?mod=viewthread&amp;tid=18" target="_blank"> &lt;div class="nexcoursepiv">&lt;img src="./template/zvis_edu_180113/neoconex/index/course6.jpg">&lt;/div> &lt;div class="nexcourseiners"> &lt;div class="nexcourse_name"> &lt;em>&amp;#x706B;&lt;br>&amp;#x7206;&lt;/em> &lt;span style="letter-spacing:2px;font-size:28px;">&amp;#x6E38;&amp;#x620F;&amp;#x811A;&amp;#x672C;&lt;/span> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexcoursetitles">&amp;#x89E3;&amp;#x653E;&amp;#x53CC;&amp;#x624B;&amp;#xFF0C;&amp;#x667A;&amp;#x80FD;&amp;#x5237;&amp;#x56FE;&amp;#xFF01;&lt;/div> &lt;/div> &lt;/a> &lt;/div> &lt;div class="nexcousebtm"> &lt;h5>&lt;a href="#" target="_blank">&amp;#x7535;&amp;#x8111;&amp;#x548C;&amp;#x624B;&amp;#x673A;&amp;#x6E38;&amp;#x620F;&amp;#x811A;&amp;#x672C;&lt;/a>&lt;/h5> &lt;div class="nexcourseinterso">&amp;#x968F;&amp;#x7740;&amp;#x65F6;&amp;#x4EE3;&amp;#x7684;&amp;#x8FDB;&amp;#x6B65;&amp;#xFF0C;&amp;#x624B;&amp;#x673A;&amp;#x6E38;&amp;#x620F;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6210;&amp;#x4E3A;&amp;#x65F6;&amp;#x4EE3;&amp;#x7684;&amp;#x8C61;&amp;#x5F81;&amp;#x3002;&amp;#x719F;&amp;#x7EC3;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x6A21;&amp;#x62DF;&amp;#x5668;&amp;#x8FDB;&amp;#x884C;&amp;#x591A;&amp;#x5F00;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x52A8;&amp;#x64B8;&amp;#x91D1;&amp;#x5E01;&amp;#xFF0C;&amp;#x505A;&amp;#x4EFB;&amp;#x52A1;&amp;#xFF0C;&amp;#x5728;&amp;#x89E3;&amp;#x653E;&amp;#x53CC;&amp;#x624B;&amp;#x7684;&amp;#x540C;&amp;#x65F6;&amp;#xFF0C;&amp;#x4E5F;&amp;#x8D62;&amp;#x5F97;&amp;#x4E86;&amp;#x4E30;&amp;#x539A;&amp;#x7684;&amp;#x56DE;&amp;#x62A5;&amp;#xFF01;&amp;#x5F53;&amp;#x7136;PC&amp;#x7AEF;&amp;#x7684;&amp;#x6E38;&amp;#x620F;&amp;#x811A;&amp;#x672C;&amp;#x4E5F;&amp;#x4E0D;&amp;#x80FD;&amp;#x5FFD;&amp;#x89C6;&amp;#xFF0C;&amp;#x6BD4;&amp;#x5982;&amp;#x67D0;&amp;#x8BAF;&amp;#x7684;XXX&amp;#x6E38;&amp;#x620F;&amp;#xFF0C;&amp;#x5C31;&amp;#x6709;&amp;#x5F88;&amp;#x591A;&amp;#x73A9;&amp;#x5BB6;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5B66;&amp;#x4E60;&amp;#x811A;&amp;#x672C;&amp;#x5236;&amp;#x4F5C;&amp;#xFF0C;&amp;#x8FEB;&amp;#x5728;&amp;#x7709;&amp;#x776B;&amp;#xFF01;&lt;/div> &lt;div class="nexcourseghtns"> &lt;div class="nexcourselps">&amp;#x96BE;&amp;#x5EA6;&lt;em>&amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2606;&lt;/em>&lt;/div> &lt;div class="nexcourserps">&lt;em>1686&lt;/em>&amp;#x4EBA;&amp;#x5728;&amp;#x5B66;&lt;/div> &lt;div class="clear">&lt;/div> &lt;/div> &lt;/div> course7 &lt;div class="nexcoursetop"> &lt;a href="http://www.yixuebc.com/forum.php?mod=viewthread&amp;tid=13" target="_blank"> &lt;div class="nexcoursepiv">&lt;img src="./template/zvis_edu_180113/neoconex/index/course7.jpg">&lt;/div> &lt;div class="nexcourseiners"> &lt;div class="nexcourse_name"> &lt;em>&amp;#x5FC5;&lt;br>&amp;#x5B66;&lt;/em> &lt;span style="letter-spacing:2px;font-size:28px;">&amp;#x6C47;&amp;#x7F16;&amp;#x57FA;&amp;#x7840;&lt;/span> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexcoursetitles">&amp;#x8E0F;&amp;#x5165;&amp;#x5185;&amp;#x5B58;&amp;#x89E3;&amp;#x5BC6;&amp;#x7684;&amp;#x95E8;&amp;#x69DB;&lt;/div> &lt;/div> &lt;/a> &lt;/div> &lt;div class="nexcousebtm"> &lt;h5>&lt;a href="#" target="_blank">&amp;#x6C47;&amp;#x7F16;&amp;#x5165;&amp;#x95E8;&amp;#x57FA;&amp;#x7840;&lt;/a>&lt;/h5> &lt;div class="nexcourseinterso">&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;&amp;#x6C47;&amp;#x7F16;&amp;#xFF1F;&amp;#x6C47;&amp;#x7F16;&amp;#x5927;&amp;#x591A;&amp;#x662F;&amp;#x6307;&amp;#x6C47;&amp;#x7F16;&amp;#x8BED;&amp;#x8A00;&amp;#xFF0C;&amp;#x6C47;&amp;#x7F16;&amp;#x7A0B;&amp;#x5E8F;&amp;#x3002;&amp;#x628A;&amp;#x6C47;&amp;#x7F16;&amp;#x8BED;&amp;#x8A00;&amp;#x7FFB;&amp;#x8BD1;&amp;#x6210;&amp;#x673A;&amp;#x5668;&amp;#x8BED;&amp;#x8A00;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x79F0;&amp;#x4E3A;&amp;#x6C47;&amp;#x7F16;&amp;#x3002;&amp;#x5B66;&amp;#x4E60;&amp;#x6C47;&amp;#x7F16;&amp;#xFF0C;&amp;#x5BF9;&amp;#x6E38;&amp;#x620F;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x8F6F;&amp;#x4EF6;&amp;#x9006;&amp;#x5411;&amp;#xFF0C;&amp;#x6709;&amp;#x7740;&amp;#x6781;&amp;#x5927;&amp;#x7684;&amp;#x5E2E;&amp;#x52A9;&amp;#xFF01;&amp;#x4E0D;&amp;#x4F1A;&amp;#x6C47;&amp;#x7F16;&amp;#x7684;&amp;#x670B;&amp;#x53CB;&amp;#xFF0C;&amp;#x6E38;&amp;#x620F;&amp;#x6570;&amp;#x636E;&amp;#x5206;&amp;#x6790;&amp;#x548C;&amp;#x8F6F;&amp;#x4EF6;&amp;#x9006;&amp;#x5411;&amp;#x5C31;&amp;#x4E0D;&amp;#x8981;&amp;#x5962;&amp;#x671B;&amp;#x53BB;&amp;#x5B66;&amp;#x4E86;&amp;#x3002;&lt;/div> &lt;div class="nexcourseghtns"> &lt;div class="nexcourselps">&amp;#x96BE;&amp;#x5EA6;&lt;em>&amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2606;&lt;/em>&lt;/div> &lt;div class="nexcourserps">&lt;em>1765&lt;/em>&amp;#x4EBA;&amp;#x5728;&amp;#x5B66;&lt;/div> &lt;div class="clear">&lt;/div> &lt;/div> &lt;/div> course8 &lt;div class="nexcoursetop"> &lt;a href="http://www.yixuebc.com/forum.php?mod=viewthread&amp;tid=16" target="_blank"> &lt;div class="nexcoursepiv">&lt;img src="./template/zvis_edu_180113/neoconex/index/course8.jpg">&lt;/div> &lt;div class="nexcourseiners"> &lt;div class="nexcourse_name"> &lt;em>&amp;#x706B;&lt;br>&amp;#x7206;&lt;/em> &lt;span style="letter-spacing:2px;font-size:28px;">&amp;#x5C04;&amp;#x51FB;&amp;#x7C7B;&amp;#x6E38;&amp;#x620F;&lt;/span> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexcoursetitles">&amp;#x5C04;&amp;#x51FB;&amp;#x7C7B;&amp;#x6E38;&amp;#x620F;&amp;#x5B9E;&amp;#x6218;&amp;#x8BFE;&amp;#x7A0B;&lt;/div> &lt;/div> &lt;/a> &lt;/div> &lt;div class="nexcousebtm"> &lt;h5>&lt;a href="#" target="_blank">&amp;#x4ECA;&amp;#x665A;&amp;#x5403;&amp;#x9E21;&amp;#x5426;&amp;#xFF1F;&lt;/a>&lt;/h5> &lt;div class="nexcourseinterso">&amp;#x5403;&amp;#x9E21;&amp;#xFF0C;&amp;#x65E9;&amp;#x5DF2;&amp;#x6D41;&amp;#x4F20;&amp;#x81F3;&amp;#x5927;&amp;#x6C5F;&amp;#x5357;&amp;#x5317;&amp;#xFF0C;&amp;#x559C;&amp;#x6B22;&amp;#x5403;&amp;#x9E21;&amp;#x7684;&amp;#x670B;&amp;#x53CB;&amp;#x5FC5;&amp;#x7136;&amp;#x77E5;&amp;#x9053;&amp;#xFF0C;&amp;#x6709;&amp;#x4E00;&amp;#x79CD;&amp;#x4E1C;&amp;#x897F;&amp;#x53EB;&amp;#x505A;&amp;#x9AD8;&amp;#x79D1;&amp;#x6280;&amp;#xFF01;&amp;#x90A3;&amp;#x4E48;&amp;#x672C;&amp;#x5957;&amp;#x8BFE;&amp;#x7A0B;&amp;#x5C31;&amp;#x662F;&amp;#x4E3A;&amp;#x60A8;&amp;#x8BB2;&amp;#x8FF0;&amp;#x6B64;&amp;#x79CD;&amp;#x9AD8;&amp;#x79D1;&amp;#x6280;&amp;#x7684;&amp;#x5236;&amp;#x4F5C;&amp;#x539F;&amp;#x7406;&amp;#xFF01;&lt;/div> &lt;div class="nexcourseghtns"> &lt;div class="nexcourselps">&amp;#x96BE;&amp;#x5EA6;&lt;em>&amp;#x2605;&amp;#x2605;&amp;#x2605;&amp;#x2605;&lt;/em>&lt;/div> &lt;div class="nexcourserps">&lt;em>1622&lt;/em>&amp;#x4EBA;&amp;#x5728;&amp;#x5B66;&lt;/div> &lt;div class="clear">&lt;/div> &lt;/div> &lt;/div> &#x5165;&#x95E8;&#x7CBE;&#x9009;,&#x7A33;&#x624E;&#x7A33;&#x6253;&lt;a href="http://www.yiqifeiyang.com/forum.php?mod=viewthread&amp;tid=7" target="_blank"> &lt;img src="./template/zvis_edu_180113/neoconex/index/tc1.jpg"> &lt;div class="nexpricetags"> &lt;span>&amp;#x539F;&amp;#x4EF7;&amp;#xFF1A;&lt;i>&amp;#xFFE5;199.00&lt;/i>&lt;/span> &lt;em>&amp;#x73B0;&amp;#x4EF7;&amp;#xFF1A;&lt;b>&amp;#xFFE5;19.00&lt;/b>&lt;/em> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexbuylinks">&amp;#x7ACB;&amp;#x5373;&amp;#x8D2D;&amp;#x4E70;&lt;/div> &lt;/a> &lt;a href="http://www.yiqifeiyang.com/forum.php?mod=viewthread&amp;tid=21" target="_blank"> &lt;img src="./template/zvis_edu_180113/neoconex/index/tc2.jpg"> &lt;div class="nexpricetags"> &lt;span>&amp;#x539F;&amp;#x4EF7;&amp;#xFF1A;&lt;i>&amp;#xFFE5;699.00&lt;/i>&lt;/span> &lt;em>&amp;#x73B0;&amp;#x4EF7;&amp;#xFF1A;&lt;b>&amp;#xFFE5;399.00&lt;/b>&lt;/em> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexbuylinks">&amp;#x7ACB;&amp;#x5373;&amp;#x8D2D;&amp;#x4E70;&lt;/div> &lt;/a> &lt;a href="http://www.yiqifeiyang.com/forum.php?mod=viewthread&amp;tid=17" target="_blank"> &lt;img src="./template/zvis_edu_180113/neoconex/index/tc3.jpg"> &lt;div class="nexpricetags"> &lt;span>&amp;#x539F;&amp;#x4EF7;&amp;#xFF1A;&lt;i>&amp;#xFFE5;6999.00&lt;/i>&lt;/span> &lt;em>&amp;#x73B0;&amp;#x4EF7;&amp;#xFF1A;&lt;b>&amp;#xFFE5;3999.00&lt;/b>&lt;/em> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexbuylinks">&amp;#x7ACB;&amp;#x5373;&amp;#x8D2D;&amp;#x4E70;&lt;/div> &lt;/a> &lt;a href="http://www.yiqifeiyang.com/forum.php?mod=viewthread&amp;tid=18" target="_blank"> &lt;img src="./template/zvis_edu_180113/neoconex/index/tc4.jpg"> &lt;div class="nexpricetags"> &lt;span>&amp;#x539F;&amp;#x4EF7;&amp;#xFF1A;&lt;i>&amp;#xFFE5;1389.00&lt;/i>&lt;/span> &lt;em>&amp;#x73B0;&amp;#x4EF7;&amp;#xFF1A;&lt;b>&amp;#xFFE5;699.00&lt;/b>&lt;/em> &lt;div class="clear">&lt;/div> &lt;/div> &lt;div class="nexbuylinks">&amp;#x7ACB;&amp;#x5373;&amp;#x8D2D;&amp;#x4E70;&lt;/div> &lt;/a> document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fchang-gou-1.html</url>
    <content type="text"><![CDATA[&#x6846;&#x67B6;&#x642D;&#x5EFA;&#x5B66;&#x4E60;&#x76EE;&#x6807;&#x76EE;&#x6807;1&#xFF1A;&#x4E86;&#x89E3;&#x7535;&#x5546;&#x7684;&#x6280;&#x672F;&#x7279;&#x70B9;&#x548C;&#x4E3B;&#x8981;&#x7535;&#x5546;&#x6A21;&#x5F0F;&#x76EE;&#x6807;2&#xFF1A;&#x7406;&#x89E3;&#x7545;&#x8D2D;&#x7684;&#x9700;&#x6C42;&#x4E0E;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;&#x76EE;&#x6807;3&#xFF1A;&#x80FD;&#x591F;&#x5B8C;&#x6210;&#x7545;&#x8D2D;&#x5DE5;&#x7A0B;&#x6846;&#x67B6;&#x7684;&#x642D;&#x5EFA;&#x76EE;&#x6807;4&#xFF1A;&#x80FD;&#x591F;&#x5B8C;&#x6210;&#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;&#x54C1;&#x724C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x529F;&#x80FD; 1.&#x8D70;&#x8FDB;&#x7535;&#x5546;1.1 &#x7535;&#x5546;&#x884C;&#x4E1A;&#x5206;&#x6790;&#x200B; &#x8FD1;&#x5E74;&#x6765;&#xFF0C;&#x4E16;&#x754C;&#x7ECF;&#x6D4E;&#x6B63;&#x5411;&#x6570;&#x5B57;&#x5316;&#x8F6C;&#x578B;&#xFF0C;&#x5927;&#x529B;&#x53D1;&#x5C55;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x6210;&#x4E3A;&#x5168;&#x7403;&#x5171;&#x8BC6;&#x3002;&#x515A;&#x7684;&#x5341;&#x4E5D;&#x5927;&#x62A5;&#x544A;&#x660E;&#x786E;&#x63D0;&#x51FA;&#x8981;&#x5EFA;&#x8BBE;&#x201C;&#x6570;&#x5B57;&#x4E2D;&#x56FD;&#x201D;&#x201C;&#x7F51;&#x7EDC;&#x5F3A;&#x56FD;&#x201D;&#xFF0C;&#x6211;&#x56FD;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x53D1;&#x5C55;&#x8FDB;&#x5165;&#x65B0;&#x9636;&#x6BB5;&#xFF0C;&#x5E02;&#x573A;&#x89C4;&#x6A21;&#x4F4D;&#x5C45;&#x5168;&#x7403;&#x7B2C;&#x4E8C;&#xFF0C;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x4E0E;&#x5B9E;&#x4F53;&#x7ECF;&#x6D4E;&#x6DF1;&#x5EA6;&#x878D;&#x5408;&#xFF0C;&#x6709;&#x529B;&#x4FC3;&#x8FDB;&#x4E86;&#x4F9B;&#x7ED9;&#x4FA7;&#x7ED3;&#x6784;&#x6027;&#x6539;&#x9769;&#x3002;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x662F;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x7684;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;&#x662F;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x6700;&#x6D3B;&#x8DC3;&#x3001;&#x6700;&#x96C6;&#x4E2D;&#x7684;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x4E4B;&#x4E00;&#x3002;2017&#x5E74;&#xFF0C;&#x5728;&#x653F;&#x5E9C;&#x548C;&#x5E02;&#x573A;&#x5171;&#x540C;&#x63A8;&#x52A8;&#x4E0B;&#xFF0C;&#x6211;&#x56FD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x53D1;&#x5C55;&#x66F4;&#x52A0;&#x6CE8;&#x91CD;&#x6548;&#x7387;&#x3001;&#x8D28;&#x91CF;&#x548C;&#x521B;&#x65B0;&#xFF0C;&#x53D6;&#x5F97;&#x4E86;&#x4E00;&#x7CFB;&#x5217;&#x65B0;&#x7684;&#x8FDB;&#x5C55;&#xFF0C;&#x5728;&#x58EE;&#x5927;&#x6570;&#x5B57;&#x7ECF;&#x6D4E;&#x3001;&#x5171;&#x5EFA;&#x201C;&#x4E00;&#x5E26;&#x4E00;&#x8DEF;&#x201D;&#x3001;&#x52A9;&#x529B;&#x4E61;&#x6751;&#x632F;&#x5174;&#x3001;&#x5E26;&#x52A8;&#x521B;&#x65B0;&#x521B;&#x4E1A;&#x3001;&#x4FC3;&#x8FDB;&#x7ECF;&#x6D4E;&#x8F6C;&#x578B;&#x5347;&#x7EA7;&#x7B49;&#x8BF8;&#x591A;&#x65B9;&#x9762;&#x53D1;&#x6325;&#x4E86;&#x91CD;&#x8981;&#x4F5C;&#x7528;&#xFF0C;&#x6210;&#x4E3A;&#x6211;&#x56FD;&#x7ECF;&#x6D4E;&#x589E;&#x957F;&#x7684;&#x65B0;&#x52A8;&#x529B;&#x3002; 2017&#x5E74;&#xFF0C;&#x6211;&#x56FD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4EA4;&#x6613;&#x89C4;&#x6A21;&#x7EE7;&#x7EED;&#x6269;&#x5927;&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x9AD8;&#x901F;&#x589E;&#x957F;&#x6001;&#x52BF;&#x3002;&#x56FD;&#x5BB6;&#x7EDF;&#x8BA1;&#x5C40;&#x6570;&#x636E; &#x663E;&#x793A;&#xFF0C;2017&#x5E74;&#x5168;&#x56FD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4EA4;&#x6613;&#x989D;&#x8FBE;29.16&#x4E07;&#x4EBF;&#x5143;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;11.7%&#xFF1B;&#x7F51;&#x4E0A;&#x96F6;&#x552E;&#x989D;7.18&#x4E07; &#x4EBF;&#x5143;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;32.2%&#x3002;&#x6211;&#x56FD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4F18;&#x52BF;&#x8FDB;&#x4E00;&#x6B65;&#x6269;&#x5927;&#xFF0C;&#x7F51;&#x7EDC;&#x96F6;&#x552E;&#x89C4;&#x6A21;&#x5168;&#x7403;&#x6700;&#x5927;&#x3001;&#x4EA7;&#x4E1A;&#x521B; &#x65B0;&#x6D3B;&#x529B;&#x4E16;&#x754C;&#x9886;&#x5148;&#x3002;&#x6570;&#x636E;&#x663E;&#x793A;&#xFF0C;&#x622A;&#x6B62;2017&#x5E74;&#x5E95;&#xFF0C;&#x5168;&#x56FD;&#x7F51;&#x7EDC;&#x8D2D;&#x7269;&#x7528;&#x6237;&#x89C4;&#x6A21;&#x8FBE;5.33&#x4EBF;&#xFF0C;&#x540C;&#x6BD4;&#x589E; &#x957F;14.3%&#xFF1B;&#x975E;&#x94F6;&#x884C;&#x652F;&#x4ED8;&#x673A;&#x6784;&#x53D1;&#x751F;&#x7F51;&#x7EDC;&#x652F;&#x4ED8;&#x91D1;&#x989D;&#x8FBE;143.26&#x4E07;&#x4EBF;&#x5143;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;44.32%&#xFF1B;&#x5168;&#x56FD; &#x5FEB;&#x9012;&#x670D;&#x52A1;&#x4F01;&#x4E1A;&#x4E1A;&#x52A1;&#x91CF;&#x7D2F;&#x8BA1;&#x5B8C;&#x6210;400.6&#x4EBF;&#x4EF6;&#xFF0C;&#x540C;&#x6BD4;&#x589E;&#x957F;28%&#xFF1B;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x76F4;&#x63A5;&#x4ECE;&#x4E1A;&#x4EBA;&#x5458;&#x548C;&#x95F4;&#x63A5; &#x5E26;&#x52A8;&#x5C31;&#x4E1A;&#x8FBE;4250&#x4E07;&#x4EBA;&#x3002; 1.2 &#x7535;&#x5546;&#x7CFB;&#x7EDF;&#x6280;&#x672F;&#x7279;&#x70B9;&#x6280;&#x672F;&#x65B0; &#x6280;&#x672F;&#x8303;&#x56F4;&#x5E7F; &#x5206;&#x5E03;&#x5F0F; &#x9AD8;&#x5E76;&#x53D1;&#x3001;&#x96C6;&#x7FA4;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x9AD8;&#x53EF;&#x7528; &#x6D77;&#x91CF;&#x6570;&#x636E; &#x4E1A;&#x52A1;&#x590D;&#x6742; &#x7CFB;&#x7EDF;&#x5B89;&#x5168; 1.3&#x4E3B;&#x8981;&#x7535;&#x5546;&#x6A21;&#x5F0F;B2BB2B &#xFF08; Business to Business&#xFF09;&#x662F;&#x6307;&#x8FDB;&#x884C;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x4EA4;&#x6613;&#x7684;&#x4F9B;&#x9700;&#x53CC;&#x65B9;&#x90FD;&#x662F;&#x5546;&#x5BB6;&#xFF08;&#x6216;&#x4F01;&#x4E1A;&#x3001;&#x516C;&#x53F8;&#xFF09;&#xFF0C;&#x5979;&#xFF08;&#x4ED6;&#xFF09;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x6280;&#x672F;&#x6216;&#x5404;&#x79CD;&#x5546;&#x52A1;&#x7F51;&#x7EDC;&#x5E73;&#x53F0;&#xFF0C;&#x5B8C;&#x6210;&#x5546;&#x52A1;&#x4EA4;&#x6613;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x7535;&#x5B50;&#x5546;&#x52A1; &#x662F;&#x73B0;&#x4EE3; B2B marketing&#x7684;&#x4E00;&#x79CD;&#x5177;&#x4F53;&#x4E3B;&#x8981;&#x7684;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x3001;&#x6167;&#x806A;&#x7F51;C2CC2C&#x5373; Customer&#xFF08;Consumer&#xFF09; to Customer&#xFF08;Consumer&#xFF09;&#xFF0C;&#x610F;&#x601D;&#x5C31;&#x662F;&#x6D88;&#x8D39;&#x8005;&#x4E2A;&#x4EBA;&#x95F4;&#x7684;&#x7535;&#x5B50; &#x5546;&#x52A1;&#x884C;&#x4E3A;&#x3002;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x6709;&#x4E00;&#x53F0;&#x7535;&#x8111;&#xFF0C;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8FDB;&#x884C;&#x4EA4;&#x6613;&#xFF0C;&#x628A;&#x5B83;&#x51FA;&#x552E;&#x7ED9;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x6B64; &#x79CD;&#x4EA4;&#x6613;&#x7C7B;&#x578B;&#x5C31;&#x79F0;&#x4E3A;C2C&#x7535;&#x5B50;&#x5546;&#x52A1;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x54B8;&#x9C7C;&#x3001;&#x8F6C;&#x8F6C;&#x3001;&#x74DC;&#x5B50;&#x4E8C;&#x624B;&#x8F66;B2CB2C&#x662F;Business&#x2010;to&#x2010;Customer&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x800C;&#x5176;&#x4E2D;&#x6587;&#x7B80;&#x79F0;&#x4E3A;&#x201C;&#x5546;&#x5BF9;&#x5BA2;&#x201D;&#x3002;&#x201C;&#x5546;&#x5BF9;&#x5BA2;&#x201D;&#x662F;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x7684;&#x4E00;&#x79CD;&#x6A21;&#x5F0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x901A;&#x5E38;&#x8BF4;&#x7684;&#x76F4;&#x63A5;&#x9762;&#x5411;&#x6D88;&#x8D39;&#x8005;&#x9500;&#x552E;&#x4EA7;&#x54C1;&#x548C;&#x670D;&#x52A1;&#x5546;&#x4E1A;&#x96F6;&#x552E;&#x6A21;&#x5F0F;&#x3002;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x7684;&#x7535;&#x5B50;&#x5546;&#x52A1; &#x4E00;&#x822C;&#x4EE5;&#x7F51;&#x7EDC;&#x96F6;&#x552E;&#x4E1A;&#x4E3A;&#x4E3B;&#xFF0C;&#x4E3B;&#x8981;&#x501F;&#x52A9;&#x4E8E;&#x4E92;&#x8054;&#x7F51;&#x5F00;&#x5C55;&#x5728;&#x7EBF;&#x9500;&#x552E;&#x6D3B;&#x52A8;&#x3002;B2C&#x5373;&#x4F01;&#x4E1A;&#x901A;&#x8FC7;&#x4E92;&#x8054;&#x7F51;&#x4E3A;&#x6D88;&#x8D39; &#x8005;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x65B0;&#x578B;&#x7684;&#x8D2D;&#x7269;&#x73AF;&#x5883;&#x2014;&#x2014;&#x7F51;&#x4E0A;&#x5546;&#x5E97;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x5728;&#x7F51;&#x4E0A;&#x8D2D;&#x7269;&#x3001;&#x7F51;&#x4E0A;&#x652F;&#x4ED8;&#x7B49;&#x6D88;&#x8D39;&#x884C;&#x4E3A;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x552F;&#x54C1;&#x4F1A;&#x3001;&#x4E50;&#x8702;&#x7F51;C2BC2B&#xFF08;Consumer to Business&#xFF0C;&#x5373;&#x6D88;&#x8D39;&#x8005;&#x5230;&#x4F01;&#x4E1A;&#xFF09;&#xFF0C;&#x662F;&#x4E92;&#x8054;&#x7F51;&#x7ECF;&#x6D4E;&#x65F6;&#x4EE3;&#x65B0;&#x7684;&#x5546;&#x4E1A;&#x6A21;&#x5F0F;&#x3002;&#x8FD9;&#x4E00; &#x6A21;&#x5F0F;&#x6539;&#x53D8;&#x4E86;&#x539F;&#x6709;&#x751F;&#x4EA7;&#x8005;&#xFF08;&#x4F01;&#x4E1A;&#x548C;&#x673A;&#x6784;&#xFF09;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x6D88;&#x8D39;&#x8005;&#x8D21;&#x732E;&#x4EF7;&#x503C;&#xFF08;Create Value&#xFF09;&#xFF0C; &#x4F01;&#x4E1A;&#x548C;&#x673A;&#x6784;&#x6D88;&#x8D39;&#x4EF7;&#x503C;&#xFF08;Consume Value&#xFF09;&#x3002; C2B&#x6A21;&#x5F0F;&#x548C;&#x6211;&#x4EEC;&#x719F;&#x77E5;&#x7684;&#x4F9B;&#x9700;&#x6A21;&#x5F0F;&#xFF08;DSM, Demand SupplyModel&#xFF09;&#x6070;&#x6070;&#x76F8;&#x53CD;&#xFF0C;&#x771F;&#x6B63;&#x7684;C2B &#x5E94;&#x8BE5;&#x5148;&#x6709;&#x6D88;&#x8D39;&#x8005;&#x9700;&#x6C42;&#x4EA7;&#x751F;&#x800C;&#x540E;&#x6709;&#x4F01;&#x4E1A;&#x751F;&#x4EA7;&#xFF0C;&#x5373;&#x5148;&#x6709;&#x6D88;&#x8D39;&#x8005;&#x63D0;&#x51FA;&#x9700;&#x6C42;&#xFF0C;&#x540E;&#x6709;&#x751F;&#x4EA7;&#x4F01;&#x4E1A;&#x6309;&#x9700;&#x6C42;&#x7EC4;&#x7EC7;&#x751F; &#x4EA7;&#x3002;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E3A;&#x6D88;&#x8D39;&#x8005;&#x6839;&#x636E;&#x81EA;&#x8EAB;&#x9700;&#x6C42;&#x5B9A;&#x5236;&#x4EA7;&#x54C1;&#x548C;&#x4EF7;&#x683C;&#xFF0C;&#x6216;&#x4E3B;&#x52A8;&#x53C2;&#x4E0E;&#x4EA7;&#x54C1;&#x8BBE;&#x8BA1;&#x3001;&#x751F;&#x4EA7;&#x548C;&#x5B9A;&#x4EF7;&#xFF0C;&#x4EA7; &#x54C1;&#x3001;&#x4EF7;&#x683C;&#x7B49;&#x5F70;&#x663E;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x4E2A;&#x6027;&#x5316;&#x9700;&#x6C42;&#xFF0C;&#x751F;&#x4EA7;&#x4F01;&#x4E1A;&#x8FDB;&#x884C;&#x5B9A;&#x5236;&#x5316;&#x751F;&#x4EA7;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x6D77;&#x5C14;&#x5546;&#x57CE;&#x3001; &#x5C1A;&#x54C1;&#x5B85;&#x914D;O2OO2O&#x5373;Online To Offline&#xFF08;&#x5728;&#x7EBF;&#x79BB;&#x7EBF;/&#x7EBF;&#x4E0A;&#x5230;&#x7EBF;&#x4E0B;&#xFF09;&#xFF0C;&#x662F;&#x6307;&#x5C06;&#x7EBF;&#x4E0B;&#x7684;&#x5546;&#x52A1;&#x673A;&#x4F1A;&#x4E0E;&#x4E92;&#x8054;&#x7F51;&#x7ED3; &#x5408;&#xFF0C;&#x8BA9;&#x4E92;&#x8054;&#x7F51;&#x6210;&#x4E3A;&#x7EBF;&#x4E0B;&#x4EA4;&#x6613;&#x7684;&#x5E73;&#x53F0;&#xFF0C;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x6700;&#x65E9;&#x6765;&#x6E90;&#x4E8E;&#x7F8E;&#x56FD;&#x3002;O2O&#x7684;&#x6982;&#x5FF5;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#xFF0C;&#x65E2;&#x53EF;&#x6D89; &#x53CA;&#x5230;&#x7EBF;&#x4E0A;&#xFF0C;&#x53C8;&#x53EF;&#x6D89;&#x53CA;&#x5230;&#x7EBF;&#x4E0B;,&#x53EF;&#x4EE5;&#x901A;&#x79F0;&#x4E3A;O2O&#x3002;&#x4E3B;&#x6D41;&#x5546;&#x4E1A;&#x7BA1;&#x7406;&#x8BFE;&#x7A0B;&#x5747;&#x5BF9;O2O&#x8FD9;&#x79CD;&#x65B0;&#x578B;&#x7684;&#x5546;&#x4E1A;&#x6A21;&#x5F0F; &#x6709;&#x6240;&#x4ECB;&#x7ECD;&#x53CA;&#x5173;&#x6CE8;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x7F8E;&#x56E2;&#x3001;&#x997F;&#x4E86;&#x5417;F2CF2C&#x6307;&#x7684;&#x662F;Factory to customer&#xFF0C;&#x5373;&#x4ECE;&#x5382;&#x5546;&#x5230;&#x6D88;&#x8D39;&#x8005;&#x7684;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x6A21;&#x5F0F;&#x3002;B2B2CB2B2C&#x662F;&#x4E00;&#x79CD;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x7C7B;&#x578B;&#x7684;&#x7F51;&#x7EDC;&#x8D2D;&#x7269;&#x5546;&#x4E1A;&#x6A21;&#x5F0F;&#xFF0C;B&#x662F;BUSINESS&#x7684;&#x7B80;&#x79F0;&#xFF0C;C&#x662F;CUSTOMER&#x7684;&#x7B80; &#x79F0;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;B&#x6307;&#x7684;&#x662F;&#x5546;&#x54C1;&#x6216;&#x670D;&#x52A1;&#x7684;&#x4F9B;&#x5E94;&#x5546;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;B&#x6307;&#x7684;&#x662F;&#x4ECE;&#x4E8B;&#x7535;&#x5B50;&#x5546;&#x52A1;&#x7684;&#x4F01;&#x4E1A;&#xFF0C;C&#x5219;&#x662F;&#x8868;&#x793A;&#x6D88; &#x8D39;&#x8005;&#x3002; &#x6848;&#x4F8B;&#xFF1A;&#x4EAC;&#x4E1C;&#x5546;&#x57CE;&#x3001;&#x5929;&#x732B;&#x5546;&#x57CE;2&#x7545;&#x8D2D;-&#x9700;&#x6C42;&#x5206;&#x6790;&#x4E0E;&#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;2.1&#x9700;&#x6C42;&#x5206;&#x6790;&#x7F51;&#x7AD9;&#x524D;&#x53F0;&#x9759;&#x6001;&#x539F;&#x578B;&#x6F14;&#x793A;&#xFF0C;&#x6253;&#x5F00;&#x8D44;&#x6599;\&#x9759;&#x6001;&#x539F;&#x578B;\&#x524D;&#x53F0;&#xFF0C;&#x9996;&#x9875;index.html &#x7F51;&#x7AD9;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x9759;&#x6001;&#x539F;&#x578B;&#x6F14;&#x793A;&#x6253;&#x5F00;&#x8D44;&#x6599;\&#x9759;&#x6001;&#x539F;&#x578B;\&#x540E;&#x53F0;,&#x9996;&#x9875;index.html 2.2 &#x7CFB;&#x7EDF;&#x8BBE;&#x8BA1;2.2.1 &#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB; &#x7F51;&#x7AD9;&#x540E;&#x53F0;&#x7684;&#x90E8;&#x5206;&#x91C7;&#x7528;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x65B9;&#x5F0F;&#x3002; &#x4EE5;&#x524D;&#x7684;JavaWeb&#x9879;&#x76EE;&#x5927;&#x591A;&#x6570;&#x90FD;&#x662F;java&#x7A0B;&#x5E8F;&#x5458;&#x53C8;&#x5F53;&#x7239;&#x53C8;&#x5F53;&#x5988;&#xFF0C;&#x53C8;&#x641E;&#x524D;&#x7AEF;&#xFF0C;&#x53C8;&#x641E;&#x540E;&#x7AEF;&#x3002;&#x968F;&#x7740;&#x65F6;&#x4EE3;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x6E10;&#x6E10;&#x7684;&#x8BB8;&#x591A;&#x5927;&#x4E2D;&#x5C0F;&#x516C;&#x53F8;&#x5F00;&#x59CB;&#x628A;&#x524D;&#x540E;&#x7AEF;&#x7684;&#x754C;&#x9650;&#x5206;&#x7684;&#x8D8A;&#x6765;&#x8D8A;&#x660E;&#x786E;&#xFF0C;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B; &#x5E08;&#x53EA;&#x7BA1;&#x524D;&#x7AEF;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x540E;&#x7AEF;&#x5DE5;&#x7A0B;&#x5E08;&#x53EA;&#x7BA1;&#x540E;&#x7AEF;&#x7684;&#x4E8B;&#x60C5;&#x3002;&#x6B63;&#x6240;&#x8C13;&#x672F;&#x4E1A;&#x6709;&#x4E13;&#x653B;&#xFF0C;&#x4E00;&#x4E2A;&#x4EBA;&#x5982;&#x679C;&#x4EC0;&#x4E48; &#x90FD;&#x4F1A;&#xFF0C;&#x90A3;&#x4E48;&#x4ED6;&#x6BD5;&#x7ADF;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x7CBE;&#x3002; &#x5BF9;&#x4E8E;&#x540E;&#x7AEF;java&#x5DE5;&#x7A0B;&#x5E08;&#xFF1A; &#x628A;&#x7CBE;&#x529B;&#x653E;&#x5728;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;spring+springmvc&#xFF0C;linux&#xFF0C;mysql&#x4E8B;&#x52A1;&#x9694;&#x79BB;&#x4E0E;&#x9501;&#x673A;&#x5236;&#xFF0C; mongodb&#xFF0C;http/tcp&#xFF0C;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#xFF0C;&#x5F39;&#x6027;&#x8BA1;&#x7B97;&#x67B6;&#x6784;&#xFF0C;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#xFF0C;java&#x6027;&#x80FD;&#x4F18;&#x5316;&#xFF0C;&#x4EE5;&#x53CA;&#x76F8;&#x5173;&#x7684;&#x9879;&#x76EE;&#x7BA1;&#x7406;&#x7B49;&#x7B49;&#x3002; &#x5BF9;&#x4E8E;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x5E08;&#xFF1A; &#x628A;&#x7CBE;&#x529B;&#x653E;&#x5728;html5&#xFF0C;css3&#xFF0C;vuejs&#xFF0C;webpack&#xFF0C;nodejs&#xFF0C;Google V8&#x5F15;&#x64CE;&#xFF0C;javascript&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x6A21;&#x5757;&#x5316;&#xFF0C;&#x9762;&#x5411;&#x5207;&#x9762;&#x7F16;&#x7A0B;&#xFF0C;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x517C;&#x5BB9;&#x6027;&#xFF0C;&#x6027;&#x80FD;&#x4F18;&#x5316;&#x7B49;&#x7B49;&#x3002; &#x200B; &#x6211;&#x4EEC;&#x5728;&#x672C;&#x8BFE;&#x7A0B;&#x4E2D;&#x63D0;&#x4F9B;&#x4E0E;&#x9879;&#x76EE;&#x8BFE;&#x7A0B;&#x914D;&#x5957;&#x7684;&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x7684;&#x524D;&#x7AEF;&#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x8BB2;&#x89E3;&#x524D;&#x7AEF;&#x7684;&#x5185;&#x5BB9;&#x3002;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x4F1A;&#x5C06;&#x66F4;&#x591A;&#x7684;&#x7CBE;&#x529B;&#x653E;&#x5728;&#x540E;&#x7AEF;&#x4EE3;&#x7801;&#x7684;&#x5F00;&#x53D1;&#x4E0A;&#xFF01; 2.2.2 &#x6280;&#x672F;&#x67B6;&#x6784; 2.2.3 &#x7CFB;&#x7EDF;&#x67B6;&#x6784;&#x56FE; 3. &#x7545;&#x8D2D;-&#x6846;&#x67B6;&#x642D;&#x5EFA;3.1 &#x73AF;&#x5883;&#x51C6;&#x5907;&#x5C06;&#x8D44;&#x6E90;&#x4E2D;&#x7684;&#x865A;&#x62DF;&#x673A;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#xFF08;&#x76F8;&#x5173;&#x7684;docker&#x5BB9;&#x5668;&#x5B89;&#x88C5;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;,&#x6CE8;&#x610F;&#x53F7;&#x6BB5;&#x6539;&#x4E3A;200&#xFF09; 3.2 &#x9879;&#x76EE;&#x7ED3;&#x6784;&#x8BF4;&#x660E; &#x7ED3;&#x6784;&#x8BF4;&#x660E;&#xFF1A; changgou_gateway &#x7F51;&#x5173;&#x6A21;&#x5757;&#xFF0C;&#x6839;&#x636E;&#x7F51;&#x7AD9;&#x7684;&#x89C4;&#x6A21;&#x548C;&#x9700;&#x8981;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x7EFC;&#x5408;&#x903B;&#x8F91;&#x76F8;&#x5173;&#x7684;&#x670D;&#x52A1;&#x7528;&#x7F51;&#x5173;&#x8DEF;&#x7531;&#x7EC4;&#x5408;&#x5230;&#x4E00;&#x8D77;&#x3002;&#x5728;&#x8FD9; &#x91CC;&#x8FD8;&#x53EF;&#x4EE5;&#x505A;&#x9274;&#x6743;&#x548C;&#x9650;&#x6D41;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#x3002;changgou_service &#x5FAE;&#x670D;&#x52A1;&#x6A21;&#x5757;&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x6240;&#x6709;&#x72EC;&#x7ACB;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x3002;changgou_service_api &#x5BF9;&#x5E94;&#x5DE5;&#x7A0B;&#x7684;JavaBean&#x3001;Feign&#x3001;&#x4EE5;&#x53CA;Hystrix&#x914D;&#x7F6E;&#xFF0C;&#x8BE5;&#x5DE5;&#x7A0B;&#x4E3B;&#x8981;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x4F9D;&#x8D56;&#x3002;changgou_transaction_fescar &#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x6A21;&#x5757;&#xFF0C;&#x5C06;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x62BD;&#x53D6;&#x5230;&#x8BE5;&#x5DE5;&#x7A0B;&#x4E2D;&#xFF0C;&#x4EFB;&#x4F55;&#x5DE5;&#x7A0B;&#x5982;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#xFF0C;&#x53EA;&#x9700;&#x4F9D;&#x8D56; &#x8BE5;&#x5DE5;&#x7A0B;&#x5373;&#x53EF;&#x3002;changgou_web web&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#xFF0C;&#x5BF9;&#x5E94;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x5982;&#x9700;&#x8981;&#x8C03;&#x7528;&#x591A;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x5C06;&#x4ED6;&#x4EEC;&#x5199;&#x5165;&#x5230;&#x8BE5;&#x6A21;&#x5757;&#x4E2D;&#xFF0C;&#x4F8B;&#x5982;&#x7F51;&#x7AD9;&#x540E;&#x53F0;&#x3001;&#x7F51;&#x7AD9;&#x524D;&#x53F0;&#x7B49;3.3 &#x7236;&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;3.3.1 &#x4E00;&#x7EA7;&#x7236;&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;&#x521B;&#x5EFA;&#x7236;&#x5DE5;&#x7A0B; changgou_parent,pom.xml&#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x914D;&#x7F6E; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.4.RELEASE&lt;/version&gt; &lt;/parent&gt; &lt;properties&gt; &lt;skipTests&gt;true&lt;/skipTests&gt; &lt;/properties&gt; &lt;!--&#x4F9D;&#x8D56;&#x5305;--&gt; &lt;dependencies&gt; &lt;!--&#x6D4B;&#x8BD5;&#x5305;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;dependencyManagement&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Greenwich.SR1&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/dependencyManagement&gt;&#x5220;&#x9664;src&#x6587;&#x4EF6;&#x5939; 3.3.2 &#x4E8C;&#x7EA7;&#x7236;&#x5DE5;&#x7A0B;&#x6A21;&#x5757;&#x642D;&#x5EFA;&#x521B;&#x5EFA;changgou_gateway&#x3001;changgou_service&#x3001;changgou_service_api&#x3001; changgou_web&#x5DE5;&#x7A0B;&#xFF0C;&#x5DE5;&#x7A0B;&#x5168;&#x90E8;&#x4E3A;pom&#x5DE5;&#x7A0B;&#xFF0C;&#x5E76;&#x5C06;&#x6240;&#x6709;&#x5DE5;&#x7A0B;&#x7684;src&#x6587;&#x4EF6;&#x5220;&#x9664;&#x3002; 3.4 Eureka&#x5FAE;&#x670D;&#x52A1;&#x642D;&#x5EFA;&#xFF08;1&#xFF09;pom.xml&#x4F9D;&#x8D56;&#x521B;&#x5EFA;&#x6A21;&#x5757;changgou_eureka&#xFF0C;pom.xml&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09;appliation.yml&#x914D;&#x7F6E;&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;application.yml server: port: 6868 eureka: client: register-with-eureka: false #&#x662F;&#x5426;&#x5C06;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5230;eureka&#x4E2D; fetch-registry: false #&#x662F;&#x5426;&#x4ECE;eureka&#x4E2D;&#x83B7;&#x53D6;&#x4FE1;&#x606F; service-url: defaultZone: http://127.0.0.1:${server.port}/eureka/&#xFF08;3&#xFF09;&#x542F;&#x52A8;&#x7C7B;&#x914D;&#x7F6E; &#x521B;&#x5EFA;&#x5305;com.changgou.eureka &#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B; @SpringBootApplication @EnableEurekaServer // &#x58F0;&#x660E;&#x5F53;&#x524D;&#x7684;&#x5DE5;&#x7A0B;&#x662F;eureka&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; public class EurekaApplication { public static void main(String[] args) { SpringApplication.run(EurekaApplication.class,args); } }3.5 &#x516C;&#x5171;&#x6A21;&#x5757;&#x642D;&#x5EFA;3.5.1 &#x5168;&#x5C40;&#x516C;&#x5171;&#x6A21;&#x5757;&#xFF08;1&#xFF09;pom.xml&#x4F9D;&#x8D56; &#x521B;&#x5EFA;&#x516C;&#x5171;&#x5B50;&#x6A21;&#x5757;changgou_common&#xFF0C;pom.xml&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;!--web&#x8D77;&#x6B65;&#x4F9D;&#x8D56;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- redis &#x4F7F;&#x7528;--&gt; &lt;!--&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt;--&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.51&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#x6CE8;&#x610F;:spring&#x6574;&#x5408; redis&#x5982;&#x679C;&#x6CA1;&#x6709;&#x914D;&#x7F6E;redis&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x53EF;&#x80FD;&#x4F1A;&#x542F;&#x52A8;&#x62A5;&#x9519; &#xFF08;2&#xFF09;&#x5E38;&#x7528;&#x5BF9;&#x8C61;&#x521B;&#x5EFA;com.changgou.entity&#x5305; &#xFF0C;&#x5305;&#x4E0B;&#x5C01;&#x88C5;&#x76F8;&#x5173;&#x516C;&#x5171;&#x5B9E;&#x4F53;&#x7C7B;&#x3002;&#x5C06;&#x2019;&#x8D44;&#x6E90;/common_entity&#x2019;&#x4E0B;&#x7684;&#x76F8;&#x5173;&#x8D44;&#x6E90;&#x5BFC;&#x5165;&#x5DE5;&#x7A0B; package com.changgou.common.pojo; /** * &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5B9E;&#x4F53;&#x7C7B; */ public class Result&lt;T&gt; { private boolean flag;//&#x662F;&#x5426;&#x6210;&#x529F; private Integer code;//&#x8FD4;&#x56DE;&#x7801; private String message;//&#x8FD4;&#x56DE;&#x6D88;&#x606F; private T data;//&#x8FD4;&#x56DE;&#x6570;&#x636E; public Result(boolean flag, Integer code, String message, Object data) { this.flag = flag; this.code = code; this.message = message; this.data = (T)data; } public Result(boolean flag, Integer code, String message) { this.flag = flag; this.code = code; this.message = message; } public Result() { this.flag = true; this.code = StatusCode.OK; this.message = &quot;&#x6267;&#x884C;&#x6210;&#x529F;&quot;; } public boolean isFlag() { return flag; } public void setFlag(boolean flag) { this.flag = flag; } public Integer getCode() { return code; } public void setCode(Integer code) { this.code = code; } public String getMessage() { return message; } public void setMessage(String message) { this.message = message; } public T getData() { return data; } public void setData(T data) { this.data = data; } }&#x5EFA;&#x7ACB;&#x7C7B;&#x7528;&#x4E8E;&#x627F;&#x8F7D;&#x5206;&#x9875;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x679C; public class PageResult&lt;T&gt; { private Long total;//&#x603B;&#x8BB0;&#x5F55;&#x6570; private List&lt;T&gt; rows;//&#x8BB0;&#x5F55; public PageResult(Long total, List&lt;T&gt; rows) { this.total = total; this.rows = rows; } public PageResult() { } public Long getTotal() { return total; } public void setTotal(Long total) { this.total = total; } public List&lt;T&gt; getRows() { return rows; } public void setRows(List&lt;T&gt; rows) { this.rows = rows; } }&#x521B;&#x5EFA;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801;&#x5B9E;&#x4F53;&#x7C7B; /** * &#x8FD4;&#x56DE;&#x7801; */ public class StatusCode { public static final int OK=20000;//&#x6210;&#x529F; public static final int ERROR =20001;//&#x5931;&#x8D25; public static final int LOGINERROR =20002;//&#x7528;&#x6237;&#x540D;&#x6216;&#x5BC6;&#x7801;&#x9519;&#x8BEF; public static final int ACCESSERROR =20003;//&#x6743;&#x9650;&#x4E0D;&#x8DB3; public static final int REMOTEERROR =20004;//&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x5931;&#x8D25; public static final int REPERROR =20005;//&#x91CD;&#x590D;&#x64CD;&#x4F5C; }3.5.2 &#x6570;&#x636E;&#x8BBF;&#x95EE;&#x516C;&#x5171;&#x6A21;&#x5757;&#x642D;&#x5EFA;&#x200B; &#x8FD9;&#x4E2A;&#x516C;&#x5171;&#x6A21;&#x5757;&#x662F;&#x8FDE;&#x63A5;mysql&#x6570;&#x636E;&#x5E93;&#x7684;&#x516C;&#x5171;&#x5FAE;&#x670D;&#x52A1;&#x6A21;&#x5757;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x8FDE;&#x63A5;mysql&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x90FD;&#x7EE7;&#x627F;&#x81EA;&#x6B64;&#x5DE5;&#x7A0B;&#x3002; &#x200B; &#x521B;&#x5EFA;&#x516C;&#x5171;&#x6A21;&#x5757;changgou_common_db&#xFF0C;pom&#x6587;&#x4EF6;&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;!--&#x901A;&#x7528;mapper&#x8D77;&#x6B65;&#x4F9D;&#x8D56;--&gt; &lt;dependency&gt; &lt;groupId&gt;tk.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mapper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;2.0.4&lt;/version&gt; &lt;/dependency&gt; &lt;!--MySQL&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8;--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!--mybatis&#x5206;&#x9875;&#x63D2;&#x4EF6;--&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.2.3&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;3.6 &#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;&#x642D;&#x5EFA;3.6.1 &#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;API&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;&#xFF08;1&#xFF09;changgou_service_api &#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.persistence&lt;/groupId&gt; &lt;artifactId&gt;persistence-api&lt;/artifactId&gt; &lt;version&gt;1.0&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09;changgou_service_api &#x4E0B;&#x521B;&#x5EFA;changgou_service_goods_api&#x5B50;&#x6A21;&#x5757;&#x5E76;&#x6DFB;&#x52A0;common&#x4F9D;&#x8D56; 3.6.2 &#x5FAE;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;&#xFF08;1&#xFF09;changgou_service&#x4E0B;&#x521B;&#x5EFA;changgou_service_goods&#x5B50;&#x6A21;&#x5757; &#xFF0C;pom.xml&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_common_db&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.changgou&lt;/groupId&gt; &lt;artifactId&gt;changgou_service_goods_api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&#xFF08;2&#xFF09;&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;application.yml server: port: 9011 spring: application: name: goods datasource: driver-class-name: com.mysql.jdbc.Driver url: jdbc:mysql://192.168.200.128:3306/changgou_goods?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC username: root password: root eureka: client: service-url: defaultZone: http://127.0.0.1:6868/eureka instance: prefer-ip-address: true feign: hystrix: enabled: true #hystrix &#x914D;&#x7F6E; hystrix: command: default: execution: timeout: #&#x5982;&#x679C;enabled&#x8BBE;&#x7F6E;&#x4E3A;false&#xFF0C;&#x5219;&#x8BF7;&#x6C42;&#x8D85;&#x65F6;&#x4EA4;&#x7ED9;ribbon&#x63A7;&#x5236; enabled: true isolation: strategy: SEMAPHORE #mybatis&#x6253;&#x5370;&#x65E5;&#x5FD7;&#x914D;&#x7F6E; mybatis: configuration: log-impl: org.apache.ibatis.logging.stdout.StdOutImpl&#xFF08;3&#xFF09;&#x521B;&#x5EFA;&#x5305;com.changgou.goods &#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B; @SpringBootApplication @EnableEurekaClient @MapperScan(basePackages = {&quot;com.changgou.goods.dao&quot;}) public class GoodsApplication { public static void main(String[] args) { SpringApplication.run(GoodsApplication.class); } }&#x6CE8;&#x610F;&#xFF1A;@MapperScan&#x662F;tk.mybatis.spring.annotation&#x5305;&#x4E0B;&#x7684;&#xFF0C;&#x7528;&#x4E8E;&#x626B;&#x63CF;Mapper&#x63A5;&#x53E3; 4&#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;-&#x54C1;&#x724C;&#x589E;&#x5220;&#x6539;&#x67E5;4.1 &#x9700;&#x6C42;&#x5206;&#x6790;&#x521B;&#x5EFA;&#x5546;&#x54C1;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x5B9E;&#x73B0;&#x5BF9;&#x54C1;&#x724C;&#x8868;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x529F;&#x80FD;&#x3002;&#x5177;&#x4F53;&#x5305;&#x62EC; &#xFF08;1&#xFF09;&#x67E5;&#x8BE2;&#x5168;&#x90E8;&#x5217;&#x8868;&#x6570;&#x636E; &#xFF08;2&#xFF09;&#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x5B9E;&#x4F53;&#x6570;&#x636E; &#xFF08;3&#xFF09;&#x589E;&#x52A0; &#xFF08;4&#xFF09;&#x4FEE;&#x6539; &#xFF08;5&#xFF09;&#x5220;&#x9664; &#xFF08;6&#xFF09;&#x6761;&#x4EF6;&#x67E5;&#x8BE2; &#xFF08;7&#xFF09;&#x5206;&#x9875;&#x67E5;&#x8BE2; &#xFF08;8&#xFF09;&#x5206;&#x9875;+&#x6761;&#x4EF6;&#x67E5;&#x8BE2; 4.2 &#x8868;&#x7ED3;&#x6784;&#x5206;&#x6790; &#x5B57;&#x6BB5;&#x540D;&#x79F0; &#x5B57;&#x6BB5;&#x542B;&#x4E49; &#x5B57;&#x6BB5;&#x7C7B;&#x578B; &#x5B57;&#x6BB5;&#x957F;&#x5EA6; &#x5907;&#x6CE8; id &#x54C1;&#x724C;id INT name &#x54C1;&#x724C;&#x540D;&#x79F0; VARCHAR image &#x54C1;&#x724C;&#x56FE;&#x7247;&#x5730;&#x5740; VARCHAR letter &#x54C1;&#x724C;&#x7684;&#x9996;&#x5B57;&#x6BCD; CHAR seq &#x6392;&#x5E8F; INT 4.3 &#x4EE3;&#x7801;&#x5B9E;&#x73B0;4.3.1 &#x54C1;&#x724C;&#x5217;&#x8868;&#xFF08;1&#xFF09;&#x5728;changgou_service_goods_api&#x521B;&#x5EFA;com.changgou.goods.pojo&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;Brand&#x5B9E;&#x4F53;&#x7C7B; @Table(name=&quot;tb_brand&quot;) public class Brand implements Serializable{ @Id private Integer id;//&#x54C1;&#x724C;id private String name;//&#x54C1;&#x724C;&#x540D;&#x79F0; private String image;//&#x54C1;&#x724C;&#x56FE;&#x7247;&#x5730;&#x5740; private String letter;//&#x54C1;&#x724C;&#x7684;&#x9996;&#x5B57;&#x6BCD; private Integer seq;//&#x6392;&#x5E8F; // getter and setter .....(&#x7701;&#x7565;) }@Table&#x548C;@Id&#x90FD;&#x662F;JPA&#x6CE8;&#x89E3;&#xFF0C;@Table&#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x8868;&#x4E0E;&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x6620;&#x5C04;&#x5173;&#x7CFB;&#xFF0C;@Id&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x4E3B;&#x952E;&#x5C5E;&#x6027;&#x3002; &#xFF08;2&#xFF09;Dao&#x521B;&#x5EFA; &#x5728;changgou_service_goods&#x5FAE;&#x670D;&#x52A1;&#x4E0B;&#x521B;&#x5EFA;com.changgou.goods.dao.BrandMapper&#x63A5;&#x53E3;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; public interface BrandMapper extends Mapper&lt;Brand&gt; { }&#x7EE7;&#x627F;&#x4E86;Mapper&#x63A5;&#x53E3;&#xFF0C;&#x5C31;&#x81EA;&#x52A8;&#x5B9E;&#x73B0;&#x4E86;&#x589E;&#x5220;&#x6539;&#x67E5;&#x7684;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#x3002; &#xFF08;3&#xFF09;&#x4E1A;&#x52A1;&#x5C42; &#x521B;&#x5EFA;com.changgou.goods.service.BrandService&#x63A5;&#x53E3;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; public interface BrandService { /*** * &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x54C1;&#x724C; * @return */ public List&lt;Brand&gt; findAll(); }&#x521B;&#x5EFA;com.changgou.goods.service.impl&#x5305;&#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x670D;&#x52A1;&#x5B9E;&#x73B0;&#x7C7B; BrandServiceImpl&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Service public class BrandServiceImpl implements BrandService { @Autowired private BrandMapper brandMapper; @Override public List&lt;Brand&gt; findAll() { return brandMapper.selectAll(); } }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; &#x63A7;&#x5236;&#x5C42; com.changgou.goods&#x5305;&#x4E0B;&#x521B;&#x5EFA;controller&#x5305; &#xFF0C;&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x7C7B; @RequestMapping(&quot;/brand&quot;) @RestController public class BrandController { @Autowired private BrandService brandService; @GetMapping public Result&lt;List&lt;Brand&gt;&gt; findList(){ List&lt;Brand&gt; brandList = brandService.findList(); return new Result&lt;&gt;(true, StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,brandList); } }4.3.2 &#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#x63A5;&#x53E3;&#xFF0C;&#x6DFB;&#x52A0;&#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x6570;&#x636E;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x6570;&#x636E; */ Brand findById(Integer id);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x4FE1;&#x606F; * @param id * @return */ @Override public Brand findById(Integer id) { Brand brand = brandMapper.selectByPrimaryKey(id); return brand; }&#xFF08;3&#xFF09; &#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x6839;&#x636E;ID&#x67E5;&#x8BE2;&#x54C1;&#x724C;&#x6570;&#x636E; * @param id * @return */ @GetMapping(&quot;/{id}&quot;) public Result&lt;Brand&gt; findById(@PathVariable(&quot;id&quot;) Integer id){ Brand brand = brandService.findById(id); return new Result&lt;&gt;(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,brand); }4.3.3 &#x65B0;&#x589E;&#x54C1;&#x724C;&#xFF08;1&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#xFF0C;&#x65B0;&#x589E;&#x65B9;&#x6CD5; /** * &#x54C1;&#x724C;&#x65B0;&#x589E; */ void add(Brand brand);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x65B0;&#x589E;&#x589E;&#x52A0;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x589E;&#x52A0; * @param brand */ @Override @Transactional public void add(Brand brand) { brandMapper.insertSelective(brand); }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x65B0;&#x589E;&#x54C1;&#x724C;&#x6570;&#x636E; * @param brand * @return */ @PostMapping public Result add(@RequestBody Brand brand){ brandService.add(brand); return new Result(true,StatusCode.OK,&quot;&#x6DFB;&#x52A0;&#x6210;&#x529F;&quot;); }4.3.4 &#x4FEE;&#x6539;&#x54C1;&#x724C;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x9700;&#x6539;com.changgou.goods.service.BrandService,&#x6DFB;&#x52A0;&#x4FEE;&#x6539;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x54C1;&#x724C;&#x4FEE;&#x6539; */ void update(Brand brand);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x6DFB;&#x52A0;&#x4FEE;&#x6539;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x54C1;&#x724C;&#x4FEE;&#x6539; * @param brand */ @Override @Transactional public void update(Brand brand) { brandMapper.updateByPrimaryKey(brand); }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; @PutMapping(&quot;/{id}&quot;) public Result update(@PathVariable(&quot;id&quot;) Integer id,@RequestBody Brand brand){ brand.setId(id); brandService.update(brand); return new Result(true,StatusCode.OK,&quot;&#x4FEE;&#x6539;&#x6210;&#x529F;&quot;); }4.3.5 &#x5220;&#x9664;&#x54C1;&#x724C;&#xFF08;1&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#xFF0C;&#x6DFB;&#x52A0;&#x5220;&#x9664;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x54C1;&#x724C;&#x5220;&#x9664; */ void delById(Integer id);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x65B0;&#x589E;&#x5220;&#x9664;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x6839;&#x636E;id&#x5220;&#x9664;&#x54C1;&#x724C;&#x4FE1;&#x606F; * @param id */ @Override @Transactional public void delById(Integer id) { brandMapper.deleteByPrimaryKey(id); }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; @DeleteMapping(&quot;/{id}&quot;) public Result delById(@PathVariable(&quot;id&quot;) Integer id){ brandService.delById(id); return new Result(true,StatusCode.OK,&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;); }4.3.6 &#x54C1;&#x724C;&#x5217;&#x8868;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#xFF0C;&#x589E;&#x52A0;&#x6839;&#x636E;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x54C1;&#x724C;&#x5217;&#x8868;&#x6761;&#x4EF6;&#x67E5;&#x8BE2; */ List&lt;Brand&gt; list(Map&lt;String,Object&gt; searchMap);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x6DFB;&#x52A0;&#x6839;&#x636E;&#x591A;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x54C1;&#x724C;&#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x54C1;&#x724C;&#x5217;&#x8868;&#x6761;&#x4EF6;&#x67E5;&#x8BE2; * @param searchMap * @return */ @Override public List&lt;Brand&gt; list(Map&lt;String, Object&gt; searchMap) { Example example = new Example(Brand.class); //&#x5C01;&#x88C5;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; Example.Criteria criteria = example.createCriteria(); if (searchMap!=null){ //&#x54C1;&#x724C;&#x540D;&#x79F0;(&#x6A21;&#x7CCA;) like % if (searchMap.get(&quot;name&quot;)!=null &amp;&amp; !&quot;&quot;.equals(searchMap.get(&quot;name&quot;))){ criteria.andLike(&quot;name&quot;,&quot;%&quot;+searchMap.get(&quot;name&quot;)+&quot;%&quot;); } //&#x6309;&#x7167;&#x54C1;&#x724C;&#x9996;&#x5B57;&#x6BCD;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;(&#x7CBE;&#x786E;) if (searchMap.get(&quot;letter&quot;)!=null &amp;&amp; !&quot;&quot;.equals(searchMap.get(&quot;letter&quot;))){ criteria.andEqualTo(&quot;letter&quot;,searchMap.get(&quot;letter&quot;)); } } List&lt;Brand&gt; brandList = brandMapper.selectByExample(example); return brandList; }&#xFF08;3&#xFF09; &#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x591A;&#x6761;&#x4EF6;&#x641C;&#x7D22;&#x54C1;&#x724C;&#x6570;&#x636E; * @param searchMap * @return */ @GetMapping(&quot;/search&quot;) public Result&lt;List&lt;Brand&gt;&gt; search(@RequestParam Map searchMap){ List&lt;Brand&gt; list = brandService.list(searchMap); return new Result&lt;&gt;(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,list); }4.3.7 &#x54C1;&#x724C;&#x5217;&#x8868;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#x6DFB;&#x52A0;&#x5206;&#x9875;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x54C1;&#x724C;&#x5217;&#x8868;&#x5206;&#x9875;&#x67E5;&#x8BE2; * page:&#x5F53;&#x524D;&#x7684;&#x9875;&#x7801; * size:&#x6BCF;&#x9875;&#x663E;&#x793A;&#x591A;&#x5C11;&#x6761; */ Page&lt;Brand&gt; findPage(int page,int size);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#x6DFB;&#x52A0;&#x5206;&#x9875;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x5206;&#x9875;&#x67E5;&#x8BE2; * @param page * @param size * @return */ @Override public Page&lt;Brand&gt; findPage(int page, int size) { PageHelper.startPage(page,size); Page&lt;Brand&gt; page1 = (Page&lt;Brand&gt;) brandMapper.selectAll(); return page1; }&#xFF08;3&#xFF09; &#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; /*** * &#x5206;&#x9875;&#x641C;&#x7D22;&#x5B9E;&#x73B0; * @param page * @param size * @return */ @GetMapping(&quot;/searchPage/{page}/{size}&quot;) public Result findPage(@RequestParam Map searchMap,@PathVariable(&quot;page&quot;)int page,@PathVariable(&quot;size&quot;) int size){ int i=1/0; Page pageInfo = brandService.findPage(searchMap, page, size); PageResult pageResult = new PageResult(pageInfo.getTotal(),pageInfo.getResult()); return new Result(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,pageResult); }4.3.8 &#x54C1;&#x724C;&#x5217;&#x8868;&#x6761;&#x4EF6;+&#x5206;&#x9875;&#x67E5;&#x8BE2;&#xFF08;1&#xFF09; &#x4E1A;&#x52A1;&#x5C42;&#x63A5;&#x53E3; &#x4FEE;&#x6539;com.changgou.goods.service.BrandService&#xFF0C;&#x589E;&#x52A0;&#x591A;&#x6761;&#x4EF6;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x54C1;&#x724C;&#x5217;&#x8868;&#x5206;&#x9875;+&#x6761;&#x4EF6;&#x67E5;&#x8BE2; */ Page&lt;Brand&gt; findPage(Map&lt;String,Object&gt; searchMap,int page,int size);&#xFF08;2&#xFF09;&#x4E1A;&#x52A1;&#x5C42;&#x5B9E;&#x73B0; &#x4FEE;&#x6539;com.changgou.goods.service.impl.BrandServiceImpl&#xFF0C;&#x6DFB;&#x52A0;&#x591A;&#x6761;&#x4EF6;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x6761;&#x4EF6;+&#x5206;&#x9875;&#x67E5;&#x8BE2; * @param searchMap &#x67E5;&#x8BE2;&#x6761;&#x4EF6; * @param page &#x9875;&#x7801; * @param size &#x9875;&#x5927;&#x5C0F; * @return &#x5206;&#x9875;&#x7ED3;&#x679C; */ @Override public Page&lt;Brand&gt; findPage(Map&lt;String, Object&gt; searchMap, int page, int size) { //&#x8BBE;&#x7F6E;&#x5206;&#x9875; PageHelper.startPage(page,size); //&#x8BBE;&#x7F6E;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; Example example = new Example(Brand.class); Example.Criteria criteria = example.createCriteria(); if (searchMap!=null){ //&#x8BBE;&#x7F6E;&#x54C1;&#x724C;&#x540D;&#x79F0;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2; if (searchMap.get(&quot;name&quot;)!=null &amp;&amp; !&quot;&quot;.equals(searchMap.get(&quot;name&quot;))){ criteria.andLike(&quot;name&quot;,&quot;%&quot;+searchMap.get(&quot;name&quot;)+&quot;%&quot;); } //&#x8BBE;&#x7F6E;&#x54C1;&#x724C;&#x9996;&#x5B57;&#x6BCD;&#x7684;&#x7CBE;&#x786E;&#x67E5;&#x8BE2; if (searchMap.get(&quot;letter&quot;)!=null &amp;&amp; !&quot;&quot;.equals(searchMap.get(&quot;letter&quot;))){ criteria.andEqualTo(&quot;letter&quot;,searchMap.get(&quot;letter&quot;)); } } Page&lt;Brand&gt; pageInfo = (Page&lt;Brand&gt;) brandMapper.selectByExample(example); return pageInfo; }&#xFF08;3&#xFF09;&#x63A7;&#x5236;&#x5C42; BrandController&#x65B0;&#x589E;&#x65B9;&#x6CD5; @GetMapping(&quot;/search/{page}/{size}&quot;) public Result findPage(@PathVariable(&quot;page&quot;)int page,@PathVariable(&quot;size&quot;) int size){ Page&lt;Brand&gt; pageInfo = brandService.findPage(page, size); PageResult pageResult = new PageResult(pageInfo.getTotal(),pageInfo.getResult()); return new Result(true,StatusCode.OK,&quot;&#x67E5;&#x8BE2;&#x6210;&#x529F;&quot;,pageResult); }5 &#x516C;&#x5171;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x4E3A;&#x4E86;&#x4F7F;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x66F4;&#x5BB9;&#x6613;&#x7EF4;&#x62A4;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B;&#x96C6;&#x4E2D;&#x5904;&#x7406;&#x5F02;&#x5E38; &#x5728;com.changgou.goods.handler&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x516C;&#x5171;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7C7B;BaseExceptionHandler /** * &#x7EDF;&#x4E00;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7C7B; */ @ControllerAdvice //&#x58F0;&#x660E;&#x8BE5;&#x7C7B;&#x662F;&#x4E00;&#x4E2A;&#x589E;&#x5F3A;&#x7C7B; public class BaseExceptionHandler { @ExceptionHandler(value = Exception.class) @ResponseBody public Result error(Exception e){ e.printStackTrace(); return new Result(false, StatusCode.ERROR,&quot;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7E41;&#x5FD9;,&#x8BF7;&#x60A8;&#x7A0D;&#x540E;&#x91CD;&#x8BD5;&quot;); } } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fdi-shui-san-qi-bi-ji%2F1.html</url>
    <content type="text"><![CDATA[document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-15-mei-zi-guan-li-xi-tong-ji-cheng.html</url>
    <content type="text"><![CDATA[&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x96C6;&#x6210;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9700;&#x6C42;&#x5206;&#x6790;&#x200B; &#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x6211;&#x4EEC;&#x5DF2;&#x53EF;&#x4EE5;&#x7F16;&#x8F91;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F;&#x5E76;&#x4E0A;&#x4F20;&#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#xFF0C;&#x4E0B;&#x4E00;&#x6B65;&#x6211;&#x4EEC;&#x8981;&#x5B9E;&#x73B0;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x52A8;&#x6001;&#x8BFB;&#x53D6;&#x7AE0;&#x8282;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891;&#x5E76;&#x8FDB;&#x884C;&#x64AD;&#x653E;&#x3002;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x6240;&#x9700;&#x8981;&#x7684;&#x4FE1;&#x606F;&#x6709;&#x4E24;&#x7C7B;&#xFF1A;&#x4E00;&#x7C7B;&#x662F;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F;&#x3001;&#x4E00;&#x7C7B;&#x662F;&#x8BFE;&#x7A0B;&#x5B66;&#x4E60;&#x4FE1;&#x606F;&#xFF08;&#x89C6;&#x9891;&#x5730;&#x5740;&#x3001;&#x5B66;&#x4E60;&#x8FDB;&#x5EA6;&#x7B49;&#xFF09;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x96C6;&#x6210;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x7684;&#x9700;&#x6C42;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x663E;&#x793A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; 2&#x3001;&#x70B9;&#x51FB;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x64AD;&#x653E;&#x8BE5;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891; &#x672C;&#x7AE0;&#x8282;&#x5B9E;&#x73B0;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x52A8;&#x6001;&#x663E;&#x793A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#xFF0C;&#x8FDB;&#x5165;&#x4E0D;&#x540C;&#x8BFE;&#x7A0B;&#x7684;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x53F3;&#x4FA7;&#x52A8;&#x6001;&#x663E;&#x793A;&#x5F53;&#x524D;&#x8BFE;&#x7A0B;&#x7684;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x3002; Api&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F;&#x4ECE;&#x54EA;&#x91CC;&#x83B7;&#x53D6;&#xFF1F; &#x76EE;&#x524D;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F;&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;&#x548C;ES&#x7D22;&#x5F15;&#x5E93;&#x4E2D;&#x5B58;&#x5728;&#xFF0C;&#x8003;&#x8651;&#x6027;&#x80FD;&#x8981;&#x6C42;&#xFF0C;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x540E;&#x5BF9;&#x8BFE;&#x7A0B;&#x7684;&#x67E5;&#x8BE2;&#x7EDF;&#x4E00;&#x4ECE;ES&#x7D22;&#x5F15;&#x5E93;&#x4E2D;&#x67E5;&#x8BE2;&#x3002; &#x524D;&#x7AEF;&#x901A;&#x8FC7;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#xFF0C;&#x9700;&#x8981;&#x5355;&#x72EC;&#x5728;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x4E2D;&#x5B9A;&#x4E49;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x3002; &#x672C;&#x63A5;&#x53E3;&#x63A5;&#x6536;&#x8BFE;&#x7A0B;id&#xFF0C;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x3002; @ApiOperation(&quot;&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&quot;) public Map&lt;String,CoursePub&gt; getall(String id); &#x8FD4;&#x56DE;&#x7684;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x4E3A;json&#x7ED3;&#x6784;&#xFF1A;key&#x4E3A;&#x8BFE;&#x7A0B;id&#xFF0C;value&#x4E3A;&#x8BFE;&#x7A0B;&#x5185;&#x5BB9;&#x3002; Controller @Override @GetMapping(&quot;/getall/{id}&quot;) public Map&lt;String, CoursePub&gt; getall(@PathVariable(&quot;id&quot;) String id) { return esCourseService.getall(id); }service&#x5728;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x4E2D;&#x589E;&#x52A0;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x63A5;&#x53E3;&#x7684;service //&#x4F7F;&#x7528;ES&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5411;ES&#x8BF7;&#x6C42;&#x67E5;&#x8BE2;&#x7D22;&#x5F15;&#x4FE1;&#x606F; public Map&lt;String, CoursePub&gt; getall(String id) { //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61; SearchRequest searchRequest = new SearchRequest(index); //&#x6307;&#x5B9A;type searchRequest.types(type); //&#x5B9A;&#x4E49;SearchSourceBuilder SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder(); //&#x8BBE;&#x7F6E;&#x4F7F;&#x7528;termQuery searchSourceBuilder.query(QueryBuilders.termQuery(&quot;id&quot;,id)); //&#x8FC7;&#x8651;&#x6E90;&#x5B57;&#x6BB5;&#xFF0C;&#x4E0D;&#x7528;&#x8BBE;&#x7F6E;&#x6E90;&#x5B57;&#x6BB5;&#xFF0C;&#x53D6;&#x51FA;&#x6240;&#x6709;&#x5B57;&#x6BB5; // searchSourceBuilder.fetchSource() searchRequest.source(searchSourceBuilder); //&#x6700;&#x7EC8;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; Map&lt;String,CoursePub&gt; map = new HashMap&lt;&gt;(); try { SearchResponse search = restHighLevelClient.search(searchRequest); SearchHits hits = search.getHits(); SearchHit[] searchHits = hits.getHits(); for(SearchHit hit:searchHits){ CoursePub coursePub = new CoursePub(); //&#x83B7;&#x53D6;&#x6E90;&#x6587;&#x6863;&#x7684;&#x5185;&#x5BB9; Map&lt;String, Object&gt; sourceAsMap = hit.getSourceAsMap(); //&#x8BFE;&#x7A0B;id String courseId = (String) sourceAsMap.get(&quot;id&quot;); String name = (String) sourceAsMap.get(&quot;name&quot;); String grade = (String) sourceAsMap.get(&quot;grade&quot;); String charge = (String) sourceAsMap.get(&quot;charge&quot;); String pic = (String) sourceAsMap.get(&quot;pic&quot;); String description = (String) sourceAsMap.get(&quot;description&quot;); String teachplan = (String) sourceAsMap.get(&quot;teachplan&quot;); coursePub.setId(courseId); coursePub.setName(name); coursePub.setPic(pic); coursePub.setGrade(grade); coursePub.setTeachplan(teachplan); coursePub.setDescription(description); map.put(courseId,coursePub); } } catch (IOException e) { e.printStackTrace(); } return map; }&#x6D4B;&#x8BD5;http://localhost:40100/swagger-ui.html#/&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x7684;&#x4E8C;&#x7EA7;&#x57DF;&#x540D;&#x4E3A;ucenter.xuecheng.com&#xFF0C;&#x6211;&#x4EEC;&#x5728;nginx&#x4E2D;&#x914D;&#x7F6E;ucenter&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x3002; #&#x5B66;&#x6210;&#x7F51;&#x7528;&#x6237;&#x4E2D;&#x5FC3; server { listen 80; server_name ucenter.xuecheng.com; #&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3; location / { proxy_pass http://ucenter_server_pool; } } #&#x524D;&#x7AEF;ucenter upstream ucenter_server_pool{ #server 127.0.0.1:7081 weight=10; server 127.0.0.1:13000 weight=10; }&#x5728;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x8981;&#x8C03;&#x7528;&#x641C;&#x7D22;&#x7684;API&#xFF0C;&#x4F7F;&#x7528;Nginx&#x89E3;&#x51B3;&#x4EE3;&#x7406;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x914D;&#x7F6E;&#x641C;&#x7D22;Api&#x4EE3;&#x7406;&#x8DEF;&#x5F84;&#xFF1A; #&#x540E;&#x53F0;&#x641C;&#x7D22;&#xFF08;&#x516C;&#x5F00;api&#xFF09; upstream search_server_pool{ server 127.0.0.1:40100 weight=10; } #&#x540E;&#x7AEF;&#x641C;&#x7D22;&#x670D;&#x52A1; location /openapi/search/ { proxy_pass http://search_server_pool/search/; } &#x6700;&#x7EC8;nginx&#x7684;&#x914D;&#x7F6E;&#x4E3A; #user nobody; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; # &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; # &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; #&#x56FE;&#x7247;&#x670D;&#x52A1; upstream img_server_pool{ #server 192.168.101.64:80 weight=10; server 192.168.25.133:80 weight=10; } #cms&#x9875;&#x9762;&#x9884;&#x89C8; upstream aaa_pool{ server 127.0.0.1:31001 weight=10; } #&#x9759;&#x6001;&#x8D44;&#x6E90;&#x670D;&#x52A1; upstream static_server_pool{ server 127.0.0.1:91 weight=10; } #&#x524D;&#x7AEF;&#x52A8;&#x6001;&#x95E8;&#x6237; upstream dynamic_portal_server_pool{ server 127.0.0.1:10000 weight=10; } #&#x540E;&#x53F0;&#x641C;&#x7D22;&#xFF08;&#x516C;&#x5F00;api&#xFF09; upstream search_server_pool{ server 127.0.0.1:40100 weight=10; } #&#x5A92;&#x4F53;&#x670D;&#x52A1; upstream video_server_pool{ server 127.0.0.1:90 weight=10; } #&#x524D;&#x7AEF;ucenter upstream ucenter_server_pool{ #server 127.0.0.1:7081 weight=10; server 127.0.0.1:13000 weight=10; } server{ listen 80; server_name www.xuecheng.com; ssi on; ssi_silent_errors on; location / { alias X:/workspace/java/xczx/static/portal/; index index.html; } #&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x6240;&#x9700;&#x8981;&#x7684;&#x56FE;&#x7247;&#xFF0C;js&#x3001;css&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90; location /static/img/ { alias X:/workspace/java/xczx/static/portal/img/; } location /static/css/ { alias X:/workspace/java/xczx/static/portal/css/; } location /static/js/ { alias X:/workspace/java/xczx/static/portal/js/; } location /static/plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } location /plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } #&#x9875;&#x9762;&#x9884;&#x89C8; location /cms/preview/ { proxy_pass http://aaa_pool/cms/preview/; } location /static/company/ { proxy_pass http://static_server_pool; } location /static/teacher/ { proxy_pass http://static_server_pool; } location /static/stat/ { proxy_pass http://static_server_pool; } location /course/detail/ { proxy_pass http://static_server_pool; } #&#x524D;&#x7AEF;&#x95E8;&#x6237;&#x8BFE;&#x7A0B;&#x641C;&#x7D22; location ^~ /course/search { proxy_pass http://dynamic_portal_server_pool; } #&#x5206;&#x7C7B;&#x4FE1;&#x606F; location /static/category/ { proxy_pass http://static_server_pool; } #&#x5F00;&#x53D1;&#x73AF;&#x5883;webpack&#x5B9A;&#x65F6;&#x52A0;&#x8F7D;&#x6B64;&#x6587;&#x4EF6; location ^~ /__webpack_hmr/ { proxy_pass http://dynamic_portal_server_pool/__webpack_hmr; } #&#x5F00;&#x53D1;&#x73AF;&#x5883;nuxt&#x8BBF;&#x95EE;_nuxt location ^~ /_nuxt/ { proxy_pass http://dynamic_portal_server_pool/_nuxt/; } } #&#x5B66;&#x6210;&#x7F51;&#x56FE;&#x7247;&#x670D;&#x52A1; server { listen 80; server_name img.xuecheng.com; #&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3; location /group1 { proxy_pass http://img_server_pool; } } #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x4EE3;&#x7406; #&#x53EA;&#x5141;&#x8BB8;&#x67D0;&#x51E0;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x8DE8;&#x57DF; map $http_origin $origin_list{ default http://www.xuecheng.com; &quot;~http://www.xuecheng.com&quot; http://www.xuecheng.com; &quot;~http://ucenter.xuecheng.com&quot; http://ucenter.xuecheng.com; } #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x4EE3;&#x7406; server { listen 80; server_name video.xuecheng.com; location /video/ { proxy_pass http://video_server_pool; add_header Access-Control-Allow-Origin $origin_list; #add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } } #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1; server { listen 90; server_name localhost; #&#x89C6;&#x9891;&#x76EE;&#x5F55; location /video/ { alias X:/workspace/java/xczx/static/video/; } } #&#x5B66;&#x6210;&#x7F51;&#x7528;&#x6237;&#x4E2D;&#x5FC3; server { listen 80; server_name ucenter.xuecheng.com; #&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3; location / { proxy_pass http://ucenter_server_pool; } #&#x540E;&#x7AEF;&#x641C;&#x7D22;&#x670D;&#x52A1; location /openapi/search/ { proxy_pass http://search_server_pool/search/; } } #&#x5B66;&#x6210;&#x7F51;&#x9759;&#x6001;&#x8D44;&#x6E90; server { listen 91; server_name localhost; #&#x516C;&#x53F8;&#x4FE1;&#x606F; location /static/company/ { alias X:/workspace/java/xczx/static/company/; } #&#x8001;&#x5E08;&#x4FE1;&#x606F; location /static/teacher/ { alias X:/workspace/java/xczx/static/teacher/; } #&#x7EDF;&#x8BA1;&#x4FE1;&#x606F; location /static/stat/ { alias X:/workspace/java/xczx/static/stat/; } location /course/detail/ { alias X:/workspace/java/xczx/static/course/detail/; } #&#x5206;&#x7C7B;&#x4FE1;&#x606F; location /static/category/ { alias X:/workspace/java/xczx/static/category/; } } # another virtual host using mix of IP-, name-, and port-based configuration # #server { # listen 8000; # listen somename:8080; # server_name somename alias another.alias; # location / { # root html; # index index.html index.htm; # } #} # HTTPS server # #server { # listen 443 ssl; # server_name localhost; # ssl_certificate cert.pem; # ssl_certificate_key cert.key; # ssl_session_cache shared:SSL:1m; # ssl_session_timeout 5m; # ssl_ciphers HIGH:!aNULL:!MD5; # ssl_prefer_server_ciphers on; # location / { # root html; # index index.html index.htm; # } #} }API&#x5728;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x5BF9;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x7684;&#x67E5;&#x8BE2;&#x5C5E;&#x4E8E;&#x57FA;&#x7840;&#x5E38;&#x7528;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C06;&#x8BFE;&#x7A0B;&#x67E5;&#x8BE2;&#x7684;api&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x5728;base&#x6A21;&#x5757;&#x4E0B;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x5728;system.js&#x4E2D;&#x5B9A;&#x4E49;&#x8BFE;&#x7A0B;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#xFF1A; import http from &apos;./public&apos; export const course_view = id =&gt; { return http.requestGet(&apos;/openapi/search/course/getall/&apos;+id); }API&#x8C03;&#x7528;&#x5728;learning_video.vue&#x9875;&#x9762;&#x4E2D;&#x8C03;&#x7528;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF0C;&#x5F97;&#x5230;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#xFF0C;&#x5C06;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;json&#x4E32;&#x8F6C;&#x6210;&#x5BF9;&#x8C61;&#x3002; 1.&#x5B9A;&#x4E49;&#x89C6;&#x56FE;&#x200B; a&#x3001;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; &lt;div class=&quot;nav nav-stacked&quot; v-for=&quot;(teachplan_first, index) in teachplanList&quot;&gt; &lt;div class=&quot;tit nav-justified text-center&quot;&gt;&lt;i class=&quot;pull-left glyphicon glyphicon-th-list&quot;&gt;&lt;/i&gt;{{teachplan_first.pname}}&lt;i class=&quot;pull-right&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;li v-if=&quot;teachplan_first.children!=null&quot; v-for=&quot;(teachplan_second, index) in teachplan_first.children&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-check&quot;&gt;&lt;/i&gt; &lt;a :href=&quot;url&quot; @click=&quot;study(teachplan_second.id)&quot;&gt; {{teachplan_second.pname}} &lt;/a&gt; &lt;/li&gt; &lt;/div&gt;&#x200B; b&#x3001;&#x8BFE;&#x7A0B;&#x540D;&#x79F0; &lt;div class=&quot;top text-center&quot;&gt; {{coursename}} &lt;/div&gt;2.&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x5BF9;&#x8C61; data() { return { url:&apos;&apos;,//&#x5F53;&#x524D;url courseId:&apos;&apos;,//&#x8BFE;&#x7A0B;id chapter:&apos;&apos;,//&#x7AE0;&#x8282;Id coursename:&apos;&#x8BFE;&#x7A0B;&#x540D;&#x79F0;&apos;,//&#x8BFE;&#x7A0B;&#x540D;&#x79F0; coursepic:&apos;&apos;,//&#x8BFE;&#x7A0B;&#x56FE;&#x7247; teachplanList:[],//&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; playerOptions: {//&#x64AD;&#x653E;&#x53C2;&#x6570; autoplay: false, controls: true, sources: [{ type: &quot;application/x-mpegURL&quot;, src: &apos;&apos; }] }, } },3.&#x5728;created&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#x4E2D;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; created(){ // &#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;url this.url = window.location // &#x8BFE;&#x7A0B;id this.courseId = this.$route.params.courseId // &#x7AE0;&#x8282;id this.chapter = this.$route.params.chapter // &#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; systemApi.course_view(this.courseId).then((view_course) =&gt; { console.log(view_course) /* if(!view_course || !view_course[this.courseId]){ this.$message.error(&quot;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x5931;&#x8D25;&quot;) return ; } //&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x62FF;&#x5230;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; let courseInfo = view_course[this.courseId]; //&#x53D6;&#x51FA;teachplan&#x7684;&#x4E32; let teachplanString = courseInfo.teachplan; //&#x628A;&#x4E32;&#x8F6C;&#x6210;&#x5BF9;&#x8C61; let teachplanObj = JSON.parse(teachplanString); //&#x53D6;&#x5230;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; this.teachplanList = teachplanObj.children;*/ }) },&#x6CE8;&#x610F;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x4F20;&#x9012;&#x7684;&#x662F;teachplan&#x4E3A; JSON&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E; &#x6211;&#x81EA;&#x5DF1;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;&#x7684;&#x662F; http://ucenter.xuecheng.com/#/learning/4028e581617f945f01617f9dabc40000/1&#x5B66;&#x4E60;&#x9875;&#x9762;&#x83B7;&#x53D6;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x5730;&#x5740;&#x9700;&#x6C42;&#x5206;&#x6790;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5C06;&#x64AD;&#x653E;&#x8BE5;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5BF9;&#x5E94;&#x7684;&#x6559;&#x5B66;&#x89C6;&#x9891;&#x3002; &#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x8BF4;&#x660E;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#xFF0C;&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#xFF08;&#x5305;&#x62EC;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F;&#xFF09;&#x5E76;&#x4E14;&#x5728;&#x9875;&#x9762;&#x5C55;&#x793A;&#x3002; 2&#x3001;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x5730;&#x5740;&#x3002; 3&#x3001;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x6821;&#x9A8C;&#x5F53;&#x524D;&#x7528;&#x6237;&#x662F;&#x5426;&#x6709;&#x6743;&#x9650;&#x5B66;&#x4E60;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x5B66;&#x4E60;&#x5219;&#x63D0;&#x793A;&#x7528;&#x6237;&#x3002; 4&#x3001;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x6821;&#x9A8C;&#x901A;&#x8FC7;&#xFF0C;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x3002; 5&#x3001;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x8BF7;&#x6C42;ElasticSearch&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8BF7;&#x6C42;ElasticSearch&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#xFF1F; &#x51FA;&#x4E8E;&#x6027;&#x80FD;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x516C;&#x5F00;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x4ECE;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x67E5;&#x8BE2;&#x3002; &#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x5C06;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5230;ElasticSearch&#x4E2D;&#xFF1F; &#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x662F;&#x5728;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x7684;&#x65F6;&#x5019;&#x5B58;&#x5165;ElasticSearch&#xFF0C;&#x56E0;&#x4E3A;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x540E;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x5C06;&#x57FA;&#x672C;&#x4E0D;&#x518D;&#x4FEE;&#x6539;&#x3002; &#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x5B58;&#x50A8;&#x5A92;&#x8D44;&#x4FE1;&#x606F;1.&#x9700;&#x6C42;&#x5206;&#x6790;&#x200B; &#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x662F;&#x5728;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x7684;&#x65F6;&#x5019;&#x5B58;&#x5165;ElasticSearch&#x7D22;&#x5F15;&#x5E93;&#xFF0C;&#x56E0;&#x4E3A;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x540E;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x5C06;&#x57FA;&#x672C;&#x4E0D;&#x518D;&#x4FEE;&#x6539;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#x3002; &#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#xFF0C;&#x5411;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x8868;&#x5199;&#x5165;&#x6570;&#x636E;&#x3002; 1&#xFF09;&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x5220;&#x9664;teachplanMediaPub&#x4E2D;&#x7684;&#x6570;&#x636E; 2&#xFF09;&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;teachplanMedia&#x6570;&#x636E; 3&#xFF09;&#x5C06;&#x67E5;&#x8BE2;&#x5230;&#x7684;teachplanMedia&#x6570;&#x636E;&#x63D2;&#x5165;&#x5230;teachplanMediaPub&#x4E2D; 2&#x3001;Logstash&#x5B9A;&#x65F6;&#x626B;&#x63CF;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x8868;&#xFF0C;&#x5E76;&#x5C06;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x5199;&#x5165;&#x7D22;&#x5F15;&#x5E93;&#x3002; 2.&#x6570;&#x636E;&#x6A21;&#x578B;&#x5728;xc_course&#x6570;&#x636E;&#x5E93;&#x521B;&#x5EFA;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;&#x53D1;&#x5E03;&#x8868;&#xFF1A; CREATE TABLE `teachplan_media_pub` ( `teachplan_id` varchar(32) NOT NULL COMMENT &apos;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&apos;, `media_id` varchar(32) NOT NULL COMMENT &apos;&#x5A92;&#x8D44;&#x6587;&#x4EF6;id&apos;, `media_fileoriginalname` varchar(128) NOT NULL COMMENT &apos;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x7684;&#x539F;&#x59CB;&#x540D;&#x79F0;&apos;, `media_url` varchar(256) NOT NULL COMMENT &apos;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x5730;&#x5740;&apos;, `courseid` varchar(32) NOT NULL COMMENT &apos;&#x8BFE;&#x7A0B;Id&apos;, `timestamp` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT &apos;logstash&#x4F7F;&#x7528;&apos;, PRIMARY KEY (`teachplan_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8&#x6570;&#x636E;&#x6A21;&#x578B;&#x7C7B;&#x5982;&#x4E0B;&#xFF1A; import lombok.Data; import lombok.ToString; import org.hibernate.annotations.GenericGenerator; import javax.persistence.*; import java.io.Serializable; import java.util.Date; /** * @author develop1 * @date 2019-11-29 19:06 */ @Data @ToString @Entity @Table(name=&quot;teachplan_media_pub&quot;) @GenericGenerator(name = &quot;jpa-assigned&quot;, strategy = &quot;assigned&quot;) public class TeachplanMediaPub implements Serializable { private static final long serialVersionUID = -916357110051689485L; @Id @GeneratedValue(generator = &quot;jpa-assigned&quot;) @Column(name=&quot;teachplan_id&quot;) private String teachplanId; @Column(name=&quot;media_id&quot;) private String mediaId; @Column(name=&quot;media_fileoriginalname&quot;) private String mediaFileOriginalName; @Column(name=&quot;media_url&quot;) private String mediaUrl; @Column(name=&quot;courseid&quot;) private String courseId; @Column(name=&quot;timestamp&quot;) private Date timestamp;//&#x65F6;&#x95F4;&#x6233; }3.Dao&#x521B;&#x5EFA;TeachplanMediaPub&#x8868;&#x7684;Dao&#xFF0C;&#x5411;TeachplanMediaPub&#x5B58;&#x50A8;&#x4FE1;&#x606F;&#x91C7;&#x7528;&#x5148;&#x5220;&#x9664;&#x8BE5;&#x8BFE;&#x7A0B;&#x7684;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#xFF0C;&#x518D;&#x6DFB;&#x52A0;&#x8BE5;&#x8BFE;&#x7A0B;&#x7684;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;&#x65B9;&#x6CD5;&#xFF1A; public interface TeachplanMediaPubRepository extends JpaRepository&lt;TeachplanMediaPub, String&gt; { //&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;&#x4FE1;&#x606F; long deleteByCourseId(String courseId); }//&#x4ECE;TeachplanMedia&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;&#x4FE1;&#x606F; public interface TeachplanMediaRepository extends JpaRepository&lt;TeachplanMedia, String&gt; { List&lt;TeachplanMedia&gt; findByCourseId(String courseId); }4.Service&#x7F16;&#x5199;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5728;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x65F6;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x3002; 1&#x3001;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x65B9;&#x6CD5; &#x672C;&#x65B9;&#x6CD5;&#x91C7;&#x7528;&#x5148;&#x5220;&#x9664;&#x8BE5;&#x8BFE;&#x7A0B;&#x7684;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#xFF0C;&#x518D;&#x6DFB;&#x52A0;&#x8BE5;&#x8BFE;&#x7A0B;&#x7684;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x3002; //&#x5411;teachplanMediaPub&#x4E2D;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F; private void saveTeachplanMediaPub(String courseId){ //&#x5148;&#x5220;&#x9664;teachplanMediaPub&#x4E2D;&#x7684;&#x6570;&#x636E; teachplanMediaPubRepository.deleteByCourseId(courseId); //&#x4ECE;teachplanMedia&#x4E2D;&#x67E5;&#x8BE2; List&lt;TeachplanMedia&gt; teachplanMediaList = teachplanMediaRepository.findByCourseId(courseId); List&lt;TeachplanMediaPub&gt; teachplanMediaPubs = new ArrayList&lt;&gt;(); //&#x5C06;teachplanMediaList&#x6570;&#x636E;&#x653E;&#x5230;teachplanMediaPubs&#x4E2D; for(TeachplanMedia teachplanMedia:teachplanMediaList){ TeachplanMediaPub teachplanMediaPub = new TeachplanMediaPub(); BeanUtils.copyProperties(teachplanMedia,teachplanMediaPub); //&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&#x6233; teachplanMediaPub.setTimestamp(new Date()); teachplanMediaPubs.add(teachplanMediaPub); } //&#x5C06;teachplanMediaList&#x63D2;&#x5165;&#x5230;teachplanMediaPub teachplanMediaPubRepository.saveAll(teachplanMediaPubs); }2&#x3001;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x65F6;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; &#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x7684;service&#x65B9;&#x6CD5;&#xFF1A; //&#x5411;teachplanMediaPub&#x4E2D;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F; private void saveTeachplanMediaPub(String courseId){ //&#x5148;&#x5220;&#x9664;teachplanMediaPub&#x4E2D;&#x7684;&#x6570;&#x636E; teachplanMediaPubRepository.deleteByCourseId(courseId); //&#x4ECE;teachplanMedia&#x4E2D;&#x67E5;&#x8BE2; List&lt;TeachplanMedia&gt; teachplanMediaList = teachplanMediaRepository.findByCourseId(courseId); List&lt;TeachplanMediaPub&gt; teachplanMediaPubs = new ArrayList&lt;&gt;(); //&#x5C06;teachplanMediaList&#x6570;&#x636E;&#x653E;&#x5230;teachplanMediaPubs&#x4E2D; for(TeachplanMedia teachplanMedia:teachplanMediaList){ TeachplanMediaPub teachplanMediaPub = new TeachplanMediaPub(); BeanUtils.copyProperties(teachplanMedia,teachplanMediaPub); //&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&#x6233; teachplanMediaPub.setTimestamp(new Date()); teachplanMediaPubs.add(teachplanMediaPub); } //&#x5C06;teachplanMediaList&#x63D2;&#x5165;&#x5230;teachplanMediaPub teachplanMediaPubRepository.saveAll(teachplanMediaPubs); }Logstash&#x626B;&#x63CF;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;Logstash&#x5B9A;&#x65F6;&#x626B;&#x63CF;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x8868;&#xFF0C;&#x5E76;&#x5C06;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x5199;&#x5165;&#x7D22;&#x5F15;&#x5E93;&#x3002;&#x2018; 1.&#x521B;&#x5EFA;&#x7D22;&#x5F15;1&#x3001;&#x521B;&#x5EFA;xc_course_media&#x7D22;&#x5F15; 2&#x3001;&#x5E76;&#x5411;&#x6B64;&#x7D22;&#x5F15;&#x521B;&#x5EFA;&#x5982;&#x4E0B;&#x6620;&#x5C04; Post http://localhost:9200/xc_course_media/doc/_mapping { &quot;properties&quot; : { &quot;courseid&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;teachplan_id&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;media_id&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;media_url&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;text&quot; }, &quot;media_fileoriginalname&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;text&quot; } } }2.&#x521B;&#x5EFA;Logstash&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5728;logstach&#x7684;config&#x76EE;&#x5F55;&#x521B;&#x5EFA;xc_course_media_template.json&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; { &quot;mappings&quot; : { &quot;doc&quot; : { &quot;properties&quot; : { &quot;courseid&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;teachplan_id&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;media_id&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;media_url&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;text&quot; }, &quot;media_fileoriginalname&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;text&quot; } } }, &quot;template&quot; : &quot;xc_course_media&quot; }3.&#x914D;&#x7F6E;mysql.conf&#x5728;logstash&#x7684;config&#x76EE;&#x5F55;&#x4E0B;&#x914D;&#x7F6E;mysql_course_media.conf&#x6587;&#x4EF6;&#x4F9B;logstash&#x4F7F;&#x7528;&#xFF0C;logstash&#x4F1A;&#x6839;&#x636E;mysql_course_media.conf&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E;&#x7684;&#x5730;&#x5740;&#x4ECE;MySQL&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5411;ES&#x4E2D;&#x5199;&#x5165;&#x7D22;&#x5F15;&#x3002; &#x53C2;&#x8003;https://www.elastic.co/guide/en/logstash/current/plugins-inputs-jdbc.html &#x914D;&#x7F6E;&#x8F93;&#x5165;&#x6570;&#x636E;&#x6E90;&#x548C;&#x8F93;&#x51FA;&#x6570;&#x636E;&#x6E90;&#x3002; input { stdin { } jdbc { # 1.&#x6570;&#x636E;&#x5E93;&#x540D;&#x8981;&#x66FF;&#x6362; jdbc_connection_string =&gt; &quot;jdbc:mysql://localhost:3306/xc_course?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true&amp;serverTimezone=UTC&quot; # the user we wish to excute our statement as # 2.&#x6570;&#x636E;&#x5E93;&#x540D;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x8981;&#x66FF;&#x6362; jdbc_user =&gt; &quot;root&quot; jdbc_password =&gt; root # the path to our downloaded jdbc driver # 3.mysql&#x9A71;&#x52A8;&#x8981;&#x66FF;&#x6362; jdbc_driver_library =&gt; &quot;X:/development/java/mysql-connector-java-5.1.41.jar&quot; # the name of the driver class for mysql jdbc_driver_class =&gt; &quot;com.mysql.jdbc.Driver&quot; jdbc_paging_enabled =&gt; &quot;true&quot; jdbc_page_size =&gt; &quot;50000&quot; #&#x8981;&#x6267;&#x884C;&#x7684;sql&#x6587;&#x4EF6; #statement_filepath =&gt; &quot;/conf/course.sql&quot; # 4.&#x8868;&#x660E;&#x6CE8;&#x610F;&#x8981;&#x66FF;&#x6362; statement =&gt; &quot;select * from teachplan_media_pub where timestamp &gt; date_add(:sql_last_value,INTERVAL 8 HOUR)&quot; #&#x5B9A;&#x65F6;&#x914D;&#x7F6E; schedule =&gt; &quot;* * * * *&quot; record_last_run =&gt; true # 5.metadata&#x914D;&#x7F6E;&#x6587;&#x4EF6; last_run_metadata_path =&gt; &quot;X:/development/java/logstash/config/logstash_metadata&quot; } } output { elasticsearch { #ES&#x7684;ip&#x5730;&#x5740;&#x548C;&#x7AEF;&#x53E3; hosts =&gt; &quot;localhost:9200&quot; #hosts =&gt; [&quot;localhost:9200&quot;,&quot;localhost:9202&quot;,&quot;localhost:9203&quot;] #ES&#x7D22;&#x5F15;&#x5E93;&#x540D;&#x79F0; index =&gt; &quot;xc_course_media&quot; document_id =&gt; &quot;%{teachplan_id}&quot; document_type =&gt; &quot;doc&quot; template =&gt;&quot;X:/development/java/logstash/config/xc_course_media_template.json&quot; template_name =&gt;&quot;xc_course_media&quot; template_overwrite =&gt;&quot;true&quot; } stdout { #&#x65E5;&#x5FD7;&#x8F93;&#x51FA; codec =&gt; json_lines } } 4.&#x542F;&#x52A8;logstash.bat&#x542F;&#x52A8;logstash.bat&#x91C7;&#x96C6;teachplan_media_pub&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5411;ES&#x5199;&#x5165;&#x7D22;&#x5F15;&#x3002; logstash.bat -f ../config/mysql_course_media.conf&#x641C;&#x7D22;&#x670D;&#x52A1;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x63A5;&#x53E3;1. Api&#x5728;Api&#x5DE5;&#x7A0B;search&#x5305;&#x4E0B;&#x5B9A;&#x4E49; @ApiOperation(&quot;&#x6839;&#x636E;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x8BE2;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&quot;) public TeachplanMediaPub getmedia(String teachplanId);2.service1&#x3001;&#x914D;&#x7F6E;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;&#x7D22;&#x5F15;&#x5E93;&#x7B49;&#x4FE1;&#x606F; &#x5728;application.yml&#x4E2D;&#x914D;&#x7F6E; xuecheng: elasticsearch: hostlist: ${eshostlist:127.0.0.1:9200} #&#x591A;&#x4E2A;&#x7ED3;&#x70B9;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694; course: index: xc_course type: doc source_field: id,name,grade,mt,st,charge,valid,pic,qq,price,price_old,status,studymodel,teachmode,expires,pub_time,start_time,end_time media: index: xc_course_media type: doc source_field: courseid,media_id,media_url,teachplan_id,media_fileoriginalname2&#x3001;service&#x65B9;&#x6CD5;&#x5F00;&#x53D1; &#x5728;&#x8BFE;&#x7A0B;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x4E2D;&#x5B9A;&#x4E49;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF0C;&#x4E3A;&#x4E86;&#x9002;&#x5E94;&#x540E;&#x7EED;&#x9700;&#x6C42;&#xFF0C;service&#x53C2;&#x6570;&#x5B9A;&#x4E49;&#x4E3A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4E00;&#x6B21;&#x67E5;&#x8BE2;&#x591A;&#x4E2A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x3002; @Value(&quot;${xuecheng.media.index}&quot;) private String media_index; @Value(&quot;${xuecheng.media.type}&quot;) private String media_type; @Value(&quot;${xuecheng.media.source_field}&quot;) private String media_source_field; //&#x6839;&#x636E;&#x591A;&#x4E2A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F; public QueryResponseResult&lt;TeachplanMediaPub&gt; getmedia(String[] teachplanIds) { //&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61; SearchRequest searchRequest = new SearchRequest(media_index); //&#x6307;&#x5B9A;type searchRequest.types(media_type); //&#x5B9A;&#x4E49;SearchSourceBuilder SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder(); //&#x8BBE;&#x7F6E;&#x4F7F;&#x7528;termsQuery&#x6839;&#x636E;&#x591A;&#x4E2A;id &#x67E5;&#x8BE2; searchSourceBuilder.query(QueryBuilders.termsQuery(&quot;teachplan_id&quot;,teachplanIds)); //&#x8FC7;&#x8651;&#x6E90;&#x5B57;&#x6BB5; String[] includes = media_source_field.split(&quot;,&quot;); searchSourceBuilder.fetchSource(includes,new String[]{}); searchRequest.source(searchSourceBuilder); //&#x4F7F;&#x7528;es&#x5BA2;&#x6237;&#x7AEF;&#x8FDB;&#x884C;&#x641C;&#x7D22;&#x8BF7;&#x6C42;Es List&lt;TeachplanMediaPub&gt; teachplanMediaPubList = new ArrayList&lt;&gt;(); long total = 0; try { //&#x6267;&#x884C;&#x641C;&#x7D22; SearchResponse search = restHighLevelClient.search(searchRequest); SearchHits hits = search.getHits(); total = hits.totalHits; SearchHit[] searchHits = hits.getHits(); for(SearchHit hit:searchHits){ TeachplanMediaPub teachplanMediaPub= new TeachplanMediaPub(); Map&lt;String, Object&gt; sourceAsMap = hit.getSourceAsMap(); //&#x53D6;&#x51FA;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5A92;&#x8D44;&#x4FE1;&#x606F; String courseid = (String) sourceAsMap.get(&quot;courseid&quot;); String media_id = (String) sourceAsMap.get(&quot;media_id&quot;); String media_url = (String) sourceAsMap.get(&quot;media_url&quot;); String teachplan_id = (String) sourceAsMap.get(&quot;teachplan_id&quot;); String media_fileoriginalname = (String) sourceAsMap.get(&quot;media_fileoriginalname&quot;); teachplanMediaPub.setCourseId(courseid); teachplanMediaPub.setMediaUrl(media_url); teachplanMediaPub.setMediaFileOriginalName(media_fileoriginalname); teachplanMediaPub.setMediaId(media_id); teachplanMediaPub.setTeachplanId(teachplan_id); teachplanMediaPubList.add(teachplanMediaPub); } } catch (IOException e) { e.printStackTrace(); } //&#x6570;&#x636E;&#x96C6;&#x5408; QueryResult&lt;TeachplanMediaPub&gt; queryResult = new QueryResult&lt;&gt;(); queryResult.setList(teachplanMediaPubList); queryResult.setTotal(total); QueryResponseResult&lt;TeachplanMediaPub&gt; queryResponseResult = new QueryResponseResult&lt;&gt;(CommonCode.SUCCESS,queryResult); return queryResponseResult; }Controller @Override @GetMapping(value=&quot;/getmedia/{teachplanId}&quot;) public TeachplanMediaPub getmedia(@PathVariable(&quot;teachplanId&quot;) String teachplanId) { //&#x5C06;&#x4E00;&#x4E2A;id&#x52A0;&#x5165;&#x6570;&#x7EC4;&#xFF0C;&#x4F20;&#x7ED9;service&#x65B9;&#x6CD5; String[] teachplanIds = new String[]{teachplanId}; QueryResponseResult&lt;TeachplanMediaPub&gt; queryResponseResult = esCourseService.getmedia(teachplanIds); QueryResult&lt;TeachplanMediaPub&gt; queryResult = queryResponseResult.getQueryResult(); if(queryResult != null){ List&lt;TeachplanMediaPub&gt; list = queryResult.getList(); if(list !=null &amp;&amp; list.size()&gt;0){ return list.get(0); } } return new TeachplanMediaPub(); }&#x6D4B;&#x8BD5;&#x542F;&#x52A8; &#x200B; 1.&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x200B; 2.ManageMediaApplication &#x200B; 3.ManageCmsApplication &#x200B; 4.ManageCmsClientApplication &#x200B; 5.SearchApplication &#x200B; 6.ManageCourseApplication &#x4F7F;&#x7528;swagger-ui&#x548C;postman&#x6D4B;&#x8BD5;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x3002; &#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x63A5;&#x53E3;&#x9700;&#x6C42;&#x5206;&#x6790;&#x6839;&#x636E;&#x4E0B;&#x8FB9;&#x7684;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#xFF0C;&#x672C;&#x7AE0;&#x8282;&#x5B8C;&#x6210;&#x524D;&#x7AEF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#x5730;&#x5740;&#xFF0C;&#x5E76;&#x81EA;&#x52A8;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x3002; &#x642D;&#x5EFA;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x521B;&#x5EFA;xc_learning&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5B66;&#x4E60;&#x6570;&#x636E;&#x5E93;&#x5C06;&#x8BB0;&#x5F55;&#x5B66;&#x751F;&#x7684;&#x9009;&#x8BFE;&#x4FE1;&#x606F;&#x3001;&#x5B66;&#x4E60;&#x4FE1;&#x606F;&#x3002; &#x5BFC;&#x5165;&#xFF1A;&#x8D44;&#x6599;/xc_learning.sql &#x521B;&#x5EFA;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x53C2;&#x8003;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x7ED3;&#x6784;&#xFF0C;&#x521B;&#x5EFA;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#xFF1A; pom.xml &lt;dependencies&gt; &lt;!-- &#x5BFC;&#x5165;Eureka&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4F9D;&#x8D56; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-service-api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-model&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-utils&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.10&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-orm&lt;/artifactId&gt; &lt;version&gt;${springframework.version}&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;commons-io&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;server: port: ${PORT:40600} spring: application: name: xc-service-learning datasource: druid: url: ${MYSQL_URL:jdbc:mysql://localhost:3306/xc_learning?characterEncoding=utf-8} username: root password: root driverClassName: com.mysql.jdbc.Driver initialSize: 5 #&#x521D;&#x59CB;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x6570;&#x91CF; minIdle: 5 #&#x6700;&#x5C0F;&#x8FDE;&#x63A5;&#x6570;&#x91CF; maxActive: 20 #&#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;&#x91CF; maxWait: 10000 #&#x83B7;&#x53D6;&#x8FDE;&#x63A5;&#x6700;&#x5927;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#xFF0C;&#x6BEB;&#x79D2; testOnBorrow: true #&#x7533;&#x8BF7;&#x8FDE;&#x63A5;&#x65F6;&#x68C0;&#x6D4B;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6709;&#x6548; testOnReturn: false #&#x5F52;&#x8FD8;&#x8FDE;&#x63A5;&#x65F6;&#x68C0;&#x6D4B;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6709;&#x6548; timeBetweenEvictionRunsMillis: 60000 #&#x914D;&#x7F6E;&#x95F4;&#x9694;&#x68C0;&#x6D4B;&#x8FDE;&#x63A5;&#x662F;&#x5426;&#x6709;&#x6548;&#x7684;&#x65F6;&#x95F4;&#xFF08;&#x5355;&#x4F4D;&#x662F;&#x6BEB;&#x79D2;&#xFF09; minEvictableIdleTimeMillis: 300000 #&#x8FDE;&#x63A5;&#x5728;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x6700;&#x5C0F;&#x751F;&#x5B58;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09; #rabbitmq&#x914D;&#x7F6E; rabbitmq: host: 127.0.0.1 port: 5672 username: guest password: guest publisher-confirms: true virtual-host: / eureka: client: registerWithEureka: true #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5F00;&#x5173; fetchRegistry: true #&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x5F00;&#x5173; serviceUrl: #Eureka&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;Eureka&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x591A;&#x4E2A;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694; defaultZone: ${EUREKA_SERVER:http://localhost:50101/eureka/,http://localhost:50102/eureka/} instance: prefer-ip-address: true #&#x5C06;&#x81EA;&#x5DF1;&#x7684;ip&#x5730;&#x5740;&#x6CE8;&#x518C;&#x5230;Eureka&#x670D;&#x52A1;&#x4E2D; ip-address: ${IP_ADDRESS:127.0.0.1} instance-id: ${spring.application.name}:${server.port} #&#x6307;&#x5B9A;&#x5B9E;&#x4F8B;id ribbon: MaxAutoRetries: 2 #&#x6700;&#x5927;&#x91CD;&#x8BD5;&#x6B21;&#x6570;&#xFF0C;&#x5F53;Eureka&#x4E2D;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x670D;&#x52A1;&#xFF0C;&#x4F46;&#x662F;&#x670D;&#x52A1;&#x8FDE;&#x4E0D;&#x4E0A;&#x65F6;&#x5C06;&#x4F1A;&#x91CD;&#x8BD5;&#xFF0C;&#x5982;&#x679C;eureka&#x4E2D;&#x627E;&#x4E0D;&#x5230;&#x670D;&#x52A1;&#x5219;&#x76F4;&#x63A5;&#x8D70;&#x65AD;&#x8DEF;&#x5668; MaxAutoRetriesNextServer: 3 #&#x5207;&#x6362;&#x5B9E;&#x4F8B;&#x7684;&#x91CD;&#x8BD5;&#x6B21;&#x6570; OkToRetryOnAllOperations: false #&#x5BF9;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x8BF7;&#x6C42;&#x90FD;&#x8FDB;&#x884C;&#x91CD;&#x8BD5;&#xFF0C;&#x5982;&#x679C;&#x662F;get&#x5219;&#x53EF;&#x4EE5;&#xFF0C;&#x5982;&#x679C;&#x662F;post&#xFF0C;put&#x7B49;&#x64CD;&#x4F5C;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x5E42;&#x7B49;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x5F88;&#x5371;&#x9669;&#x7684;,&#x6240;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;false ConnectTimeout: 5000 #&#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4; ReadTimeout: 6000 #&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x542F;&#x52A8;&#x7C7B; @EnableFeignClients @EnableDiscoveryClient @SpringBootApplication @EntityScan(value = {&quot;com.xuecheng.framework.domain.learning&quot;,&quot;com.xuecheng.framework.domain.task&quot;})//&#x626B;&#x63CF;&#x5B9E;&#x4F53;&#x7C7B; @ComponentScan(basePackages={&quot;com.xuecheng.api&quot;})//&#x626B;&#x63CF;&#x63A5;&#x53E3; @ComponentScan(basePackages={&quot;com.xuecheng.learning&quot;})//&#x626B;&#x63CF;&#x63A5;&#x53E3; @ComponentScan(basePackages={&quot;com.xuecheng.framework&quot;})//&#x626B;&#x63CF;common&#x4E0B;&#x7684;&#x6240;&#x6709;&#x7C7B; public class LearningApplication { public static void main(String[] args) throws Exception { SpringApplication.run(LearningApplication.class, args); } @Bean @LoadBalanced public RestTemplate restTemplate() { return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); } }1.Api&#x63A5;&#x53E3;&#x6B64;api&#x63A5;&#x53E3;&#x662F;&#x8BFE;&#x7A0B;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x5B66;&#x4E60;&#x5730;&#x5740;&#x3002; &#x9996;&#x5148;&#x5728;model&#x4E2D;&#x5B9A;&#x4E49;&#x8FD4;&#x56DE;&#x503C;&#x6A21;&#x578B;&#x5BF9;&#x8C61; @Data @ToString @NoArgsConstructor public class GetMediaResult extends ResponseResult { public GetMediaResult(ResultCode resultCode, String fileUrl) { super(resultCode); this.fileUrl = fileUrl; } //&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x64AD;&#x653E;&#x5730;&#x5740; private String fileUrl; }&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#xFF0C;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x6839;&#x636E;&#x4F20;&#x5165;&#x8BFE;&#x7A0B;ID&#x3001;&#x7AE0;&#x8282;Id(&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;ID)&#x6765;&#x53D6;&#x5B66;&#x4E60;&#x5730;&#x5740;&#x3002; &#x5728;learning&#x6A21;&#x5757;&#x5B9A;&#x4E49;learning&#x63A5;&#x53E3; package com.xuecheng.api.learning; import com.xuecheng.framework.domain.learning.response.GetMediaResult; import io.swagger.annotations.Api; import io.swagger.annotations.ApiOperation; /** * Created by Administrator. */ @Api(value = &quot;&#x5F55;&#x64AD;&#x8BFE;&#x7A0B;&#x5B66;&#x4E60;&#x7BA1;&#x7406;&quot;,description = &quot;&#x5F55;&#x64AD;&#x8BFE;&#x7A0B;&#x5B66;&#x4E60;&#x7BA1;&#x7406;&quot;) public interface CourseLearningControllerApi { @ApiOperation(&quot;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x5B66;&#x4E60;&#x5730;&#x5740;&quot;) public GetMediaResult getmedia(String courseId, String teachplanId); } &#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;&#x9700;&#x6C42;&#x5206;&#x6790;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x6839;&#x636E;&#x4F20;&#x5165;&#x8BFE;&#x7A0B;ID&#x3001;&#x7AE0;&#x8282;Id(&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;ID)&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x5B66;&#x4E60;&#x5730;&#x5740;&#x3002; 2.&#x641C;&#x7D22;&#x670D;&#x52A1;&#x6CE8;&#x518C;Eureka&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x8981;&#x8C03;&#x7528;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5C06;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5230;eureka&#x4E2D;&#x3002; 1&#x3001;&#x67E5;&#x770B;&#x670D;&#x52A1;&#x540D;&#x79F0;&#x662F;&#x5426;&#x4E3A;xc-service-search &#x6CE8;&#x610F;&#x4FEE;&#x6539;application.xml&#x4E2D;&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF1A; spring: application: name: xc-service-search2&#x3001;&#x914D;&#x7F6E;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;application.yml&#xFF0C;&#x52A0;&#x5165;Eureka&#x914D;&#x7F6E; &#x5982;&#x4E0B;&#xFF1A; eureka: client: registerWithEureka: true #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5F00;&#x5173; fetchRegistry: true #&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x5F00;&#x5173; serviceUrl: #Eureka&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;Eureka&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x591A;&#x4E2A;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694; defaultZone: ${EUREKA_SERVER:http://localhost:50101/eureka/} instance: prefer-ip-address: true #&#x5C06;&#x81EA;&#x5DF1;&#x7684;ip&#x5730;&#x5740;&#x6CE8;&#x518C;&#x5230;Eureka&#x670D;&#x52A1;&#x4E2D; ip-address: ${IP_ADDRESS:127.0.0.1} instance-id: ${spring.application.name}:${server.port} #&#x6307;&#x5B9A;&#x5B9E;&#x4F8B;id ribbon: MaxAutoRetries: 2 #&#x6700;&#x5927;&#x91CD;&#x8BD5;&#x6B21;&#x6570;&#xFF0C;&#x5F53;Eureka&#x4E2D;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x670D;&#x52A1;&#xFF0C;&#x4F46;&#x662F;&#x670D;&#x52A1;&#x8FDE;&#x4E0D;&#x4E0A;&#x65F6;&#x5C06;&#x4F1A;&#x91CD;&#x8BD5;&#xFF0C;&#x5982;&#x679C;eureka&#x4E2D;&#x627E;&#x4E0D;&#x5230;&#x670D;&#x52A1;&#x5219;&#x76F4;&#x63A5;&#x8D70;&#x65AD;&#x8DEF;&#x5668; MaxAutoRetriesNextServer: 3 #&#x5207;&#x6362;&#x5B9E;&#x4F8B;&#x7684;&#x91CD;&#x8BD5;&#x6B21;&#x6570; OkToRetryOnAllOperations: false #&#x5BF9;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x8BF7;&#x6C42;&#x90FD;&#x8FDB;&#x884C;&#x91CD;&#x8BD5;&#xFF0C;&#x5982;&#x679C;&#x662F;get&#x5219;&#x53EF;&#x4EE5;&#xFF0C;&#x5982;&#x679C;&#x662F;post&#xFF0C;put&#x7B49;&#x64CD;&#x4F5C;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x5E42;&#x7B49;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x5F88;&#x5371;&#x9669;&#x7684;,&#x6240;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;false ConnectTimeout: 5000 #&#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4; ReadTimeout: 6000 #&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;3&#x3001;&#x6DFB;&#x52A0;eureka&#x4F9D;&#x8D56;&#xFF1A; &lt;!-- &#x5BFC;&#x5165;Eureka&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4F9D;&#x8D56; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt;4&#x3001;&#x4FEE;&#x6539;&#x542F;&#x52A8;&#x7C7B;&#xFF0C;&#x5728;class&#x4E0A;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x6CE8;&#x89E3;&#xFF1A; @EnableDiscoveryClientlearning&#x8C03;&#x7528;&#x641C;&#x7D22;&#x670D;&#x52A1;3.controller@RestController @RequestMapping(&quot;/learning/course&quot;) public class CourseLearningController implements CourseLearningControllerApi { @Autowired LearningService learningService; @Override @GetMapping(&quot;/getmedia/{courseId}/{teachplanId}&quot;) public GetMediaResult getmedia(@PathVariable(&quot;courseId&quot;) String courseId, @PathVariable(&quot;teachplanId&quot;)String teachplanId) { return learningService.getmedia(courseId,teachplanId); } }4.service@Service public class LearningService { @Autowired CourseSearchClient courseSearchClient; //&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x5B66;&#x4E60;&#x5730;&#x5740;&#xFF08;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x5730;&#x5740;&#xFF09; public GetMediaResult getmedia(String courseId, String teachplanId) { //&#x6821;&#x9A8C;&#x5B66;&#x751F;&#x7684;&#x5B66;&#x751F;&#x6743;&#x9650;... //&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44;&#x4FE1;&#x606F; TeachplanMediaPub teachplanMediaPub = courseSearchClient.getmedia(teachplanId); if(teachplanMediaPub == null || StringUtils.isEmpty(teachplanMediaPub.getMediaUrl())){ //&#x83B7;&#x53D6;&#x5B66;&#x4E60;&#x5730;&#x5740;&#x9519;&#x8BEF; ExceptionCast.cast(LearningCode.LEARNING_GETMEDIA_ERROR); } return new GetMediaResult(CommonCode.SUCCESS,teachplanMediaPub.getMediaUrl()); } }5.LearningCode@ToString public enum LearningCode implements ResultCode { LEARNING_GETMEDIA_ERROR(false,23001,&quot;&#x83B7;&#x53D6;&#x5B66;&#x4E60;&#x5730;&#x5740;&#x5931;&#x8D25;&#xFF01;&quot;); //&#x64CD;&#x4F5C;&#x4EE3;&#x7801; boolean success; //&#x64CD;&#x4F5C;&#x4EE3;&#x7801; int code; //&#x63D0;&#x793A;&#x4FE1;&#x606F; String message; private LearningCode(boolean success, int code, String message){ this.success = success; this.code = code; this.message = message; } @Override public boolean success() { return success; } @Override public int code() { return code; } @Override public String message() { return message; } }6.client@FeignClient(value= XcServiceList.XC_SERVICE_SEARCH) public interface CourseSearchClient { //&#x6839;&#x636E;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x5A92;&#x8D44; @GetMapping(&quot;/search/course/getmedia/{teachplanId}&quot;) public TeachplanMediaPub getmedia(@PathVariable(&quot;teachplanId&quot;) String teachplanId); }7.&#x6D4B;&#x8BD5;&#x542F;&#x52A8; &#x200B; 1.&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x200B; 2.ManageMediaApplication &#x200B; 3.ManageCmsApplication &#x200B; 4.ManageCmsClientApplication &#x200B; 5.SearchApplication &#x200B; 6.ManageCourseApplication &#x200B; 7.LearningApplication &#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x9700;&#x6C42;&#x5206;&#x6790;&#x9700;&#x8981;&#x5728;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x9700;&#x8981;&#x5B8C;&#x6210;&#x5982;&#x4E0B;&#x529F;&#x80FD;&#xFF1A; 1&#x3001;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x9700;&#x8981;&#x5E26;&#x4E0A;&#x8BFE;&#x7A0B;Id&#x53C2;&#x6570;&#x53CA;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;Id&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5176;&#x4E2D;&#x8BFE;&#x7A0B;Id&#x53C2;&#x6570;&#x5FC5;&#x5E26;&#xFF0C;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;Id&#x53EF;&#x4EE5;&#x4E3A;&#x7A7A;&#x3002; 2&#x3001;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x6839;&#x636E;&#x8BFE;&#x7A0B;Id&#x53D6;&#x51FA;&#x8BE5;&#x8BFE;&#x7A0B;&#x7684;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x663E;&#x793A;&#x5728;&#x53F3;&#x4FA7;&#x3002; 3&#x3001;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x540E;&#x5224;&#x65AD;&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x4E2D;&#x6709;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;Id&#x5219;&#x64AD;&#x653E;&#x8BE5;&#x7AE0;&#x8282;&#x7684;&#x89C6;&#x9891;&#x3002; 4&#x3001;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x540E;&#x5224;&#x65AD;&#x5982;&#x679C;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&#x4E3A;0&#x5219;&#x9700;&#x8981;&#x53D6;&#x51FA;&#x672C;&#x8BFE;&#x7A0B;&#x7B2C;&#x4E00;&#x4E2A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;Id&#xFF0C;&#x5E76;&#x64AD;&#x653E;&#x7B2C;&#x4E00;&#x4E2A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;&#x89C6;&#x9891;&#x3002; &#x914D;&#x7F6E;&#x4EE3;&#x7406;&#x5728;Nginx&#x4E2D;&#x7684;ucenter.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x4E2D;&#x914D;&#x7F6E;/api/learning/&#x7684;&#x8DEF;&#x5F84;&#x8F6C;&#x53D1;&#xFF0C;&#x6B64;url&#x8BF7;&#x8F6C;&#x53D1;&#x5230;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x3002; #&#x5B66;&#x4E60;&#x670D;&#x52A1; upstream learning_server_pool{ server 127.0.0.1:40600 weight=10; } #&#x5B66;&#x4E60;&#x670D;&#x52A1; location ^~ /api/learning/ { proxy_pass http://learning_server_pool/learning/; } &#x6700;&#x7EC8;nginx&#x7684;&#x914D;&#x7F6E;&#x4E3A; #user nobody; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; # &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; # &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; #&#x56FE;&#x7247;&#x670D;&#x52A1; upstream img_server_pool{ #server 192.168.101.64:80 weight=10; server 192.168.25.133:80 weight=10; } #cms&#x9875;&#x9762;&#x9884;&#x89C8; upstream aaa_pool{ server 127.0.0.1:31001 weight=10; } #&#x9759;&#x6001;&#x8D44;&#x6E90;&#x670D;&#x52A1; upstream static_server_pool{ server 127.0.0.1:91 weight=10; } #&#x524D;&#x7AEF;&#x52A8;&#x6001;&#x95E8;&#x6237; upstream dynamic_portal_server_pool{ server 127.0.0.1:10000 weight=10; } #&#x540E;&#x53F0;&#x641C;&#x7D22;&#xFF08;&#x516C;&#x5F00;api&#xFF09; upstream search_server_pool{ server 127.0.0.1:40100 weight=10; } #&#x5A92;&#x4F53;&#x670D;&#x52A1; upstream video_server_pool{ server 127.0.0.1:90 weight=10; } #&#x524D;&#x7AEF;ucenter upstream ucenter_server_pool{ #server 127.0.0.1:7081 weight=10; server 127.0.0.1:13000 weight=10; } #&#x5B66;&#x4E60;&#x670D;&#x52A1; upstream learning_server_pool{ server 127.0.0.1:40600 weight=10; } server{ listen 80; server_name www.xuecheng.com; ssi on; ssi_silent_errors on; location / { alias X:/workspace/java/xczx/static/portal/; index index.html; } #&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x6240;&#x9700;&#x8981;&#x7684;&#x56FE;&#x7247;&#xFF0C;js&#x3001;css&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90; location /static/img/ { alias X:/workspace/java/xczx/static/portal/img/; } location /static/css/ { alias X:/workspace/java/xczx/static/portal/css/; } location /static/js/ { alias X:/workspace/java/xczx/static/portal/js/; } location /static/plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } location /plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } #&#x9875;&#x9762;&#x9884;&#x89C8; location /cms/preview/ { proxy_pass http://aaa_pool/cms/preview/; } location /static/company/ { proxy_pass http://static_server_pool; } location /static/teacher/ { proxy_pass http://static_server_pool; } location /static/stat/ { proxy_pass http://static_server_pool; } location /course/detail/ { proxy_pass http://static_server_pool; } #&#x524D;&#x7AEF;&#x95E8;&#x6237;&#x8BFE;&#x7A0B;&#x641C;&#x7D22; location ^~ /course/search { proxy_pass http://dynamic_portal_server_pool; } #&#x5206;&#x7C7B;&#x4FE1;&#x606F; location /static/category/ { proxy_pass http://static_server_pool; } #&#x5F00;&#x53D1;&#x73AF;&#x5883;webpack&#x5B9A;&#x65F6;&#x52A0;&#x8F7D;&#x6B64;&#x6587;&#x4EF6; location ^~ /__webpack_hmr/ { proxy_pass http://dynamic_portal_server_pool/__webpack_hmr; } #&#x5F00;&#x53D1;&#x73AF;&#x5883;nuxt&#x8BBF;&#x95EE;_nuxt location ^~ /_nuxt/ { proxy_pass http://dynamic_portal_server_pool/_nuxt/; } } #&#x5B66;&#x6210;&#x7F51;&#x56FE;&#x7247;&#x670D;&#x52A1; server { listen 80; server_name img.xuecheng.com; #&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3; location /group1 { proxy_pass http://img_server_pool; } } #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x4EE3;&#x7406; #&#x53EA;&#x5141;&#x8BB8;&#x67D0;&#x51E0;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x8DE8;&#x57DF; map $http_origin $origin_list{ default http://www.xuecheng.com; &quot;~http://www.xuecheng.com&quot; http://www.xuecheng.com; &quot;~http://ucenter.xuecheng.com&quot; http://ucenter.xuecheng.com; } #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x4EE3;&#x7406; server { listen 80; server_name video.xuecheng.com; location /video/ { proxy_pass http://video_server_pool; add_header Access-Control-Allow-Origin $origin_list; #add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } } #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1; server { listen 90; server_name video.xuecheng.com; #&#x89C6;&#x9891;&#x76EE;&#x5F55; location /video/ { alias X:/workspace/java/xczx/static/video/; } } #&#x5B66;&#x6210;&#x7F51;&#x7528;&#x6237;&#x4E2D;&#x5FC3; server { listen 80; server_name ucenter.xuecheng.com; #&#x5B66;&#x4E60;&#x670D;&#x52A1; location ^~ /api/learning/ { proxy_pass http://learning_server_pool/learning/; } #&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3; location / { proxy_pass http://ucenter_server_pool; } #&#x540E;&#x7AEF;&#x641C;&#x7D22;&#x670D;&#x52A1; location /openapi/search/ { proxy_pass http://search_server_pool/search/; } } #&#x5B66;&#x6210;&#x7F51;&#x9759;&#x6001;&#x8D44;&#x6E90; server { listen 91; server_name localhost; #&#x516C;&#x53F8;&#x4FE1;&#x606F; location /static/company/ { alias X:/workspace/java/xczx/static/company/; } #&#x8001;&#x5E08;&#x4FE1;&#x606F; location /static/teacher/ { alias X:/workspace/java/xczx/static/teacher/; } #&#x7EDF;&#x8BA1;&#x4FE1;&#x606F; location /static/stat/ { alias X:/workspace/java/xczx/static/stat/; } location /course/detail/ { alias X:/workspace/java/xczx/static/course/detail/; } #&#x5206;&#x7C7B;&#x4FE1;&#x606F; location /static/category/ { alias X:/workspace/java/xczx/static/category/; } } }apilet sysConfig = require(&apos;@/../config/sysConfig&apos;) let apiUrl = sysConfig.xcApiUrlPre; /*&#x83B7;&#x53D6;&#x64AD;&#x653E;&#x5730;&#x5740;*/ export const get_media = (courseId,chapter) =&gt; { return http.requestGet(apiUrl+&apos;/learning/course/getmedia/&apos;+courseId+&apos;/&apos;+chapter); }created created () { // &#x5F53;&#x524D;&#x8BF7;&#x6C42;&#x7684;url this.url = window.location // &#x8BFE;&#x7A0B;id this.courseId = this.$route.params.courseId // &#x7AE0;&#x8282;id this.chapter = this.$route.params.chapter // &#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; systemApi.course_view(this.courseId).then((view_course) =&gt; { // console.log(view_course) if(!view_course || !view_course[this.courseId]){ this.$message.error(&quot;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x5931;&#x8D25;&quot;) return ; } //&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x62FF;&#x5230;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; let courseInfo = view_course[this.courseId]; //&#x53D6;&#x51FA;teachplan&#x7684;&#x4E32; let teachplanString = courseInfo.teachplan; //&#x628A;&#x4E32;&#x8F6C;&#x6210;&#x5BF9;&#x8C61; let teachplanObj = JSON.parse(teachplanString); //&#x53D6;&#x5230;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; this.teachplanList = teachplanObj.children; console.log(this.teachplanList) //&#x5982;&#x679C;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&#x4E0D;&#x7B49;&#x4E8E;0&#xFF0C;&#x76F4;&#x63A5;&#x63D2;&#x5165;&#x8BE5;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891; if(this.chapter != &apos;0&apos;){ //&#x83B7;&#x53D6;&#x8BE5;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891; this.study(this.chapter) }else{ //&#x627E;&#x5230;&#x8BE5;&#x8BFE;&#x7A0B;&#x7684;&#x4E8C;&#x7EA7;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&#xFF0C;&#x53D6;&#x51FA;&#x8BE5;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891; for(var i=0;i&lt;this.teachplanList.length;i++){ let firstTeachplan = this.teachplanList[i]; if(firstTeachplan.children &amp;&amp; firstTeachplan.children.length&gt;0){ //&#x53D6;&#x51FA;&#x4E8C;&#x7EA7;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A; let secondTeachplan = firstTeachplan.children[0]; //&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;id let teachplanId = secondTeachplan.id; //&#x53D6;&#x51FA;&#x8BE5;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891; // alert(teachplanId) this.study(teachplanId) return ; } } } }) },study import * as courseApi from &apos;../api/course&apos; // &#x5F00;&#x59CB;&#x5B66;&#x4E60;&#xFF0C;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891;&#x5730;&#x5740; study (chapter) { //get_media&#x65B9;&#x6CD5; courseApi.get_media(this.courseId,chapter).then(res=&gt;{ if(res.success){ //&#x83B7;&#x53D6;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x5730;&#x5740; let fileUrl = res.fileUrl;//&#x76F8;&#x5BF9;&#x8DEF;&#x5F84; let videoUrl = sysConfig.videoUrl + fileUrl;//&#x89C6;&#x9891;&#x5B8C;&#x6574;&#x7684;&#x64AD;&#x653E;&#x8DEF;&#x5F84; //&#x64AD;&#x653E;&#x89C6;&#x9891; this.playvideo(videoUrl) } }) },&#x6D4B;&#x8BD5;&#x8BBF;&#x95EE;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#xFF1A;http://ucenter.xuecheng.com/#/learning/&#x8BFE;&#x7A0B;id/&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id &#x901A;&#x8FC7;url&#x4F20;&#x5165;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x8BFE;&#x7A0B;id&#x548C;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id &#x5982;&#x679C;&#x6CA1;&#x6709;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5219;&#x4F20;&#x5165;0 &#x6D4B;&#x8BD5;&#x9879;&#x76EE;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x4F20;&#x5165;&#x6B63;&#x786E;&#x7684;&#x8BFE;&#x7A0B;id&#x3001;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&#xFF0C;&#x81EA;&#x52A8;&#x64AD;&#x653E;&#x672C;&#x7AE0;&#x8282;&#x7684;&#x89C6;&#x9891; 2&#x3001;&#x4F20;&#x5165;&#x6B63;&#x786E;&#x7684;&#x8BFE;&#x7A0B;id&#x3001;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&#x4F20;&#x5165;0&#xFF0C;&#x81EA;&#x52A8;&#x64AD;&#x653E;&#x7B2C;&#x4E00;&#x4E2A;&#x89C6;&#x9891; 3&#x3001;&#x4F20;&#x5165;&#x9519;&#x8BEF;&#x7684;&#x8BFE;&#x7A0B;id&#x6216;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&#xFF0C;&#x63D0;&#x793A;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; 4&#x3001;&#x901A;&#x8FC7;&#x53F3;&#x4FA7;&#x7AE0;&#x8282;&#x76EE;&#x5F55;&#x5207;&#x6362;&#x7AE0;&#x8282;&#x53CA;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x3002; &#x96C6;&#x6210;&#x6D4B;&#x8BD5; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-16-oauth2.0.html</url>
    <content type="text"><![CDATA[Spring Security Oauth2 JWT&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x9700;&#x6C42;&#x5206;&#x6790;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x4E0E;&#x6388;&#x6743;&#x200B; &#x622A;&#x81F3;&#x76EE;&#x524D;&#xFF0C;&#x9879;&#x76EE;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#x4E86;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x529F;&#x80FD;&#xFF0C;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9875;&#x9762;&#x70B9;&#x64AD;&#x89C6;&#x9891;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x3002;&#x5982;&#x4F55;&#x53BB;&#x8BB0;&#x5F55;&#x5B66;&#x751F;&#x7684;&#x5B66;&#x4E60;&#x8FC7;&#x7A0B;&#x5462;&#xFF1F;&#x8981;&#x60F3;&#x638C;&#x63E1;&#x5B66;&#x751F;&#x7684;&#x5B66;&#x4E60;&#x60C5;&#x51B5;&#x5C31;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x4FE1;&#x606F;&#xFF0C;&#x8BB0;&#x5F55;&#x54EA;&#x4E2A;&#x7528;&#x6237;&#x5728;&#x4EC0;&#x4E48;&#x65F6;&#x95F4;&#x5B66;&#x4E60;&#x4EC0;&#x4E48;&#x8BFE;&#x7A0B;&#xFF1B;&#x5982;&#x679C;&#x7528;&#x6237;&#x8981;&#x8D2D;&#x4E70;&#x8BFE;&#x7A0B;&#x4E5F;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x4FE1;&#x606F;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x53BB;&#x7BA1;&#x7406;&#x5B66;&#x751F;&#x7684;&#x5B66;&#x4E60;&#x8FC7;&#x7A0B;&#x6700;&#x57FA;&#x672C;&#x7684;&#x8981;&#x5B9E;&#x73B0;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#xFF1F; &#x200B; &#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x5373;&#x7528;&#x6237;&#x53BB;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x65F6;&#x7CFB;&#x7EDF;&#x8981;&#x6C42;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x4FE1;&#x606F;&#xFF0C;&#x8EAB;&#x4EFD;&#x5408;&#x6CD5;&#x65B9;&#x53EF;&#x7EE7;&#x7EED;&#x8BBF;&#x95EE;&#x3002;&#x5E38;&#x89C1;&#x7684;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x6709;&#xFF1A;&#x7528;&#x6237;&#x540D;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#xFF0C;&#x6307;&#x7EB9;&#x6253;&#x5361;&#x7B49;&#x65B9;&#x5F0F;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x7528;&#x6237;&#x6388;&#x6743;&#xFF1F; &#x200B; &#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x53BB;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x7CFB;&#x7EDF;&#x4F1A;&#x5224;&#x65AD;&#x7528;&#x6237;&#x662F;&#x5426;&#x62E5;&#x6709;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x53EA;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x6709;&#x6743;&#x9650;&#x7684;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#xFF0C;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x7684;&#x8D44;&#x6E90;&#x5C06;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x53EB;&#x7528;&#x6237;&#x6388;&#x6743;&#x3002; &#x5355;&#x70B9;&#x767B;&#x5F55;&#x9700;&#x6C42;&#x200B; &#x672C;&#x9879;&#x76EE;&#x5305;&#x62EC;&#x591A;&#x4E2A;&#x5B50;&#x9879;&#x76EE;&#xFF0C;&#x5982;&#xFF1A;&#x5B66;&#x4E60;&#x7CFB;&#x7EDF;&#xFF0C;&#x6559;&#x5B66;&#x7BA1;&#x7406;&#x4E2D;&#x5FC3;&#x3001;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x4E2D;&#x5FC3;&#x7B49;&#xFF0C;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x6027;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7528;&#x6237;&#x53EA;&#x8BA4;&#x8BC1;&#x4E00;&#x6B21;&#x4FBF;&#x53EF;&#x4EE5;&#x5728;&#x591A;&#x4E2A;&#x62E5;&#x6709;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#x8BBF;&#x95EE;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x53EB;&#x505A;&#x5355;&#x70B9;&#x767B;&#x5F55;&#x3002; &#x5F15;&#x7528;&#x767E;&#x5EA6;&#x767E;&#x79D1;&#xFF1A;&#x5355;&#x70B9;&#x767B;&#x5F55;&#xFF08;Single Sign On&#xFF09;&#xFF0C;&#x7B80;&#x79F0;&#x4E3A; SSO&#xFF0C;&#x662F;&#x76EE;&#x524D;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;&#x4F01;&#x4E1A;&#x4E1A;&#x52A1;&#x6574;&#x5408;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x4E4B;&#x4E00;&#x3002;SSO&#x7684;&#x5B9A;&#x4E49;&#x662F;&#x5728;&#x591A;&#x4E2A;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x7528;&#x6237;&#x53EA;&#x9700;&#x8981;&#x767B;&#x5F55;&#x4E00;&#x6B21;&#x5C31;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x76F8;&#x4E92;&#x4FE1;&#x4EFB;&#x7684;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x3002; &#x4E0B;&#x56FE;&#x662F;SSO&#x7684;&#x793A;&#x610F;&#x56FE;&#xFF0C;&#x7528;&#x6237;&#x767B;&#x5F55;&#x5B66;&#x6210;&#x7F51;&#x4E00;&#x6B21;&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x591A;&#x4E2A;&#x7CFB;&#x7EDF;&#x3002; &#x7B2C;&#x4E09;&#x65B9;&#x8BA4;&#x8BC1;&#x9700;&#x6C42;&#x200B; &#x4F5C;&#x4E3A;&#x4E92;&#x8054;&#x7F51;&#x9879;&#x76EE;&#x96BE;&#x514D;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7CFB;&#x7EDF;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x540C;&#x6837;&#x672C;&#x7CFB;&#x7EDF;&#x4E5F;&#x8981;&#x8BBF;&#x95EE;&#x7B2C;&#x4E09;&#x65B9;&#x7CFB;&#x7EDF;&#x7684;&#x8D44;&#x6E90;&#x63A5;&#x53E3;&#xFF0C;&#x4E00;&#x4E2A;&#x573A;&#x666F;&#x5982;&#x4E0B;&#xFF1A; &#x200B; &#x4E00;&#x4E2A;&#x5FAE;&#x4FE1;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x5728;&#x5B66;&#x6210;&#x5728;&#x7EBF;&#x6CE8;&#x518C;&#xFF0C;&#x672C;&#x7CFB;&#x7EDF;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BF7;&#x6C42;&#x5FAE;&#x4FE1;&#x7CFB;&#x7EDF;&#x6765;&#x9A8C;&#x8BC1;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x8BE5;&#x7528;&#x6237;&#x4FBF;&#x53EF;&#x5728;&#x672C;&#x7CFB;&#x7EDF;&#x5B66;&#x4E60;&#xFF0C;&#x5B83;&#x7684;&#x57FA;&#x672C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x200B; &#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5FAE;&#x4FE1;&#x4E0D;&#x5C5E;&#x4E8E;&#x672C;&#x7CFB;&#x7EDF;&#xFF0C;&#x672C;&#x7CFB;&#x7EDF;&#x5E76;&#x6CA1;&#x6709;&#x5B58;&#x50A8;&#x5FAE;&#x4FE1;&#x7528;&#x6237;&#x7684;&#x8D26;&#x53F7;&#x3001;&#x5BC6;&#x7801;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x672C;&#x7CFB;&#x7EDF;&#x5982;&#x679C;&#x8981;&#x83B7;&#x53D6;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x5219;&#x9700;&#x8981;&#x9996;&#x5148;&#x901A;&#x8FC7;&#x5FAE;&#x4FE1;&#x7684;&#x8BA4;&#x8BC1;&#x7CFB;&#x7EDF;&#xFF08;&#x5FAE;&#x4FE1;&#x8BA4;&#x8BC1;&#xFF09;&#x8FDB;&#x884C;&#x8BA4;&#x8BC1;&#xFF0C;&#x5FAE;&#x4FE1;&#x8BA4;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x672C;&#x7CFB;&#x7EDF;&#x4FBF;&#x53EF;&#x83B7;&#x53D6;&#x8BE5;&#x5FAE;&#x4FE1;&#x7528;&#x6237;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x4ECE;&#x800C;&#x5728;&#x672C;&#x7CFB;&#x7EDF;&#x5C06;&#x8BE5;&#x5FAE;&#x4FE1;&#x7528;&#x6237;&#x7684;&#x5934;&#x50CF;&#x3001;&#x6635;&#x79F0;&#x7B49;&#x4FE1;&#x606F;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x8BE5;&#x7528;&#x6237;&#x4FBF;&#x4E0D;&#x7528;&#x5728;&#x672C;&#x7CFB;&#x7EDF;&#x6CE8;&#x518C;&#x5374;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5B66;&#x4E60;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x7B2C;&#x4E09;&#x65B9;&#x8BA4;&#x8BC1;&#xFF08;&#x8DE8;&#x5E73;&#x53F0;&#x8BA4;&#x8BC1;&#xFF09;&#xFF1F; &#x5F53;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x7B2C;&#x4E09;&#x65B9;&#x7CFB;&#x7EDF;&#x7684;&#x8D44;&#x6E90;&#x65F6;&#x9700;&#x8981;&#x9996;&#x5148;&#x901A;&#x8FC7;&#x7B2C;&#x4E09;&#x65B9;&#x7CFB;&#x7EDF;&#x7684;&#x8BA4;&#x8BC1;&#xFF08;&#x4F8B;&#x5982;&#xFF1A;&#x5FAE;&#x4FE1;&#x8BA4;&#x8BC1;&#xFF09;&#xFF0C;&#x7531;&#x7B2C;&#x4E09;&#x65B9;&#x7CFB;&#x7EDF;&#x5BF9;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x901A;&#x8FC7;&#xFF0C;&#x5E76;&#x6388;&#x6743;&#x8D44;&#x6E90;&#x7684;&#x8BBF;&#x95EE;&#x6743;&#x9650;&#x3002; &#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x6280;&#x672F;&#x65B9;&#x6848;&#x5355;&#x70B9;&#x767B;&#x5F55;&#x6280;&#x672F;&#x65B9;&#x6848;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x8981;&#x5B9E;&#x73B0;&#x5355;&#x70B9;&#x767B;&#x5F55;&#xFF0C;&#x901A;&#x5E38;&#x5C06;&#x8BA4;&#x8BC1;&#x7CFB;&#x7EDF;&#x72EC;&#x7ACB;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;&#x5355;&#x72EC;&#x7684;&#x5B58;&#x50A8;&#x4ECB;&#x8D28;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;MySQL&#x3001;Redis&#xFF0C;&#x8003;&#x8651;&#x6027;&#x80FD;&#x8981;&#x6C42;&#xFF0C;&#x901A;&#x5E38;&#x5B58;&#x50A8;&#x5728;Redis&#x4E2D;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x5355;&#x70B9;&#x767B;&#x5F55;&#x7684;&#x7279;&#x70B9;&#x662F;&#xFF1A; 1&#x3001;&#x8BA4;&#x8BC1;&#x7CFB;&#x7EDF;&#x4E3A;&#x72EC;&#x7ACB;&#x7684;&#x7CFB;&#x7EDF;&#x3002; 2&#x3001;&#x5404;&#x5B50;&#x7CFB;&#x7EDF;&#x901A;&#x8FC7;Http&#x6216;&#x5176;&#x5B83;&#x534F;&#x8BAE;&#x4E0E;&#x8BA4;&#x8BC1;&#x7CFB;&#x7EDF;&#x901A;&#x4FE1;&#xFF0C;&#x5B8C;&#x6210;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x3002; 3&#x3001;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;Redis&#x96C6;&#x7FA4;&#x3002; Java&#x4E2D;&#x6709;&#x5F88;&#x591A;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#x7684;&#x6846;&#x67B6;&#x90FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5355;&#x70B9;&#x767B;&#x5F55;&#xFF1A; 1&#x3001;Apache Shiro. 2&#x3001;CAS 3&#x3001;Spring security CAS Oauth2&#x8BA4;&#x8BC1; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-2-cms-qian-duan-kai-fa.html</url>
    <content type="text"><![CDATA[CMS&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;&#x5BFC;&#x5165;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;CMS&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;Vue-cli&#x811A;&#x624B;&#x67B6;&#x521B;&#x5EFA;&#xFF0C; Vue-cli&#x662F;Vue&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;&#x5FEB;&#x901F;&#x6784;&#x5EFA;&#x5355;&#x9875;&#x5E94;&#x7528;&#x7684;&#x811A;&#x624B;&#x67B6;&#xFF0C;github&#x5730;&#x5740;&#xFF1A;https://github.com/vuejs/vue-cli&#xFF08;&#x6709;&#x5174;&#x8DA3;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x6307;&#x5BFC;&#x4F7F;&#x7528;vue-cli&#x521B;&#x5EFA;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#xFF09;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x5BF9;Vue-cli &#x521B;&#x5EFA;&#x7684;&#x5DE5;&#x7A0B;&#x8FDB;&#x884C;&#x4E8C;&#x6B21;&#x5C01;&#x88C5;&#xFF0C;&#x4E0B;&#x8FB9;&#x4ECB;&#x7ECD;CMS&#x5DE5;&#x7A0B;&#x7684;&#x60C5;&#x51B5;&#x3002; &#x5DE5;&#x7A0B;&#x7ED3;&#x6784;&#x5982;&#x679C;&#x6211;&#x8981;&#x57FA;&#x4E8E;Vue-Cli&#x521B;&#x5EFA;&#x7684;&#x5DE5;&#x7A0B;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#x8FD8;&#x9700;&#x8981;&#x5728;&#x5B83;&#x57FA;&#x7840;&#x4E0A;&#x4F5C;&#x4E00;&#x4E9B;&#x5C01;&#x88C5;&#xFF0C;&#x5BFC;&#x5165;&#x8BFE;&#x7A0B;&#x8D44;&#x6599;&#x4E2D;&#x63D0;&#x4F9B;Vue-Cli&#x5C01;&#x88C5;&#x5DE5;&#x7A0B;&#x3002; &#x5C06;&#x8BFE;&#x7A0B;&#x8D44;&#x6599;&#x4E2D;&#x7684;xc-ui-pc-sysmanage.7z&#x62F7;&#x8D1D;&#x5230;UI&#x5DE5;&#x7A0B;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x5E76;&#x89E3;&#x538B;&#xFF0C;&#x7528;WebStorm&#x6253;&#x5F00;xc-ui-pc-sysmanage&#x76EE;&#x5F55;&#x3002; build: &#x6784;&#x5EFA;&#x5DE5;&#x7A0B;&#x7528;&#x5230;&#x7684;&#x76EE;&#x5F55; config: &#x4E00;&#x4E9B;&#x914D;&#x7F6E;&#x7C7B;&#x7684;js&#x6587;&#x4EF6; dist: webpack&#x6253;&#x5305;&#x8F93;&#x51FA;&#x7684;&#x9759;&#x6001;&#x6587;&#x4EF6; node_modules npm&#x4E0B;&#x8F7D;&#x7684;&#x4F9D;&#x8D56;&#x5305; src &#x4E3B;&#x7A0B;&#x5E8F;&#x5305; static &#x5B58;&#x653E;&#x4E00;&#x4E9B;&#x9759;&#x6001;&#x8D44;&#x6E90; test &#x7528;&#x4E8E;&#x6D4B;&#x8BD5; 1.package.json(&#x7C7B;&#x4F3C;maven&#x7684;pom.xml)package.json&#x8BB0;&#x5F55;&#x4E86;&#x5DE5;&#x7A0B;&#x6240;&#x6709;&#x4F9D;&#x8D56;&#xFF0C;&#x53CA;&#x811A;&#x672C;&#x547D;&#x4EE4;&#xFF1A; &#x5F00;&#x53D1;&#x4F7F;&#x7528;&#xFF1A; npm run dev&#x6253;&#x5305;&#x4F7F;&#x7528;&#xFF1A; npm run build2.webpack.base.conf.jswebpack.base.conf.js&#x5C31;&#x662F;webpack&#x7684;webpack.con&#xFB01;g.js&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x4E86;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x53CA;&#x5404;&#x79CD;Loader&#x3002; webpack&#x662F;&#x901A;&#x8FC7;vue-load&#x89E3;&#x6790;.vue&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;css-load&#x6253;&#x5305;css&#x6587;&#x4EF6;&#x7B49;&#x3002; 3.main.jsmain.js&#x662F;&#x5DE5;&#x7A0B;&#x7684;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x8F7D;&#x4E86;&#x5F88;&#x591A;&#x7B2C;&#x4E09;&#x65B9;&#x7EC4;&#x4EF6;&#xFF0C;&#x5982;&#xFF1A;Element-UI&#x3001;Base64&#x3001;VueRouter&#x7B49;&#x3002;index.html&#x662F;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x3002; 4.src&#x76EE;&#x5F55;src&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x653E;&#x9875;&#x9762;&#x53CA;js&#x4EE3;&#x7801;&#x3002; assets&#xFF1A;&#x5B58;&#x653E;&#x4E00;&#x4E9B;&#x9759;&#x6001;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x56FE;&#x7247;base&#xFF1A;&#x5B58;&#x653E;&#x57FA;&#x7840;&#x7EC4;&#x4EF6;base/api&#xFF1A;&#x57FA;&#x7840;api&#x63A5;&#x53E3;base/component&#xFF1A;&#x57FA;&#x7840;&#x7EC4;&#x4EF6;&#xFF0C;&#x88AB;&#x5404;&#x5404;&#x6A21;&#x5757;&#x90FD;&#x4F7F;&#x7528;&#x7684;&#x7EC4;&#x4EF6;base/router&#xFF1A;&#x603B;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#xFF0C;&#x52A0;&#x8F7D;&#x5404;&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x6587;&#x4EF6;common&#xFF1A;&#x5DE5;&#x5177;&#x7C7B;component&#xFF1A;&#x7EC4;&#x4EF6;&#x76EE;&#x5F55;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x4E0D;&#x7528;mock&#xFF1A;&#x5B58;&#x653E;&#x524D;&#x7AEF;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;module&#xFF1A;&#x5B58;&#x653E;&#x5404;&#x4E1A;&#x52A1;&#x6A21;&#x5757;&#x7684;&#x9875;&#x9762;&#x548C;api&#x65B9;&#x6CD5;&#x4E0B;&#x7EA7;&#x76EE;&#x5F55;&#x4EE5;&#x6A21;&#x5757;&#x540D;&#x547D;&#x540D;&#xFF0C;&#x4E0B;&#x8FB9;&#x4EE5;cms&#x4E3E;&#x4F8B;&#xFF1A;cms/api&#xFF1A;cms&#x6A21;&#x5757;&#x7684;api&#x63A5;&#x53E3;cms/components&#xFF1A;cms&#x6A21;&#x5757;&#x7684;&#x7EC4;&#x4EF6;cms/page&#xFF1A; cms&#x6A21;&#x5757;&#x7684;&#x9875;&#x9762;cms/router&#xFF1A;cms&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;statics&#xFF1A;&#x5B58;&#x653E;&#x7B2C;&#x4E09;&#x65B9;&#x7EC4;&#x4EF6;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;vuex&#xFF1A;&#x5B58;&#x653E;vuex&#x6587;&#x4EF6;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x4E0D;&#x4F7F;&#x7528;static&#xFF1A;&#x4E0E;src&#x7684;&#x5E73;&#x7EA7;&#x76EE;&#x5F55;&#xFF0C;&#x6B64;&#x76EE;&#x5F55;&#x5B58;&#x653E;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x5B83;&#x4E0E;assets&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#xFF0C;static&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x4E0D;&#x88AB;webpack&#x6253;&#x5305;&#x5904;&#x7406;&#xFF0C;&#x4F1A;&#x539F;&#x6837;&#x62F7;&#x8D1D;&#x5230;dist&#x76EE;&#x5F55;&#x4E0B;&#x3002; &#x542F;&#x52A8;&#x6D4B;&#x8BD5;&#x5751;: Error: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (64)&#x89E3;&#x51B3;: &#x4FEE;&#x6539;package.json,&#x7136;&#x540E;run npm install &quot;node-sass&quot;: &quot;^4.12.0&quot;&#x5355;&#x9875;&#x9762;&#x5E94;&#x7528;&#x4ECB;&#x7ECD;&#x5355;&#x9875;Web&#x5E94;&#x7528;&#xFF08;single page web application&#xFF0C;SPA&#xFF09;&#xFF0C;&#x5C31;&#x662F;&#x53EA;&#x6709;&#x4E00;&#x5F20;Web&#x9875;&#x9762;&#x7684;&#x5E94;&#x7528;&#x3002;&#x5355;&#x9875;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; (SPA) &#x662F;&#x52A0;&#x8F7D;&#x5355;&#x4E2A;HTML &#x9875;&#x9762;&#x5E76;&#x5728;&#x7528;&#x6237;&#x4E0E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4EA4;&#x4E92;&#x65F6;&#x52A8;&#x6001;&#x66F4;&#x65B0;&#x8BE5;&#x9875;&#x9762;&#x7684;Web&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; [1] &#x6D4F;&#x89C8;&#x5668;&#x4E00;&#x5F00;&#x59CB;&#x4F1A;&#x52A0;&#x8F7D;&#x5FC5;&#x9700;&#x7684;HTML&#x3001;CSS&#x548C;JavaScript&#xFF0C;&#x6240;&#x6709;&#x7684;&#x64CD;&#x4F5C;&#x90FD;&#x5728;&#x8FD9;&#x5F20;&#x9875;&#x9762;&#x4E0A;&#x5B8C;&#x6210;&#xFF0C;&#x90FD;&#x7531;JavaScript&#x6765;&#x63A7;&#x5236;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5BF9;&#x5355;&#x9875;&#x5E94;&#x7528;&#x6765;&#x8BF4;&#x6A21;&#x5757;&#x5316;&#x7684;&#x5F00;&#x53D1;&#x548C;&#x8BBE;&#x8BA1;&#x663E;&#x5F97;&#x76F8;&#x5F53;&#x91CD;&#x8981;&#x3002; &#x5355;&#x9875;&#x9762;&#x5E94;&#x7528;&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#xFF1A;&#x4F18;&#x70B9;&#xFF1A;1&#x3001;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x4F53;&#x9A8C;&#x597D;&#xFF0C;&#x7528;&#x6237;&#x4E0D;&#x7528;&#x5237;&#x65B0;&#x9875;&#x9762;&#xFF0C;&#x6574;&#x4E2A;&#x4EA4;&#x4E92;&#x8FC7;&#x7A0B;&#x90FD;&#x662F;&#x901A;&#x8FC7;Ajax&#x6765;&#x64CD;&#x4F5C;&#x3002;2&#x3001;&#x9002;&#x5408;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x5F00;&#x53D1;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x63D0;&#x4F9B;http&#x63A5;&#x53E3;&#xFF0C;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;http&#x63A5;&#x53E3;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528;JS&#x8FDB;&#x884C;&#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#x3002;&#x7F3A;&#x70B9;&#xFF1A;1&#x3001;&#x9996;&#x9875;&#x52A0;&#x8F7D;&#x6162;&#x5355;&#x9875;&#x9762;&#x5E94;&#x7528;&#x4F1A;&#x5C06;js&#x3001; css&#x6253;&#x5305;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5728;&#x52A0;&#x8F7D;&#x9875;&#x9762;&#x663E;&#x793A;&#x7684;&#x65F6;&#x5019;&#x52A0;&#x8F7D;&#x6253;&#x5305;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x6253;&#x5305;&#x6587;&#x4EF6;&#x8F83;&#x5927;&#x6216;&#x8005;&#x7F51;&#x901F;&#x6162;&#x5219; &#x7528;&#x6237;&#x4F53;&#x9A8C;&#x4E0D;&#x597D;&#x3002;2&#x3001;SEO&#x4E0D;&#x53CB;&#x597D;SEO&#xFF08;Search Engine Optimization&#xFF09;&#x4E3A;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x4F18;&#x5316;&#x3002;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x5229;&#x7528;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x641C;&#x7D22;&#x89C4;&#x5219;&#x6765;&#x63D0;&#x9AD8;&#x7F51;&#x7AD9;&#x5728;&#x641C;&#x7D22;&#x5F15;&#x64CE; &#x6392;&#x540D;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x76EE;&#x524D;&#x5404;&#x5BB6;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x5BF9;JS&#x652F;&#x6301;&#x4E0D;&#x597D;&#xFF0C;&#x6240;&#x4EE5;&#x4F7F;&#x7528;&#x5355;&#x9875;&#x9762;&#x5E94;&#x7528;&#x5C06;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x5BF9;&#x7F51;&#x7AD9;&#x7684;&#x6536;&#x5F55;&#x3002;&#x603B;&#x7ED3;&#xFF1A;&#x672C;&#x9879;&#x76EE;&#x7684;&#x95E8;&#x6237;&#x3001;&#x8BFE;&#x7A0B;&#x4ECB;&#x7ECD;&#x4E0D;&#x91C7;&#x7528;&#x5355;&#x9875;&#x9762;&#x5E94;&#x7528;&#x67B6;&#x6784;&#x53BB;&#x5F00;&#x53D1;&#xFF0C;&#x5BF9;&#x4E8E;&#x9700;&#x8981;&#x7528;&#x6237;&#x767B;&#x5F55;&#x7684;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x91C7;&#x7528;&#x5355;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x3002; CMS&#x524D;&#x7AEF;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x5F00;&#x53D1;&#x9875;&#x9762;&#x7ED3;&#x6784;&#x5728;model&#x76EE;&#x5F55;&#x521B;&#x5EFA;cms&#x6A21;&#x5757;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784; &#x5728;page&#x76EE;&#x5F55;&#x65B0;&#x5EFA;page_list.vue&#xFF0C;&#x6269;&#x5C55;&#x540D;&#x4E3A;.vue&#x3002; .vue&#x6587;&#x4EF6;&#x7684;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;!--&#x7F16;&#x5199;&#x9875;&#x9762;&#x9759;&#x6001;&#x90E8;&#x5206;&#xFF0C;&#x5373;view&#x90E8;&#x5206;--&gt; &#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x663E;&#x793A;... &lt;/template&gt; &lt;script&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x9759;&#x6001;&#x90E8;&#x5206;&#xFF0C;&#x5373;model&#x53CA;vm&#x90E8;&#x5206;&#x3002;*/ &lt;/script&gt; &lt;style&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x6837;&#x5F0F;&#xFF0C;&#x4E0D;&#x662F;&#x5FC5;&#x987B;*/ &lt;/style&gt;&#x5728;&#x9875;&#x9762;&#x7684;template&#x4E2D;&#x586B;&#x5199; &#x201C;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x663E;&#x793A;&#x2026;&#x201D;&#x3002; &#x62A5;&#x9519;: - text &quot;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x663E;&#x793A;...&quot; outside root element will be ignored.&#x6CE8;&#x610F;&#xFF1A;template&#x5185;&#x5BB9;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x4E2A;&#x6839;&#x5143;&#x7D20;&#xFF0C;&#x5426;&#x5219;vue&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5728;template&#x6807;&#x7B7E;&#x5185;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;div&#x3002; &lt;template&gt; &lt;!--&#x7F16;&#x5199;&#x9875;&#x9762;&#x9759;&#x6001;&#x90E8;&#x5206;&#xFF0C;&#x5373;view&#x90E8;&#x5206;--&gt; &lt;div&gt; &#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x663E;&#x793A;... &lt;/div&gt; &lt;/template&gt; &lt;script&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x9759;&#x6001;&#x90E8;&#x5206;&#xFF0C;&#x5373;model&#x53CA;vm&#x90E8;&#x5206;&#x3002;*/ &lt;/script&gt; &lt;style&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x6837;&#x5F0F;&#xFF0C;&#x4E0D;&#x662F;&#x5FC5;&#x987B;*/ &lt;/style&gt;&#x8FD9;&#x6837;&#x5DE6;&#x4FA7;&#x5C31;&#x80FD;&#x51FA;&#x73B0;&#x6211;&#x4EEC;&#x7684;&#x83DC;&#x5355;&#x680F;&#x4E86; &#x9875;&#x9762;&#x8DEF;&#x7531;&#x5728;cms&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;page_list.vue&#x9875;&#x9762;&#x3002;&#x73B0;&#x5728;&#x5148;&#x914D;&#x7F6E;&#x8DEF;&#x7531;&#xFF0C;&#x5B9E;&#x73B0;url&#x8BBF;&#x95EE;&#x5230;&#x9875;&#x9762;&#x518D;&#x8FDB;&#x884C;&#x5185;&#x5BB9;&#x5B8C;&#x5584;&#x4E0E;&#x8C03;&#x8BD5;&#x3002; 1.&#x5728;cms&#x7684;router&#x4E0B;&#x914D;&#x7F6E;&#x8DEF;&#x7531;import Home from &apos;@/module/home/page/home.vue&apos;; //@&#x7B26;&#x53F7;&#x5C31;&#x662F;&#x4EE3;&#x8868;src&#x76EE;&#x5F55; import page_list from &apos;@/module/cms/page/page_list.vue&apos;; export default [{ path: &apos;/&apos;, component: Home, name: &apos;CMS&apos;,//&#x83DC;&#x5355;&#x540D;&#x79F0; hidden: false, children:[ {path:&apos;/cms/page/list&apos;,name:&apos;&#x9875;&#x9762;&#x5217;&#x8868;&apos;,component: page_list,hidden:false} ] } ]2.&#x5728;base&#x76EE;&#x5F55;&#x4E0B;&#x7684;router&#x5BFC;&#x5165;cms&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x7531;// &#x5BFC;&#x5165;&#x8DEF;&#x7531;&#x89C4;&#x5219; import HomeRouter from &apos;@/module/home/router&apos; import CmsRouter from &apos;@/module/cms/router&apos; // &#x5408;&#x5E76;&#x8DEF;&#x7531;&#x89C4;&#x5219; concat(HomeRouter)//&#x52A0;&#x5165;home&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x7531; concat(CmsRouter)//&#x52A0;&#x5165;cms&#x6A21;&#x5757;&#x7684;&#x8DEF;&#x7531;3.&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x5DE5;&#x7A0B;&#xFF0C;&#x5237;&#x65B0;&#x9875;&#x9762;&#xFF0C;&#x9875;&#x9762;&#x53EF;&#x4EE5;&#x5916;&#x6B63;&#x5E38;&#x6D4F;&#x89C8;&#xFF0C;&#x5E76;&#x4E14;&#x770B;&#x5230;&#x201C;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x663E;&#x793A;&#x2026;&#x201D;&#x5B57;&#x6837; Element-UI&#x4ECB;&#x7ECD;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;Element-UI&#x6765;&#x6784;&#x5EFA;&#x754C;&#x9762;&#xFF0C;Element&#x662F;&#x4E00;&#x5957;&#x4E3A;&#x5F00;&#x53D1;&#x8005;&#x3001;&#x8BBE;&#x8BA1;&#x5E08;&#x548C;&#x4EA7;&#x54C1;&#x7ECF;&#x7406;&#x51C6;&#x5907;&#x7684;&#x57FA;&#x4E8E; Vue 2.0 &#x7684;&#x684C;&#x9762;&#x7AEF;&#x7EC4; &#x4EF6;&#x5E93;&#x3002;Element-UI&#x5B98;&#x65B9;&#x7AD9;&#x70B9;&#xFF1A;http://element.eleme.io/#/zh-CN/component/installation Table&#x7EC4;&#x4EF6;&#x6D4B;&#x8BD5;&#x672C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x7684;&#x9875;&#x9762;&#x5217;&#x8868;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x3001;&#x8F93;&#x5165;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF0C;&#x901A;&#x8FC7;&#x67E5;&#x770B;Element-UI&#x5E93;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;Table &#x8868; &#x683C;&#x3001;Form&#x8868;&#x5355; &#x53CA;Pagination &#x5206;&#x9875;&#x7EC4;&#x4EF6;&#x3002;&#x8FDB;&#x5165;Element-UI&#x5B98;&#x65B9;&#xFF0C;&#x627E;&#x5230;Table&#x7EC4;&#x4EF6;&#xFF0C;&#x62F7;&#x8D1D;&#x6E90;&#x4EE3;&#x7801;&#x5230;page_list.vue&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &lt;el-button type=&quot;primary&quot; size=&quot;small&quot;&gt;&#x67E5;&#x8BE2;&lt;/el-button&gt; &lt;el-table :data=&quot;tableData&quot; stripe style=&quot;width: 100%&quot;&gt; &lt;el-table-column prop=&quot;date&quot; label=&quot;&#x65E5;&#x671F;&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;name&quot; label=&quot;&#x59D3;&#x540D;&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;address&quot; label=&quot;&#x5730;&#x5740;&quot;&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { tableData: [{ date: &apos;2016-05-02&apos;, name: &apos;&#x738B;&#x5C0F;&#x864E;&apos;, address: &apos;&#x4E0A;&#x6D77;&#x5E02;&#x666E;&#x9640;&#x533A;&#x91D1;&#x6C99;&#x6C5F;&#x8DEF; 1518 &#x5F04;&apos; }, { date: &apos;2016-05-04&apos;, name: &apos;&#x738B;&#x5C0F;&#x864E;&apos;, address: &apos;&#x4E0A;&#x6D77;&#x5E02;&#x666E;&#x9640;&#x533A;&#x91D1;&#x6C99;&#x6C5F;&#x8DEF; 1517 &#x5F04;&apos; }, { date: &apos;2016-05-01&apos;, name: &apos;&#x738B;&#x5C0F;&#x864E;&apos;, address: &apos;&#x4E0A;&#x6D77;&#x5E02;&#x666E;&#x9640;&#x533A;&#x91D1;&#x6C99;&#x6C5F;&#x8DEF; 1519 &#x5F04;&apos; }, { date: &apos;2016-05-03&apos;, name: &apos;&#x738B;&#x5C0F;&#x864E;&apos;, address: &apos;&#x4E0A;&#x6D77;&#x5E02;&#x666E;&#x9640;&#x533A;&#x91D1;&#x6C99;&#x6C5F;&#x8DEF; 1516 &#x5F04;&apos; }] } } } &lt;/script&gt; &lt;style&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x6837;&#x5F0F;&#xFF0C;&#x4E0D;&#x662F;&#x5FC5;&#x987B;*/ &lt;/style&gt;&#x6D4B;&#x8BD5;&#xFF1A; &#x901A;&#x8FC7;&#x67E5;&#x770B;&#x4EE3;&#x7801;&#x53D1;&#x73B0;&#xFF1A;el-table&#x7EC4;&#x4EF6;&#x7ED1;&#x5B9A;&#x4E86;tableData&#x6A21;&#x578B;&#x6570;&#x636E;&#x3002;tableData&#x6A21;&#x578B;&#x6570;&#x636E;&#x5728;script&#x6807;&#x7B7E;&#x4E2D;&#x5B9A;&#x4E49;&#x3002; &#x9875;&#x9762;&#x5185;&#x5BB9;&#x5B8C;&#x5584;&#x6839;&#x636E;&#x9700;&#x6C42;&#x5B8C;&#x5584;&#x9875;&#x9762;&#x5185;&#x5BB9;&#xFF0C;&#x5B8C;&#x5584;&#x5217;&#x8868;&#x5B57;&#x6BB5;&#xFF0C;&#x6DFB;&#x52A0;&#x5206;&#x9875;&#x7EC4;&#x4EF6;&#x3002; &#x4FEE;&#x6539;page_list.vue&#x6587;&#x4EF6; &lt;template&gt; &lt;div&gt; &lt;!--&#x6309;&#x94AE;&#x7EC4;&#x4EF6;--&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;query&quot; size=&quot;small&quot;&gt;&#x67E5;&#x8BE2;&lt;/el-button&gt; &lt;!--&#x8868;&#x683C;&#x7EC4;&#x4EF6;--&gt; &lt;el-table :data=&quot;list&quot; stripe style=&quot;width: 100%&quot;&gt; &lt;el-table-column type=&quot;index&quot; width=&quot;60&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageName&quot; label=&quot;&#x9875;&#x9762;&#x540D;&#x79F0;&quot; width=&quot;120&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageAliase&quot; label=&quot;&#x522B;&#x540D;&quot; width=&quot;120&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageType&quot; label=&quot;&#x9875;&#x9762;&#x7C7B;&#x578B;&quot; width=&quot;150&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageWebPath&quot; label=&quot;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&quot; width=&quot;250&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pagePhysicalPath&quot; label=&quot;&#x7269;&#x7406;&#x8DEF;&#x5F84;&quot; width=&quot;250&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;pageCreateTime&quot; label=&quot;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&quot; width=&quot;180&quot;&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;!--&#x5206;&#x9875;&#x7EC4;&#x4EF6;--&gt; &lt;el-pagination layout=&quot;prev, pager, next&quot; :total=&quot;total&quot; :page-size=&quot;params.size&quot; :current-page=&quot;params.page&quot; @current-change=&quot;changePage&quot; style=&quot;float:right;&quot;&gt; &lt;/el-pagination&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { data() { return { list: [ { &quot;siteId&quot;: &quot;5a751fab6abb5044e0d19ea1&quot;, &quot;pageId&quot;: &quot;5a754adf6abb500ad05688d9&quot;, &quot;pageName&quot;: &quot;index.html&quot;, &quot;pageAliase&quot;: &quot;&#x9996;&#x9875;&quot;, &quot;pageWebPath&quot;: &quot;/index.html&quot;, &quot;pageParameter&quot;: null, &quot;pagePhysicalPath&quot;: &quot;F:\\develop\\xc_portal_static\\&quot;, &quot;pageType&quot;: &quot;0&quot;, &quot;pageTemplate&quot;: null, &quot;pageHtml&quot;: null, &quot;pageStatus&quot;: null, &quot;pageCreateTime&quot;: &quot;2018-02-03T05:37:53.256+0000&quot;, &quot;templateId&quot;: &quot;5a962b52b00ffc514038faf7&quot;, &quot;pageParams&quot;: null, &quot;htmlFileId&quot;: &quot;5a7c1c54d019f14d90a1fb23&quot;, &quot;dataUrl&quot;: null }, { &quot;siteId&quot;: &quot;5a751fab6abb5044e0d19ea1&quot;, &quot;pageId&quot;: &quot;5a795ac7dd573c04508f3a56&quot;, &quot;pageName&quot;: &quot;index_banner.html&quot;, &quot;pageAliase&quot;: &quot;&#x8F6E;&#x64AD;&#x56FE;&quot;, &quot;pageWebPath&quot;: &quot;/include/index_banner.html&quot;, &quot;pageParameter&quot;: null, &quot;pagePhysicalPath&quot;: &quot;F:\\develop\\xc_portal_static\\include\\&quot;, &quot;pageType&quot;: &quot;0&quot;, &quot;pageTemplate&quot;: null, &quot;pageHtml&quot;: null, &quot;pageStatus&quot;: null, &quot;pageCreateTime&quot;: &quot;2018-02-06T07:34:21.255+0000&quot;, &quot;templateId&quot;: &quot;5a962bf8b00ffc514038fafa&quot;, &quot;pageParams&quot;: null, &quot;htmlFileId&quot;: &quot;5a795bbcdd573c04508f3a59&quot;, &quot;dataUrl&quot;: null }], //&#x6570;&#x636E;&#x603B;&#x6761;&#x6570; total: 50, params: { //&#x5F53;&#x524D;&#x9875; page: 2, //&#x6BCF;&#x9875;&#x663E;&#x793A;&#x6761;&#x6570; size: 10 } } }, methods: { query: function () { alert(&apos;&#x67E5;&#x8BE2;&apos;) //&#x8C03;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x63A5;&#x53E3; }, changePage: function () {//&#x5F62;&#x53C2;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x9875;&#x7801; //&#x8C03;&#x7528;query&#x65B9;&#x6CD5; this.query() } }, } &lt;/script&gt; &lt;style&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x6837;&#x5F0F;&#xFF0C;&#x4E0D;&#x662F;&#x5FC5;&#x987B;*/ &lt;/style&gt;&#x6D4B;&#x8BD5;: Api&#x8C03;&#x7528;1.Api&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x5728;cms&#x6A21;&#x5757;&#x7684;api&#x76EE;&#x5F55;&#x5B9A;&#x4E49;cms.js&#xFF0C;&#x5728;cms.js&#x4E2D;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;js&#x65B9;&#x6CD5;&#xFF0C;&#x6B64;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;http&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x3002; //public&#x662F;&#x5BF9;axios&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x5C01;&#x88C5;&#xFF0C;&#x5B9A;&#x4E49;&#x4E86;http&#x8BF7;&#x6C42;&#x65B9;&#x6CD5; import http from &apos;./../../../base/api/public&apos; //&#x9875;&#x9762;&#x67E5;&#x8BE2; export const page_list = (page,size,params) =&gt;{ //&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3; return http.requestQuickGet(apiUrl+&apos;/cms/page/list/&apos;+page+&apos;/&apos;+size); }axios&#x5B9E;&#x73B0;&#x4E86;http&#x65B9;&#x6CD5;&#x7684;&#x5C01;&#x88C5;&#xFF0C;vue.js&#x5B98;&#x65B9;&#x4E0D;&#x518D;&#x7EE7;&#x7EED;&#x7EF4;&#x62A4;vue-resource,&#x63A8;&#x8350;&#x4F7F;&#x7528; axios&#x3002; 2.Api&#x8C03;&#x7528;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x5BFC;&#x5165;cms.js&#xFF0C;&#x8C03;&#x7528;js&#x65B9;&#x6CD5;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x3002;1&#xFF09;&#x5728;script&#x6807;&#x7B7E;&#x6700;&#x4E0A;&#x9762;&#x5BFC;&#x5165;cms.js import * as cmsApi from &apos;../api/cms&apos;&#x5728;query&#x65B9;&#x6CD5;&#x4E2D;&#x8C03;&#x7528; page_list&#x65B9;&#x6CD5; //&#x67E5;&#x8BE2; query:function () { cmsApi.page_list(this.params.page,this.params.size).then((res)=&gt;{ console.log(res) this.total = res.queryResult.total this.list = res.queryResult.list }) }&#x8DE8;&#x57DF;&#x95EE;&#x9898;&#x89E3;&#x51B3;&#x6D4B;&#x8BD5;&#x4E0A;&#x8FB9;&#x7684;&#x4EE3;&#x7406; &#xFF0C;&#x7ED3;&#x679C;&#x62A5;&#x9519;&#x5982;&#x4E0B; &#xFF1A;No &#x2018;Access-Control-Allow-Origin&#x2019; header is present on the requested resource. Origin&#x2018;http://localhost:11000&apos; is therefore not allowed access. &#x539F;&#x56E0;&#xFF1A;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x4E0D;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#xFF0C;&#x6240;&#x8C13;&#x540C;&#x6E90;&#x7B56;&#x7565;&#x662F;&#x6307;&#x534F;&#x8BAE;&#x3001;&#x57DF;&#x540D;&#x3001;&#x7AEF;&#x53E3;&#x76F8;&#x540C;&#x3002; &#x89E3;&#x51B3;&#xFF1A;&#x91C7;&#x7528;proxyTable&#x89E3;&#x51B3;&#x3002;proxyTable&#x662F;&#x4EC0;&#x4E48;&#xFF1F;vue-cli&#x63D0;&#x4F9B;&#x7684;&#x89E3;&#x51B3;vue&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4E0B;&#x8DE8;&#x57DF;&#x95EE;&#x9898;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;proxyTable&#x7684;&#x5E95;&#x5C42;&#x4F7F;&#x7528;&#x4E86;http-proxy-middleware&#xFF08;https://github.com/chimurai/http-proxy-middleware&#xFF09;&#xFF0C;&#x5B83;&#x662F;http&#x4EE3;&#x7406;&#x4E2D;&#x95F4;&#x4EF6;&#xFF0C;&#x5B83;&#x4F9D;&#x8D56;node.js&#xFF0C; &#x57FA;&#x672C;&#x539F;&#x7406;&#x662F;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7406;&#x89E3;&#x51B3;&#x6D4F;&#x89C8;&#x5668;&#x8DE8;&#x57DF;&#xFF1A; cms&#x8DE8;&#x57DF;&#x89E3;&#x51B3;&#x539F;&#x7406;&#xFF1A;1&#x3001;&#x8BBF;&#x95EE;&#x9875;&#x9762;http://localhost:11000/ 2&#x3001;&#x9875;&#x9762;&#x8BF7;&#x6C42;http://localhost:11000/cms&#x7531;&#x4E8E;url&#x7531;http://localhost:31001/cms...&#x6539;&#x4E3A;&#x201C;http://localhost:11000/cms.&quot;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x5B58;&#x5728;&#x8DE8;&#x57DF; 3&#x3001;&#x901A;&#x8FC7;proxyTable&#x7531;node&#x670D;&#x52A1;&#x5668;&#x4EE3;&#x7406;&#x8BF7;&#x6C42; http://localhost:31001/cms. &#x670D;&#x52A1;&#x7AEF;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x5C31;&#x4E0D;&#x5B58;&#x5728;&#x8DE8;&#x57DF;&#x95EE;&#x9898; &#x5177;&#x4F53;&#x7684;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;1&#xFF09;&#x4FEE;&#x6539;api&#x65B9;&#x6CD5;&#x4E2D;url&#x7684;&#x5B9A;&#x4E49; &#x8BF7;&#x6C42;&#x524D;&#x52A0;/api&#x524D;&#x7F00; //public&#x662F;&#x5BF9;axios&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x5C01;&#x88C5;&#xFF0C;&#x5B9A;&#x4E49;&#x4E86;http&#x8BF7;&#x6C42;&#x65B9;&#x6CD5; import http from &apos;./../../../base/api/public&apos; //@&#x76F8;&#x5F53;&#x4E8E;src&#x76EE;&#x5F55; let sysConfig = require(&apos;@/../config/sysConfig&apos;) let apiUrl = sysConfig.xcApiUrlPre; //&#x9875;&#x9762;&#x67E5;&#x8BE2; export const page_list = (page, size, params) =&gt; { //&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3; return http.requestQuickGet(apiUrl + &apos;/cms/page/list/&apos; + page + &apos;/&apos; + size); }2&#xFF09;&#x5728;con&#xFB01;g/index.js&#x4E0B;&#x914D;&#x7F6E;proxyTable&#x3002;&#x4EE5;/api/cms&#x5F00;&#x5934;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x4EE3;&#x7406;&#x8BF7;&#x6C42;http://localhost:31001 var sysConfig = { xcApiUrlPre: &apos;/api&apos;, xcApiUrl: &apos;http://api.xuecheng.com/&apos;, imgUrl: &apos;http://img.xuecheng.com/&apos;, videoUrl: &apos;http://video.xuecheng.com/&apos;, openAuthenticate: true, openAuthorize: true } module.exports = sysConfig&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x6D4B;&#x8BD5;1.&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x89C6;&#x56FE;&#x4F7F;&#x7528;v-on&#x76D1;&#x542C;&#x66F4;&#x6539;&#x5206;&#x9875;&#x4E8B;&#x4EF6; &lt;el-pagination layout=&quot;prev, pager, next&quot; :total=&quot;total&quot; :page-size=&quot;params.size&quot; :current-page=&quot;params.page&quot; @current-change=&quot;changePage&quot; style=&quot;float:right;&quot;&gt; &lt;/el-pagination&gt;2.&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x6A21;&#x578B;&#x5BF9;&#x8C61;data() { return { list: [], //&#x6570;&#x636E;&#x603B;&#x6761;&#x6570; total: 0, params: { //&#x5F53;&#x524D;&#x9875; page: 1, //&#x6BCF;&#x9875;&#x663E;&#x793A;&#x6761;&#x6570; size: 10 } } }3.&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x65B9;&#x6CD5;&#xFF0C;&#x63A5;&#x6536;&#x9875;&#x7801;&#x53C2;&#x6570; changePage: function (currentPage) { //&#x5F62;&#x53C2;&#x5C31;&#x662F;&#x5F53;&#x524D;&#x9875;&#x7801; //&#x8C03;&#x7528;query&#x65B9;&#x6CD5; //alert(currentPage) this.params.page = currentPage this.query() }&#x6D4B;&#x8BD5;&#x5206;&#x9875;&#x6548;&#x679C; &#x8FDB;&#x5165;&#x9875;&#x9762;&#x7ACB;&#x5373;&#x67E5;&#x8BE2;&#x76EE;&#x524D;&#x5B9E;&#x73B0;&#x7684;&#x529F;&#x80FD;&#x662F;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x70B9;&#x51FB;&#x67E5;&#x8BE2;&#x6309;&#x94AE;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x8868;&#x6C42;&#x67E5;&#x8BE2;&#xFF0C;&#x5B9E;&#x9645;&#x7684;&#x9700;&#x6C42;&#x662F;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x7ACB;&#x5373;&#x67E5;&#x8BE2;&#x3002;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#xFF1F; &#x8FD9;&#x8981;&#x7528;&#x5230;vue&#x7684;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#xFF0C;&#x6BCF;&#x4E2A; Vue &#x5B9E;&#x4F8B;&#x5728;&#x88AB;&#x521B;&#x5EFA;&#x65F6;&#x90FD;&#x8981;&#x7ECF;&#x8FC7;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x521D;&#x59CB;&#x5316;&#x8FC7;&#x7A0B;&#x2014;&#x2014;&#x4F8B;&#x5982;&#xFF0C;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x6570;&#x636E;&#x76D1;&#x542C;&#x3001; &#x7F16;&#x8BD1;&#x6A21;&#x677F;&#x3001;&#x5C06;&#x5B9E;&#x4F8B;&#x6302;&#x8F7D;&#x5230; DOM &#x5E76;&#x5728;&#x6570;&#x636E;&#x53D8;&#x5316;&#x65F6;&#x66F4;&#x65B0; DOM &#x7B49;&#x3002;&#x540C;&#x65F6;&#x5728;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x4F1A;&#x8FD0;&#x884C;&#x4E00;&#x4E9B;&#x53EB;&#x505A;&#x751F;&#x547D;&#x5468;&#x671F;&#x94A9;&#x5B50;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x7ED9;&#x4E86;&#x7528;&#x6237;&#x5728;&#x4E0D;&#x540C;&#x9636;&#x6BB5;&#x6DFB;&#x52A0;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x673A;&#x4F1A;&#x3002; &#x901A;&#x5E38;&#x4F7F;&#x7528;&#x6700;&#x591A;&#x7684;&#x662F;created&#x548C;mounted&#x4E24;&#x4E2A;&#x94A9;&#x5B50;&#xFF1A;created&#xFF1A;vue&#x5B9E;&#x4F8B;&#x5DF2;&#x521B;&#x5EFA;&#x4F46;&#x662F;DOM&#x5143;&#x7D20;&#x8FD8;&#x6CA1;&#x6709;&#x6E32;&#x67D3;&#x751F;&#x6210;&#x3002;mounted&#xFF1A;DOM&#x5143;&#x7D20;&#x6E32;&#x67D3;&#x751F;&#x6210;&#x5B8C;&#x6210;&#x540E;&#x8C03;&#x7528;&#x3002; &#x672C;&#x4F8B;&#x5B50;&#x5728;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x7684;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x90FD;&#x6EE1;&#x8DB3;&#x9700;&#x6C42;&#xFF1A;&#x5728;script&#x6807;&#x7B7E;&#x4E2D;methods&#x65B9;&#x6CD5;&#x5916;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; mounted(){ this.query() } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-2-vuejs-yu-webpack.html</url>
    <content type="text"><![CDATA[vue.jsvue.js&#x4ECB;&#x7ECD;vue.js&#x662F;&#x4EC0;&#x4E48;&#xFF1F; Vue (&#x8BFB;&#x97F3; /vju&#x2D0;/&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E; view) &#x662F;&#x4E00;&#x5957;&#x7528;&#x4E8E;&#x6784;&#x5EFA;&#x7528;&#x6237;&#x754C;&#x9762;&#x7684;&#x6E10;&#x8FDB;&#x5F0F;&#x6846;&#x67B6;&#x3002;&#x4E0E;&#x5176;&#x5B83;&#x5927;&#x578B;&#x6846;&#x67B6;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;Vue &#x88AB;&#x8BBE;&#x8BA1;&#x4E3A;&#x53EF;&#x4EE5;&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x9010;&#x5C42;&#x5E94;&#x7528;&#x3002;Vue &#x7684;&#x6838;&#x5FC3;&#x5E93;&#x53EA;&#x5173;&#x6CE8;&#x89C6;&#x56FE;&#x5C42;&#xFF0C;&#x4E0D;&#x4EC5;&#x6613;&#x4E8E;&#x4E0A;&#x624B;&#xFF0C;&#x8FD8;&#x4FBF;&#x4E8E;&#x4E0E;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#x6216;&#x65E2;&#x6709;&#x9879;&#x76EE;&#x6574;&#x5408;&#x3002;&#x53E6;&#x4E00; &#x65B9;&#x9762;&#xFF0C;&#x5F53;&#x4E0E;&#x73B0;&#x4EE3;&#x5316;&#x7684;&#x5DE5;&#x5177;&#x94FE;&#x4EE5;&#x53CA;&#x5404;&#x79CD;&#x652F;&#x6301;&#x7C7B;&#x5E93;&#x7ED3;&#x5408;&#x4F7F;&#x7528;&#x65F6;&#xFF0C;Vue &#x4E5F;&#x5B8C;&#x5168;&#x80FD;&#x591F;&#x4E3A;&#x590D;&#x6742;&#x7684;&#x5355;&#x9875;&#x5E94;&#x7528;&#x63D0;&#x4F9B;&#x9A71;&#x52A8;&#x3002;&#x6E10;&#x8FDB;&#x5F0F;&#x6846;&#x67B6;&#xFF1A;Progressive&#xFF0C;&#x8BF4;&#x660E;vue.js&#x7684;&#x8F7B;&#x91CF;&#xFF0C;&#x662F;&#x6307;&#x4E00;&#x4E2A;&#x524D;&#x7AEF;&#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;vue.js&#x4E00;&#x4E24;&#x4E2A;&#x7279;&#x6027;&#x4E5F;&#x53EF;&#x4EE5;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x90FD;&#x7528; vue.js&#x3002;&#x81EA;&#x5E95;&#x5411;&#x4E0A;&#x9010;&#x5C42;&#x5E94;&#x7528;&#xFF1A;&#x4F5C;&#x4E3A;&#x6E10;&#x8FDB;&#x5F0F;&#x6846;&#x67B6;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x76EE;&#x6807;&#x5C31;&#x662F;&#x65B9;&#x4FBF;&#x9879;&#x76EE;&#x589E;&#x91CF;&#x5F00;&#x53D1;&#x3002; &#x53C2;&#x8003;&#xFF1A;https://cn.vuejs.org/v2/guide/ Vue.js&#x4E0E;ECMAScriptVue &#x4E0D;&#x652F;&#x6301; IE8 &#x53CA;&#x4EE5;&#x4E0B;&#x7248;&#x672C;&#xFF0C;&#x56E0;&#x4E3A; Vue &#x4F7F;&#x7528;&#x4E86; IE8 &#x65E0;&#x6CD5;&#x6A21;&#x62DF;&#x7684; ECMAScript 5 &#x7279;&#x6027;&#x3002; &#x4EC0;&#x4E48;&#x662F;ECMAScript?ECMAScript&#x662F;&#x4E00;&#x79CD;&#x7531;Ecma&#x56FD;&#x9645;&#xFF08;&#x524D;&#x8EAB;&#x4E3A;&#x6B27;&#x6D32;&#x8BA1;&#x7B97;&#x673A;&#x5236;&#x9020;&#x5546;&#x534F;&#x4F1A;&#xFF0C;European Computer Manufacturers Association&#xFF09;&#x901A;&#x8FC7;ECMA-262&#x6807;&#x51C6;&#x5316;&#x7684;&#x811A;&#x672C;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x8BED;&#x8A00;&#x3002;&#x8FD9;&#x79CD;&#x8BED;&#x8A00;&#x5728;&#x4E07;&#x7EF4;&#x7F51;&#x4E0A;&#x5E94;&#x7528;&#x5E7F;&#x6CDB;&#xFF0C;&#x5B83;&#x5F80;&#x5F80;&#x88AB;&#x79F0;&#x4E3A;JavaScript&#x6216;JScript&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x662F;JavaScript&#x7684;&#x4E00;&#x4E2A;&#x6807;&#x51C6;,&#x4F46;&#x5B9E;&#x9645;&#x4E0A;&#x540E;&#x4E24;&#x8005;&#x662F;ECMA-262&#x6807;&#x51C6;&#x7684;&#x5B9E;&#x73B0;&#x548C;&#x6269;&#x5C55;&#x3002; ECMAScript&#xFF08;&#x7B80;&#x79F0;ES&#xFF09;&#x662F;&#x4E00;&#x79CD;&#x89C4;&#x8303;&#xFF0C;&#x6211;&#x4EEC;&#x5E73;&#x5E38;&#x6240;&#x8BF4;&#x7684;Js/Javascript&#x662F;ECMAScript&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x65E9;&#x671F;&#x4E3B;&#x8981;&#x5E94;&#x7528;&#x7684;ES3&#xFF0C;&#x5F53; &#x524D;&#x4E3B;&#x6D41;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x652F;&#x6301;ES5&#x3001;ES6&#xFF0C;ES8&#x5DF2;&#x4E8E;2017&#x5E74;&#x53D1;&#x5E03;&#x3002;ES6&#xFF1A;http://www.ecma-international.org/ecma-262/6.0/ES7&#xFF1A;http://www.ecma-international.org/ecma-262/7.0/ Vue.js&#x7684;&#x4F7F;&#x7528;1&#xFF09;&#x5728;html&#x9875;&#x9762;&#x4F7F;&#x7528;script&#x5F15;&#x5165;vue.js&#x7684;&#x5E93;&#x5373;&#x53EF;&#x4F7F;&#x7528;&#x3002;2&#xFF09;&#x4F7F;&#x7528;Npm&#x7BA1;&#x7406;&#x4F9D;&#x8D56;&#xFF0C;&#x4F7F;&#x7528;webpack&#x6253;&#x5305;&#x5DE5;&#x5177;&#x5BF9;vue.js&#x5E94;&#x7528;&#x6253;&#x5305;&#x3002; &#x5927;&#x578B;&#x5E94;&#x7528;&#x63A8;&#x8350;&#x6B64;&#x65B9;&#x6848;&#x3002;3&#xFF09;Vue-CLI&#x811A;&#x624B;&#x67B6;,&#x4F7F;&#x7528;vue.js&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;CLI&#x811A;&#x672C;&#x67B6;&#x5F88;&#x65B9;&#x4FBF;&#x53BB;&#x521B;&#x5EFA;vue.js&#x5DE5;&#x7A0B;&#x96CF;&#x5F62;&#x3002; vue.js&#x6709;&#x54EA;&#x4E9B;&#x529F;&#x80FD;&#xFF1F;1&#xFF09;&#x58F0;&#x660E;&#x5F0F;&#x6E32;&#x67D3;Vue.js &#x7684;&#x6838;&#x5FC3;&#x662F;&#x4E00;&#x4E2A;&#x5141;&#x8BB8;&#x91C7;&#x7528;&#x7B80;&#x6D01;&#x7684;&#x6A21;&#x677F;&#x8BED;&#x6CD5;&#x6765;&#x58F0;&#x660E;&#x5F0F;&#x5730;&#x5C06;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x8FDB; DOM &#x7684;&#x7CFB;&#x7EDF;&#x3002;&#x6BD4;&#x5982;&#xFF1A;&#x4F7F;&#x7528;vue.js&#x7684;&#x63D2;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x653E;&#x5728;Dom&#x7684;&#x4EFB;&#x610F;&#x5730;&#x65B9;&#xFF0C; &#x5DEE;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x5C06;&#x88AB;&#x6E32;&#x67D3;&#x5728;Dom&#x4E2D;&#x3002;2&#xFF09;&#x6761;&#x4EF6;&#x4E0E;&#x5FAA;&#x73AF;dom&#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;vue.js&#x63D0;&#x4F9B;&#x7684;v-if&#x3001;v-for&#x7B49;&#x6807;&#x7B7E;&#xFF0C;&#x65B9;&#x4FBF;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x3001;&#x5FAA;&#x73AF;&#x3002;3&#xFF09;&#x53CC;&#x5411;&#x6570;&#x636E;&#x7ED1;&#x5B9A;Vue &#x63D0;&#x4F9B;v-model &#x6307;&#x4EE4;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;Dom&#x5143;&#x7D20;&#x548C;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x53CC;&#x5411;&#x7ED1;&#x5B9A;&#xFF0C;&#x5373;&#x4FEE;&#x6539;Dom&#x5143;&#x7D20;&#x4E2D;&#x7684;&#x503C;&#x81EA;&#x52A8;&#x4FEE;&#x6539;&#x7ED1; &#x5B9A;&#x7684;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#xFF0C;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x7684;&#x503C;&#x81EA;&#x52A8;&#x4FEE;&#x6539;Dom&#x5143;&#x7D20;&#x4E2D;&#x7684;&#x503C;&#x3002;4&#xFF09;&#x5904;&#x7406;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4E3A;&#x4E86;&#x8BA9;&#x7528;&#x6237;&#x548C;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528; v-on &#x6307;&#x4EE4;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x76D1;&#x542C;&#x5668;&#xFF0C;&#x901A;&#x8FC7;&#x5B83;&#x8C03;&#x7528;&#x5728; Vue &#x5B9E;&#x4F8B;&#x4E2D;&#x5B9A;&#x4E49;&#x7684; &#x65B9;&#x6CD5;5&#xFF09;&#x7EC4;&#x4EF6;&#x5316;&#x5E94;&#x7528;&#x6784;&#x5EFA;vue.js&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x7EC4;&#x4EF6;&#xFF0C;&#x5728;vue&#x9875;&#x9762;&#x4E2D;&#x5F15;&#x7528;&#x7EC4;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x975E;&#x5E38;&#x9002;&#x5408;&#x6784;&#x5EFA;&#x5927;&#x578B;&#x5E94;&#x7528;&#x3002; vue.js&#x57FA;&#x7840;MVVM&#x6A21;&#x5F0F;vue.js&#x662F;&#x4E00;&#x4E2A;MVVM&#x7684;&#x6846;&#x67B6;&#xFF0C;&#x7406;&#x89E3;MVVM&#x6709;&#x5229;&#x4E8E;&#x5B66;&#x4E60;vue.js&#x3002; MVVM&#x62C6;&#x5206;&#x89E3;&#x91CA;&#x4E3A;&#xFF1A; Model:&#x8D1F;&#x8D23;&#x6570;&#x636E;&#x5B58;&#x50A8; View:&#x8D1F;&#x8D23;&#x9875;&#x9762;&#x5C55;&#x793A; View Model:&#x8D1F;&#x8D23;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5904;&#x7406;&#xFF08;&#x6BD4;&#x5982;Ajax&#x8BF7;&#x6C42;&#x7B49;&#xFF09;&#xFF0C;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x52A0;&#x5DE5;&#x540E;&#x4EA4;&#x7ED9;&#x89C6;&#x56FE;&#x5C55;&#x793A; MVVM&#x8981;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#x662F;&#x5C06;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4EE3;&#x7801;&#x4E0E;&#x89C6;&#x56FE;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x5B8C;&#x5168;&#x5206;&#x79BB;&#xFF0C;&#x4F7F;&#x5404;&#x81EA;&#x7684;&#x804C;&#x8D23;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#xFF0C;&#x540E;&#x671F;&#x4EE3;&#x7801;&#x7EF4;&#x62A4;&#x66F4;&#x52A0;&#x7B80;&#x5355; &#x7528;&#x56FE;&#x89E3;&#x7684;&#x5F62;&#x5F0F;&#x5206;&#x6790;Ajax&#x8BF7;&#x6C42;&#x56DE;&#x6765;&#x6570;&#x636E;&#x540E;&#x76F4;&#x63A5;&#x64CD;&#x4F5C;Dom&#x6765;&#x8FBE;&#x5230;&#x89C6;&#x56FE;&#x7684;&#x66F4;&#x65B0;&#x7684;&#x7F3A;&#x70B9;&#xFF0C;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;MVVM&#x6A21;&#x5F0F;&#x662F;&#x5982;&#x4F55; &#x6765;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x7F3A;&#x70B9;&#x7684; Vue&#x4E2D;&#x7684; MVVM &#x4ECE;&#x4E0A;&#x56FE;&#x770B;&#x51FA;&#xFF0C;VM(ViewModel)&#x53EF;&#x4EE5;&#x628A;view&#x89C6;&#x56FE;&#x548C;Model&#x6A21;&#x578B;&#x89E3;&#x8026;&#x5408;&#xFF0C;VM&#x7684;&#x8981;&#x505A;&#x7684;&#x5DE5;&#x4F5C;&#x5C31;&#x662F;vue.js&#x6240;&#x627F;&#x62C5;&#x7684;&#x3002; &#x5165;&#x95E8;&#x7A0B;&#x5E8F;&#x672C;&#x6B21;&#x6D4B;&#x8BD5;&#x6211;&#x4EEC;&#x5728;&#x95E8;&#x6237;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;html&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x6B63;&#x5F0F;&#x7684;&#x9875;&#x9762;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x7A0B;&#x5E8F;&#x4F1A;&#x5355;&#x72EC;&#x521B;&#x5EFA;&#x5DE5;&#x7A0B;&#x3002;&#x5728;&#x95E8;&#x6237;&#x76EE;&#x5F55;&#x4E2D;&#x521B;&#x5EFA;vuetest&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;vue_01.html&#x6587;&#x4EF6; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;vue.js&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&lt;/title&gt; &lt;script src=&quot;js/vue/vue.min.js&quot;&gt;&lt;/script&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot;&gt; {{name}} &lt;/div&gt; &lt;script type=&quot;text/javascript&quot;&gt; var vm = new Vue({ el: &apos;#app&apos;, data: { name: &quot;hello world&quot;, } }) &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x6B65;&#x9AA4;&#xFF1A;1&#x3001;&#x5B9A;&#x4E49;html&#xFF0C;&#x5F15;&#x5165;vue.js2&#x3001;&#x5B9A;&#x4E49;app div&#xFF0C;&#x6B64;&#x533A;&#x57DF;&#x4F5C;&#x4E3A;vue&#x7684;&#x63A5;&#x7BA1;&#x533A;&#x57DF; 3&#x3001;&#x5B9A;&#x4E49;vue&#x5B9E;&#x4F8B;&#xFF0C;&#x63A5;&#x7BA1;app&#x533A;&#x57DF;&#x3002;4&#x3001;&#x5B9A;&#x4E49;model&#xFF08;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#xFF09;5&#x3001;VM&#x5B8C;&#x6210;&#x5728;app&#x4E2D;&#x5C55;&#x793A;&#x6570;&#x636E; v&#x2010;model&#x548C;v-text&#x5B9E;&#x73B0;&#x6548;&#x679C;&#xFF1A; &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:v-on=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:v-bind=&quot;http://www.w3.org/1999/xhtml&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;vue.js&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot;&gt; &lt;!--MVVM&#x7684;view&#x89C6;&#x56FE;--&gt; &lt;!--{{name}}&#x89E3;&#x51B3;&#x95EA;&#x70C1;&#x95EE;&#x9898;&#x4F7F;&#x7528;v-text--&gt; &lt;span v-text=&quot;name&quot;&gt;&lt;/span&gt; &lt;!-- v-model&#x4EE3;&#x66FF;&#x4E86;value&#x5C5E;&#x6027; 1.&#x4ECE;model&#x5230;dom,&#x8FD9;&#x91CC;num1&#x548C;num2&#x7684;&#x503C;&#x6765;&#x81EA;&#x4E8E;model 2.&#x4ECE;dom&#x5230;model,&#x6211;&#x5728;&#x6587;&#x672C;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x503C;,&#x4F20;&#x9012;&#x7ED9;&#x6211;&#x7684;model,model&#x5728;&#x4F20;&#x9012;&#x7ED9;&#x6211;&#x7684;&#x5DEE;&#x503C;&#x8868;&#x8FBE;&#x5F0F; --&gt; &lt;input type=&quot;text&quot; v-model=&quot;num1&quot;&gt;+ &lt;input type=&quot;text&quot; v-model=&quot;num2&quot;&gt;= &lt;span v-text=&quot;Number.parseInt(num1)+Number.parseInt(num2)&quot;&gt;&lt;/span&gt; &lt;!--{{Number.parseInt(num1)+Number.parseInt(num2)}}--&gt; &lt;button&gt;&#x8BA1;&#x7B97;&lt;/button&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src=&quot;https://cdn.staticfile.org/vue/2.4.2/vue.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt; /*MVVM&#x7684;VM(View Model)&#x90E8;&#x5206;*/ // &#x5B9E;&#x4F8B;&#x5316;Vue&#x5BF9;&#x8C61; //vm :&#x53EB;&#x505A;MVVM&#x4E2D;&#x7684; View Model var VM = new Vue({ el: &quot;#app&quot;,//&#x8868;&#x793A;&#x5F53;&#x524D;vue&#x5BF9;&#x8C61;&#x63A5;&#x7BA1;app&#x7684;div&#x533A;&#x57DF; data: { name: &apos;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&apos;,// &#x76F8;&#x5F53;&#x4E8E;&#x662F;MVVM&#x4E2D;&#x7684;Model&#x8FD9;&#x4E2A;&#x89D2;&#x8272; num1: 0, num2: 0 } }); &lt;/script&gt; &lt;/html&gt;&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:v-on=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:v-bind=&quot;http://www.w3.org/1999/xhtml&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;vue.js&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot;&gt; &lt;!--MVVM&#x7684;view&#x89C6;&#x56FE;--&gt; &lt;!--{{name}}&#x89E3;&#x51B3;&#x95EA;&#x70C1;&#x95EE;&#x9898;&#x4F7F;&#x7528;v-text--&gt; &lt;a v-bind:href=&quot;url&quot;&gt; &lt;span v-text=&quot;name&quot;&gt;&lt;/span&gt; &lt;/a&gt; &lt;!-- v-model&#x4EE3;&#x66FF;&#x4E86;value&#x5C5E;&#x6027; 1.&#x4ECE;model&#x5230;dom,&#x8FD9;&#x91CC;num1&#x548C;num2&#x7684;&#x503C;&#x6765;&#x81EA;&#x4E8E;model 2.&#x4ECE;dom&#x5230;model,&#x6211;&#x5728;&#x6587;&#x672C;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x503C;,&#x4F20;&#x9012;&#x7ED9;&#x6211;&#x7684;model,model&#x5728;&#x4F20;&#x9012;&#x7ED9;&#x6211;&#x7684;&#x5DEE;&#x503C;&#x8868;&#x8FBE;&#x5F0F; --&gt; &lt;input type=&quot;text&quot; v-model=&quot;num1&quot;&gt;+ &lt;input type=&quot;text&quot; v-model=&quot;num2&quot;&gt;= &lt;span v-text=&quot;result&quot;&gt;&lt;/span&gt; &lt;!--&lt;span v-text=&quot;Number.parseInt(num1)+Number.parseInt(num2)&quot;&gt;&lt;/span&gt;--&gt; &lt;!--{{Number.parseInt(num1)+Number.parseInt(num2)}}--&gt; &lt;button v-on:click=&quot;change&quot;&gt;&#x8BA1;&#x7B97;&lt;/button&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src=&quot;https://cdn.staticfile.org/vue/2.4.2/vue.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt; /*MVVM&#x7684;VM(View Model)&#x90E8;&#x5206;*/ // &#x5B9E;&#x4F8B;&#x5316;Vue&#x5BF9;&#x8C61; //vm :&#x53EB;&#x505A;MVVM&#x4E2D;&#x7684; View Model var VM = new Vue({ el: &quot;#app&quot;,//&#x8868;&#x793A;&#x5F53;&#x524D;vue&#x5BF9;&#x8C61;&#x63A5;&#x7BA1;app&#x7684;div&#x533A;&#x57DF; data: { name: &apos;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&apos;,// &#x76F8;&#x5F53;&#x4E8E;&#x662F;MVVM&#x4E2D;&#x7684;Model&#x8FD9;&#x4E2A;&#x89D2;&#x8272; num1: 0, num2: 0, result:0, url:&quot;http://www.itcast.com&quot; }, methods :{ change:function () { this.result = Number.parseInt(this.num1)+Number.parseInt(this.num2) //alert(&quot;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;: &quot;+1) } } }); &lt;/script&gt; &lt;/html&gt;&#x672C;&#x4F8B;&#x5B50;&#x5B66;&#x4E60;&#x4E86;&#xFF1A; v-model&#xFF1A;(v-model&#x548C;v-bind&#x5F88;&#x50CF; v-model&#x662F;&#x53CC;&#x5411;&#x6570;&#x636E;&#x7ED1;&#x5B9A;) &#x5728;&#x8868;&#x5355;&#x63A7;&#x4EF6;&#x6216;&#x8005;&#x7EC4;&#x4EF6;&#x4E0A;&#x521B;&#x5EFA;&#x53CC;&#x5411;&#x7ED1;&#x5B9A; v-model&#x4EC5;&#x80FD;&#x5728;&#x5982;&#x4E0B;&#x5143;&#x7D20;&#x4E2D;&#x4F7F;&#x7528;&#xFF1A; input select textarea components&#xFF08;Vue&#x4E2D;&#x7684;&#x7EC4;&#x4EF6;&#xFF09; v-text &#x89E3;&#x51B3;&#x63D2;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x95EA;&#x70C1;&#x95EE;&#x9898;&#xFF0C;&#x4F7F;&#x7528;v-text v-text&#x53EF;&#x4EE5;&#x5C06;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x503C;&#x6E32;&#x67D3;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x5143;&#x7D20;&#x4E2D;,&#x5B83;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x63D2;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x95EA;&#x70C1;&#x7684;&#x95EE;&#x9898; v-on&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;&#x6309;&#x94AE;&#x7684;&#x5355;&#x51FB;&#x4E8B;&#x4EF6; v-bind&#xFF1A;(v-model&#x548C;v-bind&#x5F88;&#x50CF; v-bind&#x662F;&#x5355;&#x5411;&#x6570;&#x636E;&#x7ED1;&#x5B9A;) &#x4F5C;&#x7528;: v&#x2010;bind&#x53EF;&#x4EE5;&#x5C06;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x5728;dom&#x7684;&#x4EFB;&#x610F;&#x5C5E;&#x6027;&#x4E2D;&#x3002;(&#x5355;&#x5411;) v&#x2010;bind&#x53EF;&#x4EE5;&#x7ED9;dom&#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7279;&#x6027;&#xFF0C;&#x4F8B;&#x5982;&#x52A8;&#x6001;&#x7ED1;&#x5B9A;style&#x548C;class &#x4E3E;&#x4F8B;&#xFF1A; &lt;img v&#x2010;bind:src=&quot;imageSrc&quot;&gt; &lt;div v&#x2010;bind:style=&quot;{ fontSize: size + &apos;px&apos; }&quot;&gt;&lt;/div&gt; &#x7F29;&#x5199;&#x5F62;&#x5F0F; &lt;img :src=&quot;imageSrc&quot;&gt; &lt;div :style=&quot;{ fontSize: size + &apos;px&apos; }&quot;&gt;&lt;/div&gt; v-if&#x548C;v-for&lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:v-on=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:v-bind=&quot;http://www.w3.org/1999/xhtml&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;vue.js&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;app&quot;&gt; &lt;ul&gt; &lt;!--:key &#x4E3B;&#x952E;--&gt; &lt;li v-for=&quot;(item,index) in list&quot; :key=&quot;index&quot; v-if=&quot;index % 2==0&quot;&gt;{{index}}--{{item}}&lt;/li&gt; &lt;li v-for=&quot;(value,key) in user&quot;&gt;{{key}}--{{value}}&lt;/li&gt; &lt;li v-for=&quot;(item,index) in userlist&quot; :key=&quot;item.user.uname&quot;&gt; &lt;div v-if=&quot;item.user.username==&apos;itheima&apos;&quot; style=&quot;background:greenyellow&quot;&gt; {{index}}--{{item.user.username}}--{{item.user.age}} &lt;/div&gt; &lt;div v-else=&quot;&quot;&gt; {{index}}--{{item.user.username}}--{{item.user.age}} &lt;/div&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/body&gt; &lt;script src=&quot;https://cdn.staticfile.org/vue/2.4.2/vue.min.js&quot;&gt;&lt;/script&gt; &lt;script&gt; /*MVVM&#x7684;VM(View Model)&#x90E8;&#x5206;*/ // &#x5B9E;&#x4F8B;&#x5316;Vue&#x5BF9;&#x8C61; //vm :&#x53EB;&#x505A;MVVM&#x4E2D;&#x7684; View Model var VM = new Vue({ el: &quot;#app&quot;,//&#x8868;&#x793A;&#x5F53;&#x524D;vue&#x5BF9;&#x8C61;&#x63A5;&#x7BA1;app&#x7684;div&#x533A;&#x57DF; data: { list: [1, 2, 3, 4, 5], user: {uname: &apos;itcast&apos;, age: 10}, userlist: [ {user: {username: &apos;itcast&apos;, age: 10}}, {user: {username: &apos;itheima&apos;, age: 11}} ] } }); &lt;/script&gt; &lt;/html&gt;webpackWebpack &#x662F;&#x4E00;&#x4E2A;&#x524D;&#x7AEF;&#x8D44;&#x6E90;&#x7684;&#x6253;&#x5305;&#x5DE5;&#x5177;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5C06;js&#x3001;image&#x3001;css&#x7B49;&#x8D44;&#x6E90;&#x5F53;&#x6210;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x6253;&#x5305;&#x3002; &#x4ECE;&#x56FE;&#x4E2D;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;Webpack &#x53EF;&#x4EE5;&#x5C06;js&#x3001;css&#x3001;png&#x7B49;&#x591A;&#x79CD;&#x9759;&#x6001;&#x8D44;&#x6E90; &#x8FDB;&#x884C;&#x6253;&#x5305; webpack&#x7684;&#x597D;&#x5904;: 1&#x3001;&#x6A21;&#x5757;&#x5316;&#x5F00;&#x53D1; &#x7A0B;&#x5E8F;&#x5458;&#x5728;&#x5F00;&#x53D1;&#x65F6;&#x53EF;&#x4EE5;&#x5206;&#x6A21;&#x5757;&#x521B;&#x5EFA;&#x4E0D;&#x540C;&#x7684;js&#x3001; css&#x7B49;&#x5C0F;&#x6587;&#x4EF6;&#x65B9;&#x4FBF;&#x5F00;&#x53D1;&#xFF0C;&#x6700;&#x540E;&#x4F7F;&#x7528;webpack&#x5C06;&#x8FD9;&#x4E9B;&#x5C0F;&#x6587;&#x4EF6;&#x6253;&#x5305;&#x6210;&#x4E00;&#x4E2A;&#x6587; &#x4EF6;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;http&#x7684;&#x8BF7;&#x6C42;&#x6B21;&#x6570;&#x3002;webpack&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x6309;&#x9700;&#x6253;&#x5305;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x51FA;&#x73B0;&#x6253;&#x5305;&#x6587;&#x4EF6;&#x8FC7;&#x5927;&#x53EF;&#x4EE5;&#x6253;&#x5305;&#x6210;&#x591A;&#x4E2A;&#x6587;&#x4EF6;&#x3002; 2&#x3001; &#x7F16;&#x8BD1;typescript&#x3001;ES6&#x7B49;&#x9AD8;&#x7EA7;js&#x8BED;&#x6CD5; &#x968F;&#x7740;&#x524D;&#x7AEF;&#x6280;&#x672F;&#x7684;&#x5F3A;&#x5927;&#xFF0C;&#x5F00;&#x53D1;&#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;javascript&#x7684;&#x5F88;&#x591A;&#x9AD8;&#x7EA7;&#x7248;&#x672C;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;typescript&#x3001;ES6&#x7B49;&#xFF0C;&#x65B9;&#x4FBF;&#x5F00;&#x53D1;&#xFF0C; webpack&#x53EF;&#x4EE5;&#x5C06;&#x6253;&#x5305;&#x6587;&#x4EF6;&#x8F6C;&#x6362;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x8BC6;&#x522B;&#x7684;js&#x8BED;&#x6CD5;&#x3002; 3&#x3001;CSS&#x9884;&#x7F16;&#x8BD1; webpack&#x5141;&#x8BB8;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x4F7F;&#x7528;Sass &#x548C; Less&#x7B49;&#x539F;&#x751F;CSS&#x7684;&#x6269;&#x5C55;&#x6280;&#x672F;&#xFF0C;&#x901A;&#x8FC7;sass-loader&#x3001;less-loader&#x5C06;Sass &#x548C; Less&#x7684; &#x8BED;&#x6CD5;&#x7F16;&#x8BD1;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x53EF;&#x8BC6;&#x522B;&#x7684;css&#x8BED;&#x6CD5;&#x3002; webpack&#x7684;&#x7F3A;&#x70B9;: 1&#x3001;&#x914D;&#x7F6E;&#x6709;&#x4E9B;&#x7E41;&#x7410;2&#x3001;&#x6587;&#x6863;&#x4E0D;&#x4E30;&#x5BCC; &#x5B89;&#x88C5;webpackwebpack&#x57FA;&#x4E8E;node.js&#x8FD0;&#x884C;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5B89;&#x88C5;node.js&#x3002; &#x4EC0;&#x4E48;&#x662F;node.jsNode.js &#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E; Chrome V8 &#x5F15;&#x64CE;&#x7684; JavaScript &#x8FD0;&#x884C;&#x73AF;&#x5883;&#x3002; Node.js &#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x3001;&#x975E;&#x963B;&#x585E;&#x5F0F; I/O &#x7684;&#x6A21;&#x578B;&#x3002; [1] Node &#x662F;&#x4E00;&#x4E2A;&#x8BA9; JavaScript &#x8FD0;&#x884C;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5F00;&#x53D1;&#x5E73;&#x53F0;&#xFF0C;&#x5B83;&#x8BA9; JavaScript &#x6210;&#x4E3A;&#x4E0E;PHP&#x3001;Python&#x3001;Perl&#x3001;Ruby &#x7B49;&#x670D;&#x52A1;&#x7AEF;&#x8BED;&#x8A00;&#x5E73;&#x8D77;&#x5E73;&#x5750;&#x7684;&#x811A;&#x672C;&#x8BED;&#x8A00;&#x3002; [2] &#x53D1;&#x5E03;&#x4E8E;2009&#x5E74;5&#x6708;&#xFF0C;&#x7531;Ryan Dahl&#x5F00;&#x53D1;&#xFF0C;&#x5B9E;&#x8D28;&#x662F;&#x5BF9;Chrome V8&#x5F15;&#x64CE;&#x8FDB;&#x884C;&#x4E86;&#x5C01;&#x88C5;&#x3002; Node&#x5BF9;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7528;&#x4F8B;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#xFF0C;&#x63D0;&#x4F9B;&#x66FF;&#x4EE3;&#x7684;API&#xFF0C;&#x4F7F;&#x5F97;V8&#x5728;&#x975E;&#x6D4F;&#x89C8;&#x5668;&#x73AF;&#x5883;&#x4E0B;&#x8FD0;&#x884C;&#x5F97;&#x66F4;&#x597D;&#x3002;V8&#x5F15;&#x64CE;&#x6267;&#x884C;Javascript&#x7684;&#x901F;&#x5EA6;&#x975E;&#x5E38;&#x5FEB;&#xFF0C;&#x6027;&#x80FD;&#x975E;&#x5E38;&#x597D;&#x3002;Node&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;Chrome JavaScript&#x8FD0;&#x884C;&#x65F6;&#x5EFA;&#x7ACB;&#x7684;&#x5E73;&#x53F0;&#xFF0C; &#x7528;&#x4E8E;&#x65B9;&#x4FBF;&#x5730;&#x642D;&#x5EFA;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x5FEB;&#x3001;&#x6613;&#x4E8E;&#x6269;&#x5C55;&#x7684;&#x7F51;&#x7EDC;&#x5E94;&#x7528;&#x3002;Node &#x4F7F;&#x7528;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#xFF0C; &#x975E;&#x963B;&#x585E;I/O &#x6A21;&#x578B;&#x800C;&#x5F97;&#x4EE5;&#x8F7B;&#x91CF;&#x548C;&#x9AD8;&#x6548;&#xFF0C;&#x975E;&#x5E38;&#x9002;&#x5408;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x8BBE;&#x5907;&#x4E0A;&#x8FD0;&#x884C;&#x6570;&#x636E;&#x5BC6;&#x96C6;&#x578B;&#x7684;&#x5B9E;&#x65F6;&#x5E94;&#x7528;&#x3002; &#x5B89;&#x88C5;node.js&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x6709;node.js&#xFF1F; &#x4F20;&#x7EDF;&#x610F;&#x4E49;&#x4E0A;&#x7684; JavaScript &#x8FD0;&#x884C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#xFF0C;Chrome &#x4F7F;&#x7528;&#x7684; JavaScript &#x5F15;&#x64CE;&#x662F; V8&#xFF0C;Node.js &#x662F;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x5728;&#x670D;&#x52A1;&#x7AEF; &#x7684;&#x6846;&#x67B6;&#xFF0C;&#x5B83;&#x7684;&#x5E95;&#x5C42;&#x5C31;&#x4F7F;&#x7528;&#x4E86; V8 &#x5F15;&#x64CE;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;javascript&#x53BB;&#x7F16;&#x5199;&#x4E00;&#x4E9B;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x7A0B;&#x5E8F;&#xFF0C;&#x8FD9;&#x6837;&#x4E5F;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x7528; javaScript&#x53BB;&#x5F00;&#x53D1; Apache + PHP &#x4EE5;&#x53CA; Java Servlet&#x6240;&#x5F00;&#x53D1;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x6837;&#x505A;&#x7684;&#x597D;&#x5904;&#x5C31;&#x662F;&#x524D;&#x7AEF;&#x548C;&#x540E;&#x7AEF;&#x90FD;&#x91C7;&#x7528; javascript&#xFF0C;&#x5373;&#x5F00;&#x53D1;&#x4E00;&#x4EFD;js&#x7A0B;&#x5E8F;&#x5373;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;&#x524D;&#x7AEF;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x8FD9;&#x6837;&#x6BD4;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x4F7F;&#x7528;&#x591A;&#x79CD;&#x8BED;&#x8A00;&#x5728;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x4E0A; &#x8981;&#x9AD8;&#xFF0C;&#x4E0D;&#x8FC7;node.js&#x5C5E;&#x4E8E;&#x65B0;&#x5174;&#x4EA7;&#x54C1;&#xFF0C;&#x4E00;&#x4E9B;&#x516C;&#x53F8;&#x4E5F;&#x5728;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;node.js&#x5B8C;&#x6210;&#x4E00;&#x4E9B;&#x4E1A;&#x52A1;&#x9886;&#x57DF;&#xFF0C;node.js&#x57FA;&#x4E8E;V8&#x5F15;&#x64CE;&#xFF0C;&#x57FA;&#x4E8E; &#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x673A;&#x5236;&#xFF0C;&#x5728;&#x7279;&#x5B9A;&#x9886;&#x57DF;&#x6027;&#x80FD;&#x51FA;&#x8272;&#xFF0C;&#x6BD4;&#x5982;&#x7528;node.js&#x5B9E;&#x73B0;&#x6D88;&#x606F;&#x63A8;&#x9001;&#x3001;&#x72B6;&#x6001;&#x76D1;&#x63A7;&#x7B49;&#x7684;&#x4E1A;&#x52A1;&#x529F;&#x80FD;&#x975E;&#x5E38;&#x5408;&#x9002;&#x3002; &#x4E0B;&#x8FB9;&#x6211;&#x4EEC;&#x53BB;&#x5B89;&#x88C5;Node.js&#xFF1A;1&#x3001;&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x4F60;&#x7CFB;&#x7EDF;&#x7684;Node.js&#x7248;&#x672C;:https://nodejs.org/en/download/ &#x63A8;&#x8350;&#x4E0B;&#x8F7D;LTS&#x7248;&#x672C; 2&#x3001;&#x9009;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x68C0;&#x67E5;PATH&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x8BBE;&#x7F6E;&#x4E86;node.js&#x7684;&#x8DEF;&#x5F84;&#x3002; 3&#x3001;&#x6D4B;&#x8BD5;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x4E0B;&#x8F93;&#x5165;&#x547D;&#x4EE4; node &#x2010;v&#x5B89;&#x88C5;NPM1&#x3001;&#x81EA;&#x52A8;&#x5B89;&#x88C5;NPMnpm&#x5168;&#x79F0;Node Package Manager&#xFF0C;&#x4ED6;&#x662F;node&#x5305;&#x7BA1;&#x7406;&#x548C;&#x5206;&#x53D1;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x4F7F;&#x7528;NPM&#x53EF;&#x4EE5;&#x5BF9;&#x5E94;&#x7528;&#x7684;&#x4F9D;&#x8D56;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;NPM &#x7684;&#x529F;&#x80FD;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x9879;&#x76EE;&#x6784;&#x5EFA;&#x5DE5;&#x5177;maven&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;npm &#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x4E0B;&#x8F7D;js&#x5E93;&#xFF0C;&#x6253;&#x5305;js&#x6587;&#x4EF6;&#x3002;node.js&#x5DF2;&#x7ECF;&#x96C6;&#x6210;&#x4E86;npm&#x5DE5;&#x5177;&#xFF0C;&#x5728;&#x547D;&#x4EE4;&#x63D0;&#x793A;&#x7B26;&#x8F93;&#x5165; npm -v &#x53EF;&#x67E5;&#x770B;&#x5F53;&#x524D;npm&#x7248;&#x672C; 2&#x3001;&#x67E5;&#x770B;&#x5305;&#x8DEF;&#x5F84;&#x5305;&#x8DEF;&#x5F84;&#x5C31;&#x662F;npm&#x4ECE;&#x8FDC;&#x7A0B;&#x4E0B;&#x8F7D;&#x7684;js&#x5305;&#x6240;&#x5B58;&#x653E;&#x7684;&#x8DEF;&#x5F84;&#x3002;&#x4F7F;&#x7528; npm con&#xFB01;g ls &#x67E5;&#x8BE2;NPM&#x7BA1;&#x7406;&#x5305;&#x8DEF;&#x5F84;&#xFF08;NPM&#x4E0B;&#x8F7D;&#x7684;&#x4F9D;&#x8D56;&#x5305;&#x6240;&#x5B58;&#x653E;&#x7684;&#x8DEF;&#x5F84;&#xFF09; npm config ls 3&#x3001;&#x521B;&#x5EFA;&#x76EE;&#x5F55; NPM&#x9ED8;&#x8BA4;&#x7684;&#x7BA1;&#x7406;&#x5305;&#x8DEF;&#x5F84;&#x5728;C:/&#x7528;&#x6237;/[&#x7528;&#x6237;&#x540D;]/AppData/Roming/npm/node_meodules&#xFF0C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x5BF9;&#x4F9D;&#x8D56;&#x5305;&#x7BA1;&#x7406;&#xFF0C;&#x6211; &#x4EEC;&#x5C06;&#x7BA1;&#x7406;&#x5305;&#x7684;&#x8DEF;&#x5F84;&#x8BBE;&#x7F6E;&#x5728;&#x5355;&#x72EC;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x672C;&#x6559;&#x7A0B;&#x5C06;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x8BBE;&#x7F6E;&#x5728;node.js&#x7684;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x521B;&#x5EFA;npm_modules&#x548C; npm_cache. &#x672C;&#x6559;&#x7A0B;&#x5B89;&#x88C5;node.js&#x5728;X:\development\js\node&#x4E0B;&#x6240;&#x4EE5;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A; npm config set pre&#xFB01;x &quot;X:\development\js\node\npm_modules&quot;npm config set cache &quot;X:\development\js\node\npm_cache&quot;&#x6B64;&#x65F6;&#x518D;&#x4F7F;&#x7528; npm con&#xFB01;g ls &#x67E5;&#x8BE2;NPM&#x7BA1;&#x7406;&#x5305;&#x8DEF;&#x5F84;&#x53D1;&#x73B0;&#x8DEF;&#x5F84;&#x5DF2;&#x66F4;&#x6539; &#x5B89;&#x88C5;cnpm1.&#x8FDE;&#x7F51;npm&#x9ED8;&#x8BA4;&#x4F1A;&#x53BB;&#x56FD;&#x5916;&#x7684;&#x955C;&#x50CF;&#x53BB;&#x4E0B;&#x8F7D;js&#x5305;&#xFF0C;&#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x901A;&#x5E38;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x56FD;&#x5185;&#x955C;&#x50CF;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x6DD8;&#x5B9D;&#x955C;&#x50CF; &#x4E0B;&#x8FB9;&#x6211;&#x4EEC;&#x6765;&#x5B89;&#x88C5;cnpm&#xFF1A;&#x6709;&#x65F6;&#x6211;&#x4EEC;&#x4F7F;&#x7528;npm&#x4E0B;&#x8F7D;&#x8D44;&#x6E90;&#x4F1A;&#x5F88;&#x6162;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;&#x4E00;&#x4E2A;cnmp(&#x6DD8;&#x5B9D;&#x955C;&#x50CF;)&#x6765;&#x52A0;&#x5FEB;&#x4E0B;&#x8F7D;&#x901F;&#x5EA6;&#x3002; &#x8F93;&#x5165;&#x547D;&#x4EE4;&#xFF0C;&#x8FDB;&#x884C;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x6DD8;&#x5B9D;&#x955C;&#x50CF;&#x3002; npm install -g cnpm --registry=https://registry.npm.taobao.org&#x5B89;&#x88C5;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x6765;&#x67E5;&#x770B;cnpm&#x7684;&#x7248;&#x672C; cnpm -v &#x5982;&#x679C;nrm&#x6CA1;&#x6709;&#x5B89;&#x88C5;&#x5219;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#xFF1A; npm install -g nrmnrm ls &#x67E5;&#x770B;&#x955C;&#x50CF;&#x6307;&#x5411; nrm ls &#x4F7F;nrm use XXX&#x5207;&#x6362; &#x955C;&#x50CF; nrm use taobao 2.&#x4E0D;&#x8FDE;&#x7F51;&#x8D44;&#x6599;&#x6587;&#x4EF6;&#x4E0B;&#x6709;&#x5DF2;&#x7ECF;&#x4E0B;&#x8F7D;&#x597D;&#x7684;webpack &#x76F8;&#x5173;&#x5305;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;&#x5B89;&#x88C5;&#x65B9;&#x6CD5;&#x3002; 1&#xFF09;&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;NODE_HOME = D:\Program Files\nodejs (node.js&#x5B89;&#x88C5;&#x76EE;&#x5F55;)&#x5728;PATH&#x53D8;&#x91CF;&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A;%NODE_HOME%;%NODE_HOME%\npm_modules; 2&#xFF09;&#x627E;&#x5230;npm&#x5305;&#x8DEF;&#x5F84;&#x6839;&#x636E;&#x4E0A;&#x8FB9;&#x7684;&#x5B89;&#x88C5;&#x8BF4;&#x660E;npm&#x5305;&#x8DEF;&#x5F84;&#x88AB;&#x8BBE;&#x7F6E;&#x5230;&#x4E86;node.js&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;npm_modules&#x76EE;&#x5F55;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;npm con&#xFB01;g ls&#x67E5;&#x770B;&#x3002;&#x62F7;&#x8D1D;&#x8BFE;&#x7A0B;&#x8D44;&#x6599;&#x4E2D;&#x7684; npm_modules.zip&#x5230;node.js&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x89E3;&#x538B;npm_modules.zip&#x8986;&#x76D6;&#x672C;&#x76EE;&#x5F55;&#x4E0B;&#x7684; npm_modules&#x6587;&#x4EF6;&#x5939;&#x3002; 3&#xFF09;&#x5B8C;&#x6210;&#x4E0A;&#x8FB9;&#x6B65;&#x9AA4;&#x6D4B;&#x8BD5;cnpm -v &#x5B89;&#x88C5;webpack1.&#x8FDE;&#x7F51;webpack&#x5B89;&#x88C5;&#x5206;&#x4E3A;&#x672C;&#x5730;&#x5B89;&#x88C5;&#x548C;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#xFF1A;&#x672C;&#x5730;&#x5B89;&#x88C5;&#xFF1A;&#x4EC5;&#x5C06;webpack&#x5B89;&#x88C5;&#x5728;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x7684;node_modules&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4EC5;&#x5BF9;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x6709;&#x6548;&#x3002;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#xFF1A;&#x5C06;webpack&#x5B89;&#x88C5;&#x5728;&#x672C;&#x673A;&#xFF0C;&#x5BF9;&#x6240;&#x6709;&#x9879;&#x76EE;&#x6709;&#x6548;&#xFF0C;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x4F1A;&#x9501;&#x5B9A;&#x4E00;&#x4E2A;webpack&#x7248;&#x672C;&#xFF0C;&#x8BE5;&#x7248;&#x672C;&#x53EF;&#x80FD;&#x4E0D;&#x9002;&#x7528;&#x67D0;&#x4E2A; &#x9879;&#x76EE;&#x3002;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x9700;&#x8981;&#x6DFB;&#x52A0; -g &#x53C2;&#x6570;&#x3002; &#x8FDB;&#x5165;webpacktest&#x6D4B;&#x8BD5;&#x76EE;&#x5F55;&#x76EE;&#x5F55;&#xFF0C;&#x8FD0;&#x884C;&#xFF1A; 1&#xFF09;&#x672C;&#x5730;&#x5B89;&#x88C5;&#xFF1A; &#x53EA;&#x5728;&#x6211;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;webpack&#xFF0C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x672C;&#x5730;&#x5B89;&#x88C5;&#xFF0C;&#x56E0;&#x4E3A;&#x9879;&#x76EE;&#x548C;&#x9879;&#x76EE;&#x6240;&#x7528;&#x7684;webpack&#x7684;&#x7248;&#x672C;&#x4E0D;&#x4E00;&#x6837;&#x3002;&#x672C;&#x5730;&#x5B89;&#x88C5;&#x5C31;&#x4F1A; &#x5C06;webpack&#x7684;js&#x5305;&#x4E0B;&#x8F7D;&#x5230;&#x9879;&#x76EE;&#x4E0B;&#x7684;npm_modeuls&#x76EE;&#x5F55;&#x4E0B;&#x3002;&#x5728;&#x95E8;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;webpack&#x6D4B;&#x8BD5;&#x76EE;&#x5F55;webpacktest01&#xFF1A; npm install --save-dev webpackcnpm install --save-dev webpack4.0&#x4EE5;&#x540E;&#x7684;&#x7248;&#x672C;&#x9700;&#x8981;&#x5B89;&#x88C5; npm install --save-dev webpack-cli2&#xFF09;&#x5168;&#x5C40;&#x5B89;&#x88C5;&#x52A0;-g&#xFF1A; &#x5168;&#x5C40;&#x5B89;&#x88C5;&#x5C31;&#x5C06;webpack&#x7684;js&#x5305;&#x4E0B;&#x8F7D;&#x5230;npm&#x7684;&#x5305;&#x8DEF;&#x5F84;&#x4E0B;&#x3002; npm install webpack -g &#x6216; cnpm install webpack -g3&#xFF09;&#x5B89;&#x88C5;webpack&#x6307;&#x5B9A;&#x7684;&#x7248;&#x672C;&#xFF1A;&#x672C;&#x6559;&#x7A0B;&#x4F7F;&#x7528;webpack3.6.0&#xFF0C;&#x5B89;&#x88C5;webpack3.6.0&#xFF1A;&#x8FDB;&#x5165;webpacktest&#x6D4B;&#x8BD5;&#x76EE;&#x5F55;&#xFF0C;&#x8FD0;&#x884C;&#xFF1A; cnpm install --save-dev webpack@3.6.0&#x5168;&#x5C40;&#x5B89;&#x88C5;&#xFF1A; npm install webpack@3.6.0 -g&#x6216; cnpm install webpack@3.6.0 -g2.&#x975E;&#x8FDE;&#x7F51;&#x53C2;&#x8003;&#x4E0A;&#x8FB9; &#x201C;&#x975E;&#x8FDE;&#x7F51;&#x73AF;&#x5883;&#x5B89;&#x88C5;cnpm&#x201D;&#x63CF;&#x8FF0;&#xFF0C;&#x5C06;&#x8BFE;&#x7A0B;&#x8D44;&#x6599;&#x4E2D;&#x7684; npm_modules.zip&#x5230;node.js&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x89E3;&#x538B; npm_modules.zip&#x8986;&#x76D6;&#x672C;&#x76EE;&#x5F55;&#x4E0B;&#x7684;npm_modules&#x6587;&#x4EF6;&#x5939;&#x3002;&#x8BF4;&#x660E;&#xFF1A;&#x5DF2;&#x6267;&#x884C; &#x201C;&#x975E;&#x8FDE;&#x7F51;&#x73AF;&#x5883;&#x5B89;&#x88C5;cnpm&#x201D;&#x4E0B;&#x7684;&#x64CD;&#x4F5C;&#x4E0D;&#x7528;&#x91CD;&#x590D;&#x6267;&#x884C;&#x3002;&#x6D4B;&#x8BD5;&#xFF1A;&#x5728;cmd&#x72B6;&#x6001;&#x8F93;&#x5165;webpack&#xFF0C;&#x51FA;&#x73B0;&#x5982;&#x4E0B;&#x63D0;&#x793A;&#x8BF4;&#x660E; webpack&#x5B89;&#x88C5;&#x6210;&#x529F; webpack&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&#x901A;&#x8FC7;&#x672C;&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&#x4F53;&#x4F1A;webpack&#x6253;&#x5305;&#x7684;&#x8FC7;&#x7A0B;&#x53CA;&#x6A21;&#x5757;&#x5316;&#x5F00;&#x53D1;&#x7684;&#x601D;&#x60F3;&#x3002; 1.&#x9700;&#x6C42;&#x5206;&#x6790;&#x901A;&#x8FC7;&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&#x5B9E;&#x73B0;&#x5BF9;js&#x6587;&#x4EF6;&#x7684;&#x6253;&#x5305;&#xFF0C;&#x4F53;&#x4F1A;webpack&#x662F;&#x5982;&#x4F55;&#x5BF9;&#x5E94;&#x7528;&#x8FDB;&#x884C;&#x6A21;&#x5757;&#x5316;&#x7BA1;&#x7406;&#x3002;&#x5BF9;&#x4E0A;&#x8FB9;1+1=2&#x7684;&#x4F8B;&#x5B50;&#x4F7F;&#x7528;webpack&#x8FDB;&#x884C;&#x6A21;&#x5757;&#x5316;&#x7BA1;&#x7406; 2.&#x5B9A;&#x4E49;&#x6A21;&#x5757;&#x521B;&#x5EFA;webpacktest01&#x76EE;&#x5F55;&#xFF0C;&#x5C06;vue.min.js&#x53CA;vue_02.html&#x62F7;&#x8D1D;&#x5230;&#x76EE;&#x5F55;&#x4E0B;&#x3002; 1&#x3001;&#x5B9A;&#x4E49;model01.js&#x5728;webpacktest01&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;model01.js&#x5C06;&#x672C;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x7684;&#x52A0;&#x6CD5;&#x8FD0;&#x7B97;&#x7684;js&#x65B9;&#x6CD5;&#x62BD;&#x53D6;&#x5230;&#x4E00;&#x4E2A;js&#x6587;&#x4EF6;&#xFF0C;&#x6B64;&#x6587;&#x4EF6;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6A21;&#x5757; var add = function (x, y) { return x + y; } var add2 = function (x, y) { return x + y + 2; } module.exports.add = add; // module.exports ={add,add2};//&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x65B9;&#x6CD5;&#x8FD9;&#x6837;&#x5BFC;&#x51FA; // module.exports.add2 = add2//&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x65B9;&#x6CD5;&#x4E5F;&#x53EF;&#x4EE5;&#x8FD9;&#x6837;&#x5BFC;&#x51FA;2&#x3001;&#x5B9A;&#x4E49;main.js&#x5728;webpacktest01&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;main.js&#xFF0C;main.js&#x662F;&#x672C;&#x7A0B;&#x5E8F;&#x7684;js&#x4E3B;&#x6587;&#x4EF6;&#xFF0C;&#x5305;&#x62EC;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A; &#x200B; 1&#x3001;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x4F1A;&#x5F15;&#x7528;model01.js&#x6A21;&#x5757;&#x200B; 2&#x3001;&#x5F15;&#x7528;vue.min.js&#xFF08;&#x5B83;&#x4E5F;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#xFF09;&#x200B; 3&#x3001;&#x5C06;html&#x9875;&#x9762;&#x4E2D;&#x6784;&#x5EFA;vue&#x5B9E;&#x4F8B;&#x7684;&#x4EE3;&#x7801;&#x653E;&#x5728;main.js&#x4E2D;&#x3002;main.js&#x7684;&#x4EE3;&#x7801;&#x5982;&#x4E0B;: //&#x5BFC;&#x5165;model01.js var {add} = require(&quot;./model01&quot;) var Vue = require(&quot;./vue.min&quot;) var VM = new Vue({ el: &apos;#app&apos;,//vm&#x63A5;&#x7BA1;&#x4E86;app&#x533A;&#x57DF;&#x7684;&#x7BA1;&#x7406; data: {//model&#x6570;&#x636E; name: &apos;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&apos;, num1: 0, num2: 0, result: 0, url: &apos;http://www.itcast.cn&apos;, size: 11 }, methods: { change: function () { this.result = add(Number.parseInt(this.num1), Number.parseInt(this.num2)) // this.result = Number.parseInt(this.num1)+Number.parseInt(this.num2) //alert(&quot;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#xFF1A;&quot;+this.result) } } });3.&#x6253;&#x5305;&#x6D4B;&#x8BD5;&#x4E0A;&#x8FB9;&#x5C06;mode01.js&#x6A21;&#x5757;&#x53CA;main.js&#x4E3B;&#x6587;&#x4EF6;&#x7F16;&#x5199;&#x5B8C;&#x6210;&#xFF0C;&#x4E0B;&#x8FB9;&#x4F7F;&#x7528;webpack&#x5BF9;&#x8FD9;&#x4E9B;js&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6253;&#x5305;1&#x3001;&#x8FDB;&#x5165;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C; webpack main.js build.js &#x8FD9;&#x6BB5;&#x6307;&#x4EE4;&#x8868;&#x793A;&#x5C06;main.js&#x6253;&#x5305;&#x8F93;&#x51FA;&#x4E3A; build.js&#x6587;&#x4EF6;&#x6267;&#x884C;&#x5B8C;&#x6210;&#xFF0C;&#x89C2;&#x5BDF;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x662F;&#x5426;&#x51FA;&#x73B0;build.js&#x3002;2&#x3001;&#x5728;html&#x4E2D;&#x5F15;&#x7528;build.js &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:v-bind=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:v-on=&quot;http://www.w3.org/1999/xhtml&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;vue.js&#x5E38;&#x7528;&#x6307;&#x4EE4;&#x7684;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;!--&#x5B9E;&#x73B0;&#x5728;body&#x533A;&#x57DF;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x540D;&#x79F0;--&gt; &lt;div id=&quot;app&quot;&gt; &lt;!--&#x76F8;&#x5F53;&#x4E8E;MVVM&#x7684;view&#x89C6;&#x56FE;--&gt; &lt;!--{{name}}--&gt; &lt;a v-bind:href=&quot;url&quot;&gt; &lt;span v-text=&quot;name&quot;&gt;&lt;/span&gt; &lt;/a&gt; &lt;input type=&quot;text&quot; v-model=&quot;num1&quot;/&gt; + &lt;input type=&quot;text&quot; v-model=&quot;num2&quot;/&gt;= &lt;!-- &lt;span v-text=&quot;Number.parseInt(num1)+Number.parseInt(num2)&quot;&gt;&lt;/span&gt;--&gt; &lt;span v-text=&quot;result&quot;&gt;&lt;/span&gt; &lt;!--{{Number.parseInt(num1)+Number.parseInt(num2)}}--&gt; &lt;button v-on:click=&quot;change&quot;&gt;&#x8BA1;&#x7B97;&lt;/button&gt; &lt;/div&gt; &lt;/body&gt; &lt;!--&lt;script src=&quot;vue.min.js&quot;&gt;&lt;/script&gt;--&gt; &lt;script src=&quot;build.js&quot;&gt;&lt;/script&gt; &lt;script&gt; //&#x7F16;&#x5199;MVVM&#x4E2D;&#x7684;model&#x90E8;&#x5206;&#x53CA;VM&#xFF08;ViewModel&#xFF09;&#x90E8;&#x5206; &lt;/script&gt; &lt;/html&gt;webpack-dev-serverwebpack-dev-server&#x5F00;&#x53D1;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5B83;&#x7684;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x70ED;&#x52A0;&#x8F7D; &#x5E76;&#x4E14;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x6D4F;&#x89C8;&#x5668;&#x3002;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x521B;&#x5EFA;webpacktest02&#x76EE;&#x5F55;&#xFF0C;&#x5C06;webpack&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&#x7684;&#x4EE3;&#x7801;&#x62F7;&#x8D1D;&#x8FDB;&#x6765;&#xFF0C;&#x5E76;&#x5728;&#x76EE;&#x5F55;&#x4E0B;&#x521B; &#x5EFA;src&#x76EE;&#x5F55;&#x3001;dist&#x76EE;&#x5F55;&#x3002;&#x5C06;main.js&#x548C;model01.js&#x62F7;&#x8D1D;&#x5230;src&#x76EE;&#x5F55;&#x3002; &#x5B89;&#x88C5;&#x914D;&#x7F6E;1.&#x5B89;&#x88C5;webpack-dev-server&#x8FDB;&#x5165;&#x5230;webpacktest02&#x7684;&#x76EE;&#x5F55;&#x4E0B; &#x4F7F;&#x7528; webpack-dev-server&#x9700;&#x8981;&#x5B89;&#x88C5;webpack&#x3001; webpack-dev-server&#x548C; html-webpack-plugin&#x4E09;&#x4E2A;&#x5305;&#x3002; cnpm install webpack@3.6.0 webpack-dev-server@2.9.1 html-webpack-plugin@2.30.1 --save-dev&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x51FA;&#x73B0;&#x4E00;&#x4E2A;package.json&#x6587;&#x4EF6;&#xFF0C;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x8BB0;&#x5F55;&#x4E86;&#x7A0B;&#x5E8F;&#x7684;&#x4F9D;&#x8D56;&#x3002; &#x76F8;&#x5F53;&#x4E8E;java&#x7684;pom.xml &#x5B89;&#x88C5;&#x5B8C;&#x6210;&#xFF0C;&#x4F1A;&#x53D1;&#x73B0;&#x7A0B;&#x5E8F;&#x76EE;&#x5F55;&#x51FA;&#x73B0;&#x4E00;&#x4E2A;node_modules&#x76EE;&#x5F55;,&#x5B58;&#x653E;&#x4E86;&#x672C;&#x7A0B;&#x5E8F;&#x6240;&#x4F9D;&#x8D56;&#x7684;&#x5305; &#x6CA1;&#x6709;&#x8054;&#x7F51;&#x7684;&#x63D0;&#x4F9B;&#x7684;node_modules.zip&#x5230;webpacktest02&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x89E3;&#x538B;&#x5230;node_modules&#x76EE;&#x5F55;&#x4E0B; 2.&#x914D;&#x7F6E;webpack-dev-server&#x5728;package.json&#x4E2D;&#x914D;&#x7F6E;script &quot;scripts&quot;: { &quot;dev&quot;: &quot;webpack-dev-server --inline --hot --open --port 5008&quot; }, inline&#xFF1A;&#x81EA;&#x52A8;&#x5237;&#x65B0; hot&#xFF1A;&#x70ED;&#x52A0;&#x8F7D; port&#xFF1A;&#x6307;&#x5B9A;&#x7AEF;&#x53E3; open&#xFF1A;&#x81EA;&#x52A8;&#x5728;&#x9ED8;&#x8BA4;&#x6D4F;&#x89C8;&#x5668;&#x6253;&#x5F00; host&#xFF1A;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x5668;&#x7684; ip&#xFF0C;&#x4E0D;&#x6307;&#x5B9A;&#x5219;&#x4E3A;127.0.0.1&#xFF0C;&#x5982;&#x679C;&#x5BF9;&#x5916;&#x53D1;&#x5E03;&#x5219;&#x586B;&#x5199;&#x516C;&#x7F51;ip&#x5730;&#x5740; &#x6B64;&#x65F6;package.json&#x7684;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; { &quot;scripts&quot;: { &quot;dev&quot;: &quot;webpack-dev-server --inline --hot --open --port 5008&quot; }, &quot;devDependencies&quot;: { &quot;html-webpack-plugin&quot;: &quot;^2.30.1&quot;, &quot;webpack&quot;: &quot;^3.6.0&quot;, &quot;webpack-dev-server&quot;: &quot;^2.9.1&quot; } }devDependencies&#xFF1A;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x6240;&#x9700;&#x8981;&#x7684;&#x4F9D;&#x8D56;&#x3002; scripts&#xFF1A;&#x53EF;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4; &#x914D;&#x7F6E;webpack.con&#xFB01;g.js&#x5728;webpacktest02&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA; webpack.con&#xFB01;g.js&#xFF0C; webpack.con&#xFB01;g.js&#x662F;webpack&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;&#x5728;&#x6B64;&#x6587;&#x4EF6;&#x4E2D;&#x53EF;&#x4EE5;&#x914D; &#x7F6E;&#x5E94;&#x7528;&#x7684;&#x5165;&#x53E3;&#x6587;&#x4EF6;&#x3001;&#x8F93;&#x51FA;&#x914D;&#x7F6E;&#x3001;&#x63D2;&#x4EF6;&#x7B49;&#xFF0C;&#x5176;&#x4E2D;&#x8981;&#x5B9E;&#x73B0;&#x70ED;&#x52A0;&#x8F7D;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x529F;&#x80FD;&#x9700;&#x8981;&#x914D;&#x7F6E;html-webpack-plugin&#x63D2;&#x4EF6;&#x3002; html-webpack-plugin&#x7684;&#x4F5C;&#x7528;&#x662F;&#x6839;&#x636E;html&#x6A21;&#x677F;&#x5728;&#x5185;&#x5B58;&#x751F;&#x6210;html&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x662F;&#x6839;&#x636E;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x751F;&#x6210;&#x4E00; &#x4E2A;index.html&#x6587;&#x4EF6;&#x3002; 1.&#x914D;&#x7F6E;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5C06;&#x539F;&#x6765;&#x7684;vue_02.html&#x4F5C;&#x4E3A;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#xFF0C;&#x4E3A;&#x4E86;&#x548C;&#x5185;&#x5B58;&#x4E2D;&#x7684;index.html&#x6587;&#x4EF6;&#x540D;&#x533A;&#x522B;&#xFF0C;&#x6CE8;&#x610F;&#x5C06;vue_02.html&#x4E2D;&#x7684;script&#x6807;&#x7B7E; &#x53BB;&#x6389;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;vue.js&#x5E38;&#x7528;&#x6307;&#x4EE4;&#x7684;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;!--&#x5B9E;&#x73B0;&#x5728;body&#x533A;&#x57DF;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x540D;&#x79F0;--&gt; &lt;div id=&quot;app&quot;&gt; &lt;!--&#x76F8;&#x5F53;&#x4E8E;MVVM&#x7684;view&#x89C6;&#x56FE;--&gt; &lt;!--{{name}}--&gt; &lt;a v-bind:href=&quot;url&quot;&gt; &lt;span v-text=&quot;name&quot;&gt;&lt;/span&gt; &lt;/a&gt; &lt;input type=&quot;text&quot; v-model=&quot;num1&quot;/&gt; + &lt;input type=&quot;text&quot; v-model=&quot;num2&quot;/&gt;= &lt;!-- &lt;span v-text=&quot;Number.parseInt(num1)+Number.parseInt(num2)&quot;&gt;&lt;/span&gt;--&gt; &lt;span v-text=&quot;result&quot;&gt;&lt;/span&gt; &lt;!--{{Number.parseInt(num1)+Number.parseInt(num2)}}--&gt; &lt;button v-on:click=&quot;change&quot;&gt;&#x8BA1;&#x7B97;&lt;/button&gt; &lt;/div&gt; &lt;/body&gt; &lt;script&gt; //&#x7F16;&#x5199;MVVM&#x4E2D;&#x7684;model&#x90E8;&#x5206;&#x53CA;VM&#xFF08;ViewModel&#xFF09;&#x90E8;&#x5206; &lt;/script&gt; &lt;/html&gt;2.&#x914D;&#x7F6E; html-webpack-plugin&#x5728;webpack.con&#xFB01;g.js&#x4E2D;&#x914D;&#x7F6E;html-webpack-plugin&#x63D2;&#x4EF6; //&#x5F15;&#x7528;html-webpack-plugin&#x63D2;&#x4EF6;&#xFF0C;&#x4F5C;&#x7528;&#x662F;&#x6839;&#x636E;html&#x6A21;&#x677F;&#x5728;&#x5185;&#x5B58;&#x751F;&#x6210;html&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x662F;&#x6839;&#x636E;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x751F;&#x6210;&#x4E00;&#x4E2A;index.html&#x6587;&#x4EF6;&#x3002; var htmlwp = require(&apos;html-webpack-plugin&apos;); module.exports = { entry: &apos;./src/main.js&apos;, //&#x6307;&#x5B9A;&#x6253;&#x5305;&#x7684;&#x5165;&#x53E3;&#x6587;&#x4EF6; output: { path: __dirname + &apos;/dist&apos;, // &#x6CE8;&#x610F;&#xFF1A;__dirname&#x8868;&#x793A;webpack.config.js&#x6240;&#x5728;&#x76EE;&#x5F55;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84; filename: &apos;build.js&apos; //&#x8F93;&#x51FA;&#x6587;&#x4EF6; }, devtool: &apos;eval-source-map&apos;, plugins: [ new htmlwp({ title: &apos;&#x9996;&#x9875;&apos;, //&#x751F;&#x6210;&#x7684;&#x9875;&#x9762;&#x6807;&#x9898;&lt;head&gt;&lt;title&gt;&#x9996;&#x9875;&lt;/title&gt;&lt;/head&gt; filename: &apos;index.html&apos;, //webpack-dev-server&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#xFF0C;&#x81EA;&#x52A8;&#x5C06;build&#x6CE8;&#x5165;&#x5230;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x5E95;&#x90E8;&#xFF0C;&#x624D;&#x80FD;&#x5B9E;&#x73B0;&#x81EA;&#x52A8;&#x5237;&#x65B0;&#x529F;&#x80FD; template: &apos;vue_02.html&apos; //&#x6839;&#x636E;vue_02.html&#x8FD9;&#x4E2A;&#x6A21;&#x677F;&#x6765;&#x751F;&#x6210;(&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x8BF7;&#x7A0B;&#x5E8F;&#x5458;&#x81EA;&#x5DF1;&#x751F;&#x6210;) }) ] }&#x542F;&#x52A8;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;: 1&#x3001;&#x8FDB;&#x5165; webpacktest02&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;npm run dev2&#x3001;&#x4F7F;&#x7528;webstorm&#xFF0C;&#x53F3;&#x952E;package.json&#x6587;&#x4EF6;&#xFF0C;&#x9009;&#x62E9;&#x201C;Show npm Scripts&#x201D;&#x6253;&#x5F00;&#x7A97;&#x53E3;&#xFF1A; &#x53CC;&#x51FB; dev&#x3002;&#x6CE8;&#x610F;&#xFF1A;dev&#x5C31;&#x662F;&#x5728;package.json&#x4E2D;&#x914D;&#x7F6E;&#x7684;webpack-dev-server &#x2013;inline &#x2013;hot &#x2013;open &#x2013;port 5008&#x547D;&#x4EE4;&#x3002; &#x53D1;&#x73B0;&#x542F;&#x52A8;&#x6210;&#x529F;&#x81EA;&#x52A8;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x3002;&#x4FEE;&#x6539;src&#x4E2D;&#x7684;&#x4EFB;&#x610F;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x5E76;&#x5237;&#x65B0;&#x6D4F;&#x89C8;&#x5668;&#x3002; debug&#x8C03;&#x8BD5;&#x4F7F;&#x7528;&#x4E86;webpack&#x4E4B;&#x540E;&#x5C31;&#x4E0D;&#x80FD;&#x91C7;&#x7528;&#x4F20;&#x7EDF;js&#x7684;&#x8C03;&#x8BD5;&#x65B9;&#x6CD5;&#x5728;chrome&#x4E2D;&#x6253;&#x65AD;&#x70B9;&#x3002; webpack&#x5C06;&#x591A;&#x4E2A;&#x6E90;&#x6587;&#x4EF6;&#x6253;&#x5305;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x4E14;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x4EA7;&#x751F;&#x4E86;&#x5F88;&#x5927;&#x7684;&#x53D8;&#x5316;&#xFF0C;webpack&#x63D0;&#x4F9B;devtool&#x8FDB;&#x884C;&#x8C03;&#x8BD5;&#xFF0C; devtool&#x662F;&#x57FA;&#x4E8E;sourcemap&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x8C03;&#x8BD5;&#x65F6;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;map&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x5185;&#x5BB9;&#x8BB0;&#x5F55;&#x751F;&#x6210;&#x6587;&#x4EF6;&#x548C;&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x6620;&#x5C04;&#xFF0C;&#x5373; &#x751F;&#x6210;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#x5BF9;&#x5E94;&#x6E90;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x54EA;&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x6709;&#x4E86;sourcemap&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x8C03;&#x8BD5;&#x65F6;&#x770B;&#x5230;&#x6E90;&#x4EE3;&#x7801;&#x3002; &#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;1&#x3001;&#x5728;webpack.con&#xFB01;g.js&#x4E2D;&#x914D;&#x7F6E;&#xFF1A; devtool: &apos;eval-source-map&apos;webpack.con&#xFB01;g.js&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; var htmlwp = require(&apos;html&#x2010;webpack&#x2010;plugin&apos;); module.exports={ entry:&apos;./src/main.js&apos;, //&#x6307;&#x5B9A;&#x6253;&#x5305;&#x7684;&#x5165;&#x53E3;&#x6587;&#x4EF6; output:{ path : __dirname+&apos;/dist&apos;, // &#x6CE8;&#x610F;&#xFF1A;__dirname&#x8868;&#x793A;webpack.config.js&#x6240;&#x5728;&#x76EE;&#x5F55;&#x7684;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84; filename:&apos;build.js&apos; //&#x8F93;&#x51FA;&#x6587;&#x4EF6; }, devtool: &apos;eval&#x2010;source&#x2010;map&apos;, //&#x6DFB;&#x52A0;&#x7684;&#x65AD;&#x70B9;&#x914D;&#x7F6E; ......2&#x3001;&#x5728;js&#x4E2D;&#x8DDF;&#x8E2A;&#x4EE3;&#x7801;&#x7684;&#x4F4D;&#x7F6E;&#x4E0A;&#x6DFB;&#x52A0;debugger &#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A;&#x5728;add&#x65B9;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;debugger // &#x5B9A;&#x4E49;add&#x51FD;&#x6570; var add = function (x, y) { debugger return x+y; }&#x542F;&#x52A8;&#x5E94;&#x7528;&#xFF0C;&#x5237;&#x65B0;&#x9875;&#x9762;&#x8DDF;&#x8E2A;&#x4EE3;&#x7801;&#xFF1A;&#x70B9;&#x51FB;&#x201C;&#x8BA1;&#x7B97;&#x201D; &#x5373;&#x8FDB;&#x5165;debugger&#x4EE3;&#x7801;&#x4F4D;&#x7F6E;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;chrome&#x8FDB;&#x884C;&#x8C03;&#x8BD5;&#x4E86;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-3-cms-ye-mian-guan-li-kai-fa.html</url>
    <content type="text"><![CDATA[&#x81EA;&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;1.&#x9700;&#x6C42;&#x5206;&#x6790;&#x5728;&#x9875;&#x9762;&#x8F93;&#x5165;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x67E5;&#x8BE2;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x3002;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A;&#x7AD9;&#x70B9;Id&#xFF1A;&#x7CBE;&#x786E;&#x5339;&#x914D;&#x6A21;&#x677F;Id&#xFF1A;&#x7CBE;&#x786E;&#x5339;&#x914D;&#x9875;&#x9762;&#x522B;&#x540D;&#xFF1A;&#x6A21;&#x7CCA;&#x5339;&#x914D; 2.&#x670D;&#x52A1;&#x7AEF;1.Dao&#x4F7F;&#x7528; CmsPageRepository&#x4E2D;&#x7684;findAll(Example var1, Pageable var2)&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF0C;&#x65E0;&#x9700;&#x5B9A;&#x4E49;&#x3002; &#x4E0B;&#x8FB9;&#x6D4B;&#x8BD5;&#xFB01;ndAll&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x81EA;&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#xFF1A; @Test public void testFindAllByExample() { //&#x5206;&#x9875;&#x53C2;&#x6570; int page = 0;//&#x4ECE;0&#x5F00;&#x59CB; int size = 10; Pageable pageable = PageRequest.of(page, size); //&#x6761;&#x4EF6;&#x503C;&#x5BF9;&#x8C61; CmsPage cmsPage = new CmsPage(); //&#x8981;&#x67E5;&#x8BE2;5a751fab6abb5044e0d19ea1&#x7AD9;&#x70B9;&#x7684;&#x9875;&#x9762; /* cmsPage.setSiteId(&quot;5a751fab6abb5044e0d19ea1&quot;); cmsPage.setTemplateId(&quot;5a962b52b00ffc514038faf7&quot;);*/ cmsPage.setPageAliase(&quot;&#x8F6E;&#x64AD;&quot;); //&#x6761;&#x4EF6;&#x5339;&#x914D;&#x5668; //&#x91C7;&#x7528;&#x94FE;&#x5F0F;&#x8C03;&#x7528;&#x80FD;&#x907F;&#x514D;&#x6211;&#x4EEC;&#x51FA;&#x9519; ExampleMatcher exampleMatcher = ExampleMatcher.matching(). //&#x9875;&#x9762;&#x540D;&#x79F0;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2;&#xFF0C;&#x9700;&#x8981;&#x81EA;&#x5B9A;&#x4E49;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x5339;&#x914D;&#x5668;&#x5B9E;&#x73B0;&#x6A21;&#x7CCA;&#x67E5;&#x8BE2; withMatcher(&quot;pageAliase&quot;, ExampleMatcher.GenericPropertyMatchers.contains()); //&#x5B9A;&#x4E49;Example Example&lt;CmsPage&gt; example = Example.of(cmsPage, exampleMatcher); Page&lt;CmsPage&gt; all = cmsPageRepository.findAll(example, pageable); List&lt;CmsPage&gt; content = all.getContent(); System.out.println(content); }2.Service&#x5728;PageService&#x7684;&#xFB01;ndlist&#x65B9;&#x6CD5;&#x4E2D;&#x589E;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x4EE3;&#x7801; @Autowired CmsPageRepository cmsPageRepository; /** * &#x9875;&#x9762;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5; * * @param page &#x9875;&#x7801;&#xFF0C;&#x4ECE;1&#x5F00;&#x59CB;&#x8BB0;&#x6570; * @param size &#x6BCF;&#x9875;&#x8BB0;&#x5F55;&#x6570; * @param queryPageRequest &#x67E5;&#x8BE2;&#x6761;&#x4EF6; * @return */ public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest) { //===================&#x6761;&#x4EF6;&#x67E5;&#x8BE2;==================== if(queryPageRequest == null){ queryPageRequest = new QueryPageRequest(); } //&#x81EA;&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x67E5;&#x8BE2; //&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x5339;&#x914D;&#x5668; ExampleMatcher exampleMatcher = ExampleMatcher.matching() .withMatcher(&quot;pageAliase&quot;, ExampleMatcher.GenericPropertyMatchers.contains()); //&#x6761;&#x4EF6;&#x503C;&#x5BF9;&#x8C61; CmsPage cmsPage = new CmsPage(); //&#x8BBE;&#x7F6E;&#x6761;&#x4EF6;&#x503C;&#xFF08;&#x7AD9;&#x70B9;id&#xFF09; if(StringUtils.isNotEmpty(queryPageRequest.getSiteId())){ cmsPage.setSiteId(queryPageRequest.getSiteId()); } //&#x8BBE;&#x7F6E;&#x6A21;&#x677F;id&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; if(StringUtils.isNotEmpty(queryPageRequest.getTemplateId())){ cmsPage.setTemplateId(queryPageRequest.getTemplateId()); } //&#x8BBE;&#x7F6E;&#x9875;&#x9762;&#x522B;&#x540D;&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; if(StringUtils.isNotEmpty(queryPageRequest.getPageAliase())){ cmsPage.setPageAliase(queryPageRequest.getPageAliase()); } //&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x5BF9;&#x8C61;Example Example&lt;CmsPage&gt; example = Example.of(cmsPage,exampleMatcher); //===================&#x5206;&#x9875;&#x529F;&#x80FD;==================== if (page &lt;= 0) { page = 1; } page = page - 1; if (size &lt;= 0) { size = 10; } Pageable pageable = PageRequest.of(page, size); //&#x5B9E;&#x73B0;&#x81EA;&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x5E76;&#x4E14;&#x5206;&#x9875;&#x67E5;&#x8BE2; Page&lt;CmsPage&gt; all = cmsPageRepository.findAll(example,pageable); QueryResult queryResult = new QueryResult(); //&#x6570;&#x636E;&#x5217;&#x8868; queryResult.setList(all.getContent()); //&#x6570;&#x636E;&#x603B;&#x8BB0;&#x5F55;&#x6570; queryResult.setTotal(all.getTotalElements()); QueryResponseResult queryResponseResult = new QueryResponseResult(CommonCode.SUCCESS, queryResult); return queryResponseResult; }3.Controller@RestController @RequestMapping(&quot;/cms/page&quot;) public class CmsPageController implements CmsPageControllerApi { @Autowired PageService pageService; @Override @GetMapping(&quot;/list/{page}/{size}&quot;) public QueryResponseResult findList(@PathVariable(&quot;page&quot;) int page, @PathVariable(&quot;size&quot;)int size, QueryPageRequest queryPageRequest) { /*//&#x6682;&#x65F6;&#x91C7;&#x7528;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#xFF0C;&#x6D4B;&#x8BD5;&#x63A5;&#x53E3;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8FD0;&#x884C; QueryResult queryResult = new QueryResult(); queryResult.setTotal(2); //&#x9759;&#x6001;&#x6570;&#x636E;&#x5217;&#x8868; List list = new ArrayList(); CmsPage cmsPage = new CmsPage(); cmsPage.setPageName(&quot;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&quot;); list.add(cmsPage); queryResult.setList(list); QueryResponseResult queryResponseResult = new QueryResponseResult(CommonCode.SUCCESS,queryResult); return queryResponseResult;*/ return pageService.findList(page,size,queryPageRequest); } }4.&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;SwaggerUI http://localhost:31001/swagger-ui.html#! 3.&#x524D;&#x7AEF;1.&#x9875;&#x9762;1.&#x6DFB;&#x52A0;&#x4E0B;&#x62C9;&#x6846;&lt;!--&#x67E5;&#x8BE2;&#x8868;&#x5355;--&gt; &lt;el-form :model=&quot;params&quot;&gt; &lt;el-select v-model=&quot;params.siteId&quot; placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&#x7AD9;&#x70B9;&quot;&gt; &lt;el-option v-for=&quot;item in siteList&quot; :key=&quot;item.siteId&quot; :label=&quot;item.siteName&quot; :value=&quot;item.siteId&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &#x9875;&#x9762;&#x522B;&#x540D;&#xFF1A;&lt;el-input v-model=&quot;params.pageAliase&quot; style=&quot;width: 100px&quot;&gt;&lt;/el-input&gt; &lt;el-button type=&quot;primary&quot; size=&quot;small&quot; @click=&quot;query&quot;&gt;&#x67E5;&#x8BE2;&lt;/el-button&gt; &lt;router-link :to=&quot;{path:&apos;/cms/page/add&apos;,query:{ page:this.params.page, siteId:this.params.siteId }}&quot;&gt; &lt;el-button type=&quot;primary&quot; size=&quot;small&quot;&gt;&#x65B0;&#x589E;&#x9875;&#x9762;&lt;/el-button&gt; &lt;/router-link&gt; &lt;/el-form&gt;2.&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x6A21;&#x578B;&#x5BF9;&#x8C61;data() { return { siteList: [],//&#x7AD9;&#x70B9;&#x5217;&#x8868; list: [], //&#x6570;&#x636E;&#x603B;&#x6761;&#x6570; total: 0, params: { siteId: &apos;&apos;, pageAliase: &apos;&apos;, //&#x5F53;&#x524D;&#x9875; page: 1, //&#x6BCF;&#x9875;&#x663E;&#x793A;&#x6761;&#x6570; size: 10 } } },3.&#x5728;&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#x4E2D; &#x6784;&#x5EFA;siteList&#x7AD9;&#x70B9;&#x5217;&#x8868;mounted() { //&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;&#x9875;&#x9762; this.query() this.siteList = [ { siteId: &apos;5a751fab6abb5044e0d19ea1&apos;, siteName: &apos;&#x95E8;&#x6237;&#x4E3B;&#x7AD9;&apos; }, { siteId: &apos;102&apos;, siteName: &apos;&#x6D4B;&#x8BD5;&#x7AD9;&apos; } ] }2.Api&#x8C03;&#x7528;1.&#x6269;&#x5145;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;paramsmethods: { query: function () { // alert(&apos;&#x67E5;&#x8BE2;&apos;) //&#x8C03;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x63A5;&#x53E3; cmsApi.page_list(this.params.page, this.params.size,this.params).then((res) =&gt; { //&#x5C06;res&#x7ED3;&#x679C;&#x6570;&#x636E;&#x8D4B;&#x503C;&#x7ED9;&#x6570;&#x636E;&#x6A21;&#x578B;&#x5BF9;&#x8C61; this.list = res.queryResult.list; this.total = res.queryResult.total; }) },2.&#x5BFC;&#x5165;&#x7C7B;&#x5E93;&#x5C06;json&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x6210;k,v&#x5BF9;//public&#x662F;&#x5BF9;axios&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#x5C01;&#x88C5;&#xFF0C;&#x5B9A;&#x4E49;&#x4E86;http&#x8BF7;&#x6C42;&#x65B9;&#x6CD5; import http from &apos;./../../../base/api/public&apos; //&#x5BFC;&#x5165;&#x89E3;&#x6790;json&#x5BF9;&#x8C61;&#x5DE5;&#x5177;&#x7C7B; import querystring from &apos;querystring&apos; //@&#x76F8;&#x5F53;&#x4E8E;src&#x76EE;&#x5F55; let sysConfig = require(&apos;@/../config/sysConfig&apos;) let apiUrl = sysConfig.xcApiUrlPre; //&#x9875;&#x9762;&#x67E5;&#x8BE2; export const page_list = (page, size, params) =&gt; { //&#x5C06;json&#x5BF9;&#x8C61;&#x8F6C;&#x6210;key/value&#x5BF9; let queryString = querystring.stringify(params) //&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3; return http.requestQuickGet(apiUrl + &apos;/cms/page/list/&apos; + page + &apos;/&apos; + size+&quot;?&quot;+queryString); }&#x65B0;&#x589E;&#x9875;&#x9762;1.&#x65B0;&#x589E;&#x9875;&#x9762;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5728;api&#x5DE5;&#x7A0B;&#x4E2D;&#x6DFB;&#x52A0;&#x63A5;&#x53E3; @ApiOperation(&quot;&#x6DFB;&#x52A0;&#x9875;&#x9762;&quot;) public CmsPageResult add(CmsPage cmsPage);2.&#x65B0;&#x589E;&#x9875;&#x9762;&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;1.&#x521B;&#x5EFA;&#x9875;&#x9762;&#x552F;&#x4E00;&#x7D22;&#x5F15;(&#x9632;&#x6B62;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x65F6;&#x9875;&#x9762;&#x91CD;&#x590D;)&#x5728;cms_page&#x4E0A;&#x521B;&#x5EFA;&#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x7AD9;&#x70B9;Id&#x3001;&#x9875;&#x9762;webpath&#x4E3A;&#x552F;&#x4E00;&#x7D22;&#x5F15; 2.Service //&#x65B0;&#x589E;&#x9875;&#x9762; public CmsPageResult add(CmsPage cmsPage) { //&#x6821;&#x9A8C;&#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x7AD9;&#x70B9;Id&#x3001;&#x9875;&#x9762;webpath&#x7684;&#x552F;&#x4E00;&#x6027; //&#x6839;&#x636E;&#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x7AD9;&#x70B9;Id&#x3001;&#x9875;&#x9762;webpath&#x53BB;cms_page&#x96C6;&#x5408;&#xFF0C;&#x5982;&#x679C;&#x67E5;&#x5230;&#x8BF4;&#x660E;&#x6B64;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x4E0D;&#x5230;&#x518D;&#x7EE7;&#x7EED;&#x6DFB;&#x52A0; CmsPage cmsPage1 = cmsPageRepository.findByPageNameAndSiteIdAndPageWebPath(cmsPage.getPageName(), cmsPage.getSiteId(), cmsPage.getPageWebPath()); if(cmsPage1==null){ //&#x8C03;&#x7528;dao&#x65B0;&#x589E;&#x9875;&#x9762; cmsPage.setPageId(null); cmsPageRepository.save(cmsPage); return new CmsPageResult(CommonCode.SUCCESS,cmsPage); } //&#x6DFB;&#x52A0;&#x5931;&#x8D25; return new CmsPageResult(CommonCode.FAIL,null); }3.controller @PostMapping(&quot;/add&quot;) public CmsPageResult add(@RequestBody CmsPage cmsPage) { return pageService.add(cmsPage); }4.&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;SwaggerUI http://localhost:31001/swagger-ui.html#!3.&#x65B0;&#x589E;&#x9875;&#x9762;&#x524D;&#x7AEF;&#x5F00;&#x53D1;1.&#x7F16;&#x5199;page_add.vue&#x9875;&#x9762;&#x4F7F;&#x7528;Element-UI&#x7684;form&#x7EC4;&#x4EF6;&#x7F16;&#x5199;&#x5728;src/module/cms/page&#x4E0B;&#x6DFB;&#x52A0;&#x8868;&#x5355;&#x5185;&#x5BB9;&#xFF0C;&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5BFC;&#x5165;&#x6A21;&#x677F; &lt;template&gt; &lt;div&gt; &#x65B0;&#x589E;&#x9875;&#x9762;... &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import * as cmsApi from &apos;../api/cms&apos; export default { data() { return { } }, methods: { }, mounted() { } } &lt;/script&gt; &lt;style&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x6837;&#x5F0F;&#xFF0C;&#x4E0D;&#x662F;&#x5FC5;&#x987B;*/ &lt;/style&gt;2.&#x914D;&#x7F6E;&#x8DEF;&#x7531;&#x5728;cms&#x6A21;&#x5757;&#x7684;router&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x201C;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x201D;&#x7684;&#x8DEF;&#x7531;&#xFF1A; {path:&apos;/cms/page/add&apos;,name:&apos;&#x65B0;&#x589E;&#x9875;&#x9762;&apos;,component: page_add,hidden:true}&#x4E0D;&#x9700;&#x8981;&#x65B0;&#x589E;&#x9875;&#x9762;&#x5728;&#x5DE6;&#x4FA7;&#x680F;&#x663E;&#x793A;&#x6240;&#x4EE5;hidden:true &#x6D4B;&#x8BD5;&#xFF0C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x8F93;&#x5165;http://localhost:11000/cms/page/list#/cms/page/add 3.&#x5728;&#x9875;&#x9762;&#x5217;&#x8868;&#x6DFB;&#x52A0;&#x201C;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x201D;&#x7684;&#x6309;&#x94AE;&#x5B9E;&#x9645;&#x60C5;&#x51B5;&#x662F;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x5217;&#x8868;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x65B0;&#x589E;&#x9875;&#x9762;&#x201D;&#x6309;&#x94AE;&#x8FDB;&#x5165;&#x65B0;&#x589E;&#x9875;&#x9762;&#x7A97;&#x53E3;&#x3002; &#x5728;&#x67E5;&#x8BE2;&#x6309;&#x94AE;&#x7684;&#x65C1;&#x8FB9;&#x6DFB;&#x52A0;&#xFF1A; &lt;router-link :to=&quot;{path:&apos;/cms/page/add&apos;}&quot;&gt; &lt;el-button type=&quot;primary&quot; size=&quot;small&quot;&gt;&#x65B0;&#x589E;&#x9875;&#x9762;&lt;/el-button&gt; &lt;/router-link&gt;router-link&#x662F;vue&#x63D0;&#x4F9B;&#x7684;&#x8DEF;&#x7531;&#x529F;&#x80FD;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x9875;&#x9762;&#x751F;&#x6210;&#x8DEF;&#x7531;&#x94FE;&#x63A5;&#xFF0C;&#x6700;&#x7EC8;&#x5728;html&#x6E32;&#x67D3;&#x540E;&#x5C31;&#x662F;&lt;a&#x6807;&#x7B7E;&#x3002; to&#xFF1A;&#x76EE;&#x6807;&#x8DEF;&#x7531;&#x5730;&#x5740; 4.&#x5B8C;&#x5584;&#x9875;&#x9762;&#x5185;&#x5BB9;&lt;template&gt; &lt;div&gt; &lt;el-form :model=&quot;pageForm&quot; label-width=&quot;80px&quot; :rules=&quot;pageFormRules&quot; ref=&quot;pageForm&quot;&gt; &lt;el-form-item label=&quot;&#x6240;&#x5C5E;&#x7AD9;&#x70B9;&quot; prop=&quot;siteId&quot;&gt; &lt;el-select v-model=&quot;pageForm.siteId&quot; placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&#x7AD9;&#x70B9;&quot;&gt; &lt;el-option v-for=&quot;item in siteList&quot; :key=&quot;item.siteId&quot; :label=&quot;item.siteName&quot; :value=&quot;item.siteId&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x9009;&#x62E9;&#x6A21;&#x7248;&quot; prop=&quot;templateId&quot;&gt; &lt;el-select v-model=&quot;pageForm.templateId&quot; placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&quot;&gt; &lt;el-option v-for=&quot;item in templateList&quot; :key=&quot;item.templateId&quot; :label=&quot;item.templateName&quot; :value=&quot;item.templateId&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x9875;&#x9762;&#x540D;&#x79F0;&quot; prop=&quot;pageName&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageName&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x522B;&#x540D;&quot; prop=&quot;pageAliase&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageAliase&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&quot; prop=&quot;pageWebPath&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageWebPath&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x7269;&#x7406;&#x8DEF;&#x5F84;&quot; prop=&quot;pagePhysicalPath&quot;&gt; &lt;el-input v-model=&quot;pageForm.pagePhysicalPath&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x7C7B;&#x578B;&quot;&gt; &lt;el-radio-group v-model=&quot;pageForm.pageType&quot;&gt; &lt;el-radio class=&quot;radio&quot; label=&quot;0&quot;&gt;&#x9759;&#x6001;&lt;/el-radio&gt; &lt;el-radio class=&quot;radio&quot; label=&quot;1&quot;&gt;&#x52A8;&#x6001;&lt;/el-radio&gt; &lt;/el-radio-group&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&quot;&gt; &lt;el-date-picker type=&quot;datetime&quot; placeholder=&quot;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&quot; v-model=&quot;pageForm.pageCreateTime&quot;&gt;&lt;/el-date-picker&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;addSubmit&quot; &gt;&#x63D0;&#x4EA4;&lt;/el-button&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;go_back&quot; &gt;&#x8FD4;&#x56DE;&lt;/el-button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x9759;&#x6001;&#x90E8;&#x5206;&#xFF0C;&#x5373;model&#x53CA;vm&#x90E8;&#x5206;&#x3002;*/ import * as cmsApi from &apos;../api/cms&apos; export default { data() { return { siteList:[], templateList:[], pageForm:{ siteId:&apos;&apos;, templateId:&apos;&apos;, pageName: &apos;&apos;, pageAliase: &apos;&apos;, pageWebPath: &apos;&apos;, pageParameter:&apos;&apos;, pagePhysicalPath:&apos;&apos;, pageType:&apos;&apos;, pageCreateTime: new Date() }, pageFormRules: { siteId:[ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x7AD9;&#x70B9;&apos;, trigger: &apos;blur&apos;} ], templateId:[ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x6A21;&#x7248;&apos;, trigger: &apos;blur&apos;} ], pageName: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x9875;&#x9762;&#x540D;&#x79F0;&apos;, trigger: &apos;blur&apos;} ], pageWebPath: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&apos;, trigger: &apos;blur&apos;} ], pagePhysicalPath: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x7269;&#x7406;&#x8DEF;&#x5F84;&apos;, trigger: &apos;blur&apos;} ] } } }, methods:{ addSubmit:function(){ this.$refs[&apos;pageForm&apos;].validate((valid) =&gt; { if (valid) {//&#x8868;&#x5355;&#x6821;&#x9A8C;&#x6210;&#x529F; //&#x786E;&#x8BA4;&#x63D0;&#x793A; this.$confirm(&apos;&#x60A8;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;?&apos;, &apos;&#x63D0;&#x793A;&apos;, { }).then(() =&gt; { //&#x8C03;&#x7528;page_add&#x65B9;&#x6CD5;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x65B0;&#x589E;&#x9875;&#x9762;&#x63A5;&#x53E3; cmsApi.page_add(this.pageForm).then(res=&gt;{ //&#x89E3;&#x6790;&#x670D;&#x52A1;&#x7AEF;&#x54CD;&#x5E94;&#x5185;&#x5BB9; if(res.success){ /*this.$message({ message: &apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;, type: &apos;success&apos; })*/ this.$message.success(&quot;&#x63D0;&#x4EA4;&#x6210;&#x529F;&quot;) //&#x5C06;&#x8868;&#x5355;&#x6E05;&#x7A7A; this.$refs[&apos;pageForm&apos;].resetFields(); }else if(res.message){ this.$message.error(res.message) }else{ this.$message.error(&quot;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&quot;) } }); }) } }); }, //&#x8FD4;&#x56DE; go_back:function () { this.$router.push({ path:&apos;/cms/page/list&apos;, query:{ page:this.$route.query.page,//&#x53D6;&#x51FA;&#x8DEF;&#x7531;&#x4E2D;&#x7684;&#x53C2;&#x6570; siteId:this.$route.query.siteId } }) } }, mounted(){ //&#x521D;&#x59CB;&#x5316;&#x7AD9;&#x70B9;&#x5217;&#x8868; this.siteList = [ { siteId:&apos;5a751fab6abb5044e0d19ea1&apos;, siteName:&apos;&#x95E8;&#x6237;&#x4E3B;&#x7AD9;&apos; }, { siteId:&apos;102&apos;, siteName:&apos;&#x6D4B;&#x8BD5;&#x7AD9;&apos; } ] //&#x6A21;&#x677F;&#x5217;&#x8868; this.templateList = [ { templateId:&apos;5a962b52b00ffc514038faf7&apos;, templateName:&apos;&#x9996;&#x9875;&apos; }, { templateId:&apos;5a962bf8b00ffc514038fafa&apos;, templateName:&apos;&#x8F6E;&#x64AD;&#x56FE;&apos; } ] } } &lt;/script&gt; &lt;style&gt; /*&#x7F16;&#x5199;&#x9875;&#x9762;&#x6837;&#x5F0F;&#xFF0C;&#x4E0D;&#x662F;&#x5FC5;&#x987B;*/ &lt;/style&gt;5.&#x6DFB;&#x52A0;&#x8FD4;&#x56DE;&#x8FDB;&#x5165;&#x65B0;&#x589E;&#x9875;&#x9762;&#x540E;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x83DC;&#x5355;&#x518D;&#x6B21;&#x8FDB;&#x5165;&#x9875;&#x9762;&#x5217;&#x8868;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x65B0;&#x589E;&#x9875;&#x9762;&#x6DFB;&#x52A0;&#x201C;&#x8FD4;&#x56DE;&#x201D;&#x6309;&#x94AE;&#xFF0C;&#x70B9;&#x51FB;&#x8FD4;&#x56DE;&#x6309;&#x94AE;&#x8FD4;&#x56DE;&#x5230;&#x9875;&#x9762;&#x5217; &#x8868;&#x3002; 1.&#x5728;&#x65B0;&#x589E;&#x9875;&#x9762;&#x4E0A;&#x6DFB;&#x52A0;&#x8FD4;&#x56DE;&#x6309;&#x94AE;&lt;el-button type=&quot;primary&quot; @click=&quot;go_back&quot; &gt;&#x8FD4;&#x56DE;&lt;/el-button&gt;2.&#x5728;&#x70B9;&#x51FB;&#x65B0;&#x589E;&#x9875;&#x9762;&#x7684;&#x65F6;&#x5019;&#x5C06;&#x53C2;&#x6570;&#x5E26;&#x8FC7;&#x53BB;&lt;router-link :to=&quot;{path:&apos;/cms/page/add&apos;,query:{ page:this.params.page, siteId:this.params.siteId }}&quot;&gt;3.&#x70B9;&#x51FB;&#x8FD4;&#x56DE;&#x7684;&#x65F6;&#x5019;&#x53D6;&#x51FA;&#x5730;&#x5740;&#x680F;&#x7684;&#x53C2;&#x6570;&#x5E76;&#x56DE;&#x4F20;&#x7ED9;&#x5217;&#x8868;&#x9875;&#x9762;go_back:function () { this.$router.push({ path:&apos;/cms/page/list&apos;, query:{ page:this.$route.query.page,//&#x53D6;&#x51FA;&#x8DEF;&#x7531;&#x4E2D;&#x7684;&#x53C2;&#x6570; siteId:this.$route.query.siteId } }) }4.&#x5229;&#x7528;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#x53D6;&#x51FA;&#x5730;&#x5740;&#x680F;&#x7684;&#x53C2;&#x6570;,&#x8D4B;&#x503C;&#x7ED9;&#x6570;&#x636E;&#x5BF9;&#x8C61;created(){ this.params.page = Number.parseInt(this.$route.query.page || 1) this.params.siteId = this.$route.query.siteId || &apos;&apos; },&#x4E3A;&#x4EC0;&#x4E48;&#x4E0D;&#x7528;mounted&#x800C;&#x4F7F;&#x7528;created? created:&#x5728;&#x6A21;&#x677F;&#x6E32;&#x67D3;&#x6210;html&#x524D;&#x8C03;&#x7528;&#xFF0C;&#x5373;&#x901A;&#x5E38;&#x521D;&#x59CB;&#x5316;&#x67D0;&#x4E9B;&#x5C5E;&#x6027;&#x503C;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x6E32;&#x67D3;&#x6210;&#x89C6;&#x56FE;&#x3002;(&#x6E32;&#x67D3;&#x672A;&#x5B8C;&#x6210;) mounted:&#x5728;&#x6A21;&#x677F;&#x6E32;&#x67D3;&#x6210;html&#x540E;&#x8C03;&#x7528;&#xFF0C;&#x901A;&#x5E38;&#x662F;&#x521D;&#x59CB;&#x5316;&#x9875;&#x9762;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x518D;&#x5BF9;html&#x7684;dom&#x8282;&#x70B9;&#x8FDB;&#x884C;&#x4E00;&#x4E9B;&#x9700;&#x8981;&#x7684;&#x64CD;&#x4F5C;&#x3002;(&#x6E32;&#x67D3;&#x5B8C;&#x6210;) 6.&#x8868;&#x5355;&#x6821;&#x9A8C;1.&#x5728;&#x8868;&#x5355;&#x6807;&#x7B7E;&#x4E0A;&#x6DFB;&#x52A0;:rules&#x6807;&#x8BB0;&lt;el&#x2010;form :model=&quot;pageForm&quot; :rules=&quot;pageFormRules&quot; label&#x2010;width=&quot;80px&quot; &gt;2.&#x5728;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E2D;&#x914D;&#x7F6E;&#x6821;&#x9A8C;&#x89C4;&#x5219;pageFormRules&#xFF1A; data() { return { siteList:[], templateList:[], pageForm:{ siteId:&apos;&apos;, templateId:&apos;&apos;, pageName: &apos;&apos;, pageAliase: &apos;&apos;, pageWebPath: &apos;&apos;, pageParameter:&apos;&apos;, pagePhysicalPath:&apos;&apos;, pageType:&apos;&apos;, pageCreateTime: new Date() }, pageFormRules: { siteId:[ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x7AD9;&#x70B9;&apos;, trigger: &apos;blur&apos;} ], templateId:[ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x6A21;&#x7248;&apos;, trigger: &apos;blur&apos;} ], pageName: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x9875;&#x9762;&#x540D;&#x79F0;&apos;, trigger: &apos;blur&apos;} ], pageWebPath: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&apos;, trigger: &apos;blur&apos;} ], pagePhysicalPath: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x7269;&#x7406;&#x8DEF;&#x5F84;&apos;, trigger: &apos;blur&apos;} ] } } },3.&#x70B9;&#x51FB;&#x63D0;&#x4EA4;&#x6309;&#x94AE;&#x89E6;&#x53D1;&#x6821;&#x9A8C;1.&#x5728;form&#x8868;&#x5355;&#x4E0A;&#x6DFB;&#x52A0; ref&#x5C5E;&#x6027;&#xFF08;ref=&#x201D;pageForm&#x201D;&#xFF09;&#x5728;&#x6821;&#x9A8C;&#x65F6;&#x5F15;&#x7528;&#x6B64;&#x8868;&#x5355;&#x5BF9;&#x8C61;&lt;el-form :model=&quot;pageForm&quot; label-width=&quot;80px&quot; :rules=&quot;pageFormRules&quot; ref=&quot;pageForm&quot;&gt;2.&#x6267;&#x884C;&#x6821;&#x9A8C;methods:{ addSubmit:function(){ this.$refs[&apos;pageForm&apos;].validate((valid) =&gt; { if (valid) {//&#x8868;&#x5355;&#x6821;&#x9A8C;&#x6210;&#x529F; alert(&apos;&#x63D0;&#x4EA4;&apos;) }else { alert(&apos;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&apos;) return false; } }); }, //&#x8FD4;&#x56DE; go_back:function () { this.$router.push({ path:&apos;/cms/page/list&apos;, query:{ page:this.$route.query.page,//&#x53D6;&#x51FA;&#x8DEF;&#x7531;&#x4E2D;&#x7684;&#x53C2;&#x6570; siteId:this.$route.query.siteId } }) } },7.Api&#x8C03;&#x7528;1.&#x5728;cms.js&#x4E2D;&#x5B9A;&#x4E49;page_add&#x65B9;&#x6CD5;.//&#x9875;&#x9762;&#x6DFB;&#x52A0; export const page_add = params =&gt; { //&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x9875;&#x9762;&#x6DFB;&#x52A0;&#x63A5;&#x53E3; return http.requestPost(apiUrl+&apos;/cms/page/add&apos;,params) }2.page_add&#x9875;&#x9762;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;addSubmit:function(){ this.$refs[&apos;pageForm&apos;].validate((valid) =&gt; { if (valid) {//&#x8868;&#x5355;&#x6821;&#x9A8C;&#x6210;&#x529F; //&#x786E;&#x8BA4;&#x63D0;&#x793A; this.$confirm(&apos;&#x60A8;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;?&apos;, &apos;&#x63D0;&#x793A;&apos;, { }).then(() =&gt; { //&#x8C03;&#x7528;page_add&#x65B9;&#x6CD5;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x65B0;&#x589E;&#x9875;&#x9762;&#x63A5;&#x53E3; cmsApi.page_add(this.pageForm).then(res=&gt;{ //&#x89E3;&#x6790;&#x670D;&#x52A1;&#x7AEF;&#x54CD;&#x5E94;&#x5185;&#x5BB9; if(res.success){ /*this.$message({ message: &apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;, type: &apos;success&apos; })*/ this.$message.success(&quot;&#x63D0;&#x4EA4;&#x6210;&#x529F;&quot;) //&#x5C06;&#x8868;&#x5355;&#x6E05;&#x7A7A; this.$refs[&apos;pageForm&apos;].resetFields(); }else if(res.message){ this.$message.error(res.message) }else{ this.$message.error(&quot;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&quot;) } }); }) } }); },3.&#x6D4B;&#x8BD5;&#x89C2;&#x5BDF;CmsPageController &#x4FEE;&#x6539;&#x9875;&#x9762;1.&#x4FEE;&#x6539;&#x9875;&#x9762;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5728;api&#x5DE5;&#x7A0B;&#x4E2D;&#x6DFB;&#x52A0;&#x4FEE;&#x6539;&#x63A5;&#x53E3; @ApiOperation(&quot;&#x901A;&#x8FC7;ID&#x67E5;&#x8BE2;&#x9875;&#x9762;&quot;) public CmsPage findById(String id); @ApiOperation(&quot;&#x4FEE;&#x6539;&#x9875;&#x9762;&quot;) public CmsPageResult edit(String id, CmsPage cmsPage);2.&#x4FEE;&#x6539;&#x9875;&#x9762;&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;1.Dao&#x4F7F;&#x7528; Spring Data Mongo&#x63D0;&#x4F9B;&#x7684;&#xFB01;ndById&#x65B9;&#x6CD5;&#x5B8C;&#x6210;&#x6839;&#x636E;&#x4E3B;&#x952E;&#x67E5;&#x8BE2; &#x3002; &#x4F7F;&#x7528; Spring Data Mongo&#x63D0;&#x4F9B;&#x7684;save&#x65B9;&#x6CD5;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x4FDD;&#x5B58; &#x3002; 2.Service1.&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x9875;&#x9762; //&#x6839;&#x636E;&#x9875;&#x9762;id&#x67E5;&#x8BE2;&#x9875;&#x9762; public CmsPage getById(String id){ Optional&lt;CmsPage&gt; optional = cmsPageRepository.findById(id); if(optional.isPresent()){ CmsPage cmsPage = optional.get(); return cmsPage; } return null; }2.&#x6839;&#x636E;id&#x4FEE;&#x6539;&#x9875;&#x9762; //&#x6839;&#x636E;&#x9875;&#x9762;id&#x67E5;&#x8BE2;&#x9875;&#x9762; public CmsPage getById(String id){ Optional&lt;CmsPage&gt; optional = cmsPageRepository.findById(id); if(optional.isPresent()){ CmsPage cmsPage = optional.get(); return cmsPage; } return null; }3.Controller1.&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x9875;&#x9762; @Override @GetMapping(&quot;/get/{id}&quot;) public CmsPage findById(@PathVariable(&quot;id&quot;) String id) { CmsPage byId = pageService.getById(id); return byId; }2.&#x4FDD;&#x5B58;&#x9875;&#x9762;&#x4FE1;&#x606F; @PutMapping(&quot;/edit/{id}&quot;)//&#x8FD9;&#x91CC;&#x4F7F;&#x7528;put&#x65B9;&#x6CD5;&#xFF0C;http &#x65B9;&#x6CD5;&#x4E2D;put&#x8868;&#x793A;&#x66F4;&#x65B0; public CmsPageResult edit(@PathVariable(&quot;id&quot;)String id, @RequestBody CmsPage cmsPage) { return pageService.update(id,cmsPage); }3.&#x4FEE;&#x6539;&#x9875;&#x9762;&#x524D;&#x7AEF;&#x5F00;&#x53D1;1.&#x5728;&#x9875;&#x9762;&#x5217;&#x8868;&#x6DFB;&#x52A0;&#x201C;&#x7F16;&#x8F91;&#x201D;&#x94FE;&#x63A5;&lt;el-table-column label=&quot;&#x64CD;&#x4F5C;&quot; width=&quot;80&quot;&gt; &lt;template slot-scope=&quot;page&quot;&gt; &lt;el-button size=&quot;small&quot;type=&quot;text&quot; @click=&quot;edit(page.row.pageId)&quot;&gt;&#x7F16;&#x8F91; &lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt;slot-scope&#x63D2;&#x69FD;page&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x6574;&#x4E2A;&#x5217;&#x8868;&#x7684;&#x6570;&#x636E; 2.&#x7F16;&#x5199;edit&#x65B9;&#x6CD5; edit:function(pageId){ //&#x6253;&#x5F00;&#x4FEE;&#x6539;&#x9875;&#x9762; this.$router.push({ path:&apos;/cms/page/edit/&apos;+pageId }) },3.&#x914D;&#x7F6E;&#x8DEF;&#x7531;&#x8FDB;&#x5165;&#x4FEE;&#x6539;&#x9875;&#x9762;&#x4F20;&#x5165;pageId import page_edit from &apos;@/module/cms/page/page_edit.vue&apos;; {path: &apos;/cms/page/edit/:pageId&apos;, name: &apos;&#x4FEE;&#x6539;&#x9875;&#x9762;&apos;, component: page_edit, hidden: true},4.&#x7F16;&#x5199;page_edit&#x9875;&#x9762;&lt;template&gt; &lt;div&gt; &lt;el-form :model=&quot;pageForm&quot; label-width=&quot;80px&quot; :rules=&quot;pageFormRules&quot; ref=&quot;pageForm&quot; &gt; &lt;el-form-item label=&quot;&#x6240;&#x5C5E;&#x7AD9;&#x70B9;&quot; prop=&quot;siteId&quot;&gt; &lt;el-select v-model=&quot;pageForm.siteId&quot; placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&#x7AD9;&#x70B9;&quot;&gt; &lt;el-option v-for=&quot;item in siteList&quot; :key=&quot;item.siteId&quot; :label=&quot;item.siteName&quot; :value=&quot;item.siteId&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x9009;&#x62E9;&#x6A21;&#x7248;&quot; prop=&quot;templateId&quot;&gt; &lt;el-select v-model=&quot;pageForm.templateId&quot; placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&quot;&gt; &lt;el-option v-for=&quot;item in templateList&quot; :key=&quot;item.templateId&quot; :label=&quot;item.templateName&quot; :value=&quot;item.templateId&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x9875;&#x9762;&#x540D;&#x79F0;&quot; prop=&quot;pageName&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageName&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x522B;&#x540D;&quot; prop=&quot;pageAliase&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageAliase&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&quot; prop=&quot;pageWebPath&quot;&gt; &lt;el-input v-model=&quot;pageForm.pageWebPath&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x7269;&#x7406;&#x8DEF;&#x5F84;&quot; prop=&quot;pagePhysicalPath&quot;&gt; &lt;el-input v-model=&quot;pageForm.pagePhysicalPath&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x6570;&#x636E;Url&quot; prop=&quot;dataUrl&quot;&gt; &lt;el-input v-model=&quot;pageForm.dataUrl&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x7C7B;&#x578B;&quot;&gt; &lt;el-radio-group v-model=&quot;pageForm.pageType&quot;&gt; &lt;el-radio class=&quot;radio&quot; label=&quot;0&quot;&gt;&#x9759;&#x6001;&lt;/el-radio&gt; &lt;el-radio class=&quot;radio&quot; label=&quot;1&quot;&gt;&#x52A8;&#x6001;&lt;/el-radio&gt; &lt;/el-radio-group&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&quot;&gt; &lt;el-date-picker type=&quot;datetime&quot; placeholder=&quot;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&quot; v-model=&quot;pageForm.pageCreateTime&quot;&gt;&lt;/el-date-picker&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt; &lt;el-button @click=&quot;go_back&quot;&gt;&#x8FD4;&#x56DE;&lt;/el-button&gt; &lt;el-button type=&quot;primary&quot; @click.native=&quot;editSubmit&quot; :loading=&quot;addLoading&quot;&gt;&#x63D0;&#x4EA4;&lt;/el-button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import * as cmsApi from &apos;../api/cms&apos; export default{ data(){ return { //&#x9875;&#x9762;id pageId:&apos;&apos;, //&#x6A21;&#x7248;&#x5217;&#x8868; templateList:[], addLoading: false,//&#x52A0;&#x8F7D;&#x6548;&#x679C;&#x6807;&#x8BB0; //&#x65B0;&#x589E;&#x754C;&#x9762;&#x6570;&#x636E; pageForm: { siteId:&apos;&apos;, templateId:&apos;&apos;, pageName: &apos;&apos;, pageAliase: &apos;&apos;, pageWebPath: &apos;&apos;, dataUrl:&apos;&apos;, pageParameter:&apos;&apos;, pagePhysicalPath:&apos;&apos;, pageType:&apos;&apos;, pageCreateTime: new Date() }, pageFormRules: { siteId:[ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x7AD9;&#x70B9;&apos;, trigger: &apos;blur&apos;} ], templateId:[ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x6A21;&#x7248;&apos;, trigger: &apos;blur&apos;} ], pageName: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x9875;&#x9762;&#x540D;&#x79F0;&apos;, trigger: &apos;blur&apos;} ], pageWebPath: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&apos;, trigger: &apos;blur&apos;} ], pagePhysicalPath: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x7269;&#x7406;&#x8DEF;&#x5F84;&apos;, trigger: &apos;blur&apos;} ] }, siteList:[] } }, methods:{ go_back(){ this.$router.push({ path: &apos;/cms/page/list&apos;, query: { page: this.$route.query.page, siteId:this.$route.query.siteId } }) }, editSubmit(){ this.$refs.pageForm.validate((valid) =&gt; {//&#x8868;&#x5355;&#x6821;&#x9A8C; if (valid) {//&#x8868;&#x5355;&#x6821;&#x9A8C;&#x901A;&#x8FC7; this.$confirm(&apos;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;&#xFF1F;&apos;, &apos;&#x63D0;&#x793A;&apos;, {}).then(() =&gt; { this.addLoading = true; //&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x63A5;&#x53E3; cmsApi.page_edit(this.pageId,this.pageForm).then((res) =&gt; { console.log(res); if(res.success){ this.addLoading = false; this.$message({ message: &apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;, type: &apos;success&apos; }); //&#x8FD4;&#x56DE; this.go_back(); }else{ this.addLoading = false; this.$message.error(&apos;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&apos;); } }); }); } }); } }, created: function () { this.pageId=this.$route.params.pageId; //&#x6839;&#x636E;&#x4E3B;&#x952E;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4FE1;&#x606F; cmsApi.page_get(this.pageId).then((res) =&gt; { console.log(res); if(res){ this.pageForm = res; } }); }, mounted:function(){ //&#x521D;&#x59CB;&#x5316;&#x7AD9;&#x70B9;&#x5217;&#x8868; this.siteList = [ { siteId:&apos;5a751fab6abb5044e0d19ea1&apos;, siteName:&apos;&#x95E8;&#x6237;&#x4E3B;&#x7AD9;&apos; }, { siteId:&apos;102&apos;, siteName:&apos;&#x6D4B;&#x8BD5;&#x7AD9;&apos; } ] //&#x6A21;&#x677F;&#x5217;&#x8868; this.templateList = [ { templateId:&apos;5a962b52b00ffc514038faf7&apos;, templateName:&apos;&#x9996;&#x9875;&apos; }, { templateId:&apos;5a962bf8b00ffc514038fafa&apos;, templateName:&apos;&#x8F6E;&#x64AD;&#x56FE;&apos; } ] } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;5.page_edit&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x63A5;&#x53E3; editSubmit(){ this.$refs.pageForm.validate((valid) =&gt; {//&#x8868;&#x5355;&#x6821;&#x9A8C; if (valid) {//&#x8868;&#x5355;&#x6821;&#x9A8C;&#x901A;&#x8FC7; this.$confirm(&apos;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;&#xFF1F;&apos;, &apos;&#x63D0;&#x793A;&apos;, {}).then(() =&gt; { this.addLoading = true; //&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x63A5;&#x53E3; cmsApi.page_edit(this.pageId,this.pageForm).then((res) =&gt; { console.log(res); if(res.success){ this.addLoading = false; this.$message({ message: &apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;, type: &apos;success&apos; }); //&#x8FD4;&#x56DE; this.go_back(); }else{ this.addLoading = false; this.$message.error(&apos;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&apos;); } }); }); } }); }6.&#x5728;cms.js&#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x9875;&#x9762;//&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x9875;&#x9762; export const page_get = id =&gt;{ return http.requestQuickGet(apiUrl+&apos;/cms/page/get/&apos;+id) }7.&#x8FDB;&#x5165;&#x4FEE;&#x6539;&#x9875;&#x9762;&#x5E94;&#x8BE5;&#x9ED8;&#x8BA4;&#x53BB;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4FE1;&#x606F;created: function () { this.pageId=this.$route.params.pageId; //&#x6839;&#x636E;&#x4E3B;&#x952E;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4FE1;&#x606F; cmsApi.page_get(this.pageId).then((res) =&gt; { console.log(res); if(res){ this.pageForm = res; } }); },$route.params.pageId : &#x5F53;URL&#x662F;&#x4EE5;/a/b/c&#x7684;&#x65B9;&#x5F0F;&#x4F20;&#x53C2;&#x7684;&#x65F6;&#x5019;&#x91C7;&#x7528;&#x6B64;api $route.query.pageId : &#x5F53;URL&#x662F;&#x4EE5;?k=v&#x7684;&#x65B9;&#x5F0F;&#x4F20;&#x53C2;&#x7684;&#x65F6;&#x5019;&#x91C7;&#x7528;&#x6B64;api 8.&#x5728;cms.js&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x5B9A;&#x4E49;&#x4FEE;&#x6539;&#x9875;&#x9762;&#x63D0;&#x4EA4;//&#x4FEE;&#x6539;&#x9875;&#x9762;&#x63D0;&#x4EA4; export const page_edit = (id,params) =&gt;{ return http.requestPut(apiUrl+&apos;/cms/page/edit/&apos;+id,params) }&#x5220;&#x9664;&#x9875;&#x9762;1.&#x5220;&#x9664;&#x9875;&#x9762;&#x63A5;&#x53E3;&#x5B9A;&#x4E49; //&#x5220;&#x9664;&#x9875;&#x9762; @ApiOperation(&quot;&#x5220;&#x9664;&#x9875;&#x9762;&quot;) public ResponseResult delete(String id);2.&#x5220;&#x9664;&#x9875;&#x9762;&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;1.Dao&#x4F7F;&#x7528; Spring Data&#x63D0;&#x4F9B;&#x7684;deleteById&#x65B9;&#x6CD5;&#x5B8C;&#x6210;&#x5220;&#x9664;&#x64CD;&#x4F5C; &#x3002; 2.Service //&#x6839;&#x636E;id&#x5220;&#x9664;&#x9875;&#x9762; public ResponseResult delete(String id){ //&#x5148;&#x67E5;&#x8BE2;&#x4E00;&#x4E0B; Optional&lt;CmsPage&gt; optional = cmsPageRepository.findById(id); if(optional.isPresent()){ cmsPageRepository.deleteById(id); return new ResponseResult(CommonCode.SUCCESS); } return new ResponseResult(CommonCode.FAIL); }3.controller @DeleteMapping(&quot;/del/{id}&quot;) public ResponseResult delete(@PathVariable(&quot;id&quot;) String id) { return pageService.delete(id); }4.&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;SwaggerUI http://localhost:31001/swagger-ui.html#!3.&#x5220;&#x9664;&#x9875;&#x9762;&#x524D;&#x7AEF;&#x5F00;&#x53D1;1.&#x9875;&#x9762;&#x6DFB;&#x52A0;&#x5220;&#x9664;&#x6309;&#x94AE;&lt;el-table-column label=&quot;&#x64CD;&#x4F5C;&quot; width=&quot;80&quot;&gt; &lt;template slot-scope=&quot;page&quot;&gt; &lt;el-button size=&quot;small&quot;type=&quot;text&quot; @click=&quot;edit(page.row.pageId)&quot;&gt;&#x7F16;&#x8F91; &lt;/el-button&gt; &lt;el-button size=&quot;small&quot;type=&quot;text&quot; @click=&quot;del(page.row.pageId)&quot;&gt;&#x5220;&#x9664; &lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt;2.&#x7F16;&#x5199;del&#x65B9;&#x6CD5; del:function (pageId) { this.$confirm(&apos;&#x60A8;&#x786E;&#x8BA4;&#x5220;&#x9664;&#x5417;?&apos;, &apos;&#x63D0;&#x793A;&apos;, { }).then(() =&gt; { //&#x8C03;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x53E3; cmsApi.page_del(pageId).then(res=&gt;{ if(res.success){ this.$message.success(&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;) //&#x5237;&#x65B0;&#x9875;&#x9762; this.query() }else{ this.$message.error(&quot;&#x5220;&#x9664;&#x5931;&#x8D25;&quot;) } }) }) },3.&#x5728;cms.js&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x5B9A;&#x4E49;&#x5220;&#x9664;&#x9875;&#x9762;//&#x5220;&#x9664;&#x9875;&#x9762; export const page_del= (id) =&gt;{ return http.requestDelete(apiUrl+&apos;/cms/page/del/&apos;+id) }&#x5F02;&#x5E38;&#x5904;&#x7406;&#x95EE;&#x9898;: 1&#x3001;&#x4E0A;&#x8FB9;&#x7684;&#x4EE3;&#x7801;&#x53EA;&#x8981;&#x64CD;&#x4F5C;&#x4E0D;&#x6210;&#x529F;&#x4EC5;&#x5411;&#x7528;&#x6237;&#x8FD4;&#x56DE;&#x201C;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#xFF1A;11111&#xFF0C;&#x5931;&#x8D25;&#x4FE1;&#x606F;&#xFF1A;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#x201D;&#xFF0C;&#x65E0;&#x6CD5;&#x533A;&#x522B;&#x5177;&#x4F53;&#x7684;&#x9519;&#x8BEF;&#x4FE1; &#x606F;&#x3002;2&#x3001;service&#x65B9;&#x6CD5;&#x5728;&#x6267;&#x884C;&#x8FC7;&#x7A0B;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#x5728;&#x54EA;&#x6355;&#x83B7;&#xFF1F;&#x5728;service&#x4E2D;&#x9700;&#x8981;&#x90FD;&#x52A0;try/catch&#xFF0C;&#x5982;&#x679C;&#x5728;controller&#x4E5F;&#x9700;&#x8981;&#x6DFB;&#x52A0;try/catch&#xFF0C;&#x4EE3;&#x7801;&#x5197;&#x4F59;&#x4E25;&#x91CD;&#x4E14;&#x4E0D;&#x6613;&#x7EF4;&#x62A4;&#x3002; &#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;1&#x3001;&#x5728;Service&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x7F16;&#x7801;&#x987A;&#x5E8F;&#x662F;&#x5148;&#x6821;&#x9A8C;&#x5224;&#x65AD;&#xFF0C;&#x6709;&#x95EE;&#x9898;&#x5219;&#x629B;&#x51FA;&#x5177;&#x4F53;&#x7684;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#xFF0C;&#x6700;&#x540E;&#x6267;&#x884C;&#x5177;&#x4F53;&#x7684;&#x4E1A;&#x52A1;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD4;&#x56DE;&#x6210;&#x529F;&#x4FE1;&#x606F;&#x3002;2&#x3001;&#x5728;&#x7EDF;&#x4E00;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x7C7B;&#x4E2D;&#x53BB;&#x6355;&#x83B7;&#x5F02;&#x5E38;&#xFF0C;&#x65E0;&#x9700;controller&#x6355;&#x83B7;&#x5F02;&#x5E38;&#xFF0C;&#x5411;&#x7528;&#x6237;&#x8FD4;&#x56DE;&#x7EDF;&#x4E00;&#x89C4;&#x8303;&#x7684;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#x3002; &#x4FEE;&#x6539;PageService&#x7C7B;&#x7684;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x65B9;&#x6CD5; //&#x65B0;&#x589E;&#x9875;&#x9762; public CmsPageResult add(CmsPage cmsPage) { if(cmsPage == null){ //&#x629B;&#x51FA;&#x7A7A;&#x6307;&#x9488;&#x5F02;&#x5E38;&#xFF0C;&#x975E;&#x6CD5;&#x53C2;&#x6570;&#x5F02;&#x5E38;..&#x6307;&#x5B9A;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x7684;&#x5185;&#x5BB9; } //&#x6821;&#x9A8C;&#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x7AD9;&#x70B9;Id&#x3001;&#x9875;&#x9762;webpath&#x7684;&#x552F;&#x4E00;&#x6027; //&#x6839;&#x636E;&#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x7AD9;&#x70B9;Id&#x3001;&#x9875;&#x9762;webpath&#x53BB;cms_page&#x96C6;&#x5408;&#xFF0C;&#x5982;&#x679C;&#x67E5;&#x5230;&#x8BF4;&#x660E;&#x6B64;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x4E0D;&#x5230;&#x518D;&#x7EE7;&#x7EED;&#x6DFB;&#x52A0; CmsPage cmsPage1 = cmsPageRepository.findByPageNameAndSiteIdAndPageWebPath(cmsPage.getPageName(), cmsPage.getSiteId(), cmsPage.getPageWebPath()); if(cmsPage1!=null){ //&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x5B58;&#x5728; //&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5F02;&#x5E38;&#x5185;&#x5BB9;&#x5C31;&#x662F;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x5B58;&#x5728; /* ExceptionCast.cast(CmsCode.CMS_ADDPAGE_EXISTSNAME);*/ } //&#x9875;&#x9762;&#x4E0D;&#x5B58;&#x5728;,&#x8C03;&#x7528;dao&#x65B0;&#x589E;&#x9875;&#x9762; cmsPage.setPageId(null); cmsPageRepository.save(cmsPage); return new CmsPageResult(CommonCode.SUCCESS,cmsPage); }&#x5F02;&#x5E38;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x53EF;&#x9884;&#x77E5;&#x7684;&#x5F02;&#x5E38;:1&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x3002; 2&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x53CA;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; 3&#x3001;&#x5BF9;&#x4E8E;&#x53EF;&#x9884;&#x77E5;&#x7684;&#x5F02;&#x5E38;&#x7531;&#x7A0B;&#x5E8F;&#x5458;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4E3B;&#x52A8;&#x629B;&#x51FA;&#xFF0C;&#x7531;SpringMVC&#x7EDF;&#x4E00;&#x6355;&#x83B7;&#x3002; &#x53EF;&#x9884;&#x77E5;&#x5F02;&#x5E38;&#x662F;&#x7A0B;&#x5E8F;&#x5458;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x624B;&#x52A8;&#x629B;&#x51FA;&#x672C;&#x7CFB;&#x7EDF;&#x5B9A;&#x4E49;&#x7684;&#x7279;&#x5B9A;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#xFF0C;&#x7531;&#x4E8E;&#x662F;&#x7A0B;&#x5E8F;&#x5458;&#x629B;&#x51FA;&#x7684;&#x5F02;&#x5E38;&#xFF0C;&#x901A;&#x5E38;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x6BD4;&#x8F83; &#x9F50;&#x5168;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;&#x5728;&#x629B;&#x51FA;&#x65F6;&#x4F1A;&#x6307;&#x5B9A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x53CA;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF0C;&#x83B7;&#x53D6;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x4E5F;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#x3002;&#x4E0D;&#x53EF;&#x9884;&#x77E5;&#x7684;&#x5F02;&#x5E38;:1&#x3001;&#x5BF9;&#x4E8E;&#x4E0D;&#x53EF;&#x9884;&#x77E5;&#x7684;&#x5F02;&#x5E38;&#xFF08;&#x8FD0;&#x884C;&#x65F6;&#x5F02;&#x5E38;&#xFF09;&#x7531;SpringMVC&#x7EDF;&#x4E00;&#x6355;&#x83B7;Exception&#x7C7B;&#x578B;&#x7684;&#x5F02;&#x5E38;&#x3002; &#x4E0D;&#x53EF;&#x9884;&#x77E5;&#x5F02;&#x5E38;&#x901A;&#x5E38;&#x662F;&#x7531;&#x4E8E;&#x7CFB;&#x7EDF;&#x51FA;&#x73B0;bug&#x3001;&#x6216;&#x4E00;&#x4E9B;&#x4E0D;&#x8981;&#x6297;&#x62D2;&#x7684;&#x9519;&#x8BEF;&#xFF08;&#x6BD4;&#x5982;&#x7F51;&#x7EDC;&#x4E2D;&#x65AD;&#x3001;&#x670D;&#x52A1;&#x5668;&#x5B95;&#x673A;&#x7B49;&#xFF09;&#xFF0C;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x4E3A; RuntimeException&#x7C7B;&#x578B;&#xFF08;&#x8FD0;&#x884C;&#x65F6;&#x5F02;&#x5E38;&#xFF09;,&#x7136;&#x540E;&#x8DF3;&#x5230;&#x7CFB;&#x7EDF;&#x5F02;&#x5E38;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#x3002; 2&#x3001;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E9B;&#x4E0D;&#x53EF;&#x9884;&#x77E5;&#x7684;&#x5F02;&#x5E38;,&#x6709;&#x4E00;&#x4E9B;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7ECF;&#x9A8C;&#x77E5;&#x9053;&#x4ED6;&#x7684;error_code&#x548C;error_info,&#x7136;&#x540E;&#x8DF3;&#x5165;&#x6211;&#x4EEC;&#x63D0;&#x524D;&#x8BBE;&#x8BA1;&#x597D;&#x7684;&#x4E00;&#x4E2A;Map&#x3002;&#x7CFB;&#x7EDF;&#x5BF9;&#x5F02;&#x5E38;&#x7684;&#x5904;&#x7406;&#x4F7F;&#x7528;&#x7EDF;&#x4E00;&#x7684;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF1A; 4&#x3001;5&#x3001;&#x53EF;&#x9884;&#x77E5;&#x7684;&#x5F02;&#x5E38;&#x53CA;&#x4E0D;&#x53EF;&#x9884;&#x77E5;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x5F02;&#x5E38;&#x6700;&#x7EC8;&#x4F1A;&#x91C7;&#x7528;&#x7EDF;&#x4E00;&#x7684;&#x4FE1;&#x606F;&#x683C;&#x5F0F;&#xFF08;&#x9519;&#x8BEF;&#x4EE3;&#x7801;+&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF09;&#x6765;&#x8868;&#x793A;&#xFF0C;&#x6700;&#x7EC8;&#x4E5F;&#x4F1A;&#x968F; &#x8BF7;&#x6C42;&#x54CD;&#x5E94;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x3002; &#x53EF;&#x9884;&#x77E5;&#x7684;&#x5F02;&#x5E38;&#x7684;&#x5904;&#x7406;:1.&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x7C7B;&#x5728;common&#x5DE5;&#x7A0B;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x7C7B;&#x578B; public class CustomException extends RuntimeException { //&#x9519;&#x8BEF;&#x4EE3;&#x7801; ResultCode resultCode; public CustomException(ResultCode resultCode) { //&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x4E3A;&#x9519;&#x8BEF;&#x4EE3;&#x7801;+&#x5F02;&#x5E38;&#x4FE1;&#x606F; super(&quot;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#xFF1A;&quot; + resultCode.code() + &quot;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#xFF1A;&quot; + resultCode.message()); this.resultCode = resultCode; } public ResultCode getResultCode() { return resultCode; } }throw new Exception(); &#x5BF9;&#x4EE3;&#x7801;&#x6CA1;&#x6709;&#x5165;&#x4FB5; 2.&#x5728;cms&#x5DE5;&#x7A0B;&#x5C01;&#x88C5;&#x5F02;&#x5E38;&#x629B;&#x51FA;&#x5DE5;&#x5177;&#x7C7B;public class ExceptionCast { public static void cast(ResultCode resultCode){ throw new CustomException(resultCode); } }3.&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x6355;&#x83B7;&#x7C7B;&#x4F7F;&#x7528; @ControllerAdvice&#x548C;@ExceptionHandler&#x6CE8;&#x89E3;&#x6765;&#x6355;&#x83B7;&#x6307;&#x5B9A;&#x7C7B;&#x578B;&#x7684;&#x5F02;&#x5E38; @ControllerAdvice//&#x63A7;&#x5236;&#x5668;&#x589E;&#x5F3A; public class ExceptionCatch { private static final Logger LOGGER = LoggerFactory.getLogger(ExceptionCatch.class); //&#x6355;&#x83B7;CustomException&#x6B64;&#x7C7B;&#x5F02;&#x5E38; @ExceptionHandler(CustomException.class) public ResponseResult customException(CustomException customException) { //&#x8BB0;&#x5F55;&#x65E5;&#x5FD7; LOGGER.error(&quot;catch exception:{}&quot;, customException.getMessage()); ResultCode resultCode = customException.getResultCode(); return new ResponseResult(resultCode); } }4.&#x5F02;&#x5E38;&#x5904;&#x7406;&#x6D4B;&#x8BD5;1.&#x4FEE;&#x6539;pageService&#x65B0;&#x589E;&#x9875;&#x9762;&#x7684;&#x65B9;&#x6CD5;,&#x6DFB;&#x52A0;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x4EE3;&#x7801; //&#x65B0;&#x589E;&#x9875;&#x9762; public CmsPageResult add(CmsPage cmsPage) { if(cmsPage == null){ //&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x975E;&#x6CD5;&#x53C2;&#x6570;&#x5F02;&#x5E38;..&#x6307;&#x5B9A;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x7684;&#x5185;&#x5BB9; } //&#x6821;&#x9A8C;&#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x7AD9;&#x70B9;Id&#x3001;&#x9875;&#x9762;webpath&#x7684;&#x552F;&#x4E00;&#x6027; //&#x6839;&#x636E;&#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x7AD9;&#x70B9;Id&#x3001;&#x9875;&#x9762;webpath&#x53BB;cms_page&#x96C6;&#x5408;&#xFF0C;&#x5982;&#x679C;&#x67E5;&#x5230;&#x8BF4;&#x660E;&#x6B64;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x67E5;&#x8BE2;&#x4E0D;&#x5230;&#x518D;&#x7EE7;&#x7EED;&#x6DFB;&#x52A0; CmsPage cmsPage1 = cmsPageRepository.findByPageNameAndSiteIdAndPageWebPath(cmsPage.getPageName(), cmsPage.getSiteId(), cmsPage.getPageWebPath()); if(cmsPage1!=null){ //&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x5B58;&#x5728; //&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x5F02;&#x5E38;&#x5185;&#x5BB9;&#x5C31;&#x662F;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x5B58;&#x5728; ExceptionCast.cast(CmsCode.CMS_ADDPAGE_EXISTSNAME); } //&#x8C03;&#x7528;dao&#x65B0;&#x589E;&#x9875;&#x9762; cmsPage.setPageId(null); cmsPageRepository.save(cmsPage); return new CmsPageResult(CommonCode.SUCCESS,cmsPage); }2.&#x6DFB;&#x52A0;&#x5305;&#x626B;&#x63CF;@ComponentScan(basePackages = &quot;com.xuecheng.framework&quot;)//&#x626B;&#x63CF;common&#x5DE5;&#x7A0B;&#x4E0B;&#x7684;&#x7C7B;3.&#x5728;ExceptionCatch&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;@ResponseBody4.&#x4F7F;&#x7528;SwaggerUI&#x6D4B;&#x8BD5;http://localhost:31001/swagger-ui.html#!5.&#x5728;page_add&#x9875;&#x9762;&#x5224;&#x65AD;&#x56DE;&#x8C03;&#x7684;&#x503C;addSubmit:function(){ this.$refs[&apos;pageForm&apos;].validate((valid) =&gt; { if (valid) {//&#x8868;&#x5355;&#x6821;&#x9A8C;&#x6210;&#x529F; //&#x786E;&#x8BA4;&#x63D0;&#x793A; this.$confirm(&apos;&#x60A8;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;?&apos;, &apos;&#x63D0;&#x793A;&apos;, { }).then(() =&gt; { //&#x8C03;&#x7528;page_add&#x65B9;&#x6CD5;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x65B0;&#x589E;&#x9875;&#x9762;&#x63A5;&#x53E3; cmsApi.page_add(this.pageForm).then(res=&gt;{ //&#x89E3;&#x6790;&#x670D;&#x52A1;&#x7AEF;&#x54CD;&#x5E94;&#x5185;&#x5BB9; if(res.success){ /*this.$message({ message: &apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;, type: &apos;success&apos; })*/ this.$message.success(&quot;&#x63D0;&#x4EA4;&#x6210;&#x529F;&quot;) //&#x5C06;&#x8868;&#x5355;&#x6E05;&#x7A7A; this.$refs[&apos;pageForm&apos;].resetFields(); }else if(res.message){ this.$message.error(res.message) }else{ this.$message.error(&quot;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&quot;) } }); }) } }); },&#x4E0D;&#x53EF;&#x9884;&#x77E5;&#x5F02;&#x5E38;(&#x6846;&#x67B6;&#x629B;&#x51FA;&#x6765;&#x7684;)1.&#x5728;ExceptionCatch&#x4E2D; //&#x6355;&#x83B7;Exception&#x6B64;&#x7C7B;&#x5F02;&#x5E38; @ExceptionHandler(Exception.class) public ResponseResult customException(Exception exception) { //&#x8BB0;&#x5F55;&#x65E5;&#x5FD7; LOGGER.error(&quot;catch exception:{}&quot;, exception.getMessage()); return new ResponseResult(CommonCode.SERVER_ERROR); }2.&#x5F02;&#x5E38;&#x629B;&#x51FA;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;postman&#x6D4B;&#x8BD5;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#xFF0C;&#x4E0D;&#x8F93;&#x5165;cmsPost&#x4FE1;&#x606F;&#xFF0C;&#x63D0;&#x4EA4;&#xFF0C;&#x62A5;&#x9519;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A; org.springframework.http.converter.HttpMessageNotReadableException &#x6B64;&#x5F02;&#x5E38;&#x662F;springMVC&#x5728;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x8F6C;&#x6362;&#x65F6;&#x62A5;&#x7684;&#x9519;&#x8BEF;&#x3002;&#x5177;&#x4F53;&#x7684;&#x54CD;&#x5E94;&#x7684;&#x4FE1;&#x606F;&#x4E3A;&#xFF1A; { &quot;timestamp&quot;: 1528712906727, &quot;status&quot;: 400, &quot;error&quot;: &quot;Bad Request&quot;, &quot;exception&quot;: &quot;org.springframework.http.converter.HttpMessageNotReadableException&quot;, &quot;message&quot;: &quot;Required request body is missing: public com.xuecheng.framework.domain.cms.response.CmsPageResult com.xuecheng.manage_cms.web.controller.CmsPageController.add(com.xuecheng.framework.domain.cms.C msPage)&quot;, &quot;path&quot;: &quot;/cms/page/add&quot; }3.&#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x7801;&#x5728;CommonCode&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x7801; INVALID_PARAM(false,10003,&quot;&#x975E;&#x6CD5;&#x53C2;&#x6570;&#xFF01;&quot;),4.&#x6784;&#x9020;&#x8FD4;&#x56DE;map@ControllerAdvice//&#x63A7;&#x5236;&#x5668;&#x589E;&#x5F3A; @ResponseBody public class ExceptionCatch { private static final Logger LOGGER = LoggerFactory.getLogger(ExceptionCatch.class); //&#x4F7F;&#x7528;EXCEPTIONS&#x5B58;&#x653E;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x548C;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x7684;&#x6620;&#x5C04;&#xFF0C;ImmutableMap&#x7684;&#x7279;&#x70B9;&#x7684;&#x4E00;&#x65E6;&#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x6539;&#x53D8;&#xFF0C;&#x5E76;&#x4E14;&#x7EBF;&#x7A0B;&#x5B89;&#x5168; private static ImmutableMap&lt;Class&lt;? extends Throwable&gt;, ResultCode&gt; EXCEPTIONS; //&#x4F7F;&#x7528;builder&#x6765;&#x6784;&#x5EFA;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x548C;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x7684;&#x5F02;&#x5E38; protected static ImmutableMap.Builder&lt;Class&lt;? extends Throwable&gt;, ResultCode&gt; builder = ImmutableMap.builder(); static{ //&#x5728;&#x8FD9;&#x91CC;&#x52A0;&#x5165;&#x4E00;&#x4E9B;&#x57FA;&#x7840;&#x7684;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x5224;&#x65AD; builder.put(HttpMessageNotReadableException.class,CommonCode.INVALID_PARAM); } //&#x6355;&#x83B7;CustomException&#x6B64;&#x7C7B;&#x5F02;&#x5E38; @ExceptionHandler(CustomException.class) public ResponseResult customException(CustomException customException) { //&#x8BB0;&#x5F55;&#x65E5;&#x5FD7; LOGGER.error(&quot;catch exception:{}&quot;, customException.getMessage()); ResultCode resultCode = customException.getResultCode(); return new ResponseResult(resultCode); } //&#x6355;&#x83B7;Exception&#x6B64;&#x7C7B;&#x5F02;&#x5E38; @ExceptionHandler(Exception.class) public ResponseResult customException(Exception exception) { //&#x8BB0;&#x5F55;&#x65E5;&#x5FD7; LOGGER.error(&quot;catch exception:{}&quot;, exception.getMessage()); if(EXCEPTIONS == null){ EXCEPTIONS = builder.build();//EXCEPTIONS&#x6784;&#x5EFA;&#x6210;&#x529F; } //&#x4ECE;EXCEPTIONS&#x4E2D;&#x627E;&#x5F02;&#x5E38;&#x7C7B;&#x578B;&#x6240;&#x5BF9;&#x5E94;&#x7684;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#xFF0C;&#x5982;&#x679C;&#x627E;&#x5230;&#x4E86;&#x5C06;&#x9519;&#x8BEF;&#x4EE3;&#x7801;&#x54CD;&#x5E94;&#x7ED9;&#x7528;&#x6237;&#xFF0C;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x7ED9;&#x7528;&#x6237;&#x54CD;&#x5E94;99999&#x5F02;&#x5E38; ResultCode resultCode = EXCEPTIONS.get(exception.getClass()); if(resultCode !=null){ return new ResponseResult(resultCode); }else{ //&#x8FD4;&#x56DE;99999&#x5F02;&#x5E38; return new ResponseResult(CommonCode.SERVER_ERROR); } } } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-7-ke-cheng-guan-li-shi-zhan.html</url>
    <content type="text"><![CDATA[&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x5B9E;&#x6218;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x9700;&#x6C42;&#x5206;&#x6790;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x901A;&#x8FC7;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x4FEE;&#x6539;&#x9875;&#x9762;&#xFF0C;&#x6B64;&#x9875;&#x9762;&#x663E;&#x793A;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x5217;&#x8868;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x53EF;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x7531;&#x4E8E;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x670D;&#x52A1;&#x5668;&#x6CA1;&#x6709;&#x642D;&#x5EFA;&#xFF0C;&#x8FD9;&#x91CC;&#x5728;&#x6D4B;&#x8BD5;&#x65F6;&#x56FE;&#x7247;&#x6682;&#x65F6;&#x65E0;&#x6CD5;&#x663E;&#x793A;&#x3002; &#x4E0A;&#x8FB9;&#x7684;&#x67E5;&#x8BE2;&#x8981;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x3001;&#x4F1A;&#x5B58;&#x5728;&#x591A;&#x8868;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#xFF0C;&#x6240;&#x4EE5;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;mybatis&#x5B9E;&#x73B0;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x67E5;&#x8BE2;&#x3002; API&#x63A5;&#x53E3;&#x8F93;&#x5165;&#x53C2;&#x6570;&#xFF1A; &#x9875;&#x7801;&#x3001;&#x6BCF;&#x9875;&#x663E;&#x793A;&#x4E2A;&#x6570;&#x3001;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; &#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x7C7B;&#x578B;&#xFF1A; QueryResponseResult&lt;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&gt; &#x5728;api&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;course&#x5305;&#xFF0C;&#x521B;&#x5EFA;CourseControllerApi&#x63A5;&#x53E3;&#x3002; //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x5217;&#x8868; @ApiOperation(&quot;&#x67E5;&#x8BE2;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x5217;&#x8868;&quot;) public QueryResponseResult&lt;CourseInfo&gt; findCourseList( int page, int size, CourseListRequest courseListRequest );PageHelper&#x4ECB;&#x7ECD;PageHelper&#x662F;mybatis&#x7684;&#x901A;&#x7528;&#x5206;&#x9875;&#x63D2;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;mybatis&#x7684;&#x62E6;&#x622A;&#x5668;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;&#x62E6;&#x622A;sql&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;&#xFF0C;&#x6DFB;&#x52A0;&#x5206;&#x9875;&#x8BED;&#x53E5;&#xFF0C;&#x6700;&#x7EC8;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x529F;&#x80FD;&#x3002; &#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x5177;&#x6709;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;Pagehelper&#x5B9E;&#x73B0;Mybatis&#x5206;&#x9875;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#xFF0C;&#x7531;&#x4E8E;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;springboot&#x5F00;&#x53D1;&#xFF0C;&#x5728;springboot&#x4E0A;&#x96C6;&#x6210;pagehelper&#xFF08;https://github.com/pagehelper/pagehelper-spring-boot&#xFF09; PageHelper&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x53CA;&#x539F;&#x7406;&#x5982;&#x4E0B;&#xFF1A; &#x5728;&#x8C03;&#x7528;dao&#x7684;service&#x65B9;&#x6CD5;&#x4E2D;&#x8BBE;&#x7F6E;&#x5206;&#x9875;&#x53C2;&#x6570;&#xFF1A;PageHelper.startPage(page, size)&#xFF0C;&#x5206;&#x9875;&#x53C2;&#x6570;&#x4F1A;&#x8BBE;&#x7F6E;&#x5728;ThreadLocal&#x4E2D; PageHelper&#x5728;mybatis&#x6267;&#x884C;sql&#x524D;&#x8FDB;&#x884C;&#x62E6;&#x622A;&#xFF0C;&#x4ECE;ThreadLocal&#x53D6;&#x51FA;&#x5206;&#x9875;&#x53C2;&#x6570;&#xFF0C;&#x4FEE;&#x6539;&#x5F53;&#x524D;&#x6267;&#x884C;&#x7684;sql&#x8BED;&#x53E5;&#xFF0C;&#x6DFB;&#x52A0;&#x5206;&#x9875;sql&#x3002; &#x6700;&#x540E;&#x6267;&#x884C;&#x6DFB;&#x52A0;&#x4E86;&#x5206;&#x9875;sql&#x7684;sql&#x8BED;&#x53E5;&#xFF0C;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x3002; 1.&#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;!--pagehelper--&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.2.4&lt;/version&gt; &lt;/dependency&gt;2.&#x914D;&#x7F6E;pageHelper&#x5728;application.yml&#x4E2D;&#x914D;&#x7F6E;pageHelper&#x64CD;&#x4F5C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7C7B;&#x578B;&#xFF1A; #&#x914D;&#x7F6E;pagehelper&#x65B9;&#x8A00; pagehelper: helper-dialect: mysql3.&#x6D4B;&#x8BD5;1.&#x5B9A;&#x4E49;mapper&#x63A5;&#x53E3;package com.xuecheng.manage_course.dao; import com.github.pagehelper.Page; import com.xuecheng.framework.domain.course.CourseBase; import com.xuecheng.framework.domain.course.ext.CourseInfo; import com.xuecheng.framework.domain.course.request.CourseListRequest; import org.apache.ibatis.annotations.Mapper; /** * Created by Administrator. */ @Mapper public interface CourseMapper { CourseBase findCourseBaseById(String id); //&#x5206;&#x9875;&#x63A5;&#x53E3; Page&lt;CourseInfo&gt; findCourseListPage(CourseListRequest courseListRequest); }2.&#x5B9A;&#x4E49;mapper.xml&#x6620;&#x5C04;&#x6587;&#x4EF6; &lt;select id=&quot;findCourseListPage&quot; resultType=&quot;com.xuecheng.framework.domain.course.ext.CourseInfo&quot; parameterType=&quot;com.xuecheng.framework.domain.course.request.CourseListRequest&quot;&gt; SELECT course_base.*, (SELECT pic FROM course_pic WHERE courseid = course_base.id) pic FROM course_base &lt;/select&gt;3.&#x6D4B;&#x8BD5;Dao //&#x6D4B;&#x8BD5;&#x5206;&#x9875; @Test public void testPageHelper(){ PageHelper.startPage(2, 1); CourseListRequest courseListRequest = new CourseListRequest(); Page&lt;CourseInfo&gt; courseListPage = courseMapper.findCourseListPage(courseListRequest); List&lt;CourseInfo&gt; result = courseListPage.getResult(); System.out.println(courseListPage); }4.&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x7EA7;&#x522B; &lt;root level=&quot;debug&quot;&gt; &lt;!--&lt;appender-ref ref=&quot;ASYNC&quot;/&gt;--&gt; &lt;appender-ref ref=&quot;FILE&quot;/&gt; &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt; &lt;/root&gt;5.&#x67E5;&#x770B;&#x63A7;&#x5236;&#x53F0;2019-10-09 13:11:45.604 [main] DEBUG c.x.m.d.C.findCourseList_COUNT - ==&gt; Preparing: SELECT count(0) FROM course_base 2019-10-09 13:11:45.808 [main] DEBUG c.x.m.d.C.findCourseList_COUNT - ==&gt; Parameters: 2019-10-09 13:11:45.985 [main] DEBUG c.x.m.d.C.findCourseList_COUNT - &lt;== Total: 1 2019-10-09 13:11:46.021 [main] DEBUG c.x.m.d.CourseMapper.findCourseList - ==&gt; Preparing: select * from course_base LIMIT ? 2019-10-09 13:11:46.024 [main] DEBUG c.x.m.d.CourseMapper.findCourseList - ==&gt; Parameters: 10(Integer) 2019-10-09 13:11:46.050 [main] DEBUG c.x.m.d.CourseMapper.findCourseList - &lt;== Total: 106.Service //&#x8BFE;&#x7A0B;&#x5217;&#x8868;&#x5206;&#x9875;&#x67E5;&#x8BE2; public QueryResponseResult&lt;CourseInfo&gt; findCourseList(int page,int size,CourseListRequest courseListRequest) { if(courseListRequest == null){ courseListRequest = new CourseListRequest(); } if(page&lt;=0){ page = 0; } if(size&lt;=0){ size = 20; } //&#x8BBE;&#x7F6E;&#x5206;&#x9875;&#x53C2;&#x6570; PageHelper.startPage(page, size); //&#x5206;&#x9875;&#x67E5;&#x8BE2; Page&lt;CourseInfo&gt; courseListPage = courseMapper.findCourseListPage(courseListRequest); //&#x67E5;&#x8BE2;&#x5217;&#x8868; List&lt;CourseInfo&gt; list = courseListPage.getResult(); //&#x603B;&#x8BB0;&#x5F55;&#x6570; long total = courseListPage.getTotal(); //&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x96C6; QueryResult&lt;CourseInfo&gt; courseIncfoQueryResult = new QueryResult&lt;CourseInfo&gt;(); courseIncfoQueryResult.setList(list); courseIncfoQueryResult.setTotal(total); return new QueryResponseResult&lt;CourseInfo&gt;(CommonCode.SUCCESS, courseIncfoQueryResult); }&#x8FD9;&#x91CC;&#x8981;&#x628A;&#x5B9E;&#x4F53;&#x7C7B;QueryResponseResult&#x52A0;&#x4E0A;&#x6CDB;QueryResponseResult 7.Controller@RestController @RequestMapping(&quot;/course&quot;) public class CourseController implements CourseControllerApi { @Autowired CourseService courseService; @Override @GetMapping(&quot;/coursebase/list/{page}/{size}&quot;) public QueryResponseResult&lt;CourseInfo&gt; findCourseList( @PathVariable(&quot;page&quot;) int page, @PathVariable(&quot;size&quot;) int size, CourseListRequest courseListRequest) { return courseService.findCourseList(page,size,courseListRequest); } }sss8.&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;postman&#x6216;swagger-ui&#x6D4B;&#x8BD5;&#x8BFE;&#x7A0B;&#x5217;&#x8868;&#x63A5;&#x53E3;&#x3002; &#x524D;&#x7AEF;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x5217;&#x8868;&#x4F7F;&#x7528;element &#x7684;card&#x7EC4;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 1.&#x9875;&#x9762;&lt;template&gt; &lt;section&gt; &lt;el-row &gt; &lt;el-col :span=&quot;8&quot; :offset=2 &gt; &lt;el-card :body-style=&quot;{ padding: &apos;10px&apos; }&quot;&gt; &lt;img src=&quot;/static/images/add.jpg&quot; class=&quot;image&quot; height=&quot;150px&quot;&gt; &lt;div style=&quot;padding: 10px;&quot;&gt; &lt;span&gt;&#x8BFE;&#x7A0B;&#x540D;&#x79F0;&lt;/span&gt; &lt;div class=&quot;bottom clearfix&quot;&gt; &lt;time class=&quot;time&quot;&gt;&lt;/time&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/add/base&apos;}&quot;&gt; &lt;el-button type=&quot;text&quot; class=&quot;button&quot; &gt;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&lt;/el-button&gt; &lt;/router-link&gt; &lt;/div&gt; &lt;/div&gt; &lt;/el-card&gt; &lt;/el-col&gt; &lt;el-col :span=&quot;8&quot; v-for=&quot;(course, index) in courses&quot; :key=&quot;course.id&quot; :offset=&quot;index &gt; 0 ? 2 : 2&quot;&gt; &lt;el-card :body-style=&quot;{ padding: &apos;10px&apos; }&quot;&gt; &lt;img :src=&quot;course.pic!=null?imgUrl+course.pic:&apos;/static/images/nonepic.jpg&apos;&quot; class=&quot;image&quot; height=&quot;150px&quot;&gt; &lt;div style=&quot;padding: 10px;&quot;&gt; &lt;span&gt;{{course.name}}&lt;/span&gt; &lt;div class=&quot;bottom clearfix&quot;&gt; &lt;time class=&quot;time&quot;&gt;&lt;/time&gt; &lt;el-button type=&quot;text&quot; class=&quot;button&quot; @click=&quot;handleManage(course.id)&quot;&gt;&#x7BA1;&#x7406;&#x8BFE;&#x7A0B;&lt;/el-button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/el-card&gt; &lt;/el-col&gt; &lt;!--&#x5206;&#x9875;--&gt; &lt;el-col :span=&quot;24&quot; class=&quot;toolbar&quot;&gt; &lt;el-pagination background layout=&quot;prev, pager, next&quot; @current-change=&quot;handleCurrentChange&quot; :page-size=&quot;size&quot; :total=&quot;total&quot; :current-page=&quot;page&quot; style=&quot;float:right;&quot;&gt; &lt;/el-pagination&gt; &lt;/el-col&gt; &lt;/el-row&gt; &lt;/section&gt; &lt;/template&gt; &lt;script&gt; import * as courseApi from &apos;../api/course&apos;; import utilApi from &apos;../../../common/utils&apos;; let sysConfig = require(&apos;@/../config/sysConfig&apos;) export default { data() { return { page:1, size:7, total: 0, courses: [ { id:&apos;4028e581617f945f01617f9dabc40000&apos;, name:&apos;test01&apos;, pic:&apos;&apos; }, { id:&apos;test02&apos;, name:&apos;test02&apos;, pic:&apos;&apos; } ], sels: [],//&#x5217;&#x8868;&#x9009;&#x4E2D;&#x5217; imgUrl:sysConfig.imgUrl } }, methods: { //&#x5206;&#x9875;&#x65B9;&#x6CD5; handleCurrentChange(val) { this.page = val; this.getCourse(); }, //&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x5217;&#x8868; getCourse() { courseApi.findCourseList(this.page,this.size,{}).then((res) =&gt; { console.log(res); if(res.success){ this.total = res.queryResult.total; this.courses = res.queryResult.list; } }); }, handleManage: function (id) { console.log(id) this.$router.push({ path: &apos;/course/manager/&apos;+id}) } }, created(){ }, mounted() { //&#x67E5;&#x8BE2;&#x6211;&#x7684;&#x8BFE;&#x7A0B; this.getCourse(); } } &lt;/script&gt;2.&#x5728;index.js&#x914D;&#x7F6E;&#x8DEF;&#x7531;&#x6620;&#x5C04;&#x5230;&#x54EA;&#x4E2A;&#x9875;&#x9762; { path: &apos;/course/list&apos;, name: &apos;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&apos;,component: course_list,hidden: false },3.&#x5B9A;&#x4E49;Api&#x65B9;&#x6CD5;&#x53D1;&#x9001;&#x8BF7;&#x6C42; //&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x5217;&#x8868; export const findCourseList = (page,size,params) =&gt; { //&#x4F7F;&#x7528;&#x5DE5;&#x5177;&#x7C7B;&#x5C06;json&#x5BF9;&#x8C61;&#x8F6C;&#x6210;key/value let queries = querystring.stringify(params) return http.requestQuickGet(apiUrl+&quot;/course/coursebase/list/&quot;+page+&quot;/&quot;+size+&quot;?&quot;+queries) }4.&#x8C03;&#x7528;&#x65B9;&#x6CD5;&#xFF1A; //&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x5217;&#x8868; getCourse() { courseApi.findCourseList(this.page,this.size,{}).then((res) =&gt; { console.log(res); if(res.success){ this.total = res.queryResult.total; this.courses = res.queryResult.list; } }); },&#x5728;mounted&#x94A9;&#x5B50;&#x4E2D;&#x8C03;&#x7528;getCourse&#x65B9;&#x6CD5; mounted() { //&#x67E5;&#x8BE2;&#x6211;&#x7684;&#x8BFE;&#x7A0B; this.getCourse(); }&#x5728;&#x5206;&#x9875;&#x65B9;&#x6CD5;&#x4E2D;&#x8C03;&#x7528;getCourse&#x65B9;&#x6CD5; //&#x5206;&#x9875;&#x65B9;&#x6CD5; handleCurrentChange(val) { this.page = val; this.getCourse(); },&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x9700;&#x6C42;&#x5206;&#x6790;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x201C;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x201D;&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x201D;&#xFF0C;&#x8FDB;&#x5165;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x9875;&#x9762; 2&#x3001;&#x586B;&#x5199;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#xFF0C;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x3001;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x3001;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&#x7B49;&#x3002; 3&#x3001;&#x4FE1;&#x606F;&#x586B;&#x5199;&#x5B8C;&#x6BD5;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x63D0;&#x4EA4;&#x201D;&#xFF0C;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x6210;&#x529F;&#x6216;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x5931;&#x8D25;&#x5E76;&#x63D0;&#x793A;&#x5931;&#x8D25;&#x539F;&#x56E0;&#x3002; &#x9700;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x662F;&#x5728;&#x65B0;&#x589E;&#x9875;&#x9762;&#x4E0A;&#x8F93;&#x5165;&#x7684;&#x4FE1;&#x606F;&#xFF1A; 1&#x3001;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B; &#x591A;&#x7EA7;&#x5206;&#x7C7B;&#xFF0C;&#x9700;&#x8981;&#x65B9;&#x4FBF;&#x7528;&#x6237;&#x53BB;&#x9009;&#x62E9;&#x3002; 2&#x3001;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x3001;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&#x7B49;&#x8FD9;&#x4E9B;&#x9009;&#x9879;&#x5EFA;&#x8BAE;&#x662F;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x7684;&#x3002; &#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x67E5;&#x8BE2;&#x200B; &#x5728;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x754C;&#x9762;&#x9700;&#x8981;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x6240;&#x5C5E;&#x5206;&#x7C7B;&#xFF0C; &#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x662F;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8BFE;&#x7A0B;&#x5373;&#x5546;&#x54C1;&#xFF0C;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x8BBE;&#x7F6E;&#x7684;&#x597D;&#x574F;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x91CF;&#x3002; &#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x5728;&#x54EA;&#x91CC;&#x5E94;&#x7528;&#xFF1F; 1&#x3001;&#x9996;&#x9875;&#x5206;&#x7C7B;&#x5BFC;&#x822A; 2&#x3001;&#x8BFE;&#x7A0B;&#x7684;&#x5F52;&#x5C5E;&#x5730; &#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x65F6;&#x8981;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x7684;&#x6240;&#x5C5E;&#x5206;&#x7C7B;&#x3002; &#x8868;&#x7ED3;&#x6784;&#x5206;&#x7C7B;&#x8868;category&#x7684;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x5206;&#x7C7B;&#x67E5;&#x8BE2;&#x5728;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x65F6;&#x9700;&#x8981;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x6240;&#x5C5E;&#x7684;&#x5206;&#x7C7B;&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x3002; &#x63A5;&#x53E3;&#x683C;&#x5F0F;&#x8981;&#x6839;&#x636E;&#x524D;&#x7AEF;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x6765;&#x5B9A;&#x4E49;&#xFF0C;&#x524D;&#x7AEF;&#x5C55;&#x793A;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x4F7F;&#x7528;elemenet-ui&#x7684;cascader&#xFF08;&#x7EA7;&#x8054;&#x9009;&#x62E9;&#x5668;&#xFF09;&#x7EC4;&#x4EF6;&#x3002; &#x6570;&#x636E;&#x683C;&#x5F0F;&#x4F8B;&#x5B50;&#x5982;&#x4E0B;&#xFF1A; [ { value: &apos;zhinan&apos;, label: &apos;&#x6307;&#x5357;&apos;, children: [{ value: &apos;shejiyuanze&apos;, label: &apos;&#x8BBE;&#x8BA1;&#x539F;&#x5219;&apos;, children: [{ value: &apos;yizhi&apos;, label: &apos;&#x4E00;&#x81F4;&apos; }, { value: &apos;fankui&apos;, label: &apos;&#x53CD;&#x9988;&apos; }, { value: &apos;xiaolv&apos;, label: &apos;&#x6548;&#x7387;&apos; }, { value: &apos;kekong&apos;, label: &apos;&#x53EF;&#x63A7;&apos; }] }] } ]&#x6570;&#x636E;&#x6A21;&#x578B;1&#xFF09;&#x5B9A;&#x4E49;category&#x7684;&#x6A21;&#x578B; com.xuecheng.framework.domain.course&#x5305;&#x4E0B; category&#x6A21;&#x578B;&#x5BF9;&#x6570;&#x636E;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; @Data @ToString @Entity @Table(name=&quot;category&quot;) @GenericGenerator(name = &quot;jpa-assigned&quot;, strategy = &quot;assigned&quot;) //@GenericGenerator(name = &quot;jpa-uuid&quot;, strategy = &quot;uuid&quot;) public class Category implements Serializable { private static final long serialVersionUID = -906357110051689484L; @Id @GeneratedValue(generator = &quot;jpa-assigned&quot;) @Column(length = 32) private String id; private String name; private String label; private String parentid; private String isshow; private Integer orderby; private String isleaf; }2&#xFF09;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x683C;&#x5F0F; @Data @ToString public class CategoryNode extends Category { List&lt;CategoryNode&gt; children; }Api&#x63A5;&#x53E3;import com.xuecheng.framework.domain.course.ext.CategoryNode; import io.swagger.annotations.Api; import io.swagger.annotations.ApiOperation; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.ResponseBody; @Api(value = &quot;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&quot;,description = &quot;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&quot;,tags = {&quot;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&quot;}) public interface CategoryControllerApi { @ApiOperation(&quot;&#x67E5;&#x8BE2;&#x5206;&#x7C7B;&quot;) public CategoryNode findList(); }Dao&#x6839;&#x636E;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x7684;&#x5206;&#x6790;&#xFF0C;&#x6B64;&#x67E5;&#x8BE2;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x6811;&#x578B;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x4E3A;&#x4E86;&#x5F00;&#x53D1;&#x65B9;&#x4FBF;&#x6211;&#x4EEC;&#x4F7F;&#x7528;mybatis&#x5B9E;&#x73B0;&#x67E5;&#x8BE2; &#x3002; 1&#xFF09;&#x5B9A;&#x4E49;mapper @Mapper public interface CategoryMapper { //&#x67E5;&#x8BE2;&#x5206;&#x7C7B; public CategoryNode selectList(); }2&#xFF09;&#x5B9A;&#x4E49;mapper&#x6620;&#x5C04;&#x6587;&#x4EF6; &#x91C7;&#x7528;&#x8868;&#x7684;&#x81EA;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x8F93;&#x51FA;&#x6811;&#x578B;&#x7ED3;&#x679C;&#x96C6;&#x3002; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt; &lt;mapper namespace=&quot;com.xuecheng.manage_course.dao.CategoryMapper&quot;&gt; &lt;resultMap id=&quot;categoryMap&quot; type=&quot;com.xuecheng.framework.domain.course.ext.CategoryNode&quot;&gt; &lt;id column=&quot;one_id&quot; property=&quot;id&quot;/&gt; &lt;result property=&quot;name&quot; column=&quot;one_name&quot;/&gt; &lt;result property=&quot;label&quot; column=&quot;one_label&quot;/&gt; &lt;result property=&quot;isshow&quot; column=&quot;one_isshow&quot;/&gt; &lt;result property=&quot;isleaf&quot; column=&quot;one_isleaf&quot;/&gt; &lt;result property=&quot;orderby&quot; column=&quot;one_orderby&quot;/&gt; &lt;result property=&quot;parentid&quot; column=&quot;one_parentid&quot;/&gt; &lt;collection property=&quot;children&quot; ofType=&quot;com.xuecheng.framework.domain.course.ext.CategoryNode&quot;&gt; &lt;id property=&quot;id&quot; column=&quot;two_id&quot;/&gt; &lt;result property=&quot;name&quot; column=&quot;two_name&quot;/&gt; &lt;result property=&quot;label&quot; column=&quot;two_label&quot;/&gt; &lt;result property=&quot;isshow&quot; column=&quot;two_isshow&quot;/&gt; &lt;result property=&quot;isleaf&quot; column=&quot;two_isleaf&quot;/&gt; &lt;result property=&quot;orderby&quot; column=&quot;two_orderby&quot;/&gt; &lt;result property=&quot;parentid&quot; column=&quot;two_parentid&quot;/&gt; &lt;collection property=&quot;children&quot; ofType=&quot;com.xuecheng.framework.domain.course.ext.CategoryNode&quot;&gt; &lt;id property=&quot;id&quot; column=&quot;three_id&quot;/&gt; &lt;result property=&quot;name&quot; column=&quot;three_name&quot;/&gt; &lt;result property=&quot;label&quot; column=&quot;three_label&quot;/&gt; &lt;result property=&quot;isshow&quot; column=&quot;three_isshow&quot;/&gt; &lt;result property=&quot;isleaf&quot; column=&quot;three_isleaf&quot;/&gt; &lt;result property=&quot;orderby&quot; column=&quot;three_orderby&quot;/&gt; &lt;result property=&quot;parentid&quot; column=&quot;three_parentid&quot;/&gt; &lt;/collection&gt; &lt;/collection&gt; &lt;/resultMap&gt; &lt;select id=&quot;selectList&quot; resultMap=&quot;categoryMap&quot; &gt; SELECT a.id one_id, a.name one_name, a.label one_label, a.isshow one_isshow, a.isleaf one_isleaf, a.orderby one_orderby, a.parentid one_parentid, b.id two_id, b.name two_name, b.label two_label, b.isshow two_isshow, b.isleaf two_isleaf, b.orderby two_orderby, b.parentid two_parentid, c.id three_id, c.name three_name, c.label three_label, c.isshow three_isshow, c.isleaf three_isleaf, c.orderby three_orderby, c.parentid three_parentid FROM category a LEFT JOIN category b ON a.id = b.parentid LEFT JOIN category c ON b.id = c.parentid WHERE a.parentid = &apos;0&apos; ORDER BY a.orderby, b.orderby, c.orderby &lt;/select&gt; &lt;/mapper&gt;Service@Service public class CategoryService { @Autowired CategoryMapper categoryMapper; //&#x67E5;&#x8BE2;&#x5206;&#x7C7B; public CategoryNode findList(){ return categoryMapper.selectList(); } }Controller@RestController @RequestMapping(&quot;/category&quot;) public class CategoryController implements CategoryControllerApi { @Autowired CategoryService categoryService; @Override @GetMapping(&quot;/list&quot;) public CategoryNode findList() { return categoryService.findList(); } }&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;swagger-ui&#x6216;postman&#x6D4B;&#x8BD5;&#x63A5;&#x53E3;&#x3002; &#x6570;&#x636E;&#x5B57;&#x5178;&#x200B; &#x5728;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x754C;&#x9762;&#x9700;&#x8981;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x3001;&#x8BFE;&#x7A0B;&#x72B6;&#x6001;&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x7EDF;&#x4E00;&#x91C7;&#x7528;&#x6570;&#x636E;&#x5B57;&#x5178;&#x7BA1;&#x7406;&#x7684;&#x65B9;&#x5F0F;&#x3002; &#x200B; &#x672C;&#x9879;&#x76EE;&#x5BF9;&#x4E00;&#x4E9B;&#x4E1A;&#x52A1;&#x7684;&#x5206;&#x7C7B;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x3001;&#x8BFE;&#x7A0B;&#x72B6;&#x6001;&#x3001;&#x7528;&#x6237;&#x7C7B;&#x578B;&#x3001;&#x7528;&#x6237;&#x72B6;&#x6001;&#x7B49;&#x8FDB;&#x884C;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#xFF0C;&#x901A;&#x8FC7;&#x5728;&#x6570;&#x636E;&#x5E93;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5B57;&#x5178;&#x8868;&#x6765;&#x7EF4;&#x62A4;&#x8FD9;&#x4E9B;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x3002; &#x200B; &#x6570;&#x636E;&#x5B57;&#x5178;&#x5BF9;&#x7CFB;&#x7EDF;&#x7684;&#x4E1A;&#x52A1;&#x5206;&#x7C7B;&#x8FDB;&#x884C;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x786C;&#x7F16;&#x7801;&#x95EE;&#x9898;&#xFF0C;&#x6BD4;&#x5982;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x65F6;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#xFF0C;&#x4E0B;&#x62C9;&#x6846;&#x4E2D;&#x7684;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x4FE1;&#x606F;&#x5982;&#x679C;&#x5728;&#x9875;&#x9762;&#x786C;&#x7F16;&#x7801;&#x5C06;&#x9020;&#x6210;&#x4E0D;&#x6613;&#x4FEE;&#x6539;&#x7EF4;&#x62A4;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x4ECE;&#x6570;&#x636E;&#x5B57;&#x5178;&#x8868;&#x4E2D;&#x83B7;&#x53D6;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x4FEE;&#x6539;&#x540D;&#x79F0;&#x5219;&#x5728;&#x6570;&#x636E;&#x5B57;&#x5178;&#x4FEE;&#x6539;&#x5373;&#x53EF;&#xFF0C;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x7684;&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#x3002; &#x6570;&#x636E;&#x6A21;&#x578B;&#x5728;mongodb&#x4E2D;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5B57;&#x5178;&#x8868;sys_dictionary &#x4E00;&#x4E2A;&#x5B57;&#x5178;&#x4FE1;&#x606F;&#x5982;&#x4E0B;&#xFF1A; { &quot;_id&quot; : ObjectId(&quot;5a7e8d2dd019f15418fa2b71&quot;), &quot;d_name&quot; : &quot;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&quot;, &quot;d_type&quot; : &quot;200&quot;, &quot;d_value&quot; : [ { &quot;sd_name&quot; : &quot;&#x4F4E;&#x7EA7;&quot;, &quot;sd_id&quot; : &quot;200001&quot;, &quot;sd_status&quot; : &quot;1&quot; }, { &quot;sd_name&quot; : &quot;&#x4E2D;&#x7EA7;&quot;, &quot;sd_id&quot; : &quot;200002&quot;, &quot;sd_status&quot; : &quot;1&quot; }, { &quot;sd_name&quot; : &quot;&#x9AD8;&#x7EA7;&quot;, &quot;sd_id&quot; : &quot;200003&quot;, &quot;sd_status&quot; : &quot;1&quot; } ] }&#x5B57;&#x6BB5;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#xFF1A; d_name&#xFF1A;&#x5B57;&#x5178;&#x540D;&#x79F0; d_type&#xFF1A;&#x5B57;&#x5178;&#x5206;&#x7C7B; d_value&#xFF1A;&#x5B57;&#x5178;&#x6570;&#x636E; &#x200B; sd_name&#xFF1A;&#x9879;&#x76EE;&#x540D;&#x79F0; &#x200B; sd_id&#xFF1A;&#x9879;&#x76EE;id &#x200B; sd_status&#xFF1A;&#x9879;&#x76EE;&#x72B6;&#x6001;&#xFF08;1&#xFF1A;&#x53EF;&#x7528;&#xFF0C;0&#x4E0D;&#x53EF;&#x7528;&#xFF09; &#x6570;&#x636E;&#x6A21;&#x578B;&#x7C7B;&#xFF1A; @Data @ToString @Document(collection = &quot;sys_dictionary&quot;) public class SysDictionary { @Id private String id; @Field(&quot;d_name&quot;) private String dName; @Field(&quot;d_type&quot;) private String dType; @Field(&quot;d_value&quot;) private List&lt;SysDictionaryValue&gt; dValue; }SysDictionaryValue&#x7C7B;&#x578B;&#xFF1A; @Data @ToString public class SysDictionaryValue { @Field(&quot;sd_id&quot;) private String sdId; @Field(&quot;sd_name&quot;) private String sdName; @Field(&quot;sd_status&quot;) private String sdStatus; }&#x5B57;&#x5178;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;API&#x63A5;&#x53E3;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x5176;&#x5B83;&#x5B50;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;&#xFF0C;&#x5728;cms&#x6A21;&#x5757;&#x4E0B;&#x521B;&#x5EFA;&#x5B57;&#x5178;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF0C;&#x6839;&#x636E;&#x5B57;&#x5178;&#x7684;type&#x67E5;&#x8BE2;&#x5B57;&#x5178;&#x4FE1;&#x606F;&#xFF0C;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; @Api(value = &quot;&#x6570;&#x636E;&#x5B57;&#x5178;&#x63A5;&#x53E3;&quot;,description = &quot;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x5B57;&#x5178;&#x63A5;&#x53E3;&#x7684;&#x7BA1;&#x7406;&#x3001;&#x67E5;&#x8BE2;&#x529F;&#x80FD;&quot;) public interface SysDicthinaryControllerApi { //&#x6570;&#x636E;&#x5B57;&#x5178; @ApiOperation(value=&quot;&#x6570;&#x636E;&#x5B57;&#x5178;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&quot;) public SysDictionary getByType(String type); }Dao&#x5728;cms&#x6A21;&#x5757;&#x4E0B;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x7684;dao&#x3001;service&#x7B49;&#x7C7B;&#x3002; @Repository public interface SysDictionaryDao extends MongoRepository&lt;SysDictionary,String&gt; { //&#x6839;&#x636E;&#x5B57;&#x5178;&#x5206;&#x7C7B;&#x67E5;&#x8BE2;&#x5B57;&#x5178;&#x4FE1;&#x606F; SysDictionary findBydType(String dType); }Service@Service public class SysdictionaryService { @Autowired SysDictionaryDao sysDictionaryDao; //&#x6839;&#x636E;&#x5B57;&#x5178;&#x5206;&#x7C7B;type&#x67E5;&#x8BE2;&#x5B57;&#x5178;&#x4FE1;&#x606F; public SysDictionary findDictionaryByType(String type){ return sysDictionaryDao.findBydType(type); } }controller@RestController @RequestMapping(&quot;/sys/dictionary&quot;) public class SysDictionaryController implements SysDicthinaryControllerApi { @Autowired SysdictionaryService sysdictionaryService; //&#x6839;&#x636E;&#x5B57;&#x5178;&#x5206;&#x7C7B;id&#x67E5;&#x8BE2;&#x5B57;&#x5178;&#x4FE1;&#x606F; @Override @GetMapping(&quot;/get/{type}&quot;) public SysDictionary getByType(@PathVariable(&quot;type&quot;) String type) { SysDictionary sysDictionary = sysdictionaryService.findDictionaryByType(type); return sysDictionary; } }&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;swagger-ui&#x6216;postman&#x6D4B;&#x8BD5;&#x63A5;&#x53E3;&#x3002; &#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x9875;&#x9762;&#x5B8C;&#x5584;&#x672C;&#x8282;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x5B57;&#x5178;&#x663E;&#x793A;&#x53CA;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x663E;&#x793A;&#x3002; &#x9875;&#x9762;1)&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 2)&#x521B;&#x5EFA;course_add.vue&#x9875;&#x9762; &#x5728;teach&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x7684;course&#x6A21;&#x5757;&#x4E0B;&#x521B;&#x5EFA;course_add.vue&#x9875;&#x9762;&#x3002; &lt;template&gt; &lt;div&gt; &lt;el-form :model=&quot;courseForm&quot; label-width=&quot;80px&quot; :rules=&quot;courseRules&quot; ref=&quot;courseForm&quot;&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x540D;&#x79F0;&quot; prop=&quot;name&quot;&gt; &lt;el-input v-model=&quot;courseForm.name&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x9002;&#x7528;&#x4EBA;&#x7FA4;&quot; prop=&quot;users&quot;&gt; &lt;el-input type=&quot;textarea&quot; v-model=&quot;courseForm.users&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&quot; prop=&quot;categoryActive&quot;&gt; &lt;el-cascader expand-trigger=&quot;hover&quot; :options=&quot;categoryList&quot; v-model=&quot;categoryActive&quot; :props=&quot;props&quot;&gt; &lt;/el-cascader&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&quot; prop=&quot;grade&quot;&gt; &lt;b v-for=&quot;grade in gradeList&quot;&gt; &lt;el-radio v-model=&quot;courseForm.grade&quot; :label=&quot;grade.sdId&quot; &gt;{{grade.sdName}}&lt;/el-radio&gt;&amp;nbsp;&amp;nbsp; &lt;/b&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&quot; prop=&quot;studymodel&quot;&gt; &lt;b v-for=&quot;studymodel_v in studymodelList&quot;&gt; &lt;el-radio v-model=&quot;courseForm.studymodel&quot; :label=&quot;studymodel_v.sdId&quot; &gt;{{studymodel_v.sdName}}&lt;/el-radio&gt;&amp;nbsp;&amp;nbsp; &lt;/b&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x4ECB;&#x7ECD;&quot; prop=&quot;description&quot;&gt; &lt;el-input type=&quot;textarea&quot; v-model=&quot;courseForm.description&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt; &lt;el-button type=&quot;primary&quot; @click.native=&quot;save&quot; &gt;&#x63D0;&#x4EA4;&lt;/el-button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import * as courseApi from &apos;../api/course&apos;; import utilApi from &apos;../../../common/utils&apos;; import * as systemApi from &apos;../../../base/api/system&apos;; export default { data() { return { studymodelList:[], gradeList:[], props: { value: &apos;id&apos;, label:&apos;name&apos;, children:&apos;children&apos; }, categoryList: [], categoryActive:[], courseForm: { id:&apos;&apos;, name: &apos;&apos;, users: &apos;&apos;, grade:&apos;&apos;, studymodel:&apos;&apos;, mt:&apos;&apos;, st:&apos;&apos;, description: &apos;&apos; }, courseRules: { name: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x8BFE;&#x7A0B;&#x540D;&#x79F0;&apos;, trigger: &apos;blur&apos;} ], category: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&apos;, trigger: &apos;blur&apos;} ], grade: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&apos;, trigger: &apos;blur&apos;} ], studymodel: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&apos;, trigger: &apos;blur&apos;} ] } } }, methods: { //&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x63D0;&#x4EA4; save () { //&#x5904;&#x7406;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B; // &#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x5B58;&#x50A8;&#x5230;categoryActive this.courseForm.mt= this.categoryActive[0]//&#x5927;&#x5206;&#x7C7B; this.courseForm.st= this.categoryActive[1]//&#x5C0F;&#x5206;&#x7C7B; courseApi.addCourseBase(this.courseForm).then(res=&gt;{ if(res.success){ this.$message.success(&quot;&#x63D0;&#x4EA4;&#x6210;&#x529F;&quot;) //&#x8DF3;&#x8F6C;&#x5230;&#x6211;&#x7684;&#x8BFE;&#x7A0B; this.$router.push({ path: &apos;/course/list&apos;}) }else{ this.$message.error(res.message) } }) } }, created(){ }, mounted(){ // &#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B; courseApi.category_findlist().then(res=&gt;{ this.categoryList = res.children; console.log(this.categoryList) }) //&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5B57;&#x5178; //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7; systemApi.sys_getDictionary(&quot;200&quot;).then(res=&gt;{ this.gradeList = res.dvalue; }) //&#x67E5;&#x8BE2;&#x5B66;&#x4E60;&#x6A21;&#x5F0F; systemApi.sys_getDictionary(&quot;201&quot;).then(res=&gt;{ this.studymodelList = res.dvalue; }) } } &lt;/script&gt; &lt;style scoped&gt; &lt;/style&gt;3&#xFF09;&#x9875;&#x9762;&#x8DEF;&#x7531; { path: &apos;/course/add/base&apos;, name: &apos;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&apos;,component: course_add,hidden: true },4&#xFF09;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x94FE;&#x63A5; &#x5728;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#x9875;&#x9762;&#x6DFB;&#x52A0;&#x201C;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x201D;&#x94FE;&#x63A5; &#x5728;course_list.vue &#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/add/base&apos;}&quot;&gt; &lt;el-button type=&quot;text&quot; class=&quot;button&quot; &gt;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&lt;/el-button&gt; &lt;/router-link&gt;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5B57;&#x5178;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x4E2D;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x3001;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&#x9700;&#x8981;&#x4ECE;&#x6570;&#x636E;&#x5B57;&#x5178;&#x67E5;&#x8BE2;&#x5B57;&#x5178;&#x4FE1;&#x606F;&#x3002; 1&#xFF09;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5; &#x6570;&#x636E;&#x5B57;&#x5178;&#x67E5;&#x8BE2; &#x4E3A;&#x516C;&#x7528;&#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x5B9A;&#x4E49;&#x5728;/base/api/system.js&#x4E2D; let sysConfig = require(&apos;@/../config/sysConfig&apos;) let apiUrl = sysConfig.xcApiUrlPre; /*&#x6570;&#x636E;&#x5B57;&#x5178; */ export const sys_getDictionary= dType =&gt; { return http.requestQuickGet(apiUrl+&apos;/sys/dictionary/get/&apos;+dType) }2&#xFF09;&#x5728;&#x9875;&#x9762;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5B57;&#x5178; &#x5728;mounted&#x94A9;&#x5B50;&#x4E2D;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; //&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5B57;&#x5178;&#x5B57;&#x5178; systemApi.sys_getDictionary(&apos;201&apos;).then((res) =&gt; { this.studymodelList = res.dvalue; }); systemApi.sys_getDictionary(&apos;200&apos;).then((res) =&gt; { this.gradeList = res.dvalue; });3&#xFF09;&#x6548;&#x679C; &#x5751;:&#x72B6;&#x6001;&#x7801;504&#x68C0;&#x67E5;proxyTable&#x91CC;&#x9762;&#x8DEF;&#x5F84;&#x7AEF;&#x53E3;&#x662F;&#x5426;&#x6709;&#x95EE;&#x9898; &#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x4E2D;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x91C7;&#x7528;Cascader&#x7EC4;&#x4EF6;&#x5B8C;&#x6210;&#x3002; Cascader&#x7EA7;&#x8054;&#x9009;&#x62E9;&#x5668; 1&#xFF09;&#x9875;&#x9762; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&quot; prop=&quot;categoryActive&quot;&gt; &lt;el-cascader expand-trigger=&quot;hover&quot; :options=&quot;categoryList&quot; v-model=&quot;categoryActive&quot; :props=&quot;props&quot;&gt; &lt;/el-cascader&gt; &lt;/el-form-item&gt;2&#xFF09;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5; /*&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B; */ export const category_findlist= () =&gt; { return http.requestQuickGet(apiUrl+&apos;/category/list&apos;) }3&#xFF09;&#x5728;&#x9875;&#x9762;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B; &#x5728;mounted&#x94A9;&#x5B50;&#x4E2D;&#x5B9A;&#x4E49; //&#x53D6;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B; courseApi.category_findlist({}).then((res) =&gt; { this.categoryList = res.children; });4&#xFF09;&#x6548;&#x679C; 5) &#x5982;&#x4F55;&#x83B7;&#x53D6;&#x9009;&#x62E9;&#x7684;&#x5206;&#x7C7B; &#x7528;&#x6237;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x540E;&#xFF0C;&#x6240;&#x9009;&#x5206;&#x7C7B;ID&#x7ED1;&#x5B9A;&#x5230;categoryActive&#xFF08;&#x6570;&#x7EC4;&#xFF09;&#x4E2D;&#xFF0C;&#x9009;&#x62E9;&#x4E86;&#x4E00;&#x7EA7;&#x3001;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B;&#xFF0C;&#x5206;&#x522B;&#x5B58;&#x50A8;&#x5728;categoryActive&#x6570;&#x7EC4;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x3001;&#x7B2C;&#x4E8C;&#x4E2A;&#x5143;&#x7D20;&#x4E2D;&#x3002; API&#x63A5;&#x53E3;&#x521B;&#x5EFA;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x63D0;&#x4EA4;&#x63A5;&#x53E3;&#xFF1A; @ApiOperation(&quot;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x57FA;&#x7840;&#x4FE1;&#x606F;&quot;) public AddCourseResult addCourseBase(CourseBase courseBase);Daopublic interface CourseBaseRepository extends JpaRepository&lt;CourseBase,String&gt; { } Service //&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x63D0;&#x4EA4; @Transactional public AddCourseResult addCourseBase(CourseBase courseBase) { //&#x8BFE;&#x7A0B;&#x72B6;&#x6001;&#x9ED8;&#x8BA4;&#x4E3A;&#x672A;&#x53D1;&#x5E03; courseBase.setStatus(&quot;202001&quot;); courseBaseRepository.save(courseBase); return new AddCourseResult(CommonCode.SUCCESS,courseBase.getId()); }Controller @Override public AddCourseResult addCourseBase(CourseBase courseBase) { return courseService.addCourseBase(courseBase); }&#x524D;&#x7AEF;Api&#x5B9A;&#x4E49;&#x5728;&#x524D;&#x7AEF;&#x5B9A;&#x4E49;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x7684;api&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;course&#x6A21;&#x5757;&#x4E2D;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; /*&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x57FA;&#x7840;&#x4FE1;&#x606F;*/ export const addCourseBase = params =&gt; { return http.requestPost(apiUrl+&apos;/course/coursebase/add&apos;,params) }Api&#x8C03;&#x7528;&#x5728;course_add.vue &#x8C03;&#x7528;api&#x63D0;&#x4EA4;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; methods: { //&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x63D0;&#x4EA4; save () { this.$refs.courseForm.validate((valid) =&gt; { if (valid) { this.$confirm(&apos;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;&#xFF1F;&apos;, &apos;&#x63D0;&#x793A;&apos;, {}).then(() =&gt; { //&#x5F53;&#x524D;&#x9009;&#x62E9;&#x7684;&#x5206;&#x7C7B; let mt = this.categoryActive[0]; let st = this.categoryActive[1]; this.courseForm.mt = mt; this.courseForm.st = st; //&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x63A5;&#x53E3; courseApi.addCourseBase(this.courseForm).then((res) =&gt; { if(res.success){ this.$message.success(&apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;); //&#x8DF3;&#x8F6C;&#x5230;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; //this.$router.push({ path: &apos;/course/add/picture/1/&apos;+this.courseid}) }else{ if(res.message){ this.$message.error(res.message); }else{ this.$message.error(&apos;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&apos;); } } }); }); } }); } },&#x6D4B;&#x8BD5;&#x6CE8;&#x610F;&#xFF1A;&#x5C06;course_base&#x8868;&#x4E2D;&#x7684;company_id&#x6539;&#x4E3A;&#x975E;&#x5FC5;&#x586B;&#xFF0C;&#x5F85;&#x8BA4;&#x8BC1;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#x518D;&#x4FEE;&#x6539;&#x4E3A;&#x5FC5;&#x586B; &#x6D4B;&#x8BD5;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x8FDB;&#x5165;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x201D;&#x6253;&#x5F00;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&#x9875;&#x9762; 2&#x3001;&#x8F93;&#x5165;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#xFF0C;&#x70B9;&#x51FB;&#x63D0;&#x4EA4; &#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x4FEE;&#x6539;&#x9700;&#x6C42;&#x5206;&#x6790;&#x8BFE;&#x7A0B;&#x6DFB;&#x52A0;&#x6210;&#x529F;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x901A;&#x8FC7;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x3001;&#x7F16;&#x8F91;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x3001;&#x7F16;&#x8F91;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F;&#x7B49;&#x3002; &#x672C;&#x5C0F;&#x8282;&#x5B9E;&#x73B0;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x3002; &#x9875;&#x9762;&#x8BF4;&#x660E;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x7684;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x8BFE;&#x7A0B;&#x4FEE;&#x6539;&#x9875;&#x9762;1.&#x5B9A;&#x4E49;course_manage.vue&#x4E3A;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x5BFC;&#x822A;&#x9875;&#x9762;&#x3002;&#x5BFC;&#x822A;&#x6548;&#x679C;&#x4F7F;&#x7528;Element-UI&#x7684;NavMenu&#x7EC4;&#x4EF6;&#x5B9E;&#x73B0;&#x3002; &lt;template&gt; &lt;div&gt; &lt;el-menu :default-active=&quot;activeIndex&quot; class=&quot;el-menu-demo&quot; mode=&quot;horizontal&quot; background-color=&quot;#eee&quot; text-color=&quot;#000&quot; active-text-color=&quot;#000&quot;&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/manage/summary/&apos;+this.courseid}&quot;&gt; &lt;el-menu-item index=&quot;1&quot;&gt;&#x8BFE;&#x7A0B;&#x9996;&#x9875;&lt;/el-menu-item&gt; &lt;/router-link&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/manage/baseinfo/&apos;+this.courseid}&quot;&gt; &lt;el-menu-item index=&quot;2&quot;&gt;&#x57FA;&#x672C;&#x4FE1;&#x606F;&lt;/el-menu-item&gt; &lt;/router-link&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/manage/picture/&apos;+this.courseid}&quot;&gt; &lt;el-menu-item index=&quot;3&quot;&gt;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&lt;/el-menu-item&gt; &lt;/router-link&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/manage/marketinfo/&apos;+this.courseid}&quot;&gt; &lt;el-menu-item index=&quot;4&quot;&gt;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&lt;/el-menu-item&gt; &lt;/router-link&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/manage/plan/&apos;+this.courseid}&quot;&gt; &lt;el-menu-item index=&quot;5&quot;&gt;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&lt;/el-menu-item&gt; &lt;/router-link&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/manage/teacher/&apos;+this.courseid}&quot;&gt; &lt;el-menu-item index=&quot;6&quot;&gt;&#x6559;&#x5E08;&#x4FE1;&#x606F;&lt;/el-menu-item&gt; &lt;/router-link&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/course/manage/pub/&apos;+this.courseid}&quot;&gt; &lt;el-menu-item index=&quot;7&quot;&gt;&#x53D1;&#x5E03;&#x8BFE;&#x7A0B;&lt;/el-menu-item&gt; &lt;/router-link&gt; &lt;/el-menu&gt; &lt;router-view class=&quot;main&quot;&gt;&lt;/router-view&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import * as courseApi from &apos;../api/course&apos;; import utilApi from &apos;../../../common/utils&apos;; export default { data() { return { activeIndex:&apos;2&apos;, courseid:&apos;&apos; } }, methods: { }, mounted(){ //&#x8BFE;&#x7A0B;id this.courseid = this.$route.params.courseid console.log(&quot;courseid=&quot; + this.courseid) //&#x8DF3;&#x8F6C;&#x5230;&#x8BFE;&#x7A0B;&#x57FA;&#x672C;&#x4FE1;&#x606F; this.$router.push({ path: &apos;/course/manage/baseinfo/&apos;+this.courseid}) } } &lt;/script&gt; &lt;style scoped&gt; &lt;/style&gt;2.&#x521B;&#x5EFA;&#x5404;&#x5404;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x901A;&#x8FC7;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x7684;&#x5BFC;&#x822A;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;&#x5404;&#x5404;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x8FD9;&#x91CC;&#x5148;&#x521B;&#x5EFA;&#x5404;&#x5404;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x6682;&#x65F6;&#x4E3A;&#x7A7A;&#xFF0C;&#x5F85;&#x5F00;&#x53D1;&#x65F6;&#x518D;&#x5B8C;&#x5584;&#xFF0C;&#x5728;&#x672C;&#x6A21;&#x5757;&#x7684;page&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;course_manage&#x76EE;&#x5F55;&#xFF0C;&#x6B64;&#x76EE;&#x5F55;&#x5B58;&#x653E;&#x5404;&#x5404;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x9875;&#x9762;&#x660E;&#x7EC6;&#x5982;&#x4E0B;&#xFF1A; &#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x9996;&#x9875;&#xFF1A;course_summary.vue &#x57FA;&#x672C;&#x4FE1;&#x606F;&#x4FEE;&#x6539;&#x9875;&#x9762;&#xFF1A;course_baseinfo.vue &#x56FE;&#x7247;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF1A;course_picture.vue &#x8425;&#x9500;&#x4FE1;&#x606F;&#x9875;&#x9762;&#xFF1A;course_marketinfo.vue &#x8001;&#x5E08;&#x4FE1;&#x606F;&#x9875;&#x9762;&#xFF1A;course_teacher.vue &#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#xFF1A;course_plan.vue &#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x9875;&#x9762;&#xFF1A;course_pub.vue 3.&#x521B;&#x5EFA;&#x8DEF;&#x7531; import Home from &apos;@/module/home/page/home.vue&apos;; import course_list from &apos;@/module/course/page/course_list.vue&apos;; import course_add from &apos;@/module/course/page/course_add.vue&apos;; import course_manage from &apos;@/module/course/page/course_manage.vue&apos;; import course_summary from &apos;@/module/course/page/course_manage/course_summary.vue&apos;; import course_picture from &apos;@/module/course/page/course_manage/course_picture.vue&apos;; import course_baseinfo from &apos;@/module/course/page/course_manage/course_baseinfo.vue&apos;; import course_marketinfo from &apos;@/module/course/page/course_manage/course_marketinfo.vue&apos;; import course_teacher from &apos;@/module/course/page/course_manage/course_teacher.vue&apos;; import course_plan from &apos;@/module/course/page/course_manage/course_plan.vue&apos;; import course_pub from &apos;@/module/course/page/course_manage/course_pub.vue&apos;; export default [ { path: &apos;/course&apos;, component: Home, name: &apos;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&apos;, hidden: false, iconCls: &apos;el-icon-document&apos;, children: [ { path: &apos;/course/list&apos;, name: &apos;&#x6211;&#x7684;&#x8BFE;&#x7A0B;&apos;,component: course_list,hidden: false }, { path: &apos;/course/add/base&apos;, name: &apos;&#x65B0;&#x589E;&#x8BFE;&#x7A0B;&apos;,component: course_add,hidden: true }, { path: &apos;/course/manager/:courseid&apos;, name: &apos;&#x7BA1;&#x7406;&#x8BFE;&#x7A0B;&apos;,component: course_manage,hidden: true , children: [ { path: &apos;/course/manage/plan/:courseid&apos;, name: &apos;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&apos;,component: course_plan,hidden: false }, { path: &apos;/course/manage/baseinfo/:courseid&apos;, name: &apos;&#x57FA;&#x672C;&#x4FE1;&#x606F;&apos;,component: course_baseinfo,hidden: false }, { path: &apos;/course/manage/picture/:courseid&apos;, name: &apos;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&apos;,component: course_picture,hidden: false }, { path: &apos;/course/manage/marketinfo/:courseid&apos;, name: &apos;&#x8425;&#x9500;&#x4FE1;&#x606F;&apos;,component: course_marketinfo,hidden: false }, { path: &apos;/course/manage/teacher/:courseid&apos;, name: &apos;&#x6559;&#x5E08;&#x4FE1;&#x606F;&apos;,component: course_teacher,hidden: false}, { path: &apos;/course/manage/pub/:courseid&apos;, name: &apos;&#x53D1;&#x5E03;&#x8BFE;&#x7A0B;&apos;,component: course_pub,hidden: false}, { path: &apos;/course/manage/summary/:courseid&apos;, name: &apos;&#x8BFE;&#x7A0B;&#x9996;&#x9875;&apos;,component: course_summary,hidden: false } ]} ] } ]Api&#x63A5;&#x53E3;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x9700;&#x8981;&#x5982;&#x4E0B;&#x63A5;&#x53E3;&#xFF1A; 1&#x3001;&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; 2&#x3001;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x63D0;&#x4EA4; &#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; 1) &#x6839;&#x636E;&#x8BFE;&#x7A0B;ID&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; @ApiOperation(&quot;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x57FA;&#x7840;&#x4FE1;&#x606F;&quot;) public CourseBase getCourseBaseById(String courseId) throws RuntimeException;2&#xFF09;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; @ApiOperation(&quot;&#x66F4;&#x65B0;&#x8BFE;&#x7A0B;&#x57FA;&#x7840;&#x4FE1;&#x606F;&quot;) public ResponseResult updateCourseBase(String id,CourseBase courseBase);Daopublic interface CourseBaseRepository extends JpaRepository&lt;CourseBase,String&gt; { }Service public CourseBase getCoursebaseById(String courseId) { Optional&lt;CourseBase&gt; optional = courseBaseRepository.findById(courseId); if(optional.isPresent()){ return optional.get(); } return null; } @Transactional public ResponseResult updateCoursebase(String id, CourseBase courseBase) { CourseBase one = this.getCoursebaseById(id); if(one == null){ //&#x629B;&#x51FA;&#x5F02;&#x5E38;.. } //&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; one.setName(courseBase.getName()); one.setMt(courseBase.getMt()); one.setSt(courseBase.getSt()); one.setGrade(courseBase.getGrade()); one.setStudymodel(courseBase.getStudymodel()); one.setUsers(courseBase.getUsers()); one.setDescription(courseBase.getDescription()); CourseBase save = courseBaseRepository.save(one); return new ResponseResult(CommonCode.SUCCESS); }Controller @Override @GetMapping(&quot;/coursebase/get/{courseId}&quot;) public CourseBase getCourseBaseById(@PathVariable(&quot;courseId&quot;) String courseId) throws RuntimeException { return courseService.getCoursebaseById(courseId); } @Override @PutMapping(&quot;/coursebase/update/{id}&quot;) public ResponseResult updateCourseBase(@PathVariable(&quot;id&quot;) String id, @RequestBody CourseBase courseBase) { return courseService.updateCoursebase(id,courseBase); }&#x524D;&#x7AEF;&#x4FEE;&#x6539;&#x9875;&#x9762;&#x5728;course&#x6A21;&#x5757;&#x4E0B;&#x7684;course_manage&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;course_baseinfo.vue&#x9875;&#x9762;&#xFF0C;&#x672C;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x8BFE;&#x7A0B;&#x4FEE;&#x6539; &lt;template&gt; &lt;div&gt; &lt;el-form :model=&quot;courseForm&quot; label-width=&quot;80px&quot; :rules=&quot;courseRules&quot; ref=&quot;courseForm&quot;&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x540D;&#x79F0;&quot; prop=&quot;name&quot;&gt; &lt;el-input v-model=&quot;courseForm.name&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x9002;&#x7528;&#x4EBA;&#x7FA4;&quot; prop=&quot;users&quot;&gt; &lt;el-input type=&quot;textarea&quot; v-model=&quot;courseForm.users&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&quot; prop=&quot;categoryActive&quot;&gt; &lt;el-cascader expand-trigger=&quot;hover&quot; :options=&quot;categoryList&quot; v-model=&quot;categoryActive&quot; :props=&quot;props&quot;&gt; &lt;/el-cascader&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&quot; prop=&quot;grade&quot;&gt; &lt;b v-for=&quot;grade in gradeList&quot;&gt; &lt;el-radio v-model=&quot;courseForm.grade&quot; :label=&quot;grade.sdId&quot; &gt;{{grade.sdName}}&lt;/el-radio&gt;&amp;nbsp;&amp;nbsp; &lt;/b&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&quot; prop=&quot;studymodel&quot;&gt; &lt;b v-for=&quot;studymodel_v in studymodelList&quot;&gt; &lt;el-radio v-model=&quot;courseForm.studymodel&quot; :label=&quot;studymodel_v.sdId&quot; &gt;{{studymodel_v.sdName}}&lt;/el-radio&gt;&amp;nbsp;&amp;nbsp; &lt;/b&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x4ECB;&#x7ECD;&quot; prop=&quot;description&quot;&gt; &lt;el-input type=&quot;textarea&quot; v-model=&quot;courseForm.description&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt; &lt;el-button type=&quot;primary&quot; @click.native=&quot;save&quot; :loading=&quot;editLoading&quot;&gt;&#x63D0;&#x4EA4;&lt;/el-button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import * as courseApi from &apos;../../api/course&apos;; import utilApi from &apos;../../../../common/utils&apos;; import * as systemApi from &apos;../../../../base/api/system&apos;; export default { data() { return { dotype:&apos;&apos;, courseid:&apos;&apos;, studymodelList:[], gradeList:[], editLoading: false, props: { value: &apos;id&apos;, label:&apos;name&apos;, children:&apos;children&apos; }, categoryList: [], categoryActive:[], courseForm: { id:&apos;&apos;, name: &apos;&apos;, users: &apos;&apos;, grade:&apos;&apos;, studymodel:&apos;&apos;, mt:&apos;&apos;, st:&apos;&apos;, description: &apos;&apos; }, courseRules: { name: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x8BFE;&#x7A0B;&#x540D;&#x79F0;&apos;, trigger: &apos;blur&apos;} ], category: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&apos;, trigger: &apos;blur&apos;} ], grade: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&apos;, trigger: &apos;blur&apos;} ], studymodel: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&apos;, trigger: &apos;blur&apos;} ] } } }, methods: { save () { //&#x4FEE;&#x6539;&#x8BFE;&#x7A0B; this.$refs.courseForm.validate((valid) =&gt; { if (valid) { this.$confirm(&apos;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;&#xFF1F;&apos;, &apos;&#x63D0;&#x793A;&apos;, {}).then(() =&gt; { this.editLoading = true; let mt = this.categoryActive[0]; let st = this.categoryActive[1]; this.courseForm.mt = mt; this.courseForm.st = st; let id = this.courseForm.id courseApi.updateCoursebase(id,this.courseForm).then((res) =&gt; { this.editLoading = false; if(res.success){ this.$message({ message: &apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;, type: &apos;success&apos; }); }else{ if(res.message){ this.$message.error(res.message); }else{ this.$message.error(&apos;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&apos;); } } }); }); } }); } }, created(){ }, mounted(){ //&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5B57;&#x5178;&#x5B57;&#x5178; systemApi.sys_getDictionary(&apos;201&apos;).then((res) =&gt; { // console.log(res); this.studymodelList = res.dvalue; }); systemApi.sys_getDictionary(&apos;200&apos;).then((res) =&gt; { this.gradeList = res.dvalue; }); //&#x53D6;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B; courseApi.category_findlist({}).then((res) =&gt; { this.categoryList = res.children; }); //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; //&#x8BFE;&#x7A0B;id this.courseid = this.$route.params.courseid; courseApi.getCoursebaseById(this.courseid).then((res) =&gt; { // console.log(res); this.courseForm = res; //&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x663E;&#x793A;&#xFF0C;&#x9700;&#x8981;&#x4E24;&#x7EA7;&#x5206;&#x7C7B; this.categoryActive.push(this.courseForm.mt); this.categoryActive.push(this.courseForm.st); }); } } &lt;/script&gt; &lt;style scoped&gt; &lt;/style&gt; &#x5751;: label:&#x2019;name&#x2019; API&#x8C03;&#x7528;//&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x57FA;&#x672C;&#x4FE1;&#x606F; export const getCoursebaseById = id =&gt; { return http.requestQuickGet(apiUrl+&apos;/course/coursebase/get/&apos;+id) } //&#x66F4;&#x65B0;&#x8BFE;&#x7A0B;&#x57FA;&#x672C;&#x4FE1;&#x606F; export const updateCoursebase= (id,course) =&gt; { return http.requestPut(apiUrl+&apos;/course/coursebase/update/&apos;+id,course) }&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x663E;&#x793A;&#x5728;mounted&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#x4E2D;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x53CA;&#x6570;&#x636E;&#x5B57;&#x5178;&#xFF1A; //&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5B57;&#x5178;&#x5B57;&#x5178; systemApi.sys_getDictionary(&apos;201&apos;).then((res) =&gt; { // console.log(res); this.studymodelList = res.dvalue; }); systemApi.sys_getDictionary(&apos;200&apos;).then((res) =&gt; { this.gradeList = res.dvalue; }); //&#x53D6;&#x8BFE;&#x7A0B;&#x5206;&#x7C7B; courseApi.category_findlist({}).then((res) =&gt; { this.categoryList = res.children; }); //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; //&#x8BFE;&#x7A0B;id this.courseid = this.$route.params.courseid; courseApi.getCoursebaseById(this.courseid).then((res) =&gt; { // console.log(res); this.courseForm = res; //&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x663E;&#x793A;&#xFF0C;&#x9700;&#x8981;&#x4E24;&#x7EA7;&#x5206;&#x7C7B; this.categoryActive.push(this.courseForm.mt); this.categoryActive.push(this.courseForm.st); });&#x8BFE;&#x7A0B;&#x4FEE;&#x6539;&#x63D0;&#x4EA4;&#x7F16;&#x8F91;&#x8BFE;&#x7A0B;&#x63D0;&#x4EA4;&#x65B9;&#x6CD5;&#xFF1A; methods: { save () { //&#x4FEE;&#x6539;&#x8BFE;&#x7A0B; this.$refs.courseForm.validate((valid) =&gt; { if (valid) { this.$confirm(&apos;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;&#xFF1F;&apos;, &apos;&#x63D0;&#x793A;&apos;, {}).then(() =&gt; { this.editLoading = true; let mt = this.categoryActive[0]; let st = this.categoryActive[1]; this.courseForm.mt = mt; this.courseForm.st = st; let id = this.courseForm.id courseApi.updateCoursebase(id,this.courseForm).then((res) =&gt; { this.editLoading = false; if(res.success){ this.$message({ message: &apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;, type: &apos;success&apos; }); }else{ if(res.message){ this.$message.error(res.message); }else{ this.$message.error(&apos;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&apos;); } } }); }); } }); } },&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x9700;&#x6C42;&#x5206;&#x6790;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F;&#x5305;&#x62EC;&#x8BFE;&#x7A0B;&#x4EF7;&#x683C;&#x3001;&#x8BFE;&#x7A0B;&#x6709;&#x6548;&#x671F;&#x7B49;&#x4FE1;&#x606F;&#x3002; &#x6570;&#x636E;&#x6A21;&#x578B;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F;&#x4F7F;&#x7528;course_market&#x8868;&#x5B58;&#x50A8;&#x3002; &#x6570;&#x636E;&#x6A21;&#x578B;&#x5982;&#x4E0B;&#xFF1A; @Data @ToString @Entity @Table(name=&quot;course_market&quot;) @GenericGenerator(name = &quot;jpa-assigned&quot;, strategy = &quot;assigned&quot;) public class CourseMarket implements Serializable { private static final long serialVersionUID = -916357110051689486L; @Id @GeneratedValue(generator = &quot;jpa-assigned&quot;) @Column(length = 32) private String id; private String charge; private String valid; private String qq; private Float price; private Float price_old; // private Date expires; @Column(name = &quot;start_time&quot;) private Date startTime; @Column(name = &quot;end_time&quot;) private Date endTime; }API1) &#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F; @ApiOperation(&quot;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F;&quot;) public CourseMarket getCourseMarketById(String courseId);2&#xFF09;&#x66F4;&#x65B0;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F; @ApiOperation(&quot;&#x66F4;&#x65B0;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F;&quot;) public ResponseResult updateCourseMarket(String id,CourseMarket courseMarket);Daopublic interface CourseMarketRepository extends JpaRepository&lt;CourseMarket, String&gt; { }Service @Autowired CourseMarketRepository courseMarketRepository; public CourseMarket getCourseMarketById(String courseId) { Optional&lt;CourseMarket&gt; optional = courseMarketRepository.findById(courseId); if(!optional.isPresent()){ return optional.get(); } return null; } @Transactional public CourseMarket updateCourseMarket(String id, CourseMarket courseMarket) { CourseMarket one = this.getCourseMarketById(id); if(one!=null){ one.setCharge(courseMarket.getCharge()); one.setStartTime(courseMarket.getStartTime());//&#x8BFE;&#x7A0B;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x5F00;&#x59CB;&#x65F6;&#x95F4; one.setEndTime(courseMarket.getEndTime());//&#x8BFE;&#x7A0B;&#x6709;&#x6548;&#x671F;&#xFF0C;&#x7ED3;&#x675F;&#x65F6;&#x95F4; one.setPrice(courseMarket.getPrice()); one.setQq(courseMarket.getQq()); one.setValid(courseMarket.getValid()); courseMarketRepository.save(one); }else{ //&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F; one = new CourseMarket(); BeanUtils.copyProperties(courseMarket, one); //&#x8BBE;&#x7F6E;&#x8BFE;&#x7A0B;id one.setId(id); courseMarketRepository.save(one); } return one; }Controller@Override @PostMapping(&quot;/coursemarket/update/{id}&quot;) public ResponseResult updateCourseMarket(@PathVariable(&quot;id&quot;) String id, @RequestBody CourseMarket courseMarket) { CourseMarket courseMarket_u = courseService.updateCourseMarket(id, courseMarket); if(courseMarket_u!=null){ return new ResponseResult(CommonCode.SUCCESS); }else{ return new ResponseResult(CommonCode.FAIL); } } @Override @GetMapping(&quot;/coursemarket/get/{courseId}&quot;) public CourseMarket getCourseMarketById(@PathVariable(&quot;courseId&quot;) String courseId) { return courseService.getCourseMarketById(courseId); }&#x524D;&#x7AEF;Api &#x8C03;&#x7528;//&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F; export const getCourseMarketById = id =&gt; { return http.requestQuickGet(apiUrl+&apos;/course/coursemarket/get/&apos;+id) } // &#x66F4;&#x65B0;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F; export const updateCourseMarket =(id,courseMarket) =&gt; { return http.requestPost(apiUrl+&apos;/course/coursemarket/update/&apos;+id,courseMarket) }&#x9875;&#x9762;&#x7F16;&#x5199; course_marketinfo.vue &lt;template&gt; &lt;div&gt; &lt;el-form :model=&quot;courseMarketForm&quot; label-width=&quot;110px&quot; :rules=&quot;courseMarketFormRules&quot; ref=&quot;courseMarketForm&quot;&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x4EF7;&#x683C;&quot; prop=&quot;charge&quot;&gt; &lt;b v-for=&quot;charge in chargeList&quot;&gt; &lt;el-radio v-model=&quot;courseMarketForm.charge&quot; :label=&quot;charge.sdId&quot; &gt;{{charge.sdName}}&lt;/el-radio&gt; &amp;nbsp;&amp;nbsp; &lt;/b&gt; &lt;br/&gt; &#x91D1;&#x989D;&#xFF08;&#x5143;&#xFF09;&#xFF1A;&lt;el-input :disabled=&quot;this.courseMarketForm.charge == &apos;203002&apos;?false:true&quot; v-model=&quot;courseMarketForm.price&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x6709;&#x6548;&#x671F;&quot; prop=&quot;expires&quot;&gt; &lt;b v-for=&quot;valid in validList&quot;&gt; &lt;el-radio v-model=&quot;courseMarketForm.valid&quot; :label=&quot;valid.sdId&quot; &gt;{{valid.sdName}}&lt;/el-radio&gt;&amp;nbsp;&amp;nbsp; &lt;/b&gt; &lt;br/&gt; &#x5F00;&#x59CB;&#x65F6;&#x95F4;&#xFF1A; &lt;el-date-picker :disabled=&quot;this.courseMarketForm.valid == &apos;204002&apos;?false:true&quot; type=&quot;date&quot; placeholder=&quot;&#x9009;&#x62E9;&#x65E5;&#x671F;&quot; v-model=&quot;courseMarketForm.startTime&quot;&gt;&lt;/el-date-picker&gt; &#x7ED3;&#x675F;&#x65F6;&#x95F4;&#xFF1A; &lt;el-date-picker :disabled=&quot;this.courseMarketForm.valid == &apos;204002&apos;?false:true&quot; type=&quot;date&quot; placeholder=&quot;&#x9009;&#x62E9;&#x65E5;&#x671F;&quot; v-model=&quot;courseMarketForm.endTime&quot;&gt;&lt;/el-date-picker&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x670D;&#x52A1;&#x54A8;&#x8BE2;QQ&quot; prop=&quot;qq&quot;&gt; &lt;el-input v-model=&quot;courseMarketForm.qq&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt; &lt;el-button type=&quot;primary&quot; @click.native=&quot;save&quot; &gt;&#x63D0;&#x4EA4;&lt;/el-button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import * as courseApi from &apos;../../api/course&apos;; import utilApi from &apos;../../../../common/utils&apos;; import * as systemApi from &apos;../../../../base/api/system&apos;; export default { data() { return { active: 1, dotype:&apos;&apos;, courseid:&apos;&apos;, chargeList:[], validList:[], price_tag:false, expires_tag:false, courseMarketForm: { id:&apos;&apos;, charge:&apos;&apos;, valid:&apos;&apos;, price:&apos;&apos;, expires: &apos;&apos;, startTime: &apos;&apos;, endTime: &apos;&apos;, users: &apos;&apos;, expiration:[], courseid:this.courseid }, courseMarketFormRules: { free: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x6536;&#x8D39;&#x89C4;&#x5219;&apos;, trigger: &apos;blur&apos;} ], valid: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x6709;&#x6548;&#x671F;&apos;, trigger: &apos;blur&apos;} ] } } }, methods: { save: function () { this.$refs.courseMarketForm.validate((valid) =&gt; { if (valid) { this.$confirm(&apos;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;&#xFF1F;&apos;, &apos;&#x63D0;&#x793A;&apos;, {}).then(() =&gt; { courseApi.updateCourseMarket(this.courseid,this.courseMarketForm).then((res) =&gt; { this.editLoading = false; if(res.success){ this.$message.success(&apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;); if(this.dotype == &apos;1&apos;){ //&#x8DF3;&#x8F6C;&#x5230;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; this.$router.push({ path: &apos;/course/add/plan/3/1/&apos;+this.courseid}) } }else{ this.$message.error(&apos;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&apos;); } }); }); } }); } }, mounted(){ //&#x64CD;&#x4F5C;&#x7C7B;&#x578B; this.dotype = this.$route.params.dotype; //&#x8BFE;&#x7A0B;id this.courseid = this.$route.params.courseid; this.courseMarketForm.id = this.courseid; //&#x67E5;&#x8BE2;&#x5B57;&#x5178; systemApi.sys_getDictionary(&apos;203&apos;).then((res) =&gt; { this.chargeList = res.dvalue; }); systemApi.sys_getDictionary(&apos;204&apos;).then((res) =&gt; { this.validList = res.dvalue; }); //&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F; courseApi.getCourseMarketById(this.courseid).then((res) =&gt; { //console.log(res); if(res &amp;&amp; res.id){ this.courseMarketForm = res; } }); } } &lt;/script&gt; &lt;style scoped&gt; &lt;/style&gt; &#x6570;&#x636E;&#x5BF9;&#x8C61; data() { return { active: 1, dotype:&apos;&apos;, courseid:&apos;&apos;, chargeList:[], validList:[], price_tag:false, expires_tag:false, courseMarketForm: { id:&apos;&apos;, charge:&apos;&apos;, valid:&apos;&apos;, price:&apos;&apos;, expires: &apos;&apos;, startTime: &apos;&apos;, endTime: &apos;&apos;, users: &apos;&apos;, expiration:[], courseid:this.courseid }, courseMarketFormRules: { free: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x6536;&#x8D39;&#x89C4;&#x5219;&apos;, trigger: &apos;blur&apos;} ], valid: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x6709;&#x6548;&#x671F;&apos;, trigger: &apos;blur&apos;} ] } } },&#x4FDD;&#x5B58;&#x65B9;&#x6CD5; methods: { save: function () { this.$refs.courseMarketForm.validate((valid) =&gt; { if (valid) { this.$confirm(&apos;&#x786E;&#x8BA4;&#x63D0;&#x4EA4;&#x5417;&#xFF1F;&apos;, &apos;&#x63D0;&#x793A;&apos;, {}).then(() =&gt; { courseApi.updateCourseMarket(this.courseid,this.courseMarketForm).then((res) =&gt; { this.editLoading = false; if(res.success){ this.$message.success(&apos;&#x63D0;&#x4EA4;&#x6210;&#x529F;&apos;); if(this.dotype == &apos;1&apos;){ //&#x8DF3;&#x8F6C;&#x5230;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; this.$router.push({ path: &apos;/course/add/plan/3/1/&apos;+this.courseid}) } }else{ this.$message.error(&apos;&#x63D0;&#x4EA4;&#x5931;&#x8D25;&apos;); } }); }); } }); } }, document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-8-fastdfs-yan-jiu.html</url>
    <content type="text"><![CDATA[fastDFS&#x7814;&#x7A76;&#x5E94;&#x7528;&#x573A;&#x666F;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x62E5;&#x6709;&#x5927;&#x91CF;&#x4F18;&#x8D28;&#x7684;&#x89C6;&#x9891;&#x6559;&#x7A0B;&#xFF0C;&#x5E76;&#x4E14;&#x514D;&#x8D39;&#x63D0;&#x4F9B;&#x7ED9;&#x7528;&#x6237;&#x53BB;&#x4E0B;&#x8F7D;&#xFF0C;&#x6587;&#x4EF6;&#x592A;&#x591A;&#x5982;&#x4F55;&#x9AD8;&#x6548;&#x5B58;&#x50A8;&#xFF1F;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x91CF;&#x5927;&#x5982;&#x4F55;&#x4FDD;&#x8BC1; &#x4E0B;&#x8F7D;&#x901F;&#x5EA6;&#xFF1F;&#x4ECA;&#x5929;&#x8BB2;&#x89E3;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5C06;&#x89E3;&#x51B3;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x3002;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x89E3;&#x51B3;&#x4E86;&#x6D77;&#x91CF;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x53CA;&#x4F20;&#x8F93;&#x8BBF;&#x95EE;&#x7684;&#x74F6;&#x9888;&#x95EE;&#x9898;&#xFF0C;&#x5BF9;&#x6D77;&#x91CF;&#x89C6;&#x9891;&#x7684;&#x7BA1;&#x7406;&#x3001;&#x5BF9;&#x6D77;&#x91CF;&#x56FE;&#x7247;&#x7684;&#x7BA1;&#x7406;&#x7B49;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF; &#x603B;&#x7ED3;&#xFF1A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x662F;&#x8D1F;&#x8D23;&#x7BA1;&#x7406;&#x548C;&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x7684;&#x7CFB;&#x7EDF;&#x8F6F;&#x4EF6;&#xFF0C;&#x5B83;&#x662F;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x786C;&#x4EF6;&#x9A71;&#x52A8;&#x4E4B;&#x95F4;&#x7684;&#x6865;&#x6881;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x901A;&#x8FC7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF; &#x63D0;&#x4F9B;&#x7684;&#x63A5;&#x53E3;&#x53BB;&#x5B58;&#x53D6;&#x6587;&#x4EF6;&#xFF0C;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x8BBF;&#x95EE;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x5E38;&#x89C1;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF1A;FAT16/FAT32&#x3001;NTFS&#x3001;HFS&#x3001;UFS&#x3001;APFS&#x3001;XFS&#x3001;Ext4&#x7B49; &#x3002; &#x601D;&#x8003;&#xFF1A;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6211;&#x4EEC;&#x8BE5;&#x600E;&#x4E48;&#x7BA1;&#x7406;&#x81EA;&#x5DF1;&#x7684;&#x6587;&#x4EF6;&#xFF1F; &#x4EC0;&#x4E48;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF; &#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x6709;&#x5206;&#x5E03;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5462;&#xFF1F; &#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x662F;&#x9762;&#x5BF9;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x9700;&#x6C42;&#x800C;&#x4EA7;&#x751F;&#xFF0C;&#x4E92;&#x8054;&#x7F51;&#x65F6;&#x4EE3;&#x5BF9;&#x6D77;&#x91CF;&#x6570;&#x636E;&#x5982;&#x4F55;&#x5B58;&#x50A8;&#xFF1F;&#x9760;&#x7B80;&#x5355;&#x7684;&#x589E;&#x52A0;&#x786C;&#x76D8;&#x7684;&#x4E2A;&#x6570;&#x5DF2;&#x7ECF;&#x6EE1;&#x8DB3; &#x4E0D;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x56E0;&#x4E3A;&#x786C;&#x76D8;&#x4F20;&#x8F93;&#x901F;&#x5EA6;&#x6709;&#x9650;&#x4F46;&#x662F;&#x6570;&#x636E;&#x5728;&#x6025;&#x5267;&#x589E;&#x957F;&#xFF0C;&#x53E6;&#x5916;&#x6211;&#x4EEC;&#x8FD8;&#x8981;&#x8981;&#x505A;&#x597D;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x3001;&#x6570;&#x636E;&#x5B89;&#x5168;&#x7B49;&#x3002; &#x91C7;&#x7528;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x53EF;&#x4EE5;&#x5C06;&#x591A;&#x4E2A;&#x5730;&#x70B9;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;&#x8D77;&#x6765;&#xFF0C;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7F51;&#x7EDC;&#xFF0C;&#x7ED3;&#x70B9;&#x4E4B;&#x95F4;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8FDB; &#x884C;&#x901A;&#x4FE1;&#xFF0C;&#x4E00;&#x53F0;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5B58;&#x50A8;&#x548C;&#x4F20;&#x8F93;&#x80FD;&#x529B;&#x6709;&#x9650;&#xFF0C;&#x6211;&#x4EEC;&#x8BA9;&#x6587;&#x4EF6;&#x5728;&#x591A;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x4E0A;&#x5B58;&#x50A8;&#xFF0C;&#x901A;&#x8FC7;&#x591A;&#x53F0;&#x8BA1;&#x7B97;&#x5171;&#x540C;&#x4F20;&#x8F93;&#x3002; &#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x597D;&#x5904;&#xFF1A; 1&#x3001;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5904;&#x7406;&#x80FD;&#x529B;&#x6269;&#x5145;&#x5230;&#x591A;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x540C;&#x65F6;&#x5904;&#x7406;&#x3002; 2&#x3001;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x6302;&#x4E86;&#x8FD8;&#x6709;&#x53E6;&#x5916;&#x526F;&#x672C;&#x8BA1;&#x7B97;&#x673A;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x3002; 3&#x3001;&#x6BCF;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#x53EF;&#x4EE5;&#x653E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x57DF;&#xFF0C;&#x8FD9;&#x6837;&#x7528;&#x6237;&#x5C31;&#x53EF;&#x4EE5;&#x5C31;&#x8FD1;&#x8BBF;&#x95EE;&#xFF0C;&#x63D0;&#x9AD8;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#x3002; &#x4E3B;&#x6D41;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;1.NFS 1&#xFF09;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x6620;&#x5C04;NFS&#x670D;&#x52A1;&#x5668;&#x7684;&#x9A71;&#x52A8;&#x5668;&#x3002; 2&#xFF09;&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x8BBF;&#x95EE;NFS&#x670D;&#x52A1;&#x5668;&#x7684;&#x786C;&#x76D8;&#x5B8C;&#x5168;&#x900F;&#x660E;&#x3002; 2.GFS 1&#xFF09;GFS&#x91C7;&#x7528;&#x4E3B;&#x4ECE;&#x7ED3;&#x6784;&#xFF0C;&#x4E00;&#x4E2A;GFS&#x96C6;&#x7FA4;&#x7531;&#x4E00;&#x4E2A;master&#x548C;&#x5927;&#x91CF;&#x7684;chunkserver&#x7EC4;&#x6210;&#x3002; 2&#xFF09;master&#x5B58;&#x50A8;&#x4E86;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x7684;&#x5143;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x88AB;&#x5206;&#x6210;&#x4E86;&#x82E5;&#x5E72;&#x5757;&#x5B58;&#x50A8;&#x5728;&#x591A;&#x4E2A;chunkserver&#x4E2D;&#x3002; 3&#xFF09;&#x7528;&#x6237;&#x4ECE;master&#x4E2D;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5143;&#x4FE1;&#x606F;&#xFF0C;&#x4ECE;chunkserver&#x5B58;&#x50A8;&#x6570;&#x636E;&#x3002; 3.HDSF 1&#xFF09;HDFS&#x91C7;&#x7528;&#x4E3B;&#x4ECE;&#x7ED3;&#x6784;&#xFF0C;&#x4E00;&#x4E2A;HDFS&#x96C6;&#x7FA4;&#x7531;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x7ED3;&#x70B9;&#x548C;&#x82E5;&#x5E72;&#x6570;&#x636E;&#x7ED3;&#x70B9;&#x7EC4;&#x6210;&#x3002; &#x540D;&#x79F0;&#x7ED3;&#x70B9;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#x5143;&#x4FE1;&#x606F;&#xFF0C;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x5206;&#x6210;&#x82E5;&#x5E72;&#x5757;&#x5B58;&#x50A8;&#x5728;&#x6570;&#x636E;&#x7ED3;&#x70B9;&#x3002; 2&#xFF09;&#x5BA2;&#x6237;&#x7AEF;&#x4ECE;&#x540D;&#x79F0;&#x7ED3;&#x70B9;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x7684;&#x5143;&#x4FE1;&#x606F;&#x53CA;&#x6570;&#x636E;&#x5206;&#x5757;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5F97;&#x5230;&#x4FE1;&#x606F;&#x5BA2;&#x6237;&#x7AEF;&#x5373;&#x53EF;&#x4ECE;&#x6570;&#x636E;&#x5757;&#x6765;&#x5B58;&#x53D6;&#x6570;&#x636E;&#x3002; &#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x5546;1.&#x963F;&#x91CC;&#x7684;OSS2.&#x4E03;&#x725B;&#x4E91;&#x5B58;&#x50A8;3.&#x767E;&#x5EA6;&#x4E91;&#x5B58;&#x50A8;&#x4EC0;&#x4E48;&#x662F;fastDFSfastDSF&#x4ECB;&#x7ECD; FastDFS&#x662F;&#x7528;c&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x7684;&#x4E00;&#x6B3E;&#x5F00;&#x6E90;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x662F;&#x7531;&#x6DD8;&#x5B9D;&#x8D44;&#x6DF1;&#x67B6;&#x6784;&#x5E08;&#x4F59;&#x5E86;&#x7F16;&#x5199;&#x5E76;&#x5F00;&#x6E90;&#x3002;FastDFS&#x4E13;&#x4E3A;&#x4E92;&#x8054; &#x7F51;&#x91CF;&#x8EAB;&#x5B9A;&#x5236;&#xFF0C;&#x5145;&#x5206;&#x8003;&#x8651;&#x4E86;&#x5197;&#x4F59;&#x5907;&#x4EFD;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x7EBF;&#x6027;&#x6269;&#x5BB9;&#x7B49;&#x673A;&#x5236;&#xFF0C;&#x5E76;&#x6CE8;&#x91CD;&#x9AD8;&#x53EF;&#x7528;&#x3001;&#x9AD8;&#x6027;&#x80FD;&#x7B49;&#x6307;&#x6807;&#xFF0C;&#x4F7F;&#x7528;FastDFS&#x5F88; &#x5BB9;&#x6613;&#x642D;&#x5EFA;&#x4E00;&#x5957;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x96C6;&#x7FA4;&#x63D0;&#x4F9B;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x3001;&#x4E0B;&#x8F7D;&#x7B49;&#x670D;&#x52A1;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F7F;&#x7528;fastDFS&#x5462;&#xFF1F; &#x4E0A;&#x8FB9;&#x4ECB;&#x7ECD;&#x7684;NFS&#x3001;GFS&#x90FD;&#x662F;&#x901A;&#x7528;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x901A;&#x7528;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x4F18;&#x70B9;&#x7684;&#x662F;&#x5F00;&#x53D1;&#x4F53;&#x9A8C;&#x597D;&#xFF0C;&#x4F46;&#x662F;&#x7CFB;&#x7EDF;&#x590D;&#x6742; &#x6027;&#x9AD8;&#x3001;&#x6027;&#x80FD;&#x4E00;&#x822C;&#xFF0C;&#x800C;&#x4E13;&#x7528;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x867D;&#x7136;&#x5F00;&#x53D1;&#x4F53;&#x9A8C;&#x6027;&#x5DEE;&#xFF0C;&#x4F46;&#x662F;&#x7CFB;&#x7EDF;&#x590D;&#x6742;&#x6027;&#x4F4E;&#x5E76;&#x4E14;&#x6027;&#x80FD;&#x9AD8;&#x3002;fastDFS&#x975E;&#x5E38;&#x9002;&#x5408;&#x5B58;&#x50A8;&#x56FE;&#x7247;&#x7B49;&#x90A3;&#x4E9B;&#x5C0F;&#x6587;&#x4EF6;&#xFF0C;fastDFS&#x4E0D;&#x5BF9;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5206;&#x5757;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x5C31;&#x6CA1;&#x6709;&#x5206;&#x5757;&#x5408;&#x5E76;&#x7684;&#x5F00;&#x9500;&#xFF0C;fastDFS&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x91C7;&#x7528; socket&#xFF0C;&#x901A;&#x4FE1;&#x901F;&#x5EA6;&#x5F88;&#x5FEB;&#x3002; fastDSF&#x5DE5;&#x4F5C;&#x539F;&#x7406;1.fastDSF&#x67B6;&#x6784; FastDFS&#x67B6;&#x6784;&#x5305;&#x62EC; Tracker server&#x548C;Storageserver&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;Tracker server&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x3001;&#x4E0B;&#x8F7D;&#xFF0C;&#x901A;&#x8FC7;Tracker server&#x8C03;&#x5EA6;&#x6700;&#x7EC8;&#x7531;Storage server&#x5B8C;&#x6210;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x548C;&#x4E0B;&#x8F7D;&#x3002; &#x5982;&#x4E0B;&#x56FE;&#xFF1A; 1&#xFF09;Tracker Tracker Server&#x4F5C;&#x7528;&#x662F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x548C;&#x8C03;&#x5EA6;&#xFF0C;&#x901A;&#x8FC7;Tracker server&#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x65F6;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4E00;&#x4E9B;&#x7B56;&#x7565;&#x627E;&#x5230;Storage server&#x63D0; &#x4F9B;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x670D;&#x52A1;&#x3002;&#x53EF;&#x4EE5;&#x5C06;tracker&#x79F0;&#x4E3A;&#x8FFD;&#x8E2A;&#x670D;&#x52A1;&#x5668;&#x6216;&#x8C03;&#x5EA6;&#x670D;&#x52A1;&#x5668;&#x3002; FastDFS&#x96C6;&#x7FA4;&#x4E2D;&#x7684;Tracker server&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x53F0;&#xFF0C;Tracker server&#x4E4B;&#x95F4;&#x662F;&#x76F8;&#x4E92;&#x5E73;&#x7B49;&#x5173;&#x7CFB;&#x540C;&#x65F6;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#xFF0C;Tracker server &#x4E0D;&#x5B58;&#x5728;&#x5355;&#x70B9;&#x6545;&#x969C;&#x3002;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;Tracker server&#x91C7;&#x7528;&#x8F6E;&#x8BE2;&#x65B9;&#x5F0F;&#xFF0C;&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x7684;tracker&#x65E0;&#x6CD5;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x5219;&#x6362;&#x53E6;&#x4E00;&#x4E2A;tracker&#x3002; 2&#xFF09;Storage Storage Server&#x4F5C;&#x7528;&#x662F;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x6700;&#x7EC8;&#x5B58;&#x50A8;&#x5728;Storage&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;Storage server&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x81EA;&#x5DF1; &#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x800C;&#x662F;&#x4F7F;&#x7528;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6765;&#x7BA1;&#x7406;&#x6587;&#x4EF6;&#x3002;&#x53EF;&#x4EE5;&#x5C06;storage&#x79F0;&#x4E3A;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x3002; Storage&#x96C6;&#x7FA4;&#x91C7;&#x7528;&#x4E86;&#x5206;&#x7EC4;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x3002;storage&#x96C6;&#x7FA4;&#x7531;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7EC4;&#x6784;&#x6210;&#xFF0C;&#x96C6;&#x7FA4;&#x5B58;&#x50A8;&#x603B;&#x5BB9;&#x91CF;&#x4E3A;&#x96C6;&#x7FA4;&#x4E2D;&#x6240;&#x6709;&#x7EC4;&#x7684;&#x5B58;&#x50A8;&#x5BB9; &#x91CF;&#x4E4B;&#x548C;&#x3002;&#x4E00;&#x4E2A;&#x7EC4;&#x7531;&#x4E00;&#x53F0;&#x6216;&#x591A;&#x53F0;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x7EC4;&#x6210;&#xFF0C;&#x7EC4;&#x5185;&#x7684;Storage server&#x4E4B;&#x95F4;&#x662F;&#x5E73;&#x7B49;&#x5173;&#x7CFB;&#xFF0C;&#x4E0D;&#x540C;&#x7EC4;&#x7684;Storage server &#x4E4B;&#x95F4;&#x4E0D;&#x4F1A;&#x76F8;&#x4E92;&#x901A;&#x4FE1;&#xFF0C;&#x540C;&#x7EC4;&#x5185;&#x7684;Storage server&#x4E4B;&#x95F4;&#x4F1A;&#x76F8;&#x4E92;&#x8FDE;&#x63A5;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x540C;&#x6B65;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x8BC1;&#x540C;&#x7EC4;&#x5185;&#x6BCF;&#x4E2A;storage&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x7684;&#x3002;&#x4E00;&#x4E2A;&#x7EC4;&#x7684;&#x5B58;&#x50A8;&#x5BB9;&#x91CF;&#x4E3A;&#x8BE5;&#x7EC4;&#x5185;&#x7684;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x5BB9;&#x91CF;&#x6700;&#x5C0F;&#x7684;&#x90A3;&#x4E2A;&#xFF0C;&#x7531;&#x6B64;&#x53EF;&#x89C1;&#x7EC4;&#x5185;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x7684;&#x8F6F;&#x786C;&#x4EF6;&#x914D;&#x7F6E;&#x6700; &#x597D;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002; &#x91C7;&#x7528;&#x5206;&#x7EC4;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x7684;&#x597D;&#x5904;&#x662F;&#x7075;&#x6D3B;&#x3001;&#x53EF;&#x63A7;&#x6027;&#x8F83;&#x5F3A;&#x3002;&#x6BD4;&#x5982;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7531;&#x5BA2;&#x6237;&#x7AEF;&#x76F4;&#x63A5;&#x6307;&#x5B9A;&#x4E0A;&#x4F20;&#x5230;&#x7684;&#x7EC4;&#x4E5F;&#x53EF;&#x4EE5;&#x7531; tracker&#x8FDB;&#x884C;&#x8C03;&#x5EA6;&#x9009;&#x62E9;&#x3002;&#x4E00;&#x4E2A;&#x5206;&#x7EC4;&#x7684;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x8BBF;&#x95EE;&#x538B;&#x529B;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x8BE5;&#x7EC4;&#x589E;&#x52A0;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x6765;&#x6269;&#x5145;&#x670D;&#x52A1;&#x80FD;&#x529B;&#xFF08;&#x7EB5;&#x5411; &#x6269;&#x5BB9;&#xFF09;&#x3002;&#x5F53;&#x7CFB;&#x7EDF;&#x5BB9;&#x91CF;&#x4E0D;&#x8DB3;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x7EC4;&#x6765;&#x6269;&#x5145;&#x5B58;&#x50A8;&#x5BB9;&#x91CF;&#xFF08;&#x6A2A;&#x5411;&#x6269;&#x5BB9;&#xFF09;&#x3002; 3&#xFF09;Storage&#x72B6;&#x6001;&#x6536;&#x96C6; Storage server&#x4F1A;&#x8FDE;&#x63A5;&#x96C6;&#x7FA4;&#x4E2D;&#x6240;&#x6709;&#x7684;Tracker server&#xFF0C;&#x5B9A;&#x65F6;&#x5411;&#x4ED6;&#x4EEC;&#x62A5;&#x544A;&#x81EA;&#x5DF1;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5305;&#x62EC;&#x78C1;&#x76D8;&#x5269;&#x4F59;&#x7A7A;&#x95F4;&#x3001;&#x6587;&#x4EF6;&#x540C;&#x6B65; &#x72B6;&#x51B5;&#x3001;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x6B21;&#x6570;&#x7B49;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x3002; 2.&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6D41;&#x7A0B; &#x5BA2;&#x6237;&#x7AEF;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x540E;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x6587;&#x4EF6;ID&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x6B64;&#x6587;&#x4EF6;ID&#x7528;&#x4E8E;&#x4EE5;&#x540E;&#x8BBF;&#x95EE;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x7D22;&#x5F15;&#x4FE1;&#x606F;&#x3002;&#x6587;&#x4EF6;&#x7D22;&#x5F15;&#x4FE1;&#x606F; &#x5305;&#x62EC;&#xFF1A;&#x7EC4;&#x540D;&#xFF0C;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;&#xFF0C;&#x6570;&#x636E;&#x4E24;&#x7EA7;&#x76EE;&#x5F55;&#xFF0C;&#x6587;&#x4EF6;&#x540D;&#x3002; &#x7EC4;&#x540D;&#xFF1A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x540E;&#x6240;&#x5728;&#x7684;storage&#x7EC4;&#x540D;&#x79F0;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x540E;&#x6709;storage&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#xFF0C;&#x9700;&#x8981;&#x5BA2;&#x6237;&#x7AEF;&#x81EA;&#x884C;&#x4FDD;&#x5B58;&#x3002; &#x865A;&#x62DF;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;&#xFF1A;storage&#x914D;&#x7F6E;&#x7684;&#x865A;&#x62DF;&#x8DEF;&#x5F84;&#xFF0C;&#x4E0E;&#x78C1;&#x76D8;&#x9009;&#x9879;store_path*&#x5BF9;&#x5E94;&#x3002;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E86;store_path0&#x5219;&#x662F;M00&#xFF0C; &#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E86;store_path1&#x5219;&#x662F;M01&#xFF0C;&#x4EE5;&#x6B64;&#x7C7B;&#x63A8;&#x3002; &#x6570;&#x636E;&#x4E24;&#x7EA7;&#x76EE;&#x5F55;&#xFF1A;storage&#x670D;&#x52A1;&#x5668;&#x5728;&#x6BCF;&#x4E2A;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;&#x4E0B;&#x521B;&#x5EFA;&#x7684;&#x4E24;&#x7EA7;&#x76EE;&#x5F55;&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x3002; &#x6587;&#x4EF6;&#x540D;&#xFF1A;&#x4E0E;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x65F6;&#x4E0D;&#x540C;&#x3002;&#x662F;&#x7531;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x6839;&#x636E;&#x7279;&#x5B9A;&#x4FE1;&#x606F;&#x751F;&#x6210;&#xFF0C;&#x6587;&#x4EF6;&#x540D;&#x5305;&#x542B;&#xFF1A;&#x6E90;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;IP&#x5730;&#x5740;&#x3001;&#x6587;&#x4EF6;&#x521B; &#x5EFA;&#x65F6;&#x95F4;&#x6233;&#x3001;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x3001;&#x968F;&#x673A;&#x6570;&#x548C;&#x6587;&#x4EF6;&#x62D3;&#x5C55;&#x540D;&#x7B49;&#x4FE1;&#x606F;&#x3002; 3.&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#x6D41;&#x7A0B; tracker&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x7684;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x5373;&#x6587;&#x4EF6;ID &#x6765;&#x5FEB;&#x901F;&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x3002; &#x6BD4;&#x5982;&#x8BF7;&#x6C42;&#x4E0B;&#x8FB9;&#x7684;&#x6587;&#x4EF6;&#xFF1A; 1.&#x901A;&#x8FC7;&#x7EC4;&#x540D;tracker&#x80FD;&#x591F;&#x5F88;&#x5FEB;&#x7684;&#x5B9A;&#x4F4D;&#x5230;&#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x7EC4;&#x662F;group1&#xFF0C;&#x5E76;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x63D0;&#x4F9B;&#x5BA2; &#x6237;&#x7AEF;&#x8BBF;&#x95EE;&#x3002;2.&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x5668;&#x6839;&#x636E;&#x201C;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x8DEF;&#x5F84;&#x201D;&#x548C;&#x201C;&#x6570;&#x636E;&#x6587;&#x4EF6;&#x4E24;&#x7EA7;&#x76EE;&#x5F55;&#x201D;&#x53EF;&#x4EE5;&#x5F88;&#x5FEB;&#x5B9A;&#x4F4D;&#x5230;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x6839;&#x636E;&#x6587;&#x4EF6;&#x540D;&#x627E;&#x5230; &#x5BA2;&#x6237;&#x7AEF;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x7684;&#x6587;&#x4EF6;&#x3002; fastDFS&#x5165;&#x95E8;1.fastDFS&#x5B89;&#x88C5;&#x4E0E;&#x914D;&#x7F6E;&#x5BFC;&#x5165;&#x865A;&#x62DF;&#x673A;1&#x3001;&#x4F7F;&#x7528;Vmware&#x6253;&#x5F00;&#x865A;&#x62DF;&#x673A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x201C;Redis2.0.vmx&#x201D;&#xFF0C;&#x63D0;&#x793A;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; 2&#x3001;&#x9009;&#x62E9;&#x201C;&#x6211;&#x5DF2;&#x79FB;&#x52A8;&#x8BE5;&#x865A;&#x62DF;&#x673A;&#x201D; 3&#x3001;&#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A;&#x4E4B;&#x524D;&#x542F;&#x52A8;VMware&#x7684;&#x670D;&#x52A1;&#xFF1A; 4&#x3001; &#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A; &#x7528;&#x6237;&#x540D;&#xFF1A;root &#x5BC6;&#x7801;&#xFF1A;itcast&#x76F4;&#x63A5;&#x542F;&#x52A8;fastDSF&#x5373;&#x53EF;&#x4F7F;&#x7528;&#x3002; fastDFS&#x5B89;&#x88C5; &#x5982;&#x679C;&#x60F3;&#x81EA;&#x5DF1;&#x5C1D;&#x8BD5;&#x5B89;&#x88C5;fastDSF&#x4E5F;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x6863;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x5B89;&#x88C5;&#x3002; tracker&#x548C;storage&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x5B89;&#x88C5;&#x5305;&#xFF0C;fastDFS&#x7684;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#x5728;&#xFF1A;https://github.com/happy&#xFB01;sh100/FastDFS&#x672C;&#x6559;&#x7A0B;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;&#xFF1A;FastDFS_v5.05.tar.gzFastDFS&#x662F;C&#x8BED;&#x8A00;&#x5F00;&#x53D1;&#xFF0C;&#x5EFA;&#x8BAE;&#x5728;linux&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x672C;&#x6559;&#x7A0B;&#x4F7F;&#x7528;CentOS7&#x4F5C;&#x4E3A;&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x3002;&#x5B89;&#x88C5;&#x7EC6;&#x8282;&#x8BF7;&#x53C2;&#x8003; &#x201C;fastDFS&#x5B89;&#x88C5;&#x6559;&#x7A0B;&#x201D;&#x3002; Tracker&#x914D;&#x7F6E;&#x672C;&#x5C0F;&#x8282;&#x4ECB;&#x7ECD;Tracker&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002;fastDFS&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55; &#xFF1A;/etc/fdfs&#x4E3B;&#x8981;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;/etc/fdfs/tracker.conf &#xFF08;tracker&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#xFF09;&#xFF1B;storage.conf&#xFF08;storage&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF09; tracker.conf&#x914D;&#x7F6E;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;&#x7AEF;&#x53E3;&#xFF1A;port=22122&#x5B58;&#x50A8;&#x7B56;&#x7565;&#xFF1A;store_lookup= &#x53D6;&#x503C;&#x8303;&#x56F4;&#xFF1A;0&#xFF08;&#x8F6E;&#x8BE2;&#x5411;storage&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#xFF09;&#x3001;1&#xFF08;&#x6307;&#x5B9A;&#x5177;&#x4F53;&#x7684;group&#xFF09;&#x3001;2&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x9009;&#x62E9;&#x7A7A;&#x95F2;&#x7684;storage&#x5B58;&#x50A8; &#x6307;&#x5B9A;&#x5177;&#x4F53;&#x7684;group&#xFF1A;store_group= &#x5982;&#x679C;store_lookup&#x8BBE;&#x7F6E;&#x4E3A;1&#x5219;&#x8FD9;&#x91CC;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x7684;group&#x3002;tracker &#x57FA;&#x7840;&#x76EE;&#x5F55;&#xFF1A;base_path=/home/fastdfs&#xFF0C;tracker&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x4F1A;&#x5411;&#x6B64;&#x76EE;&#x5F55;&#x5B58;&#x50A8;storage&#x7684;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x3002; storage&#x914D;&#x7F6E;&#x672C;&#x5C0F;&#x8282;&#x4ECB;&#x7ECD;storage&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002;storage.conf&#x914D;&#x7F6E; &#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;&#x7EC4;&#x540D;&#xFF1A;group_name=group1&#x7AEF;&#x53E3;&#xFF1A;port=23000&#x5411;tracker&#x5FC3;&#x8DF3;&#x95F4;&#x9694;&#xFF08;&#x79D2;&#xFF09;&#xFF1A;heart_beat_interval=30storage&#x57FA;&#x7840;&#x76EE;&#x5F55;&#xFF1A;base_path=/home/fastdfs&#x78C1;&#x76D8;&#x5B58;&#x50A8;&#x76EE;&#x5F55;&#xFF0C;&#x53EF;&#x5B9A;&#x4E49;&#x591A;&#x4E2A;store_path&#xFF1A;store_path0=/home/fastdfs/fdfs_storage &#x6B64;&#x76EE;&#x5F55;&#x4E0B;&#x5B58;&#x50A8;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5728;/home/fastdfs/fdfs_storage/data&#x4E0B; store_path1=&#x2026;&#x2026;&#x4E0A;&#x62A5;tracker&#x7684;&#x5730;&#x5740;&#xFF1A;tracker_server=192.168.101.64:22122&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;tracker&#x5219;&#x914D;&#x7F6E;&#x591A;&#x4E2A;tracker&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;tracker_server=192.168.101.64:22122tracker_server=192.168.101.65:22122 &#x542F;&#x52A8;&#x505C;&#x6B62;fastDFS&#x542F;&#x52A8;/&#x505C;&#x6B62;&#x811A;&#x672C;&#x76EE;&#x5F55;&#xFF1A; fdfs_trackerd&#xFF1A;tracker&#x811A;&#x672C;&#xFF0C;&#x901A;&#x8FC7;&#x6B64;&#x811A;&#x672C;&#x5BF9; tracker&#x8FDB;&#x884C;&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62; /usr/bin/fdfs_trackerd /etc/fdfs/tracker.conf restartfdfs_storaged&#xFF1A;storage&#x811A;&#x672C;&#xFF0C;&#x901A;&#x8FC7;&#x6B64;&#x811A;&#x672C;&#x5BF9; storage&#x8FDB;&#x884C;&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62; /usr/bin/fdfs_storaged /etc/fdfs/storage.conf restart2.&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x6D4B;&#x8BD5;1.&#x642D;&#x5EFA;&#x73AF;&#x5883;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;javaApi&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4F20;&#xFF0C;java&#x7248;&#x672C;&#x7684;fastdfs-client&#x5730;&#x5740;&#x5728;&#xFF1A;https://github.com/happy&#xFB01;sh100/fastdfs-client-java&#xFF0C;&#x53C2;&#x8003;&#x6B64;&#x5DE5;&#x7A0B;&#x7F16;&#x5199;&#x6D4B;&#x8BD5;&#x7528;&#x4F8B;&#x3002; &#x521B;&#x5EFA;maven&#x5DE5;&#x7A0B;&#x7EE7;&#x627F;&#x7236;&#x5DE5;&#x7A0B; pom.xml &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/net.oschina.zcx7878/fastdfs-client-java --&gt; &lt;dependency&gt; &lt;groupId&gt;net.oschina.zcx7878&lt;/groupId&gt; &lt;artifactId&gt;fastdfs-client-java&lt;/artifactId&gt; &lt;version&gt;1.27.0.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;2.&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x5728;classpath:con&#xFB01;g&#x4E0B;&#x521B;&#x5EFA;fastdfs-client.properties&#x6587;&#x4EF6; # http&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4; fastdfs.connect_timeout_in_seconds = 5 # tracker&#x4E0E;storage&#x7F51;&#x7EDC;&#x901A;&#x4FE1;&#x8D85;&#x65F6;&#x65F6;&#x95F4; fastdfs.network_timeout_in_seconds = 30 # &#x5B57;&#x7B26;&#x7F16;&#x7801; fastdfs.charset = UTF-8 # &#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;,&#x591A;&#x4E2A;&#x5730;&#x5740;&#x4E2D;&#x95F4;&#x7528;&#x82F1;&#x6587;&#x9017;&#x53F7;&#x5206;&#x9694;192.168.101.65:22122,192.168.101.66:22122 fastdfs.tracker_servers = 192.168.25.133:221223.&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B;@SpringBootApplication public class TestFastDFSApplication { public static void main(String[] args) { SpringApplication.run(TestFastDFSApplication.class,args); } }4.&#x6587;&#x4EF6;&#x4E0A;&#x4F20; //&#x4E0A;&#x4F20;&#x6587;&#x4EF6; @Test public void testUpload(){ try { //&#x52A0;&#x8F7D;fastdfs-client.properties&#x914D;&#x7F6E;&#x6587;&#x4EF6; ClientGlobal.initByProperties(&quot;config/fastdfs-client.properties&quot;); //&#x5B9A;&#x4E49;TrackerClient&#xFF0C;&#x7528;&#x4E8E;&#x8BF7;&#x6C42;TrackerServer TrackerClient trackerClient = new TrackerClient(); //&#x8FDE;&#x63A5;tracker TrackerServer trackerServer = trackerClient.getConnection(); //&#x83B7;&#x53D6;Stroage StorageServer storeStorage = trackerClient.getStoreStorage(trackerServer); //&#x521B;&#x5EFA;stroageClient StorageClient1 storageClient1 = new StorageClient1(trackerServer,storeStorage); //&#x5411;stroage&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4F20;&#x6587;&#x4EF6; //&#x672C;&#x5730;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84; String filePath = &quot;e:/logo.png&quot;; //&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x540E;&#x62FF;&#x5230;&#x6587;&#x4EF6;Id String fileId = storageClient1.upload_file1(filePath, &quot;png&quot;, null); System.out.println(fileId); //group1/M00/00/01/wKhlQVuhU3eADb4pAAAawU0ID2Q159.png } catch (Exception e) { e.printStackTrace(); } }&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5230;&#x54EA;&#x91CC;&#x4E86;&#x5462;? &#x6253;&#x5F00;storage&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; vi /etc/fdfs/storage.conf&#x67E5;&#x770B;&#x670D;&#x52A1;&#x5668;&#x5B58;&#x50A8;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84; /store_path0store_path0=/home/fastdfs/store_path0 &#x6B64;&#x65F6;&#x53E6;&#x8D77;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; cd /home/fastdfs/store_path0&#x91CC;&#x9762;&#x6709;&#x4E00;&#x4E2A;data&#x7684;&#x76EE;&#x5F55; &#x63A7;&#x5236;&#x53F0;&#x6253;&#x5370;&#x8FD4;&#x56DE;&#x7684;&#x8DEF;&#x5F84; group1/M00/00/00/wKgZhV2itneAd2waAAF_POAPDhk891.png&#x4ECE;M00&#x5F80;&#x540E;&#x5F00;&#x59CB; ls 00/00/wKgZhV2itneAd2waAAF_POAPDhk891.png&#x5C31;&#x80FD;&#x627E;&#x5230;&#x4E0A;&#x4F20;&#x7684;&#x56FE;&#x7247;&#x6587;&#x4EF6;&#x4E86; 5.&#x6587;&#x4EF6;&#x4E0B;&#x8F7D; //&#x4E0B;&#x8F7D;&#x6587;&#x4EF6; @Test public void testDownload(){ try { //&#x52A0;&#x8F7D;fastdfs-client.properties&#x914D;&#x7F6E;&#x6587;&#x4EF6; ClientGlobal.initByProperties(&quot;config/fastdfs-client.properties&quot;); //&#x5B9A;&#x4E49;TrackerClient&#xFF0C;&#x7528;&#x4E8E;&#x8BF7;&#x6C42;TrackerServer TrackerClient trackerClient = new TrackerClient(); //&#x8FDE;&#x63A5;tracker TrackerServer trackerServer = trackerClient.getConnection(); //&#x83B7;&#x53D6;Stroage StorageServer storeStorage = trackerClient.getStoreStorage(trackerServer); //&#x521B;&#x5EFA;stroageClient StorageClient1 storageClient1 = new StorageClient1(trackerServer,storeStorage); //&#x4E0B;&#x8F7D;&#x6587;&#x4EF6; //&#x6587;&#x4EF6;id String fileId = &quot;group1/M00/00/00/wKgZhV2itneAd2waAAF_POAPDhk891.png&quot;; byte[] bytes = storageClient1.download_file1(fileId); //&#x4F7F;&#x7528;&#x8F93;&#x51FA;&#x6D41;&#x4FDD;&#x5B58;&#x6587;&#x4EF6; FileOutputStream fileOutputStream = new FileOutputStream(new File(&quot;x:/logo.png&quot;)); fileOutputStream.write(bytes); } catch (IOException e) { e.printStackTrace(); } catch (MyException e) { e.printStackTrace(); } }4.fastDFS&#x4E0A;&#x7684;nginx&#x5728; storage server &#x4E0A;&#x5B89;&#x88C5; nginx &#x7684;&#x76EE;&#x7684;&#x662F;&#x5BF9;&#x5916;&#x901A;&#x8FC7; http &#x8BBF;&#x95EE; storage server&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#x3002; &#x4F7F;&#x7528; nginx &#x7684;&#x6A21;&#x5757; FastDFS-nginx-module &#x7684;&#x4F5C;&#x7528;&#x662F;&#x901A;&#x8FC7; http &#x65B9;&#x5F0F;&#x8BBF;&#x95EE; storage &#x4E2D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5F53;&#x8BBF;&#x95EE;&#x5230;storage&#x4E2D;&#x8FD8;&#x6CA1;&#x6709;&#x6765;&#x5F97;&#x53CA;&#x590D;&#x5236;&#x7684;&#x5BBF;&#x4E3B;&#x673A;,&#x5C31;&#x4F1A;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x672C;&#x7EC4;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x526F;&#x672C;&#x3002; &#x5728;storage&#x4E0A;&#x5B89;&#x88C5;nginx&#xFF08;&#x5B89;&#x88C5;FastDFS-nginx-module&#x6A21;&#x5757;&#xFF09;&#x53C2;&#x8003;&#xFF1A;FastDFS&#x5B89;&#x88C5;&#x6559;&#x7A0B;.pdf &#x8FDB;&#x884C;&#x5B89;&#x88C5;&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x542F;&#x52A8;storage&#x4E0A;&#x7684;nginx&#xFF1A; /usr/local/nginx/sbin/nginx &#x2010;c /usr/local/nginx/conf/nginx&#x2010;fdfs.conf&#x6709;&#x8BEF; &#x76F4;&#x63A5;&#x542F;&#x52A8;nginx /usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf&#x53BB;&#x8BF7;&#x6C42;fastDFS&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;storage&#x7684;&#x56FE;&#x7247; http://192.168.25.133/group1/M00/00/00/wKgZhV2itneAd2waAAF_POAPDhk891.png&#x5C06;ip&#x5730;&#x5740;&#x548C;&#x865A;&#x62DF;&#x8DEF;&#x5F84;&#x66FF;&#x6362;&#x6210;&#x81EA;&#x5DF1;&#x7684;&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x5230;&#x56FE;&#x7247; 5.&#x672C;&#x673A;nginx&#x7F51;&#x5173;&#x670D;&#x52A1;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x5C06;&#x56FE;&#x7247;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;storage server&#x4E0A;&#x3002; 1&#x3001;&#x901A;&#x8FC7;&#x7F51;&#x5173;&#x56FE;&#x7247;&#x670D;&#x52A1;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x8BF7;&#x6C42;&#x56FE;&#x7247;&#x6D41;&#x7A0B;&#x56FE; 2&#x3001;&#x5728;&#x7F51;&#x5173;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x914D;&#x7F6E;&#x56FE;&#x7247;&#x670D;&#x52A1;&#x5668;&#x865A;&#x62DF;&#x4E3B;&#x673A; #&#x56FE;&#x7247;&#x670D;&#x52A1; upstream img_server_pool{ #server 192.168.25.134:80 weight=10; server 192.168.25.133:80 weight=10; } #&#x5B66;&#x6210;&#x7F51;&#x56FE;&#x7247;&#x670D;&#x52A1; server { listen 80; server_name img.xuecheng.com; #&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3; location /group1 { proxy_pass http://img_server_pool; } }3&#x3001;&#x4FEE;&#x6539;host&#x6587;&#x4EF6;&#x4FDD;&#x8BC1;&#x8D70;&#x672C;&#x5730;&#x7684;NDS 127.0.0.1 img.xuecheng.com4&#x3001;&#x8BF7;&#x6C42;&#x7F51;&#x5173;nginx http://img.xuecheng.com/group1/M00/00/00/wKgZhV2itneAd2waAAF_POAPDhk891.png document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-8-fen-bu-shi-wen-jian-xi-tong.html</url>
    <content type="text"><![CDATA[&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x5F00;&#x53D1;1.&#x9700;&#x6C42;&#x5206;&#x6790;&#x200B; &#x5728;&#x5F88;&#x591A;&#x7CFB;&#x7EDF;&#x90FD;&#x6709;&#x4E0A;&#x4F20;&#x56FE;&#x7247;/&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x4E0A;&#x4F20;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x3001;&#x4E0A;&#x4F20;&#x8BFE;&#x7A0B;&#x8D44;&#x6599;&#x3001;&#x4E0A;&#x4F20;&#x7528;&#x6237;&#x5934;&#x50CF;&#x7B49;&#xFF0C;&#x4E3A;&#x4E86;&#x63D0;&#x4F9B;&#x7CFB;&#x7EDF;&#x7684;&#x53EF;&#x91CD;&#x7528;&#x6027;&#x4E13;&#x95E8;&#x8BBE;&#x7ACB;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x627F;&#x62C5;&#x56FE;&#x7247;/&#x6587;&#x4EF6;&#x7684;&#x7BA1;&#x7406;&#xFF0C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x5B9E;&#x73B0;&#x5BF9;&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4F20;&#x3001;&#x5220;&#x9664;&#x3001;&#x67E5;&#x8BE2;&#x7B49;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x3002; &#x200B; &#x5404;&#x5404;&#x5B50;&#x7CFB;&#x7EDF;&#x4E0D;&#x518D;&#x5F00;&#x53D1;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5404;&#x5404;&#x5B50;&#x7CFB;&#x7EDF;&#x901A;&#x8FC7;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4F20;&#x3001;&#x5220;&#x9664;&#x7B49;&#x64CD;&#x4F5C;&#x3002;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x6700;&#x7EC8;&#x4F1A;&#x5C06;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5230;fastDSF&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002; &#x4E0B;&#x56FE;&#x662F;&#x5404;&#x5404;&#x5B50;&#x7CFB;&#x7EDF;&#x4E0E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#xFF1A; &#x4E0B;&#x56FE;&#x662F;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x4E2D;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#xFF1A; &#x6267;&#x884C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x7BA1;&#x7406;&#x5458;&#x8FDB;&#x5165;&#x6559;&#x5B66;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#xFF0C;&#x70B9;&#x51FB;&#x4E0A;&#x4F20;&#x56FE;&#x7247; 2&#x3001;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x81F3;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#xFF0C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x8BF7;&#x6C42;fastDFS&#x4E0A;&#x4F20;&#x6587;&#x4EF6; 3&#x3001;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x5C06;&#x6587;&#x4EF6;&#x5165;&#x5E93;&#xFF0C;&#x5B58;&#x50A8;&#x5230;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002; 4&#x3001;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x5411;&#x524D;&#x7AEF;&#x8FD4;&#x56DE;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7ED3;&#x679C;&#xFF0C;&#x5982;&#x679C;&#x6210;&#x529F;&#x5219;&#x5305;&#x62EC;&#x6587;&#x4EF6;&#x7684;Url&#x8DEF;&#x5F84;&#x3002; 5&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4FE1;&#x606F;&#x5230;&#x8BFE;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#x3002; 6&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5C06;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4FDD;&#x5B58;&#x5728;&#x8BFE;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#x3002; 2.&#x5BFC;&#x5165;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;1&#xFF09;&#x5BFC;&#x5165;xc-service-base-filesystem.zip&#x5DE5;&#x7A0B;&#x3002; 2&#xFF09;&#x5BFC;&#x5165;pom.xml &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;parent&gt; &lt;artifactId&gt;xc-framework-parent&lt;/artifactId&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../xc-framework-parent/pom.xml&lt;/relativePath&gt; &lt;/parent&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;artifactId&gt;xc-service-base-filesystem&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-service-api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-model&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;net.oschina.zcx7878&lt;/groupId&gt; &lt;artifactId&gt;fastdfs-client-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt;3&#xFF09;&#x5BFC;&#x5165;application.yml server: port: 22100 spring: application: name: xc-service-base-filesystem #mongo&#x914D;&#x7F6E; data: mongodb: database: xc_fs uri: mongodb://root:root@127.0.0.1:27017 #SpringMVC&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x914D;&#x7F6E; servlet: multipart: #&#x9ED8;&#x8BA4;&#x652F;&#x6301;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;. enabled: true #&#x652F;&#x6301;&#x6587;&#x4EF6;&#x5199;&#x5165;&#x78C1;&#x76D8;. file-size-threshold: 0 # &#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x4E34;&#x65F6;&#x76EE;&#x5F55; location: # &#x6700;&#x5927;&#x652F;&#x6301;&#x6587;&#x4EF6;&#x5927;&#x5C0F; max-file-size: 1MB # &#x6700;&#x5927;&#x652F;&#x6301;&#x8BF7;&#x6C42;&#x5927;&#x5C0F; max-request-size: 30MB xuecheng: fastdfs: connect_timeout_in_seconds: 5 network_timeout_in_seconds: 30 charset: UTF-8 tracker_servers: 192.168.22.133:221223.&#x6A21;&#x578B;&#x7C7B;&#x7CFB;&#x7EDF;&#x7684;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#xFF08;&#x56FE;&#x7247;&#x3001;&#x6587;&#x6863;&#x7B49;&#x5C0F;&#x6587;&#x4EF6;&#x7684;&#x4FE1;&#x606F;&#xFF09;&#x5728;mongodb&#x4E2D;&#x5B58;&#x50A8;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x7684;&#x6A21;&#x578B;&#x7C7B;&#x3002; 1) &#x6A21;&#x578B;&#x5982;&#x4E0B;&#xFF1A; import lombok.Data; import lombok.ToString; import org.springframework.data.annotation.Id; import org.springframework.data.mongodb.core.mapping.Document; import java.util.Map; @Data @ToString @Document(collection = &quot;filesystem&quot;) public class FileSystem { @Id private String fileId; //&#x6587;&#x4EF6;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84; private String filePath; //&#x6587;&#x4EF6;&#x5927;&#x5C0F; private long fileSize; //&#x6587;&#x4EF6;&#x540D;&#x79F0; private String fileName; //&#x6587;&#x4EF6;&#x7C7B;&#x578B; private String fileType; //&#x56FE;&#x7247;&#x5BBD;&#x5EA6; private int fileWidth; //&#x56FE;&#x7247;&#x9AD8;&#x5EA6; private int fileHeight; //&#x7528;&#x6237;id&#xFF0C;&#x7528;&#x4E8E;&#x6388;&#x6743; private String userId; //&#x4E1A;&#x52A1;key private String businesskey; //&#x4E1A;&#x52A1;&#x6807;&#x7B7E; private String filetag; //&#x6587;&#x4EF6;&#x5143;&#x4FE1;&#x606F; private Map metadata; }&#x8BF4;&#x660E;&#xFF1A; fileId&#xFF1A;fastDFS&#x8FD4;&#x56DE;&#x7684;&#x6587;&#x4EF6;ID&#x3002; filePath&#xFF1A;&#x8BF7;&#x6C42;fastDFS&#x6D4F;&#x89C8;&#x6587;&#x4EF6;URL&#x3002; filetag&#xFF1A;&#x6587;&#x4EF6;&#x6807;&#x7B7E;&#xFF0C;&#x7531;&#x4E8E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x662F;&#x516C;&#x5171;&#x670D;&#x52A1;&#xFF0C;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4F1A;&#x4E3A;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x7684;&#x5B50;&#x7CFB;&#x7EDF;&#x5206;&#x914D;&#x6587;&#x4EF6;&#x6807;&#x7B7E;&#xFF0C;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x6B64;&#x6587;&#x4EF6;&#x6765;&#x81EA;&#x54EA;&#x4E2A;&#x7CFB;&#x7EDF;&#x3002; businesskey&#xFF1A;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x4E3A;&#x5176;&#x5B83;&#x5B50;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x4E2A;&#x4E1A;&#x52A1;&#x6807;&#x8BC6;&#x5B57;&#x6BB5;&#xFF0C;&#x5404;&#x5B50;&#x7CFB;&#x7EDF;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x7684;&#x9700;&#x6C42;&#x53BB;&#x4F7F;&#x7528;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x4F1A;&#x5728;&#x6B64;&#x5B57;&#x6BB5;&#x4E2D;&#x5B58;&#x50A8;&#x8BFE;&#x7A0B;id&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x8BE5;&#x56FE;&#x7247;&#x5C5E;&#x4E8E;&#x54EA;&#x4E2A;&#x8BFE;&#x7A0B;&#x3002; metadata&#xFF1A;&#x6587;&#x4EF6;&#x76F8;&#x5173;&#x7684;&#x5143;&#x4FE1;&#x606F;&#x3002; 4.Api&#x63A5;&#x53E3;&#x5728;api&#x5DE5;&#x7A0B;&#x4E0B;&#x521B;&#x5EFA;com.xuecheng.api.filesystem&#x5305; import com.xuecheng.framework.domain.filesystem.response.UploadFileResult; import io.swagger.annotations.Api; import io.swagger.annotations.ApiOperation; import org.springframework.web.multipart.MultipartFile; @Api(value=&quot;&#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&quot;,description = &quot;&#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#xFF0C;&#x63D0;&#x4F9B;&#x6587;&#x4EF6;&#x7684;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&quot;) public interface FileSystemControllerApi { //&#x4E0A;&#x4F20;&#x6587;&#x4EF6; @ApiOperation(&quot;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x63A5;&#x53E3;&quot;) public UploadFileResult upload(MultipartFile multipartFile, String filetag, String businesskey, String metadata); }5.Dao&#x5728;filesystem&#x5DE5;&#x7A0B;&#x4E2D;com.xuecheng.api.filesystem.dao&#x5305;&#x4E2D;,&#x5C06;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x5B58;mongoDB import com.xuecheng.framework.domain.filesystem.FileSystem; import org.springframework.data.mongodb.repository.MongoRepository; public interface FileSystemRepository extends MongoRepository&lt;FileSystem,String&gt; { }6.&#x66F4;&#x65B0;&#x4E00;&#x4E0B;FileSystemCodeimport com.google.common.collect.ImmutableMap; import com.xuecheng.framework.model.response.ResultCode; import lombok.ToString; /** * Created by admin on 2018/3/5. */ @ToString public enum FileSystemCode implements ResultCode { FS_UPLOADFILE_FILEISNULL(false, 25001, &quot;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x4E3A;&#x7A7A;&#xFF01;&quot;), FS_UPLOADFILE_BUSINESSISNULL(false, 25002, &quot;&#x4E1A;&#x52A1;Id&#x4E3A;&#x7A7A;&#xFF01;&quot;), FS_UPLOADFILE_SERVERFAIL(false, 25003, &quot;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668;&#x5931;&#x8D25;&#xFF01;&quot;), FS_DELETEFILE_NOTEXISTS(false, 25004, &quot;&#x5220;&#x9664;&#x7684;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#xFF01;&quot;), FS_DELETEFILE_DBFAIL(false, 25005, &quot;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x5931;&#x8D25;&#xFF01;&quot;), FS_DELETEFILE_SERVERFAIL(false, 25006, &quot;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x5931;&#x8D25;&#xFF01;&quot;), FS_UPLOADFILE_METAERROR(false, 25007, &quot;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x5143;&#x4FE1;&#x606F;&#x8BF7;&#x4F7F;&#x7528;json&#x683C;&#x5F0F;&#xFF01;&quot;), FS_UPLOADFILE_USERISNULL(false, 25008, &quot;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7528;&#x6237;&#x4E3A;&#x7A7A;&#xFF01;&quot;), FS_INITFDFSERROR(false, 25009, &quot;&#x521D;&#x59CB;&#x5316;fastDFS&#x73AF;&#x5883;&#x51FA;&#x9519;&#xFF01;&quot;); //&#x64CD;&#x4F5C;&#x4EE3;&#x7801; boolean success; //&#x64CD;&#x4F5C;&#x4EE3;&#x7801; int code; //&#x63D0;&#x793A;&#x4FE1;&#x606F; String message; private FileSystemCode(boolean success, int code, String message) { this.success = success; this.code = code; this.message = message; } private static final ImmutableMap&lt;Integer, FileSystemCode&gt; CACHE; static { final ImmutableMap.Builder&lt;Integer, FileSystemCode&gt; builder = ImmutableMap.builder(); for (FileSystemCode commonCode : values()) { builder.put(commonCode.code(), commonCode); } CACHE = builder.build(); } @Override public boolean success() { return success; } @Override public int code() { return code; } @Override public String message() { return message; } }7.Serviceimport com.alibaba.fastjson.JSON; import com.xuecheng.filesystem.dao.FileSystemRepository; import com.xuecheng.framework.domain.filesystem.FileSystem; import com.xuecheng.framework.domain.filesystem.response.FileSystemCode; import com.xuecheng.framework.domain.filesystem.response.UploadFileResult; import com.xuecheng.framework.exception.ExceptionCast; import com.xuecheng.framework.model.response.CommonCode; import org.apache.commons.lang3.StringUtils; import org.csource.fastdfs.*; import org.slf4j.Logger; import org.slf4j.LoggerFactory; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Service; import org.springframework.web.multipart.MultipartFile; import java.util.Map; @Service public class FileSystemService { private static final Logger LOGGER = LoggerFactory.getLogger(FileSystemService.class); @Value(&quot;${xuecheng.fastdfs.tracker_servers}&quot;) String tracker_servers; @Value(&quot;${xuecheng.fastdfs.connect_timeout_in_seconds}&quot;) int connect_timeout_in_seconds; @Value(&quot;${xuecheng.fastdfs.network_timeout_in_seconds}&quot;) int network_timeout_in_seconds; @Value(&quot;${xuecheng.fastdfs.charset}&quot;) String charset; @Autowired FileSystemRepository fileSystemRepository; //&#x52A0;&#x8F7D;fdfs&#x7684;&#x914D;&#x7F6E; private void initFdfsConfig(){ try { ClientGlobal.initByTrackers(tracker_servers); ClientGlobal.setG_connect_timeout(connect_timeout_in_seconds); ClientGlobal.setG_network_timeout(network_timeout_in_seconds); ClientGlobal.setG_charset(charset); } catch (Exception e) { e.printStackTrace(); //&#x521D;&#x59CB;&#x5316;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x51FA;&#x9519; ExceptionCast.cast(FileSystemCode.FS_INITFDFSERROR); } } //&#x4E0A;&#x4F20;&#x6587;&#x4EF6; public UploadFileResult upload(MultipartFile file, String filetag, String businesskey, String metadata){ if(file == null){ ExceptionCast.cast(FileSystemCode.FS_UPLOADFILE_FILEISNULL); } //&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x5230;fdfs String fileId = fdfs_upload(file); //&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x5BF9;&#x8C61; FileSystem fileSystem = new FileSystem(); //&#x6587;&#x4EF6;id fileSystem.setFileId(fileId); //&#x6587;&#x4EF6;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x8DEF;&#x5F84; fileSystem.setFilePath(fileId); //&#x4E1A;&#x52A1;&#x6807;&#x8BC6; fileSystem.setBusinesskey(businesskey); //&#x6807;&#x7B7E; fileSystem.setFiletag(filetag); //&#x5143;&#x6570;&#x636E; if(StringUtils.isNotEmpty(metadata)){ try { Map map = JSON.parseObject(metadata, Map.class); fileSystem.setMetadata(map); } catch (Exception e) { e.printStackTrace(); } } //&#x540D;&#x79F0; fileSystem.setFileName(file.getOriginalFilename()); //&#x5927;&#x5C0F; fileSystem.setFileSize(file.getSize()); //&#x6587;&#x4EF6;&#x7C7B;&#x578B; fileSystem.setFileType(file.getContentType()); fileSystemRepository.save(fileSystem); return new UploadFileResult(CommonCode.SUCCESS,fileSystem); } //&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x5230;fdfs&#xFF0C;&#x8FD4;&#x56DE;&#x6587;&#x4EF6;id public String fdfs_upload(MultipartFile file) { try { //&#x52A0;&#x8F7D;fdfs&#x7684;&#x914D;&#x7F6E; initFdfsConfig(); //&#x521B;&#x5EFA;tracker client TrackerClient trackerClient = new TrackerClient(); //&#x83B7;&#x53D6;trackerServer TrackerServer trackerServer = trackerClient.getConnection(); //&#x83B7;&#x53D6;storage StorageServer storeStorage = trackerClient.getStoreStorage(trackerServer); //&#x521B;&#x5EFA;storage client StorageClient1 storageClient1 = new StorageClient1(trackerServer,storeStorage); //&#x4E0A;&#x4F20;&#x6587;&#x4EF6; //&#x6587;&#x4EF6;&#x5B57;&#x8282; byte[] bytes = file.getBytes(); //&#x6587;&#x4EF6;&#x539F;&#x59CB;&#x540D;&#x79F0; String originalFilename = file.getOriginalFilename(); //&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D; String extName = originalFilename.substring(originalFilename.lastIndexOf(&quot;.&quot;) + 1); //&#x6587;&#x4EF6;id String file1 = storageClient1.upload_file1(bytes, extName, null); return file1; } catch (Exception e) { e.printStackTrace(); } return null; } }8.Controllerimport com.xuecheng.api.filesystem.FileSystemControllerApi; import com.xuecheng.filesystem.service.FileSystemService; import com.xuecheng.framework.domain.filesystem.response.UploadFileResult; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.PostMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.multipart.MultipartFile; @RestController @RequestMapping(&quot;/filesystem&quot;) public class FileSystemController implements FileSystemControllerApi { @Autowired FileSystemService fileSystemService; @Override @PostMapping(&quot;/upload&quot;) public UploadFileResult upload(@RequestParam(&quot;file&quot;) MultipartFile file, @RequestParam(value = &quot;filetag&quot;, required = true) String filetag, @RequestParam(value = &quot;businesskey&quot;, required = false) String businesskey, @RequestParam(value = &quot;metedata&quot;, required = false) String metadata) { return fileSystemService.upload(file,filetag,businesskey,metadata); } }9.&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x4E0A;&#x52A0;&#x6CE8;&#x89E3;@SpringBootApplication(exclude= {DataSourceAutoConfiguration.class})10.&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;swagger-ui&#x6216;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002; &#x4E0B;&#x56FE;&#x662F;&#x4F7F;&#x7528;swagger-ui&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x7684;&#x754C;&#x9762;&#xFF1A; 11&#x524D;&#x7AEF;&#x9700;&#x6C42;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x754C;&#x9762;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x70B9;&#x51FB;&#x201C;&#x52A0;&#x53F7;&#x201D;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#xFF0C;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x81EA;&#x52A8;&#x663E;&#x793A;&#xFF1B;&#x70B9;&#x51FB;&#x201C;&#x5220;&#x9664;&#x201D;&#x5C06;&#x5220;&#x9664;&#x56FE;&#x7247;&#x3002; &#x9875;&#x9762;&#x4F7F;&#x7528;Element-UI&#x7684;Upload&#x4E0A;&#x4F20;&#x7EC4;&#x4EF6;&#x5B9E;&#x73B0;&#x4E0A;&#x8FB9;&#x7684;&#x6548;&#x679C;&#x3002; 1) template &lt;el-upload action=&quot;/api/filesystem/upload&quot; list-type=&quot;picture-card&quot; :before-upload=&quot;setuploaddata&quot; :on-success=&quot;handleSuccess&quot; :file-list=&quot;fileList&quot; :limit=&quot;picmax&quot; :on-exceed=&quot;rejectupload&quot; :before-remove=&quot;handleRemove&quot; :data=&quot;uploadval&quot; name = &quot;file&quot;&gt; &lt;i class=&quot;el-icon-plus&quot;&gt;&lt;/i&gt; &lt;/el-upload&gt;el-upload&#x53C2;&#x6570;&#x8BF4;&#x660E;&#xFF1A; action&#xFF1A;&#x5FC5;&#x9009;&#x53C2;&#x6570;&#xFF0C;&#x4E0A;&#x4F20;&#x7684;&#x5730;&#x5740; list-type&#xFF1A;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x7684;&#x7C7B;&#x578B;&#xFF08;text/picture/picture-card&#xFF09; before-upload&#xFF1A;&#x4E0A;&#x4F20;&#x524D;&#x6267;&#x884C;&#x94A9;&#x5B50;&#x65B9;&#x6CD5; &#xFF0C;function(file) on-success&#xFF1A;&#x4E0A;&#x4F20;&#x6210;&#x529F; &#x6267;&#x884C;&#x7684;&#x94A9;&#x5B50;&#x65B9;&#x6CD5; &#xFF0C;function(response, file, fileList) on-error&#xFF1A;&#x4E0A;&#x4F20;&#x5931;&#x8D25;&#x7684;&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#xFF0C;function(err, file, fileList) on-remove&#xFF1A;&#x6587;&#x4EF6;&#x5220;&#x9664;&#x7684;&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#xFF0C;function(file, fileList) file-list&#xFF1A;&#x6587;&#x4EF6;&#x5217;&#x8868;&#xFF0C;&#x6B64;&#x5217;&#x8868;&#x4E3A;&#x4E0A;&#x4F20;&#x6210;&#x529F; &#x7684;&#x6587;&#x4EF6; limit&#xFF1A;&#x6700;&#x5927;&#x5141;&#x8BB8;&#x4E0A;&#x4F20;&#x4E2A;&#x6570; on-exceed&#xFF1A;&#x6587;&#x4EF6;&#x8D85;&#x51FA;&#x4E2A;&#x6570;&#x9650;&#x5236;&#x65F6;&#x7684;&#x94A9;&#x5B50;&#xFF0C;&#x65B9;&#x6CD5;&#x4E3A;&#xFF1A;function(files, fileList) data&#xFF1A;&#x63D0;&#x4EA4;&#x4E0A;&#x4F20;&#x7684;&#x989D;&#x5916;&#x53C2;&#x6570;&#xFF0C;&#x9700;&#x8981;&#x5C01;&#x88C5;&#x4E3A;json&#x5BF9;&#x8C61;&#xFF0C;&#x6700;&#x7EC8;&#x63D0;&#x4EA4;&#x7ED9;&#x670D;&#x52A1;&#x7AEF;&#x4E3A;key/value&#x4E32; name = &#x201C;file&#x201D;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x4E00;&#x5B9A;&#x8981;&#x548C;&#x540E;&#x53F0;MultipartFile&#x53C2;&#x6570;&#x7684;&#x540D;&#x79F0;&#x5BF9;&#x5E94;&#x6216;&#x8005;&#x548C;@RequestParam(&#x201C;file&#x201D;)&#x91CC;&#x9762;&#x7684;&#x53C2;&#x6570;&#x5BF9;&#x5E94;&#x5426;&#x5219;&#x7684;&#x8BDD;&#x4F1A;&#x629B;&#x5F02;&#x5E38; 2)&#x6570;&#x636E;&#x6A21;&#x578B; &lt;script&gt; import * as sysConfig from &apos;@/../config/sysConfig&apos;; import * as courseApi from &apos;../../api/course&apos;; import utilApi from &apos;../../../../common/utils&apos;; import * as systemApi from &apos;../../../../base/api/system&apos;; export default { data() { return { picmax:1, courseid:&apos;&apos;, dialogImageUrl: &apos;&apos;, dialogVisible: false, fileList:[], uploadval:{filetag:&quot;course&quot;}, imgUrl:sysConfig.imgUrl } }, methods: { //&#x8D85;&#x51FA;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4E2A;&#x6570;&#x63D0;&#x793A;&#x4FE1;&#x606F; rejectupload(){ this.$message.error(&quot;&#x6700;&#x591A;&#x4E0A;&#x4F20;&quot;+this.picmax+&quot;&#x4E2A;&#x56FE;&#x7247;&quot;); }, //&#x5728;&#x4E0A;&#x4F20;&#x524D;&#x8BBE;&#x7F6E;&#x4E0A;&#x4F20;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x636E; setuploaddata(){ }, //&#x5220;&#x9664;&#x56FE;&#x7247; handleRemove(file, fileList) { console.log(file) alert(&apos;&#x5220;&#x9664;&apos;) }, //&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x7684;&#x94A9;&#x5B50;&#x65B9;&#x6CD5; handleSuccess(response, file, fileList){ console.log(response) alert(&apos;&#x4E0A;&#x4F20;&#x6210;&#x529F;&apos;) }, //&#x4E0A;&#x4F20;&#x5931;&#x8D25;&#x6267;&#x884C;&#x7684;&#x94A9;&#x5B50;&#x65B9;&#x6CD5; handleError(err, file, fileList){ this.$message.error(&apos;&#x4E0A;&#x4F20;&#x5931;&#x8D25;&apos;); //&#x6E05;&#x7A7A;&#x6587;&#x4EF6;&#x961F;&#x5217; this.fileList = [] } }, mounted(){ //&#x8BFE;&#x7A0B;id this.courseid = this.$route.params.courseid; } } &lt;/script&gt;&#x6D4B;&#x8BD5;1&#x3001;&#x70B9;&#x51FB;&#x201C;&#x52A0;&#x53F7;&#x201D;&#x6D4B;&#x8BD5;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x3002; &#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;1.&#x9700;&#x6C42;&#x5206;&#x6790;&#x200B; &#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x5230;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x540E;&#xFF0C;&#x5176;&#x5B83;&#x5B50;&#x7CFB;&#x7EDF;&#x5982;&#x679C;&#x60F3;&#x4F7F;&#x7528;&#x56FE;&#x7247;&#x53EF;&#x4EE5;&#x5F15;&#x7528;&#x56FE;&#x7247;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x4F7F;&#x7528;&#x56FE;&#x7247;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x5C06;&#x56FE;&#x7247;&#x5730;&#x5740;&#x4FDD;&#x5B58;&#x5230;&#x8BFE;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002; &#x200B; &#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x5230;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1; 2&#x3001;&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5230;course_pic&#x8868; &#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x521B;&#x5EFA;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x4E0E;&#x56FE;&#x7247;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#x7684;&#x8868; course_pic&#x3002; 3&#x3001;&#x5728;course_pic&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x6210;&#x529F;&#x540E;&#x65B9;&#x53EF;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4FE1;&#x606F;&#x3002; &#x901A;&#x8FC7;&#x67E5;&#x8BE2;course_pic&#x8868;&#x6570;&#x636E;&#x5219;&#x67E5;&#x8BE2;&#x5230;&#x67D0;&#x8BFE;&#x7A0B;&#x7684;&#x56FE;&#x7247;&#x4FE1;&#x606F;&#x3002; 2.&#x6A21;&#x578B;@Data @ToString @Entity @Table(name=&quot;course_pic&quot;) @GenericGenerator(name = &quot;jpa-assigned&quot;, strategy = &quot;assigned&quot;) public class CoursePic implements Serializable { private static final long serialVersionUID = -916357110051689486L; @Id @GeneratedValue(generator = &quot;jpa-assigned&quot;) private String courseid; private String pic; }3.API&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x56FE;&#x7247;&#x5219;&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x4E2D;&#x8981;&#x63D0;&#x4F9B;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x7684;api&#x3002; @ApiOperation(&quot;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&quot;) public ResponseResult addCoursePic(String courseId,String pic);4.Daopublic interface CoursePicRepository extends JpaRepository&lt;CoursePic, String&gt; { }5.Service&#x6CE8;&#x5165;@Autowired CoursePicRepository &#x5728; CourseService&#x4E2D;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;: //&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; @Transactional public ResponseResult saveCoursePic(String courseId,String pic){ //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; Optional&lt;CoursePic&gt; picOptional = coursePicRepository.findById(courseId); CoursePic coursePic = null; if(picOptional.isPresent()){ coursePic = picOptional.get(); } //&#x6CA1;&#x6709;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x5219;&#x65B0;&#x5EFA;&#x5BF9;&#x8C61; if(coursePic == null){ coursePic = new CoursePic(); } coursePic.setCourseid(courseId); coursePic.setPic(pic); //&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; coursePicRepository.save(coursePic); return new ResponseResult(CommonCode.SUCCESS); }6.Controller @Override @PostMapping(&quot;/coursepic/add&quot;) public ResponseResult addCoursePic(@RequestParam(&quot;courseId&quot;) String courseId, @RequestParam(&quot;pic&quot;) String pic) { //&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; return courseService.saveCoursePic(courseId,pic); }&#x524D;&#x7AEF;Api//&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; export const addCoursePic= (courseId,pic) =&gt; { return http.requestPost(apiUrl+&apos;/course/coursepic/add?courseId=&apos;+courseId+&quot;&amp;pic=&quot;+pic) }&#x9875;&#x9762;1.&#x6DFB;&#x52A0;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x7684;&#x94A9;&#x5B50; :on-success=&#x201D;handleSuccess&#x201D; &lt;el-upload action=&quot;/api/filesystem/upload&quot; list-type=&quot;picture-card&quot; :before-upload=&quot;setuploaddata&quot; :on-success=&quot;handleSuccess&quot; :file-list=&quot;fileList&quot; :limit=&quot;picmax&quot; :on-exceed=&quot;rejectupload&quot; :before-remove=&quot;handleRemove&quot; :data=&quot;uploadval&quot; name = &quot;file&quot;&gt; &lt;i class=&quot;el-icon-plus&quot;&gt;&lt;/i&gt; &lt;/el-upload&gt;2.&#x5728;&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#x4E2D;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4FE1;&#x606F; &#x5982;&#x679C;&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x5931;&#x8D25;&#x5219;&#x4E0A;&#x4F20;&#x5931;&#x8D25;&#xFF0C;&#x6E05;&#x9664;&#x6587;&#x4EF6;&#x5217;&#x8868;&#x3002; //&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x7684;&#x94A9;&#x5B50;&#x65B9;&#x6CD5; handleSuccess(response, file, fileList) { console.log(response) //alert(&apos;&#x4E0A;&#x4F20;&#x6210;&#x529F;&apos;) //&#x8C03;&#x7528;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x7684;&#x4FDD;&#x5B58;&#x56FE;&#x7247;&#x63A5;&#x53E3;&#xFF0C;&#x5C06;&#x56FE;&#x7247;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x5230;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;course_pic&#x4E2D; //&#x4ECE;response&#x5F97;&#x5230;&#x65B0;&#x7684;&#x56FE;&#x7247;&#x6587;&#x4EF6;&#x7684;&#x5730;&#x5740; if (response.success) { let fileId = response.fileSystem.fileId; courseApi.addCoursePic(this.courseid, fileId).then(res =&gt; { if (res.success) { this.$message.success(&quot;&#x4E0A;&#x4F20;&#x6210;&#x529F;&quot;) } else { this.$message.error(res.message) } }) } },&#x56FE;&#x7247;&#x67E5;&#x8BE2;1.&#x9700;&#x6C42;&#x5206;&#x6790;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#xFF0C;&#x518D;&#x6B21;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x4E0A;&#x4F20;&#x9875;&#x9762;&#x5E94;&#x8BE5;&#x663E;&#x793A;&#x51FA;&#x6765;&#x5DF2;&#x4E0A;&#x4F20;&#x7684;&#x56FE;&#x7247;&#x3002; 2.API&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5; @ApiOperation(&quot;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x57FA;&#x7840;&#x4FE1;&#x606F;&quot;) public CoursePic findCoursePic(String courseId);3.Daopublic interface CoursePicRepository extends JpaRepository&lt;CoursePic, String&gt; { }4.Service&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; public CoursePic findCoursepic(String courseId) { Optional&lt;CoursePic&gt; picOptional = coursePicRepository.findById(courseId); if(picOptional.isPresent()){ CoursePic coursePic = picOptional.get(); return coursePic; } return null; }5.Controller @Override @GetMapping(&quot;/coursepic/list/{courseId}&quot;) public CoursePic findCoursePic(@PathVariable(&quot;courseId&quot;) String courseId) { return courseService.findCoursepic(courseId); }&#x524D;&#x7AEF;API//&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; export const findCoursePicList = courseId =&gt; { return http.requestQuickGet(apiUrl+&apos;/course/coursepic/list/&apos;+courseId) }&#x9875;&#x9762;&#x5728;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x9875;&#x9762;&#x7684;mounted&#x94A9;&#x5B50;&#x65B9;&#x6CD5; &#x4E2D;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x5C06;&#x56FE;&#x7247;&#x5730;&#x5740;&#x8D4B;&#x503C;&#x7ED9;&#x6570;&#x636E;&#x5BF9;&#x8C61; 1&#x3001;&#x5728;&#x94A9;&#x5B50;&#x51FD;&#x6570;&#x4E2D;&#x5B9A;&#x4E49;&#x56FE;&#x7247;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5; mounted() { //&#x8BFE;&#x7A0B;id this.courseid = this.$route.params.courseid; //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B; courseApi.findCoursePicList(this.courseid).then(res =&gt; { if (res &amp;&amp; res.pic) { let imgUrl = this.imgUrl + res.pic; //&#x5C06;&#x56FE;&#x7247;&#x5730;&#x5740;&#x8BBE;&#x7F6E;&#x5230; this.fileList.push({name: &apos;pic&apos;, url: imgUrl, fileId: res.pic}) } }) //&#x6D4B;&#x8BD5;&#x8C03;&#x7528;promise&#x65B9;&#x6CD5;&#xFF0C;then&#x4E2D;&#x5199;&#x7684;&#x6210;&#x529F;&#x540E;&#x7684;&#x56DE;&#x8C03;&#x65B9;&#x6CD5;&#xFF0C; // this.testPromise(3).then(res=&gt;{ // alert(res) // }).catch(res=&gt;{//catch&#x5C31;&#x662F;&#x6267;&#x884C;&#x5931;&#x8D25;&#x7684;&#x56DE;&#x8C03;&#x65B9;&#x6CD5; // alert(&quot;&#x5931;&#x8D25;&#x4E86;&#x3002;&#x3002;&#x3002;&#x3002;&#x3002;&quot;) // alert(res) // }) }&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x5220;&#x9664;&#x9700;&#x6C42;&#x5206;&#x6790;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x91CD;&#x65B0;&#x4E0A;&#x4F20;&#xFF0C;&#x65B9;&#x6CD5;&#x662F;&#x5148;&#x5220;&#x9664;&#x73B0;&#x6709;&#x56FE;&#x7247;&#x518D;&#x4E0A;&#x4F20;&#x65B0;&#x56FE;&#x7247;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x6B64;&#x5220;&#x9664;&#x53EA;&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4FE1;&#x606F;&#xFF0C;&#x4E0D;&#x53BB;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x53CA;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x7531;&#x4E8E;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x6765;&#x6E90;&#x4E8E;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x6587;&#x4EF6;&#x5E93;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x56FE;&#x7247;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x591A;&#x4E2A;&#x5730;&#x65B9;&#x5171;&#x7528;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5230;&#x56FE;&#x7247;&#x5E93;&#x7531;&#x7528;&#x6237;&#x786E;&#x8BA4;&#x540E;&#x518D;&#x5220;&#x9664;&#x3002; API&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x6DFB;&#x52A0;&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;api&#xFF1A; @ApiOperation(&quot;&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&quot;) public ResponseResult deleteCoursePic(String courseId);DaoCoursePicRepository&#x7236;&#x7C7B;&#x63D0;&#x4F9B;&#x7684;delete&#x65B9;&#x6CD5;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x65E0;&#x6CD5;&#x77E5;&#x9053;&#x662F;&#x5426;&#x5220;&#x9664;&#x6210;&#x529F;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5728;CoursePicRepository&#x4E0B;&#x8FB9;&#x81EA;&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#xFF1A; //&#x5220;&#x9664;&#x6210;&#x529F;&#x8FD4;&#x56DE;1&#x5426;&#x5219;&#x8FD4;&#x56DE;0 long deleteByCourseid(String courseid);Service //&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; @Transactional public ResponseResult deleteCoursePic(String courseId) { //&#x6267;&#x884C;&#x5220;&#x9664;&#xFF0C;&#x8FD4;&#x56DE;1&#x8868;&#x793A;&#x5220;&#x9664;&#x6210;&#x529F;&#xFF0C;&#x8FD4;&#x56DE;0&#x8868;&#x793A;&#x5220;&#x9664;&#x5931;&#x8D25; long result = coursePicRepository.deleteByCourseid(courseId); if(result&gt;0){ return new ResponseResult(CommonCode.SUCCESS); } return new ResponseResult(CommonCode.FAIL); }Controller @Override @DeleteMapping(&quot;/coursepic/delete&quot;) public ResponseResult deleteCoursePic(@RequestParam(&quot;courseId&quot;) String courseId) { return courseService.deleteCoursePic(courseId); }&#x524D;&#x7AEF;API//&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; export const deleteCoursePic= courseId =&gt; { return http.requestDelete(apiUrl+&apos;/course/coursepic/delete?courseId=&apos;+courseId) }&#x9875;&#x9762;1&#xFF09;before-remove&#x94A9;&#x5B50;&#x65B9;&#x6CD5; &#x5728;upload&#x7EC4;&#x4EF6;&#x7684;before-remove&#x94A9;&#x5B50;&#x65B9;&#x6CD5; &#x4E2D;&#x5B9E;&#x73B0;&#x5220;&#x9664;&#x52A8;&#x4F5C;&#x3002; &lt;el-upload action=&quot;/api/filesystem/upload&quot; list-type=&quot;picture-card&quot; :before-upload=&quot;setuploaddata&quot; :on-success=&quot;handleSuccess&quot; :file-list=&quot;fileList&quot; :limit=&quot;picmax&quot; :on-exceed=&quot;rejectupload&quot; :before-remove=&quot;handleRemove&quot; :data=&quot;uploadval&quot; name=&quot;file&quot;&gt; &lt;i class=&quot;el-icon-plus&quot;&gt;&lt;/i&gt; &lt;/el-upload&gt;before-remove&#x8BF4;&#x660E;&#xFF1A;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x4E4B;&#x524D;&#x7684;&#x94A9;&#x5B50;&#xFF0C;&#x53C2;&#x6570;&#x4E3A;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x6587;&#x4EF6;&#x5217;&#x8868;&#xFF0C;&#x82E5;&#x8FD4;&#x56DE; false &#x6216;&#x8005;&#x8FD4;&#x56DE; Promise &#x4E14;&#x88AB; reject&#xFF0C;&#x5219;&#x505C;&#x6B62;&#x5220;&#x9664;&#x3002; 2)&#x5B9A;&#x4E49;handleRemove&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF1A; //&#x5220;&#x9664;&#x56FE;&#x7247; handleRemove(file, fileList) { //console.log(file) //alert(&apos;&#x5220;&#x9664;&apos;) //return true; //&#x5220;&#x9664;&#x56FE;&#x7247; courseApi.deleteCoursePic(this.courseid).then((res) =&gt; { if (res.success) { this.$message.success(&apos;&#x5220;&#x9664;&#x6210;&#x529F;&apos;); return true; } else { this.$message.error(res.message); return false; } }); },&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x4EE3;&#x7801;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;!!! &#x6211;&#x628A;&#x4EE3;&#x7801;&#x4E2D;&#x63D0;&#x4EA4;&#x7684;&#x8BFE;&#x7A0B;id&#x6545;&#x610F;&#x5199;&#x9519;&#xFF0C;&#x6309;&#x7167;&#x6211;&#x4EEC;&#x9884;&#x671F;&#x5E94;&#x8BE5;&#x662F;&#x5220;&#x9664;&#x5931;&#x8D25;&#x3002; &#x800C;&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x5374;&#x662F;&#x56FE;&#x7247;&#x5728;&#x9875;&#x9762;&#x4E0A;&#x5220;&#x9664;&#x6210;&#x529F;,&#x4F46;&#x662F;&#x63D0;&#x793A;&#x7684;&#x5374;&#x662F;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#x3002; //&#x5220;&#x9664;&#x56FE;&#x7247; handleRemove(file, fileList) { console.log(file) // alert(&apos;&#x5220;&#x9664;&apos;) // return true; //&#x5220;&#x9664;&#x56FE;&#x7247; courseApi.deleteCoursePic(&apos;1&apos;).then((res) =&gt; { if(res.success){ this.$message.success(&apos;&#x5220;&#x9664;&#x6210;&#x529F;&apos;); return true; }else{ this.$message.error(res.message); return false; } }); },&#x95EE;&#x9898;&#x539F;&#x56E0;&#xFF1A; &#x901A;&#x8FC7;&#x67E5;&#x8BE2;deleteCoursePic&#x65B9;&#x6CD5;&#x7684;&#x5E95;&#x5C42;&#x4EE3;&#x7801;&#xFF0C;deleteCoursePic&#x6700;&#x7EC8;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;promise&#x5BF9;&#x8C61;&#x3002; Promise&#x662F;ES6&#x63D0;&#x4F9B;&#x7684;&#x7528;&#x4E8E;&#x5F02;&#x6B65;&#x5904;&#x7406;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x4E3A;axios&#x63D0;&#x4EA4;&#x662F;&#x5F02;&#x6B65;&#x63D0;&#x4EA4;&#xFF0C;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;promise&#x4F5C;&#x4E3A;&#x8FD4;&#x56DE;&#x503C;&#x3002; Promise&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; Promise&#x5BF9;&#x8C61;&#x5728;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#x6709;&#x4E09;&#x79CD;&#x72B6;&#x6001;&#xFF1A; pending&#xFF1A;&#x8FDB;&#x884C;&#x4E2D; resolved&#xFF1A;&#x64CD;&#x4F5C;&#x6210;&#x529F; rejected: &#x64CD;&#x4F5C;&#x5931;&#x8D25; Promise&#x7684;&#x6784;&#x5EFA;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; const promise = new Promise(function(resolve,reject){ //...TODO... if(&#x64CD;&#x4F5C;&#x6210;&#x529F;){ resolve(value); }else{ reject(error); } })&#x4E0A;&#x8FB9;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;function(resolve,reject)&#x6267;&#x884C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#xFF09;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x4E00;&#x4E9B;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x3002; 2&#xFF09;&#x5982;&#x679C;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x5C06;Promise&#x7684;&#x72B6;&#x6001;&#x7531;pending&#x53D8;&#x4E3A;resolved&#xFF0C;&#x5E76;&#x5C06;&#x64CD;&#x4F5C;&#x7ED3;&#x679C;&#x4F20;&#x51FA;&#x53BB; 3&#xFF09;&#x5982;&#x679C;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#x4F1A;&#x5C06;promise&#x7684;&#x72B6;&#x6001;&#x7531;pending&#x53D8;&#x4E3A;rejected&#xFF0C;&#x5E76;&#x5C06;&#x5931;&#x8D25;&#x7ED3;&#x679C;&#x4F20;&#x51FA;&#x53BB;&#x3002; &#x4E0A;&#x8FB9;&#x8BF4;&#x7684;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#x5C06;&#x64CD;&#x4F5C;&#x7ED3;&#x679C;&#x4F20;&#x7ED9;&#x8C01;&#x4E86;&#x5462;&#xFF1F;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#x5C06;&#x5931;&#x8D25;&#x7ED3;&#x679C;&#x4F20;&#x7ED9;&#x8C01;&#x4E86;&#x5462;&#xFF1F; &#x901A;&#x8FC7;promise&#x7684;then&#x3001;catch&#x6765;&#x6307;&#x5B9A; promise.then(function (result) { console.log(&apos;&#x64CD;&#x4F5C;&#x6210;&#x529F;&#xFF1A;&apos; + result); }); promise.catch(function (reason) { console.log(&apos;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#xFF1A;&apos; + reason); });&#x4F8B;&#x5B50;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x8FD4;&#x56DE;promise&#x5BF9;&#x8C61; testpromise(i){ return new Promise((resolve,reject)=&gt;{ if(i % 2==0){ resolve(&apos;&#x6210;&#x529F;&#x4E86;&apos;) }else{ reject(&apos;&#x62D2;&#x7EDD;&#x4E86;&apos;) } }) }2&#x3001;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; &#x5411;&#x65B9;&#x6CD5;&#x4F20;&#x5165;&#x5076;&#x6570;&#x3001;&#x5947;&#x6570;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002; this.testpromise(3).then(res=&gt;{//&#x5728;then&#x4E2D;&#x5BF9;&#x6210;&#x529F;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x5904;&#x7406; alert(res) }).catch(res=&gt;{//&#x5728;catch&#x4E2D;&#x5BF9;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x5904;&#x7406; alert(res) })3&#x3001;&#x6700;&#x7EC8;&#x5C06;handleRemove&#x65B9;&#x6CD5;&#x4FEE;&#x6539;&#x5982;&#x4E0B; handleRemove&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;promise&#x5BF9;&#x8C61;&#xFF0C;&#x5F53;&#x5220;&#x9664;&#x6210;&#x529F;&#x5219;resolve&#xFF0C;&#x5220;&#x9664;&#x5931;&#x8D25;&#x5219;reject&#x3002; handleRemove(file, fileList) { //console.log(file) //&#x8C03;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x53BB;&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x8FD4;&#x56DE;false&#xFF0C;&#x524D;&#x7AEF;&#x505C;&#x6B62;&#x5220;&#x9664; //&#x5F02;&#x6B65;&#x8C03;&#x7528; return new Promise((resolve, rejct) =&gt; { courseApi.deleteCoursePic(this.courseid).then(res =&gt; { if (res.success) { //&#x6210;&#x529F; resolve() } else { this.$message.error(&quot;&#x5220;&#x9664;&#x5931;&#x8D25;&quot;); //&#x5931;&#x8D25; rejct() } }) }) }, document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-4-ye-mian-jing-tai-hua.html</url>
    <content type="text"><![CDATA[1.&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;1&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x7BA1;&#x7406;&#xFF1F; &#x672C;&#x9879;&#x76EE;cms&#x7CFB;&#x7EDF;&#x7684;&#x529F;&#x80FD;&#x5C31;&#x662F;&#x6839;&#x636E;&#x8FD0;&#x8425;&#x9700;&#x8981;&#xFF0C;&#x5BF9;&#x95E8;&#x6237;&#x7B49;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x90E8;&#x5206;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x5FEB;&#x901F;&#x6839;&#x636E;&#x7528;&#x6237;&#x9700;&#x6C42;&#x4FEE;&#x6539; &#x9875;&#x9762;&#x5185;&#x5BB9;&#x5E76;&#x4E0A;&#x7EBF;&#x7684;&#x9700;&#x6C42;&#x3002;2&#x3001;&#x5982;&#x4F55;&#x4FEE;&#x6539;&#x9875;&#x9762;&#x7684;&#x5185;&#x5BB9;&#xFF1F; &#x5728;&#x5F00;&#x53D1;&#x4E2D;&#x4FEE;&#x6539;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x662F;&#x9700;&#x8981;&#x4EBA;&#x5DE5;&#x7F16;&#x5199;html&#x53CA;JS&#x6587;&#x4EF6;&#xFF0C;CMS&#x7CFB;&#x7EDF;&#x662F;&#x901A;&#x8FC7;&#x7A0B;&#x5E8F;&#x81EA;&#x52A8;&#x5316;&#x7684;&#x5BF9;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x901A;&#x8FC7;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x6280;&#x672F;&#x751F;&#x6210;html&#x9875;&#x9762;&#x3002;3&#x3001;&#x5982;&#x4F55;&#x5BF9;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x5316;&#xFF1F;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x7B49;&#x4E8E;&#x6A21;&#x677F;&#x52A0;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x7684;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x4E86;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x3002;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x5C31;&#x662F;&#x5C06;&#x9875;&#x9762;&#x6A21;&#x677F;&#x548C;&#x6570;&#x636E;&#x901A;&#x8FC7;&#x6280;&#x672F;&#x624B;&#x6BB5;&#x5C06;&#x4E8C;&#x8005;&#x5408;&#x4E8C;&#x4E3A;&#x4E00;&#xFF0C;&#x751F;&#x6210;&#x4E00;&#x4E2A;html&#x7F51;&#x9875;&#x6587;&#x4EF6;&#x3002;4&#x3001;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x53CA;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x83B7;&#x53D6;&#x6A21;&#x578B;&#x6570;&#x636E; 2&#x3001;&#x5236;&#x4F5C;&#x6A21;&#x677F; 3&#x3001;&#x5BF9;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x5316; 4&#x3001;&#x5C06;&#x9759;&#x6001;&#x5316;&#x751F;&#x6210;&#x7684;html&#x9875;&#x9762;&#x5B58;&#x653E;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D; 5&#x3001;&#x5C06;&#x5B58;&#x653E;&#x5728;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;html&#x6587;&#x4EF6;&#x53D1;&#x5E03;&#x5230;&#x670D;&#x52A1;&#x5668; &#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x7684;&#x597D;&#x5904; :1.&#x9759;&#x6001;&#x7F51;&#x9875;&#x5316;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x901F;&#x5EA6; &#x4E0D;&#x7BA1;&#x662F;asp&#x3001;php&#x3001;jsp&#x3001;.net&#x7B49;&#x52A8;&#x6001;&#x7A0B;&#x5E8F;&#xFF0C;&#x90FD;&#x9700;&#x8981;&#x8BFB;&#x53D6;&#x8C03;&#x7528;&#x6570;&#x636E;&#x5E93;&#x5185;&#x5BB9;&#xFF0C;&#x624D;&#x80FD;&#x663E;&#x793A;&#x6570;&#x636E;&#xFF0C;&#x76F8;&#x5BF9;&#x4E8E;&#x6D41;&#x91CF;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x5C31;&#x589E;&#x52A0;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BFB;&#x53D6;&#x6B21;&#x6570;&#xFF0C;&#x5360;&#x7528;&#x5F88;&#x5927;&#x7684;&#x670D;&#x52A1;&#x5668;&#x8D44;&#x6E90;&#xFF0C;&#x5F71;&#x54CD;&#x7F51;&#x7AD9;&#x901F;&#x5EA6;&#x3002;&#x800C;&#x91C7;&#x7528;&#x7F51;&#x7AD9;&#x505A;&#x6210;&#x9759;&#x6001;&#x7684;&#xFF0C;&#x76F4;&#x63A5;&#x9664;&#x53BB;&#x4E86;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x73AF;&#x8282;&#xFF0C;&#x8FD8;&#x63D0;&#x9AD8;&#x4E86;&#x7F51;&#x7AD9;&#x53CD;&#x6620;&#x901F;&#x5EA6;&#x3002; 2.&#x9759;&#x6001;&#x7F51;&#x9875;&#x5316;&#x6709;&#x5229;&#x4E8E;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x6536;&#x5F55; &#x4ECE;&#x7F51;&#x7AD9;&#x4F18;&#x5316;&#x6765;&#x5206;&#x6790;&#xFF0C;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x66F4;&#x559C;&#x6B22;&#x9759;&#x6001;&#x7684;&#x7F51;&#x9875;&#xFF0C;&#x9759;&#x6001;&#x7F51;&#x9875;&#x4E0E;&#x52A8;&#x6001;&#x7F51;&#x9875;&#x76F8;&#x6BD4;&#xFF0C;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x66F4;&#x559C;&#x6B22;&#x9759;&#x7684;&#xFF0C;&#x66F4;&#x4FBF;&#x4E8E;&#x6293;&#x53D6;&#xFF0C;&#x641C;&#x7D22;&#x5F15;&#x64CE;SEO&#x6392;&#x540D;&#x66F4;&#x5BB9;&#x6613;&#x63D0;&#x9AD8;&#xFF0C;&#x76EE;&#x524D;&#x4E00;&#x4E9B;&#x95E8;&#x6237;&#x7F51;&#x7AD9;&#xFF0C;&#x5982;&#x65B0;&#x6D6A;&#x3001;&#x641C;&#x72D0;&#x3001;&#x7F51;&#x6613;&#x3001;&#x963F;&#x91CC;&#x5DF4;&#x5DF4;&#x3001;&#x767E;&#x5EA6;&#x3001;&#x6167;&#x806A;&#x7B49;&#xFF0C;&#x9875;&#x9762;&#x5927;&#x591A;&#x90FD;&#x91C7;&#x7528;&#x9759;&#x6001;&#x6216;&#x4F2A;&#x9759;&#x6001;&#x7F51;&#x9875;&#x6765;&#x663E;&#x793A;&#xFF0C;&#x66F4;&#x4FBF;&#x4E8E;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x6293;&#x53D6;&#x4E0E;&#x6392;&#x540D;&#x3002; 3.&#x9759;&#x6001;&#x7F51;&#x9875;&#x5316;&#x6709;&#x5229;&#x4E8E;&#x7F51;&#x7AD9;&#x7A33;&#x5B9A; 1&#x3001;&#x4ECE;&#x5B89;&#x5168;&#x89D2;&#x5EA6;&#x8BB2;&#xFF0C;&#x9759;&#x6001;&#x7F51;&#x9875;&#x4E0D;&#x5B9C;&#x906D;&#x5230;&#x9ED1;&#x5BA2;&#x653B;&#x51FB;&#xFF0C;&#x4F46;&#x4E5F;&#x8BF4;&#x4E0D;&#x5B9A;&#xFF0C;&#x9ED1;&#x5BA2;&#x80FD;&#x8010;&#x5927;&#x7740;&#x5462; 2&#x3001;&#x4ECE;&#x7F51;&#x7AD9;&#x7A33;&#x5B9A;&#x6027;&#x6765;&#x8BB2;&#xFF0C;&#x5982;&#x679C;&#x7A0B;&#x5E8F;&#x3001;&#x6570;&#x636E;&#x5E93;&#x51FA;&#x4E86;&#x95EE;&#x9898;&#xFF0C;&#x4F1A;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x7F51;&#x7AD9;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x9759;&#x6001;&#x7F51;&#x9875;&#x5C31;&#x907F;&#x514D;&#x4E86;&#x5982;&#x6B64;&#x60C5;&#x51B5;&#xFF0C;&#x4E0D;&#x4F1A;&#x56E0;&#x4E3A;&#x7A0B;&#x5E8F;&#x7B49;&#xFF0C;&#x800C;&#x635F;&#x5931;&#x7F51;&#x7AD9;&#x6570;&#x636E;&#xFF0C;&#x5F71;&#x54CD;&#x6B63;&#x5E38;&#x6253;&#x5F00;&#x3002; 4.&#x9759;&#x6001;&#x9875;&#x9762;&#x662F;&#x7F51;&#x9875;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x5728;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x6267;&#x884C;asp,php,jsp,.net&#x7B49;&#x7A0B;&#x5E8F;&#x751F;&#x6210;&#x5BA2;&#x6237;&#x7AEF;&#x7F51;&#x9875;&#x4EE3;&#x7801;&#x7684;&#x7F51;&#x9875;&#xFF0C;&#x9759;&#x6001;&#x9875;&#x9762;&#x7F51;&#x5740;&#x4E2D;&#x4E00;&#x822C;&#x4E0D;&#x542B;&#x201C;&#xFF1F;&#x201D;&#x3001;&#x201C;=&#x201D;&#x3001;&#x201C;&amp;&#x201D;&#x7B49;&#x7279;&#x6B8A;&#x7B26;&#x53F7;&#x3002;&#x9759;&#x6001;&#x9875;&#x9762;&#x4E0D;&#x80FD;&#x81EA;&#x4E3B;&#x7BA1;&#x7406;&#x53D1;&#x5E03;&#x66F4;&#x65B0;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x66F4;&#x65B0;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#xFF0C;&#x8981;&#x901A;&#x8FC7;FTP&#x8F6F;&#x4EF6;&#x628A;&#x6587;&#x4EF6;DOWN&#x4E0B;&#x6765;&#x7528;&#x7F51;&#x9875;&#x5236;&#x4F5C;&#x8F6F;&#x4EF6;&#x4FEE;&#x6539;&#xFF08;&#x901A;&#x8FC7;fso&#x7B49;&#x6280;&#x672F;&#x4F8B;&#x5916;&#xFF09; &#x5E38;&#x89C1;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x4E3E;&#x4F8B;&#xFF1A;.html&#x6269;&#x5C55;&#x540D;&#x7684;&#x3001;.htm&#x6269;&#x5C55;&#x540D;&#x7684;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x9759;&#x6001;&#x9875;&#x9762;&#x5E76;&#x975E;&#x7F51;&#x7AD9;&#x4E0A;&#x6CA1;&#x6709;&#x52A8;&#x753B;&#x7684;&#x5C31;&#x662F;&#x9759;&#x6001;&#x9875;&#x9762;&#x3002;2.Freemarkerfreemarker&#x662F;&#x4E00;&#x4E2A;&#x7528;Java&#x5F00;&#x53D1;&#x7684;&#x6A21;&#x677F;&#x5F15;&#x64CE; &#x5E38;&#x7528;&#x7684;java&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x8FD8;&#x6709;&#x54EA;&#x4E9B;&#xFF1F; Jsp&#x3001;Freemarker&#x3001;Thymeleaf &#x3001;Velocity &#x7B49;&#x3002; 2&#x3001;&#x6A21;&#x677F;+&#x6570;&#x636E;&#x6A21;&#x578B;=&#x8F93;&#x51FA; freemarker&#x5E76;&#x4E0D;&#x5173;&#x5FC3;&#x6570;&#x636E;&#x7684;&#x6765;&#x6E90;&#xFF0C;&#x53EA;&#x662F;&#x6839;&#x636E;&#x6A21;&#x677F;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x6A21;&#x578B;&#x5728;&#x6A21;&#x677F;&#x4E2D;&#x663E;&#x793A;&#x5E76;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#xFF08;&#x901A;&#x5E38;&#x4E3A;html&#xFF0C;&#x4E5F; &#x53EF;&#x4EE5;&#x751F;&#x6210;&#x5176;&#x5B83;&#x683C;&#x5F0F;&#x7684;&#x6587;&#x672C;&#x6587;&#x4EF6;&#xFF09;1&#x3001;&#x6570;&#x636E;&#x6A21;&#x578B;&#x6570;&#x636E;&#x6A21;&#x578B;&#x5728;java&#x4E2D;&#x53EF;&#x4EE5;&#x662F;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x4E5F;&#x53EF;&#x4EE5;List&#x3001;Map&#x3001;Pojo&#x7B49;&#x590D;&#x6742;&#x7C7B;&#x578B;&#x3002;2&#x3001;&#x6765;&#x81EA;&#x5B98;&#x65B9;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;&#xFF08;https://freemarker.apache.org/docs/dgui_quickstart_basics.html&#xFF09;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF1A; &#x6A21;&#x677F;&#xFF1A; &#x8F93;&#x51FA;&#xFF1A; 3.FreeMarker&#x5FEB;&#x901F;&#x5165;&#x95E8;1.&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x5DE5;&#x7A0B; 2.&#x5BFC;&#x5165;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;/dependency&gt;3.&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x914D;&#x7F6E;application.yml&#x548C; logback-spring.xml&#xFF0C;&#x4ECE;cms&#x5DE5;&#x7A0B;&#x62F7;&#x8D1D;&#x8FD9;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x8FDB;&#x884C;&#x66F4;&#x6539;&#xFF0C; logback-spring.xml&#x65E0;&#x9700;&#x66F4; &#x6539;&#xFF0C;application.yml&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; server: port: 8088 #&#x670D;&#x52A1;&#x7AEF;&#x53E3; spring: application: name: test-freemarker #&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x540D; freemarker: cache: false #&#x5173;&#x95ED;&#x6A21;&#x677F;&#x7F13;&#x5B58;&#xFF0C;&#x65B9;&#x4FBF;&#x6D4B;&#x8BD5; settings: template_update_delay: 0 #&#x68C0;&#x67E5;&#x6A21;&#x677F;&#x66F4;&#x65B0;&#x5EF6;&#x8FDF;&#x65F6;&#x95F4;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;0&#x8868;&#x793A;&#x7ACB;&#x5373;&#x68C0;&#x67E5;&#xFF0C;&#x5982;&#x679C;&#x65F6;&#x95F4;&#x5927;&#x4E8E;0&#x4F1A;&#x6709;&#x7F13;&#x5B58;&#x4E0D;&#x65B9;&#x4FBF;&#x8FDB;&#x884C;&#x6A21;&#x677F;&#x6D4B;&#x8BD5;4.&#x521B;&#x5EFA;&#x6A21;&#x578B;&#x7C7B;&#x5728;freemarker&#x7684;&#x6D4B;&#x8BD5;&#x5DE5;&#x7A0B;&#x4E0B;&#x521B;&#x5EFA;&#x6A21;&#x578B;&#x7C7B;&#x578B;&#x7528;&#x4E8E;&#x6D4B;&#x8BD5; package com.xuecheng.test.freemarker.model; import lombok.Data; import lombok.ToString; import java.util.Date; import java.util.List; @Data @ToString public class Student { private String name;//&#x59D3;&#x540D; private int age;//&#x5E74;&#x9F84; private Date birthday;//&#x751F;&#x65E5; private Float mondy;//&#x94B1;&#x5305; private List&lt;Student&gt; friends;//&#x670B;&#x53CB;&#x5217;&#x8868; private Student bestFriend;//&#x6700;&#x597D;&#x7684;&#x670B;&#x53CB; }5.&#x521B;&#x5EFA;&#x6A21;&#x677F;&#x5728; src/main/resources&#x4E0B;&#x521B;&#x5EFA;templates&#xFF0C;&#x6B64;&#x76EE;&#x5F55;&#x4E3A;freemarker&#x7684;&#x9ED8;&#x8BA4;&#x6A21;&#x677F;&#x5B58;&#x653E;&#x76EE;&#x5F55;&#x3002;&#x5728;templates&#x4E0B;&#x521B;&#x5EFA;&#x6A21;&#x677F;&#x6587;&#x4EF6;test1.ftl&#xFF0C;&#x6A21;&#x677F;&#x4E2D;&#x7684;${name}&#x6700;&#x7EC8;&#x4F1A;&#x88AB;freemarker&#x66FF;&#x6362;&#x6210;&#x5177;&#x4F53;&#x7684;&#x6570;&#x636E;&#x3002; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf&#x2010;8&quot;&gt; &lt;title&gt;Hello World!&lt;/title&gt; &lt;/head&gt; &lt;body&gt; Hello ${name}! &lt;/body&gt; &lt;/html&gt;6.&#x521B;&#x5EFA;controller&#x521B;&#x5EFA;Controller&#x7C7B;&#xFF0C;&#x5411;Map&#x4E2D;&#x6DFB;&#x52A0;name&#xFF0C;&#x6700;&#x540E;&#x8FD4;&#x56DE;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x3002; package com.xuecheng.test.freemarker.controller; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.client.RestTemplate; import java.util.Map; @RequestMapping(&quot;/freemarker&quot;) @Controller public class FreemarkerController { @Autowired RestTemplate restTemplate; @RequestMapping(&quot;/test1&quot;) public String freemarker(Map&lt;String, Object&gt; map) { map.put(&quot;name&quot;, &quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;); //&#x8FD4;&#x56DE;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x540D;&#x79F0; return &quot;test1&quot;; } }7.&#x521B;&#x5EFA;&#x542F;&#x52A8;&#x7C7B;@SpringBootApplication public class FreemarkerTestApplication { public static void main(String[] args) { SpringApplication.run(FreemarkerTestApplication.class, args); } @Bean public RestTemplate restTemplate() { return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); } }8.&#x6D4B;&#x8BD5;&#x8BF7;&#x6C42;&#xFF1A;http://localhost:8088/freemarker/test1 &#x5C4F;&#x5E55;&#x663E;&#x793A;&#xFF1A;Hello &#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;!4.FreeMarker&#x57FA;&#x7840;1.&#x51C6;&#x5907;&#x6570;&#x636E;&#x6A21;&#x578B;@RequestMapping(&quot;/test1&quot;) public String freemarker(Map&lt;String, Object&gt; map){ //&#x5411;&#x6570;&#x636E;&#x6A21;&#x578B;&#x653E;&#x6570;&#x636E; map.put(&quot;name&quot;,&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;); Student stu1 = new Student(); stu1.setName(&quot;&#x5C0F;&#x660E;&quot;); stu1.setAge(18); stu1.setMondy(1000.86f); stu1.setBirthday(new Date()); Student stu2 = new Student(); stu2.setName(&quot;&#x5C0F;&#x7EA2;&quot;); stu2.setMondy(200.1f); stu2.setAge(19); // stu2.setBirthday(new Date()); List&lt;Student&gt; friends = new ArrayList&lt;&gt;(); friends.add(stu1); stu2.setFriends(friends); stu2.setBestFriend(stu1); List&lt;Student&gt; stus = new ArrayList&lt;&gt;(); stus.add(stu1); stus.add(stu2); //&#x5411;&#x6570;&#x636E;&#x6A21;&#x578B;&#x653E;&#x6570;&#x636E; map.put(&quot;stus&quot;,stus); //&#x51C6;&#x5907;map&#x6570;&#x636E; HashMap&lt;String,Student&gt; stuMap = new HashMap&lt;&gt;(); stuMap.put(&quot;stu1&quot;,stu1); stuMap.put(&quot;stu2&quot;,stu2); //&#x5411;&#x6570;&#x636E;&#x6A21;&#x578B;&#x653E;&#x6570;&#x636E; map.put(&quot;stu1&quot;,stu1); //&#x5411;&#x6570;&#x636E;&#x6A21;&#x578B;&#x653E;&#x6570;&#x636E; map.put(&quot;stuMap&quot;,stuMap); //&#x8FD4;&#x56DE;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x540D;&#x79F0; return &quot;test1&quot;; }2.List&#x672C;&#x8282;&#x5B9A;&#x4E49;freemarker&#x6A21;&#x677F;&#xFF0C;&#x6A21;&#x677F;&#x4E2D;&#x4F7F;&#x7528;freemarker&#x7684;&#x6307;&#x4EE4;&#xFF0C;&#x5173;&#x4E8E;freemarker&#x7684;&#x6307;&#x4EE4;&#x9700;&#x8981;&#x77E5;&#x9053;&#xFF1A; 1&#x3001;&#x6CE8;&#x91CA;&#xFF0C;&#x5373;&lt;#&#x2010;&#x2010;&#x548C;&#x2010;&#x2010;&gt;&#xFF0C;&#x4ECB;&#x4E8E;&#x5176;&#x4E4B;&#x95F4;&#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x88AB;freemarker&#x5FFD;&#x7565; 2&#x3001;&#x63D2;&#x503C;&#xFF08;Interpolation&#xFF09;&#xFF1A;&#x5373;${..}&#x90E8;&#x5206;,freemarker&#x4F1A;&#x7528;&#x771F;&#x5B9E;&#x7684;&#x503C;&#x4EE3;&#x66FF;${..} 3&#x3001;FTL&#x6307;&#x4EE4;&#xFF1A;&#x548C;HTML&#x6807;&#x8BB0;&#x7C7B;&#x4F3C;&#xFF0C;&#x540D;&#x5B57;&#x524D;&#x52A0;#&#x4E88;&#x4EE5;&#x533A;&#x5206;&#xFF0C;Freemarker&#x4F1A;&#x89E3;&#x6790;&#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x6216;&#x903B;&#x8F91;&#x3002; 4&#x3001;&#x6587;&#x672C;&#xFF0C;&#x4EC5;&#x6587;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x4E9B;&#x4E0D;&#x662F;freemarker&#x7684;&#x6CE8;&#x91CA;&#x3001;&#x63D2;&#x503C;&#x3001;FTL&#x6307;&#x4EE4;&#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x88AB;freemarker&#x5FFD;&#x7565;&#x89E3;&#x6790;&#xFF0C;&#x76F4;&#x63A5;&#x8F93;&#x51FA;&#x5185;&#x5BB9;&#x3002;&#x5728;test1.ftl&#x6A21;&#x677F;&#x4E2D;&#x4F7F;&#x7528;list&#x6307;&#x4EE4;&#x904D;&#x5386;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf&#x2010;8&quot;&gt; &lt;title&gt;Hello World!&lt;/title&gt; &lt;/head&gt; &lt;body&gt; Hello ${name}! &lt;table&gt; &lt;tr&gt; &lt;td&gt;&#x5E8F;&#x53F7;&lt;/td&gt; &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt; &lt;td&gt;&#x5E74;&#x9F84;&lt;/td&gt; &lt;td&gt;&#x94B1;&#x5305;&lt;/td&gt; &lt;/tr&gt; &lt;#list stus as stu&gt; &lt;tr&gt; &lt;td&gt;${stu_index + 1}&lt;/td&gt; &lt;td&gt;${stu.name}&lt;/td&gt; &lt;td&gt;${stu.age}&lt;/td&gt; &lt;td&gt;${stu.mondy}&lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/table&gt; &lt;/body&gt; &lt;/html&gt;&#x8BF4;&#x660E;&#xFF1A;_index&#xFF1A;&#x5F97;&#x5230;&#x5FAA;&#x73AF;&#x7684;&#x4E0B;&#x6807;&#xFF0C;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x662F;&#x5728;stu&#x540E;&#x8FB9;&#x52A0;&#x201D;_index&#x201D;&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x662F;&#x4ECE;0&#x5F00;&#x59CB; 3.&#x6D4B;&#x8BD5;http://localhost:8088/freemarker/test1 4.map&#x4F7F;&#x7528;map&#x6307;&#x4EE4;&#x904D;&#x5386;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E2D;&#x7684;stuMap &#x8F93;&#x51FA;stu1&#x7684;&#x5B66;&#x751F;&#x4FE1;&#x606F;&#xFF1A;&lt;br/&gt; &#x59D3;&#x540D;&#xFF1A;${stuMap[&apos;stu1&apos;].name}&lt;br/&gt; &#x5E74;&#x9F84;&#xFF1A;${stuMap[&apos;stu1&apos;].age}&lt;br/&gt; &#x8F93;&#x51FA;stu1&#x7684;&#x5B66;&#x751F;&#x4FE1;&#x606F;&#xFF1A;&lt;br/&gt; &#x59D3;&#x540D;&#xFF1A;${stu1.name}&lt;br/&gt; &#x5E74;&#x9F84;&#xFF1A;${stu1.age}&lt;br/&gt; &#x904D;&#x5386;&#x8F93;&#x51FA;&#x4E24;&#x4E2A;&#x5B66;&#x751F;&#x4FE1;&#x606F;&#xFF1A;&lt;br/&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&#x5E8F;&#x53F7;&lt;/td&gt; &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt; &lt;td&gt;&#x5E74;&#x9F84;&lt;/td&gt; &lt;td&gt;&#x94B1;&#x5305;&lt;/td&gt; &lt;/tr&gt; &lt;#list stuMap?keys as k&gt; &lt;tr&gt; &lt;td&gt;${k_index + 1}&lt;/td&gt; &lt;td&gt;${stuMap[k].name}&lt;/td&gt; &lt;td&gt;${stuMap[k].age}&lt;/td&gt; &lt;td&gt;${stuMap[k].mondy}&lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/table&gt; &lt;/br&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt; &lt;td&gt;&#x5E74;&#x9F84;&lt;/td&gt; &lt;td&gt;&#x51FA;&#x751F;&#x65E5;&#x671F;&lt;/td&gt; &lt;td&gt;&#x94B1;&#x5305;&lt;/td&gt; &lt;td&gt;&#x6700;&#x597D;&#x7684;&#x670B;&#x53CB;&lt;/td&gt; &lt;td&gt;&#x670B;&#x53CB;&#x4E2A;&#x6570;&lt;/td&gt; &lt;td&gt;&#x670B;&#x53CB;&#x5217;&#x8868;&lt;/td&gt; &lt;/tr&gt; &lt;#if stus??&gt; &lt;#list stus as stu&gt; &lt;tr&gt; &lt;td&gt;${stu.name!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${stu.age}&lt;/td&gt; &lt;td&gt;${(stu.birthday?date)!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${stu.mondy}&lt;/td&gt; &lt;td&gt;${(stu.bestFriend.name)!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${(stu.friends?size)!0}&lt;/td&gt; &lt;td&gt; &lt;#if stu.friends??&gt; &lt;#list stu.friends as firend&gt; ${firend.name!&apos;&apos;}&lt;br/&gt; &lt;/#list&gt; &lt;/#if&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/#if&gt; &lt;/table&gt; &lt;br/&gt;5.ifif &#x6307;&#x4EE4;&#x5373;&#x5224;&#x65AD;&#x6307;&#x4EE4;&#xFF0C;&#x662F;&#x5E38;&#x7528;&#x7684;FTL&#x6307;&#x4EE4;&#xFF0C;freemarker&#x5728;&#x89E3;&#x6790;&#x65F6;&#x9047;&#x5230;if&#x4F1A;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#xFF0C;&#x6761;&#x4EF6;&#x4E3A;&#x771F;&#x5219;&#x8F93;&#x51FA;if&#x4E2D;&#x95F4;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5426; &#x5219;&#x8DF3;&#x8FC7;&#x5185;&#x5BB9;&#x4E0D;&#x518D;&#x8F93;&#x51FA;&#x3002; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&#x5E8F;&#x53F7;&lt;/td&gt; &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt; &lt;td&gt;&#x5E74;&#x9F84;&lt;/td&gt; &lt;td&gt;&#x94B1;&#x5305;&lt;/td&gt; &lt;/tr&gt; &lt;#list stus as stu&gt; &lt;tr&gt; &lt;td&gt;${stu_index + 1}&lt;/td&gt; &lt;td &lt;#if stu.name ==&apos;&#x5C0F;&#x660E;&apos;&gt;style=&quot;background:red;&quot;&lt;/#if&gt;&gt;${stu.name}&lt;/td&gt; &lt;td&gt;${stu.age}&lt;/td&gt; &lt;td &gt;${stu.mondy}&lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/table&gt;6.&#x8FD0;&#x7B97;&#x7B26;1&#x3001;&#x7B97;&#x6570;&#x8FD0;&#x7B97;&#x7B26; FreeMarker&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x5B8C;&#x5168;&#x652F;&#x6301;&#x7B97;&#x672F;&#x8FD0;&#x7B97;,FreeMarker&#x652F;&#x6301;&#x7684;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#x7B26;&#x5305;&#x62EC;:+, - , * , / , % 2&#x3001;&#x903B;&#x8F91; &#x8FD0;&#x7B97;&#x7B26; &#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;&#x6709;&#x5982;&#x4E0B;&#x51E0;&#x4E2A;: &#x903B;&#x8F91;&#x4E0E;:&amp;&amp; &#x903B;&#x8F91;&#x6216;:|| &#x903B;&#x8F91;&#x975E;:! &#x903B;&#x8F91;&#x8FD0;&#x7B97;&#x7B26;&#x53EA;&#x80FD;&#x4F5C;&#x7528;&#x4E8E;&#x5E03;&#x5C14;&#x503C;,&#x5426;&#x5219;&#x5C06;&#x4EA7;&#x751F;&#x9519;&#x8BEF; 3&#x3001; &#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26; &#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x652F;&#x6301;&#x7684;&#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26;&#x6709;&#x5982;&#x4E0B;&#x51E0;&#x4E2A;:&#x200B; 1 =&#x6216;&#x8005;==:&#x5224;&#x65AD;&#x4E24;&#x4E2A;&#x503C;&#x662F;&#x5426;&#x76F8;&#x7B49;.&#x200B; 2 !=:&#x5224;&#x65AD;&#x4E24;&#x4E2A;&#x503C;&#x662F;&#x5426;&#x4E0D;&#x7B49;.&#x200B; 3 &gt;&#x6216;&#x8005;gt:&#x5224;&#x65AD;&#x5DE6;&#x8FB9;&#x503C;&#x662F;&#x5426;&#x5927;&#x4E8E;&#x53F3;&#x8FB9;&#x503C;&#x200B; 4 &gt;=&#x6216;&#x8005;gte:&#x5224;&#x65AD;&#x5DE6;&#x8FB9;&#x503C;&#x662F;&#x5426;&#x5927;&#x4E8E;&#x7B49;&#x4E8E;&#x53F3;&#x8FB9;&#x503C;&#x200B; 5 &lt;&#x6216;&#x8005;lt:&#x5224;&#x65AD;&#x5DE6;&#x8FB9;&#x503C;&#x662F;&#x5426;&#x5C0F;&#x4E8E;&#x53F3; &#x8FB9;&#x503C;&#x200B; 6 &lt;=&#x6216;&#x8005;lte:&#x5224;&#x65AD;&#x5DE6;&#x8FB9;&#x503C;&#x662F;&#x5426;&#x5C0F;&#x4E8E;&#x7B49;&#x4E8E;&#x53F3;&#x8FB9;&#x503C; &#x6CE8;&#x610F;: =&#x548C;!=&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;,&#x6570;&#x503C;&#x548C;&#x65E5;&#x671F;&#x6765;&#x6BD4;&#x8F83;&#x662F;&#x5426;&#x76F8;&#x7B49;,&#x4F46;=&#x548C;!=&#x4E24;&#x8FB9;&#x5FC5;&#x987B;&#x662F;&#x76F8;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x503C;,&#x5426;&#x5219;&#x4F1A;&#x4EA7;&#x751F;&#x9519;&#x8BEF;,&#x800C;&#x4E14; FreeMarker&#x662F;&#x7CBE;&#x786E;&#x6BD4;&#x8F83;,&#x201D;x&#x201D;,&#x201D;x &#x201C;,&#x201D;X&#x201D;&#x662F;&#x4E0D;&#x7B49;&#x7684;.&#x5176;&#x5B83;&#x7684;&#x8FD0;&#x884C;&#x7B26;&#x53EF;&#x4EE5;&#x4F5C;&#x7528;&#x4E8E;&#x6570;&#x5B57;&#x548C;&#x65E5;&#x671F;,&#x4F46;&#x4E0D;&#x80FD;&#x4F5C;&#x7528;&#x4E8E;&#x5B57;&#x7B26;&#x4E32;,&#x5927;&#x90E8;&#x5206;&#x7684;&#x65F6;&#x5019;,&#x4F7F;&#x7528;gt&#x7B49;&#x5B57;&#x6BCD;&#x8FD0;&#x7B97;&#x7B26;&#x4EE3;&#x66FF;&gt;&#x4F1A;&#x6709;&#x66F4;&#x597D;&#x7684;&#x6548;&#x679C;,&#x56E0;&#x4E3A; FreeMarker&#x4F1A;&#x628A;&gt;&#x89E3;&#x91CA;&#x6210;FTL&#x6807;&#x7B7E;&#x7684;&#x7ED3;&#x675F;&#x5B57;&#x7B26;,&#x5F53;&#x7136;,&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x62EC;&#x53F7;&#x6765;&#x907F;&#x514D;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;,&#x5982;:&lt;#if (x&gt;y)&gt; 7.&#x7A7A;&#x503C;1&#x3001;&#x5224;&#x65AD;&#x67D0;&#x53D8;&#x91CF;&#x662F;&#x5426;&#x5B58;&#x5728;&#x4F7F;&#x7528; &#x201C;??&#x201D; &#x7528;&#x6CD5;&#x4E3A;:variable??,&#x5982;&#x679C;&#x8BE5;&#x53D8;&#x91CF;&#x5B58;&#x5728;,&#x8FD4;&#x56DE;true,&#x5426;&#x5219;&#x8FD4;&#x56DE;false&#x4F8B;&#xFF1A;&#x4E3A;&#x9632;&#x6B62;stus&#x4E3A;&#x7A7A;&#x62A5;&#x9519;&#x53EF;&#x4EE5;&#x52A0;&#x4E0A;&#x5224;&#x65AD;&#x5982;&#x4E0B;&#xFF1A; &lt;#if stus??&gt; &lt;#list stus as stu&gt; &lt;tr&gt; &lt;td&gt;${stu.name!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${stu.age}&lt;/td&gt; &lt;td&gt;${(stu.birthday?date)!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${stu.mondy}&lt;/td&gt; &lt;td&gt;${(stu.bestFriend.name)!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${(stu.friends?size)!0}&lt;/td&gt; &lt;td&gt; &lt;#if stu.friends??&gt; &lt;#list stu.friends as firend&gt; ${firend.name!&apos;&apos;}&lt;br/&gt; &lt;/#list&gt; &lt;/#if&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/#if&gt;&#x7F3A;&#x5931;&#x53D8;&#x91CF;&#x9ED8;&#x8BA4;&#x503C;&#x4F7F;&#x7528; &#x201C;!&#x201D; &#x4F7F;&#x7528;!&#x8981;&#x4EE5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5F53;&#x53D8;&#x91CF;&#x4E3A;&#x7A7A;&#x65F6;&#x663E;&#x793A;&#x9ED8;&#x8BA4;&#x503C;&#x3002; &#x4F8B;&#xFF1A; ${name!&#x2019;&#x2019;}&#x8868;&#x793A;&#x5982;&#x679C;name&#x4E3A;&#x7A7A;&#x663E;&#x793A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#x5982;&#x679C;&#x662F;&#x5D4C;&#x5957;&#x5BF9;&#x8C61;&#x5219;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#xFF08;&#xFF09;&#x62EC;&#x8D77;&#x6765;&#x3002; &#x4F8B;&#xFF1A; ${(stu.bestFriend.name)!&apos;&apos;}&#x8868;&#x793A;&#xFF0C;&#x5982;&#x679C;stu&#x6216;bestFriend&#x6216;name&#x4E3A;&#x7A7A;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32;&#x3002;8.&#x5185;&#x5EFA;&#x51FD;&#x6570;&#x5185;&#x5EFA;&#x51FD;&#x6570;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; &#x53D8;&#x91CF;+?+&#x51FD;&#x6570;&#x540D;&#x79F0; 1.&#x67D0;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x5927;&#x5C0F;${&#x96C6;&#x5408;&#x540D;?size}2.&#x65E5;&#x671F;&#x683C;&#x5F0F;&#x5316;&#x663E;&#x793A;&#x5E74;&#x6708;&#x65E5;: ${today?date} &#x663E;&#x793A;&#x65F6;&#x5206;&#x79D2;&#xFF1A;${today?time} &#x663E;&#x793A;&#x65E5;&#x671F;+&#x65F6;&#x95F4;&#xFF1A;${today?datetime} &lt;br&gt; &#x81EA;&#x5B9A;&#x4E49;&#x683C;&#x5F0F;&#x5316;&#xFF1A; ${today?string(&quot;yyyy&#x5E74;MM&#x6708;&quot;)}3.&#x5185;&#x5EFA;&#x51FD;&#x6570;cmap.put(&quot;point&quot;, 102920122); point&#x662F;&#x6570;&#x5B57;&#x578B;&#xFF0C;&#x4F7F;&#x7528;${point}&#x4F1A;&#x663E;&#x793A;&#x8FD9;&#x4E2A;&#x6570;&#x5B57;&#x7684;&#x503C;&#xFF0C;&#x6BCF;&#x4E09;&#x4F4D;&#x4F7F;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;&#x3002; &#x5982;&#x679C;&#x4E0D;&#x60F3;&#x663E;&#x793A;&#x4E3A;&#x6BCF;&#x4E09;&#x4F4D;&#x5206;&#x9694;&#x7684;&#x6570;&#x5B57;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;c&#x51FD;&#x6570;&#x5C06;&#x6570;&#x5B57;&#x578B;&#x8F6C;&#x6210;&#x5B57;&#x7B26;&#x4E32;&#x8F93;&#x51FA; ${point?c}4.&#x5C06;json&#x5B57;&#x7B26;&#x4E32;&#x8F6C;&#x6210;&#x5BF9;&#x8C61;&lt;#assign text=&quot;{&apos;bank&apos;:&apos;&#x5DE5;&#x5546;&#x94F6;&#x884C;&apos;,&apos;account&apos;:&apos;10101920201920212&apos;}&quot; /&gt; &lt;#assign data=text?eval /&gt; &#x5F00;&#x6237;&#x884C;&#xFF1A;${data.bank} &#x8D26;&#x53F7;&#xFF1A;${data.account}9.&#x5B8C;&#x6574;&#x7684;&#x6A21;&#x677F;&lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;Hello World!&lt;/title&gt; &lt;/head&gt; &lt;body&gt; Hello ${name}! &lt;br/&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&#x5E8F;&#x53F7;&lt;/td&gt; &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt; &lt;td&gt;&#x5E74;&#x9F84;&lt;/td&gt; &lt;td&gt;&#x94B1;&#x5305;&lt;/td&gt; &lt;/tr&gt; &lt;#list stus as stu&gt; &lt;tr&gt; &lt;td&gt;${stu_index + 1}&lt;/td&gt; &lt;td &lt;#if stu.name ==&apos;&#x5C0F;&#x660E;&apos;&gt;style=&quot;background:red;&quot;&lt;/#if&gt;&gt;${stu.name}&lt;/td&gt; &lt;td&gt;${stu.age}&lt;/td&gt; &lt;td &gt;${stu.mondy}&lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/table&gt; &lt;br/&gt;&lt;br/&gt; &#x8F93;&#x51FA;stu1&#x7684;&#x5B66;&#x751F;&#x4FE1;&#x606F;&#xFF1A;&lt;br/&gt; &#x59D3;&#x540D;&#xFF1A;${stuMap[&apos;stu1&apos;].name}&lt;br/&gt; &#x5E74;&#x9F84;&#xFF1A;${stuMap[&apos;stu1&apos;].age}&lt;br/&gt; &#x8F93;&#x51FA;stu1&#x7684;&#x5B66;&#x751F;&#x4FE1;&#x606F;&#xFF1A;&lt;br/&gt; &#x59D3;&#x540D;&#xFF1A;${stu1.name}&lt;br/&gt; &#x5E74;&#x9F84;&#xFF1A;${stu1.age}&lt;br/&gt; &#x904D;&#x5386;&#x8F93;&#x51FA;&#x4E24;&#x4E2A;&#x5B66;&#x751F;&#x4FE1;&#x606F;&#xFF1A;&lt;br/&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&#x5E8F;&#x53F7;&lt;/td&gt; &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt; &lt;td&gt;&#x5E74;&#x9F84;&lt;/td&gt; &lt;td&gt;&#x94B1;&#x5305;&lt;/td&gt; &lt;/tr&gt; &lt;#list stuMap?keys as k&gt; &lt;tr&gt; &lt;td&gt;${k_index + 1}&lt;/td&gt; &lt;td&gt;${stuMap[k].name}&lt;/td&gt; &lt;td&gt;${stuMap[k].age}&lt;/td&gt; &lt;td &gt;${stuMap[k].mondy}&lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/table&gt; &lt;/br&gt; &lt;table&gt; &lt;tr&gt; &lt;td&gt;&#x59D3;&#x540D;&lt;/td&gt; &lt;td&gt;&#x5E74;&#x9F84;&lt;/td&gt; &lt;td&gt;&#x51FA;&#x751F;&#x65E5;&#x671F;&lt;/td&gt; &lt;td&gt;&#x94B1;&#x5305;&lt;/td&gt; &lt;td&gt;&#x6700;&#x597D;&#x7684;&#x670B;&#x53CB;&lt;/td&gt; &lt;td&gt;&#x670B;&#x53CB;&#x4E2A;&#x6570;&lt;/td&gt; &lt;td&gt;&#x670B;&#x53CB;&#x5217;&#x8868;&lt;/td&gt; &lt;/tr&gt; &lt;#if stus??&gt; &lt;#list stus as stu&gt; &lt;tr&gt; &lt;td&gt;${stu.name!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${stu.age}&lt;/td&gt; &lt;td&gt;${(stu.birthday?date)!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${stu.mondy}&lt;/td&gt; &lt;td&gt;${(stu.bestFriend.name)!&apos;&apos;}&lt;/td&gt; &lt;td&gt;${(stu.friends?size)!0}&lt;/td&gt; &lt;td&gt; &lt;#if stu.friends??&gt; &lt;#list stu.friends as firend&gt; ${firend.name!&apos;&apos;}&lt;br/&gt; &lt;/#list&gt; &lt;/#if&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/#list&gt; &lt;/#if&gt; &lt;/table&gt; &lt;br/&gt; &lt;#assign text=&quot;{&apos;bank&apos;:&apos;&#x5DE5;&#x5546;&#x94F6;&#x884C;&apos;,&apos;account&apos;:&apos;10101920201920212&apos;}&quot; /&gt; &lt;#assign data=text?eval /&gt; &#x5F00;&#x6237;&#x884C;&#xFF1A;${data.bank} &#x8D26;&#x53F7;&#xFF1A;${data.account} &lt;/body&gt; &lt;/html&gt;10.&#x6D4B;&#x8BD5;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x9759;&#x6001;&#x5316;&#x5728;test&#x4E0B;&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;&#xFF0C;&#x5E76;&#x4E14;&#x5C06;main&#x4E0B;&#x7684;resource/templates&#x62F7;&#x8D1D;&#x5230;test&#x4E0B;&#xFF0C;&#x672C;&#x6B21;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5728;main&#x4E0B;&#x521B;&#x5EFA; &#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x3002; package com.xuecheng.test.freemarker; import com.xuecheng.test.freemarker.model.Student; import freemarker.cache.StringTemplateLoader; import freemarker.template.Configuration; import freemarker.template.Template; import freemarker.template.TemplateException; import org.apache.commons.io.IOUtils; import org.junit.Test; import org.junit.runner.RunWith; import org.springframework.boot.test.context.SpringBootTest; import org.springframework.test.context.junit4.SpringRunner; import org.springframework.ui.freemarker.FreeMarkerTemplateUtils; import java.io.*; import java.util.*; @SpringBootTest @RunWith(SpringRunner.class) public class FreemarkerTest { //&#x57FA;&#x4E8E;&#x6A21;&#x677F;&#x751F;&#x6210;&#x9759;&#x6001;&#x5316;&#x6587;&#x4EF6; @Test public void testGenerateHtml() throws IOException, TemplateException { //&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x7C7B; Configuration configuration=new Configuration(Configuration.getVersion()); String classpath = this.getClass().getResource(&quot;/&quot;).getPath(); //&#x8BBE;&#x7F6E;&#x6A21;&#x677F;&#x8DEF;&#x5F84; configuration.setDirectoryForTemplateLoading(new File(classpath + &quot;/templates/&quot;)); //&#x8BBE;&#x7F6E;&#x5B57;&#x7B26;&#x96C6; configuration.setDefaultEncoding(&quot;utf-8&quot;); //&#x52A0;&#x8F7D;&#x6A21;&#x677F; Template template = configuration.getTemplate(&quot;test1.ftl&quot;); //&#x6570;&#x636E;&#x6A21;&#x578B; Map map = getMap(); //&#x9759;&#x6001;&#x5316; String content = FreeMarkerTemplateUtils.processTemplateIntoString(template, map); //&#x9759;&#x6001;&#x5316;&#x5185;&#x5BB9; System.out.println(content); InputStream inputStream = IOUtils.toInputStream(content); //&#x8F93;&#x51FA;&#x6587;&#x4EF6; FileOutputStream fileOutputStream = new FileOutputStream(new File(&quot;d:/test1.html&quot;)); int copy = IOUtils.copy(inputStream, fileOutputStream); } //&#x57FA;&#x4E8E;&#x6A21;&#x677F;&#x5B57;&#x7B26;&#x4E32;&#x751F;&#x6210;&#x9759;&#x6001;&#x5316;&#x6587;&#x4EF6; @Test public void testGenerateHtmlByString() throws IOException, TemplateException { //&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x7C7B; Configuration configuration=new Configuration(Configuration.getVersion()); //&#x83B7;&#x53D6;&#x6A21;&#x677F;&#x5185;&#x5BB9; //&#x6A21;&#x677F;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x91CC;&#x6D4B;&#x8BD5;&#x65F6;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x4F5C;&#x4E3A;&#x6A21;&#x677F; String templateString=&quot;&quot; + &quot;&lt;html&gt;\n&quot; + &quot; &lt;head&gt;&lt;/head&gt;\n&quot; + &quot; &lt;body&gt;\n&quot; + &quot; &#x540D;&#x79F0;&#xFF1A;${name}\n&quot; + &quot; &lt;/body&gt;\n&quot; + &quot;&lt;/html&gt;&quot;; //&#x52A0;&#x8F7D;&#x6A21;&#x677F; //&#x6A21;&#x677F;&#x52A0;&#x8F7D;&#x5668; StringTemplateLoader stringTemplateLoader = new StringTemplateLoader(); stringTemplateLoader.putTemplate(&quot;template&quot;,templateString); configuration.setTemplateLoader(stringTemplateLoader); Template template = configuration.getTemplate(&quot;template&quot;,&quot;utf-8&quot;); //&#x6570;&#x636E;&#x6A21;&#x578B; Map map = getMap(); //&#x9759;&#x6001;&#x5316; String content = FreeMarkerTemplateUtils.processTemplateIntoString(template, map); //&#x9759;&#x6001;&#x5316;&#x5185;&#x5BB9; System.out.println(content); InputStream inputStream = IOUtils.toInputStream(content); //&#x8F93;&#x51FA;&#x6587;&#x4EF6; FileOutputStream fileOutputStream = new FileOutputStream(new File(&quot;d:/test1.html&quot;)); IOUtils.copy(inputStream, fileOutputStream); } //&#x6570;&#x636E;&#x6A21;&#x578B; private Map getMap(){ Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); //&#x5411;&#x6570;&#x636E;&#x6A21;&#x578B;&#x653E;&#x6570;&#x636E; map.put(&quot;name&quot;,&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;); Student stu1 = new Student(); stu1.setName(&quot;&#x5C0F;&#x660E;&quot;); stu1.setAge(18); stu1.setMondy(1000.86f); stu1.setBirthday(new Date()); Student stu2 = new Student(); stu2.setName(&quot;&#x5C0F;&#x7EA2;&quot;); stu2.setMondy(200.1f); stu2.setAge(19); // stu2.setBirthday(new Date()); List&lt;Student&gt; friends = new ArrayList&lt;&gt;(); friends.add(stu1); stu2.setFriends(friends); stu2.setBestFriend(stu1); List&lt;Student&gt; stus = new ArrayList&lt;&gt;(); stus.add(stu1); stus.add(stu2); //&#x5411;&#x6570;&#x636E;&#x6A21;&#x578B;&#x653E;&#x6570;&#x636E; map.put(&quot;stus&quot;,stus); //&#x51C6;&#x5907;map&#x6570;&#x636E; HashMap&lt;String,Student&gt; stuMap = new HashMap&lt;&gt;(); stuMap.put(&quot;stu1&quot;,stu1); stuMap.put(&quot;stu2&quot;,stu2); //&#x5411;&#x6570;&#x636E;&#x6A21;&#x578B;&#x653E;&#x6570;&#x636E; map.put(&quot;stu1&quot;,stu1); //&#x5411;&#x6570;&#x636E;&#x6A21;&#x578B;&#x653E;&#x6570;&#x636E; map.put(&quot;stuMap&quot;,stuMap); return map; } }5.&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;1.&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x6D41;&#x7A0B;&#x901A;&#x8FC7;&#x4E0A;&#x8FB9;&#x5BF9;FreeMarker&#x7684;&#x7814;&#x7A76;&#x6211;&#x4EEC;&#x5F97;&#x51FA;&#xFF1A;&#x6A21;&#x677F;+&#x6570;&#x636E;&#x6A21;&#x578B;=&#x8F93;&#x51FA;&#xFF0C;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x9700;&#x8981;&#x51C6;&#x5907;&#x6570;&#x636E;&#x6A21;&#x578B;&#x548C;&#x6A21;&#x677F;&#xFF0C;&#x5148;&#x77E5;&#x9053;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7684;&#x7ED3;&#x6784;&#x624D;&#x53EF;&#x4EE5;&#x7F16;&#x5199;&#x6A21;&#x677F;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x6A21;&#x677F;&#x4E2D;&#x8981;&#x5F15;&#x7528;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x672C;&#x8282;&#x5C06;&#x7CFB;&#x7EDF;&#x8BB2;&#x89E3;CMS&#x9875;&#x9762;&#x6570;&#x636E;&#x6A21;&#x578B;&#x83B7;&#x53D6;&#x3001; &#x6A21;&#x677F;&#x7BA1;&#x7406;&#x53CA;&#x9759;&#x6001;&#x5316;&#x7684;&#x8FC7;&#x7A0B;&#x3002;&#x4E0B;&#x8FB9;&#x8BA8;&#x8BBA;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;&#x5982;&#x4F55;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF1F;CMS&#x7BA1;&#x7406;&#x4E86;&#x5404;&#x79CD;&#x9875;&#x9762;&#xFF0C;CMS&#x5BF9;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x5316;&#x65F6;&#x9700;&#x8981;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF0C;&#x4F46;&#x662F;CMS&#x5E76;&#x4E0D;&#x77E5;&#x9053;&#x6BCF;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7684;&#x5177;&#x4F53;&#x5185; &#x5BB9;&#xFF0C;&#x5B83;&#x53EA;&#x7BA1;&#x6267;&#x884C;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x4FBF;&#x53EF;&#x5BF9;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x5316;&#xFF0C;&#x6240;&#x4EE5;CMS&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4E00;&#x79CD;&#x901A;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21; &#x578B;&#x3002;&#x5728;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x65F6;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;DataUrl&#xFF0C;&#x6B64;DataUrl&#x4FBF;&#x662F;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7684;Url&#xFF0C;&#x5B83;&#x57FA;&#x4E8E;Http&#x65B9;&#x5F0F;&#xFF0C;CMS&#x5BF9;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x9759;&#x6001; &#x5316;&#x65F6;&#x4F1A;&#x4ECE;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x4E2D;&#x8BFB;&#x53D6;DataUrl&#xFF0C;&#x901A;&#x8FC7;Http&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x8BF7;&#x6C42;DataUrl&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B;&#x3002;&#x7BA1;&#x7406;&#x5458;&#x600E;&#x4E48;&#x77E5;&#x9053;DataUrl&#x7684;&#x5185;&#x5BB9;&#x5462;&#xFF1F;&#x4E3E;&#x4F8B;&#x8BF4;&#x660E;&#xFF1A;&#x6B64;&#x9875;&#x9762;&#x662F;&#x8F6E;&#x64AD;&#x56FE;&#x9875;&#x9762;&#xFF0C;&#x5B83;&#x7684;DataUrl&#x7531;&#x5F00;&#x53D1;&#x8F6E;&#x64AD;&#x56FE;&#x7BA1;&#x7406;&#x7684;&#x7A0B;&#x5E8F;&#x5458;&#x63D0;&#x4F9B;&#x3002;&#x6B64;&#x9875;&#x9762;&#x662F;&#x7CBE;&#x54C1;&#x8BFE;&#x7A0B;&#x63A8;&#x8350;&#x9875;&#x9762;&#xFF0C;&#x5B83;&#x7684;DataUrl&#x7531;&#x7CBE;&#x54C1;&#x8BFE;&#x7A0B;&#x63A8;&#x8350;&#x7684;&#x7A0B;&#x5E8F;&#x5458;&#x63D0;&#x4F9B;&#x3002;&#x6B64;&#x9875;&#x9762;&#x662F;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#xFF0C;&#x5B83;&#x7684;DataUrl&#x7531;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x7684;&#x7A0B;&#x5E8F;&#x5458;&#x63D0;&#x4F9B;&#x3002;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;1&#x3001;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x9996;&#x5148;&#x8BFB;&#x53D6;&#x9875;&#x9762;&#x83B7;&#x53D6;DataUrl&#x3002;2&#x3001;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x8FDC;&#x7A0B;&#x8BF7;&#x6C42;DataUrl&#x5F97;&#x5230;&#x6570;&#x636E;&#x6A21;&#x578B;&#x3002;3&#x3001;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x6A21;&#x677F;&#x3002;4&#x3001;&#x6267;&#x884C;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x3002; 2.&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B;CMS&#x4E2D;&#x6709;&#x8F6E;&#x64AD;&#x56FE;&#x7BA1;&#x7406;&#x3001;&#x7CBE;&#x54C1;&#x8BFE;&#x7A0B;&#x63A8;&#x8350;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4EE5;&#x8F6E;&#x64AD;&#x56FE;&#x7BA1;&#x7406;&#x4E3A;&#x4F8B;&#x8BF4;&#x660E;&#xFF1A;&#x8F6E;&#x64AD;&#x56FE;&#x7BA1;&#x7406;&#x662F;&#x901A;&#x8FC7;&#x53EF;&#x89C6;&#x5316;&#x7684;&#x64CD;&#x4F5C;&#x754C;&#x9762;&#x7531;&#x7BA1;&#x7406; &#x5458;&#x6307;&#x5B9A;&#x8F6E;&#x64AD;&#x56FE;&#x56FE;&#x7247;&#x5730;&#x5740;&#xFF0C;&#x6700;&#x540E;&#x5C06;&#x8F6E;&#x64AD;&#x56FE;&#x56FE;&#x7247;&#x5730;&#x5740;&#x4FDD;&#x5B58;&#x5728;cms_con&#xFB01;g&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;&#x8F6E;&#x64AD;&#x56FE;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF1A; &#x9488;&#x5BF9;&#x9996;&#x9875;&#x7684;&#x8F6E;&#x64AD;&#x56FE;&#x4FE1;&#x606F;&#x3001;&#x7CBE;&#x54C1;&#x63A8;&#x8350;&#x7B49;&#x4FE1;&#x606F;&#x7684;&#x83B7;&#x53D6;&#x7EDF;&#x4E00;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;Url&#x4F9B;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x77E5;&#x9053;&#x4E86;&#x8F6E;&#x64AD;&#x56FE;&#x9875; &#x9762;&#x3001;&#x7CBE;&#x54C1;&#x8BFE;&#x7A0B;&#x63A8;&#x8350;&#x9875;&#x9762;&#x7684;DataUrl&#xFF0C;&#x7BA1;&#x7406;&#x5728;&#x9875;&#x9762;&#x914D;&#x7F6E;&#x4E2D;&#x5C06;&#x6B64;Url&#x914D;&#x7F6E;&#x5728;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x4E2D;&#x3002;&#x672C;&#x5C0F;&#x8282;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x8F6E;&#x64AD;&#x56FE;&#x3001;&#x7CBE;&#x54C1;&#x63A8;&#x8350;&#x4FE1;&#x606F;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x6B64;&#x63A5;&#x53E3;&#x4F9B;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x8C03;&#x7528;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B;&#x3002; 1.&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x8F6E;&#x64AD;&#x56FE;&#x4FE1;&#x606F;&#x3001;&#x7CBE;&#x54C1;&#x63A8;&#x8350;&#x7B49;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;MongoDB&#x7684;cms_con&#xFB01;g&#x96C6;&#x5408;&#x4E2D;&#x3002; cms_con&#xFB01;g&#x6709;&#x56FA;&#x5B9A;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; @Data @ToString @Document(collection = &quot;cms_config&quot;) public class CmsConfig { @Id private String id; private String name; private List&lt;CmsConfigModel&gt; model; }&#x6570;&#x636E;&#x6A21;&#x578B;&#x9879;&#x76EE;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; @Data @ToString public class CmsConfigModel { private String key; private String name; private String url; private Map mapValue; private String value; }&#x4E0A;&#x8FB9;&#x7684;&#x6A21;&#x578B;&#x7ED3;&#x6784;&#x53EF;&#x4EE5;&#x5BF9;&#x7167;cms_con&#xFB01;g&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x3002; &#x5176;&#x4E2D;&#xFF0C;&#x5728;mapValue &#x4E2D;&#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x4E00;&#x4E9B;&#x590D;&#x6742;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x5185;&#x5BB9;&#x3002; &#x6839;&#x636E;&#x914D;&#x7F6E;&#x4FE1;&#x606F;Id&#x67E5;&#x8BE2;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x5982;&#x4E0B;&#xFF1A; @Api(value=&quot;cms&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&quot;,description = &quot;cms&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#xFF0C;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7684;&#x7BA1;&#x7406;&#x3001;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&quot;) public interface CmsConfigControllerApi { @ApiOperation(&quot;&#x6839;&#x636E;id&#x67E5;&#x8BE2;CMS&#x914D;&#x7F6E;&#x4FE1;&#x606F;&quot;) public CmsConfig getmodel(String id); }2.Daopublic interface CmsConfigRepository extends MongoRepository&lt;CmsConfig,String&gt; { }3.Service@Service public class CmsConfigService { @Autowired CmsConfigRepository cmsConfigRepository; //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x4FE1;&#x606F; public CmsConfig getConfigById(String id){ Optional&lt;CmsConfig&gt; optional = cmsConfigRepository.findById(id); if(optional.isPresent()){ CmsConfig cmsConfig = optional.get(); return cmsConfig; } return null; } }4.Controller@RestController @RequestMapping(&quot;/cms/config&quot;) public class CmsConfigController implements CmsConfigControllerApi { @Autowired CmsConfigService cmsConfigService; @Override @GetMapping(&quot;/getmodel/{id}&quot;) public CmsConfig getmodel(String id) { return cmsConfigService.getConfigById(id); } }5.&#x6D4B;&#x8BD5;http://localhost:31001/swagger-ui.html#6.RestTemplateSpringMVC&#x63D0;&#x4F9B; RestTemplate&#x8BF7;&#x6C42;http&#x63A5;&#x53E3;&#xFF0C;RestTemplate&#x7684;&#x5E95;&#x5C42;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x7684;http&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;&#x5B9E;&#x73B0;http &#x7684; &#x8BF7;&#x6C42;&#xFF0C;&#x5E38;&#x7528;&#x7684;http&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;&#x6709;Apache HttpClient&#x3001;OkHttpClient&#x7B49;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;OkHttpClient&#x5B8C;&#x6210;http&#x8BF7;&#x6C42;&#xFF0C; &#x539F;&#x56E0;&#x4E5F;&#x662F;&#x56E0;&#x4E3A;&#x5B83;&#x7684;&#x6027;&#x80FD;&#x6BD4;&#x8F83;&#x51FA;&#x4F17;&#x3002; 1.&#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;/dependency&gt;2.&#x542F;&#x52A8;&#x7C7B;&#x914D;&#x7F6E;RestTemplatepublic class ManageCmsApplication { public static void main(String[] args) { SpringApplication.run(ManageCmsApplication.class,args); } @Bean public RestTemplate restTemplate() { return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); } }3.&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;&#x6D4B;&#x8BD5;RestTemplateTest@SpringBootTest @RunWith(SpringRunner.class) public class RestTemplateTest { @Autowired RestTemplate restTemplate; @Test public void testRestTemplate(){ ResponseEntity&lt;Map&gt; forEntity = restTemplate.getForEntity(&quot;http://localhost:31001/cms/config/getmodel/5a791725dd573c3574ee333f&quot;, Map.class); Map body = forEntity.getBody(); System.out.println(body); } }3.&#x5236;&#x4F5C;&#x6A21;&#x677F;CMS&#x63D0;&#x4F9B;&#x6A21;&#x677F;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x8981;&#x589E;&#x52A0;&#x65B0;&#x6A21;&#x677F;&#x9996;&#x5148;&#x9700;&#x8981;&#x5236;&#x4F5C;&#x6A21;&#x677F;&#xFF0C;&#x6A21;&#x677F;&#x7684;&#x5185;&#x5BB9;&#x5C31;&#x662F;Freemarker ftl&#x6A21;&#x677F;&#x5185;&#x5BB9;&#x3002;2&#x3001;&#x901A;&#x8FC7;&#x6A21;&#x677F;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x529F;&#x80FD;&#x65B0;&#x589E;&#x6A21;&#x677F;&#x3001;&#x4FEE;&#x6539;&#x6A21;&#x677F;&#x3001;&#x5220;&#x9664;&#x6A21;&#x677F;&#x3002;3&#x3001;&#x6A21;&#x677F;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;MongoDB&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5176;&#x4E2D;&#x6A21;&#x677F;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5728;cms_template&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5728;GridFS&#x6587;&#x4EF6;&#x7CFB; &#x7EDF;&#x4E2D;&#x3002; cms_template&#x96C6;&#x5408;&#xFF1A;&#x4E0B;&#x8FB9;&#x662F;&#x4E00;&#x4E2A;&#x6A21;&#x677F;&#x7684;&#x4F8B;&#x5B50;&#xFF1A; { &quot;_id&quot; : ObjectId(&quot;5a962b52b00ffc514038faf7&quot;), &quot;_class&quot; : &quot;com.xuecheng.framework.domain.cms.CmsTemplate&quot;, &quot;siteId&quot; : &quot;5a751fab6abb5044e0d19ea1&quot;, &quot;templateName&quot; : &quot;&#x9996;&#x9875;&quot;, &quot;templateParameter&quot; : &quot;&quot;, &quot;templateFileId&quot; : &quot;5a962b52b00ffc514038faf5&quot; }&#x4E0A;&#x8FB9;&#x6A21;&#x677F;&#x4FE1;&#x606F;&#x4E2D;templateFileId&#x662F;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x7684;ID&#xFF0C;&#x6B64;ID&#x5BF9;&#x5E94;GridFS&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E2D;&#x6587;&#x4EF6;ID&#x3002; 1.&#x8F6E;&#x64AD;&#x56FE;&#x9875;&#x9762;&#x539F;&#x578B;&#x5728;&#x95E8;&#x6237;&#x7684;&#x9759;&#x6001;&#x5DE5;&#x7A0B;&#x76EE;&#x5F55;&#x6709;&#x8F6E;&#x64AD;&#x56FE;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#xFF0C;&#x8DEF;&#x5F84;&#x662F;&#xFF1A;/include/index_banner.html&#x3002; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Title&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://www.xuecheng.com/plugins/normalize-css/normalize.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://www.xuecheng.com/plugins/bootstrap/dist/css/bootstrap.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://www.xuecheng.com/css/page-learing-index.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://www.xuecheng.com/css/page-header.css&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;banner-roll&quot;&gt; &lt;div class=&quot;banner-item&quot;&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(../img/widget-bannerB.jpg);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(../img/widget-bannerA.jpg);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(../img/widget-banner3.png);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(../img/widget-bannerB.jpg);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(../img/widget-bannerA.jpg);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(../img/widget-banner3.png);&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;indicators&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/plugins/jquery/dist/jquery.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/plugins/bootstrap/dist/js/bootstrap.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; var tg = $(&apos;.banner-item .item&apos;); var num = 0; for (i = 0; i &lt; tg.length; i++) { $(&apos;.indicators&apos;).append(&apos;&lt;span&gt;&lt;/span&gt;&apos;); $(&apos;.indicators&apos;).find(&apos;span&apos;).eq(num).addClass(&apos;active&apos;); } function roll() { tg.eq(num).animate({ &apos;opacity&apos;: &apos;1&apos;, &apos;z-index&apos;: num }, 1000).siblings().animate({ &apos;opacity&apos;: &apos;0&apos;, &apos;z-index&apos;: 0 }, 1000); $(&apos;.indicators&apos;).find(&apos;span&apos;).eq(num).addClass(&apos;active&apos;).siblings().removeClass(&apos;active&apos;); if (num &gt;= tg.length - 1) { num = 0; } else { num++; } } $(&apos;.indicators&apos;).find(&apos;span&apos;).click(function() { num = $(this).index(); roll(); }); var timer = setInterval(roll, 3000); $(&apos;.banner-item&apos;).mouseover(function() { clearInterval(timer) }); $(&apos;.banner-item&apos;).mouseout(function() { timer = setInterval(roll, 3000) }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;2.&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E3A;&#x901A;&#x8FC7;http &#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x6A21;&#x578B;&#x5982;&#x4E0B;&#xFF1A;&#x4E0B;&#x56FE;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7684;&#x56FE;&#x7247;&#x8DEF;&#x5F84;&#x6539;&#x6210;&#x53EF;&#x4EE5;&#x6D4F;&#x89C8;&#x7684;&#x6B63;&#x786E;&#x8DEF;&#x5F84;&#x3002; { &quot;_id&quot; : ObjectId(&quot;5a791725dd573c3574ee333f&quot;), &quot;_class&quot; : &quot;com.xuecheng.framework.domain.cms.CmsConfig&quot;, &quot;name&quot; : &quot;&#x8F6E;&#x64AD;&#x56FE;&quot;, &quot;model&quot; : [ { &quot;key&quot; : &quot;banner1&quot;, &quot;name&quot; : &quot;&#x8F6E;&#x64AD;&#x56FE;1&#x5730;&#x5740;&quot;, &quot;value&quot; : &quot;http://www.xuecheng.com/img/widget-bannerB.jpg&quot; }, { &quot;key&quot; : &quot;banner2&quot;, &quot;name&quot; : &quot;&#x8F6E;&#x64AD;&#x56FE;2&#x5730;&#x5740;&quot;, &quot;value&quot; : &quot;http://www.xuecheng.com/img/widget&#x2010;bannerA.jpg&quot; }, { &quot;key&quot; : &quot;banner3&quot;, &quot;name&quot; : &quot;&#x8F6E;&#x64AD;&#x56FE;3&#x5730;&#x5740;&quot;, &quot;value&quot; : &quot;http://www.xuecheng.com/img/widget&#x2010;banner3.jpg&quot; } ] }3.&#x7F16;&#x5199;&#x6A21;&#x677F;&#x5728;freemarker&#x6D4B;&#x8BD5;&#x5DE5;&#x7A0B;&#x4E2D;resources/templates&#x65B0;&#x5EFA;&#x6A21;&#x677F;index_banner.ftl&#x3002; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Title&lt;/title&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://www.xuecheng.com/plugins/normalize-css/normalize.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://www.xuecheng.com/plugins/bootstrap/dist/css/bootstrap.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://www.xuecheng.com/css/page-learing-index.css&quot; /&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;http://www.xuecheng.com/css/page-header.css&quot; /&gt; &lt;/head&gt; &lt;body&gt; &lt;div class=&quot;banner-roll&quot;&gt; &lt;div class=&quot;banner-item&quot;&gt; &lt;#--&lt;div class=&quot;item&quot; style=&quot;background-image: url(http://www.xuecheng.com/img/widget-bannerB.jpg);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(http://www.xuecheng.com/img/widget-bannerA.jpg);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(http://www.xuecheng.com/img/widget-banner3.png);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(http://www.xuecheng.com/img/widget-bannerB.jpg);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(http://www.xuecheng.com/img/widget-bannerA.jpg);&quot;&gt;&lt;/div&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(http://www.xuecheng.com/img/widget-banner3.png);&quot;&gt;&lt;/div&gt;--&gt; &lt;#if model??&gt; &lt;#list model as item&gt; &lt;div class=&quot;item&quot; style=&quot;background-image: url(${item.value});&quot;&gt;&lt;/div&gt; &lt;/#list&gt; &lt;/#if&gt; &lt;/div&gt; &lt;div class=&quot;indicators&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://www.xuecheng.com/plugins/jquery/dist/jquery.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;http://www.xuecheng.com/plugins/bootstrap/dist/js/bootstrap.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; var tg = $(&apos;.banner-item .item&apos;); var num = 0; for (i = 0; i &lt; tg.length; i++) { $(&apos;.indicators&apos;).append(&apos;&lt;span&gt;&lt;/span&gt;&apos;); $(&apos;.indicators&apos;).find(&apos;span&apos;).eq(num).addClass(&apos;active&apos;); } function roll() { tg.eq(num).animate({ &apos;opacity&apos;: &apos;1&apos;, &apos;z-index&apos;: num }, 1000).siblings().animate({ &apos;opacity&apos;: &apos;0&apos;, &apos;z-index&apos;: 0 }, 1000); $(&apos;.indicators&apos;).find(&apos;span&apos;).eq(num).addClass(&apos;active&apos;).siblings().removeClass(&apos;active&apos;); if (num &gt;= tg.length - 1) { num = 0; } else { num++; } } $(&apos;.indicators&apos;).find(&apos;span&apos;).click(function() { num = $(this).index(); roll(); }); var timer = setInterval(roll, 3000); $(&apos;.banner-item&apos;).mouseover(function() { clearInterval(timer) }); $(&apos;.banner-item&apos;).mouseout(function() { timer = setInterval(roll, 3000) }); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;4.&#x7F16;&#x5199;controller&#x5728;freemarker&#x6D4B;&#x8BD5;&#x5DE5;&#x7A0B;FreemarkerController&#x7C7B;&#x4E2D;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x6D4B;&#x8BD5;&#x8F6E;&#x64AD;&#x56FE;&#x6A21;&#x677F;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Autowired RestTemplate restTemplate; @RequestMapping(&quot;/banner&quot;) public String index_banner(Map&lt;String, Object&gt; map){ //&#x4F7F;&#x7528;restTemplate&#x8BF7;&#x6C42;&#x8F6E;&#x64AD;&#x56FE;&#x7684;&#x6A21;&#x578B;&#x6570;&#x636E; ResponseEntity&lt;Map&gt; forEntity = restTemplate.getForEntity(&quot;http://localhost:31001/cms/config/getmodel/5a791725dd573c3574ee333f&quot;, Map.class); Map body = forEntity.getBody(); //&#x8BBE;&#x7F6E;&#x6A21;&#x578B;&#x6570;&#x636E; map.putAll(body); return &quot;index_banner&quot;; }5.&#x6D4B;&#x8BD5;http://localhost:8088/freemarker/banner4.GridFS1.GridFS&#x4ECB;&#x7ECD;GridFS&#x662F;MongoDB&#x63D0;&#x4F9B;&#x7684;&#x7528;&#x4E8E;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x7684;&#x6A21;&#x5757;&#xFF0C;CMS&#x4F7F;&#x7528;MongoDB&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528;GridFS&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x96C6;&#x6210;&#x5F00;&#x53D1;&#x3002; &#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x662F;&#xFF1A;&#x5728;GridFS&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x662F;&#x5C06;&#x6587;&#x4EF6;&#x5206;&#x5757;&#x5B58;&#x50A8;&#xFF0C;&#x6587;&#x4EF6;&#x4F1A;&#x6309;&#x7167;256KB&#x7684;&#x5927;&#x5C0F;&#x5206;&#x5272;&#x6210;&#x591A;&#x4E2A;&#x5757;&#x8FDB;&#x884C;&#x5B58;&#x50A8;&#xFF0C;GridFS&#x4F7F;&#x7528;&#x4E24;&#x4E2A;&#x96C6;&#x5408; &#xFF08;collection&#xFF09;&#x5B58;&#x50A8;&#x6587;&#x4EF6;: &#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x662F;chunks, &#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#xFF1B; &#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x662F;&#xFB01;les&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x7684;&#x5143;&#x6570;&#x636E;&#x4FE1;&#x606F;&#xFF08;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x3001;&#x5757;&#x5927;&#x5C0F;&#x3001;&#x4E0A;&#x4F20;&#x65F6;&#x95F4;&#x7B49;&#x4FE1;&#x606F;&#xFF09;&#x3002; &#x4ECE;GridFS&#x4E2D;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x8981;&#x5BF9;&#x6587;&#x4EF6;&#x7684;&#x5404;&#x5404;&#x5757;&#x8FDB;&#x884C;&#x7EC4;&#x88C5;&#x3001;&#x5408;&#x5E76;&#x3002;&#x8BE6;&#x7EC6;&#x53C2;&#x8003;&#xFF1A;https://docs.mongodb.com/manual/core/gridfs/ 2.GridFS&#x5B58;&#x6587;&#x4EF6;&#x4F7F;&#x7528;GridFsTemplate&#x5B58;&#x50A8;&#x6587;&#x4EF6;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#xFF1A;&#x5728;cms&#x6A21;&#x5757;test&#x4E2D;&#x5411;GridFsTest&#x7C7B;&#x6CE8;&#x5165;GridFsTemplat public class GridFsTest { @Autowired GridFsTemplate gridFsTemplate; //&#x5B58;&#x6587;&#x4EF6; @Test public void testStore() throws FileNotFoundException { //&#x8981;&#x5B58;&#x50A8;&#x7684;&#x6587;&#x4EF6; File file =new File(&quot;e:/index_banner.ftl&quot;); //&#x5B9A;&#x4E49;&#x8F93;&#x5165;&#x6D41; FileInputStream fileInputStream = new FileInputStream(file); //&#x5411;GridFS&#x5B58;&#x50A8;&#x6587;&#x4EF6; ObjectId objectId = gridFsTemplate.store(fileInputStream, &quot;index_banner.ftl&quot;); //&#x5F97;&#x5230;&#x6587;&#x4EF6;ID System.out.println(objectId); } }&#x5B58;&#x50A8;&#x539F;&#x7406;&#x8BF4;&#x660E;&#xFF1A;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x6210;&#x529F;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;id&#x6B64;&#x6587;&#x4EF6;id&#x662F;fs.&#xFB01;les&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x4E3B;&#x952E;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6587;&#x4EF6;id&#x67E5;&#x8BE2;fs.chunks&#x8868;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x5F97;&#x5230;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x3002; 3.GridFS&#x53D6;&#x6587;&#x4EF6;&#x5728;con&#xFB01;g&#x5305;&#x4E2D;&#x5B9A;&#x4E49;Mongodb&#x7684;&#x914D;&#x7F6E;&#x7C7B;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; GridFSBucket&#x7528;&#x4E8E;&#x6253;&#x5F00;&#x4E0B;&#x8F7D;&#x6D41;&#x5BF9;&#x8C61; @Configuration public class MongoConfig { @Value(&quot;${spring.data.mongodb.database}&quot;) String db; @Bean public GridFSBucket getGridFSBucket(MongoClient mongoClient){ MongoDatabase database = mongoClient.getDatabase(db); GridFSBucket bucket = GridFSBuckets.create(database); return bucket; } }&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#x5982;&#x4E0B;: @SpringBootTest @RunWith(SpringRunner.class) public class GridFsTest { @Autowired GridFsTemplate gridFsTemplate; @Autowired GridFSBucket gridFSBucket; //&#x5B58;&#x6587;&#x4EF6; @Test public void testStore() throws FileNotFoundException { //&#x8981;&#x5B58;&#x50A8;&#x7684;&#x6587;&#x4EF6; File file = new File(&quot;e:/index_banner.ftl&quot;); //&#x5B9A;&#x4E49;&#x8F93;&#x5165;&#x6D41; FileInputStream fileInputStream = new FileInputStream(file); //&#x5411;GridFS&#x5B58;&#x50A8;&#x6587;&#x4EF6; ObjectId objectId = gridFsTemplate.store(fileInputStream, &quot;index_banner.ftl&quot;); //&#x5F97;&#x5230;&#x6587;&#x4EF6;ID System.out.println(objectId); } @Test public void queryFile() throws IOException { String fileId = &quot;5d94cf4c26e4ae0c3c8dbb17&quot;; //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x6587;&#x4EF6; GridFSFile gridFSFile = gridFsTemplate.findOne(Query.query(Criteria.where(&quot;_id&quot;).is(fileId))); //&#x6253;&#x5F00;&#x4E0B;&#x8F7D;&#x6D41;&#x5BF9;&#x8C61; GridFSDownloadStream gridFSDownloadStream = gridFSBucket.openDownloadStream(gridFSFile.getObjectId()); //&#x521B;&#x5EFA;gridFsResource&#xFF0C;&#x7528;&#x4E8E;&#x83B7;&#x53D6;&#x6D41;&#x5BF9;&#x8C61; GridFsResource gridFsResource = new GridFsResource(gridFSFile, gridFSDownloadStream); //&#x83B7;&#x53D6;&#x6D41;&#x4E2D;&#x7684;&#x6570;&#x636E; String s = IOUtils.toString(gridFsResource.getInputStream(), &quot;UTF-8&quot;); System.out.println(s); } }4.&#x5220;&#x9664;&#x6587;&#x4EF6; //&#x5220;&#x9664;&#x6587;&#x4EF6; @Test public void testDelFile() throws IOException { //&#x6839;&#x636E;&#x6587;&#x4EF6;id&#x5220;&#x9664;fs.files&#x548C;fs.chunks&#x4E2D;&#x7684;&#x8BB0;&#x5F55; gridFsTemplate.delete(Query.query(Criteria.where(&quot;_id&quot;).is(&quot;5d94cf4c26e4ae0c3c8dbb17&quot;))); }5.&#x624B;&#x52A8;&#x5B58;&#x50A8;&#x6A21;&#x677F;1.&#x6DFB;&#x52A0;&#x6A21;&#x677F;1)&#x4F7F;&#x7528;GridFS&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#x5B58;&#x50A8;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5230;GridFS&#xFF0C;&#x5E76;&#x5F97;&#x5230;&#x6587;&#x4EF6;id 2)&#x5411;cms_template&#x6DFB;&#x52A0;&#x8BB0;&#x5F55; 2.&#x5220;&#x9664;&#x6A21;&#x677F;1)&#x4F7F;&#x7528;GridFS&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#x6839;&#x636E;&#x6587;&#x4EF6;id&#x5220;&#x9664;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x3002; 2)&#x6839;&#x636E;&#x6A21;&#x677F;id&#x5220;&#x9664;cms_template&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002; 3.&#x4FEE;&#x6539;&#x6A21;&#x677F;&#x4F7F;&#x7528;Studio 3T&#x4FEE;&#x6539;cms_template&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002; 4.&#x4FEE;&#x6539;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x901A;&#x8FC7;Studio 3T&#x4FEE;&#x6539;&#x6A21;&#x677F;&#x6587;&#x4EF6;(&#x6B64;&#x65B9;&#x6CD5;&#x9650;&#x6587;&#x4EF6;&#x5C0F;&#x4E8E;256K) &#x5148;&#x5F97;&#x5230;objectId &#x901A;&#x8FC7;Studio 3T&#x4FEE;&#x6539;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#xFF0C;&#x5148;&#x627E;&#x5230;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#xFF0C;&#x518D;&#x5BFC;&#x5165;&#x8FDB;&#x53BB; 5.&#x9759;&#x6001;&#x5316;&#x6D4B;&#x8BD5;&#x4E0A;&#x8FB9;&#x7AE0;&#x8282;&#x5B8C;&#x6210;&#x4E86;&#x6570;&#x636E;&#x6A21;&#x578B;&#x548C;&#x6A21;&#x677F;&#x7BA1;&#x7406;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x4E0B;&#x8FB9;&#x6D4B;&#x8BD5;&#x6574;&#x4E2A;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x7684;&#x6D41;&#x7A0B;&#xFF0C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A;1&#x3001;&#x586B;&#x5199;&#x9875;&#x9762;DataUrl&#x5728;&#x7F16;&#x8F91;cms&#x9875;&#x9762;&#x4FE1;&#x606F;&#x754C;&#x9762;&#x586B;&#x5199;DataUrl&#xFF0C;&#x5C06;&#x6B64;&#x5B57;&#x6BB5;&#x4FDD;&#x5B58;&#x5230;cms_page&#x96C6;&#x5408;&#x4E2D;&#x3002;2&#x3001;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;DataUrl3&#x3001;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x8FDC;&#x7A0B;&#x8BF7;&#x6C42;DataUrl&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B;&#x3002;4&#x3001;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x4FE1;&#x606F;5&#x3001;&#x6267;&#x884C;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316; 1.&#x586B;&#x5199;&#x9875;&#x9762;DataUrl&#x4FEE;&#x6539;&#x9875;&#x9762;&#x7BA1;&#x7406;&#x6A21;&#x677F;&#x4EE3;&#x7801;&#xFF0C;&#x5B9E;&#x73B0;&#x7F16;&#x8F91;&#x9875;&#x9762;DataUrl&#x3002;&#x6CE8;&#x610F;&#xFF1A;&#x6B64;&#x5730;&#x5740;&#x7531;&#x7A0B;&#x5E8F;&#x5458;&#x63D0;&#x4F9B;&#x7ED9;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x7531;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x5F55;&#x5165;&#x5230;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002; &#x4E0B;&#x8FB9;&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x4FEE;&#x6539;&#x754C;&#x9762;&#x5F55;&#x5165;DataUrl&#xFF1A; 1) &#x4FEE;&#x6539;&#x9875;&#x9762;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x7684;page_edit.vue &#x200B; &#x5728;&#x8868;&#x5355;&#x4E2D;&#x6DFB;&#x52A0;dataUrl&#x8F93;&#x5165;&#x6846;&#xFF1A; &lt;el-form-item label=&quot;&#x6570;&#x636E;Url&quot; prop=&quot;dataUrl&quot;&gt; &lt;el-input v-model=&quot;pageForm.dataUrl&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt;2) &#x4FEE;&#x6539;&#x9875;&#x9762;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x7AEF;PageService &#x5728;PageService&#x7C7B;update&#x65B9;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; //&#x66F4;&#x65B0;dataUrl one.setDataUrl(cmsPage.getDataUrl());2.&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;1.&#x5148;&#x521B;&#x5EFA;CmsTemplateRepositorypublic interface CmsTemplateRepository extends MongoRepository&lt;CmsTemplate,String&gt; { }2.&#x5728;CmsCode&#x4E2D;&#x6DFB;&#x52A0;&#x72B6;&#x6001;&#x7801;CMS_PAGE_NOTEXISTS(false,24006,&quot;&#x9875;&#x9762;&#x4E0D;&#x5B58;&#x5728;&quot;),3.&#x5728;PageService&#x4E2D;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; //&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x65B9;&#x6CD5; /** * &#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;DataUrl * * &#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x8FDC;&#x7A0B;&#x8BF7;&#x6C42;DataUrl&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B;&#x3002; * * &#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x4FE1;&#x606F; * * &#x6267;&#x884C;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316; */ public String getPageHtml(String pageId){ //&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B; Map model = getModelByPageId(pageId); if(model == null){ //&#x6570;&#x636E;&#x6A21;&#x578B;&#x83B7;&#x53D6;&#x4E0D;&#x5230; ExceptionCast.cast(CmsCode.CMS_GENERATEHTML_DATAISNULL); } //&#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x4FE1;&#x606F; String template = getTemplateByPageId(pageId); if(StringUtils.isEmpty(template)){ ExceptionCast.cast(CmsCode.CMS_GENERATEHTML_TEMPLATEISNULL); } //&#x6267;&#x884C;&#x9759;&#x6001;&#x5316; String html = generateHtml(template, model); return html; } //&#x6267;&#x884C;&#x9759;&#x6001;&#x5316; private String generateHtml(String templateContent,Map model ){ //&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x5BF9;&#x8C61; Configuration configuration = new Configuration(Configuration.getVersion()); //&#x521B;&#x5EFA;&#x6A21;&#x677F;&#x52A0;&#x8F7D;&#x5668; StringTemplateLoader stringTemplateLoader = new StringTemplateLoader(); stringTemplateLoader.putTemplate(&quot;template&quot;,templateContent); //&#x5411;configuration&#x914D;&#x7F6E;&#x6A21;&#x677F;&#x52A0;&#x8F7D;&#x5668; configuration.setTemplateLoader(stringTemplateLoader); //&#x83B7;&#x53D6;&#x6A21;&#x677F; try { Template template = configuration.getTemplate(&quot;template&quot;); //&#x8C03;&#x7528;api&#x8FDB;&#x884C;&#x9759;&#x6001;&#x5316; String content = FreeMarkerTemplateUtils.processTemplateIntoString(template, model); return content; } catch (Exception e) { e.printStackTrace(); } return null; } //&#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x4FE1;&#x606F; private String getTemplateByPageId(String pageId){ //&#x53D6;&#x51FA;&#x9875;&#x9762;&#x7684;&#x4FE1;&#x606F; CmsPage cmsPage = this.getById(pageId); if(cmsPage == null){ //&#x9875;&#x9762;&#x4E0D;&#x5B58;&#x5728; ExceptionCast.cast(CmsCode.CMS_PAGE_NOTEXISTS); } //&#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;id String templateId = cmsPage.getTemplateId(); if(StringUtils.isEmpty(templateId)){ ExceptionCast.cast(CmsCode.CMS_GENERATEHTML_TEMPLATEISNULL); } //&#x67E5;&#x8BE2;&#x6A21;&#x677F;&#x4FE1;&#x606F; Optional&lt;CmsTemplate&gt; optional = cmsTemplateRepository.findById(templateId); if(optional.isPresent()){ CmsTemplate cmsTemplate = optional.get(); //&#x83B7;&#x53D6;&#x6A21;&#x677F;&#x6587;&#x4EF6;id String templateFileId = cmsTemplate.getTemplateFileId(); //&#x4ECE;GridFS&#x4E2D;&#x53D6;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5185;&#x5BB9; //&#x6839;&#x636E;&#x6587;&#x4EF6;id&#x67E5;&#x8BE2;&#x6587;&#x4EF6; GridFSFile gridFSFile = gridFsTemplate.findOne(Query.query(Criteria.where(&quot;_id&quot;).is(templateFileId))); //&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x4E0B;&#x8F7D;&#x6D41;&#x5BF9;&#x8C61; GridFSDownloadStream gridFSDownloadStream = gridFSBucket.openDownloadStream(gridFSFile.getObjectId()); //&#x521B;&#x5EFA;GridFsResource&#x5BF9;&#x8C61;&#xFF0C;&#x83B7;&#x53D6;&#x6D41; GridFsResource gridFsResource = new GridFsResource(gridFSFile,gridFSDownloadStream); //&#x4ECE;&#x6D41;&#x4E2D;&#x53D6;&#x6570;&#x636E; try { String content = IOUtils.toString(gridFsResource.getInputStream(), &quot;utf-8&quot;); return content; } catch (IOException e) { e.printStackTrace(); } } return null; } //&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B; private Map getModelByPageId(String pageId){ //&#x53D6;&#x51FA;&#x9875;&#x9762;&#x7684;&#x4FE1;&#x606F; CmsPage cmsPage = this.getById(pageId); if(cmsPage == null){ //&#x9875;&#x9762;&#x4E0D;&#x5B58;&#x5728; ExceptionCast.cast(CmsCode.CMS_PAGE_NOTEXISTS); } //&#x53D6;&#x51FA;&#x9875;&#x9762;&#x7684;dataUrl String dataUrl = cmsPage.getDataUrl(); if(StringUtils.isEmpty(dataUrl)){ //&#x9875;&#x9762;dataUrl&#x4E3A;&#x7A7A; ExceptionCast.cast(CmsCode.CMS_GENERATEHTML_DATAURLISNULL); } //&#x901A;&#x8FC7;restTemplate&#x8BF7;&#x6C42;dataUrl&#x83B7;&#x53D6;&#x6570;&#x636E; ResponseEntity&lt;Map&gt; forEntity = restTemplate.getForEntity(dataUrl, Map.class); Map body = forEntity.getBody(); return body; }4.&#x521B;&#x5EFA;PageServiceTest@SpringBootTest @RunWith(SpringRunner.class) public class PageServiceTest { @Autowired PageService pageService; @Test public void testGetPageHtml(){ //&#x53C2;&#x6570;&#x4E3A;cms_page&#x7684;&#x4E3B;&#x952E;5d8f821726e4ae3a14a1ea29 //1.&#x901A;&#x8FC7;&#x4E3B;&#x952E;&#x627E;&#x5230;dataUrl &#x83B7;&#x5F97;&#x6570;&#x636E;&#x6A21;&#x578B; //2.&#x901A;&#x8FC7;templateId&#x627E;&#x5230;cms_template //3.&#x901A;&#x8FC7;cms_template&#x7684;&#x4E3B;&#x952E;&#x627E;&#x5230;templateFileId //4.templateFileId&#x662F;&#x6211;&#x4EEC;&#x901A;&#x8FC7;GridFsTest&#x63D0;&#x524D;&#x5F55;&#x5165;&#x7684; //5.&#x5728;fs.files&#x901A;&#x8FC7;_id&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x6211;&#x4EEC;&#x63D0;&#x524D;&#x5BFC;&#x5165;&#x7684;&#x6A21;&#x677F; //6.&#x5728;fs.chunks&#x901A;&#x8FC7;files_id&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x6211;&#x4EEC;&#x63D0;&#x524D;&#x653E;&#x5165;&#x7684;&#x6A21;&#x677F; //7.&#x901A;&#x8FC7;generateHtml&#x5C06;&#x6A21;&#x677F;&#x548C;&#x6570;&#x636E;&#x653E;&#x5728;&#x4E00;&#x8D77;&#x751F;&#x6210;html String pageHtml = pageService.getPageHtml(&quot;5b9b5c2fb6eb080aa0b28e56&quot;); System.out.println(pageHtml); } }6.&#x9875;&#x9762;&#x9884;&#x89C8;&#x9875;&#x9762;&#x5728;&#x53D1;&#x5E03;&#x524D;&#x589E;&#x52A0;&#x9875;&#x9762;&#x9884;&#x89C8;&#x7684;&#x6B65;&#x9AA4;&#xFF0C;&#x65B9;&#x4FBF;&#x7528;&#x6237;&#x68C0;&#x67E5;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x6B63;&#x786E;&#x3002;&#x9875;&#x9762;&#x9884;&#x89C8;&#x7684;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x7528;&#x6237;&#x8FDB;&#x5165;cms&#x524D;&#x7AEF;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x9875;&#x9762;&#x9884;&#x89C8;&#x201D;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8BF7;&#x6C42;cms&#x9875;&#x9762;&#x9884;&#x89C8;&#x94FE;&#x63A5;&#x3002; cms&#x6839;&#x636E;&#x9875;&#x9762;id&#x67E5;&#x8BE2;DataUrl&#x5E76;&#x8FDC;&#x7A0B;&#x8BF7;&#x6C42;DataUrl&#x83B7;&#x53D6;&#x6570;&#x636E;&#x6A21;&#x578B;&#x3002; cms&#x6839;&#x636E;&#x9875;&#x9762;id&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x6A21;&#x677F;&#x5185;&#x5BB9;&#x3002; cms&#x6267;&#x884C;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x3002; cms&#x5C06;&#x9759;&#x6001;&#x5316;&#x5185;&#x5BB9;&#x54CD;&#x5E94;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#x3002; &#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5C55;&#x793A;&#x9875;&#x9762;&#x5185;&#x5BB9;&#xFF0C;&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x9884;&#x89C8;&#x7684;&#x529F;&#x80FD;&#x3002; 1.&#x5BFC;&#x5165;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt;2.&#x5728;application.yml&#x914D;&#x7F6E;freemarkerspring: freemarker: cache: false #&#x5173;&#x95ED;&#x6A21;&#x677F;&#x7F13;&#x5B58;&#xFF0C;&#x65B9;&#x4FBF;&#x6D4B;&#x8BD5; settings: template_update_delay: 0 #&#x4E0D;&#x7F13;&#x5B58;&#x9875;&#x9762;0&#x79D2;&#x5237;&#x65B0;3.PageService&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0; 4.controller&#x8C03;&#x7528;service&#x7684;&#x9759;&#x6001;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x9759;&#x6001;&#x5316;&#x5185;&#x5BB9;&#x901A;&#x8FC7;response&#x8F93;&#x51FA;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x663E;&#x793A;&#x521B;&#x5EFA;CmsPagePreviewController&#x7C7B;&#xFF0C;&#x7528;&#x4E8E;&#x9875;&#x9762;&#x9884;&#x89C8;&#xFF1A;&#x8BF7;&#x6C42;&#x9875;&#x9762;id&#xFF0C;&#x67E5;&#x8BE2;&#x5F97;&#x5230;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x4FE1;&#x606F;&#x3001;&#x6570;&#x636E;&#x6A21;&#x578B;url&#xFF0C;&#x6839;&#x636E;&#x6A21;&#x677F;&#x548C;&#x6570;&#x636E;&#x751F;&#x6210;&#x9759;&#x6001;&#x5316;&#x5185;&#x5BB9;&#xFF0C;&#x5E76;&#x8F93;&#x51FA;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x3002; @Controller public class CmsPagePreviewController extends BaseController { @Autowired PageService pageService; //&#x63A5;&#x6536;&#x5230;&#x9875;&#x9762;id @RequestMapping(value=&quot;/cms/preview/{pageId}&quot;,method = RequestMethod.GET) public void preview(@PathVariable(&quot;pageId&quot;)String pageId){ String pageHtml = pageService.getPageHtml(pageId); if(StringUtils.isNotEmpty(pageHtml)){ try { ServletOutputStream outputStream = response.getOutputStream(); outputStream.write(pageHtml.getBytes(&quot;utf-8&quot;)); } catch (IOException e) { e.printStackTrace(); } } } }5.&#x914D;&#x7F6E;Nginx&#x4EE3;&#x7406;&#x4E3A;&#x4E86;&#x901A;&#x8FC7;nginx&#x8BF7;&#x6C42;&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF08;css&#x3001;&#x56FE;&#x7247;&#x7B49;&#xFF09;&#xFF0C;&#x901A;&#x8FC7;nginx&#x4EE3;&#x7406;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x9884;&#x89C8;&#x3002;&#x5728;www.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x914D;&#x7F6E;&#xFF1A; #&#x9875;&#x9762;&#x9884;&#x89C8; location /cms/preview/ { proxy_pass http://cms_server_pool/cms/preview/; }&#x914D;&#x7F6E;cms_server_pool&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;cms&#xFF1A; #cms&#x9875;&#x9762;&#x9884;&#x89C8; upstream cms_server_pool{ server 127.0.0.1:31001 weight=10; } server{ listen 80; server_name www.xuecheng.com; ssi on; ssi_silent_errors on; location / { alias X:/workspace/java/xczx/xczx01/xc-ui-pc-static-portal/; index index.html; } #&#x9875;&#x9762;&#x9884;&#x89C8; location /cms/preview/ { proxy_pass http://cms_server_pool/cms/preview/; } 6.&#x6D4B;&#x8BD5;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;nginx &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; &#x4ECE;cms_page&#x627E;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002; http://www.xuecheng.com/cms/preview/5d8f821726e4ae3a14a1ea295d8f821726e4ae3a14a1ea29&#x662F;cms_page&#x7684;&#x4E3B;&#x952E;id 7.&#x6DFB;&#x52A0;&#x201C;&#x9875;&#x9762;&#x9884;&#x89C8;&#x201D;&#x94FE;&#x63A5;&#x5728;&#x9875;&#x9762;&#x5217;&#x8868;&#x6DFB;&#x52A0;&#x201C;&#x9875;&#x9762;&#x9884;&#x89C8;&#x201D;&#x94FE;&#x63A5;&#xFF0C;&#x4FEE;&#x6539;page_list.vue: &lt;el-button size=&quot;small&quot;type=&quot;text&quot; @click=&quot;edit(page.row.pageId)&quot;&gt;&#x7F16;&#x8F91; &lt;/el-button&gt; &lt;el-button size=&quot;small&quot;type=&quot;text&quot; @click=&quot;del(page.row.pageId)&quot;&gt;&#x5220;&#x9664; &lt;/el-button&gt; &lt;el-button size=&quot;small&quot;type=&quot;text&quot; @click=&quot;preview(page.row.pageId)&quot;&gt;&#x9875;&#x9762;&#x9884;&#x89C8; &lt;/el-button&gt;&#x6DFB;&#x52A0;preview&#x65B9;&#x6CD5;&#xFF1A; //&#x9875;&#x9762;&#x9884;&#x89C8; preview(pageId){ window.open(&quot;http://www.xuecheng.com/cms/preview/&quot;+pageId) }, document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-5-xiao-xi-dui-lie.html</url>
    <content type="text"><![CDATA[&#x6D88;&#x606F;&#x961F;&#x5217; &#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x7BA1;&#x7406;&#x5458;&#x8FDB;&#x5165;&#x7BA1;&#x7406;&#x754C;&#x9762;&#x70B9;&#x51FB;&#x201C;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x201D;&#xFF0C;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;cms&#x9875;&#x9762;&#x53D1;&#x5E03;&#x63A5;&#x53E3;&#x3002; cms&#x9875;&#x9762;&#x53D1;&#x5E03;&#x63A5;&#x53E3;&#x6267;&#x884C;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#xFF0C;&#x5E76;&#x5C06;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;(html&#x6587;&#x4EF6;)&#x5B58;&#x50A8;&#x81F3;GridFS&#x4E2D;&#x3002; &#x9759;&#x6001;&#x5316;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x5411;&#x6D88;&#x606F;&#x961F;&#x5217;&#x53D1;&#x9001;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;&#x6D88;&#x606F;&#x3002;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;&#x6700;&#x7EC8;&#x76EE;&#x6807;&#x662F;&#x5C06;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x5230;&#x670D;&#x52A1;&#x5668;&#x3002;&#x901A;&#x8FC7;&#x6D88;&#x606F;&#x961F;&#x5217;&#x5C06;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;&#x5404;&#x5404;&#x670D;&#x52A1;&#x5668;&#x3002; &#x6D88;&#x606F;&#x961F;&#x5217;&#x8D1F;&#x8D23;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;&#x5404;&#x5404;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x90E8;&#x7F72;&#x7684;Cms Client(Cms&#x5BA2;&#x6237;&#x7AEF;)&#x3002;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x90E8;&#x7F72;Cms Client(Cms&#x5BA2;&#x6237;&#x7AEF;)&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x6536;&#x6D88;&#x606F;&#x961F;&#x5217;&#x7684;&#x901A;&#x77E5;&#x3002; &#x6BCF;&#x4E2A;&#x63A5;&#x6536;&#x5230;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6D88;&#x606F;&#x7684;Cms Client&#x4ECE;GridFS&#x83B7;&#x53D6;Html&#x9875;&#x9762;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x5C06;Html&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5728;&#x672C;&#x5730;&#x670D;&#x52A1;&#x5668;&#x3002; CmsClient&#x6839;&#x636E;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6D88;&#x606F;&#x7684;&#x5185;&#x5BB9;&#x8BF7;&#x6C42;GridFS&#x83B7;&#x53D6;&#x9875;&#x9762;&#x6587;&#x4EF6;&#xFF0C;&#x5B58;&#x50A8;&#x5728;&#x672C;&#x5730;&#x670D;&#x52A1;&#x5668;&#x3002; RabbitMQ&#x8981;&#x5B9E;&#x73B0;&#x4E0A;&#x8FB9;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x73AF;&#x8282;&#x5C31;&#x662F;&#x7531;&#x6D88;&#x606F;&#x961F;&#x5217;&#x5C06;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;&#x6D88;&#x606F;&#x901A;&#x77E5;&#x7ED9;&#x5404;&#x5404;&#x670D;&#x52A1;&#x5668;&#x3002; 1.&#x4ECB;&#x7ECD; MQ&#x5168;&#x79F0;&#x4E3A;Message Queue&#xFF0C;&#x5373;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF0C; RabbitMQ&#x662F;&#x7531;erlang&#x8BED;&#x8A00;&#x5F00;&#x53D1;&#xFF0C;&#x57FA;&#x4E8E;AMQP&#xFF08;Advanced Message Queue &#x9AD8;&#x7EA7;&#x6D88;&#x606F;&#x961F;&#x5217;&#x534F;&#x8BAE;&#xFF09;&#x534F;&#x8BAE;&#x5B9E;&#x73B0;&#x7684;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E4B;&#x95F4;&#x7684;&#x901A;&#x4FE1;&#x65B9;&#x6CD5;&#xFF0C;&#x6D88;&#x606F;&#x961F;&#x5217;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x5F00; &#x53D1;&#x4E2D;&#x5E94;&#x7528;&#x975E;&#x5E38;&#x5E7F;&#x6CDB;&#x3002;RabbitMQ&#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;http://www.rabbitmq.com/&#x5F00;&#x53D1;&#x4E2D;&#x6D88;&#x606F;&#x961F;&#x5217;&#x901A;&#x5E38;&#x6709;&#x5982;&#x4E0B;&#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1A; 1&#x3001;&#x4EFB;&#x52A1;&#x5F02;&#x6B65;&#x5904;&#x7406;&#x3002;&#x5C06;&#x4E0D;&#x9700;&#x8981;&#x540C;&#x6B65;&#x5904;&#x7406;&#x7684;&#x5E76;&#x4E14;&#x8017;&#x65F6;&#x957F;&#x7684;&#x64CD;&#x4F5C;&#x7531;&#x6D88;&#x606F;&#x961F;&#x5217;&#x901A;&#x77E5;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x65B9;&#x8FDB;&#x884C;&#x5F02;&#x6B65;&#x5904;&#x7406;&#x3002;&#x63D0;&#x9AD8;&#x4E86;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#x3002; 2&#x3001;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x89E3;&#x8026;&#x5408;MQ&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x4E2D;&#x4ECB;&#xFF0C;&#x751F;&#x4EA7;&#x65B9;&#x901A;&#x8FC7;MQ&#x4E0E;&#x6D88;&#x8D39;&#x65B9;&#x4EA4;&#x4E92;&#xFF0C;&#x5B83;&#x5C06;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x89E3;&#x8026;&#x5408;&#x3002; &#x5E02;&#x573A;&#x4E0A;&#x8FD8;&#x6709;&#x54EA;&#x4E9B;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF1F; ActiveMQ&#xFF0C;RabbitMQ&#xFF0C;ZeroMQ&#xFF0C;Kafka&#xFF0C;MetaMQ&#xFF0C;RocketMQ&#x3001;Redis&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;RabbitMQ&#x5462;&#xFF1F; 1&#x3001;&#x4F7F;&#x5F97;&#x7B80;&#x5355;&#xFF0C;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x3002;2&#x3001;&#x57FA;&#x4E8E;AMQP&#x534F;&#x8BAE;&#x3002;3&#x3001;&#x793E;&#x533A;&#x6D3B;&#x8DC3;&#xFF0C;&#x6587;&#x6863;&#x5B8C;&#x5584;&#x3002;4&#x3001;&#x9AD8;&#x5E76;&#x53D1;&#x6027;&#x80FD;&#x597D;&#xFF0C;&#x8FD9;&#x4E3B;&#x8981;&#x5F97;&#x76CA;&#x4E8E;Erlang&#x8BED;&#x8A00;&#x3002;5&#x3001;Spring Boot&#x9ED8;&#x8BA4;&#x5DF2;&#x96C6;&#x6210;RabbitMQ AMQP &#x603B;&#x7ED3;&#xFF1A;AMQP&#x662F;&#x4E00;&#x5957;&#x516C;&#x5F00;&#x7684;&#x6D88;&#x606F;&#x961F;&#x5217;&#x534F;&#x8BAE;&#xFF0C;&#x6700;&#x65E9;&#x5728;2003&#x5E74;&#x88AB;&#x63D0;&#x51FA;&#xFF0C;&#x5B83;&#x65E8;&#x5728;&#x4ECE;&#x534F;&#x8BAE;&#x5C42;&#x5B9A;&#x4E49;&#x6D88;&#x606F;&#x901A;&#x4FE1;&#x6570;&#x636E;&#x7684;&#x6807;&#x51C6;&#x683C;&#x5F0F;&#xFF0C; &#x4E3A;&#x7684;&#x5C31;&#x662F;&#x89E3;&#x51B3;MQ&#x5E02;&#x573A;&#x4E0A;&#x534F;&#x8BAE;&#x4E0D;&#x7EDF;&#x4E00;&#x7684;&#x95EE;&#x9898;&#x3002;RabbitMQ&#x5C31;&#x662F;&#x9075;&#x5FAA;AMQP&#x6807;&#x51C6;&#x534F;&#x8BAE;&#x5F00;&#x53D1;&#x7684;MQ&#x670D;&#x52A1;&#x3002; &#x5B98;&#x65B9;&#xFF1A;http://www.amqp.org/JMS &#x603B;&#x7ED3;&#xFF1A; JMS&#x662F;java&#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x5957;&#x6D88;&#x606F;&#x670D;&#x52A1;API&#x6807;&#x51C6;&#xFF0C;&#x5176;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x6240;&#x6709;&#x7684;java&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x63D0;&#x4F9B;&#x7EDF;&#x4E00;&#x7684;&#x6D88;&#x606F;&#x901A;&#x4FE1;&#x7684;&#x6807;&#x51C6;&#xFF0C;&#x7C7B;&#x4F3C;java&#x7684; jdbc&#xFF0C;&#x53EA;&#x8981;&#x9075;&#x5FAA;jms&#x6807;&#x51C6;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E4B;&#x95F4;&#x90FD;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6D88;&#x606F;&#x901A;&#x4FE1;&#x3002;&#x5B83;&#x548C;AMQP&#x6709;&#x4EC0;&#x4E48; &#x4E0D;&#x540C;&#xFF0C;jms&#x662F;java&#x8BED;&#x8A00;&#x4E13;&#x5C5E;&#x7684;&#x6D88; &#x606F;&#x670D;&#x52A1;&#x6807;&#x51C6;&#xFF0C;&#x5B83;&#x662F;&#x5728;api&#x5C42;&#x5B9A;&#x4E49;&#x6807;&#x51C6;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x80FD;&#x7528;&#x4E8E;java&#x5E94;&#x7528;&#xFF1B;&#x800C;AMQP&#x662F;&#x5728;&#x534F;&#x8BAE;&#x5C42;&#x5B9A;&#x4E49;&#x7684;&#x6807;&#x51C6;&#xFF0C;&#x662F;&#x8DE8;&#x8BED;&#x8A00;&#x7684; &#x3002;2 &#x5FEB;&#x901F;&#x5165;&#x95E8;1.RabbitMQ&#x7684;&#x57FA;&#x672C;&#x539F;&#x7406; &#x7EC4;&#x6210;&#x90E8;&#x5206;&#x8BF4;&#x660E;&#x5982;&#x4E0B;&#xFF1A; Broker&#xFF1A;&#x6D88;&#x606F;&#x961F;&#x5217;&#x670D;&#x52A1;&#x8FDB;&#x7A0B;&#xFF0C;&#x6B64;&#x8FDB;&#x7A0B;&#x5305;&#x62EC;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF1A;Exchange&#x548C;Queue&#x3002; Exchange&#xFF1A;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x6309;&#x4E00;&#x5B9A;&#x7684;&#x89C4;&#x5219;&#x5C06;&#x6D88;&#x606F;&#x8DEF;&#x7531;&#x8F6C;&#x53D1;&#x5230;&#x67D0;&#x4E2A;&#x961F;&#x5217;&#xFF0C;&#x5BF9;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x8FC7;&#x8651;&#x3002; Queue&#xFF1A;&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF0C;&#x5B58;&#x50A8;&#x6D88;&#x606F;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x6D88;&#x606F;&#x5230;&#x8FBE;&#x961F;&#x5217;&#x5E76;&#x8F6C;&#x53D1;&#x7ED9;&#x6307;&#x5B9A;&#x7684;&#x6D88;&#x8D39;&#x65B9;&#x3002; Producer&#xFF1A;&#x6D88;&#x606F;&#x751F;&#x4EA7;&#x8005;&#xFF0C;&#x5373;&#x751F;&#x4EA7;&#x65B9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x751F;&#x4EA7;&#x65B9;&#x5BA2;&#x6237;&#x7AEF;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5230;MQ&#x3002; Consumer&#xFF1A;&#x6D88;&#x606F;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x5373;&#x6D88;&#x8D39;&#x65B9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x63A5;&#x6536;MQ&#x8F6C;&#x53D1;&#x7684;&#x6D88;&#x606F;&#x3002; &#x6D88;&#x606F;&#x53D1;&#x5E03;&#x63A5;&#x6536;&#x6D41;&#x7A0B;&#xFF1A; &#x2014;&#x2013;&#x53D1;&#x9001;&#x6D88;&#x606F;&#x2014;&#x2013; 1&#x3001;&#x751F;&#x4EA7;&#x8005;&#x548C;Broker&#x5EFA;&#x7ACB;TCP&#x8FDE;&#x63A5;&#x3002;2&#x3001;&#x751F;&#x4EA7;&#x8005;&#x548C;Broker&#x5EFA;&#x7ACB;&#x901A;&#x9053;&#x3002;3&#x3001;&#x751F;&#x4EA7;&#x8005;&#x901A;&#x8FC7;&#x901A;&#x9053;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;Broker&#xFF0C;&#x7531;Exchange&#x5C06;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x8F6C;&#x53D1;&#x3002;4&#x3001;Exchange&#x5C06;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x5230;&#x6307;&#x5B9A;&#x7684;Queue&#xFF08;&#x961F;&#x5217;&#xFF09; &#x2014;-&#x63A5;&#x6536;&#x6D88;&#x606F;&#x2014;&#x2013; 1&#x3001;&#x6D88;&#x8D39;&#x8005;&#x548C;Broker&#x5EFA;&#x7ACB;TCP&#x8FDE;&#x63A5;2&#x3001;&#x6D88;&#x8D39;&#x8005;&#x548C;Broker&#x5EFA;&#x7ACB;&#x901A;&#x9053;3&#x3001;&#x6D88;&#x8D39;&#x8005;&#x76D1;&#x542C;&#x6307;&#x5B9A;&#x7684;Queue&#xFF08;&#x961F;&#x5217;&#xFF09;4&#x3001;&#x5F53;&#x6709;&#x6D88;&#x606F;&#x5230;&#x8FBE;Queue&#x65F6;Broker&#x9ED8;&#x8BA4;&#x5C06;&#x6D88;&#x606F;&#x63A8;&#x9001;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x3002;5&#x3001;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x3002; 2.&#x4E0B;&#x8F7D;&#x5B89;&#x88C5; RabbitMQ&#x7531;Erlang&#x8BED;&#x8A00;&#x5F00;&#x53D1;&#xFF0C;Erlang&#x8BED;&#x8A00;&#x7528;&#x4E8E;&#x5E76;&#x53D1;&#x53CA;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x5728;&#x7535;&#x4FE1;&#x9886;&#x57DF;&#x5E94;&#x7528;&#x5E7F;&#x6CDB;&#xFF0C;OTP&#xFF08;Open Telecom Platform&#xFF09;&#x4F5C;&#x4E3A;Erlang&#x8BED;&#x8A00;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x5F88;&#x591A;&#x57FA;&#x4E8E;Erlang&#x5F00;&#x53D1;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x53CA;&#x5DE5;&#x5177;&#x5E93;&#xFF0C;&#x5B89;&#x88C5;RabbitMQ&#x9700; &#x8981;&#x5B89;&#x88C5;Erlang/OTP&#xFF0C;&#x5E76;&#x4FDD;&#x6301;&#x7248;&#x672C;&#x5339;&#x914D;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A;RabbitMQ&#x7684;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://www.rabbitmq.com/download.html &#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;Erlang/OTP 20.3&#x7248;&#x672C;&#x548C;RabbitMQ3.7.3&#x7248;&#x672C;&#x3002; 1.&#x4E0B;&#x8F7D;erlang&#x5730;&#x5740;&#x5982;&#x4E0B;&#xFF1A; http://erlang.org/download/otp_win64_20.3.exe&#x4EE5;&#x7BA1;&#x7406;&#x5458;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x6B64;&#x6587;&#x4EF6;&#xFF0C;&#x5B89;&#x88C5;&#x3002; erlang&#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x9700;&#x8981;&#x914D;&#x7F6E;erlang&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF1A; ERLANG_HOME=D:\Program Files\erl9.3 &#x5728;path&#x4E2D;&#x6DFB;&#x52A0;%ERLANG_HOME%\bin;2.&#x5B89;&#x88C5;RabbitMQhttps://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.7.3&#x627E;&#x5230; rabbitmq-server-3.7.3.exe&#xFF0C;&#x4EE5;&#x7BA1;&#x7406;&#x5458;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x6B64;&#x6587;&#x4EF6;&#xFF0C;&#x5B89;&#x88C5;&#x3002; 3.&#x542F;&#x52A8;&#x5B89;&#x88C5;&#x6210;&#x529F;&#x540E;&#x4F1A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;RabbitMQ&#x670D;&#x52A1;&#x5E76;&#x4E14;&#x542F;&#x52A8;&#x3002; &#x4ECE;&#x5F00;&#x59CB;&#x83DC;&#x5355;&#x542F;&#x52A8;RabbitMQ RabbitMQ Service-install :&#x5B89;&#x88C5;&#x670D;&#x52A1; RabbitMQ Service-remove &#x5220;&#x9664;&#x670D;&#x52A1; RabbitMQ Service-start &#x542F;&#x52A8; RabbitMQ Service-stop &#x542F;&#x52A8;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5F00;&#x59CB;&#x83DC;&#x5355;&#x5219;&#x8FDB;&#x5165;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x4E0B;sbin&#x76EE;&#x5F55;&#x624B;&#x52A8;&#x542F;&#x52A8; 1.&#x5B89;&#x88C5;&#x5E76;&#x8FD0;&#x884C;&#x670D;&#x52A1;rabbitmq-service.bat install &#x5B89;&#x88C5;&#x670D;&#x52A1; rabbitmq-service.bat stop &#x505C;&#x6B62;&#x670D;&#x52A1; rabbitmq-service.bat start &#x542F;&#x52A8;&#x670D;&#x52A1;2.&#x5B89;&#x88C5;&#x7BA1;&#x7406;&#x63D2;&#x4EF6;&#x5B89;&#x88C5;rabbitMQ&#x7684;&#x7BA1;&#x7406;&#x63D2;&#x4EF6;&#xFF0C;&#x65B9;&#x4FBF;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#x7BA1;&#x7406;RabbitMQ &#x7BA1;&#x7406;&#x5458;&#x8EAB;&#x4EFD;&#x8FD0;&#x884C; (CMD) rabbitmq-plugins.bat enable rabbitmq_management&#x7BA1;&#x7406;&#x5458;&#x8EAB;&#x4EFD;&#x8FD0;&#x884C; (PowerShell) .\rabbitmq-plugins.bat enable rabbitmq_management3.&#x542F;&#x52A8;&#x6210;&#x529F; &#x767B;&#x5F55;RabbitMQ&#x8FDB;&#x5165;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8F93;&#x5165;&#xFF1A;http://localhost:15672 4.&#x6CE8;&#x610F;&#x4E8B;&#x9879;1&#x3001;&#x5B89;&#x88C5;erlang&#x548C;rabbitMQ&#x4EE5;&#x7BA1;&#x7406;&#x5458;&#x8EAB;&#x4EFD;&#x8FD0;&#x884C;&#x3002;2&#x3001;&#x5F53;&#x5378;&#x8F7D;&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#x65F6;&#x4F1A;&#x51FA;&#x73B0;RabbitMQ&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5931;&#x8D25;&#xFF0C;&#x6B64;&#x65F6;&#x9700;&#x8981;&#x8FDB;&#x5165;&#x6CE8;&#x518C;&#x8868;&#x6E05;&#x7406;erlang&#x641C;&#x7D22;RabbitMQ&#x3001;ErlSrv&#xFF0C;&#x5C06;&#x5BF9;&#x5E94;&#x7684;&#x9879;&#x5168;&#x90E8;&#x5220;&#x9664;&#x3002; 5.Hello World&#x6309;&#x7167;&#x5B98;&#x65B9;&#x6559;&#x7A0B;(http://www.rabbitmq.com/getstarted.html)&#x6D4B;&#x8BD5;hello world: 1.&#x642D;&#x5EFA;&#x73AF;&#x5883;1.java client&#x751F;&#x4EA7;&#x8005;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x90FD;&#x5C5E;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;rabbitMQ&#x7684;java&#x5BA2;&#x6237;&#x7AEF;&#x5982;&#x4E0B;&#xFF1A; &#x6211;&#x4EEC;&#x5148;&#x7528; rabbitMQ&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;java client&#x6D4B;&#x8BD5;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x5BF9;RabbitMQ&#x7684;&#x4EA4;&#x4E92;&#x8FC7;&#x7A0B;&#x6709;&#x4E2A;&#x6E05;&#x6670;&#x7684;&#x8BA4;&#x8BC6;&#x3002; &#x53C2;&#x8003; &#xFF1A;https://github.com/rabbitmq/rabbitmq-java-client/ 2.&#x521B;&#x5EFA;maven&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;&#x751F;&#x4EA7;&#x8005;&#x5DE5;&#x7A0B;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x5DE5;&#x7A0B; test-rabbitmq-producer&#xFF1A;&#x751F;&#x4EA7;&#x8005;&#x5DE5;&#x7A0B;test-rabbitmq-consumer&#xFF1A;&#x6D88;&#x8D39;&#x8005;&#x5DE5;&#x7A0B; &#x5206;&#x522B;&#x52A0;&#x5165;RabbitMQ java client&#x7684;&#x4F9D;&#x8D56;: &lt;dependencies&gt; &lt;!--&#x6B64;&#x7248;&#x672C;&#x4E0E;springboot1.5.9&#x7248;&#x672C;&#x5339;&#x914D;--&gt; &lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;4.0.3&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;3.&#x751F;&#x4EA7;&#x8005;&#x5728;&#x751F;&#x4EA7;&#x8005;&#x5DE5;&#x7A0B;&#x4E0B;&#x7684;test&#x4E2D;&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;&#x5982;&#x4E0B;&#xFF1A; public class Producer01 { //&#x961F;&#x5217; private static final String QUEUE = &quot;helloworld&quot;; public static void main(String[] args) throws IOException, TimeoutException { Connection connection = null; Channel channel = null; try { ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;localhost&quot;); factory.setPort(5672); factory.setUsername(&quot;guest&quot;); factory.setPassword(&quot;guest&quot;); factory.setVirtualHost(&quot;/&quot;);//rabbitmq&#x9ED8;&#x8BA4;&#x865A;&#x62DF;&#x673A;&#x540D;&#x79F0;&#x4E3A;&#x201C;/&#x201D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq&#x670D;&#x52A1;&#x5668; //&#x521B;&#x5EFA;&#x4E0E;RabbitMQ&#x670D;&#x52A1;&#x7684;TCP&#x8FDE;&#x63A5; connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E0E;Exchange&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x8FDE;&#x63A5;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x901A;&#x9053;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD;&#x4EFB;&#x52A1; channel = connection.createChannel(); /** * &#x58F0;&#x660E;&#x961F;&#x5217;&#xFF0C;&#x5982;&#x679C;Rabbit&#x4E2D;&#x6CA1;&#x6709;&#x6B64;&#x961F;&#x5217;&#x5C06;&#x81EA;&#x52A8;&#x521B;&#x5EFA; * param1:&#x961F;&#x5217;&#x540D;&#x79F0; * param2:&#x662F;&#x5426;&#x6301;&#x4E45;&#x5316; * param3:&#x961F;&#x5217;&#x662F;&#x5426;&#x72EC;&#x5360;&#x6B64;&#x8FDE;&#x63A5; * param4:&#x961F;&#x5217;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#x65F6;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x6B64;&#x961F;&#x5217; * param5:&#x961F;&#x5217;&#x53C2;&#x6570; */ channel.queueDeclare(QUEUE, true, false, false, null); String message = &quot;helloworld&#x5C0F;&#x660E;&quot; + System.currentTimeMillis(); /** * &#x6D88;&#x606F;&#x53D1;&#x5E03;&#x65B9;&#x6CD5; * param1&#xFF1A;Exchange&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#xFF0C;&#x5219;&#x4F7F;&#x7528;Default Exchange * param2:routingKey,&#x6D88;&#x606F;&#x7684;&#x8DEF;&#x7531;Key&#xFF0C;&#x662F;&#x7528;&#x4E8E;Exchange&#xFF08;&#x4EA4;&#x6362;&#x673A;&#xFF09;&#x5C06;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x6D88;&#x606F;&#x961F;&#x5217; * param3:&#x6D88;&#x606F;&#x5305;&#x542B;&#x7684;&#x5C5E;&#x6027; * param4&#xFF1A;&#x6D88;&#x606F;&#x4F53; */ /** * &#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x6D88;&#x606F;&#x5C06;&#x53D1;&#x9001;&#x7ED9;&#x9ED8;&#x8BA4;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x6BCF;&#x4E2A;&#x961F;&#x5217;&#x4E5F;&#x4F1A;&#x7ED1;&#x5B9A;&#x90A3;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x80FD;&#x663E;&#x793A;&#x7ED1;&#x5B9A;&#x6216;&#x89E3;&#x9664;&#x7ED1;&#x5B9A; * &#x9ED8;&#x8BA4;&#x7684;&#x4EA4;&#x6362;&#x673A;&#xFF0C;routingKey&#x7B49;&#x4E8E;&#x961F;&#x5217;&#x540D;&#x79F0; */ channel.basicPublish(&quot;&quot;, QUEUE, null, message.getBytes()); System.out.println(&quot;Send Message is:&apos;&quot; + message + &quot;&apos;&quot;); } catch (Exception ex) { ex.printStackTrace(); } finally { if (channel != null) { channel.close(); } if (connection != null) { connection.close(); } } } }4.&#x6D88;&#x8D39;&#x8005;&#x5728;&#x6D88;&#x8D39;&#x8005;&#x5DE5;&#x7A0B;&#x4E0B;&#x7684;test&#x4E2D;&#x521B;&#x5EFA;&#x6D4B;&#x8BD5;&#x7C7B;&#x5982;&#x4E0B;&#xFF1A; public class Consumer01 { private static final String QUEUE = &quot;helloworld&quot;; public static void main(String[] args) throws IOException, TimeoutException { ConnectionFactory factory = new ConnectionFactory(); //&#x8BBE;&#x7F6E;MabbitMQ&#x6240;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7684;ip&#x548C;&#x7AEF;&#x53E3; factory.setHost(&quot;127.0.0.1&quot;); factory.setPort(5672); Connection connection = factory.newConnection(); Channel channel = connection.createChannel(); //&#x58F0;&#x660E;&#x961F;&#x5217; channel.queueDeclare(QUEUE, true, false, false, null); //&#x5B9A;&#x4E49;&#x6D88;&#x8D39;&#x65B9;&#x6CD5; DefaultConsumer consumer = new DefaultConsumer(channel) { /** * &#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x6D88;&#x606F;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; * @param consumerTag &#x6D88;&#x8D39;&#x8005;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x5728;channel.basicConsume()&#x53BB;&#x6307;&#x5B9A; * @param envelope &#x6D88;&#x606F;&#x5305;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x53EF;&#x4ECE;&#x4E2D;&#x83B7;&#x53D6;&#x6D88;&#x606F;id&#xFF0C;&#x6D88;&#x606F;routingkey&#xFF0C;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x6D88;&#x606F;&#x548C;&#x91CD;&#x4F20;&#x6807;&#x5FD7; (&#x6536;&#x5230;&#x6D88;&#x606F;&#x5931;&#x8D25;&#x540E;&#x662F;&#x5426;&#x9700;&#x8981;&#x91CD;&#x65B0;&#x53D1;&#x9001;) * @param properties * @param body * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { //&#x4EA4;&#x6362;&#x673A; String exchange = envelope.getExchange(); //&#x8DEF;&#x7531;key String routingKey = envelope.getRoutingKey(); //&#x6D88;&#x606F;id long deliveryTag = envelope.getDeliveryTag(); //&#x6D88;&#x606F;&#x5185;&#x5BB9; String msg = new String(body, &quot;utf-8&quot;); System.out.println(&quot;receive message..&quot; + msg); } }; /** * &#x76D1;&#x542C;&#x961F;&#x5217;String queue, boolean autoAck,Consumer callback * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x56DE;&#x590D;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;true&#x4E3A;&#x8868;&#x793A;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x5230;&#x81EA;&#x52A8;&#x5411;mq&#x56DE;&#x590D;&#x63A5;&#x6536;&#x5230;&#x4E86;&#xFF0C;mq&#x63A5;&#x6536;&#x5230;&#x56DE;&#x590D;&#x4F1A;&#x5220;&#x9664;&#x6D88;&#x606F;&#xFF0C;&#x8BBE;&#x7F6E; &#x4E3A;false&#x5219;&#x9700;&#x8981;&#x624B;&#x52A8;&#x56DE;&#x590D; * 3&#x3001;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; */ channel.basicConsume(QUEUE, true, consumer); } }5.&#x603B;&#x7ED3;&#x63D0;&#x4F9B;&#x8005; &#x521B;&#x5EFA;&#x8FDE;&#x63A5; &#x521B;&#x5EFA;&#x901A;&#x9053; &#x58F0;&#x660E;&#x961F;&#x5217; &#x53D1;&#x9001;&#x6D88;&#x606F; &#x63A5;&#x6536;&#x7AEF; &#x521B;&#x5EFA;&#x8FDE;&#x63A5; &#x521B;&#x5EFA;&#x901A;&#x9053; &#x58F0;&#x660E;&#x961F;&#x5217; &#x76D1;&#x542C;&#x961F;&#x5217; &#x63A5;&#x6536;&#x6D88;&#x606F; ack&#x56DE;&#x590D; 3.&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;RabbitMQ&#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F; &#xFF1A;1&#x3001;Work queues2&#x3001;Publish/Subscribe3&#x3001;Routing4&#x3001;Topics5&#x3001;Header6&#x3001;RPC 1.Work queues&#x6A21;&#x5F0F;: work queues&#x4E0E;&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&#x76F8;&#x6BD4;&#xFF0C;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x6D88;&#x8D39;&#x7AEF;&#xFF0C;&#x4E24;&#x4E2A;&#x6D88;&#x8D39;&#x7AEF;&#x5171;&#x540C;&#x6D88;&#x8D39;&#x540C;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x3002; &#x5E94;&#x7528;&#x573A;&#x666F;&#xFF1A;&#x5BF9;&#x4E8E;&#x4EFB;&#x52A1;&#x8FC7;&#x91CD;&#x6216;&#x4EFB;&#x52A1;&#x8F83;&#x591A;&#x60C5;&#x51B5;&#x4F7F;&#x7528;&#x5DE5;&#x4F5C;&#x961F;&#x5217;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x4EFB;&#x52A1;&#x5904;&#x7406;&#x7684;&#x901F;&#x5EA6;&#x3002; &#x6D4B;&#x8BD5;&#xFF1A;1&#x3001;&#x4F7F;&#x7528;&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&#xFF0C;&#x542F;&#x52A8;&#x591A;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x3002;2&#x3001;&#x751F;&#x4EA7;&#x8005;&#x53D1;&#x9001;&#x591A;&#x4E2A;&#x6D88;&#x606F;&#x3002; &#x7ED3;&#x679C;&#xFF1A;1&#x3001;&#x4E00;&#x6761;&#x6D88;&#x606F;&#x53EA;&#x4F1A;&#x88AB;&#x4E00;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#xFF1B;2&#x3001;rabbit&#x91C7;&#x7528;&#x8F6E;&#x8BE2;&#x7684;&#x65B9;&#x5F0F;&#x5C06;&#x6D88;&#x606F;&#x662F;&#x5E73;&#x5747;&#x53D1;&#x9001;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x7684;&#xFF1B;3&#x3001;&#x6D88;&#x8D39;&#x8005;&#x5728;&#x5904;&#x7406;&#x5B8C;&#x67D0;&#x6761;&#x6D88;&#x606F;&#x540E;&#xFF0C;&#x624D;&#x4F1A;&#x6536;&#x5230;&#x4E0B;&#x4E00;&#x6761;&#x6D88;&#x606F;&#x3002; 2.Publish/subscribe&#x6A21;&#x5F0F; &#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#xFF1A;1&#x3001;&#x4E00;&#x4E2A;&#x751F;&#x4EA7;&#x8005;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x7ED9;&#x4EA4;&#x6362;&#x673A;2&#x3001;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7ED1;&#x5B9A;&#x7684;&#x6709;&#x591A;&#x4E2A;&#x961F;&#x5217;,&#x6BCF;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x76D1;&#x542C;&#x81EA;&#x5DF1;&#x7684;&#x961F;&#x5217;3&#x3001;&#x751F;&#x4EA7;&#x8005;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;&#x4EA4;&#x6362;&#x673A;,&#x7531;&#x4EA4;&#x6362;&#x673A;&#x5C06;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x5230;&#x7ED1;&#x5B9A;&#x6B64;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x6BCF;&#x4E2A;&#x961F;&#x5217;,&#x6BCF;&#x4E2A;&#x7ED1;&#x5B9A;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x961F;&#x5217;&#x90FD;&#x5C06;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F; &#x4EE3;&#x7801;&#x6848;&#x4F8B;&#xFF1A;&#x7528;&#x6237;&#x901A;&#x77E5;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x5145;&#x503C;&#x6210;&#x529F;&#x6216;&#x8F6C;&#x8D26;&#x5B8C;&#x6210;&#x7CFB;&#x7EDF;&#x901A;&#x77E5;&#x7528;&#x6237;&#xFF0C;&#x901A;&#x77E5;&#x65B9;&#x5F0F;&#x6709;&#x77ED;&#x4FE1;&#x3001;&#x90AE;&#x4EF6;&#x591A;&#x79CD;&#x65B9;&#x6CD5; &#x3002; 1&#x3001;&#x751F;&#x4EA7;&#x8005;&#x58F0;&#x660E;Exchange_fanout_inform&#x4EA4;&#x6362;&#x673A;&#x3002;&#x58F0;&#x660E;&#x4E24;&#x4E2A;&#x961F;&#x5217;&#x5E76;&#x4E14;&#x7ED1;&#x5B9A;&#x5230;&#x6B64;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x7ED1;&#x5B9A;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x6307;&#x5B9A;routingkey &#x53D1;&#x9001;&#x6D88;&#x606F;&#x65F6;&#x4E0D;&#x9700;&#x8981;&#x6307;&#x5B9A;routingkey public class Producer02_publish { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_EMAIL = &quot;queue_inform_email&quot;; private static final String QUEUE_INFORM_SMS = &quot;queue_inform_sms&quot;; private static final String EXCHANGE_FANOUT_INFORM = &quot;exchange_fanout_inform&quot;; public static void main(String[] args) { Connection connection = null; Channel channel = null; try { //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0E;MQ&#x7684;&#x8FDE;&#x63A5; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;127.0.0.1&quot;); factory.setPort(5672); factory.setUsername(&quot;guest&quot;); factory.setPassword(&quot;guest&quot;); factory.setVirtualHost(&quot;/&quot;);//rabbitmq&#x9ED8;&#x8BA4;&#x865A;&#x62DF;&#x673A;&#x540D;&#x79F0;&#x4E3A;&#x201C;/&#x201D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq&#x670D;&#x52A1;&#x5668; //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x901A;&#x9053;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; channel = connection.createChannel(); //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; String exchange, BuiltinExchangeType type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x578B;&#xFF0C;fanout&#x3001;topic&#x3001;direct&#x3001;headers */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //&#x58F0;&#x660E;&#x961F;&#x5217; //(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x6301;&#x4E45;&#x5316; * 3&#x3001;&#x662F;&#x5426;&#x72EC;&#x5360;&#x6B64;&#x961F;&#x5217; * 4&#x3001;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664; * 5&#x3001;&#x53C2;&#x6570; */ channel.queueDeclare(QUEUE_INFORM_EMAIL, true, false, false, null); channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //&#x4EA4;&#x6362;&#x673A;&#x548C;&#x961F;&#x5217;&#x7ED1;&#x5B9A;String queue, String exchange, String routingKey /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 3&#x3001;&#x8DEF;&#x7531;key */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_FANOUT_INFORM, &quot;&quot;); channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_FANOUT_INFORM, &quot;&quot;); //&#x53D1;&#x9001;&#x6D88;&#x606F; for (int i = 0; i &lt; 10; i++) { String message = &quot;inform to user&quot; + i; //&#x5411;&#x4EA4;&#x6362;&#x673A;&#x53D1;&#x9001;&#x6D88;&#x606F; String exchange, String routingKey, BasicProperties props,byte[] body /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x6307;&#x4EE4;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; Default Exchange * 2&#x3001;routingKey&#xFF08;&#x8DEF;&#x7531;key&#xFF09;&#xFF0C;&#x6839;&#x636E;key&#x540D;&#x79F0;&#x5C06;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x5230;&#x5177;&#x4F53;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x8FD9;&#x91CC;&#x586B;&#x5199;&#x961F;&#x5217;&#x540D;&#x79F0;&#x8868;&#x793A;&#x6D88; &#x606F;&#x5C06;&#x53D1;&#x5230;&#x6B64;&#x961F;&#x5217; * 3&#x3001;&#x6D88;&#x606F;&#x5C5E;&#x6027; * 4&#x3001;&#x6D88;&#x606F;&#x5185;&#x5BB9; */ channel.basicPublish(EXCHANGE_FANOUT_INFORM, &quot;&quot;, null, message.getBytes()); System.out.println(&quot;Send Message is:&apos;&quot; + message + &quot;&apos;&quot;); } } catch (IOException e) { e.printStackTrace(); } catch (TimeoutException e) { e.printStackTrace(); } finally { if (channel != null) { try { channel.close(); } catch (IOException e) { e.printStackTrace(); } catch (TimeoutException e) { e.printStackTrace(); } } if (connection != null) { try { connection.close(); } catch (IOException e) { e.printStackTrace(); } } } } }2&#x3001;&#x90AE;&#x4EF6;&#x53D1;&#x9001;&#x6D88;&#x8D39;&#x8005; public class Consumer02_subscribe_email { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_EMAIL = &quot;queue_inform_email&quot;; private static final String EXCHANGE_FANOUT_INFORM = &quot;inform_exchange_fanout&quot;; public static void main(String[] args) throws IOException, TimeoutException { //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0E;MQ&#x7684;&#x8FDE;&#x63A5; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;127.0.0.1&quot;); factory.setPort(5672); factory.setUsername(&quot;guest&quot;); factory.setPassword(&quot;guest&quot;); factory.setVirtualHost(&quot;/&quot;);//rabbitmq&#x9ED8;&#x8BA4;&#x865A;&#x62DF;&#x673A;&#x540D;&#x79F0;&#x4E3A;&#x201C;/&#x201D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq&#x670D;&#x52A1;&#x5668; //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; Connection connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x901A;&#x9053;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; Channel channel = connection.createChannel(); //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; String exchange, BuiltinExchangeType type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x578B;&#xFF0C;fanout&#x3001;topic&#x3001;direct&#x3001;headers */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //&#x58F0;&#x660E;&#x961F;&#x5217; // channel.queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x6301;&#x4E45;&#x5316; * 3&#x3001;&#x662F;&#x5426;&#x72EC;&#x5360;&#x6B64;&#x961F;&#x5217; * 4&#x3001;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664; * 5&#x3001;&#x53C2;&#x6570; */ channel.queueDeclare(QUEUE_INFORM_EMAIL, true, false, false, null); //&#x4EA4;&#x6362;&#x673A;&#x548C;&#x961F;&#x5217;&#x7ED1;&#x5B9A;String queue, String exchange, String routingKey /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 3&#x3001;&#x8DEF;&#x7531;key */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_FANOUT_INFORM, &quot;&quot;); //&#x5B9A;&#x4E49;&#x6D88;&#x8D39;&#x65B9;&#x6CD5; DefaultConsumer defaultConsumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { long deliveryTag = envelope.getDeliveryTag(); String exchange = envelope.getExchange(); //&#x6D88;&#x606F;&#x5185;&#x5BB9; String message = new String(body, &quot;utf-8&quot;); System.out.println(message); } }; /** * &#x76D1;&#x542C;&#x961F;&#x5217;String queue, boolean autoAck,Consumer callback * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x56DE;&#x590D;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;true&#x4E3A;&#x8868;&#x793A;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x5230;&#x81EA;&#x52A8;&#x5411;mq&#x56DE;&#x590D;&#x63A5;&#x6536;&#x5230;&#x4E86;&#xFF0C;mq&#x63A5;&#x6536;&#x5230;&#x56DE;&#x590D;&#x4F1A;&#x5220;&#x9664;&#x6D88;&#x606F;&#xFF0C;&#x8BBE;&#x7F6E; &#x4E3A;false&#x5219;&#x9700;&#x8981;&#x624B;&#x52A8;&#x56DE;&#x590D; * 3&#x3001;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; */ channel.basicConsume(QUEUE_INFORM_EMAIL, true, defaultConsumer); } }3&#x3001;&#x77ED;&#x4FE1;&#x53D1;&#x9001;&#x6D88;&#x8D39;&#x8005; public class Consumer03_subscribe_sms { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_SMS = &quot;queue_inform_sms&quot;; private static final String EXCHANGE_FANOUT_INFORM = &quot;inform_exchange_fanout&quot;; public static void main(String[] args) throws IOException, TimeoutException { //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0E;MQ&#x7684;&#x8FDE;&#x63A5; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;127.0.0.1&quot;); factory.setPort(5672); factory.setUsername(&quot;guest&quot;); factory.setPassword(&quot;guest&quot;); factory.setVirtualHost(&quot;/&quot;);//rabbitmq&#x9ED8;&#x8BA4;&#x865A;&#x62DF;&#x673A;&#x540D;&#x79F0;&#x4E3A;&#x201C;/&#x201D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq&#x670D;&#x52A1;&#x5668; //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; Connection connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x901A;&#x9053;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; Channel channel = connection.createChannel(); //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; String exchange, BuiltinExchangeType type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x578B;&#xFF0C;fanout&#x3001;topic&#x3001;direct&#x3001;headers */ channel.exchangeDeclare(EXCHANGE_FANOUT_INFORM, BuiltinExchangeType.FANOUT); //&#x58F0;&#x660E;&#x961F;&#x5217; //channel.queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x6301;&#x4E45;&#x5316; * 3&#x3001;&#x662F;&#x5426;&#x72EC;&#x5360;&#x6B64;&#x961F;&#x5217; * 4&#x3001;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664; * 5&#x3001;&#x53C2;&#x6570; */ channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //&#x4EA4;&#x6362;&#x673A;&#x548C;&#x961F;&#x5217;&#x7ED1;&#x5B9A;String queue, String exchange, String routingKey /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 3&#x3001;&#x8DEF;&#x7531;key */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_FANOUT_INFORM, &quot;&quot;); //&#x5B9A;&#x4E49;&#x6D88;&#x8D39;&#x65B9;&#x6CD5; DefaultConsumer defaultConsumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { long deliveryTag = envelope.getDeliveryTag(); String exchange = envelope.getExchange(); //&#x6D88;&#x606F;&#x5185;&#x5BB9; String message = new String(body, &quot;utf-8&quot;); System.out.println(message); } }; /** * &#x76D1;&#x542C;&#x961F;&#x5217;String queue, boolean autoAck,Consumer callback * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x56DE;&#x590D;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;true&#x4E3A;&#x8868;&#x793A;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x5230;&#x81EA;&#x52A8;&#x5411;mq&#x56DE;&#x590D;&#x63A5;&#x6536;&#x5230;&#x4E86;&#xFF0C;mq&#x63A5;&#x6536;&#x5230;&#x56DE;&#x590D;&#x4F1A;&#x5220;&#x9664;&#x6D88;&#x606F;&#xFF0C;&#x8BBE;&#x7F6E; &#x4E3A;false&#x5219;&#x9700;&#x8981;&#x624B;&#x52A8;&#x56DE;&#x590D; * 3&#x3001;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; */ channel.basicConsume(QUEUE_INFORM_SMS, true, defaultConsumer); } }&#x6D4B;&#x8BD5;&#x6253;&#x5F00;RabbitMQ&#x7684;&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;&#x89C2;&#x5BDF;&#x4EA4;&#x6362;&#x673A;&#x7ED1;&#x5B9A;&#x60C5;&#x51B5;&#xFF1A; &#x4F7F;&#x7528;&#x751F;&#x4EA7;&#x8005;&#x53D1;&#x9001;&#x82E5;&#x5E72;&#x6761;&#x6D88;&#x606F;&#xFF0C;&#x6BCF;&#x6761;&#x6D88;&#x606F;&#x90FD;&#x8F6C;&#x53D1;&#x5230;&#x5404;&#x5404;&#x961F;&#x5217;&#xFF0C;&#x6BCF;&#x6D88;&#x8D39;&#x8005;&#x90FD;&#x63A5;&#x6536;&#x5230;&#x4E86;&#x6D88;&#x606F;&#x3002; &#x601D;&#x8003;1&#x3001;publish/subscribe&#x4E0E;work queues&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#x3002;&#x533A;&#x522B;&#xFF1A;1&#xFF09;work queues&#x4E0D;&#x7528;&#x5B9A;&#x4E49;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x800C;publish/subscribe&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x4EA4;&#x6362;&#x673A;&#x3002;2&#xFF09;publish/subscribe&#x7684;&#x751F;&#x4EA7;&#x65B9;&#x662F;&#x9762;&#x5411;&#x4EA4;&#x6362;&#x673A;&#x53D1;&#x9001;&#x6D88;&#x606F;&#xFF0C;work queues&#x7684;&#x751F;&#x4EA7;&#x65B9;&#x662F;&#x9762;&#x5411;&#x961F;&#x5217;&#x53D1;&#x9001;&#x6D88;&#x606F;(&#x5E95;&#x5C42;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4; &#x4EA4;&#x6362;&#x673A;)&#x3002;3&#xFF09;publish/subscribe&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x961F;&#x5217;&#x548C;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x7ED1;&#x5B9A;&#xFF0C;work queues&#x4E0D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#xFF0C;&#x5B9E;&#x8D28;&#x4E0A;work queues&#x4F1A;&#x5C06;&#x961F;&#x5217;&#x7ED1; &#x5B9A;&#x5230;&#x9ED8;&#x8BA4;&#x7684;&#x4EA4;&#x6362;&#x673A; &#x3002;&#x76F8;&#x540C;&#x70B9;&#xFF1A;&#x6240;&#x4EE5;&#x4E24;&#x8005;&#x5B9E;&#x73B0;&#x7684;&#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#x7684;&#x6548;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x591A;&#x4E2A;&#x6D88;&#x8D39;&#x7AEF;&#x76D1;&#x542C;&#x540C;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#x4E0D;&#x4F1A;&#x91CD;&#x590D;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#x3002; 2&#x3001;&#x5B9E;&#x8D28;&#x5DE5;&#x4F5C;&#x7528;&#x4EC0;&#x4E48; publish/subscribe&#x8FD8;&#x662F;work queues&#x3002;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528; publish/subscribe&#xFF0C;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#x6BD4;&#x5DE5;&#x4F5C;&#x961F;&#x5217;&#x6A21;&#x5F0F;&#x66F4;&#x5F3A;&#x5927;&#xFF0C;&#x5E76;&#x4E14;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x81EA;&#x5DF1;&#x4E13;&#x7528;&#x7684;&#x4EA4;&#x6362;&#x673A;&#x3002; 3.Routing&#x6A21;&#x5F0F; &#x8DEF;&#x7531;&#x6A21;&#x5F0F;&#xFF1A;1&#x3001;&#x6BCF;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x76D1;&#x542C;&#x81EA;&#x5DF1;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;routingkey&#x3002;2&#x3001;&#x751F;&#x4EA7;&#x8005;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x7ED9;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x7531;&#x4EA4;&#x6362;&#x673A;&#x6839;&#x636E;routingkey&#x6765;&#x8F6C;&#x53D1;&#x6D88;&#x606F;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x961F;&#x5217;&#x3002; &#x4EE3;&#x7801;1&#x3001;&#x751F;&#x4EA7;&#x8005;&#x58F0;&#x660E;exchange_routing_inform&#x4EA4;&#x6362;&#x673A;&#x3002;&#x58F0;&#x660E;&#x4E24;&#x4E2A;&#x961F;&#x5217;&#x5E76;&#x4E14;&#x7ED1;&#x5B9A;&#x5230;&#x6B64;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x7ED1;&#x5B9A;&#x65F6;&#x9700;&#x8981;&#x6307;&#x5B9A;routingkey&#x53D1;&#x9001;&#x6D88;&#x606F;&#x65F6;&#x9700;&#x8981;&#x6307;&#x5B9A;routingkey public class Producer03_routing { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_EMAIL = &quot;queue_inform_email&quot;; private static final String QUEUE_INFORM_SMS = &quot;queue_inform_sms&quot;; private static final String EXCHANGE_ROUTING_INFORM = &quot;exchange_routing_inform&quot;; public static void main(String[] args) { Connection connection = null; Channel channel = null; try { //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0E;MQ&#x7684;&#x8FDE;&#x63A5; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;127.0.0.1&quot;); factory.setPort(5672); factory.setUsername(&quot;guest&quot;); factory.setPassword(&quot;guest&quot;); factory.setVirtualHost(&quot;/&quot;);//rabbitmq&#x9ED8;&#x8BA4;&#x865A;&#x62DF;&#x673A;&#x540D;&#x79F0;&#x4E3A;&#x201C;/&#x201D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq&#x670D;&#x52A1;&#x5668; //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x901A;&#x9053;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; channel = connection.createChannel(); //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; String exchange, BuiltinExchangeType type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x578B;&#xFF0C;fanout&#x3001;topic&#x3001;direct&#x3001;headers */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //&#x58F0;&#x660E;&#x961F;&#x5217; //channel.queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x6301;&#x4E45;&#x5316; * 3&#x3001;&#x662F;&#x5426;&#x72EC;&#x5360;&#x6B64;&#x961F;&#x5217; * 4&#x3001;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664; * 5&#x3001;&#x53C2;&#x6570; */ channel.queueDeclare(QUEUE_INFORM_EMAIL, true, false, false, null); channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //&#x4EA4;&#x6362;&#x673A;&#x548C;&#x961F;&#x5217;&#x7ED1;&#x5B9A;String queue, String exchange, String routingKey /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 3&#x3001;&#x8DEF;&#x7531;key */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_ROUTING_INFORM, QUEUE_INFORM_EMAIL); channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_ROUTING_INFORM, QUEUE_INFORM_SMS);//&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x6D88;&#x606F; for (int i = 0; i &lt; 10; i++) { String message = &quot;email inform to user&quot; + i; //&#x5411;&#x4EA4;&#x6362;&#x673A;&#x53D1;&#x9001;&#x6D88;&#x606F; String exchange, String routingKey, BasicProperties props, byte[] body /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x6307;&#x4EE4;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; Default Exchange * 2&#x3001;routingKey&#xFF08;&#x8DEF;&#x7531;key&#xFF09;&#xFF0C;&#x6839;&#x636E;key&#x540D;&#x79F0;&#x5C06;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x5230;&#x5177;&#x4F53;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x8FD9;&#x91CC;&#x586B;&#x5199;&#x961F;&#x5217;&#x540D;&#x79F0;&#x8868;&#x793A;&#x6D88; &#x606F;&#x5C06;&#x53D1;&#x5230;&#x6B64;&#x961F;&#x5217; * 3&#x3001;&#x6D88;&#x606F;&#x5C5E;&#x6027; * 4&#x3001;&#x6D88;&#x606F;&#x5185;&#x5BB9; */ message.getBytes(); System.out.println(&quot;Send Message is:&apos;&quot; + message + &quot;&apos;&quot;); } //&#x53D1;&#x9001;&#x77ED;&#x4FE1;&#x6D88;&#x606F; for (int i = 0; i &lt; 10; i++) { String message = &quot;sms inform to user&quot; + i; //&#x5411;&#x4EA4;&#x6362;&#x673A;&#x53D1;&#x9001;&#x6D88;&#x606F; String exchange, String routingKey, BasicProperties props, byte[] body channel.basicPublish(EXCHANGE_ROUTING_INFORM, QUEUE_INFORM_SMS, null, message.getBytes()); System.out.println(&quot;Send Message is:&apos;&quot; + message + &quot;&apos;&quot;); } } catch (IOException e) { e.printStackTrace(); } catch (TimeoutException e) { e.printStackTrace(); } finally { if (channel != null) { try { channel.close(); } catch (IOException e) { e.printStackTrace(); } catch (TimeoutException e) { e.printStackTrace(); } } if (connection != null) { try { connection.close(); } catch (IOException e) { e.printStackTrace(); } } } } }2&#x3001;&#x90AE;&#x4EF6;&#x53D1;&#x9001;&#x6D88;&#x8D39;&#x8005; public class Consumer03_routing_email { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_EMAIL = &quot;inform_queue_email&quot;; private static final String EXCHANGE_ROUTING_INFORM = &quot;inform_exchange_routing&quot;; public static void main(String[] args) throws IOException, TimeoutException { //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0E;MQ&#x7684;&#x8FDE;&#x63A5; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;127.0.0.1&quot;); factory.setPort(5672); factory.setUsername(&quot;guest&quot;); factory.setPassword(&quot;guest&quot;); factory.setVirtualHost(&quot;/&quot;);//rabbitmq&#x9ED8;&#x8BA4;&#x865A;&#x62DF;&#x673A;&#x540D;&#x79F0;&#x4E3A;&#x201C;/&#x201D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq&#x670D;&#x52A1;&#x5668; //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; Connection connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x901A;&#x9053;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; Channel channel = connection.createChannel(); //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; String exchange, BuiltinExchangeType type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x578B;&#xFF0C;fanout&#x3001;topic&#x3001;direct&#x3001;headers */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //&#x58F0;&#x660E;&#x961F;&#x5217; //channel.queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x6301;&#x4E45;&#x5316; * 3&#x3001;&#x662F;&#x5426;&#x72EC;&#x5360;&#x6B64;&#x961F;&#x5217; * 4&#x3001;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664; * 5&#x3001;&#x53C2;&#x6570; */ channel.queueDeclare(QUEUE_INFORM_EMAIL, true, false, false, null); //&#x4EA4;&#x6362;&#x673A;&#x548C;&#x961F;&#x5217;&#x7ED1;&#x5B9A;String queue, String exchange, String routingKey /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 3&#x3001;&#x8DEF;&#x7531;key */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_ROUTING_INFORM, QUEUE_INFORM_EMAIL); //&#x5B9A;&#x4E49;&#x6D88;&#x8D39;&#x65B9;&#x6CD5; DefaultConsumer defaultConsumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { long deliveryTag = envelope.getDeliveryTag(); String exchange = envelope.getExchange(); //&#x6D88;&#x606F;&#x5185;&#x5BB9; String message = new String(body, &quot;utf-8&quot;); System.out.println(message); } }; /** * &#x76D1;&#x542C;&#x961F;&#x5217;String queue, boolean autoAck,Consumer callback * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x56DE;&#x590D;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;true&#x4E3A;&#x8868;&#x793A;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x5230;&#x81EA;&#x52A8;&#x5411;mq&#x56DE;&#x590D;&#x63A5;&#x6536;&#x5230;&#x4E86;&#xFF0C;mq&#x63A5;&#x6536;&#x5230;&#x56DE;&#x590D;&#x4F1A;&#x5220;&#x9664;&#x6D88;&#x606F;&#xFF0C;&#x8BBE;&#x7F6E; &#x4E3A;false&#x5219;&#x9700;&#x8981;&#x624B;&#x52A8;&#x56DE;&#x590D; * 3&#x3001;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; */ channel.basicConsume(QUEUE_INFORM_EMAIL, true, defaultConsumer); } }3&#x3001;&#x77ED;&#x4FE1;&#x53D1;&#x9001;&#x6D88;&#x8D39;&#x8005; public class Consumer03_routing_sms { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_SMS = &quot;queue_inform_sms&quot;; private static final String EXCHANGE_ROUTING_INFORM = &quot;inform_exchange_routing&quot;; public static void main(String[] args) throws IOException, TimeoutException { //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0E;MQ&#x7684;&#x8FDE;&#x63A5; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;127.0.0.1&quot;); factory.setPort(5672); factory.setUsername(&quot;guest&quot;); factory.setPassword(&quot;guest&quot;); factory.setVirtualHost(&quot;/&quot;);//rabbitmq&#x9ED8;&#x8BA4;&#x865A;&#x62DF;&#x673A;&#x540D;&#x79F0;&#x4E3A;&#x201C;/&#x201D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq&#x670D;&#x52A1;&#x5668; //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; Connection connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x901A;&#x9053;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; Channel channel = connection.createChannel(); //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; String exchange, BuiltinExchangeType type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x578B;&#xFF0C;fanout&#x3001;topic&#x3001;direct&#x3001;headers */ channel.exchangeDeclare(EXCHANGE_ROUTING_INFORM, BuiltinExchangeType.DIRECT); //&#x58F0;&#x660E;&#x961F;&#x5217; //channel.queueDeclare(String queue, boolean durable, boolean exclusive, boolean autoDelete, Map&lt;String, Object&gt; arguments) /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x6301;&#x4E45;&#x5316; * 3&#x3001;&#x662F;&#x5426;&#x72EC;&#x5360;&#x6B64;&#x961F;&#x5217; * 4&#x3001;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664; * 5&#x3001;&#x53C2;&#x6570; */ channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //&#x4EA4;&#x6362;&#x673A;&#x548C;&#x961F;&#x5217;&#x7ED1;&#x5B9A;String queue, String exchange, String routingKey /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 3&#x3001;&#x8DEF;&#x7531;key */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_ROUTING_INFORM, QUEUE_INFORM_SMS); //&#x5B9A;&#x4E49;&#x6D88;&#x8D39;&#x65B9;&#x6CD5; DefaultConsumer defaultConsumer = new DefaultConsumer(channel) { @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { long deliveryTag = envelope.getDeliveryTag(); String exchange = envelope.getExchange(); //&#x6D88;&#x606F;&#x5185;&#x5BB9; String message = new String(body, &quot;utf-8&quot;); System.out.println(message); } }; /** * &#x76D1;&#x542C;&#x961F;&#x5217;String queue, boolean autoAck,Consumer callback * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x56DE;&#x590D;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;true&#x4E3A;&#x8868;&#x793A;&#x6D88;&#x606F;&#x63A5;&#x6536;&#x5230;&#x81EA;&#x52A8;&#x5411;mq&#x56DE;&#x590D;&#x63A5;&#x6536;&#x5230;&#x4E86;&#xFF0C;mq&#x63A5;&#x6536;&#x5230;&#x56DE;&#x590D;&#x4F1A;&#x5220;&#x9664;&#x6D88;&#x606F;&#xFF0C;&#x8BBE;&#x7F6E; &#x4E3A;false&#x5219;&#x9700;&#x8981;&#x624B;&#x52A8;&#x56DE;&#x590D; * 3&#x3001;&#x6D88;&#x8D39;&#x6D88;&#x606F;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5; */ channel.basicConsume(QUEUE_INFORM_SMS, true, defaultConsumer); } }&#x6D4B;&#x8BD5;&#x6253;&#x5F00;RabbitMQ&#x7684;&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;&#x89C2;&#x5BDF;&#x4EA4;&#x6362;&#x673A;&#x7ED1;&#x5B9A;&#x60C5;&#x51B5;&#xFF1A; &#x4F7F;&#x7528;&#x751F;&#x4EA7;&#x8005;&#x53D1;&#x9001;&#x82E5;&#x5E72;&#x6761;&#x6D88;&#x606F;&#xFF0C;&#x4EA4;&#x6362;&#x673A;&#x6839;&#x636E;routingkey&#x8F6C;&#x53D1;&#x6D88;&#x606F;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x961F;&#x5217;&#x3002; &#x601D;&#x8003;1&#x3001;Routing&#x6A21;&#x5F0F;&#x548C;Publish/subscibe&#x6709;&#x5565;&#x533A;&#x522B;&#xFF1F;Routing&#x6A21;&#x5F0F;&#x8981;&#x6C42;&#x961F;&#x5217;&#x5728;&#x7ED1;&#x5B9A;&#x4EA4;&#x6362;&#x673A;&#x65F6;&#x8981;&#x6307;&#x5B9A;routingkey&#xFF0C;&#x6D88;&#x606F;&#x4F1A;&#x8F6C;&#x53D1;&#x5230;&#x7B26;&#x5408;routingkey&#x7684;&#x961F;&#x5217;&#x3002; 4.Topics&#x6A21;&#x5F0F; &#x8DEF;&#x7531;&#x6A21;&#x5F0F;&#xFF1A;1&#x3001;&#x6BCF;&#x4E2A;&#x6D88;&#x8D39;&#x8005;&#x76D1;&#x542C;&#x81EA;&#x5DF1;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x5E26;&#x7EDF;&#x914D;&#x7B26;&#x7684;routingkey&#x3002;2&#x3001;&#x751F;&#x4EA7;&#x8005;&#x5C06;&#x6D88;&#x606F;&#x53D1;&#x7ED9;broker&#xFF0C;&#x7531;&#x4EA4;&#x6362;&#x673A;&#x6839;&#x636E;routingkey&#x6765;&#x8F6C;&#x53D1;&#x6D88;&#x606F;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x961F;&#x5217;&#x3002; &#x4EE3;&#x7801;&#x6848;&#x4F8B;&#xFF1A;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x901A;&#x77E5;&#x8BBE;&#x7F6E;&#x53BB;&#x901A;&#x77E5;&#x7528;&#x6237;&#xFF0C;&#x8BBE;&#x7F6E;&#x63A5;&#x6536;Email&#x7684;&#x7528;&#x6237;&#x53EA;&#x63A5;&#x6536;Email&#xFF0C;&#x8BBE;&#x7F6E;&#x63A5;&#x6536;sms&#x7684;&#x7528;&#x6237;&#x53EA;&#x63A5;&#x6536;sms&#xFF0C;&#x8BBE;&#x7F6E;&#x4E24;&#x79CD; &#x901A;&#x77E5;&#x7C7B;&#x578B;&#x90FD;&#x63A5;&#x6536;&#x7684;&#x5219;&#x4E24;&#x79CD;&#x901A;&#x77E5;&#x90FD;&#x6709;&#x6548;&#x3002;1&#x3001;&#x751F;&#x4EA7;&#x8005;&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x6307;&#x5B9A;topic&#x7C7B;&#x578B;&#xFF1A; public class Producer04_topics { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_EMAIL = &quot;queue_inform_email&quot;; private static final String QUEUE_INFORM_SMS = &quot;queue_inform_sms&quot;; private static final String EXCHANGE_TOPICS_INFORM = &quot;exchange_topics_inform&quot;; public static void main(String[] args) { Connection connection = null; Channel channel = null; try { //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4E0E;MQ&#x7684;&#x8FDE;&#x63A5; ConnectionFactory factory = new ConnectionFactory(); factory.setHost(&quot;127.0.0.1&quot;); factory.setPort(5672); factory.setUsername(&quot;guest&quot;); factory.setPassword(&quot;guest&quot;); factory.setVirtualHost(&quot;/&quot;);//rabbitmq&#x9ED8;&#x8BA4;&#x865A;&#x62DF;&#x673A;&#x540D;&#x79F0;&#x4E3A;&#x201C;/&#x201D;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq&#x670D;&#x52A1;&#x5668; //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8FDE;&#x63A5; connection = factory.newConnection(); //&#x521B;&#x5EFA;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x901A;&#x9053;&#xFF0C;&#x6BCF;&#x4E2A;&#x901A;&#x9053;&#x4EE3;&#x8868;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; channel = connection.createChannel(); //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; String exchange, BuiltinExchangeType type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7C7B;&#x578B;&#xFF0C;fanout&#x3001;topic&#x3001;direct&#x3001;headers */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //&#x58F0;&#x660E;&#x961F;&#x5217; /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;&#x662F;&#x5426;&#x6301;&#x4E45;&#x5316; * 3&#x3001;&#x662F;&#x5426;&#x72EC;&#x5360;&#x6B64;&#x961F;&#x5217; * 4&#x3001;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664; * 5&#x3001;&#x53C2;&#x6570; */ channel.queueDeclare(QUEUE_INFORM_EMAIL, true, false, false, null); channel.queueDeclare(QUEUE_INFORM_SMS, true, false, false, null); //&#x53D1;&#x9001;&#x90AE;&#x4EF6;&#x6D88;&#x606F; for (int i = 0; i &lt; 10; i++) { String message = &quot;email inform to user&quot; + i; //&#x5411;&#x4EA4;&#x6362;&#x673A;&#x53D1;&#x9001;&#x6D88;&#x606F; String exchange, String routingKey, BasicProperties props, byte[] body /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0;&#xFF0C;&#x4E0D;&#x6307;&#x4EE4;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; Default Exchange * 2&#x3001;routingKey&#xFF08;&#x8DEF;&#x7531;key&#xFF09;&#xFF0C;&#x6839;&#x636E;key&#x540D;&#x79F0;&#x5C06;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x5230;&#x5177;&#x4F53;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x8FD9;&#x91CC;&#x586B;&#x5199;&#x961F;&#x5217;&#x540D;&#x79F0;&#x8868;&#x793A;&#x6D88; &#x606F;&#x5C06;&#x53D1;&#x5230;&#x6B64;&#x961F;&#x5217; * 3&#x3001;&#x6D88;&#x606F;&#x5C5E;&#x6027; * 4&#x3001;&#x6D88;&#x606F;&#x5185;&#x5BB9; */ channel.basicPublish(EXCHANGE_TOPICS_INFORM, &quot;inform.email&quot;, null, message.getBytes()); System.out.println(&quot;Send Message is:&apos;&quot; + message + &quot;&apos;&quot;); } //&#x53D1;&#x9001;&#x77ED;&#x4FE1;&#x6D88;&#x606F; for (int i = 0; i &lt; 10; i++) { String message = &quot;sms inform to user&quot; + i; channel.basicPublish(EXCHANGE_TOPICS_INFORM, &quot;inform.sms&quot;, null, message.getBytes()); System.out.println(&quot;Send Message is:&apos;&quot; + message + &quot;&apos;&quot;); } //&#x53D1;&#x9001;&#x77ED;&#x4FE1;&#x548C;&#x90AE;&#x4EF6;&#x6D88;&#x606F; for (int i = 0; i &lt; 10; i++) { String message = &quot;sms and email inform to user&quot; + i; channel.basicPublish(EXCHANGE_TOPICS_INFORM, &quot;inform.sms.email&quot;, null, message.getBytes()); System.out.println(&quot;Send Message is:&apos;&quot; + message + &quot;&apos;&quot;); } } catch (IOException e) { e.printStackTrace(); } catch (TimeoutException e) { e.printStackTrace(); } finally { if (channel != null) { try { channel.close(); } catch (IOException e) { e.printStackTrace(); } catch (TimeoutException e) { e.printStackTrace(); } } if (connection != null) { try { connection.close(); } catch (IOException e) { e.printStackTrace(); } } } } }2&#x3001;&#x6D88;&#x8D39;&#x7AEF;sms &#x961F;&#x5217;&#x7ED1;&#x5B9A;&#x4EA4;&#x6362;&#x673A;&#x6307;&#x5B9A;&#x901A;&#x914D;&#x7B26;&#xFF1A;&#x7EDF;&#x914D;&#x7B26;&#x89C4;&#x5219;&#xFF1A;&#x4E2D;&#x95F4;&#x4EE5;&#x201C;.&#x201D;&#x5206;&#x9694;&#x3002;&#x7B26;&#x53F7;#&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x591A;&#x4E2A;&#x8BCD;&#xFF0C;&#x7B26;&#x53F7;*&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x4E00;&#x4E2A;&#x8BCD;&#x8BED;&#x3002; public class Consumer04_topics_sms { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_SMS = &quot;queue_inform_sms&quot;; private static final String EXCHANGE_TOPICS_INFORM=&quot;exchange_topics_inform&quot;; private static final String ROUTINGKEY_SMS=&quot;inform.#.sms.#&quot;; public static void main(String[] args) throws IOException, TimeoutException { //&#x901A;&#x8FC7;&#x8FDE;&#x63A5;&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#x548C;mq&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;127.0.0.1&quot;); connectionFactory.setPort(5672);//&#x7AEF;&#x53E3; connectionFactory.setUsername(&quot;guest&quot;); connectionFactory.setPassword(&quot;guest&quot;); //&#x8BBE;&#x7F6E;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x4E00;&#x4E2A;mq&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x6BCF;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq connectionFactory.setVirtualHost(&quot;/&quot;); //&#x5EFA;&#x7ACB;&#x65B0;&#x8FDE;&#x63A5; Connection connection = connectionFactory.newConnection(); //&#x521B;&#x5EFA;&#x4F1A;&#x8BDD;&#x901A;&#x9053;,&#x751F;&#x4EA7;&#x8005;&#x548C;mq&#x670D;&#x52A1;&#x6240;&#x6709;&#x901A;&#x4FE1;&#x90FD;&#x5728;channel&#x901A;&#x9053;&#x4E2D;&#x5B8C;&#x6210; Channel channel = connection.createChannel(); /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;queue &#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;durable &#x662F;&#x5426;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x5982;&#x679C;&#x6301;&#x4E45;&#x5316;&#xFF0C;mq&#x91CD;&#x542F;&#x540E;&#x961F;&#x5217;&#x8FD8;&#x5728; * 3&#x3001;exclusive &#x662F;&#x5426;&#x72EC;&#x5360;&#x8FDE;&#x63A5;&#xFF0C;&#x961F;&#x5217;&#x53EA;&#x5141;&#x8BB8;&#x5728;&#x8BE5;&#x8FDE;&#x63A5;&#x4E2D;&#x8BBF;&#x95EE;&#xFF0C;&#x5982;&#x679C;connection&#x8FDE;&#x63A5;&#x5173;&#x95ED;&#x961F;&#x5217;&#x5219;&#x81EA;&#x52A8;&#x5220;&#x9664;,&#x5982;&#x679C;&#x5C06;&#x6B64;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;true&#x53EF;&#x7528;&#x4E8E;&#x4E34;&#x65F6;&#x961F;&#x5217;&#x7684;&#x521B;&#x5EFA; * 4&#x3001;autoDelete &#x81EA;&#x52A8;&#x5220;&#x9664;&#xFF0C;&#x961F;&#x5217;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#x65F6;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x6B64;&#x961F;&#x5217;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x6B64;&#x53C2;&#x6570;&#x548C;exclusive&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;true&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E34;&#x65F6;&#x961F;&#x5217;&#xFF08;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x4E86;&#x5C31;&#x81EA;&#x52A8;&#x5220;&#x9664;&#xFF09; * 5&#x3001;arguments &#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#x7684;&#x6269;&#x5C55;&#x53C2;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x53EF;&#x8BBE;&#x7F6E;&#x5B58;&#x6D3B;&#x65F6;&#x95F4; */ channel.queueDeclare(QUEUE_INFORM_SMS,true,false,false,null); //&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x4EA4;&#x6362;&#x673A; //&#x53C2;&#x6570;&#xFF1A;String exchange, String type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x7C7B;&#x578B; * fanout&#xFF1A;&#x5BF9;&#x5E94;&#x7684;rabbitmq&#x7684;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x662F; publish/subscribe * direct&#xFF1A;&#x5BF9;&#x5E94;&#x7684;Routing &#x5DE5;&#x4F5C;&#x6A21;&#x5F0F; * topic&#xFF1A;&#x5BF9;&#x5E94;&#x7684;Topics&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F; * headers&#xFF1A; &#x5BF9;&#x5E94;&#x7684;headers&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F; */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //&#x8FDB;&#x884C;&#x4EA4;&#x6362;&#x673A;&#x548C;&#x961F;&#x5217;&#x7ED1;&#x5B9A; //&#x53C2;&#x6570;&#xFF1A;String queue, String exchange, String routingKey /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;queue &#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;exchange &#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 3&#x3001;routingKey &#x8DEF;&#x7531;key&#xFF0C;&#x4F5C;&#x7528;&#x662F;&#x4EA4;&#x6362;&#x673A;&#x6839;&#x636E;&#x8DEF;&#x7531;key&#x7684;&#x503C;&#x5C06;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x5728;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#x4E2D;&#x8C03;&#x534F;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32; */ channel.queueBind(QUEUE_INFORM_SMS, EXCHANGE_TOPICS_INFORM,ROUTINGKEY_SMS); //&#x5B9E;&#x73B0;&#x6D88;&#x8D39;&#x65B9;&#x6CD5; DefaultConsumer defaultConsumer = new DefaultConsumer(channel){ /** * &#x5F53;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x6B64;&#x65B9;&#x6CD5;&#x5C06;&#x88AB;&#x8C03;&#x7528; * @param consumerTag &#x6D88;&#x8D39;&#x8005;&#x6807;&#x7B7E;&#xFF0C;&#x7528;&#x6765;&#x6807;&#x8BC6;&#x6D88;&#x8D39;&#x8005;&#x7684;&#xFF0C;&#x5728;&#x76D1;&#x542C;&#x961F;&#x5217;&#x65F6;&#x8BBE;&#x7F6E;channel.basicConsume * @param envelope &#x4FE1;&#x5C01;&#xFF0C;&#x901A;&#x8FC7;envelope * @param properties &#x6D88;&#x606F;&#x5C5E;&#x6027; * @param body &#x6D88;&#x606F;&#x5185;&#x5BB9; * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { //&#x4EA4;&#x6362;&#x673A; String exchange = envelope.getExchange(); //&#x6D88;&#x606F;id&#xFF0C;mq&#x5728;channel&#x4E2D;&#x7528;&#x6765;&#x6807;&#x8BC6;&#x6D88;&#x606F;&#x7684;id&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x786E;&#x8BA4;&#x6D88;&#x606F;&#x5DF2;&#x63A5;&#x6536; long deliveryTag = envelope.getDeliveryTag(); //&#x6D88;&#x606F;&#x5185;&#x5BB9; String message= new String(body,&quot;utf-8&quot;); System.out.println(&quot;receive message:&quot;+message); } }; //&#x76D1;&#x542C;&#x961F;&#x5217; //&#x53C2;&#x6570;&#xFF1A;String queue, boolean autoAck, Consumer callback /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;queue &#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;autoAck &#x81EA;&#x52A8;&#x56DE;&#x590D;&#xFF0C;&#x5F53;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x8981;&#x544A;&#x8BC9;mq&#x6D88;&#x606F;&#x5DF2;&#x63A5;&#x6536;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x6B64;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;tru&#x8868;&#x793A;&#x4F1A;&#x81EA;&#x52A8;&#x56DE;&#x590D;mq&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;false&#x8981;&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x5B9E;&#x73B0;&#x56DE;&#x590D; * 3&#x3001;callback&#xFF0C;&#x6D88;&#x8D39;&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x8981;&#x6267;&#x884C;&#x7684;&#x65B9;&#x6CD5; */ channel.basicConsume(QUEUE_INFORM_SMS,true,defaultConsumer); } }3&#x3001;&#x6D88;&#x8D39;&#x7AEF;email public class Consumer04_topics_email { //&#x961F;&#x5217;&#x540D;&#x79F0; private static final String QUEUE_INFORM_EMAIL = &quot;queue_inform_email&quot;; private static final String EXCHANGE_TOPICS_INFORM=&quot;exchange_topics_inform&quot;; private static final String ROUTINGKEY_EMAIL=&quot;inform.#.email.#&quot;; public static void main(String[] args) throws IOException, TimeoutException { //&#x901A;&#x8FC7;&#x8FDE;&#x63A5;&#x5DE5;&#x5382;&#x521B;&#x5EFA;&#x65B0;&#x7684;&#x8FDE;&#x63A5;&#x548C;mq&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5; ConnectionFactory connectionFactory = new ConnectionFactory(); connectionFactory.setHost(&quot;127.0.0.1&quot;); connectionFactory.setPort(5672);//&#x7AEF;&#x53E3; connectionFactory.setUsername(&quot;guest&quot;); connectionFactory.setPassword(&quot;guest&quot;); //&#x8BBE;&#x7F6E;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x4E00;&#x4E2A;mq&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x6BCF;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;mq connectionFactory.setVirtualHost(&quot;/&quot;); //&#x5EFA;&#x7ACB;&#x65B0;&#x8FDE;&#x63A5; Connection connection = connectionFactory.newConnection(); //&#x521B;&#x5EFA;&#x4F1A;&#x8BDD;&#x901A;&#x9053;,&#x751F;&#x4EA7;&#x8005;&#x548C;mq&#x670D;&#x52A1;&#x6240;&#x6709;&#x901A;&#x4FE1;&#x90FD;&#x5728;channel&#x901A;&#x9053;&#x4E2D;&#x5B8C;&#x6210; Channel channel = connection.createChannel(); /** * &#x53C2;&#x6570;&#x660E;&#x7EC6; * 1&#x3001;queue &#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;durable &#x662F;&#x5426;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x5982;&#x679C;&#x6301;&#x4E45;&#x5316;&#xFF0C;mq&#x91CD;&#x542F;&#x540E;&#x961F;&#x5217;&#x8FD8;&#x5728; * 3&#x3001;exclusive &#x662F;&#x5426;&#x72EC;&#x5360;&#x8FDE;&#x63A5;&#xFF0C;&#x961F;&#x5217;&#x53EA;&#x5141;&#x8BB8;&#x5728;&#x8BE5;&#x8FDE;&#x63A5;&#x4E2D;&#x8BBF;&#x95EE;&#xFF0C;&#x5982;&#x679C;connection&#x8FDE;&#x63A5;&#x5173;&#x95ED;&#x961F;&#x5217;&#x5219;&#x81EA;&#x52A8;&#x5220;&#x9664;,&#x5982;&#x679C;&#x5C06;&#x6B64;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;true&#x53EF;&#x7528;&#x4E8E;&#x4E34;&#x65F6;&#x961F;&#x5217;&#x7684;&#x521B;&#x5EFA; * 4&#x3001;autoDelete &#x81EA;&#x52A8;&#x5220;&#x9664;&#xFF0C;&#x961F;&#x5217;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#x65F6;&#x662F;&#x5426;&#x81EA;&#x52A8;&#x5220;&#x9664;&#x6B64;&#x961F;&#x5217;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x6B64;&#x53C2;&#x6570;&#x548C;exclusive&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;true&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E34;&#x65F6;&#x961F;&#x5217;&#xFF08;&#x961F;&#x5217;&#x4E0D;&#x7528;&#x4E86;&#x5C31;&#x81EA;&#x52A8;&#x5220;&#x9664;&#xFF09; * 5&#x3001;arguments &#x53C2;&#x6570;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#x7684;&#x6269;&#x5C55;&#x53C2;&#x6570;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x53EF;&#x8BBE;&#x7F6E;&#x5B58;&#x6D3B;&#x65F6;&#x95F4; */ channel.queueDeclare(QUEUE_INFORM_EMAIL,true,false,false,null); //&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x4EA4;&#x6362;&#x673A; //&#x53C2;&#x6570;&#xFF1A;String exchange, String type /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x540D;&#x79F0; * 2&#x3001;&#x4EA4;&#x6362;&#x673A;&#x7684;&#x7C7B;&#x578B; * fanout&#xFF1A;&#x5BF9;&#x5E94;&#x7684;rabbitmq&#x7684;&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x662F; publish/subscribe * direct&#xFF1A;&#x5BF9;&#x5E94;&#x7684;Routing &#x5DE5;&#x4F5C;&#x6A21;&#x5F0F; * topic&#xFF1A;&#x5BF9;&#x5E94;&#x7684;Topics&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F; * headers&#xFF1A; &#x5BF9;&#x5E94;&#x7684;headers&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F; */ channel.exchangeDeclare(EXCHANGE_TOPICS_INFORM, BuiltinExchangeType.TOPIC); //&#x8FDB;&#x884C;&#x4EA4;&#x6362;&#x673A;&#x548C;&#x961F;&#x5217;&#x7ED1;&#x5B9A; //&#x53C2;&#x6570;&#xFF1A;String queue, String exchange, String routingKey /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;queue &#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;exchange &#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 3&#x3001;routingKey &#x8DEF;&#x7531;key&#xFF0C;&#x4F5C;&#x7528;&#x662F;&#x4EA4;&#x6362;&#x673A;&#x6839;&#x636E;&#x8DEF;&#x7531;key&#x7684;&#x503C;&#x5C06;&#x6D88;&#x606F;&#x8F6C;&#x53D1;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x961F;&#x5217;&#x4E2D;&#xFF0C;&#x5728;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#x4E2D;&#x8C03;&#x534F;&#x4E3A;&#x7A7A;&#x5B57;&#x7B26;&#x4E32; */ channel.queueBind(QUEUE_INFORM_EMAIL, EXCHANGE_TOPICS_INFORM,ROUTINGKEY_EMAIL); //&#x5B9E;&#x73B0;&#x6D88;&#x8D39;&#x65B9;&#x6CD5; DefaultConsumer defaultConsumer = new DefaultConsumer(channel){ /** * &#x5F53;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x6B64;&#x65B9;&#x6CD5;&#x5C06;&#x88AB;&#x8C03;&#x7528; * @param consumerTag &#x6D88;&#x8D39;&#x8005;&#x6807;&#x7B7E;&#xFF0C;&#x7528;&#x6765;&#x6807;&#x8BC6;&#x6D88;&#x8D39;&#x8005;&#x7684;&#xFF0C;&#x5728;&#x76D1;&#x542C;&#x961F;&#x5217;&#x65F6;&#x8BBE;&#x7F6E;channel.basicConsume * @param envelope &#x4FE1;&#x5C01;&#xFF0C;&#x901A;&#x8FC7;envelope * @param properties &#x6D88;&#x606F;&#x5C5E;&#x6027; * @param body &#x6D88;&#x606F;&#x5185;&#x5BB9; * @throws IOException */ @Override public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException { //&#x4EA4;&#x6362;&#x673A; String exchange = envelope.getExchange(); //&#x6D88;&#x606F;id&#xFF0C;mq&#x5728;channel&#x4E2D;&#x7528;&#x6765;&#x6807;&#x8BC6;&#x6D88;&#x606F;&#x7684;id&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x786E;&#x8BA4;&#x6D88;&#x606F;&#x5DF2;&#x63A5;&#x6536; long deliveryTag = envelope.getDeliveryTag(); //&#x6D88;&#x606F;&#x5185;&#x5BB9; String message= new String(body,&quot;utf-8&quot;); System.out.println(&quot;receive message:&quot;+message); } }; //&#x76D1;&#x542C;&#x961F;&#x5217; //&#x53C2;&#x6570;&#xFF1A;String queue, boolean autoAck, Consumer callback /** * &#x53C2;&#x6570;&#x660E;&#x7EC6;&#xFF1A; * 1&#x3001;queue &#x961F;&#x5217;&#x540D;&#x79F0; * 2&#x3001;autoAck &#x81EA;&#x52A8;&#x56DE;&#x590D;&#xFF0C;&#x5F53;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x8981;&#x544A;&#x8BC9;mq&#x6D88;&#x606F;&#x5DF2;&#x63A5;&#x6536;&#xFF0C;&#x5982;&#x679C;&#x5C06;&#x6B64;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;tru&#x8868;&#x793A;&#x4F1A;&#x81EA;&#x52A8;&#x56DE;&#x590D;mq&#xFF0C;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E3A;false&#x8981;&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x5B9E;&#x73B0;&#x56DE;&#x590D; * 3&#x3001;callback&#xFF0C;&#x6D88;&#x8D39;&#x65B9;&#x6CD5;&#xFF0C;&#x5F53;&#x6D88;&#x8D39;&#x8005;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x8981;&#x6267;&#x884C;&#x7684;&#x65B9;&#x6CD5; */ channel.basicConsume(QUEUE_INFORM_EMAIL,true,defaultConsumer); } }&#x6D4B;&#x8BD5; &#x4F7F;&#x7528;&#x751F;&#x4EA7;&#x8005;&#x53D1;&#x9001;&#x82E5;&#x5E72;&#x6761;&#x6D88;&#x606F;&#xFF0C;&#x4EA4;&#x6362;&#x673A;&#x6839;&#x636E;routingkey&#x7EDF;&#x914D;&#x7B26;&#x5339;&#x914D;&#x5E76;&#x8F6C;&#x53D1;&#x6D88;&#x606F;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x961F;&#x5217;&#x3002; &#x601D;&#x8003;1&#x3001;&#x672C;&#x6848;&#x4F8B;&#x7684;&#x9700;&#x6C42;&#x4F7F;&#x7528;Routing&#x5DE5;&#x4F5C;&#x6A21;&#x5F0F;&#x80FD;&#x5426;&#x5B9E;&#x73B0;&#xFF1F;&#x4F7F;&#x7528;Routing&#x6A21;&#x5F0F;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x672C;&#x6848;&#x4F8B;&#xFF0C;&#x5171;&#x8BBE;&#x7F6E;&#x4E09;&#x4E2A; routingkey&#xFF0C;&#x5206;&#x522B;&#x662F;email&#x3001;sms&#x3001;all&#xFF0C;email&#x961F;&#x5217;&#x7ED1;&#x5B9A;email&#x548C; all&#xFF0C;sms&#x961F;&#x5217;&#x7ED1;&#x5B9A;sms&#x548C;all&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x4E0A;&#x8FB9;&#x6848;&#x4F8B;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5B9E;&#x73B0;&#x8FC7;&#x7A0B;&#x6BD4;topics&#x590D;&#x6742;&#x3002;Topic&#x6A21;&#x5F0F;&#x66F4;&#x591A;&#x52A0;&#x5F3A;&#x5927;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;Routing&#x3001;publish/subscirbe&#x6A21;&#x5F0F;&#x7684;&#x529F;&#x80FD;&#x3002; 5.Header&#x6A21;&#x5F0F; header&#x6A21;&#x5F0F;&#x4E0E;routing&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x5728;&#x4E8E;&#xFF0C;header&#x6A21;&#x5F0F;&#x53D6;&#x6D88;routingkey&#xFF0C;&#x4F7F;&#x7528;header&#x4E2D;&#x7684; key/value&#xFF08;&#x952E;&#x503C;&#x5BF9;&#xFF09;&#x5339;&#x914D; &#x961F;&#x5217;&#x3002;&#x6848;&#x4F8B;&#xFF1A;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x901A;&#x77E5;&#x8BBE;&#x7F6E;&#x53BB;&#x901A;&#x77E5;&#x7528;&#x6237;&#xFF0C;&#x8BBE;&#x7F6E;&#x63A5;&#x6536;Email&#x7684;&#x7528;&#x6237;&#x53EA;&#x63A5;&#x6536;Email&#xFF0C;&#x8BBE;&#x7F6E;&#x63A5;&#x6536;sms&#x7684;&#x7528;&#x6237;&#x53EA;&#x63A5;&#x6536;sms&#xFF0C;&#x8BBE;&#x7F6E;&#x4E24;&#x79CD; &#x901A;&#x77E5;&#x7C7B;&#x578B;&#x90FD;&#x63A5;&#x6536;&#x7684;&#x5219;&#x4E24;&#x79CD;&#x901A;&#x77E5;&#x90FD;&#x6709;&#x6548;&#x3002; &#x4EE3;&#x7801;1&#xFF09;&#x751F;&#x4EA7;&#x8005;&#x961F;&#x5217;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7ED1;&#x5B9A;&#x7684;&#x4EE3;&#x7801;&#x4E0E;&#x4E4B;&#x524D;&#x4E0D;&#x540C;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x6D4B;&#x8BD5; 6.RPC&#x6A21;&#x5F0F; RPC&#x5373;&#x5BA2;&#x6237;&#x7AEF;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x65B9;&#x6CD5; &#xFF0C;&#x4F7F;&#x7528;MQ&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;RPC&#x7684;&#x5F02;&#x6B65;&#x8C03;&#x7528;&#xFF0C;&#x57FA;&#x4E8E;Direct&#x4EA4;&#x6362;&#x673A;&#x5B9E;&#x73B0;&#xFF0C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x5373;&#x662F;&#x751F;&#x4EA7;&#x8005;&#x5C31;&#x662F;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x5411;RPC&#x8BF7;&#x6C42;&#x961F;&#x5217;&#x53D1;&#x9001;RPC&#x8C03;&#x7528;&#x6D88;&#x606F;&#xFF0C;&#x540C;&#x65F6;&#x76D1;&#x542C;RPC&#x54CD;&#x5E94;&#x961F;&#x5217;&#x3002;2&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x76D1;&#x542C;RPC&#x8BF7;&#x6C42;&#x961F;&#x5217;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x6267;&#x884C;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5F97;&#x5230;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;3&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x5C06;RPC&#x65B9;&#x6CD5; &#x7684;&#x7ED3;&#x679C;&#x53D1;&#x9001;&#x5230;RPC&#x54CD;&#x5E94;&#x961F;&#x5217;4&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;RPC&#x8C03;&#x7528;&#x65B9;&#xFF09;&#x76D1;&#x542C;RPC&#x54CD;&#x5E94;&#x961F;&#x5217;&#xFF0C;&#x63A5;&#x6536;&#x5230;RPC&#x8C03;&#x7528;&#x7ED3;&#x679C;&#x3002; Springboot&#x6574;&#x5408;RibbitMQ&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x57FA;&#x4E8E;Spring-Rabbit&#x53BB;&#x64CD;&#x4F5C;RabbitMQhttps://github.com/spring-projects/spring-amqp 1.&#x5BFC;&#x5165;&#x4F9D;&#x8D56;&#x4F7F;&#x7528;spring-boot-starter-amqp&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;spring-rabbit&#x4F9D;&#x8D56;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &lt;!--&#x6B64;&#x7248;&#x672C;&#x4E0E;springboot1.5.9&#x7248;&#x672C;&#x5339;&#x914D;--&gt; &lt;!--&lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;4.0.3&lt;/version&gt; &lt;/dependency&gt;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;/dependency&gt;2.&#x914D;&#x7F6E;application.yml1&#x3001;&#x914D;&#x7F6E;&#x8FDE;&#x63A5;rabbitmq&#x7684;&#x53C2;&#x6570; server: port: 44000 spring: application: name: test-rabbitmq-producer rabbitmq: host: 127.0.0.1 port: 5672 username: guest password: guest virtualHost: /2&#x3001;&#x5B9A;&#x4E49;RabbitCon&#xFB01;g&#x7C7B;&#xFF0C;&#x914D;&#x7F6E;Exchange&#x3001;Queue&#x3001;&#x53CA;&#x7ED1;&#x5B9A;&#x4EA4;&#x6362;&#x673A;&#x3002; &#x672C;&#x4F8B;&#x914D;&#x7F6E;Topic&#x4EA4;&#x6362;&#x673A;&#x3002; package com.xuecheng.test.rabbitmq.config; import org.springframework.amqp.core.*; import org.springframework.beans.factory.annotation.Qualifier; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; /** * @author Administrator * @version 1.0 * @create 2018-06-17 20:45 **/ @Configuration public class RabbitmqConfig { public static final String QUEUE_INFORM_EMAIL = &quot;queue_inform_email&quot;; public static final String QUEUE_INFORM_SMS = &quot;queue_inform_sms&quot;; public static final String EXCHANGE_TOPICS_INFORM=&quot;exchange_topics_inform&quot;; public static final String ROUTINGKEY_EMAIL=&quot;inform.#.email.#&quot;; public static final String ROUTINGKEY_SMS=&quot;inform.#.sms.#&quot;; //&#x58F0;&#x660E;&#x4EA4;&#x6362;&#x673A; @Bean(EXCHANGE_TOPICS_INFORM) public Exchange EXCHANGE_TOPICS_INFORM(){ //durable(true) &#x6301;&#x4E45;&#x5316;&#xFF0C;mq&#x91CD;&#x542F;&#x4E4B;&#x540E;&#x4EA4;&#x6362;&#x673A;&#x8FD8;&#x5728; return ExchangeBuilder.topicExchange(EXCHANGE_TOPICS_INFORM).durable(true).build(); } //&#x58F0;&#x660E;QUEUE_INFORM_EMAIL&#x961F;&#x5217; @Bean(QUEUE_INFORM_EMAIL) public Queue QUEUE_INFORM_EMAIL(){ return new Queue(QUEUE_INFORM_EMAIL); } //&#x58F0;&#x660E;QUEUE_INFORM_SMS&#x961F;&#x5217; @Bean(QUEUE_INFORM_SMS) public Queue QUEUE_INFORM_SMS(){ return new Queue(QUEUE_INFORM_SMS); } //ROUTINGKEY_EMAIL&#x961F;&#x5217;&#x7ED1;&#x5B9A;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x6307;&#x5B9A;routingKey @Bean public Binding BINDING_QUEUE_INFORM_EMAIL(@Qualifier(QUEUE_INFORM_EMAIL) Queue queue, @Qualifier(EXCHANGE_TOPICS_INFORM) Exchange exchange){ return BindingBuilder.bind(queue).to(exchange).with(ROUTINGKEY_EMAIL).noargs(); } //ROUTINGKEY_SMS&#x961F;&#x5217;&#x7ED1;&#x5B9A;&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x6307;&#x5B9A;routingKey @Bean public Binding BINDING_ROUTINGKEY_SMS(@Qualifier(QUEUE_INFORM_SMS) Queue queue, @Qualifier(EXCHANGE_TOPICS_INFORM) Exchange exchange){ return BindingBuilder.bind(queue).to(exchange).with(ROUTINGKEY_SMS).noargs(); } }3.&#x751F;&#x4EA7;&#x7AEF;&#x4F7F;&#x7528;RarbbitTemplate&#x53D1;&#x9001;&#x6D88;&#x606F; package com.xuecheng.test.rabbitmq; import com.alibaba.fastjson.JSON; import com.xuecheng.test.rabbitmq.config.RabbitmqConfig; import org.junit.Test; import org.junit.runner.RunWith; import org.springframework.amqp.rabbit.core.RabbitTemplate; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.test.context.SpringBootTest; import org.springframework.test.context.junit4.SpringRunner; import java.util.HashMap; import java.util.Map; @SpringBootTest @RunWith(SpringRunner.class) public class Producer06_topics_springboot { @Autowired RabbitTemplate rabbitTemplate; //&#x4F7F;&#x7528;rabbitTemplate&#x53D1;&#x9001;&#x6D88;&#x606F; @Test public void testSendEmail(){ String message = &quot;send email message to user&quot;; /** * &#x53C2;&#x6570;&#xFF1A; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;routingKey * 3&#x3001;&#x6D88;&#x606F;&#x5185;&#x5BB9; */ rabbitTemplate.convertAndSend(RabbitmqConfig.EXCHANGE_TOPICS_INFORM,&quot;inform.email&quot;,message); } //&#x4F7F;&#x7528;rabbitTemplate&#x53D1;&#x9001;&#x6D88;&#x606F; @Test public void testSendPostPage(){ Map message = new HashMap&lt;&gt;(); message.put(&quot;pageId&quot;,&quot;5a795ac7dd573c04508f3a56&quot;); //&#x5C06;&#x6D88;&#x606F;&#x5BF9;&#x8C61;&#x8F6C;&#x6210;json&#x4E32; String messageString = JSON.toJSONString(message); //&#x8DEF;&#x7531;key&#xFF0C;&#x5C31;&#x662F;&#x7AD9;&#x70B9;ID String routingKey = &quot;5a751fab6abb5044e0d19ea1&quot;; /** * &#x53C2;&#x6570;&#xFF1A; * 1&#x3001;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0; * 2&#x3001;routingKey * 3&#x3001;&#x6D88;&#x606F;&#x5185;&#x5BB9; */ rabbitTemplate.convertAndSend(&quot;ex_routing_cms_postpage&quot;,routingKey,messageString); } }4.&#x6D88;&#x8D39;&#x7AEF;&#x521B;&#x5EFA;&#x6D88;&#x8D39;&#x7AEF;&#x5DE5;&#x7A0B;,&#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;!--&#x6B64;&#x7248;&#x672C;&#x4E0E;springboot1.5.9&#x7248;&#x672C;&#x5339;&#x914D;--&gt; &lt;!--&lt;dependency&gt; &lt;groupId&gt;com.rabbitmq&lt;/groupId&gt; &lt;artifactId&gt;amqp-client&lt;/artifactId&gt; &lt;version&gt;4.0.3&lt;/version&gt; &lt;/dependency&gt;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt; &lt;/dependency&gt;&#x4F7F;&#x7528;@RabbitListener&#x6CE8;&#x89E3;&#x76D1;&#x542C;&#x961F;&#x5217;&#x3002; import com.rabbitmq.client.Channel; import com.xuecheng.test.rabbitmq.config.RabbitmqConfig; import org.springframework.amqp.core.Message; import org.springframework.amqp.rabbit.annotation.RabbitListener; import org.springframework.stereotype.Component; /** * @author Administrator * @version 1.0 * @create 2018-06-17 21:21 **/ @Component public class ReceiveHandler { @RabbitListener(queues = {RabbitmqConfig.QUEUE_INFORM_EMAIL}) public void send_email(String msg,Message message,Channel channel){ System.out.println(&quot;receive message is:&quot;+msg); } }5.&#x6D4B;&#x8BD5; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-6-ye-mian-fa-bu.html</url>
    <content type="text"><![CDATA[&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6280;&#x672F;&#x65B9;&#x6848;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;MQ&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;&#x6280;&#x672F;&#x65B9;&#x6848;&#x5982;&#x4E0B;&#xFF1A; &#x6280;&#x672F;&#x65B9;&#x6848;&#x8BF4;&#x660E;&#xFF1A; 1&#x3001;&#x5E73;&#x53F0;&#x5305;&#x62EC;&#x591A;&#x4E2A;&#x7AD9;&#x70B9;&#xFF0C;&#x9875;&#x9762;&#x5F52;&#x5C5E;&#x4E0D;&#x540C;&#x7684;&#x7AD9;&#x70B9;&#x3002; 2&#x3001;&#x53D1;&#x5E03;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x5E94;&#x5C06;&#x8BE5;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x5230;&#x6240;&#x5C5E;&#x7AD9;&#x70B9;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002; 3&#x3001;&#x6BCF;&#x4E2A;&#x7AD9;&#x70B9;&#x670D;&#x52A1;&#x90E8;&#x7F72;cms client&#x7A0B;&#x5E8F;&#xFF0C;&#x5E76;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7ED1;&#x5B9A;&#xFF0C;&#x7ED1;&#x5B9A;&#x65F6;&#x6307;&#x5B9A;&#x7AD9;&#x70B9;Id&#x4E3A;routingKey&#x3002; &#x6307;&#x5B9A;&#x7AD9;&#x70B9;id&#x4E3A;routingKey&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;cms client&#x53EA;&#x80FD;&#x63A5;&#x6536;&#x5230;&#x6240;&#x5C5E;&#x7AD9;&#x70B9;&#x7684;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6D88;&#x606F;&#x3002; 4&#x3001;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7A0B;&#x5E8F;&#x5411;MQ&#x53D1;&#x5E03;&#x6D88;&#x606F;&#x65F6;&#x6307;&#x5B9A;&#x9875;&#x9762;&#x6240;&#x5C5E;&#x7AD9;&#x70B9;Id&#x4E3A;routingKey&#xFF0C;&#x5C06;&#x8BE5;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x5230;&#x5B83;&#x6240;&#x5728;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;cms client&#x3002; &#x8DEF;&#x7531;&#x6A21;&#x5F0F;&#x5206;&#x6790;&#x5982;&#x4E0B;&#xFF1A; &#x53D1;&#x5E03;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x9700;&#x53D1;&#x5E03;&#x5230;&#x8BE5;&#x9875;&#x9762;&#x6240;&#x5C5E;&#x7684;&#x6BCF;&#x4E2A;&#x7AD9;&#x70B9;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5176;&#x5B83;&#x7AD9;&#x70B9;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x53D1;&#x5E03;&#x3002; &#x6BD4;&#x5982;&#xFF1A;&#x53D1;&#x5E03;&#x4E00;&#x4E2A;&#x95E8;&#x6237;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x9700;&#x8981;&#x53D1;&#x5E03;&#x5230;&#x6BCF;&#x4E2A;&#x95E8;&#x6237;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x800C;&#x7528;&#x6237;&#x4E2D;&#x5FC3;&#x670D;&#x52A1;&#x5668;&#x5219;&#x4E0D;&#x9700;&#x8981;&#x53D1;&#x5E03;&#x3002; &#x6240;&#x4EE5;&#x672C;&#x9879;&#x76EE;&#x91C7;&#x7528;routing&#x6A21;&#x5F0F;&#xFF0C;&#x7528;&#x7AD9;&#x70B9;id&#x4F5C;&#x4E3A;routingKey&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x5339;&#x914D;&#x9875;&#x9762;&#x53EA;&#x53D1;&#x5E03;&#x5230;&#x6240;&#x5C5E;&#x7684;&#x7AD9;&#x70B9;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6D41;&#x7A0B;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;cms&#x6267;&#x884C;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x3002; 2&#x3001;cms&#x6267;&#x884C;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x751F;&#x6210;html&#x6587;&#x4EF6;&#x3002; 3&#x3001;cms&#x5C06;html&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5230;GridFS&#x4E2D;&#x3002; 4&#x3001;cms&#x5411;MQ&#x53D1;&#x9001;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6D88;&#x606F; 5&#x3001;MQ&#x5C06;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6D88;&#x606F;&#x901A;&#x77E5;&#x7ED9;Cms Client 6&#x3001;Cms Client&#x4ECE;GridFS&#x4E2D;&#x4E0B;&#x8F7D;html&#x6587;&#x4EF6; 7&#x3001;Cms Client&#x5C06;html&#x4FDD;&#x5B58;&#x5230;&#x6240;&#x5728;&#x670D;&#x52A1;&#x5668;&#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x9700;&#x6C42;&#x5206;&#x6790;&#x529F;&#x80FD;&#x5206;&#x6790;&#xFF1A;&#x521B;&#x5EFA;Cms Client&#x5DE5;&#x7A0B;&#x4F5C;&#x4E3A;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6D88;&#x8D39;&#x65B9;&#xFF0C;&#x5C06;Cms Client&#x90E8;&#x7F72;&#x5728;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x5B83;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x5230;&#x9875;&#x9762;&#x53D1;&#x5E03; &#x7684;&#x6D88;&#x606F;&#x540E;&#x4ECE; GridFS&#x4E2D;&#x4E0B;&#x8F7D;&#x6587;&#x4EF6;&#x5728;&#x672C;&#x5730;&#x4FDD;&#x5B58;&#x3002;&#x9700;&#x6C42;&#x5982;&#x4E0B;&#xFF1A;1&#x3001;&#x5C06;cms Client&#x90E8;&#x7F72;&#x5728;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x914D;&#x7F6E;&#x961F;&#x5217;&#x540D;&#x79F0;&#x548C; &#x7AD9;&#x70B9;ID(Routingkey)&#x3002;2&#x3001;cms Client&#x8FDE;&#x63A5;RabbitMQ&#x5E76;&#x76D1;&#x542C;&#x5404;&#x81EA;&#x7684;&#x201C;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x961F;&#x5217;&#x201D;3&#x3001;cms Client&#x63A5;&#x6536;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x961F;&#x5217;&#x7684;&#x6D88;&#x606F;4&#x3001;&#x6839;&#x636E;&#x6D88;&#x606F;&#x4E2D;&#x7684;&#x9875;&#x9762;id&#x4ECE;mongodb&#x6570;&#x636E;&#x5E93;&#x4E0B;&#x8F7D;&#x9875;&#x9762;&#x5230;&#x672C;&#x5730; &#x8C03;&#x7528;dao&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4FE1;&#x606F;&#xFF0C;&#x83B7;&#x53D6;&#x5230;&#x9875;&#x9762;&#x7684;&#x7269;&#x7406;&#x8DEF;&#x5F84;&#xFF0C;&#x8C03;&#x7528;dao&#x67E5;&#x8BE2;&#x7AD9;&#x70B9;&#x4FE1;&#x606F;&#xFF0C;&#x5F97;&#x5230;&#x7AD9;&#x70B9;&#x7684;&#x7269;&#x7406;&#x8DEF;&#x5F84; &#x9875;&#x9762;&#x7269;&#x7406;&#x8DEF;&#x5F84;=&#x7AD9;&#x70B9;&#x7269;&#x7406;&#x8DEF;&#x5F84;+&#x9875;&#x9762;&#x7269;&#x7406;&#x8DEF;&#x5F84;+&#x9875;&#x9762;&#x540D;&#x79F0;&#x3002;&#x4ECE;GridFS&#x67E5;&#x8BE2;&#x9759;&#x6001;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#xFF0C;&#x5C06;&#x9759;&#x6001;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4FDD;&#x5B58;&#x5230;&#x9875;&#x9762;&#x7269;&#x7406;&#x8DEF;&#x5F84;&#x4E0B;&#x3002; &#x6D88;&#x8D39;&#x65B9;&#x521B;&#x5EFA;maven&#x5DE5;&#x7A0B; &#x7EE7;&#x627F;&#x7236;&#x5DE5;&#x7A0B; 1.&#x5BFC;&#x5165;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-model&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;/dependency&gt;2.&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5728;resources&#x4E0B;&#x914D;&#x7F6E;application.yml&#x548C;logback-spring.xml&#x3002; application.yml&#x7684;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; server: port: 31000 spring: application: name: xc-service-manage-cms-client data: mongodb: uri: mongodb://root:root@localhost:27017 database: xc_cms rabbitmq: host: 127.0.0.1 port: 5672 username: guest password: guest virtualHost: / xuecheng: mq: #cms&#x5BA2;&#x6237;&#x7AEF;&#x76D1;&#x63A7;&#x7684;&#x961F;&#x5217;&#x540D;&#x79F0;&#xFF08;&#x4E0D;&#x540C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x76D1;&#x63A7;&#x7684;&#x961F;&#x5217;&#x4E0D;&#x80FD;&#x91CD;&#x590D;&#xFF09; queue: queue_cms_postpage_01 routingKey: 5a751fab6abb5044e0d19ea1 #&#x6B64;routingKey&#x4E3A;&#x95E8;&#x6237;&#x7AD9;&#x70B9;ID&#x8BF4;&#x660E;&#xFF1A;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;&#x961F;&#x5217;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x6BCF;&#x4E2A; cms client&#x5728;&#x90E8;&#x7F72;&#x65F6;&#x6CE8;&#x610F;&#x961F;&#x5217;&#x540D;&#x79F0;&#x4E0D;&#x8981;&#x91CD;&#x590D; logback-spring.xml&#x7684;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;configuration&gt; &lt;!--&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x50A8;&#x5730;&#x5740;,&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;--&gt; &lt;property name=&quot;LOG_HOME&quot; value=&quot;e:/logs&quot;/&gt; &lt;!-- Console &#x8F93;&#x51FA;&#x8BBE;&#x7F6E; --&gt; &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;encoder&gt; &lt;!--&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;&#xFF1A;%d&#x8868;&#x793A;&#x65E5;&#x671F;&#xFF0C;%thread&#x8868;&#x793A;&#x7EBF;&#x7A0B;&#x540D;&#xFF0C;%-5level&#xFF1A;&#x7EA7;&#x522B;&#x4ECE;&#x5DE6;&#x663E;&#x793A;5&#x4E2A;&#x5B57;&#x7B26;&#x5BBD;&#x5EA6;%msg&#xFF1A;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#xFF0C;%n&#x662F;&#x6362;&#x884C;&#x7B26;--&gt; &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;charset&gt;utf8&lt;/charset&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- &#x6309;&#x7167;&#x6BCF;&#x5929;&#x751F;&#x6210;&#x65E5;&#x5FD7;&#x6587;&#x4EF6; --&gt; &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt; &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt; &lt;!--&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x8F93;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;--&gt; &lt;fileNamePattern&gt;${LOG_HOME}/xc.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- &#x5F02;&#x6B65;&#x8F93;&#x51FA; --&gt; &lt;appender name=&quot;ASYNC&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt; &lt;!-- &#x4E0D;&#x4E22;&#x5931;&#x65E5;&#x5FD7;.&#x9ED8;&#x8BA4;&#x7684;,&#x5982;&#x679C;&#x961F;&#x5217;&#x7684;80%&#x5DF2;&#x6EE1;,&#x5219;&#x4F1A;&#x4E22;&#x5F03;TRACT&#x3001;DEBUG&#x3001;INFO&#x7EA7;&#x522B;&#x7684;&#x65E5;&#x5FD7; --&gt; &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- &#x66F4;&#x6539;&#x9ED8;&#x8BA4;&#x7684;&#x961F;&#x5217;&#x7684;&#x6DF1;&#x5EA6;,&#x8BE5;&#x503C;&#x4F1A;&#x5F71;&#x54CD;&#x6027;&#x80FD;.&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;256 --&gt; &lt;queueSize&gt;512&lt;/queueSize&gt; &lt;!-- &#x6DFB;&#x52A0;&#x9644;&#x52A0;&#x7684;appender,&#x6700;&#x591A;&#x53EA;&#x80FD;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; --&gt; &lt;appender-ref ref=&quot;FILE&quot;/&gt; &lt;/appender&gt; &lt;logger name=&quot;org.apache.ibatis.cache.decorators.LoggingCache&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt; &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt; &lt;/logger&gt; &lt;logger name=&quot;org.springframework.boot&quot; level=&quot;DEBUG&quot;/&gt; &lt;root level=&quot;info&quot;&gt; &lt;!--&lt;appender-ref ref=&quot;ASYNC&quot;/&gt;--&gt; &lt;appender-ref ref=&quot;FILE&quot;/&gt; &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt; &lt;/root&gt; &lt;/configuration&gt;3.&#x542F;&#x52A8;&#x7C7B;@SpringBootApplication(exclude= {DataSourceAutoConfiguration.class}) @EntityScan(&quot;com.xuecheng.framework.domain.cms&quot;)//&#x626B;&#x63CF;&#x5B9E;&#x4F53;&#x7C7B; @ComponentScan(basePackages={&quot;com.xuecheng.framework&quot;})//&#x626B;&#x63CF;common&#x5305;&#x4E0B;&#x7684;&#x7C7B; @ComponentScan(basePackages={&quot;com.xuecheng.manage_cms_client&quot;})//&#x626B;&#x63CF;&#x672C;&#x9879;&#x76EE;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x7C7B; public class ManageCmsClientApplication { public static void main(String[] args) { SpringApplication.run(ManageCmsClientApplication.class,args); } }4.RabbitmqCon&#xFB01;g&#x914D;&#x7F6E;&#x7C7B;&#x6D88;&#x606F;&#x961F;&#x5217;&#x8BBE;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A;1&#x3001;&#x521B;&#x5EFA;&#x201C;ex_cms_postpage&#x201D;&#x4EA4;&#x6362;&#x673A;2&#x3001;&#x6BCF;&#x4E2A;Cms Client&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#x4E0E;&#x4EA4;&#x6362;&#x673A;&#x7ED1;&#x5B9A;3&#x3001;&#x6BCF;&#x4E2A;Cms Client&#x7A0B;&#x5E8F;&#x914D;&#x7F6E;&#x961F;&#x5217;&#x540D;&#x79F0;&#x548C;routingKey&#xFF0C;&#x5C06;&#x7AD9;&#x70B9;ID&#x4F5C;&#x4E3A;routingKey&#x3002; package com.xuecheng.manage_cms_client.config; import org.springframework.amqp.core.*; import org.springframework.beans.factory.annotation.Qualifier; import org.springframework.beans.factory.annotation.Value; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; /** * @author Administrator * @version 1.0 **/ @Configuration public class RabbitmqConfig { //&#x961F;&#x5217;bean&#x7684;&#x540D;&#x79F0; public static final String QUEUE_CMS_POSTPAGE = &quot;queue_cms_postpage&quot;; //&#x4EA4;&#x6362;&#x673A;&#x7684;&#x540D;&#x79F0; public static final String EX_ROUTING_CMS_POSTPAGE=&quot;ex_routing_cms_postpage&quot;; //&#x961F;&#x5217;&#x7684;&#x540D;&#x79F0; @Value(&quot;${xuecheng.mq.queue}&quot;) public String queue_cms_postpage_name; //routingKey &#x5373;&#x7AD9;&#x70B9;Id @Value(&quot;${xuecheng.mq.routingKey}&quot;) public String routingKey; /** * &#x4EA4;&#x6362;&#x673A;&#x914D;&#x7F6E;&#x4F7F;&#x7528;direct&#x7C7B;&#x578B; * @return the exchange */ @Bean(EX_ROUTING_CMS_POSTPAGE) public Exchange EXCHANGE_TOPICS_INFORM() { return ExchangeBuilder.directExchange(EX_ROUTING_CMS_POSTPAGE).durable(true).build(); } //&#x58F0;&#x660E;&#x961F;&#x5217; @Bean(QUEUE_CMS_POSTPAGE) public Queue QUEUE_CMS_POSTPAGE() { Queue queue = new Queue(queue_cms_postpage_name); return queue; } /** * &#x7ED1;&#x5B9A;&#x961F;&#x5217;&#x5230;&#x4EA4;&#x6362;&#x673A; * * @param queue the queue * @param exchange the exchange * @return the binding */ @Bean public Binding BINDING_QUEUE_INFORM_SMS(@Qualifier(QUEUE_CMS_POSTPAGE) Queue queue, @Qualifier(EX_ROUTING_CMS_POSTPAGE) Exchange exchange) { return BindingBuilder.bind(queue).to(exchange).with(routingKey).noargs(); } }5.&#x5B9A;&#x4E49;&#x6D88;&#x606F;&#x683C;&#x5F0F;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x91C7;&#x7528;json&#x683C;&#x5F0F;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;&#x9875;&#x9762;id&#xFF1A;&#x53D1;&#x5E03;&#x9875;&#x9762;&#x7684;id { &quot;pageId&quot;:&quot;&quot; }6.PageDao1&#x3001;&#x4F7F;&#x7528;CmsPageRepository &#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4FE1;&#x606F; public interface CmsPageRepository extends MongoRepository&lt;CmsPage,String&gt; { }2&#x3001;&#x4F7F;&#x7528;CmsSiteRepository&#x67E5;&#x8BE2;&#x7AD9;&#x70B9;&#x4FE1;&#x606F;&#xFF0C;&#x4E3B;&#x8981;&#x83B7;&#x53D6;&#x7AD9;&#x70B9;&#x7269;&#x7406;&#x8DEF;&#x5F84; public interface CmsSiteRepository extends MongoRepository&lt;CmsSite,String&gt; { }7.PageService&#x5728;Service&#x4E2D;&#x5B9A;&#x4E49;&#x4FDD;&#x5B58;&#x9875;&#x9762;&#x9759;&#x6001;&#x6587;&#x4EF6;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7269;&#x7406;&#x8DEF;&#x5F84;&#x65B9;&#x6CD5;&#xFF1A; package com.xuecheng.manage_cms_client.service; import com.mongodb.client.gridfs.GridFSBucket; import com.mongodb.client.gridfs.GridFSDownloadStream; import com.mongodb.client.gridfs.model.GridFSFile; import com.xuecheng.framework.domain.cms.CmsPage; import com.xuecheng.framework.domain.cms.CmsSite; import com.xuecheng.manage_cms_client.dao.CmsPageRepository; import com.xuecheng.manage_cms_client.dao.CmsSiteRepository; import org.apache.commons.io.IOUtils; import org.slf4j.Logger; import org.slf4j.LoggerFactory; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.data.mongodb.core.query.Criteria; import org.springframework.data.mongodb.core.query.Query; import org.springframework.data.mongodb.gridfs.GridFsResource; import org.springframework.data.mongodb.gridfs.GridFsTemplate; import org.springframework.stereotype.Service; import java.io.*; import java.util.Optional; /** * @author Administrator * @version 1.0 **/ @Service public class PageService { private static final Logger LOGGER = LoggerFactory.getLogger(PageService.class); @Autowired GridFsTemplate gridFsTemplate; @Autowired GridFSBucket gridFSBucket; @Autowired CmsPageRepository cmsPageRepository; @Autowired CmsSiteRepository cmsSiteRepository; //&#x5373;&#x5C06;&#x88AB;&#x4E2D;&#x95F4;&#x4EF6;&#x8C03;&#x7528;,&#x4E2D;&#x95F4;&#x4EF6;&#x4F1A;&#x4F20;&#x9012;&#x8FC7;&#x6765;&#x4E00;&#x4E2A;&#x6570;&#x636E;pageId //&#x4FDD;&#x5B58;html&#x9875;&#x9762;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7269;&#x7406;&#x8DEF;&#x5F84; public void savePageToServerPath(String pageId) { //&#x6839;&#x636E;pageId&#x67E5;&#x8BE2;cmsPage CmsPage cmsPage = this.findCmsPageById(pageId); //&#x5F97;&#x5230;html&#x7684;&#x6587;&#x4EF6;id&#xFF0C;&#x4ECE;cmsPage&#x4E2D;&#x83B7;&#x53D6;htmlFileId&#x5185;&#x5BB9; String htmlFileId = cmsPage.getHtmlFileId(); //&#x4ECE;gridFS&#x4E2D;&#x67E5;&#x8BE2;html&#x6587;&#x4EF6; InputStream inputStream = this.getFileById(htmlFileId); if (inputStream == null) { LOGGER.error(&quot;getFileById InputStream is null ,htmlFileId:{}&quot;, htmlFileId); return; } //&#x5F97;&#x5230;&#x7AD9;&#x70B9;id String siteId = cmsPage.getSiteId(); //&#x5F97;&#x5230;&#x7AD9;&#x70B9;&#x7684;&#x4FE1;&#x606F; CmsSite cmsSite = this.findCmsSiteById(siteId); //&#x5F97;&#x5230;&#x7AD9;&#x70B9;&#x7684;&#x7269;&#x7406;&#x8DEF;&#x5F84; String sitePhysicalPath = cmsSite.getSitePhysicalPath(); //&#x5F97;&#x5230;&#x9875;&#x9762;&#x7684;&#x7269;&#x7406;&#x8DEF;&#x5F84; String pagePath = sitePhysicalPath + cmsPage.getPagePhysicalPath() + cmsPage.getPageName(); //&#x5C06;html&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x5230;&#x670D;&#x52A1;&#x5668;&#x7269;&#x7406;&#x8DEF;&#x5F84;&#x4E0A; //&#x5B8C;&#x6210;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x5185;&#x5BB9;: //&#x7B2C;&#x4E00;&#x4E2A;&#x5C31;&#x662F;&#x8F93;&#x5165;&#x6D41;(&#x4ECE;GridFS&#x4E0A;&#x83B7;&#x53D6;) //&#x7B2C;&#x4E8C;&#x4E2A;&#x5C31;&#x662F;&#x8F93;&#x51FA;&#x6D41;&#x8F93;&#x51FA;&#x6D41;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x8DEF;&#x5F84;pagePath FileOutputStream fileOutputStream = null; try { fileOutputStream = new FileOutputStream(new File(pagePath)); IOUtils.copy(inputStream, fileOutputStream); } catch (Exception e) { e.printStackTrace(); } finally { try { inputStream.close(); } catch (IOException e) { e.printStackTrace(); } try { fileOutputStream.close(); } catch (IOException e) { e.printStackTrace(); } } } //&#x6839;&#x636E;&#x6587;&#x4EF6;id&#x4ECE;GridFS&#x4E2D;&#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x5185;&#x5BB9; public InputStream getFileById(String fileId) { //&#x6587;&#x4EF6;&#x5BF9;&#x8C61; GridFSFile gridFSFile = gridFsTemplate.findOne(Query.query(Criteria.where(&quot;_id&quot;).is(fileId))); //&#x6253;&#x5F00;&#x4E0B;&#x8F7D;&#x6D41; GridFSDownloadStream gridFSDownloadStream = gridFSBucket.openDownloadStream(gridFSFile.getObjectId()); //&#x5B9A;&#x4E49;GridFsResource GridFsResource gridFsResource = new GridFsResource(gridFSFile, gridFSDownloadStream); try { return gridFsResource.getInputStream(); } catch (IOException e) { e.printStackTrace(); } return null; } //&#x6839;&#x636E;&#x9875;&#x9762;id&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4FE1;&#x606F; public CmsPage findCmsPageById(String pageId) { Optional&lt;CmsPage&gt; optional = cmsPageRepository.findById(pageId); if (optional.isPresent()) { return optional.get(); } return null; } //&#x6839;&#x636E;&#x7AD9;&#x70B9;id&#x67E5;&#x8BE2;&#x7AD9;&#x70B9;&#x4FE1;&#x606F; public CmsSite findCmsSiteById(String siteId) { Optional&lt;CmsSite&gt; optional = cmsSiteRepository.findById(siteId); if (optional.isPresent()) { return optional.get(); } return null; } }8.ConsumerPostPage&#x5728;cms client&#x5DE5;&#x7A0B;&#x7684;mq&#x5305;&#x4E0B;&#x521B;&#x5EFA;ConsumerPostPage&#x7C7B;&#xFF0C;ConsumerPostPage&#x4F5C;&#x4E3A;&#x53D1;&#x5E03;&#x9875;&#x9762;&#x7684;&#x6D88;&#x8D39;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x76D1;&#x542C; &#x9875;&#x9762;&#x53D1;&#x5E03;&#x961F;&#x5217;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x6536;&#x5230;&#x6D88;&#x606F;&#x540E;&#x5C31;&#x5F00;&#x59CB;&#x8C03;&#x7528;PageService&#x7684;savePageToServerPath&#x65B9;&#x6CD5;&#x3002; &#x751F;&#x4EA7;&#x65B9;&#x9700;&#x6C42;&#x5206;&#x6790;&#x7BA1;&#x7406;&#x5458;&#x901A;&#x8FC7; cms&#x7CFB;&#x7EDF;&#x53D1;&#x5E03;&#x201C;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x201D;&#x7684;&#x6D88;&#x8D39;&#xFF0C;cms&#x7CFB;&#x7EDF;&#x4F5C;&#x4E3A;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;&#x751F;&#x4EA7;&#x65B9;&#x3002; &#x9700;&#x6C42;&#x5982;&#x4E0B;&#xFF1A;1&#x3001;&#x7BA1;&#x7406;&#x5458;&#x8FDB;&#x5165;&#x7BA1;&#x7406;&#x754C;&#x9762;&#x70B9;&#x51FB;&#x201C;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x201D;&#xFF0C;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;cms&#x9875;&#x9762;&#x53D1;&#x5E03;&#x63A5;&#x53E3;&#x3002; 2&#x3001;cms&#x9875;&#x9762;&#x53D1;&#x5E03;&#x63A5;&#x53E3;&#x6267;&#x884C;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#xFF0C;&#x5E76;&#x5C06;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;&#x5B58;&#x50A8;&#x81F3;GridFS&#x4E2D;&#x3002; 3&#x3001;&#x9759;&#x6001;&#x5316;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x5411;&#x6D88;&#x606F;&#x961F;&#x5217;&#x53D1;&#x9001;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;&#x6D88;&#x606F;&#x3002;1&#xFF09; &#x83B7;&#x53D6;&#x9875;&#x9762;&#x7684;&#x4FE1;&#x606F;&#x53CA;&#x9875;&#x9762;&#x6240;&#x5C5E;&#x7AD9;&#x70B9;ID&#x3002;2&#xFF09; &#x8BBE;&#x7F6E;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#x4E3A;&#x9875;&#x9762;ID&#x3002;&#xFF08;&#x91C7;&#x7528;json&#x683C;&#x5F0F;&#xFF0C;&#x65B9;&#x4FBF;&#x65E5;&#x540E;&#x6269;&#x5C55;&#xFF09;3&#xFF09; &#x53D1;&#x9001;&#x6D88;&#x606F;&#x7ED9;ex_cms_postpage&#x4EA4;&#x6362;&#x673A;&#xFF0C;&#x5E76;&#x5C06;&#x7AD9;&#x70B9;ID&#x4F5C;&#x4E3A;routingKey&#x3002; &#x751F;&#x4EA7;&#x65B9;1.RabbitMQ&#x914D;&#x7F6E;spring: rabbitmq: host: 127.0.0.1 port: 5672 username: guest password: guest virtualHost: /2.&#x6DFB;&#x52A0;pom.xml &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt;3.RabbitMQCon&#xFB01;g&#x914D;&#x7F6E;&#x7531;&#x4E8E;cms&#x4F5C;&#x4E3A;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x65B9;&#x8981;&#x9762;&#x5BF9;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#x7AD9;&#x70B9;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9762;&#x5BF9;&#x5F88;&#x591A;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x961F;&#x5217;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x914D;&#x7F6E;&#x961F;&#x5217;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x4EA4;&#x6362;&#x673A;&#x5373;&#x53EF;&#x3002;&#x5728;cms&#x5DE5;&#x7A0B;&#x53EA;&#x914D;&#x7F6E;&#x4EA4;&#x6362;&#x673A;&#x540D;&#x79F0;&#x5373;&#x53EF;&#x3002; import org.springframework.amqp.core.Exchange; import org.springframework.amqp.core.ExchangeBuilder; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; /** * @author Administrator * @version 1.0 **/ @Configuration public class RabbitmqConfig { //&#x4EA4;&#x6362;&#x673A;&#x7684;&#x540D;&#x79F0; public static final String EX_ROUTING_CMS_POSTPAGE=&quot;ex_routing_cms_postpage&quot;; /** * &#x4EA4;&#x6362;&#x673A;&#x914D;&#x7F6E;&#x4F7F;&#x7528;direct&#x7C7B;&#x578B; * @return the exchange */ @Bean(EX_ROUTING_CMS_POSTPAGE) public Exchange EXCHANGE_TOPICS_INFORM() { return ExchangeBuilder.directExchange(EX_ROUTING_CMS_POSTPAGE).durable(true).build(); } } 4.Api&#x63A5;&#x53E3;&#x5728;api&#x5DE5;&#x7A0B;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x63A5;&#x53E3;&#xFF1A; //&#x9875;&#x9762;&#x53D1;&#x5E03; @ApiOperation(&quot;&#x9875;&#x9762;&#x53D1;&#x5E03;&quot;) public ResponseResult post(String pageId);5.PageService&#x5728;PageService&#x4E2D;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x9875;&#x9762;&#x53D1;&#x5E03; public ResponseResult post(String pageId){ //&#x6267;&#x884C;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316; String pageHtml = this.getPageHtml(pageId); //&#x5C06;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5230;GridFs&#x4E2D; CmsPage cmsPage = saveHtml(pageId, pageHtml); //&#x5411;MQ&#x53D1;&#x6D88;&#x606F; sendPostPage(pageId); return new ResponseResult(CommonCode.SUCCESS); } //&#x5411;mq &#x53D1;&#x9001;&#x6D88;&#x606F; private void sendPostPage(String pageId){ //&#x5F97;&#x5230;&#x9875;&#x9762;&#x4FE1;&#x606F; CmsPage cmsPage = this.getById(pageId); if(cmsPage == null){ ExceptionCast.cast(CommonCode.INVALID_PARAM); } //&#x521B;&#x5EFA;&#x6D88;&#x606F;&#x5BF9;&#x8C61; Map&lt;String,String&gt; msg = new HashMap&lt;&gt;(); msg.put(&quot;pageId&quot;,pageId); //&#x8F6C;&#x6210;json&#x4E32; String jsonString = JSON.toJSONString(msg); //&#x53D1;&#x9001;&#x7ED9;mq //&#x7AD9;&#x70B9;id String siteId = cmsPage.getSiteId(); rabbitTemplate.convertAndSend(RabbitmqConfig.EX_ROUTING_CMS_POSTPAGE,siteId,jsonString); } //&#x4FDD;&#x5B58;html&#x5230;GridFS private CmsPage saveHtml(String pageId,String htmlContent){ //&#x5148;&#x5F97;&#x5230;&#x9875;&#x9762;&#x4FE1;&#x606F; CmsPage cmsPage = this.getById(pageId); if(cmsPage == null){ ExceptionCast.cast(CommonCode.INVALID_PARAM); } ObjectId objectId = null; try { //&#x5C06;htmlContent&#x5185;&#x5BB9;&#x8F6C;&#x6210;&#x8F93;&#x5165;&#x6D41; InputStream inputStream = IOUtils.toInputStream(htmlContent, &quot;utf-8&quot;); //&#x5C06;html&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x4FDD;&#x5B58;&#x5230;GridFS objectId = gridFsTemplate.store(inputStream, cmsPage.getPageName()); } catch (IOException e) { e.printStackTrace(); } //&#x5C06;html&#x6587;&#x4EF6;id&#x66F4;&#x65B0;&#x5230;cmsPage&#x4E2D; //&#x5C06;gridFs&#x8FD4;&#x56DE;&#x7684;objectId&#x5F53;&#x6210;HtmlFileId&#x653E;&#x5728;cmsPage&#x4E2D; cmsPage.setHtmlFileId(objectId.toHexString()); cmsPageRepository.save(cmsPage); return cmsPage; }6.CmsPageController @Override @PostMapping(&quot;/postPage/{pageId}&quot;) public ResponseResult post(@PathVariable(&quot;pageId&quot;) String pageId) { return pageService.post(pageId); }7.&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;SwaggerUI http://localhost:31001/swagger-ui.html#!8.&#x524D;&#x7AEF;&#x4FEE;&#x6539;page_list.vue&#xFF0C;&#x6DFB;&#x52A0;&#x53D1;&#x5E03;&#x6309;&#x94AE; &lt;el-button size=&quot;small&quot; type=&quot;text&quot; @click=&quot;postPage(page.row.pageId)&quot;&gt;&#x53D1;&#x5E03; &lt;/el-button&gt;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x4E8B;&#x4EF6;&#xFF1A; postPage(pageId) { this.$confirm(&apos;&#x786E;&#x8BA4;&#x53D1;&#x5E03;&#x8BE5;&#x9875;&#x9762;&#x5417;?&apos;, &apos;&#x63D0;&#x793A;&apos;, {}).then(() =&gt; { cmsApi.page_postPage(pageId).then((res) =&gt; { if (res.success) { console.log(&apos;&#x53D1;&#x5E03;&#x9875;&#x9762;pageId=&apos; + pageId); this.$message.success(&apos;&#x53D1;&#x5E03;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x7A0D;&#x540E;&#x67E5;&#x770B;&#x7ED3;&#x679C;&apos;); } else { this.$message.error(&apos;&#x53D1;&#x5E03;&#x5931;&#x8D25;&apos;); } }); }).catch(() =&gt; { }); },9.&#x6D4B;&#x8BD5;1.&#x6267;&#x884C;&#x9875;&#x9762;&#x53D1;&#x5E03;&#xFF0C;&#x67E5;&#x770B;&#x9875;&#x9762;&#x662F;&#x5426;&#x5199;&#x5230;&#x7F51;&#x7AD9;&#x76EE;&#x5F55; 2.&#x5237;&#x65B0;&#x95E8;&#x6237;&#x9996;&#x9875;&#x5E76;&#x89C2;&#x5BDF;&#x8F6E;&#x64AD;&#x56FE;&#x662F;&#x5426;&#x53D8;&#x5316;&#x3002; &#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x9700;&#x6C42;&#x5206;&#x6790;&#x5728;&#x7EBF;&#x6559;&#x80B2;&#x5E73;&#x53F0;&#x7684;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x76F8;&#x5F53;&#x4E8E;&#x7535;&#x5546;&#x5E73;&#x53F0;&#x7684;&#x5546;&#x54C1;&#x3002;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x662F;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x6A21;&#x5757;&#x3002;&#x672C;&#x9879;&#x76EE;&#x4E3A;&#x6559;&#x5B66;&#x673A;&#x6784;&#x63D0;&#x4F9B;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x6559;&#x5B66;&#x673A;&#x6784;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5C5E;&#x4E8E;&#x81EA;&#x5DF1;&#x7684;&#x8BFE;&#x7A0B;&#xFF0C;&#x4F9B;&#x5B66;&#x751F;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x3002; &#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x5305;&#x62EC;&#x5982;&#x4E0B;&#x529F;&#x80FD;&#x9700;&#x6C42;&#xFF1A; 1&#x3001;&#x5206;&#x7C7B;&#x7BA1;&#x7406; 2&#x3001;&#x65B0;&#x589E;&#x8BFE;&#x7A0B; 3&#x3001;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B; 4&#x3001;&#x9884;&#x89C8;&#x8BFE;&#x7A0B; 5&#x3001;&#x53D1;&#x5E03;&#x8BFE;&#x7A0B; &#x7528;&#x6237;&#x7684;&#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1.&#x8FDB;&#x5165;&#x6211;&#x7684;&#x8BFE;&#x7A0B; 2.&#x70B9;&#x51FB;&#x201C;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x201D;&#xFF0C;&#x8FDB;&#x5165;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x754C;&#x9762; 3.&#x8F93;&#x5165;&#x8BFE;&#x7A0B;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x70B9;&#x51FB;&#x63D0;&#x4EA4;4.&#x8BFE;&#x7A0B;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#xFF0C;&#x81EA;&#x52A8;&#x8FDB;&#x5165;&#x201C;&#x7BA1;&#x7406;&#x8BFE;&#x7A0B;&#x201D;&#x754C;&#x9762;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x7BA1;&#x7406;&#x8BFE;&#x7A0B;&#x201D;&#x4E5F;&#x53EF;&#x4EE5;&#x8FDB;&#x5165;&#x201C;&#x7BA1;&#x7406;&#x8BFE;&#x7A0B;&#x201D;&#x754C;&#x9762; 5.&#x7F16;&#x8F91;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x3002; 6.&#x7F16;&#x8F91;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F;&#x8425;&#x9500;&#x4FE1;&#x606F;&#x4E3B;&#x8981;&#x662F;&#x8BBE;&#x7F6E;&#x8BFE;&#x7A0B;&#x7684;&#x6536;&#x8D39;&#x65B9;&#x5F0F;&#x53CA;&#x4EF7;&#x683C;&#x3002; 7.&#x7F16;&#x8F91;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#xFF1A; &#x73AF;&#x5883;&#x642D;&#x5EFA;1.&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93;&#x5BFC;&#x5165;xc_course.sql&#x811A;&#x672C; &#x6570;&#x636E;&#x5E93;&#x8868;&#x4ECB;&#x7ECD; &#x6570;&#x636E;&#x8868;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; grade &#x6839;&#x8282;&#x70B9;&#x4EE3;&#x8868;&#x8BFE;&#x7A0B;&#x6807;&#x9898; &#x4E0B;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#x4E3A;&#x5927;&#x7AE0;&#x8282; &#x4E0B;&#x4E0B;&#x4E00;&#x4E2A;&#x9636;&#x6BB5;&#x4E3A;&#x5C0F;&#x7AE0;&#x8282; 2.&#x5BFC;&#x5165;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;xc-service-manage-course &#x65AD;&#x70B9;&#x8FD0;&#x884C;test &#x6D4B;&#x8BD5;mybatis &#x548C; springDataJPA 3.&#x5BFC;&#x5165;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x5751;: Error: Node Sass does not yet support your current environment: Windows 64-bit with Unsupported runtime (64)&#x89E3;&#x51B3;: &#x4FEE;&#x6539;package.json,&#x7136;&#x540E;run npm install &quot;node-sass&quot;: &quot;^4.12.0&quot;&#x200B; &#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x5C5E;&#x4E8E;&#x6559;&#x5B66;&#x7BA1;&#x7406;&#x5B50;&#x7CFB;&#x7EDF;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F7F;&#x7528;&#x7528;&#x6237;&#x4E3A;&#x6559;&#x5B66;&#x673A;&#x6784;&#x7684;&#x7BA1;&#x7406;&#x4EBA;&#x5458;&#x548C;&#x8001;&#x5E08;&#xFF0C;&#x4E3A;&#x4FDD;&#x8BC1;&#x7CFB;&#x7EDF;&#x7684;&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#xFF0C;&#x5355;&#x72EC;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6559;&#x5B66;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x3002; &#x6559;&#x5B66;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x4E0E;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x7684;&#x5DE5;&#x7A0B;&#x7ED3;&#x6784;&#x4E00;&#x6837;&#xFF0C;&#x4E5F;&#x91C7;&#x7528;vue.js&#x6846;&#x67B6;&#x6765;&#x5B9E;&#x73B0;&#x3002; &#x4ECE;&#x8BFE;&#x7A0B;&#x8D44;&#x6599;&#x76EE;&#x5F55;&#x62F7;&#x8D1D;xc-ui-pc-teach.zip&#x5230;&#x5DE5;&#x7A0B;&#xFF0C;&#x4F7F;&#x7528;webstorm&#x6253;&#x5F00;&#xFF0C;&#x542F;&#x52A8;&#x5DE5;&#x7A0B;&#xFF1A; &#x6548;&#x679C;&#x56FE;&#x5982;&#x4E0B;&#xFF1A; &#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9700;&#x6C42;&#x5206;&#x6790;&#x4EC0;&#x4E48;&#x662F;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#xFF1F; &#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5B9A;&#x4E49;&#x4E86;&#x8BFE;&#x7A0B;&#x7684;&#x7AE0;&#x8282;&#x5185;&#x5BB9;&#xFF0C;&#x5B66;&#x751F;&#x901A;&#x8FC7;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x8FDB;&#x884C;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#xFF0C;&#x4E0B;&#x56FE;&#x4E2D;&#x53F3;&#x4FA7;&#x663E;&#x793A;&#x7684;&#x5C31;&#x662F;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x3002; &#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5305;&#x62EC;&#x4E24;&#x7EA7;&#xFF0C;&#x7B2C;&#x4E00;&#x7EA7;&#x662F;&#x8BFE;&#x7A0B;&#x7684;&#x5927;&#x7AE0;&#x8282;&#x3001;&#x7B2C;&#x4E8C;&#x7EA7;&#x662F;&#x5927;&#x7AE0;&#x8282;&#x4E0B;&#x5C5E;&#x7684;&#x5C0F;&#x7AE0;&#x8282;&#xFF0C;&#x6BCF;&#x4E2A;&#x5C0F;&#x7AE0;&#x8282;&#x901A;&#x5E38;&#x662F;&#x4E00;&#x6BB5;&#x89C6;&#x9891;&#xFF0C;&#x5B66;&#x751F;&#x70B9;&#x51FB;&#x5C0F;&#x7AE0;&#x8282;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x3002; &#x6559;&#x5B66;&#x7BA1;&#x7406;&#x4EBA;&#x5458;&#x5BF9;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5982;&#x4F55;&#x7BA1;&#x7406;&#xFF1F; &#x529F;&#x80FD;&#x5305;&#x62EC;&#xFF1A;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x3001;&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x3001;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7B49;&#x3002; &#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x8BE2;&#x662F;&#x5C06;&#x67D0;&#x4E2A;&#x8BFE;&#x7A0B;&#x7684;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5185;&#x5BB9;&#x5B8C;&#x6574;&#x7684;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5DE6;&#x4FA7;&#x663E;&#x793A;&#x7684;&#x5C31;&#x662F;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#xFF0C;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x662F;&#x4E00;&#x4E2A;&#x6811;&#x578B;&#x7ED3;&#x6784;&#xFF0C;&#x65B9;&#x4FBF;&#x6269;&#x5C55;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;&#x7EA7;&#x522B;&#x3002; &#x5728;&#x4E0A;&#x8FB9;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x201D;&#x5373;&#x53EF;&#x5BF9;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x8FDB;&#x884C;&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;&#x3002; &#x70B9;&#x51FB;&#x4FEE;&#x6539;&#x53EF;&#x5BF9;&#x67D0;&#x4E2A;&#x7AE0;&#x8282;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002; &#x70B9;&#x51FB;&#x5220;&#x9664;&#x53EF;&#x5220;&#x9664;&#x67D0;&#x4E2A;&#x7AE0;&#x8282;&#x3002; Tree&#x7EC4;&#x4EF6;&#x4ECB;&#x7ECD;&#x672C;&#x529F;&#x80FD;&#x4F7F;&#x7528;element-ui &#x7684;tree&#x7EC4;&#x4EF6;&#x6765;&#x5B8C;&#x6210; &#x5728;course_plan.vue&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;tree&#x7EC4;&#x4EF6;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF1A; 1.&#x7EC4;&#x4EF6;&#x6807;&#x7B7E; &lt;el-tree :data=&quot;data&quot; show-checkbox node-key=&quot;id&quot; default-expand-all :expand-on-click-node=&quot;false&quot; :render-content=&quot;renderContent&quot;&gt; &lt;/el-tree&gt;2.&#x6570;&#x636E;&#x5BF9;&#x8C61; let id = 1000; export default { data() { return { data : [{ id: 1, label: &apos;&#x4E00;&#x7EA7; 1&apos;, children: [{ id: 4, label: &apos;&#x4E8C;&#x7EA7; 1-1&apos;, children: [{ id: 9, label: &apos;&#x4E09;&#x7EA7; 1-1-1&apos; }, { id: 10, label: &apos;&#x4E09;&#x7EA7; 1-1-2&apos; }] }] }] } } }3.webstorm&#x914D;&#x7F6E;JSX&#x672C;&#x7EC4;&#x4EF6;&#x7528;&#x5230;&#x4E86;JSX&#x8BED;&#x6CD5;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &#x200B; JSX &#x662F;Javascript&#x548C;XML&#x7ED3;&#x5408;&#x7684;&#x4E00;&#x79CD;&#x683C;&#x5F0F;&#xFF0C;&#x5B83;&#x662F;React&#x7684;&#x6838;&#x5FC3;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;JSX&#x548C;XML&#x8BED;&#x6CD5;&#x7C7B;&#x4F3C;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9A;&#x4E49;&#x5C5E;&#x6027;&#x4EE5;&#x53CA;&#x5B50;&#x5143;&#x7D20;&#x3002;&#x552F;&#x4E00;&#x7279;&#x6B8A;&#x7684;&#x662F;&#x53EF;&#x4EE5;&#x7528;&#x5927;&#x62EC;&#x53F7;&#x6765;&#x52A0;&#x5165;JavaScript&#x8868;&#x8FBE;&#x5F0F;&#x3002;&#x9047;&#x5230; HTML &#x6807;&#x7B7E;&#xFF08;&#x4EE5; &lt; &#x5F00;&#x5934;&#xFF09;&#xFF0C;&#x5C31;&#x7528; HTML &#x89C4;&#x5219;&#x89E3;&#x6790;&#xFF1B;&#x9047;&#x5230;&#x4EE3;&#x7801;&#x5757;&#xFF08;&#x4EE5; { &#x5F00;&#x5934;&#xFF09;&#xFF0C;&#x5C31;&#x7528; JavaScript &#x89C4;&#x5219;&#x89E3;&#x6790;&#x3002; &#x4E0B;&#x9762;&#x662F;&#x5B98;&#x65B9;&#x7684;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; &#x8BBE;&#x7F6E;&#x65B9;&#x6CD5; &#x5982;&#x4E0B;&#xFF1A; 1&#x3001;Javascript version &#x9009;&#x62E9; React JSX &#xFF08;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5C31;&#x9009;&#x62E9;JSX Harmony&#xFF09; 2&#x3001;HTML &#x7C7B;&#x578B;&#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;vue preferences -&gt; Editor -&gt; File Types &#x4E2D;&#x627E;&#x5230;&#x4E0A;&#x8FB9;&#x6846;&#x4E2D;HTML &#x5728;&#x4E0B;&#x8FB9;&#x52A0;&#x4E00;&#x4E2A; *.vue &#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5728;vue template &#x4E2D;&#x5DF2;&#x5B58;&#x5728;.vue &#x5219;&#x628A;&#x5B83;&#x6539;&#x4E3A;.vue2(&#x56E0;&#x4E3A;&#x8981;&#x5728;Html&#x4E2D;&#x6DFB;&#x52A0;.vue) API&#x63A5;&#x53E3;1.&#x6570;&#x636E;&#x6A21;&#x578B;&#x8868;&#x7ED3;&#x6784; &#x6A21;&#x578B;&#x7C7B; @Data @ToString @Entity @Table(name=&quot;teachplan&quot;) @GenericGenerator(name = &quot;jpa-uuid&quot;, strategy = &quot;uuid&quot;) public class Teachplan implements Serializable { private static final long serialVersionUID = -916357110051689485L; @Id @GeneratedValue(generator = &quot;jpa-uuid&quot;) @Column(length = 32) private String id; private String pname; private String parentid; private String grade; private String ptype; private String description; private String courseid; private String status; private Integer orderby; private Double timelength; private String trylearn; }2.&#x81EA;&#x5B9A;&#x4E49;&#x6A21;&#x578B;&#x7C7B;@Data @ToString public class TeachplanNode extends Teachplan { List&lt;TeachplanNode&gt; children; }&#x8FD9;&#x6837;&#x5B9A;&#x4E49;&#x7C7B;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x6811;&#x578B;&#x7ED3;&#x6784;&#x7684;&#x6570;&#x636E;&#x6765;&#x5C55;&#x793A;Tree&#x7EC4;&#x4EF6; [{ id: 1, label: &apos;&#x4E00;&#x7EA7; 1&apos;, children: [{ id: 4, label: &apos;&#x4E8C;&#x7EA7; 1-1&apos; }] }]&#x672C;&#x8282;&#x70B9;&#x91CC;&#x9762;&#x5957;&#x672C;&#x8282;&#x70B9; &#x5B50;&#x8282;&#x70B9;&#x540D;&#x53EB;children children&#x7ED3;&#x6784;&#x662F;&#x6570;&#x7EC4; children&#x91CC;&#x9762;&#x53C8;&#x662F;Teachplan&#x7684;&#x5C5E;&#x6027;&#x503C; TeachplanNode&#x7EE7;&#x627F;&#x4E86;Teachplan &#x6240;&#x4EE5; TeachplanNode&#x4E5F;&#x6709;Teachplan&#x7684;&#x5C5E;&#x6027; 3.&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x7684;&#x8BA1;&#x5212;&#x63A5;&#x53E3;&#x5982;&#x4E0B;&#xFF0C;&#x5728;api&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;course&#x5305;&#xFF0C;&#x521B;&#x5EFA;CourseControllerApi&#x63A5;&#x53E3;&#x7C7B;&#x5E76;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; @Api(value=&quot;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&quot;,description = &quot;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#xFF0C;&#x63D0;&#x4F9B;&#x8BFE;&#x7A0B;&#x7684;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&quot;) public interface CourseControllerApi { @ApiOperation(&quot;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x8BE2;&quot;) public TeachplanNode findTeachplanList(String courseId); }&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;1.sql&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x662F;&#x6811;&#x578B;&#x7ED3;&#x6784;&#xFF0C;&#x91C7;&#x7528;&#x8868;&#x7684;&#x81EA;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;sql&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF1A; SELECT a.id one_id, a.pname one_pname, b.id two_id, b.pname two_pname, c.id three_id, c.pname three_pname FROM teachplan a LEFT JOIN teachplan b ON a.id = b.parentid LEFT JOIN teachplan c ON b.id = c.parentid WHERE a.parentid = &apos;0&apos; AND a.courseid = &apos;402885816243d2dd016243f24c030002&apos; ORDER BY a.orderby, b.orderby, c.orderby &#x81EA;&#x5173;&#x8054;&#x7684;&#x4E09;&#x5F20;&#x8868; &#x5B50;&#x8282;&#x70B9;&#x7684;parentid &#x662F; &#x7236;&#x8282;&#x70B9;&#x7684;id &#x6211;&#x8981;&#x9009;&#x51FA;&#x6839;&#x8282;&#x70B9;&#x7684;&#x8BDD; &#x6839;&#x8282;&#x70B9;&#x7684;parentid&#x4E00;&#x5B9A;&#x662F;0 2.Dao1) mapper&#x63A5;&#x53E3; @Mapper public interface TeachplanMapper { public TeachplanNode selectList(String courseId); }2&#xFF09;mapper&#x6620;&#x5C04;&#x6587;&#x4EF6; &lt;resultMap id=&quot;teachplanMap&quot; type=&quot;com.xuecheng.framework.domain.course.ext.TeachplanNode&quot;&gt; &lt;id column=&quot;one_id&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;one_pname&quot; property=&quot;pname&quot;&gt;&lt;/result&gt; &lt;collection property=&quot;children&quot; ofType=&quot;com.xuecheng.framework.domain.course.ext.TeachplanNode&quot;&gt; &lt;id column=&quot;two_id&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;two_pname&quot; property=&quot;pname&quot;&gt;&lt;/result&gt; &lt;collection property=&quot;children&quot; ofType=&quot;com.xuecheng.framework.domain.course.ext.TeachplanNode&quot;&gt; &lt;id column=&quot;three_id&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;three_pname&quot; property=&quot;pname&quot;&gt;&lt;/result&gt; &lt;/collection&gt; &lt;/collection&gt; &lt;/resultMap&gt; &lt;select id=&quot;selectList&quot; parameterType=&quot;java.lang.String&quot; resultMap=&quot;teachplanMap&quot;&gt; SELECT a.id one_id, a.pname one_pname, b.id two_id, b.pname two_pname, c.id three_id, c.pname three_pname FROM teachplan a LEFT JOIN teachplan b ON b.parentid = a.id LEFT JOIN teachplan c ON c.parentid = b.id WHERE a.parentid = &apos;0&apos; &lt;if test=&quot;_parameter !=null and _parameter!=&apos;&apos;&quot;&gt; AND a.courseid = #{courseId} &lt;/if&gt; ORDER BY a.orderby, b.orderby, c.orderby &lt;/select&gt;&#x5176;&#x4E2D;: &lt;if test=&quot;_parameter != null&quot; &gt;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x90A3;&#x4E48;_parameter &#x5C31;&#x4EE3;&#x8868;&#x8BE5;&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#xFF0C;&#x90A3;&#x4E48;_parameter &#x53EF;&#x4EE5;get(0)&#x5F97;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x3002;3.Service&#x521B;&#x5EFA;CourseService&#x7C7B;&#xFF0C;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x65B9;&#x6CD5;&#x3002; @Service public class CourseService { @Autowired TeachplanMapper teachplanMapper; //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; public TeachplanNode findTeachplanList(String courseId){ TeachplanNode teachplanNode = teachplanMapper.selectList(courseId); return teachplanNode; } }5.controller@RestController @RequestMapping(&quot;/course&quot;) public class CourseController implements CourseControllerApi { @Autowired CourseService courseService; @Override @GetMapping(&quot;/teachplan/list/{courseId}&quot;) public TeachplanNode findTeachplanList(@PathVariable(&quot;courseId&quot;) String courseId) { return courseService.findTeachplanList(courseId); } }6.&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;postman&#x6216;swagger-ui&#x6D4B;&#x8BD5;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x3002; Get &#x8BF7;&#x6C42;&#xFF1A;http://localhost:31200/course/teachplan/list/402885816243d2dd016243f24c030002 &#x524D;&#x7AEF;&#x9875;&#x9762;1.&#x5B9A;&#x4E49;api&#x65B9;&#x6CD5;&#x5728;src/moodule/course/api/course.js&#x5B9A;&#x4E49;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x8BE2;&#x7684;api&#x65B9;&#x6CD5;&#xFF1A; /*&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;*/ export const findTeachplanList = courseid =&gt; { return http.requestQuickGet(apiUrl+&apos;/course/teachplan/list/&apos;+courseid) }2.api&#x8C03;&#x7528;&#x5728;mounted&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#x4E2D;&#x67E5;&#x8BE2; &#x8BFE;&#x7A0B;&#x8BA1;&#x5212; 1&#xFF09;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8D4B;&#x503C;&#x7ED9;&#x6570;&#x636E;&#x5BF9;&#x8C61;teachplanList findTeachplan(){ courseApi.findTeachplanList(this.courseid).then((res) =&gt; { this.teachplanList = [];//&#x6E05;&#x7A7A;&#x6811; if(res.children){ this.teachplanList = res.children; } }); }2&#xFF09;&#x5728;mounted&#x94A9;&#x5B50;&#x4E2D;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; mounted(){ //&#x8BFE;&#x7A0B;id this.courseid = this.$route.params.courseid; //&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; this.findTeachplan(); }3&#xFF09;&#x4FEE;&#x6539;&#x6811;&#x7ED3;&#x70B9;&#x7684;&#x6807;&#x7B7E;&#x5C5E;&#x6027; &#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F;&#x4E2D;pname&#x4E3A;&#x7ED3;&#x70B9;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x6811;&#x7ED3;&#x70B9;&#x7684;&#x6807;&#x7B7E;&#x5C5E;&#x6027;&#x65B9;&#x53EF;&#x6B63;&#x5E38;&#x663E;&#x793A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x540D;&#x79F0;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; defaultProps: { children: &apos;children&apos;, label: &apos;pname&apos; },3.&#x6D4B;&#x8BD5;&#x5728;course_list.vue&#x9875;&#x9762;&#x5C06; courses: [ { id:&apos;test01&apos;, name:&apos;test01&apos;, pic:&apos;&apos; }, { id:&apos;test02&apos;, name:&apos;test02&apos;, pic:&apos;&apos; } ],&#x91CC;&#x9762;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;id&#x66FF;&#x6362;&#x6389;&#x6539;&#x4E3A; courses: [ { id:&apos;4028e581617f945f01617f9dabc40000&apos;, name:&apos;test01&apos;, pic:&apos;&apos; }, { id:&apos;test02&apos;, name:&apos;test02&apos;, pic:&apos;&apos; } ],&#x70B9;&#x51FB;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x770B;&#x6570;&#x636E; &#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9700;&#x6C42;&#x5206;&#x6790;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;&#x201C;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x201D; 2&#x3001;&#x6253;&#x5F00;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#xFF0C;&#x8F93;&#x5165;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F; &#x4E0A;&#x9009;&#x62E9;&#x7EA7;&#x7ED3;&#x70B9;&#x8BF4;&#x660E;&#xFF1A; &#x4E0D;&#x9009;&#x62E9;&#x4E0A;&#x7EA7;&#x7ED3;&#x70B9;&#x8868;&#x793A;&#x5F53;&#x524D;&#x6DFB;&#x52A0;&#x7684;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;&#x7236;&#x7ED3;&#x70B9;&#x5C31;&#x662F;&#x8BFE;&#x7A0B;&#x7684;&#x6839;&#x7ED3;&#x70B9;&#x3002; &#x5F53;&#x6DFB;&#x52A0;&#x8BE5;&#x8BFE;&#x7A0B;&#x65F6;&#xFF0C;&#x5728;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E2D;&#x8FD8;&#x6CA1;&#x6709;&#x7236;&#x8282;&#x70B9;&#x7684;&#x65F6;&#x5019;&#x8981;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x8BE5;&#x8BFE;&#x7A0B;&#x7684;&#x540D;&#x79F0;&#x4F5C;&#x4E3A;&#x6839;&#x7ED3;&#x70B9;&#x3002; 3&#x3001;&#x70B9;&#x51FB;&#x63D0;&#x4EA4;&#x3002; Api&#x63A5;&#x53E3;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;@Api(value=&quot;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&quot;,description = &quot;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#xFF0C;&#x63D0;&#x4F9B;&#x8BFE;&#x7A0B;&#x7684;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&quot;) public interface CourseControllerApi { @ApiOperation(&quot;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x8BE2;&quot;) public TeachplanNode findTeachplanList(String courseId); @ApiOperation(&quot;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&quot;) public ResponseResult addTeachplan(Teachplan teachplan); }&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;1.Daopublic interface TeachplanRepository extends JpaRepository&lt;Teachplan, String&gt; { //&#x5B9A;&#x4E49;&#x65B9;&#x6CD5;&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x548C;&#x7236;&#x7ED3;&#x70B9;id&#x67E5;&#x8BE2;&#x51FA;&#x7ED3;&#x70B9;&#x5217;&#x8868;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x67E5;&#x8BE2;&#x6839;&#x7ED3;&#x70B9; //SELECT * FROM teachplan WHERE courseid = &apos;297e7c7c62b888f00162b8a7dec20000&apos; AND parentid=&apos;0&apos; public List&lt;Teachplan&gt; findByCourseidAndParentid(String courseId,String parentId); }2.Service/** * &#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; * &#x5206;&#x4E3A;&#x4E24;&#x79CD;&#x60C5;&#x51B5; * 1.&#x9009;&#x62E9;&#x4E86;&#x4E0A;&#x7EA7;&#x8282;&#x70B9; * 2.&#x6CA1;&#x9009;&#x62E9;&#x4E0A;&#x7EA7;&#x8282;&#x70B9; * @param teachplan * @return */ @Transactional public ResponseResult addTeachplan(Teachplan teachplan) { if(teachplan == null || StringUtils.isEmpty(teachplan.getPname()) || StringUtils.isEmpty(teachplan.getCourseid())){ ExceptionCast.cast(CommonCode.INVALID_PARAM); } //&#x8BFE;&#x7A0B;id String courseid = teachplan.getCourseid(); //&#x4E0A;&#x7EA7;&#x7ED3;&#x70B9;&#x7684;id String parentid = teachplan.getParentid(); if(StringUtils.isEmpty(parentid)){ //&#x5982;&#x679C;&#x4E0A;&#x7EA7;&#x8282;&#x70B9;&#x6CA1;&#x6709;&#x9009;&#x62E9; //&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x7684;&#x6839;&#x7ED3;&#x70B9; parentid = getTeachplanRoot(courseid); } //&#x67E5;&#x8BE2;&#x6839;&#x7ED3;&#x70B9;&#x4FE1;&#x606F; Optional&lt;Teachplan&gt; optional = teachplanRepository.findById(parentid); Teachplan teachplan1 = optional.get(); //&#x7236;&#x7ED3;&#x70B9;&#x7684;&#x7EA7;&#x522B; String parent_grade = teachplan1.getGrade(); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7ED3;&#x70B9;&#x51C6;&#x5907;&#x6DFB;&#x52A0; Teachplan teachplanNew = new Teachplan(); //&#x5C06;teachplan&#x7684;&#x5C5E;&#x6027;&#x62F7;&#x8D1D;&#x5230;teachplanNew&#x4E2D; BeanUtils.copyProperties(teachplan,teachplanNew); //&#x8981;&#x8BBE;&#x7F6E;&#x5FC5;&#x8981;&#x7684;&#x5C5E;&#x6027; teachplanNew.setParentid(parentid); if(parent_grade.equals(&quot;1&quot;)){ teachplanNew.setGrade(&quot;2&quot;); }else{ teachplanNew.setGrade(&quot;3&quot;); } teachplanNew.setStatus(&quot;0&quot;);//&#x672A;&#x53D1;&#x5E03; teachplanRepository.save(teachplanNew); return new ResponseResult(CommonCode.SUCCESS); } //&#x4E0A;&#x7EA7;&#x8282;&#x70B9;&#x6CA1;&#x6709;&#x9009;&#x62E9; //1.&#x83B7;&#x53D6;&#x5230;&#x6839;&#x8282;&#x70B9;&#x4E07;&#x4E8B;&#x5927;&#x5409; //2.&#x6CA1;&#x6709;&#x83B7;&#x53D6;&#x5230;&#x6839;&#x8282;&#x70B9;,&#x521B;&#x5EFA;&#x6839;&#x8282;&#x70B9; //&#x521B;&#x5EFA;&#x6839;&#x8282;&#x70B9;&#x9009;&#x62E9;&#x7684;&#x6570;&#x636E;&#x53C2;&#x8003;TeachplanRepository&#x67E5;&#x5230;&#x7684;&#x6570;&#x636E; public String getTeachplanRoot(String courseId){ //&#x6821;&#x9A8C;&#x8BFE;&#x7A0B;id Optional&lt;CourseBase&gt; optional = courseBaseRepository.findById(courseId); if(!optional.isPresent()){ return null; } CourseBase courseBase = optional.get(); //&#x8C03;&#x7528;dao&#x67E5;&#x8BE2;teachplan&#x8868;&#x5F97;&#x5230;&#x8BE5;&#x8BFE;&#x7A0B;&#x7684;&#x6839;&#x7ED3;&#x70B9; List&lt;Teachplan&gt; teachplanList = teachplanRepository.findByCourseidAndParentid(courseId, &quot;0&quot;); if(teachplanList == null || teachplanList.size()&lt;=0){ //&#x65B0;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x8BFE;&#x7A0B;&#x7684;&#x6839;&#x7ED3;&#x70B9; Teachplan teachplan = new Teachplan(); teachplan.setCourseid(courseId); teachplan.setParentid(&quot;0&quot;); teachplan.setGrade(&quot;1&quot;);//&#x4E00;&#x7EA7;&#x7ED3;&#x70B9; teachplan.setStatus(&quot;0&quot;); teachplan.setPname(courseBase.getName()); teachplanRepository.save(teachplan); return teachplan.getId(); } //&#x8FD4;&#x56DE;&#x6839;&#x7ED3;&#x70B9;&#x7684;id return teachplanList.get(0).getId(); }3.controller //&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; @Override @PostMapping(&quot;/teachplan/add&quot;) public ResponseResult addTeachplan(@RequestBody Teachplan teachplan) { return courseService.addTeachplan(teachplan); }@RequestBody : &#x5C06;&#x9875;&#x9762;json&#x6570;&#x636E;&#x8F6C;&#x5316;&#x4E3A;java&#x5BF9;&#x8C61; 5.&#x524D;&#x7AEF;&#x9875;&#x9762;&#x539F;&#x578B;&#x8BF4;&#x660E;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x91C7;&#x7528;&#x5F39;&#x51FA;&#x7A97;&#x53E3;&#x7EC4;&#x4EF6;Dialog&#x3002; 1&#x3001;&#x89C6;&#x56FE;&#x90E8;&#x5206; &#x5728;course_plan.vue&#x9875;&#x9762;&#x6DFB;&#x52A0;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;&#x5F39;&#x51FA;&#x7A97;&#x53E3;&#x4EE3;&#x7801;&#xFF1A; &lt;el-dialog title=&quot;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&quot; :visible.sync=&quot;teachplayFormVisible&quot; &gt; &lt;el-form ref=&quot;teachplanForm&quot; :model=&quot;teachplanActive&quot; label-width=&quot;140px&quot; style=&quot;width:600px;&quot; :rules=&quot;teachplanRules&quot; &gt; &lt;el-form-item label=&quot;&#x4E0A;&#x7EA7;&#x7ED3;&#x70B9;&quot; &gt; &lt;el-select v-model=&quot;teachplanActive.parentid&quot; placeholder=&quot;&#x4E0D;&#x586B;&#x8868;&#x793A;&#x6839;&#x7ED3;&#x70B9;&quot;&gt; &lt;el-option v-for=&quot;item in teachplanList&quot; :key=&quot;item.id&quot; :label=&quot;item.pname&quot; :value=&quot;item.id&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x7AE0;&#x8282;/&#x8BFE;&#x65F6;&#x540D;&#x79F0;&quot; prop=&quot;pname&quot;&gt; &lt;el-input v-model=&quot;teachplanActive.pname&quot; auto-complete=&quot;off&quot;&gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x8BFE;&#x7A0B;&#x7C7B;&#x578B;&quot; &gt; &lt;el-radio-group v-model=&quot;teachplanActive.ptype&quot;&gt; &lt;el-radio class=&quot;radio&quot; label=&apos;1&apos;&gt;&#x89C6;&#x9891;&lt;/el-radio&gt; &lt;el-radio class=&quot;radio&quot; label=&apos;2&apos;&gt;&#x6587;&#x6863;&lt;/el-radio&gt; &lt;/el-radio-group&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x5B66;&#x4E60;&#x65F6;&#x957F;&#xFF08;&#x5206;&#x949F;&#xFF09; &#x8BF7;&#x8F93;&#x5165;&#x6570;&#x5B57;&quot; &gt; &lt;el-input type=&quot;number&quot; v-model=&quot;teachplanActive.timelength&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x6392;&#x5E8F;&#x5B57;&#x6BB5;&quot; &gt; &lt;el-input v-model=&quot;teachplanActive.orderby&quot; auto-complete=&quot;off&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x7AE0;&#x8282;/&#x8BFE;&#x65F6;&#x4ECB;&#x7ECD;&quot; prop=&quot;description&quot;&gt; &lt;el-input type=&quot;textarea&quot; v-model=&quot;teachplanActive.description&quot; &gt;&lt;/el-input&gt; &lt;/el-form-item&gt; &lt;el-form-item label=&quot;&#x72B6;&#x6001;&quot; prop=&quot;status&quot;&gt; &lt;el-radio-group v-model=&quot;teachplanActive.status&quot; &gt; &lt;el-radio class=&quot;radio&quot; label=&quot;0&quot; &gt;&#x672A;&#x53D1;&#x5E03;&lt;/el-radio&gt; &lt;el-radio class=&quot;radio&quot; label=&apos;1&apos;&gt;&#x5DF2;&#x53D1;&#x5E03;&lt;/el-radio&gt; &lt;/el-radio-group&gt; &lt;/el-form-item&gt; &lt;el-form-item &gt; &lt;el-button type=&quot;primary&quot; v-on:click=&quot;addTeachplan&quot;&gt;&#x63D0;&#x4EA4;&lt;/el-button&gt; &lt;el-button type=&quot;primary&quot; v-on:click=&quot;resetForm&quot;&gt;&#x91CD;&#x7F6E;&lt;/el-button&gt; &lt;/el-form-item&gt; &lt;/el-form&gt; &lt;/el-dialog&gt;2&#x3001;&#x6570;&#x636E;&#x6A21;&#x578B; &#x5728;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x53D8;&#x91CF;&#xFF1A; teachplayFormVisible:false,//&#x63A7;&#x5236;&#x6DFB;&#x52A0;&#x7A97;&#x53E3;&#x662F;&#x5426;&#x663E;&#x793A; teachplanRules: { pname: [ {required: true, message: &apos;&#x8BF7;&#x8F93;&#x5165;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x540D;&#x79F0;&apos;, trigger: &apos;blur&apos;} ], status: [ {required: true, message: &apos;&#x8BF7;&#x9009;&#x62E9;&#x72B6;&#x6001;&apos;, trigger: &apos;blur&apos;} ] }, teachplanActive:{},3&#x3001; &#x6DFB;&#x52A0;&#x6309;&#x94AE; &#x901A;&#x8FC7;&#x53D8;&#x91CF;teachplayFormVisible&#x63A7;&#x5236;&#x5F39;&#x51FA;&#x7A97;&#x53E3;&#x662F;&#x5426;&#x663E;&#x793A;&#x3002; &lt;el-button type=&quot;primary&quot; @click=&quot;teachplayFormVisible = true&quot;&gt;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&lt;/el-button&gt;4&#x3001;&#x5B9A;&#x4E49; api&#x65B9;&#x6CD5; /*&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;*/ export const addTeachplan = teachplah =&gt; { return http.requestPost(apiUrl+&apos;/course/teachplan/add&apos;,teachplah) }5&#x3001;&#x5B9A;&#x4E49;&#x8868;&#x5355;&#x63D0;&#x4EA4;&#x65B9;&#x6CD5;&#x548C;&#x91CD;&#x7F6E;&#x65B9;&#x6CD5; //&#x63D0;&#x4EA4;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; addTeachplan(){ //&#x6821;&#x9A8C;&#x8868;&#x5355; this.$refs.teachplanForm.validate((valid) =&gt; { if (valid) { //&#x8C03;&#x7528;api&#x65B9;&#x6CD5; //&#x5C06;&#x8BFE;&#x7A0B;id&#x8BBE;&#x7F6E;&#x5230;teachplanActive this.teachplanActive.courseid = this.courseid courseApi.addTeachplan(this.teachplanActive).then(res=&gt;{ if(res.success){ this.$message.success(&quot;&#x6DFB;&#x52A0;&#x6210;&#x529F;&quot;) //&#x5237;&#x65B0;&#x6811; this.findTeachplan() }else{ this.$message.error(res.message) } }) } }) }, //&#x91CD;&#x7F6E;&#x8868;&#x5355; resetForm(){ this.teachplanActive = {} }, document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-9-eureka-yu-feign.html</url>
    <content type="text"><![CDATA[&#x8BFE;&#x7A0B;&#x9884;&#x89C8; Eureka FeignEureka&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9700;&#x6C42;&#x5206;&#x6790;&#x200B; &#x5728;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x67B6;&#x6784;&#x4E2D;&#xFF0C;&#x670D;&#x52A1;&#x5C42;&#x88AB;&#x62C6;&#x5206;&#x6210;&#x4E86;&#x5F88;&#x591A;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x4FE1;&#x606F;&#x5982;&#x4F55;&#x7BA1;&#x7406;&#xFF1F;Spring Cloud&#x4E2D;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x6765;&#x7BA1;&#x7406;&#x5FAE;&#x670D;&#x52A1;&#x4FE1;&#x606F;&#x3002; &#x4E3A;&#x4EC0;&#x4E48; &#x8981;&#x7528;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF1F; 1&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x6570;&#x91CF;&#x4F17;&#x591A;&#xFF0C;&#x8981;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x5C31;&#x9700;&#x8981;&#x77E5;&#x9053;&#x670D;&#x52A1;&#x7AEF;&#x7684;ip&#x5730;&#x5740;&#x548C;&#x7AEF;&#x53E3;&#xFF0C;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x670D;&#x52A1;&#x7684;ip&#x548C;&#x7AEF;&#x53E3;&#x3002; 2&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x4F1A;&#x5B9E;&#x65F6;&#x4E0A;&#x62A5;&#x81EA;&#x5DF1;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5C06;&#x5B58;&#x5728;&#x95EE;&#x9898;&#x7684;&#x670D;&#x52A1;&#x8E22;&#x51FA;&#x670D;&#x52A1;&#x5217;&#x8868;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x83B7;&#x53D6;&#x5230;&#x53EF;&#x7528;&#x7684;&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x3002; Eureka&#x4ECB;&#x7ECD;Spring Cloud Eureka &#x662F;&#x5BF9;Netflix&#x516C;&#x53F8;&#x7684;Eureka&#x7684;&#x4E8C;&#x6B21;&#x5C01;&#x88C5;&#xFF0C;&#x5B83;&#x5B9E;&#x73B0;&#x4E86;&#x670D;&#x52A1;&#x6CBB;&#x7406;&#x7684;&#x529F;&#x80FD;&#xFF0C;Spring Cloud Eureka&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7AEF;&#x4E0E;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x5373;&#x662F;Eureka&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5B8C;&#x6210;&#x5FAE;&#x670D;&#x52A1;&#x5411;Eureka&#x670D;&#x52A1;&#x7684;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;&#x3002;&#x670D;&#x52A1;&#x7AEF;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x5747;&#x91C7;&#x7528;Java&#x8BED;&#x8A00;&#x7F16;&#x5199;&#x3002;&#x4E0B;&#x56FE;&#x663E;&#x793A;&#x4E86;Eureka Server&#x4E0E;Eureka Client&#x7684;&#x5173;&#x7CFB;&#xFF1A; 1&#x3001;Eureka Server&#x662F;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x8D1F;&#x8D23;&#x7BA1;&#x7406;&#x5404;&#x5404;&#x5FAE;&#x670D;&#x52A1;&#x7ED3;&#x70B9;&#x7684;&#x4FE1;&#x606F;&#x548C;&#x72B6;&#x6001;&#x3002; 2&#x3001;&#x5728;&#x5FAE;&#x670D;&#x52A1;&#x4E0A;&#x90E8;&#x7F72;Eureka Client&#x7A0B;&#x5E8F;&#xFF0C;&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;Eureka Server&#x5C06;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5728;Eureka Server&#x3002; 3&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x9700;&#x8981;&#x8C03;&#x7528;&#x53E6;&#x4E00;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#x65F6;&#x4ECE;Eureka Server&#x4E2D;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x5730;&#x5740;&#xFF0C;&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x3002; Eureka Server&#x642D;&#x5EFA;&#x5355;&#x673A;&#x73AF;&#x5883;&#x642D;&#x5EFA;1.&#x521B;&#x5EFA;xc-govern-center&#x5DE5;&#x7A0B;&#xFF1A;&#x5305;&#x7ED3;&#x6784;&#xFF1A;com.xuecheng.govern.center 2.&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&#x5728;&#x7236;&#x5DE5;&#x7A0B;&#x6DFB;&#x52A0;&#xFF1A;&#xFF08;&#x6709;&#x4E86;&#x5219;&#x4E0D;&#x7528;&#x91CD;&#x590D;&#x6DFB;&#x52A0;&#xFF09; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt; &lt;version&gt;Finchley.SR1&lt;/version&gt; &lt;type&gt;pom&lt;/type&gt; &lt;scope&gt;import&lt;/scope&gt; &lt;/dependency&gt;&#x5728;Eureka Server&#x5DE5;&#x7A0B;&#x6DFB;&#x52A0;&#xFF1A; &lt;dependencies&gt; &lt;!-- &#x5BFC;&#x5165;Eureka&#x670D;&#x52A1;&#x7684;&#x4F9D;&#x8D56; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;3.&#x542F;&#x52A8;&#x7C7B;@EnableEurekaServer//&#x6807;&#x8BC6;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;Eureka&#x670D;&#x52A1; @SpringBootApplication public class GovernCenterApplication { public static void main(String[] args) { SpringApplication.run(GovernCenterApplication.class, args); } }4.@EnableEurekaServer&#x9700;&#x8981;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x4E0A;&#x7528;@EnableEurekaServer&#x6807;&#x8BC6;&#x6B64;&#x670D;&#x52A1;&#x4E3A;Eureka&#x670D;&#x52A1; 5.application.ymlapplication.yml&#x7684;&#x914D;&#x7F6E;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; server: port: 50101 #&#x670D;&#x52A1;&#x7AEF;&#x53E3; spring: application: name: xc-govern-center #&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x540D; eureka: client: registerWithEureka: false #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#xFF0C;&#x662F;&#x5426;&#x5C06;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5230;Eureka&#x670D;&#x52A1;&#x4E2D; fetchRegistry: false #&#x670D;&#x52A1;&#x53D1;&#x73B0;&#xFF0C;&#x662F;&#x5426;&#x4ECE;Eureka&#x4E2D;&#x83B7;&#x53D6;&#x6CE8;&#x518C;&#x4FE1;&#x606F; serviceUrl: #Eureka&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;Eureka&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4EA4;&#x4E92;&#x5730;&#x5740;&#xFF0C;&#x9AD8;&#x53EF;&#x7528;&#x72B6;&#x6001;&#x914D;&#x7F6E;&#x5BF9;&#x65B9;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5355;&#x673A;&#x72B6;&#x6001;&#x914D;&#x7F6E;&#x81EA;&#x5DF1;&#xFF08;&#x5982;&#x679C;&#x4E0D;&#x914D;&#x7F6E;&#x5219;&#x9ED8;&#x8BA4;&#x672C;&#x673A;8761&#x7AEF;&#x53E3;&#xFF09; defaultZone: http://localhost:50101/eureka/ server: enable-self-preservation: false #&#x662F;&#x5426;&#x5F00;&#x542F;&#x81EA;&#x6211;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F; eviction-interval-timer-in-ms: 60000 #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x8868;&#x6E05;&#x7406;&#x95F4;&#x9694;&#xFF08;&#x5355;&#x4F4D;&#x6BEB;&#x79D2;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;60*1000&#xFF09;registerWithEureka&#xFF1A;&#x88AB;&#x5176;&#x5B83;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x65F6;&#x9700;&#x5411;Eureka&#x6CE8;&#x518C; fetchRegistry&#xFF1A;&#x9700;&#x8981;&#x4ECE;Eureka&#x4E2D;&#x67E5;&#x627E;&#x8981;&#x8C03;&#x7528;&#x7684;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x65F6;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x4E3A;true serviceUrl.defaultZone &#x914D;&#x7F6E;&#x4E0A;&#x62A5;Eureka&#x670D;&#x52A1;&#x5730;&#x5740;&#x9AD8;&#x53EF;&#x7528;&#x72B6;&#x6001;&#x914D;&#x7F6E;&#x5BF9;&#x65B9;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5355;&#x673A;&#x72B6;&#x6001;&#x914D;&#x7F6E;&#x81EA;&#x5DF1; enable-self-preservation&#xFF1A;&#x81EA;&#x4FDD;&#x62A4;&#x8BBE;&#x7F6E;&#xFF0C;&#x4E0B;&#x8FB9;&#x6709;&#x4ECB;&#x7ECD;&#x3002; eviction-interval-timer-in-ms&#xFF1A;&#x6E05;&#x7406;&#x5931;&#x6548;&#x7ED3;&#x70B9;&#x7684;&#x95F4;&#x9694;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x6BB5;&#x5185;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6536;&#x5230;&#x8BE5;&#x7ED3;&#x70B9;&#x7684;&#x4E0A;&#x62A5;&#x5219;&#x5C06;&#x7ED3;&#x70B9;&#x4ECE;&#x670D;&#x52A1;&#x5217;&#x8868;&#x4E2D;&#x5254;&#x9664;&#x3002; 6.logback-spring.xml&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;configuration&gt; &lt;!--&#x5B9A;&#x4E49;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x50A8;&#x5730;&#x5740;,&#x4F7F;&#x7528;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;--&gt; &lt;property name=&quot;LOG_HOME&quot; value=&quot;e:/logs&quot;/&gt; &lt;!-- Console &#x8F93;&#x51FA;&#x8BBE;&#x7F6E; --&gt; &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;encoder&gt; &lt;!--&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;&#xFF1A;%d&#x8868;&#x793A;&#x65E5;&#x671F;&#xFF0C;%thread&#x8868;&#x793A;&#x7EBF;&#x7A0B;&#x540D;&#xFF0C;%-5level&#xFF1A;&#x7EA7;&#x522B;&#x4ECE;&#x5DE6;&#x663E;&#x793A;5&#x4E2A;&#x5B57;&#x7B26;&#x5BBD;&#x5EA6;%msg&#xFF1A;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#xFF0C;%n&#x662F;&#x6362;&#x884C;&#x7B26;--&gt; &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;charset&gt;utf8&lt;/charset&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- &#x6309;&#x7167;&#x6BCF;&#x5929;&#x751F;&#x6210;&#x65E5;&#x5FD7;&#x6587;&#x4EF6; --&gt; &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt; &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt; &lt;!--&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x8F93;&#x51FA;&#x7684;&#x6587;&#x4EF6;&#x540D;--&gt; &lt;fileNamePattern&gt;${LOG_HOME}/xc.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt; &lt;/rollingPolicy&gt; &lt;encoder&gt; &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- &#x5F02;&#x6B65;&#x8F93;&#x51FA; --&gt; &lt;appender name=&quot;ASYNC&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt; &lt;!-- &#x4E0D;&#x4E22;&#x5931;&#x65E5;&#x5FD7;.&#x9ED8;&#x8BA4;&#x7684;,&#x5982;&#x679C;&#x961F;&#x5217;&#x7684;80%&#x5DF2;&#x6EE1;,&#x5219;&#x4F1A;&#x4E22;&#x5F03;TRACT&#x3001;DEBUG&#x3001;INFO&#x7EA7;&#x522B;&#x7684;&#x65E5;&#x5FD7; --&gt; &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- &#x66F4;&#x6539;&#x9ED8;&#x8BA4;&#x7684;&#x961F;&#x5217;&#x7684;&#x6DF1;&#x5EA6;,&#x8BE5;&#x503C;&#x4F1A;&#x5F71;&#x54CD;&#x6027;&#x80FD;.&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;256 --&gt; &lt;queueSize&gt;512&lt;/queueSize&gt; &lt;!-- &#x6DFB;&#x52A0;&#x9644;&#x52A0;&#x7684;appender,&#x6700;&#x591A;&#x53EA;&#x80FD;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; --&gt; &lt;appender-ref ref=&quot;FILE&quot;/&gt; &lt;/appender&gt; &lt;logger name=&quot;org.apache.ibatis.cache.decorators.LoggingCache&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt; &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt; &lt;/logger&gt; &lt;logger name=&quot;org.springframework.boot&quot; level=&quot;DEBUG&quot;/&gt; &lt;root level=&quot;debug&quot;&gt; &lt;!--&lt;appender-ref ref=&quot;ASYNC&quot;/&gt;--&gt; &lt;appender-ref ref=&quot;FILE&quot;/&gt; &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt; &lt;/root&gt; &lt;/configuration&gt;7.&#x542F;&#x52A8;Eureka Server&#x542F;&#x52A8;Eureka Server&#xFF0C;&#x6D4F;&#x89C8;50101&#x7AEF;&#x53E3;&#x3002; &#x8BF4;&#x660E;&#xFF1A; &#x4E0A;&#x56FE;&#x7EA2;&#x8272;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF1A; THE SELF PRESERVATION MODE IS TURNED OFF.THIS MAY NOT PROTECT INSTANCE EXPIRY IN CASE OF NETWORK/OTHER PROBLEMS. &#x81EA;&#x6211;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x88AB;&#x5173;&#x95ED;&#x3002;&#x5728;&#x7F51;&#x7EDC;&#x6216;&#x5176;&#x4ED6;&#x95EE;&#x9898;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5C31;&#x4F1A;&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x5254;&#x9664;&#x3002;Eureka Server&#x6709;&#x4E00;&#x79CD;&#x81EA;&#x6211;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#xFF0C;&#x5F53;&#x5FAE;&#x670D;&#x52A1;&#x4E0D;&#x518D;&#x5411;Eureka Server&#x4E0A;&#x62A5;&#x72B6;&#x6001;&#xFF0C;Eureka Server&#x4F1A;&#x4ECE;&#x670D;&#x52A1;&#x5217;&#x8868;&#x5C06;&#x6B64;&#x670D;&#x52A1;&#x5220;&#x9664;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x7F51;&#x7EDC;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#xFF08;&#x5FAE;&#x670D;&#x52A1;&#x6B63;&#x5E38;&#xFF09;&#xFF0C;&#x6B64;&#x65F6;Eureka server&#x8FDB;&#x5165;&#x81EA;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#xFF0C;&#x4E0D;&#x518D;&#x5C06;&#x5FAE;&#x670D;&#x52A1;&#x4ECE;&#x670D;&#x52A1;&#x5217;&#x8868;&#x5220;&#x9664;&#x3002; &#x5728;&#x5F00;&#x53D1;&#x9636;&#x6BB5;&#x5EFA;&#x8BAE;&#x5173;&#x95ED;&#x81EA;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x3002; &#x9AD8;&#x53EF;&#x7528;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x200B; Eureka Server &#x9AD8;&#x53EF;&#x7528;&#x73AF;&#x5883;&#x9700;&#x8981;&#x90E8;&#x7F72;&#x4E24;&#x4E2A;Eureka server&#xFF0C;&#x5B83;&#x4EEC;&#x4E92;&#x76F8;&#x5411;&#x5BF9;&#x65B9;&#x6CE8;&#x518C;&#x3002;&#x5982;&#x679C;&#x5728;&#x672C;&#x673A;&#x542F;&#x52A8;&#x4E24;&#x4E2A;Eureka&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4E24;&#x4E2A;Eureka Server&#x7684;&#x7AEF;&#x53E3;&#x8981;&#x8BBE;&#x7F6E;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x90E8;&#x7F72;&#x4E00;&#x4E2A;Eureka Server&#x5DE5;&#x7A0B;&#xFF0C;&#x5C06;&#x7AEF;&#x53E3;&#x53EF;&#x914D;&#x7F6E;&#xFF0C;&#x5236;&#x4F5C;&#x4E24;&#x4E2A;Eureka Server&#x542F;&#x52A8;&#x811A;&#x672C;&#xFF0C;&#x542F;&#x52A8;&#x4E0D;&#x540C;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; 1&#x3001;&#x5728;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x65F6;Eureka Server&#x81F3;&#x5C11;&#x90E8;&#x7F72;&#x4E24;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5B9E;&#x73B0;&#x9AD8;&#x53EF;&#x7528;&#x3002; 2&#x3001;&#x4E24;&#x53F0;Eureka Server&#x4E92;&#x76F8;&#x6CE8;&#x518C;&#x3002; 3&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x9700;&#x8981;&#x8FDE;&#x63A5;&#x4E24;&#x53F0;Eureka Server&#x6CE8;&#x518C;&#xFF0C;&#x5F53;&#x5176;&#x4E2D;&#x4E00;&#x53F0;Eureka&#x6B7B;&#x6389;&#x4E5F;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x670D;&#x52A1;&#x7684;&#x6CE8;&#x518C;&#x4E0E;&#x53D1;&#x73B0;&#x3002; 4&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x4F1A;&#x5B9A;&#x65F6;&#x5411;Eureka server&#x53D1;&#x9001;&#x5FC3;&#x8DF3;&#xFF0C;&#x62A5;&#x544A;&#x81EA;&#x5DF1;&#x7684;&#x72B6;&#x6001;&#x3002; 5&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x4ECE;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5730;&#x5740;&#x4EE5;RESTful&#x65B9;&#x5F0F;&#x53D1;&#x8D77;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x3002; &#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; 1.&#x7AEF;&#x53E3;&#x53EF;&#x914D;&#x7F6E;server: port: ${PORT:50101} #&#x670D;&#x52A1;&#x7AEF;&#x53E3;2&#x3001;Eureka&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4EA4;&#x4E92;&#x5730;&#x5740;&#x53EF;&#x914D;&#x7F6E;eureka: client: registerWithEureka: true #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#xFF0C;&#x662F;&#x5426;&#x5C06;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5230;Eureka&#x670D;&#x52A1;&#x4E2D; fetchRegistry: true #&#x670D;&#x52A1;&#x53D1;&#x73B0;&#xFF0C;&#x662F;&#x5426;&#x4ECE;Eureka&#x4E2D;&#x83B7;&#x53D6;&#x6CE8;&#x518C;&#x4FE1;&#x606F; serviceUrl: #Eureka&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;Eureka&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4EA4;&#x4E92;&#x5730;&#x5740;&#xFF0C;&#x9AD8;&#x53EF;&#x7528;&#x72B6;&#x6001;&#x914D;&#x7F6E;&#x5BF9;&#x65B9;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5355;&#x673A;&#x72B6;&#x6001;&#x914D;&#x7F6E;&#x81EA;&#x5DF1;&#xFF08;&#x5982;&#x679C;&#x4E0D;&#x914D;&#x7F6E;&#x5219;&#x9ED8;&#x8BA4;&#x672C;&#x673A;8761&#x7AEF;&#x53E3;&#xFF09; defaultZone: ${EUREKA_SERVER:http://eureka02:50102/eureka/}3.&#x4FEE;&#x6539;host&#x6587;&#x4EF6;&#x5728;&#x6B64;&#x8DEF;&#x5F84;&#x4E0B;&#x627E;&#x5230;host&#x6587;&#x4EF6;C:\Windows\System32\drivers\etc 127.0.0.1 eureka01 127.0.0.1 eureka024.&#x914D;&#x7F6E;hostnameEureka &#x7EC4;&#x6210;&#x9AD8;&#x53EF;&#x7528;&#xFF0C;&#x4E24;&#x4E2A;Eureka&#x4E92;&#x76F8;&#x5411;&#x5BF9;&#x65B9;&#x6CE8;&#x518C;&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x57DF;&#x540D;&#x6216;&#x4E3B;&#x673A;&#x540D;&#x8BBF;&#x95EE;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E;&#x4E24;&#x4E2A;Eureka&#x670D;&#x52A1;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x5206;&#x522B;&#x4E3A; eureka01&#x3001;eureka02&#x3002; &#x5B8C;&#x6574;&#x7684;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; server: port: ${PORT:50101} #&#x670D;&#x52A1;&#x7AEF;&#x53E3; spring: application: name: xc-govern-center #&#x6307;&#x5B9A;&#x670D;&#x52A1;&#x540D; eureka: client: registerWithEureka: true #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#xFF0C;&#x662F;&#x5426;&#x5C06;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5230;Eureka&#x670D;&#x52A1;&#x4E2D; fetchRegistry: true #&#x670D;&#x52A1;&#x53D1;&#x73B0;&#xFF0C;&#x662F;&#x5426;&#x4ECE;Eureka&#x4E2D;&#x83B7;&#x53D6;&#x6CE8;&#x518C;&#x4FE1;&#x606F; serviceUrl: #Eureka&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;Eureka&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4EA4;&#x4E92;&#x5730;&#x5740;&#xFF0C;&#x9AD8;&#x53EF;&#x7528;&#x72B6;&#x6001;&#x914D;&#x7F6E;&#x5BF9;&#x65B9;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x5355;&#x673A;&#x72B6;&#x6001;&#x914D;&#x7F6E;&#x81EA;&#x5DF1;&#xFF08;&#x5982;&#x679C;&#x4E0D;&#x914D;&#x7F6E;&#x5219;&#x9ED8;&#x8BA4;&#x672C;&#x673A;8761&#x7AEF;&#x53E3;&#xFF09; defaultZone: ${EUREKA_SERVER:http://eureka02:50102/eureka/} server: enable-self-preservation: false #&#x662F;&#x5426;&#x5F00;&#x542F;&#x81EA;&#x6211;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F; eviction-interval-timer-in-ms: 60000 #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x8868;&#x6E05;&#x7406;&#x95F4;&#x9694;&#xFF08;&#x5355;&#x4F4D;&#x6BEB;&#x79D2;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;60*1000&#xFF09; instance: hostname: ${EUREKA_DOMAIN:eureka01}5.&#x5728;IDEA&#x4E2D;&#x5236;&#x4F5C;&#x542F;&#x52A8;&#x811A;&#x672C;&#x542F;&#x52A8;1&#xFF1A; -DPORT=50101 -DEUREKA_SERVER=http://eureka02:50102/eureka/ -DEUREKA_DOMAIN=eureka01&#x542F;&#x52A8;2&#xFF1A; -DPORT=50102 -DEUREKA_SERVER=http://eureka01:50101/eureka/ -DEUREKA_DOMAIN=eureka02&#x8FD0;&#x884C;&#x4E24;&#x4E2A;&#x542F;&#x52A8;&#x811A;&#x672C;&#xFF0C;&#x5206;&#x522B;&#x6D4F;&#x89C8;&#xFF1A; http://eureka01:50101/ http://eureka02:50102/ Eureka&#x4E3B;&#x753B;&#x9762;&#x5982;&#x4E0B;&#xFF1A; &#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5C06;cms&#x6CE8;&#x518C;&#x5230;Eureka Server&#x4E0B;&#x8FB9;&#x5B9E;&#x73B0;cms&#x5411;Eureka Server&#x6CE8;&#x518C;&#x3002; 1.&#x5728;cms&#x670D;&#x52A1;&#x4E2D;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56; &lt;!-- &#x5BFC;&#x5165;Eureka&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4F9D;&#x8D56; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt;2.&#x5728;application.yml&#x914D;&#x7F6E;eureka: client: registerWithEureka: true #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5F00;&#x5173; fetchRegistry: true #&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x5F00;&#x5173; serviceUrl: #Eureka&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;Eureka&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x591A;&#x4E2A;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694; defaultZone: ${EUREKA_SERVER:http://localhost:50101/eureka/,http://localhost:50102/eureka/} instance: prefer-ip-address: true #&#x5C06;&#x81EA;&#x5DF1;&#x7684;ip&#x5730;&#x5740;&#x6CE8;&#x518C;&#x5230;Eureka&#x670D;&#x52A1;&#x4E2D; ip-address: ${IP_ADDRESS:127.0.0.1} instance-id: ${spring.application.name}:${server.port} #&#x6307;&#x5B9A;&#x5B9E;&#x4F8B;id3.&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;@EnableDiscoveryClient //&#x4E00;&#x4E2A;EurekaClient&#x4ECE;EurekaServer&#x53D1;&#x73B0;&#x670D;&#x52A1;4.&#x5237;&#x65B0;Eureka Server&#x67E5;&#x770B;&#x6CE8;&#x518C;&#x60C5;&#x51B5; &#x5C06;manage-course&#x6CE8;&#x518C;&#x5230;Eureka Server1.&#x5728;manage-course&#x5DE5;&#x7A0B;&#x4E2D;&#x6DFB;&#x52A0;spring-cloud-starter-eureka&#x4F9D;&#x8D56;&#xFF1A; &lt;!-- &#x5BFC;&#x5165;Eureka&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4F9D;&#x8D56; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt; &lt;/dependency&gt;2.&#x5728;application.yml&#x914D;&#x7F6E;eurekaeureka: client: registerWithEureka: true #&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5F00;&#x5173; fetchRegistry: true #&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x5F00;&#x5173; serviceUrl: #Eureka&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;Eureka&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x7684;&#x5730;&#x5740;&#xFF0C;&#x591A;&#x4E2A;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694; defaultZone: ${EUREKA_SERVER:http://localhost:50101/eureka/,http://localhost:50102/eureka/} instance: prefer-ip-address: true #&#x5C06;&#x81EA;&#x5DF1;&#x7684;ip&#x5730;&#x5740;&#x6CE8;&#x518C;&#x5230;Eureka&#x670D;&#x52A1;&#x4E2D; ip-address: ${IP_ADDRESS:127.0.0.1} instance-id: ${spring.application.name}:${server.port} #&#x6307;&#x5B9A;&#x5B9E;&#x4F8B;id3.&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3; @EnableDiscoveryClient@EnableDiscoveryClient //&#x4E00;&#x4E2A;EurekaClient&#x4ECE;EurekaServer&#x53D1;&#x73B0;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x200B; &#x5728;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x67B6;&#x6784;&#x4E2D;&#xFF0C;&#x670D;&#x52A1;&#x5C42;&#x88AB;&#x62C6;&#x5206;&#x6210;&#x4E86;&#x5F88;&#x591A;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x670D;&#x52A1;&#x4E0E;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x96BE;&#x514D;&#x53D1;&#x751F;&#x4EA4;&#x4E92;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x9700;&#x8981;&#x8C03;&#x7528;CMS&#x670D;&#x52A1;&#x751F;&#x6210;&#x8BFE;&#x7A0B;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;&#xFF0C;&#x672C;&#x8282;&#x7814;&#x7A76;&#x5FAE;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x6280;&#x672F;&#x3002; &#x4E0B;&#x56FE;&#x662F;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;CMS&#x670D;&#x52A1;&#x7684;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A; &#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;cms&#x670D;&#x52A1;&#x5C06;&#x81EA;&#x5DF1;&#x6CE8;&#x518C;&#x5230;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x3002; 2&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x4ECE;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x83B7;&#x53D6;cms&#x670D;&#x52A1;&#x7684;&#x5730;&#x5740;&#x3002; 3&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;cms&#x670D;&#x52A1;&#x3002; Ribbon&#x200B; Ribbon&#x662F;Netflix&#x516C;&#x53F8;&#x5F00;&#x6E90;&#x7684;&#x4E00;&#x4E2A;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x9879;&#x76EE;&#xFF08;https://github.com/Netflix/ribbon&#xFF09;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;HTTP&#x3001;TCP&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#x3002; 1.&#x4EC0;&#x4E48;&#x662F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF1F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x662F;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x4E2D;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x901A;&#x8FC7;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x6765;&#x5B9E;&#x73B0;&#x7CFB;&#x7EDF;&#x7684;&#x9AD8;&#x53EF;&#x7528;&#x3001;&#x96C6;&#x7FA4;&#x6269;&#x5BB9;&#x7B49;&#x529F;&#x80FD;&#x3002;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x53EF;&#x901A;&#x8FC7;&#x786C;&#x4EF6;&#x8BBE;&#x5907;&#x53CA;&#x8F6F;&#x4EF6;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x786C;&#x4EF6;&#x6BD4;&#x5982;&#xFF1A;F5&#x3001;Array&#x7B49;&#xFF0C;&#x8F6F;&#x4EF6;&#x6BD4;&#x5982;&#xFF1A;LVS&#x3001;Nginx&#x7B49;&#x3002; &#x5982;&#x4E0B;&#x56FE;&#x662F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x67B6;&#x6784;&#x56FE;&#xFF1A; &#x7528;&#x6237;&#x8BF7;&#x6C42;&#x5148;&#x5230;&#x8FBE;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#xFF08;&#x4E5F;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#xFF09;&#xFF0C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#x6839;&#x636E;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B97;&#x6CD5;&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x5FAE;&#x670D;&#x52A1;&#x3002;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B97;&#x6CD5;&#x6709;&#xFF1A;&#x8F6E;&#x8BAD;&#x3001;&#x968F;&#x673A;&#x3001;&#x52A0;&#x6743;&#x8F6E;&#x8BAD;&#x3001;&#x52A0;&#x6743;&#x968F;&#x673A;&#x3001;&#x5730;&#x5740;&#x54C8;&#x5E0C;&#x7B49;&#x65B9;&#x6CD5;&#xFF0C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#x7EF4;&#x62A4;&#x4E00;&#x4EFD;&#x670D;&#x52A1;&#x5217;&#x8868;&#xFF0C;&#x6839;&#x636E;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B97;&#x6CD5;&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x4E0A;&#xFF0C;&#x6240;&#x4EE5;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x53EF;&#x4EE5;&#x4E3A;&#x5FAE;&#x670D;&#x52A1;&#x96C6;&#x7FA4;&#x5206;&#x62C5;&#x8BF7;&#x6C42;&#xFF0C;&#x964D;&#x4F4E;&#x7CFB;&#x7EDF;&#x7684;&#x538B;&#x529B;&#x3002; 2.&#x4EC0;&#x4E48;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF1F;&#x4E0A;&#x56FE;&#x662F;&#x670D;&#x52A1;&#x7AEF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x4E0E;&#x670D;&#x52A1;&#x7AEF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x8981;&#x7EF4;&#x62A4;&#x4E00;&#x4EFD;&#x670D;&#x52A1;&#x5217;&#x8868;&#xFF0C;Ribbon&#x4ECE;Eureka Server&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5217;&#x8868;&#xFF0C;Ribbon&#x6839;&#x636E;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B97;&#x6CD5;&#x76F4;&#x63A5;&#x8BF7;&#x6C42;&#x5230;&#x5177;&#x4F53;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x4E2D;&#x95F4;&#x7701;&#x53BB;&#x4E86;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x670D;&#x52A1;&#x3002; &#x5982;&#x4E0B;&#x56FE;&#x662F;Ribbon&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A; 1&#x3001;&#x5728;&#x6D88;&#x8D39;&#x5FAE;&#x670D;&#x52A1;&#x4E2D;&#x4F7F;&#x7528;Ribbon&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#xFF0C;Ribbon&#x5148;&#x4ECE;EurekaServer&#x4E2D;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5217;&#x8868;&#x3002; 2&#x3001;Ribbon&#x6839;&#x636E;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7684;&#x7B97;&#x6CD5;&#x53BB;&#x8C03;&#x7528;&#x5FAE;&#x670D;&#x52A1;&#x3002; Ribbon&#x4F7F;&#x7528;&#x200B; Spring Cloud&#x5F15;&#x5165;Ribbon&#x914D;&#x5408; restTemplate &#x5B9E;&#x73B0;&#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3002;Java&#x4E2D;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7684;&#x6280;&#x672F;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x5982;&#xFF1A;webservice&#x3001;socket&#x3001;rmi&#x3001;Apache HttpClient&#x3001;OkHttp&#x7B49;&#xFF0C;&#x4E92;&#x8054;&#x7F51;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;http&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x8F83;&#x591A;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;OkHttp&#x3002; &#x5728;xc-service-manage-course&#x6DFB;&#x52A0;Ribbon&#x4F9D;&#x8D56; 1.pom.xml &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-ribbon&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;/dependency&gt;&#x7531;&#x4E8E;&#x4F9D;&#x8D56;&#x4E86;spring-cloud-starter-eureka&#xFF0C;&#x4F1A;&#x81EA;&#x52A8;&#x6DFB;&#x52A0;spring-cloud-starter-ribbon&#x4F9D;&#x8D56; 2.&#x914D;&#x7F6E;Ribbon&#x53C2;&#x6570;&#x8FD9;&#x91CC;&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x7684;application.yml&#x4E2D;&#x914D;&#x7F6E;ribbon&#x53C2;&#x6570; ribbon: MaxAutoRetries: 2 #&#x6700;&#x5927;&#x91CD;&#x8BD5;&#x6B21;&#x6570;&#xFF0C;&#x5F53;Eureka&#x4E2D;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x670D;&#x52A1;&#xFF0C;&#x4F46;&#x662F;&#x670D;&#x52A1;&#x8FDE;&#x4E0D;&#x4E0A;&#x65F6;&#x5C06;&#x4F1A;&#x91CD;&#x8BD5; MaxAutoRetriesNextServer: 3 #&#x5207;&#x6362;&#x5B9E;&#x4F8B;&#x7684;&#x91CD;&#x8BD5;&#x6B21;&#x6570; OkToRetryOnAllOperations: false #&#x5BF9;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x8BF7;&#x6C42;&#x90FD;&#x8FDB;&#x884C;&#x91CD;&#x8BD5;&#xFF0C;&#x5982;&#x679C;&#x662F;get&#x5219;&#x53EF;&#x4EE5;&#xFF0C;&#x5982;&#x679C;&#x662F;post&#xFF0C;put&#x7B49;&#x64CD;&#x4F5C;&#x6CA1;&#x6709;&#x5B9E;&#x73B0;&#x5E42;&#x7B49;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x662F;&#x5F88;&#x5371;&#x9669;&#x7684;,&#x6240;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;false ConnectTimeout: 5000 #&#x8BF7;&#x6C42;&#x8FDE;&#x63A5;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4; ReadTimeout: 6000 #&#x8BF7;&#x6C42;&#x5904;&#x7406;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;3.&#x542F;&#x52A8;&#x4E24;&#x4E2A;&#x88AB;&#x8C03;&#x7528;&#x7AEF;&#x4FEE;&#x6539;xc-service-manage-cms&#x6A21;&#x5757;&#x7684;application.xml&#x7684;server.port server: port: ${PORT:31001}&#x542F;&#x52A8;&#x4E24;&#x4E2A;xc-service-manage-cms&#x670D;&#x52A1;&#xFF0C;&#x6CE8;&#x610F;&#x7AEF;&#x53E3;&#x8981;&#x4E0D;&#x4E00;&#x81F4; -DPORT=31001-DPORT=310024.&#x542F;&#x52A8;&#x8C03;&#x7528;&#x7AEF;&#x5728;xc-service-manage-course&#x7684;&#x542F;&#x52A8;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;RestTemplate &#x5E76;&#x4E14;&#x4F7F;&#x7528;@LoadBalanced&#x6CE8;&#x89E3; @Bean @LoadBalanced public RestTemplate restTemplate() { return new RestTemplate(new OkHttp3ClientHttpRequestFactory()); }5.junit&#x6D4B;&#x8BD5;&#x5728;xc-service-manage-course&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#xFF0C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;cms&#x7684;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x63A5;&#x53E3;&#xFF1A; @SpringBootTest @RunWith(SpringRunner.class) public class TestRibbon { @Autowired RestTemplate restTemplate; @Test public void testRibbon(){ //&#x786E;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x7684;&#x670D;&#x52A1;&#x540D; String serviceId = &quot;XC-SERVICE-MANAGE-CMS&quot;; for (int i=0;i&lt;10;i++){ //ribbon&#x5BA2;&#x6237;&#x7AEF;&#x4ECE;eurekaServer&#x4E2D;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5217;&#x8868;,&#x6839;&#x636E;&#x670D;&#x52A1;&#x540D;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5217;&#x8868; ResponseEntity&lt;Map&gt; forEntity = restTemplate.getForEntity(&quot;http://&quot;+serviceId+&quot;/cms/page/get/5a754adf6abb500ad05688d9&quot;, Map.class); Map body = forEntity.getBody(); System.out.println(body); } } }6.&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x8BC1;&#x660E;&#x6DFB;&#x52A0;@LoadBalanced&#x6CE8;&#x89E3;&#x540E;&#xFF0C;restTemplate&#x4F1A;&#x8D70;LoadBalancerInterceptor&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x6B64;&#x62E6;&#x622A;&#x5668;&#x4E2D;&#x4F1A;&#x901A;&#x8FC7;RibbonLoadBalancerClient&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x5730;&#x5740;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6B64;&#x7C7B;&#x6253;&#x65AD;&#x70B9;&#x89C2;&#x5BDF;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x7684;&#x670D;&#x52A1;&#x5730;&#x5740;&#x548C;&#x7AEF;&#x53E3;&#xFF0C;&#x4E24;&#x4E2A;cms&#x670D;&#x52A1;&#x4F1A;&#x8F6E;&#x6D41;&#x88AB;&#x8C03;&#x7528;&#x3002; &#x4E24;&#x6B21;shift&#x641C;&#x7D22;&#x7C7B;RibbonLoadBalancerClient&#x5E76;&#x4E14;&#x5728;57&#x884C;&#x6253;&#x4E0A;&#x65AD;&#x70B9;,&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6BCF;&#x6B21;&#x8BF7;&#x6C42;&#x7684;&#x7AEF;&#x53E3;&#x90FD;&#x4E0D;&#x4E00;&#x6837;. FeignFeign&#x662F;Netflix&#x516C;&#x53F8;&#x5F00;&#x6E90;&#x7684;&#x8F7B;&#x91CF;&#x7EA7;rest&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4F7F;&#x7528;Feign&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x7684;&#x5B9E;&#x73B0;Http &#x5BA2;&#x6237;&#x7AEF;&#x3002;Spring Cloud&#x5F15;&#x5165;Feign&#x5E76;&#x4E14;&#x96C6;&#x6210;&#x4E86;Ribbon&#x5B9E;&#x73B0;&#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x8C03;&#x7528;&#x3002; Feign&#x4F7F;&#x7528;1.&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x6DFB;&#x52A0;&#x4E0B;&#x8FB9;&#x7684;&#x4F9D;&#x8D56;&#xFF1A; &lt;dependency&gt; &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt; &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.netflix.feign&lt;/groupId&gt; &lt;artifactId&gt;feign-okhttp&lt;/artifactId&gt; &lt;/dependency&gt; spring-cloud-starter-openfeign&#x53EF;&#x4EE5;&#x628A;feign&#x548C;ribbon&#x90FD;&#x5F15;&#x8FDB;&#x6765;,&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x5427;ribbon&#x7684;&#x4F9D;&#x8D56;&#x7ED9;&#x53BB;&#x6389; 2.&#x5B9A;&#x4E49;FeignClient&#x63A5;&#x53E3;&#x53C2;&#x8003;Swagger&#x6587;&#x6863;&#x5B9A;&#x4E49;FeignClient&#xFF0C;&#x6CE8;&#x610F;&#x63A5;&#x53E3;&#x7684;Url&#x3001;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x7C7B;&#x578B;&#x3001;&#x8FD4;&#x56DE;&#x503C;&#x7C7B;&#x578B;&#x4E0E;Swagger&#x63A5;&#x53E3;&#x4E00;&#x81F4;&#x3002; &#x5728;xc-service-manage-course&#x521B;&#x5EFA;client&#x5305;&#xFF0C;&#x5B9A;&#x4E49;&#x67E5;&#x8BE2;cms&#x9875;&#x9762;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x53E3;&#xFF0C; import com.xuecheng.framework.domain.cms.CmsPage; import com.xuecheng.framework.domain.cms.response.CmsPageResult; import org.springframework.cloud.openfeign.FeignClient; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.PathVariable; import org.springframework.web.bind.annotation.PostMapping; import org.springframework.web.bind.annotation.RequestBody; /** * Created by Administrator. */ @FeignClient(value = &quot;XC-SERVICE-MANAGE-CMS&quot;) //&#x6307;&#x5B9A;&#x5728;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7684;&#x670D;&#x52A1;&#x540D; public interface CmsPageClient { //&#x6839;&#x636E;&#x9875;&#x9762;id&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4FE1;&#x606F;&#xFF0C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;cms&#x8BF7;&#x6C42;&#x6570;&#x636E; @GetMapping(&quot;/cms/page/get/{id}&quot;)//&#x7528;GetMapping&#x6807;&#x8BC6;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x7684;http&#x7684;&#x65B9;&#x6CD5;&#x7C7B;&#x578B; public CmsPage findCmsPageById(@PathVariable(&quot;id&quot;) String id); //&#x6DFB;&#x52A0;&#x9875;&#x9762;&#xFF0C;&#x7528;&#x4E8E;&#x8BFE;&#x7A0B;&#x9884;&#x89C8; @PostMapping(&quot;/cms/page/save&quot;) public CmsPageResult saveCmsPage(@RequestBody CmsPage cmsPage); }3.&#x542F;&#x52A8;&#x7C7B;&#x6DFB;&#x52A0;@EnableFeignClients&#x6CE8;&#x89E3;@EnableFeignClients //&#x5F00;&#x59CB;feignClient4.&#x6D4B;&#x8BD5;&#x5728;xc-service-manage-course&#x6A21;&#x5757;&#x4E2D;&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;&#x7C7B; @SpringBootTest @RunWith(SpringRunner.class) public class TestFeign { @Autowired CmsPageClient cmsPageClient; //&#x63A5;&#x53E3;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#xFF0C;&#x7531;Feign&#x751F;&#x6210;&#x4EE3;&#x7406;&#x5BF9;&#x8C61; @Test public void testRibbon() { //&#x53D1;&#x8D77;&#x8FDC;&#x7A0B;&#x8C03;&#x7528; CmsPage cmsPage = cmsPageClient.findCmsPageById(&quot;5a754adf6abb500ad05688d9&quot;); System.out.println(cmsPage); } }5.&#x5DE5;&#x4F5C;&#x539F;&#x7406;1&#x3001; &#x542F;&#x52A8;&#x7C7B;&#x6DFB;&#x52A0;@EnableFeignClients&#x6CE8;&#x89E3;&#xFF0C;Spring&#x4F1A;&#x626B;&#x63CF;&#x6807;&#x8BB0;&#x4E86;@FeignClient&#x6CE8;&#x89E3;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x751F;&#x6210;&#x6B64;&#x63A5;&#x53E3;&#x7684;&#x4EE3;&#x7406;&#x5BF9;&#x8C61; 2&#x3001; @FeignClient(value = &#x201C;XC-SERVICE-MANAGE-CMS&#x201D;)&#x5373;&#x6307;&#x5B9A;&#x4E86;cms&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;&#xFF0C;Feign&#x4F1A;&#x4ECE;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x83B7;&#x53D6;cms&#x670D;&#x52A1;&#x5217;&#x8868;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B97;&#x6CD5;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x3002; 3&#x3001;&#x5728;&#x63A5;&#x53E3;&#x65B9;&#x6CD5; &#x4E2D;&#x4F7F;&#x7528;&#x6CE8;&#x89E3;@GetMapping(&#x201C;/cms/page/get/{id}&#x201D;)&#xFF0C;&#x6307;&#x5B9A;&#x8C03;&#x7528;&#x7684;url&#xFF0C;Feign&#x5C06;&#x6839;&#x636E;url&#x8FDB;&#x884C;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x3002; 6.Feign&#x6CE8;&#x610F;&#x70B9;SpringCloud&#x5BF9;Feign&#x8FDB;&#x884C;&#x4E86;&#x589E;&#x5F3A;&#x517C;&#x5BB9;&#x4E86;SpringMVC&#x7684;&#x6CE8;&#x89E3; &#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528;SpringMVC&#x7684;&#x6CE8;&#x89E3;&#x65F6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF1A; 1&#x3001;feignClient&#x63A5;&#x53E3; &#x6709;&#x53C2;&#x6570;&#x5728;&#x53C2;&#x6570;&#x5FC5;&#x987B;&#x52A0;@PathVariable(&#x201C;XXX&#x201D;)&#x548C;@RequestParam(&#x201C;XXX&#x201D;) 2&#x3001;feignClient&#x8FD4;&#x56DE;&#x503C;&#x4E3A;&#x590D;&#x6742;&#x5BF9;&#x8C61;&#x65F6;&#x5176;&#x7C7B;&#x578B;&#x5FC5;&#x987B;&#x6709;&#x65E0;&#x53C2;&#x6784;&#x9020;&#x51FD;&#x6570;&#x3002; &#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x9700;&#x6C42;&#x5206;&#x6790;&#x200B; &#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x540E;&#x7684;&#x6B63;&#x786E;&#x6027;&#xFF0C;&#x901A;&#x8FC7;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x53EF;&#x4EE5;&#x76F4;&#x89C2;&#x7684;&#x901A;&#x8FC7;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x770B;&#x5230;&#x8BFE;&#x7A0B;&#x7684;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x6B63;&#x786E;&#xFF0C;&#x901A;&#x8FC7;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x770B;&#x5230;&#x7684;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x548C;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x540E;&#x7684;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x3002; &#x4E0B;&#x56FE;&#x662F;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x7684;&#x9884;&#x89C8;&#x56FE;&#xFF1A; &#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x6240;&#x6D4F;&#x89C8;&#x5230;&#x7684;&#x9875;&#x9762;&#x5C31;&#x662F;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#xFF0C;&#x9700;&#x8981;&#x5148;&#x786E;&#x5B9A;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x7684;&#x6280;&#x672F;&#x65B9;&#x6848;&#x540E;&#x65B9;&#x53EF;&#x786E;&#x5B9A;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x7684;&#x6280;&#x672F;&#x65B9;&#x6848;&#x3002; &#x6280;&#x672F;&#x9700;&#x6C42;&#x200B; &#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x662F;&#x5411;&#x7528;&#x6237;&#x5C55;&#x793A;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x8BFE;&#x7A0B;&#x76F8;&#x5F53;&#x4E8E;&#x7F51;&#x7AD9;&#x7684;&#x5546;&#x54C1;&#xFF0C;&#x672C;&#x9875;&#x9762;&#x7684;&#x8BBF;&#x95EE;&#x91CF;&#x4F1A;&#x975E;&#x5E38;&#x5927;&#x3002;&#x6B64;&#x9875;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x8BBE;&#x8BA1;&#x4E0D;&#x4EC5;&#x8981;&#x5C55;&#x793A;&#x51FA;&#x8BFE;&#x7A0B;&#x6838;&#x5FC3;&#x91CD;&#x8981;&#x7684;&#x5185;&#x5BB9;&#x800C;&#x4E14;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x9875;&#x9762;&#x7684;&#x901F;&#x5EA6;&#x8981;&#x6709;&#x4FDD;&#x8BC1;&#xFF0C;&#x6709;&#x7EDF;&#x8BA1;&#x663E;&#x793A;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x8D85;&#x8FC7;4&#x79D2;&#x7528;&#x6237;&#x5C31;&#x8D70;&#x6389;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x672C;&#x9875;&#x9762;&#x7684;&#x6027;&#x80FD;&#x8981;&#x6C42;&#x662F;&#x672C;&#x9875;&#x9762;&#x7684;&#x91CD;&#x8981;&#x9700;&#x6C42;&#x3002; &#x200B; &#x672C;&#x9875;&#x9762;&#x53E6;&#x4E00;&#x4E2A;&#x9700;&#x6C42;&#x5C31;&#x662F;SEO&#xFF0C;&#x8981;&#x975E;&#x5E38;&#x6709;&#x5229;&#x4E8E;&#x722C;&#x866B;&#x6293;&#x53D6;&#x9875;&#x9762;&#x4E0A;&#x4FE1;&#x606F;&#xFF0C;&#x5E76;&#x4E14;&#x751F;&#x6210;&#x9875;&#x9762;&#x5FEB;&#x7167;&#xFF0C;&#x5229;&#x4E8E;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x3002; &#x89E3;&#x51B3;&#x65B9;&#x6848;&#x5982;&#x4F55;&#x5728;&#x4FDD;&#x8BC1;SEO&#x7684;&#x524D;&#x63D0;&#x4E0B;&#x63D0;&#x9AD8;&#x9875;&#x9762;&#x7684;&#x8BBF;&#x95EE;&#x901F;&#x5EA6; &#xFF1A; &#x65B9;&#x6848;1&#xFF1A; &#x200B; &#x5BF9;&#x4E8E;&#x4FE1;&#x606F;&#x83B7;&#x53D6;&#x7C7B;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x8981;&#x60F3;&#x63D0;&#x9AD8;&#x9875;&#x9762;&#x901F;&#x5EA6;&#x5C31;&#x8981;&#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x6765;&#x51CF;&#x5C11;&#x6216;&#x907F;&#x514D;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x9AD8;&#x9875;&#x9762;&#x7684;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#x3002;&#x4E0B;&#x56FE;&#x662F;&#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x4E0E;&#x4E0D;&#x4F7F;&#x7528;&#x7F13;&#x5B58;&#x7684;&#x533A;&#x522B; &#x6B64;&#x9875;&#x9762;&#x4E3A;&#x52A8;&#x6001;&#x9875;&#x9762;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x8BFE;&#x7A0B;&#x7684;&#x4E0D;&#x540C;&#x800C;&#x4E0D;&#x540C;&#xFF0C;&#x65B9;&#x6848;&#x4E00;&#x91C7;&#x7528;&#x4F20;&#x7EDF;&#x7684;JavaEE Servlet/jsp&#x7684;&#x65B9;&#x5F0F;&#x5728;Tomcat&#x5B8C;&#x6210;&#x9875;&#x9762;&#x6E32;&#x67D3;&#xFF0C;&#x76F8;&#x6BD4;&#x4E0D;&#x52A0;&#x7F13;&#x5B58;&#x901F;&#x5EA6;&#x4F1A;&#x6709;&#x63D0;&#x5347;&#x3002; &#x4F18;&#x70B9;&#xFF1A;&#x4F7F;&#x7528;redis&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#xFF0C;&#x901F;&#x5EA6;&#x6709;&#x63D0;&#x5347;&#x3002; &#x7F3A;&#x70B9;&#xFF1A;&#x91C7;&#x7528;Servlet/jsp&#x52A8;&#x6001;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x6280;&#x672F;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;Tomcat&#xFF0C;&#x9762;&#x5BF9;&#x9AD8;&#x5E76;&#x53D1;&#x91CF;&#x7684;&#x8BBF;&#x95EE;&#x5B58;&#x5728;&#x6027;&#x80FD;&#x74F6;&#x9888;&#x3002; &#x65B9;&#x6848;2&#xFF1A; &#x200B; &#x5BF9;&#x4E8E;&#x4E0D;&#x4F1A;&#x9891;&#x7E41;&#x6539;&#x53D8;&#x7684;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x63D0;&#x524D;&#x8BA9;&#x9875;&#x9762;&#x751F;&#x6210;html&#x9759;&#x6001;&#x9875;&#x9762;&#x5B58;&#x50A8;&#x5728;nginx&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7528;&#x6237;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;nginx&#x5373;&#x53EF;&#xFF0C;&#x5BF9;&#x4E8E;&#x4E00;&#x4E9B;&#x52A8;&#x6001;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x670D;&#x52A1;&#x7AEF;&#x83B7;&#x53D6;json&#x6570;&#x636E;&#x5728;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x3002; &#x4F18;&#x70B9;&#xFF1A;&#x4F7F;&#x7528;Nginx&#x4F5C;&#x4E3A;web&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;html&#x9875;&#x9762;&#xFF0C;&#x6027;&#x80FD;&#x51FA;&#x8272;&#x3002; &#x7F3A;&#x70B9;&#xFF1A;&#x9700;&#x8981;&#x7EF4;&#x62A4;&#x5927;&#x91CF;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x7EF4;&#x62A4;&#x7684;&#x96BE;&#x5EA6;&#x3002; &#x9009;&#x62E9;&#x65B9;&#x6848;2&#x4F5C;&#x4E3A;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x7684;&#x6280;&#x672F;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5C06;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x751F;&#x6210;Html&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;&#xFF0C;&#x5E76;&#x53D1;&#x5E03;&#x5230;Nginx&#x4E0A;&#x3002; &#x6280;&#x672F;&#x65B9;&#x6848;&#x200B; &#x6839;&#x636E;&#x8981;&#x6C42;&#xFF1A;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x91C7;&#x7528;&#x9759;&#x6001;&#x5316;&#x6280;&#x672F;&#x751F;&#x6210;Html&#x9875;&#x9762;&#xFF0C;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x7684;&#x6548;&#x679C;&#x8981;&#x4E0E;&#x6700;&#x7EC8;&#x9759;&#x6001;&#x5316;&#x7684;Html&#x9875;&#x9762;&#x5185;&#x5BB9;&#x4E00;&#x81F4;&#x3002; &#x200B; &#x6240;&#x4EE5;&#xFF0C;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x529F;&#x80FD;&#x4E5F;&#x91C7;&#x7528;&#x9759;&#x6001;&#x5316;&#x6280;&#x672F;&#x751F;&#x6210;Html&#x9875;&#x9762;&#xFF0C;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x4F7F;&#x7528;&#x7684;&#x6A21;&#x677F;&#x4E0E;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x6A21;&#x677F;&#x4E00;&#x81F4;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x7684;&#x6548;&#x679C;&#x4E0E;&#x6700;&#x7EC8;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x7684;&#x6548;&#x679C;&#x4E00;&#x81F4;&#x3002; &#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x5236;&#x4F5C;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x6A21;&#x677F; 2&#x3001;&#x5F00;&#x53D1;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7684;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF08;&#x4E3A;&#x9759;&#x6001;&#x5316;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#xFF09; 3&#x3001;&#x8C03;&#x7528;cms&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x63A5;&#x53E3;&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x6D4F;&#x89C8;&#x9759;&#x6001;&#x6587;&#x4EF6; &#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x7EC4;&#x6210;&#x6211;&#x4EEC;&#x5728;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x65F6;&#x9700;&#x8981;&#x77E5;&#x9053;&#x54EA;&#x4E9B;&#x4FE1;&#x606F;&#x662F;&#x9759;&#x6001;&#x4FE1;&#x606F;&#xFF0C;&#x54EA;&#x4E9B;&#x4FE1;&#x606F;&#x4E3A;&#x52A8;&#x6001;&#x4FE1;&#x606F;&#xFF0C;&#x4E0B;&#x56FE;&#x662F;&#x9875;&#x9762;&#x7684;&#x8BBE;&#x8BA1;&#x56FE;&#xFF1A; &#x6253;&#x5F00;&#x9759;&#x6001;&#x9875;&#x9762;&#xFF0C;&#x89C2;&#x5BDF;&#x6BCF;&#x90E8;&#x5206;&#x7684;&#x5185;&#x5BB9;&#x3002; &#x7EA2;&#x8272;&#x8868;&#x793A;&#x52A8;&#x6001;&#x4FE1;&#x606F;&#xFF0C;&#x7EA2;&#x8272;&#x4EE5;&#x5916;&#x8868;&#x793A;&#x9759;&#x6001;&#x4FE1;&#x606F;&#x3002; &#x7EA2;&#x8272;&#x52A8;&#x6001;&#x4FE1;&#x606F;&#xFF1A;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x6309;&#x94AE;&#xFF0C;&#x6839;&#x636E;&#x7528;&#x6237;&#x7684;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x3001;&#x8BFE;&#x7A0B;&#x7684;&#x8D2D;&#x4E70;&#x72B6;&#x6001;&#x663E;&#x793A;&#x6309;&#x94AE;&#x7684;&#x540D;&#x79F0;&#x53CA;&#x6309;&#x94AE;&#x7684;&#x4E8B;&#x4EF6;&#x3002; &#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x4FE1;&#x606F;&#x5185;&#x5BB9;&#xFF1A; 1&#x3001;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; &#x200B; &#x8BFE;&#x7A0B;&#x6807;&#x9898;&#x3001;&#x4EF7;&#x683C;&#x3001;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x3001;&#x6388;&#x8BFE;&#x6A21;&#x5F0F;&#x3001;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x3001;&#x8BFE;&#x7A0B;&#x4ECB;&#x7ECD;&#x3001;&#x8BFE;&#x7A0B;&#x76EE;&#x5F55;&#x3002; 2&#x3001;&#x8BFE;&#x7A0B;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F; &#x200B; &#x8BFE;&#x7A0B;&#x65F6;&#x957F;&#x3001;&#x8BC4;&#x5206;&#x3001;&#x6536;&#x85CF;&#x4EBA;&#x6570; 3&#x3001;&#x6559;&#x80B2;&#x673A;&#x6784;&#x4FE1;&#x606F; &#x200B; &#x516C;&#x53F8;&#x540D;&#x79F0;&#x3001;&#x516C;&#x53F8;&#x7B80;&#x4ECB; 4&#x3001;&#x6559;&#x80B2;&#x673A;&#x6784;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F; &#x200B; &#x597D;&#x8BC4;&#x6570;&#x3001;&#x8BFE;&#x7A0B;&#x6570;&#x3001;&#x5B66;&#x751F;&#x4EBA;&#x6570; 5&#x3001;&#x6559;&#x5E08;&#x4FE1;&#x606F; &#x200B; &#x8001;&#x5E08;&#x540D;&#x79F0;&#x3001;&#x8001;&#x5E08;&#x4ECB;&#x7ECD; &#x9875;&#x9762;&#x62C6;&#x5206;&#x5C06;&#x9875;&#x9762;&#x62C6;&#x5206;&#x6210;&#x5982;&#x4E0B;&#x9875;&#x9762;&#xFF1A; 1&#x3001;&#x9875;&#x5934; &#x672C;&#x9875;&#x5934;&#x6587;&#x4EF6;&#x548C;&#x95E8;&#x6237;&#x4F7F;&#x7528;&#x7684;&#x9875;&#x5934;&#x4E3A;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x3002; &#x53C2;&#x8003;&#xFF1A;&#x4EE3;&#x7801;\&#x9875;&#x9762;&#x4E0E;&#x6A21;&#x677F;\include\header.html 2&#x3001;&#x9875;&#x9762;&#x5C3E; &#x672C;&#x9875;&#x5C3E;&#x6587;&#x4EF6;&#x548C;&#x95E8;&#x6237;&#x4F7F;&#x7528;&#x7684;&#x9875;&#x5C3E;&#x4E3A;&#x540C;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x3002; &#x53C2;&#x8003;&#xFF1A;&#x4EE3;&#x7801;\&#x9875;&#x9762;&#x4E0E;&#x6A21;&#x677F;\include\footer.html 3&#x3001;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x4E3B;&#x9875;&#x9762; &#x6BCF;&#x4E2A;&#x8BFE;&#x7A0B;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x547D;&#x540D;&#x89C4;&#x5219;&#x4E3A;&#xFF1A;&#x8BFE;&#x7A0B;id.html&#xFF08;&#x8BFE;&#x7A0B;id&#x52A8;&#x6001;&#x53D8;&#x5316;&#xFF09; &#x6A21;&#x677F;&#x9875;&#x9762;&#x53C2;&#x8003;&#xFF1A;\&#x4EE3;&#x7801;\&#x9875;&#x9762;&#x4E0E;&#x6A21;&#x677F;\course\detail\course_main_template.html 4&#x3001;&#x6559;&#x80B2;&#x673A;&#x6784;&#x9875;&#x9762; &#x6BCF;&#x4E2A;&#x6559;&#x80B2;&#x673A;&#x6784;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x7684;&#x547D;&#x540D;&#x89C4;&#x5219;&#x4E3A;&#xFF1A;company_info_&#x516C;&#x53F8;id.html&#xFF08;&#x516C;&#x53F8;id&#x52A8;&#x6001;&#x53D8;&#x5316;&#xFF09; &#x53C2;&#x8003;&#xFF1A;&#x4EE3;&#x7801;\&#x9875;&#x9762;&#x4E0E;&#x6A21;&#x677F;\company\company_info_template.html 5&#x3001;&#x8001;&#x5E08;&#x4FE1;&#x606F;&#x9875;&#x9762; &#x6BCF;&#x4E2A;&#x6559;&#x5E08;&#x4FE1;&#x606F;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x7684;&#x547D;&#x540D;&#x89C4;&#x5219;&#x4E3A;&#xFF1A;teacher_info_&#x6559;&#x5E08;id.html&#xFF08;&#x6559;&#x5E08;id&#x52A8;&#x6001;&#x53D8;&#x5316;&#xFF09; &#x53C2;&#x8003;&#xFF1A;&#x4EE3;&#x7801;\&#x9875;&#x9762;&#x4E0E;&#x6A21;&#x677F;\teacher\teacher_info_template01.html 6&#x3001;&#x8BFE;&#x7A0B;&#x7EDF;&#x8BA1;&#x9875;&#x9762; &#x6BCF;&#x4E2A;&#x8BFE;&#x7A0B;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x7684;&#x547D;&#x540D;&#x89C4;&#x5219;&#x4E3A;&#xFF1A;course_stat_&#x8BFE;&#x7A0B;id.json&#xFF08;&#x8BFE;&#x7A0B;id&#x52A8;&#x6001;&#x53D8;&#x5316;&#xFF09; &#x53C2;&#x8003;&#xFF1A;\&#x4EE3;&#x7801;\&#x9875;&#x9762;&#x4E0E;&#x6A21;&#x677F;\stat\course\course_stat_template.json 7&#x3001;&#x6559;&#x80B2;&#x673A;&#x6784;&#x7EDF;&#x8BA1;&#x9875;&#x9762; &#x6BCF;&#x4E2A;&#x6559;&#x80B2;&#x673A;&#x6784;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x6587;&#x4EF6;&#x7684;&#x547D;&#x540D;&#x89C4;&#x5219;&#x4E3A;&#xFF1A;company_stat_&#x516C;&#x53F8;id.json&#xFF08;&#x516C;&#x53F8;id&#x52A8;&#x6001;&#x53D8;&#x5316;&#xFF09; &#x53C2;&#x8003;&#xFF1A;\&#x4EE3;&#x7801;\&#x9875;&#x9762;&#x4E0E;&#x6A21;&#x677F;\stat\company\company_stat_template.json &#x9759;&#x6001;&#x9875;&#x9762;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x601D;&#x8DEF;&#x6253;&#x5F00;&#x8BFE;&#x7A0B;&#x8D44;&#x6599;&#x4E2D;&#x7684;&#x201C;&#x9759;&#x6001;&#x9875;&#x9762;&#x76EE;&#x5F55;&#x201D;&#x4E2D;&#x7684;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x6A21;&#x677F;&#x9875;&#x9762;&#xFF0C;&#x7814;&#x7A76;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x7684;&#x601D;&#x8DEF;&#x3002; &#x6A21;&#x677F;&#x9875;&#x9762;&#x8DEF;&#x5F84;&#x5982;&#x4E0B;&#xFF1A; &#x9759;&#x6001;&#x9875;&#x9762;&#x76EE;&#x5F55;\static\course\detail\course_main_template.html1&#x3001;&#x4E3B;&#x9875;&#x9762; &#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;&#x4E3B;&#x9875;&#x9762;&#x4E2D;&#x901A;&#x8FC7;SSI&#x52A0;&#x8F7D;&#xFF1A;&#x9875;&#x5934;&#x3001;&#x9875;&#x5C3E;&#x3001;&#x6559;&#x80B2;&#x673A;&#x6784;&#x3001;&#x6559;&#x5E08;&#x4FE1;&#x606F; 2&#x3001;&#x5F02;&#x6B65;&#x52A0;&#x8F7D;&#x8BFE;&#x7A0B;&#x7EDF;&#x8BA1;&#x4E0E;&#x6559;&#x80B2;&#x673A;&#x6784;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F; &#x200B; &#x8BFE;&#x7A0B;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF08;json&#xFF09;&#x3001;&#x6559;&#x80B2;&#x673A;&#x6784;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#xFF08;json&#xFF09; 3&#x3001;&#x9A6C;&#x4E0A;&#x5B66;&#x4E60;&#x6309;&#x94AE;&#x4E8B;&#x4EF6; &#x200B; &#x7528;&#x6237;&#x70B9;&#x51FB;&#x201C;&#x9A6C;&#x4E0A;&#x5B66;&#x4E60;&#x201D;&#x4F1A;&#x6839;&#x636E;&#x8BFE;&#x7A0B;&#x6536;&#x8D39;&#x60C5;&#x51B5;&#x3001;&#x8BFE;&#x7A0B;&#x8D2D;&#x4E70;&#x60C5;&#x51B5;&#x6267;&#x884C;&#x4E0B;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x9759;&#x6001;&#x8D44;&#x6E90;&#x865A;&#x62DF;&#x4E3B;&#x673A;1&#x3001;&#x914D;&#x7F6E;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x865A;&#x62DF;&#x4E3B;&#x673A; &#x9759;&#x6001;&#x8D44;&#x6E90;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x8D1F;&#x8D23;&#x5904;&#x7406;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x3001;&#x516C;&#x53F8;&#x4FE1;&#x606F;&#x3001;&#x8001;&#x5E08;&#x4FE1;&#x606F;&#x3001;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;&#x7B49;&#x9875;&#x9762;&#x7684;&#x8BF7;&#x6C42;&#xFF1A; &#x5C06;&#x8BFE;&#x7A0B;&#x8D44;&#x6599;&#x4E2D;&#x7684;&#x201C;&#x9759;&#x6001;&#x9875;&#x9762;&#x76EE;&#x5F55;&#x201D;&#x4E2D;&#x7684;&#x76EE;&#x5F55;&#x62F7;&#x8D1D;&#x5230;F:/develop/xuecheng/static&#x4E0B; &#x5728;nginx&#x4E2D;&#x914D;&#x7F6E;&#x9759;&#x6001;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x5982;&#x4E0B;&#xFF1A; #&#x5B66;&#x6210;&#x7F51;&#x9759;&#x6001;&#x8D44;&#x6E90; server { listen 91; server_name localhost; #&#x516C;&#x53F8;&#x4FE1;&#x606F; location /static/company/ { alias X:/workspace/java/xczx/static/company/; } #&#x8001;&#x5E08;&#x4FE1;&#x606F; location /static/teacher/ { alias X:/workspace/java/xczx/static/teacher/; } #&#x7EDF;&#x8BA1;&#x4FE1;&#x606F; location /static/stat/ { alias X:/workspace/java/xczx/static/stat/; } location /course/detail/ { alias X:/workspace/java/xczx/static/detail/; } }2&#x3001;&#x901A;&#x8FC7;www.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x8F6C;&#x53D1;&#x5230;&#x9759;&#x6001;&#x8D44;&#x6E90; &#x7531;&#x4E8E;&#x8BFE;&#x7A0B;&#x9875;&#x9762;&#x9700;&#x8981;&#x901A;&#x8FC7;SSI&#x52A0;&#x8F7D;&#x9875;&#x5934;&#x548C;&#x9875;&#x5C3E;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x901A;&#x8FC7;www.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x8F6C;&#x53D1;&#x5230;&#x9759;&#x6001;&#x8D44;&#x6E90; &#x914D;&#x7F6E;upstream&#x5B9E;&#x73B0;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x8D44;&#x6E90;&#x670D;&#x52A1;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#xFF1A; #&#x9759;&#x6001;&#x8D44;&#x6E90;&#x670D;&#x52A1; upstream static_server_pool{ server 127.0.0.1:91 weight=10; } &#x5728;www.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x52A0;&#x5165;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A; location /static/company/ { proxy_pass http://static_server_pool; } location /static/teacher/ { proxy_pass http://static_server_pool; } location /static/stat/ { proxy_pass http://static_server_pool; } location /course/detail/ { proxy_pass http://static_server_pool; } &#x6700;&#x7EC8;nginx&#x7684;&#x914D;&#x7F6E;&#x4E3A; #user nobody; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main &apos;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &apos; # &apos;$status $body_bytes_sent &quot;$http_referer&quot; &apos; # &apos;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&apos;; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; #&#x56FE;&#x7247;&#x670D;&#x52A1; upstream img_server_pool{ #server 192.168.101.64:80 weight=10; server 192.168.25.133:80 weight=10; } #cms&#x9875;&#x9762;&#x9884;&#x89C8; upstream aaa_pool{ server 127.0.0.1:31001 weight=10; } #&#x9759;&#x6001;&#x8D44;&#x6E90;&#x670D;&#x52A1; upstream static_server_pool{ server 127.0.0.1:91 weight=10; } server{ listen 80; server_name www.xuecheng.com; ssi on; ssi_silent_errors on; location / { alias X:/workspace/java/xczx/static/portal/; index index.html; } #&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x6240;&#x9700;&#x8981;&#x7684;&#x56FE;&#x7247;&#xFF0C;js&#x3001;css&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90; location /static/img/ { alias X:/workspace/java/xczx/static/portal/img/; } location /static/css/ { alias X:/workspace/java/xczx/static/portal/css/; } location /static/js/ { alias X:/workspace/java/xczx/static/portal/js/; } location /static/plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } #&#x9875;&#x9762;&#x9884;&#x89C8; location /cms/preview/ { proxy_pass http://aaa_pool/cms/preview/; } location /static/company/ { proxy_pass http://static_server_pool; } location /static/teacher/ { proxy_pass http://static_server_pool; } location /static/stat/ { proxy_pass http://static_server_pool; } location /course/detail/ { proxy_pass http://static_server_pool; } } #&#x5B66;&#x6210;&#x7F51;&#x56FE;&#x7247;&#x670D;&#x52A1; server { listen 80; server_name img.xuecheng.com; #&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3; location /group1 { proxy_pass http://img_server_pool; } } #&#x5B66;&#x6210;&#x7F51;&#x9759;&#x6001;&#x8D44;&#x6E90; server { listen 91; server_name localhost; #&#x516C;&#x53F8;&#x4FE1;&#x606F; location /static/company/ { alias X:/workspace/java/xczx/static/company/; } #&#x8001;&#x5E08;&#x4FE1;&#x606F; location /static/teacher/ { alias X:/workspace/java/xczx/static/teacher/; } #&#x7EDF;&#x8BA1;&#x4FE1;&#x606F; location /static/stat/ { alias X:/workspace/java/xczx/static/stat/; } location /course/detail/ { alias X:/workspace/java/xczx/static/course/detail/; } } # another virtual host using mix of IP-, name-, and port-based configuration # #server { # listen 8000; # listen somename:8080; # server_name somename alias another.alias; # location / { # root html; # index index.html index.htm; # } #} # HTTPS server # #server { # listen 443 ssl; # server_name localhost; # ssl_certificate cert.pem; # ssl_certificate_key cert.key; # ssl_session_cache shared:SSL:1m; # ssl_session_timeout 5m; # ssl_ciphers HIGH:!aNULL:!MD5; # ssl_prefer_server_ciphers on; # location / { # root html; # index index.html index.htm; # } #} } &#x95E8;&#x6237;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;&#x95E8;&#x6237;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x56FE;&#x7247;&#x3001;&#x6837;&#x5F0F;&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x7EDF;&#x4E00;&#x901A;&#x8FC7;/static&#x8DEF;&#x5F84;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#xFF0C;&#x5728;www.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x4E2D;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; #&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x6240;&#x9700;&#x8981;&#x7684;&#x56FE;&#x7247;&#xFF0C;js&#x3001;css&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90; location /static/img/ { alias X:/workspace/java/xczx/static/portal/img/; } location /static/css/ { alias X:/workspace/java/xczx/static/portal/css/; } location /static/js/ { alias X:/workspace/java/xczx/static/portal/js/; } location /static/plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } cors&#x8DE8;&#x57DF;&#x53C2;&#x6570;&#xFF1A; Access-Control-Allow-Origin&#xFF1A;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x7684;&#x5916;&#x57DF;&#x5730;&#x5740; &#x200B; &#x5982;&#x679C;&#x5141;&#x8BB8;&#x4EFB;&#x4F55;&#x7AD9;&#x70B9;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x5219;&#x8BBE;&#x7F6E;&#x4E3A;*&#xFF0C;&#x901A;&#x5E38;&#x8FD9;&#x662F;&#x4E0D;&#x5EFA;&#x8BAE;&#x7684;&#x3002; Access-Control-Allow-Credentials&#xFF1A; &#x5141;&#x8BB8;&#x5BA2;&#x6237;&#x7AEF;&#x643A;&#x5E26;&#x8BC1;&#x4E66;&#x8BBF;&#x95EE; Access-Control-Allow-Methods&#xFF1A;&#x5141;&#x8BB8;&#x5BA2;&#x6237;&#x7AEF;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x7684;&#x65B9;&#x6CD5; &#x9875;&#x9762;&#x6D4B;&#x8BD5;&#x8BF7;&#x6C42;&#xFF1A;http://www.xuecheng.com/course/detail/course_main_template.html&#x6D4B;&#x8BD5;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x6A21;&#x677F;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x6D4F;&#x89C8;&#x3002; &#x9875;&#x9762;&#x52A8;&#x6001;&#x811A;&#x672C;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x65E5;&#x540E;&#x7684;&#x7EF4;&#x62A4;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;javascript&#x5B9E;&#x73B0;&#x7684;&#x52A8;&#x6001;&#x90E8;&#x5206;&#x5355;&#x72EC;&#x7F16;&#x5199;&#x4E00;&#x4E2A;html &#x6587;&#x4EF6;,&#x5728;&#x95E8;&#x6237;&#x7684;include&#x76EE;&#x5F55;&#x4E0B;&#x5B9A;&#x4E49;course_detail_dynamic.html&#x6587;&#x4EF6;&#xFF0C;&#x6B64;&#x6587;&#x4EF6;&#x901A;&#x8FC7;ssi&#x5305;&#x542B;&#x5728;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x4E2D;. &#x6587;&#x4EF6;&#x5730;&#x5740;&#xFF1A;&#x8D44;&#x6599;\&#x9759;&#x6001;&#x9875;&#x9762;&#x76EE;&#x5F55;\include\course_detail_dynamic.html &#x6240;&#x6709;&#x7684;&#x8BFE;&#x7A0B;&#x516C;&#x7528;&#x4E00;&#x4E2A; &#x9875;&#x9762;&#x52A8;&#x6001;&#x811A;&#x672C;&#x3002; &#x5728;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x4E3B;&#x9875;&#x9762;&#x4E0B;&#x7AEF;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x901A;&#x8FC7;SSI&#x6280;&#x672F;&#x5305;&#x542B;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x52A8;&#x6001;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF1A; &lt;script&gt;var courseId = &quot;template&quot;&lt;/script&gt; &lt;!--#include virtual=&quot;/include/course_detail_dynamic.html&quot;--&gt; &lt;/body&gt; &lt;/html&gt;&#x672C;&#x9875;&#x9762;&#x4F7F;&#x7528;vue.js&#x52A8;&#x6001;&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#xFF0C;vue&#x5B9E;&#x4F8B;&#x521B;&#x5EFA;&#x7684;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x4E3B;&#x8981;&#x67E5;&#x770B; created&#x94A9;&#x5B50;&#x51FD;&#x6570;&#x7684;&#x5185;&#x5BB9;&#x3002; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;zh-CN&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;script src=&quot;/js/vue/vue.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/js/jwt-decode/jwt-decode.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/js/base64.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/js/axios/axios.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/js/querystring/index.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/js/public.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/js/order.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/js/util.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/css/el/index.js&quot;&gt;&lt;/script&gt; &lt;style&gt; [v-cloak] { display: none; } &lt;/style&gt; &lt;/head&gt; &lt;body &gt; &lt;!-- &#x9875;&#x9762; css js --&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/static/plugins/jquery/dist/jquery.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot; src=&quot;/static/plugins/bootstrap/dist/js/bootstrap.js&quot;&gt;&lt;/script&gt; &lt;script&gt; $(&apos;.vid-act&apos;).click(function() { $(this).find(&apos;.i-heart&apos;).css(&apos;background-position&apos;, &apos;4px -55px&apos;) }) $(function() { //&#x70B9;&#x51FB;&#x4E0B;&#x62C9; //&#x7528;&#x6CD5;&#xFF1A;HTML &#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x4E3A;more,&#x7236;&#x7EA7;&#x4F7F;&#x7528;overflow&#xFF1A;hidden&#xFF1B;&#x9650;&#x5B9A;&#x9AD8; more&#x4E0E;&#x8981;&#x5C55;&#x5F00;&#x7684;&#x5185;&#x5BB9;&#x4E3A;&#x540C;&#x7EA7; &#x8981;&#x5C55;&#x5F00;&#x5185;&#x5BB9;&#x6DFB;&#x52A0; drop-down&#x7684;class function ckMove(target, ckgar, het, text, incr) { var inc = incr ? incr : 0; $(target).find(ckgar).on(&apos;click&apos;, function() { var h = $(this).parent().find(&apos;.drop-down ul&apos;).height(); if (!$(this).hasClass(&apos;act&apos;)) { $(this).addClass(&apos;act&apos;); $(this).parent().find(&apos;.drop-down&apos;).css({ &apos;height&apos;: (h + inc) + &apos;px&apos; }); $(this).find(&apos;i&apos;).removeClass(&apos;i-chevron-bot&apos;).addClass(&apos;i-chevron-top&apos;) } else { $(this).removeClass(&apos;act&apos;); $(this).parent().find(&apos;.drop-down&apos;).css({ &apos;height&apos;: het + &apos;px&apos; }); $(this).find(&apos;i&apos;).removeClass(&apos;i-chevron-top&apos;).addClass(&apos;i-chevron-bot&apos;) } }) } //&#x7AE0;&#x8282;&#x6536;&#x7F29; ckMove(&apos;.article-cont .article-left-box&apos;, &apos;.title&apos;, 0); /* $(&apos;.learing-box .item-list&apos;).mouseover(function(e) { $(this).css({ &apos;height&apos;: &apos;140px&apos; }).addClass(&apos;hov&apos;).siblings().css({ &apos;height&apos;: &apos;50px&apos; }) $(this).siblings().removeClass(&apos;hov&apos;) }) $(&apos;.learing-box .item-box&apos;).mouseout(function() { $(this).find(&apos;.item-list:first&apos;).css({ &apos;height&apos;: &apos;140px&apos; }).addClass(&apos;hov&apos;) $(this).find(&apos;.item-list:first&apos;).siblings().css({ &apos;height&apos;: &apos;50px&apos; }).removeClass(&apos;hov&apos;) })*/ }) /*$(function() { $(&apos;.learing-box .item-list&apos;).mouseover(function(e) { $(this).css({ &apos;height&apos;: &apos;140px&apos; }).addClass(&apos;hov&apos;).siblings().css({ &apos;height&apos;: &apos;50px&apos; }) $(this).siblings().removeClass(&apos;hov&apos;) }) $(&apos;.learing-box .item-box&apos;).mouseout(function() { $(this).find(&apos;.item-list:first&apos;).css({ &apos;height&apos;: &apos;140px&apos; }).addClass(&apos;hov&apos;) $(this).find(&apos;.item-list:first&apos;).siblings().css({ &apos;height&apos;: &apos;50px&apos; }).removeClass(&apos;hov&apos;) }) })*/ $(function() { $(&apos;.active-box span&apos;).click(function() { $(this).css({ &apos;color&apos;: &apos;#00a4ff&apos; }) if ($(this).find(&apos;i&apos;).hasClass(&apos;i-laud&apos;)) { $(this).find(&apos;.i-laud&apos;).css(&apos;background-position&apos;, &apos;-80px -19px&apos;) } else if ($(this).find(&apos;i&apos;).hasClass(&apos;i-coll&apos;)) { $(this).find(&apos;.i-coll&apos;).css(&apos;background-position&apos;, &apos;1px -75px&apos;) } }) /*$(&apos;.learing-box .item-list&apos;).mouseover(function(e) { $(this).css({ &apos;height&apos;: &apos;140px&apos; }).addClass(&apos;hov&apos;).siblings().css({ &apos;height&apos;: &apos;50px&apos; }) $(this).siblings().removeClass(&apos;hov&apos;) }) $(&apos;.learing-box .item-box&apos;).mouseout(function() { $(this).find(&apos;.item-list:first&apos;).css({ &apos;height&apos;: &apos;140px&apos; }).addClass(&apos;hov&apos;) $(this).find(&apos;.item-list:first&apos;).siblings().css({ &apos;height&apos;: &apos;50px&apos; }).removeClass(&apos;hov&apos;) })*/ }) $(function() { //&#x8BC4;&#x5206; $(&apos;.star .score&apos;).map(function(n, i) { var x = Number($(this).find(&apos;i&apos;).text()); var w = 109 * (1 - x / 5); $(this).css(&apos;width&apos;, w + &apos;px&apos;); }) //&#x8BC4;&#x8BBA;&#x6253;&#x5206; $(&apos;.evaluate .star&apos;).mousemove(function(e) { var startX = $(this).offset().left; var movX = e.clientX - startX + 0.5; var w = 145 * (1 - movX / 145); $(this).find(&apos;.score&apos;).css(&apos;width&apos;, w + &apos;px&apos;); $(&apos;.star-score i&apos;).text((movX / 145 * 5).toFixed(1)) }) //&#x661F;&#x7EA7;&#x8BC4;&#x5206; $(&apos;.grade&apos;).map(function(n, i) { var pret = $(this).find(&apos;.percent-num i&apos;).text(); var wt = $(this).find(&apos;.grade-percent&apos;).width(); $(this).find(&apos;.grade-percent span&apos;).css(&apos;width&apos;, wt * pret / 100); }) }) $(function() { //&#x70B9;&#x51FB;&#x4E0B;&#x62C9; function ckMove(target, het, text, incr) { var inc = incr ? incr : 0; $(target).find(&apos;.on-off&apos;).on(&apos;click&apos;, function() { var h = $(this).parent().find(&apos;.drop-down p&apos;).height(); if (!$(this).hasClass(&apos;act&apos;)) { $(this).addClass(&apos;act&apos;); $(this).parent().find(&apos;.drop-down&apos;).css({ &apos;height&apos;: (h + inc) + &apos;px&apos; }); $(this).find(&apos;i&apos;).removeClass(&apos;i-chevron-bot&apos;).addClass(&apos;i-chevron-top&apos;) } else { $(this).removeClass(&apos;act&apos;); $(this).parent().find(&apos;.drop-down&apos;).css({ &apos;height&apos;: het + &apos;px&apos; }); $(this).find(&apos;i&apos;).removeClass(&apos;i-chevron-top&apos;).addClass(&apos;i-chevron-bot&apos;) } }) } ckMove(&apos;.cktop&apos;, 60); ckMove(&apos;.cont .item&apos;, 0); //&#x70B9;&#x51FB;&#x5173;&#x95ED;&#x5F39;&#x7A97; $(&apos;.close-popup&apos;).click(function() { $(&apos;.popup-box&apos;).hide(); }) $(&apos;.tit-list a&apos;).click(function() { $(this).addClass(&apos;active&apos;).siblings().removeClass(&apos;active&apos;); var clasNod = &apos;.&apos; + $(this)[0].id $(clasNod).show().siblings().hide() }) // &#x8D44;&#x6599;&#x4E0B;&#x8F7D; $(&apos;.down-fill span&apos;).click(function() { $(&apos;.down-fill ul&apos;).css({ display: &apos;block&apos; }); }) $(&apos;.down-fill ul li&apos;).click(function() { $(&apos;.down-fill ul&apos;).css({ display: &apos;none&apos; }); }) }) &lt;/script&gt; &lt;script&gt; var body= new Vue({ //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;Vue&#x7684;&#x5B9E;&#x4F8B; el: &quot;#body&quot;, //&#x6302;&#x8F7D;&#x70B9;&#x662F;id=&quot;app&quot;&#x7684;&#x5730;&#x65B9; data: { editLoading: false, title:&apos;&#x6D4B;&#x8BD5;&apos;, courseId:&apos;&apos;, charge:&apos;&apos;,//203001&#x514D;&#x8D39;,203002&#x6536;&#x8D39; learnstatus:0,//&#x8BFE;&#x7A0B;&#x72B6;&#x6001;&#xFF0C;1&#xFF1A;&#x9A6C;&#x4E0A;&#x5B66;&#x4E60;&#xFF0C;2&#xFF1A;&#x7ACB;&#x5373;&#x62A5;&#x540D;&#x3001;3&#xFF1A;&#x7ACB;&#x5373;&#x8D2D;&#x4E70; course:{}, companyId:&apos;template&apos;, company_stat:[], course_stat:{&quot;s601001&quot;:&quot;&quot;,&quot;s601002&quot;:&quot;&quot;,&quot;s601003&quot;:&quot;&quot;} }, methods: { //&#x5B66;&#x4E60;&#x62A5;&#x540D; addopencourse(){ let activeUser= checkActiveUser(); if(activeUser){ addOpencourse(this.courseId).then((res) =&gt; { if(res.success){//&#x62A5;&#x540D;&#x6210;&#x529F; this.$message.success(&apos;&#x62A5;&#x540D;&#x6210;&#x529F;&apos;); this.getLearnstatus() }else if(res.message){ this.$message.error(res.message); }else{ this.$message.error(&apos;&#x62A5;&#x540D;&#x5931;&#x8D25;&#xFF0C;&#x8BF7;&#x5237;&#x65B0;&#x9875;&#x9762;&#x91CD;&#x8BD5;!&apos;); } }) }else{ //&#x5F39;&#x51FA;&#x767B;&#x5F55;&#x6846;&#x67B6; headVm.showlogin() } }, //&#x7ACB;&#x5373;&#x8D2D;&#x4E70; buy(){ let activeUser= getActiveUser(); if(activeUser){ $(&apos;.popup-box&apos;).show() }else{ //&#x5F39;&#x51FA;&#x767B;&#x5F55;&#x6846;&#x67B6; headVm.showlogin() } }, createOrder(){ createOrder(this.courseId).then((res) =&gt; { this.editLoading = false; if(res.success){ this.$message.success(&apos;&#x8BA2;&#x5355;&#x521B;&#x5EFA;&#x6210;&#x529F;&apos;); //&#x8DF3;&#x8F6C;&#x5230;&#x652F;&#x4ED8;&#x9875;&#x9762; window.location = &quot;http://ucenter.xuecheng.com/#/pay/&quot;+res.xcOrders.orderNumber }else{ if(res.message){ this.$message.error(res.message); }else{ this.$message.error(&apos;&#x8BA2;&#x5355;&#x521B;&#x5EFA;&#x5931;&#x8D25;&#xFF0C;&#x8BF7;&#x5237;&#x65B0;&#x9875;&#x9762;&#x91CD;&#x8BD5;&apos;); } } }, (res) =&gt; { this.editLoading = false; }); }, getLearnstatus(){//&#x83B7;&#x53D6;&#x5B66;&#x4E60;&#x72B6;&#x6001; //&#x521D;&#x59CB;&#x5B66;&#x4E60;&#x72B6;&#x6001; //&#x6839;&#x636E;&#x8BFE;&#x7A0B;&#x6536;&#x8D39;&#x5224;&#x65AD; if(this.charge == &apos;203001&apos;){ this.learnstatus = 2 //&#x514D;&#x8D39;&#xFF0C;&#x62A5;&#x540D;&#x540E;&#x5373;&#x53EF;&#x5B66;&#x4E60; }else{ this.learnstatus = 3 //&#x6536;&#x8D39;&#xFF0C;&#x9700;&#x8981;&#x8D2D;&#x4E70;&#x540E;&#x53EF;&#x5B66;&#x4E60; } //&#x5982;&#x679C;&#x7528;&#x6237;&#x767B;&#x5F55;&#x5224;&#x65AD;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x5B66;&#x4E60;&#x72B6;&#x6001; let activeUser= getActiveUser(); if(activeUser){ //&#x5224;&#x65AD;&#x5B66;&#x751F;&#x7684;&#x9009;&#x8BFE;&#x72B6;&#x6001; /*queryLearnstatus(this.courseId).then((res)=&gt;{ console.log(res) if(res.success){ if(res.status == &apos;501001&apos;){//&#x6B63;&#x5E38; this.learnstatus = 1 //&#x9009;&#x8BFE;&#x72B6;&#x6001;&#x6B63;&#x5E38;&#xFF0C;&#x7ACB;&#x5373;&#x5B66;&#x4E60; } } })*/ } } }, created() { this.courseId = courseId; this.charge = charge this.getLearnstatus(); //&#x83B7;&#x53D6;&#x6559;&#x80B2;&#x673A;&#x6784;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E; queryCompanyStat(this.companyId).then((res)=&gt;{ console.log(res) if(res.stat){ this.company_stat = res.stat console.log(this.company_stat) } }) //&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x7684;&#x7EDF;&#x8BA1;&#x6570;&#x636E; queryCourseStat(this.courseId).then((res)=&gt;{ console.log(res) if(res.stat){ let stat = res.stat for(var i=0;i&lt;stat.length;i++){ this.course_stat[&apos;s&apos;+stat[i].id] = stat[i].value } } console.log(this.course_stat) }) }, mounted(){ // alert(courseId) } }) &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; &#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x6570;&#x636E;&#x200B; &#x9759;&#x6001;&#x5316;&#x64CD;&#x4F5C;&#x9700;&#x8981;&#x6A21;&#x578B;&#x6570;&#x636E;&#x65B9;&#x53EF;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x5316;&#xFF0C;&#x8BFE;&#x7A0B;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7531;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#xFF0C;&#x4EC5;&#x4F9B;&#x8BFE;&#x7A0B;&#x9759;&#x6001;&#x5316;&#x7A0B;&#x5E8F;&#x8C03;&#x7528;&#x4F7F;&#x7528;&#x3002; 1.&#x63A5;&#x53E3;&#x5B9A;&#x4E49;1&#x3001;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7C7B;&#x578B; &#x5728;xc-framework-model&#x6A21;&#x5757;com.xuecheng.framework.domain.course.ext&#x5305;&#x4E0B;&#x521B;&#x5EFA; @Data @ToString @NoArgsConstructor public class CourseView implements Serializable { CourseBase courseBase;//&#x57FA;&#x7840;&#x4FE1;&#x606F; CourseMarket courseMarket;//&#x8BFE;&#x7A0B;&#x8425;&#x9500; CoursePic coursePic;//&#x8BFE;&#x7A0B;&#x56FE;&#x7247; TeachplanNode TeachplanNode;//&#x6559;&#x5B66;&#x8BA1;&#x5212; }2&#x3001;&#x8BF7;&#x6C42;&#x7C7B;&#x578B; String&#xFF1A;&#x8BFE;&#x7A0B;id 3&#x3001;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5982;&#x4E0B; @ApiOperation(&quot;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x6570;&#x636E;&#x67E5;&#x8BE2;&quot;) public CourseView courseview(String id);2.Dao&#x5728;xc-service-manage-course&#x6A21;&#x5757;&#x521B;&#x5EFA;Dao &#x9700;&#x8981;&#x5BF9;course_base&#x3001;course_market&#x3001;course_pic&#x3001;teachplan&#x7B49;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#xFF0C; &#x65B0;&#x5EFA;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x7684;dao&#xFF0C;&#x5176;&#x5B83;dao&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E0D;&#x7528;&#x518D;&#x5EFA;&#x3002; public interface CourseMarketRepository extends JpaRepository&lt;CourseMarket, String&gt; { }3.Service //&#x8BFE;&#x7A0B;&#x89C6;&#x56FE;&#x67E5;&#x8BE2; public CourseView getCoruseView(String id) { CourseView courseView = new CourseView(); //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x57FA;&#x672C;&#x4FE1;&#x606F; Optional&lt;CourseBase&gt; optional = courseBaseRepository.findById(id); if(optional.isPresent()){ CourseBase courseBase = optional.get(); courseView.setCourseBase(courseBase); } //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F; Optional&lt;CourseMarket&gt; courseMarketOptional = courseMarketRepository.findById(id); if(courseMarketOptional.isPresent()){ CourseMarket courseMarket = courseMarketOptional.get(); courseView.setCourseMarket(courseMarket); } //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x56FE;&#x7247;&#x4FE1;&#x606F; Optional&lt;CoursePic&gt; picOptional = coursePicRepository.findById(id); if(picOptional.isPresent()){ CoursePic coursePic = picOptional.get(); courseView.setCoursePic(picOptional.get()); } //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F; TeachplanNode teachplanNode = teachplanMapper.selectList(id); courseView.setTeachplanNode(teachplanNode); return courseView; }4.Controller @Override @GetMapping(&quot;/courseview/{id}&quot;) public CourseView courseview(@PathVariable(&quot;id&quot;) String id) { return courseService.getCoruseView(id); }5.&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;swagger-ui&#x6216;postman&#x6D4B;&#x8BD5;&#x672C;&#x63A5;&#x53E3;&#x3002; &#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x6A21;&#x677F;1.&#x6A21;&#x677F;&#x5185;&#x5BB9;&lt;!DOCTYPE html&gt; &lt;html lang=&quot;zh-CN&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;!-- &#x4E0A;&#x8FF0;3&#x4E2A;meta&#x6807;&#x7B7E;*&#x5FC5;&#x987B;*&#x653E;&#x5728;&#x6700;&#x524D;&#x9762;&#xFF0C;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#x90FD;*&#x5FC5;&#x987B;*&#x8DDF;&#x968F;&#x5176;&#x540E;&#xFF01; --&gt; &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt; &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt; &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot; /&gt; &lt;meta http-equiv=&quot;content-type&quot; content=&quot;no-cache, must-revalidate&quot; /&gt; &lt;title&gt;&#x5728;&#x7EBF;&#x6559;&#x80B2;&#x7F51;--${courseBase.name}&lt;/title&gt; &lt;/head&gt; &lt;body data-spy=&quot;scroll&quot; data-target=&quot;#articleNavbar&quot; data-offset=&quot;150&quot;&gt; &lt;!-- &#x9875;&#x9762;&#x5934;&#x90E8; --&gt; &lt;!--#include virtual=&quot;/include/header.html&quot;--&gt; &lt;div id=&quot;body&quot;&gt; &lt;!--&#x9875;&#x9762;&#x5934;&#x90E8;&#x7ED3;&#x675F;sss--&gt; &lt;div class=&quot;article-banner&quot;&gt; &lt;div class=&quot;banner-bg&quot;&gt;&lt;/div&gt; &lt;div class=&quot;banner-info&quot;&gt; &lt;div class=&quot;banner-left&quot;&gt; &lt;p class=&quot;tit&quot;&gt;${courseBase.name}&lt;/p&gt; &lt;p class=&quot;pic&quot;&gt;&lt;span class=&quot;new-pic&quot;&gt;&#x7279;&#x60E0;&#x4EF7;&#x683C;&#xFFE5;${(courseMarket.price)!&quot;&quot;}&lt;/span&gt; &lt;span class=&quot;old-pic&quot;&gt;&#x539F;&#x4EF7;&#xFFE5;${(courseMarket.price_old)!&quot;&quot;}&lt;/span&gt;&lt;/p&gt; &lt;p class=&quot;info&quot;&gt; &lt;a href=&quot;http://ucenter.xuecheng.com/#/learning/${courseBase.id}/0&quot; target=&quot;_blank&quot; v-if=&quot;learnstatus == 1&quot; v-cloak&gt;&#x9A6C;&#x4E0A;&#x5B66;&#x4E60;&lt;/a&gt; &lt;a href=&quot;#&quot; @click=&quot;addopencourse&quot; v-if=&quot;learnstatus == 2&quot; v-cloak&gt;&#x7ACB;&#x5373;&#x62A5;&#x540D;&lt;/a&gt; &lt;a href=&quot;#&quot; @click=&quot;buy&quot; v-if=&quot;learnstatus == 3&quot; v-cloak&gt;&#x7ACB;&#x5373;&#x8D2D;&#x4E70;&lt;/a&gt; &lt;span&gt;&lt;em&gt;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&lt;/em&gt; &lt;#if courseBase.grade==&apos;200001&apos;&gt; &#x4F4E;&#x7EA7; &lt;#elseif courseBase.grade==&apos;200002&apos;&gt; &#x4E2D;&#x7EA7; &lt;#elseif courseBase.grade==&apos;200003&apos;&gt; &#x9AD8;&#x7EA7; &lt;/#if&gt; &lt;/span&gt; &lt;span&gt;&lt;em&gt;&#x8BFE;&#x7A0B;&#x65F6;&#x957F;&lt;/em&gt;&lt;stat v-text=&quot;course_stat.s601001&quot;&gt;&lt;/stat&gt; &lt;/span&gt; &lt;span&gt;&lt;em&gt;&#x8BC4;&#x5206;&lt;/em&gt;&lt;stat v-text=&quot;course_stat.s601002&quot;&gt;&lt;/stat&gt;&lt;/span&gt; &lt;span&gt;&lt;em&gt;&#x6388;&#x8BFE;&#x6A21;&#x5F0F;&lt;/em&gt; &lt;#if courseBase.studymodel==&apos;201001&apos;&gt; &#x81EA;&#x7531;&#x5B66;&#x4E60; &lt;#elseif courseBase.studymodel==&apos;201002&apos;&gt; &#x4EFB;&#x52A1;&#x5F0F;&#x5B66;&#x4E60; &lt;/#if&gt; &lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;banner-rit&quot;&gt; &lt;#if (coursePic.pic)??&gt; &lt;p&gt;&lt;img src=&quot;http://img.xuecheng.com/${coursePic.pic}&quot; alt=&quot;&quot; width=&quot;270&quot; height=&quot;156&quot;&gt; &lt;/p&gt; &lt;#else&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-video.png&quot; alt=&quot;&quot; width=&quot;270&quot; height=&quot;156&quot;&gt; &lt;/p&gt; &lt;/#if&gt; &lt;p class=&quot;vid-act&quot;&gt;&lt;span&gt; &lt;i class=&quot;i-heart&quot;&gt;&lt;/i&gt;&#x6536;&#x85CF; &lt;stat v-text=&quot;course_stat.s601003&quot;&gt;&lt;/stat&gt; &lt;/span&gt; &lt;span&gt;&#x5206;&#x4EAB; &lt;i class=&quot;i-weixin&quot;&gt;&lt;/i&gt;&lt;i class=&quot;i-qq&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;article-cont&quot;&gt; &lt;div class=&quot;tit-list&quot;&gt; &lt;a href=&quot;javascript:;&quot; id=&quot;articleClass&quot; class=&quot;active&quot;&gt;&#x8BFE;&#x7A0B;&#x4ECB;&#x7ECD;&lt;/a&gt; &lt;a href=&quot;javascript:;&quot; id=&quot;articleItem&quot;&gt;&#x76EE;&#x5F55;&lt;/a&gt; &lt;!--&lt;a href=&quot;javascript:;&quot; id=&quot;artcleAsk&quot;&gt;&#x95EE;&#x7B54;&lt;/a&gt;--&gt; &lt;!--&lt;div class=&quot;down-fill&quot;&gt; &lt;span&gt;&#x8D44;&#x6599;&#x4E0B;&#x8F7D;&lt;/span&gt; &lt;ul&gt; &lt;li&gt;java&#x89C6;&#x9891;&#x8D44;&#x6599;&lt;/li&gt; &lt;li&gt;java&#x89C6;&#x9891;&#x8D44;&#x6599;&lt;/li&gt; &lt;li&gt;java&#x89C6;&#x9891;&#x8D44;&#x6599;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;--&gt; &lt;/div&gt; &lt;div class=&quot;article-box&quot;&gt; &lt;div class=&quot;articleClass&quot; style=&quot;display: block&quot;&gt; &lt;!--&lt;div class=&quot;rit-title&quot;&gt;&#x8BC4;&#x4EF7;&lt;/div&gt;--&gt; &lt;div class=&quot;article-cont&quot;&gt; &lt;div class=&quot;article-left-box&quot;&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;content-com suit&quot;&gt; &lt;div class=&quot;title&quot;&gt;&lt;span&gt;&#x9002;&#x7528;&#x4EBA;&#x7FA4;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;cont cktop&quot;&gt; &lt;div &gt; &lt;p&gt;${(courseBase.users)!&quot;&quot;}&lt;/p&gt; &lt;/div&gt; &lt;!--&lt;span class=&quot;on-off&quot;&gt;&#x66F4;&#x591A; &lt;i class=&quot;i-chevron-bot&quot;&gt;&lt;/i&gt;&lt;/span&gt;--&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;content-com course&quot;&gt; &lt;div class=&quot;title&quot;&gt;&lt;span&gt;&#x8BFE;&#x7A0B;&#x5236;&#x4F5C;&lt;/span&gt;&lt;/div&gt; &lt;!--#include virtual=&quot;/teacher/teacher_info_template01.html&quot;--&gt; &lt;/div&gt; &lt;div class=&quot;content-com about&quot;&gt; &lt;div class=&quot;title&quot;&gt;&lt;span&gt;&#x8BFE;&#x7A0B;&#x4ECB;&#x7ECD;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;cont cktop&quot;&gt; &lt;div &gt; &lt;p&gt;${(courseBase.description)!&quot;&quot;}&lt;/p&gt; &lt;/div&gt; &lt;!--&lt;span class=&quot;on-off&quot;&gt;&#x66F4;&#x591A; &lt;i class=&quot;i-chevron-bot&quot;&gt;&lt;/i&gt;&lt;/span&gt;--&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;content-com prob&quot;&gt; &lt;div class=&quot;title&quot;&gt;&lt;span&gt;&#x5E38;&#x89C1;&#x95EE;&#x9898;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;cont&quot;&gt; &lt;ul&gt; &lt;li class=&quot;item&quot;&gt;&lt;span class=&quot;on-off&quot;&gt;&lt;i class=&quot;i-chevron-bot&quot;&gt;&lt;/i&gt; &#x6211;&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#x4E0E;&#x4F5C;&#x4E1A;&#xFF1F;&lt;/span&gt; &lt;div class=&quot;drop-down&quot;&gt; &lt;p&gt;&#x8BFE;&#x7A0B;&#x5B89;&#x6392;&#x7075;&#x6D3B;&#xFF0C;&#x8BFE;&#x7A0B;&#x8D39;&#x7528;&#x652F;&#x4ED8;&#x63D0;&#x4F9B;180&#x5929;&#x5168;&#x7A0B;&#x51C6;&#x5165;&#x548C;&#x8D44;&#x683C;&#x8BC1;&#x4E66;&#x3002;&#x81EA;&#x5B9A;&#x8FDB;&#x5EA6;&#x8BFE;&#x7A0B;&#x5EFA;&#x8BAE;&#x7684;&#x6700;&#x540E;&#x671F;&#x9650;&#xFF0C;&#x4F46;&#x4F60;&#x4E0D;&#x4F1A;&#x53D7;&#x5230;&#x60E9;&#x7F5A;&#x9519;&#x8FC7;&#x671F;&#x9650;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x8D5A;&#x4F60;&#x7684;&#x8BC1;&#x4E66;&#x5728;180&#x5929;&#x5185;&#x3002;&#x4EE5;&#x4F1A;&#x8BDD;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x8BFE;&#x7A0B;&#x53EF;&#x80FD;&#x8981;&#x6C42;&#x4F60;&#x5728;&#x622A;&#x6B62;&#x65E5;&#x671F;&#x524D;&#x4FDD;&#x6301;&#x6B63;&#x8F68;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x843D;&#x540E;&#x4E86;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;&#x4EE5;&#x540E;&#x7684;&#x4F1A;&#x8BAE;&#xFF0C;&#x4F60;&#x5B8C;&#x6210;&#x7684;&#x4EFB;&#x4F55;&#x5DE5;&#x4F5C;&#x5C06;&#x4E0E;&#x4F60;&#x8F6C;&#x79FB;&#x3002;&lt;/p&gt; &lt;/div&gt; &lt;/li&gt; &lt;li class=&quot;item&quot;&gt;&lt;span class=&quot;on-off&quot;&gt;&lt;i class=&quot;i-chevron-bot&quot;&gt;&lt;/i&gt; &#x5982;&#x4F55;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x65F6;&#x95F4;&#x6765;&#x5B8C;&#x6210;&#x8BFE;&#x7A0B;&#x4F1A;&#x600E;&#x4E48;&#x6837;&#xFF1F;&lt;/span&gt; &lt;div class=&quot;drop-down&quot;&gt; &lt;p&gt;&#x8BFE;&#x7A0B;&#x5B89;&#x6392;&#x7075;&#x6D3B;&#xFF0C;&#x8BFE;&#x7A0B;&#x8D39;&#x7528;&#x652F;&#x4ED8;&#x63D0;&#x4F9B;180&#x5929;&#x5168;&#x7A0B;&#x51C6;&#x5165;&#x548C;&#x8D44;&#x683C;&#x8BC1;&#x4E66;&#x3002;&#x81EA;&#x5B9A;&#x8FDB;&#x5EA6;&#x8BFE;&#x7A0B;&#x5EFA;&#x8BAE;&#x7684;&#x6700;&#x540E;&#x671F;&#x9650;&#xFF0C;&#x4F46;&#x4F60;&#x4E0D;&#x4F1A;&#x53D7;&#x5230;&#x60E9;&#x7F5A;&#x9519;&#x8FC7;&#x671F;&#x9650;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x8D5A;&#x4F60;&#x7684;&#x8BC1;&#x4E66;&#x5728;180&#x5929;&#x5185;&#x3002;&#x4EE5;&#x4F1A;&#x8BDD;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x8BFE;&#x7A0B;&#x53EF;&#x80FD;&#x8981;&#x6C42;&#x4F60;&#x5728;&#x622A;&#x6B62;&#x65E5;&#x671F;&#x524D;&#x4FDD;&#x6301;&#x6B63;&#x8F68;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x843D;&#x540E;&#x4E86;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;&#x4EE5;&#x540E;&#x7684;&#x4F1A;&#x8BAE;&#xFF0C;&#x4F60;&#x5B8C;&#x6210;&#x7684;&#x4EFB;&#x4F55;&#x5DE5;&#x4F5C;&#x5C06;&#x4E0E;&#x4F60;&#x8F6C;&#x79FB;&#x3002;&lt;/p&gt; &lt;/div&gt; &lt;/li&gt; &lt;li class=&quot;item&quot;&gt;&lt;span class=&quot;on-off&quot;&gt;&lt;i class=&quot;i-chevron-bot&quot;&gt;&lt;/i&gt; &#x6211;&#x652F;&#x4ED8;&#x6B21;&#x8BFE;&#x7A0B;&#x4E4B;&#x540E;&#x4F1A;&#x5F97;&#x5230;&#x4EC0;&#x4E48;&#xFF1F;&lt;/span&gt; &lt;div class=&quot;drop-down&quot;&gt; &lt;p&gt;&#x8BFE;&#x7A0B;&#x5B89;&#x6392;&#x7075;&#x6D3B;&#xFF0C;&#x8BFE;&#x7A0B;&#x8D39;&#x7528;&#x652F;&#x4ED8;&#x63D0;&#x4F9B;180&#x5929;&#x5168;&#x7A0B;&#x51C6;&#x5165;&#x548C;&#x8D44;&#x683C;&#x8BC1;&#x4E66;&#x3002;&#x81EA;&#x5B9A;&#x8FDB;&#x5EA6;&#x8BFE;&#x7A0B;&#x5EFA;&#x8BAE;&#x7684;&#x6700;&#x540E;&#x671F;&#x9650;&#xFF0C;&#x4F46;&#x4F60;&#x4E0D;&#x4F1A;&#x53D7;&#x5230;&#x60E9;&#x7F5A;&#x9519;&#x8FC7;&#x671F;&#x9650;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x8D5A;&#x4F60;&#x7684;&#x8BC1;&#x4E66;&#x5728;180&#x5929;&#x5185;&#x3002;&#x4EE5;&#x4F1A;&#x8BDD;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x8BFE;&#x7A0B;&#x53EF;&#x80FD;&#x8981;&#x6C42;&#x4F60;&#x5728;&#x622A;&#x6B62;&#x65E5;&#x671F;&#x524D;&#x4FDD;&#x6301;&#x6B63;&#x8F68;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x843D;&#x540E;&#x4E86;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;&#x4EE5;&#x540E;&#x7684;&#x4F1A;&#x8BAE;&#xFF0C;&#x4F60;&#x5B8C;&#x6210;&#x7684;&#x4EFB;&#x4F55;&#x5DE5;&#x4F5C;&#x5C06;&#x4E0E;&#x4F60;&#x8F6C;&#x79FB;&#x3002;&lt;/p&gt; &lt;/div&gt; &lt;/li&gt; &lt;li class=&quot;item&quot;&gt;&lt;span class=&quot;on-off&quot;&gt;&lt;i class=&quot;i-chevron-bot&quot;&gt;&lt;/i&gt; &#x9000;&#x6B3E;&#x6761;&#x4F8B;&#x662F;&#x5982;&#x4F55;&#x89C4;&#x5B9A;&#x7684;&#xFF1F;&lt;/span&gt; &lt;div class=&quot;drop-down&quot;&gt; &lt;p&gt;&#x8BFE;&#x7A0B;&#x5B89;&#x6392;&#x7075;&#x6D3B;&#xFF0C;&#x8BFE;&#x7A0B;&#x8D39;&#x7528;&#x652F;&#x4ED8;&#x63D0;&#x4F9B;180&#x5929;&#x5168;&#x7A0B;&#x51C6;&#x5165;&#x548C;&#x8D44;&#x683C;&#x8BC1;&#x4E66;&#x3002;&#x81EA;&#x5B9A;&#x8FDB;&#x5EA6;&#x8BFE;&#x7A0B;&#x5EFA;&#x8BAE;&#x7684;&#x6700;&#x540E;&#x671F;&#x9650;&#xFF0C;&#x4F46;&#x4F60;&#x4E0D;&#x4F1A;&#x53D7;&#x5230;&#x60E9;&#x7F5A;&#x9519;&#x8FC7;&#x671F;&#x9650;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x8D5A;&#x4F60;&#x7684;&#x8BC1;&#x4E66;&#x5728;180&#x5929;&#x5185;&#x3002;&#x4EE5;&#x4F1A;&#x8BDD;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x8BFE;&#x7A0B;&#x53EF;&#x80FD;&#x8981;&#x6C42;&#x4F60;&#x5728;&#x622A;&#x6B62;&#x65E5;&#x671F;&#x524D;&#x4FDD;&#x6301;&#x6B63;&#x8F68;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x843D;&#x540E;&#x4E86;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;&#x4EE5;&#x540E;&#x7684;&#x4F1A;&#x8BAE;&#xFF0C;&#x4F60;&#x5B8C;&#x6210;&#x7684;&#x4EFB;&#x4F55;&#x5DE5;&#x4F5C;&#x5C06;&#x4E0E;&#x4F60;&#x8F6C;&#x79FB;&#x3002;&lt;/p&gt; &lt;/div&gt; &lt;/li&gt; &lt;li class=&quot;item&quot;&gt;&lt;span class=&quot;on-off&quot;&gt;&lt;i class=&quot;i-chevron-bot&quot;&gt;&lt;/i&gt; &#x6709;&#x52A9;&#x5B66;&#x91D1;&#xFF1F;&lt;/span&gt; &lt;div class=&quot;drop-down&quot;&gt; &lt;p&gt;&#x8BFE;&#x7A0B;&#x5B89;&#x6392;&#x7075;&#x6D3B;&#xFF0C;&#x8BFE;&#x7A0B;&#x8D39;&#x7528;&#x652F;&#x4ED8;&#x63D0;&#x4F9B;180&#x5929;&#x5168;&#x7A0B;&#x51C6;&#x5165;&#x548C;&#x8D44;&#x683C;&#x8BC1;&#x4E66;&#x3002;&#x81EA;&#x5B9A;&#x8FDB;&#x5EA6;&#x8BFE;&#x7A0B;&#x5EFA;&#x8BAE;&#x7684;&#x6700;&#x540E;&#x671F;&#x9650;&#xFF0C;&#x4F46;&#x4F60;&#x4E0D;&#x4F1A;&#x53D7;&#x5230;&#x60E9;&#x7F5A;&#x9519;&#x8FC7;&#x671F;&#x9650;&#xFF0C;&#x53EA;&#x8981;&#x4F60;&#x8D5A;&#x4F60;&#x7684;&#x8BC1;&#x4E66;&#x5728;180&#x5929;&#x5185;&#x3002;&#x4EE5;&#x4F1A;&#x8BDD;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x8BFE;&#x7A0B;&#x53EF;&#x80FD;&#x8981;&#x6C42;&#x4F60;&#x5728;&#x622A;&#x6B62;&#x65E5;&#x671F;&#x524D;&#x4FDD;&#x6301;&#x6B63;&#x8F68;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x843D;&#x540E;&#x4E86;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5207;&#x6362;&#x5230;&#x4EE5;&#x540E;&#x7684;&#x4F1A;&#x8BAE;&#xFF0C;&#x4F60;&#x5B8C;&#x6210;&#x7684;&#x4EFB;&#x4F55;&#x5DE5;&#x4F5C;&#x5C06;&#x4E0E;&#x4F60;&#x8F6C;&#x79FB;&#x3002;&lt;/p&gt; &lt;/div&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;article-right-box&quot;&gt; &lt;div class=&quot;about-teach&quot;&gt; &lt;!--&#x673A;&#x6784;&#x4FE1;&#x606F;--&gt; &lt;!--#include virtual=&quot;/company/company_info_template.html&quot;--&gt; &lt;/div&gt; &lt;div class=&quot;learing-box&quot;&gt; &lt;div class=&quot;tit&quot;&gt;&#x770B;&#x8FC7;&#x8BE5;&#x8BFE;&#x7684;&#x540C;&#x5B66;&#x4E5F;&#x5728;&#x770B;&lt;/div&gt; &lt;div class=&quot;item-box&quot;&gt; &lt;div class=&quot;item-list hov&quot; &gt; &lt;div class=&quot;infobox&quot;&gt; &lt;div class=&quot;morebox&quot; style=&quot;background: url(/static/img/widget-titBg.png) no-repeat;&quot;&gt; &lt;p class=&quot;top-tit&quot;&gt;&lt;a href=&quot;&quot;&gt;Linux &#x8FBE;&#x4EBA;&#x517B;&#x6210;&#x8BB0;&lt;/a&gt;&lt;/p&gt; &lt;p class=&quot;top-lab&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&lt;/p&gt; &lt;p class=&quot;top-num&quot;&gt;2589646&#x6B21;&#x64AD;&#x653E;&lt;span&gt;4.8&#x5206;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;a&gt;Linux &#x8FBE;&#x4EBA;&#x517B;&#x6210;&#x8BB0;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item-list hov&quot; &gt; &lt;div class=&quot;infobox&quot;&gt; &lt;div class=&quot;morebox&quot; style=&quot;background: url(/static/img/widget-titBg.png) no-repeat;&quot;&gt; &lt;p class=&quot;top-tit&quot;&gt;&lt;a href=&quot;&quot;&gt;Redis&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&lt;/a&gt;&lt;/p&gt; &lt;p class=&quot;top-lab&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&lt;/p&gt; &lt;p class=&quot;top-num&quot;&gt;2589646&#x6B21;&#x64AD;&#x653E;&lt;span&gt;4.8&#x5206;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;a&gt;Redis&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;articleItem&quot; style=&quot;display: none&quot;&gt; &lt;div class=&quot;article-cont-catalog&quot;&gt; &lt;div class=&quot;article-left-box&quot;&gt; &lt;div class=&quot;content&quot;&gt; &lt;#if (teachplanNode.children)??&gt; &lt;#list teachplanNode.children as firstNode&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;title act&quot;&gt;&lt;i class=&quot;i-chevron-top&quot;&gt;&lt;/i&gt;${firstNode.pname}&lt;/div&gt; &lt;div class=&quot;about&quot;&gt;${firstNode.description!}&lt;/div&gt; &lt;div class=&quot;drop-down&quot; style=&quot;height: ${firstNode.children?size * 50}px;&quot;&gt; &lt;ul class=&quot;list-box&quot;&gt; &lt;#list firstNode.children as secondNode&gt; &lt;li&gt;${secondNode.pname}&lt;/li&gt; &lt;/#list&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;/#list&gt; &lt;/#if&gt; &lt;!-- &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;title act&quot;&gt;&lt;i class=&quot;i-chevron-top&quot;&gt;&lt;/i&gt;&#x8BA1;&#x7B97;&#x673A;&#x539F;&#x7406;&lt;span class=&quot;time&quot;&gt;8&#x5C0F;&#x65F6;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;about&quot;&gt;&lt;/div&gt; &lt;div class=&quot;drop-down&quot; style=&quot;height: 100px;&quot;&gt; &lt;ul class=&quot;list-box&quot;&gt; &lt;li&gt;&#x8BA1;&#x7B97;&#x673A;&#x786C;&#x4EF6; &lt;span&gt;66&#x2019;15&#x201D;&lt;/span&gt;&lt;/li&gt; &lt;li&gt;&#x8BA1;&#x7B97;&#x673A;&#x8F6F;&#x4EF6; &lt;span&gt;66&#x2019;15&#x201D;&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;title act&quot;&gt;&lt;i class=&quot;i-chevron-top&quot;&gt;&lt;/i&gt;&#x8BA1;&#x7B97;&#x673A;&#x7F16;&#x7A0B;&#x5165;&#x95E8;&lt;span class=&quot;time&quot;&gt;8&#x5C0F;&#x65F6;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;about&quot;&gt;&lt;/div&gt; &lt;div class=&quot;drop-down&quot; style=&quot;height: 100px;&quot;&gt; &lt;ul class=&quot;list-box&quot;&gt; &lt;li&gt;java&#x8BED;&#x6CD5;&#x4ECB;&#x7ECD; &lt;span&gt;66&#x2019;15&#x201D;&lt;/span&gt;&lt;/li&gt; &lt;li&gt;Hello World &lt;span&gt;66&#x2019;15&#x201D;&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;title act&quot;&gt;&lt;i class=&quot;i-chevron-top&quot;&gt;&lt;/i&gt;&#x6570;&#x636E;&#x5E93;&#x7F16;&#x7A0B;&lt;span class=&quot;time&quot;&gt;8&#x5C0F;&#x65F6;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;about&quot;&gt;&lt;/div&gt; &lt;div class=&quot;drop-down&quot; style=&quot;height: 0px;&quot;&gt; &lt;ul class=&quot;list-box&quot;&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;title act&quot;&gt;&lt;i class=&quot;i-chevron-top&quot;&gt;&lt;/i&gt;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x539F;&#x7406;&lt;span class=&quot;time&quot;&gt;8&#x5C0F;&#x65F6;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;about&quot;&gt;&lt;/div&gt; &lt;div class=&quot;drop-down&quot; style=&quot;height: 100px;&quot;&gt; &lt;ul class=&quot;list-box&quot;&gt; &lt;li&gt;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x539F;&#x7406; &lt;span&gt;66&#x2019;15&#x201D;&lt;/span&gt;&lt;/li&gt; &lt;li&gt;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7C7B;&#x578B;&#x4ECB;&#x7ECD; &lt;span&gt;66&#x2019;15&#x201D;&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; --&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;article-right-box&quot;&gt; &lt;div class=&quot;about-teach&quot;&gt; &lt;!--&#x673A;&#x6784;&#x4FE1;&#x606F;--&gt; &lt;!--#include virtual=&quot;/company/company_info_template.html&quot;--&gt; &lt;/div&gt; &lt;div class=&quot;learing-box&quot;&gt; &lt;div class=&quot;tit&quot;&gt;&#x770B;&#x8FC7;&#x8BE5;&#x8BFE;&#x7684;&#x540C;&#x5B66;&#x4E5F;&#x5728;&#x770B;&lt;/div&gt; &lt;div class=&quot;item-box&quot;&gt; &lt;div class=&quot;item-list hov&quot; &gt; &lt;div class=&quot;infobox&quot;&gt; &lt;div class=&quot;morebox&quot; style=&quot;background: url(/static/img/widget-titBg.png) no-repeat;&quot;&gt; &lt;p class=&quot;top-tit&quot;&gt;&lt;a href=&quot;&quot;&gt;Linux &#x8FBE;&#x4EBA;&#x517B;&#x6210;&#x8BB0;&lt;/a&gt;&lt;/p&gt; &lt;p class=&quot;top-lab&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&lt;/p&gt; &lt;p class=&quot;top-num&quot;&gt;2589646&#x6B21;&#x64AD;&#x653E;&lt;span&gt;4.8&#x5206;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;a&gt;Linux &#x8FBE;&#x4EBA;&#x517B;&#x6210;&#x8BB0;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item-list hov&quot; &gt; &lt;div class=&quot;infobox&quot;&gt; &lt;div class=&quot;morebox&quot; style=&quot;background: url(/static/img/widget-titBg.png) no-repeat;&quot;&gt; &lt;p class=&quot;top-tit&quot;&gt;&lt;a href=&quot;&quot;&gt;Redis&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&lt;/a&gt;&lt;/p&gt; &lt;p class=&quot;top-lab&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&lt;/p&gt; &lt;p class=&quot;top-num&quot;&gt;2589646&#x6B21;&#x64AD;&#x653E;&lt;span&gt;4.8&#x5206;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;a&gt;Redis&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;artcleAsk&quot; style=&quot;display: none&quot;&gt; &lt;div class=&quot;article-cont-ask&quot;&gt; &lt;div class=&quot;article-left-box&quot;&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;content-title&quot;&gt; &lt;p&gt;&lt;a class=&quot;all&quot;&gt;&#x5168;&#x90E8;&lt;/a&gt;&lt;a&gt;&#x7CBE;&#x9009;&lt;/a&gt;&lt;a&gt;&#x6211;&#x7684;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;&lt;a class=&quot;all&quot;&gt;&#x5168;&#x90E8;&lt;/a&gt;&lt;span&gt;&lt;a&gt;1.1&lt;/a&gt;&lt;a&gt;1.2&lt;/a&gt;&lt;a&gt;1.3&lt;/a&gt;&lt;a&gt;1.4&lt;/a&gt;&lt;a&gt;1.5&lt;/a&gt;&lt;/span&gt;&lt;a href=&quot;$&quot; class=&quot;more&quot;&gt;&#x66F4;&#x591A; &lt;i class=&quot;i-chevron-bot&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-myImg.jpg&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-right&quot;&gt; &lt;p class=&quot;title&quot;&gt;&#x5982;&#x4F55;&#x7528;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;?&lt;/p&gt; &lt;p&gt;&lt;span&gt;&#x6211;&#x6765;&#x56DE;&#x7B54;&lt;/span&gt;&lt;/p&gt; &lt;p&gt;2017-3-20 &lt;span&gt;&lt;i&gt;&lt;/i&gt;&#x56DE;&#x7B54;2&lt;/span&gt;&lt;span&gt;&lt;i&gt;&lt;/i&gt;&#x6D4F;&#x89C8;2&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-myImg.jpg&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-right&quot;&gt; &lt;p class=&quot;title&quot;&gt;&#x5982;&#x4F55;&#x7528;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;?&lt;/p&gt; &lt;p&gt;&#x5728;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x5C06;&#x91CD;&#x6784;&#x8F6C;&#x5316;&#x4E3A;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x9000;&#x540E;&#x4E00;&#x6B65;&#xFF0C;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x65F6;&#x95F4;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x3002;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x8981;&#x70B9;&#x5C06;&#x4F1A;&#x5BF9;&#x4EFB;&#x4F55;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x7B56;&#x7565;&#x4EA7;&#x751F;&#x91CD;&#x5927;&#x5F71;&#x54CD;&#x3002; &#x3010;&#x6700;&#x65B0; &lt;i class=&quot;new&quot;&gt;&#x5FC3;&#x8DF3;347890&lt;/i&gt; &#x7684;&#x56DE;&#x7B54;&#x3011;&lt;/p&gt; &lt;p&gt;2017-3-20 &lt;span class=&quot;action-box&quot;&gt;&lt;span&gt;&lt;i class=&quot;i-answer&quot;&gt;&lt;/i&gt;&#x56DE;&#x7B54; 2&lt;/span&gt;&lt;span&gt;&lt;i class=&quot;i-browse&quot;&gt;&lt;/i&gt;&#x6D4F;&#x89C8; 12&lt;/span&gt;&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-myImg.jpg&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-right&quot;&gt; &lt;p class=&quot;title&quot;&gt;&#x5982;&#x4F55;&#x7528;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;?&lt;/p&gt; &lt;p&gt;&#x5728;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x5C06;&#x91CD;&#x6784;&#x8F6C;&#x5316;&#x4E3A;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x9000;&#x540E;&#x4E00;&#x6B65;&#xFF0C;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x65F6;&#x95F4;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x3002;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x8981;&#x70B9;&#x5C06;&#x4F1A;&#x5BF9;&#x4EFB;&#x4F55;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x7B56;&#x7565;&#x4EA7;&#x751F;&#x91CD;&#x5927;&#x5F71;&#x54CD;&#x3002; &#x3010;&#x6700;&#x65B0; &lt;i class=&quot;new&quot;&gt;&#x5FC3;&#x8DF3;347890&lt;/i&gt; &#x7684;&#x56DE;&#x7B54;&#x3011;&lt;/p&gt; &lt;p&gt;2017-3-20 &lt;span class=&quot;action-box&quot;&gt;&lt;span&gt;&lt;i class=&quot;i-answer&quot;&gt;&lt;/i&gt;&#x56DE;&#x7B54; 2&lt;/span&gt;&lt;span&gt;&lt;i class=&quot;i-browse&quot;&gt;&lt;/i&gt;&#x6D4F;&#x89C8; 12&lt;/span&gt;&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-myImg.jpg&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-right&quot;&gt; &lt;p class=&quot;title&quot;&gt;&#x5982;&#x4F55;&#x7528;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;?&lt;/p&gt; &lt;p&gt;&#x5728;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x5C06;&#x91CD;&#x6784;&#x8F6C;&#x5316;&#x4E3A;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x9000;&#x540E;&#x4E00;&#x6B65;&#xFF0C;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x65F6;&#x95F4;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x3002;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x8981;&#x70B9;&#x5C06;&#x4F1A;&#x5BF9;&#x4EFB;&#x4F55;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x7B56;&#x7565;&#x4EA7;&#x751F;&#x91CD;&#x5927;&#x5F71;&#x54CD;&#x3002; &#x3010;&#x6700;&#x65B0; &lt;i class=&quot;new&quot;&gt;&#x5FC3;&#x8DF3;347890&lt;/i&gt; &#x7684;&#x56DE;&#x7B54;&#x3011;&lt;/p&gt; &lt;p&gt;2017-3-20 &lt;span class=&quot;action-box&quot;&gt;&lt;span&gt;&lt;i class=&quot;i-answer&quot;&gt;&lt;/i&gt;&#x56DE;&#x7B54; 2&lt;/span&gt;&lt;span&gt;&lt;i class=&quot;i-browse&quot;&gt;&lt;/i&gt;&#x6D4F;&#x89C8; 12&lt;/span&gt;&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-myImg.jpg&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-right&quot;&gt; &lt;p class=&quot;title&quot;&gt;&#x5982;&#x4F55;&#x7528;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;?&lt;/p&gt; &lt;p&gt;&#x5728;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x5C06;&#x91CD;&#x6784;&#x8F6C;&#x5316;&#x4E3A;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x9000;&#x540E;&#x4E00;&#x6B65;&#xFF0C;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x65F6;&#x95F4;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x3002;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x8981;&#x70B9;&#x5C06;&#x4F1A;&#x5BF9;&#x4EFB;&#x4F55;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x7B56;&#x7565;&#x4EA7;&#x751F;&#x91CD;&#x5927;&#x5F71;&#x54CD;&#x3002; &#x3010;&#x6700;&#x65B0; &lt;i class=&quot;new&quot;&gt;&#x5FC3;&#x8DF3;347890&lt;/i&gt; &#x7684;&#x56DE;&#x7B54;&#x3011;&lt;/p&gt; &lt;p&gt;2017-3-20 &lt;span class=&quot;action-box&quot;&gt;&lt;span&gt;&lt;i class=&quot;i-answer&quot;&gt;&lt;/i&gt;&#x56DE;&#x7B54; 2&lt;/span&gt;&lt;span&gt;&lt;i class=&quot;i-browse&quot;&gt;&lt;/i&gt;&#x6D4F;&#x89C8; 12&lt;/span&gt;&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-myImg.jpg&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-right&quot;&gt; &lt;p class=&quot;title&quot;&gt;&#x5982;&#x4F55;&#x7528;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;?&lt;/p&gt; &lt;p&gt;&#x5728;&#x8BA8;&#x8BBA;&#x5982;&#x4F55;&#x5C06;&#x91CD;&#x6784;&#x8F6C;&#x5316;&#x4E3A;&#x5FAE;&#x670D;&#x52A1;&#x4E4B;&#x524D;&#xFF0C;&#x9000;&#x540E;&#x4E00;&#x6B65;&#xFF0C;&#x4ED4;&#x7EC6;&#x89C2;&#x5BDF;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x65F6;&#x95F4;&#x662F;&#x5F88;&#x91CD;&#x8981;&#x7684;&#x3002;&#x4EE5;&#x4E0B;&#x4E24;&#x4E2A;&#x8981;&#x70B9;&#x5C06;&#x4F1A;&#x5BF9;&#x4EFB;&#x4F55;&#x5FAE;&#x670D;&#x52A1;&#x91CD;&#x6784;&#x7B56;&#x7565;&#x4EA7;&#x751F;&#x91CD;&#x5927;&#x5F71;&#x54CD;&#x3002; &#x3010;&#x6700;&#x65B0; &lt;i class=&quot;new&quot;&gt;&#x5FC3;&#x8DF3;347890&lt;/i&gt; &#x7684;&#x56DE;&#x7B54;&#x3011;&lt;/p&gt; &lt;p&gt;2017-3-20 &lt;span class=&quot;action-box&quot;&gt;&lt;span&gt;&lt;i class=&quot;i-answer&quot;&gt;&lt;/i&gt;&#x56DE;&#x7B54; 2&lt;/span&gt;&lt;span&gt;&lt;i class=&quot;i-browse&quot;&gt;&lt;/i&gt;&#x6D4F;&#x89C8; 12&lt;/span&gt;&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;itemlast&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;overwrite&quot;&gt;&#x663E;&#x793A;&#x66F4;&#x591A;&#x95EE;&#x9898;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;article-right-box&quot;&gt; &lt;div class=&quot;about-teach&quot;&gt; &lt;div class=&quot;teach-info&quot;&gt; &lt;!--&#x673A;&#x6784;logo--&gt; &lt;img src=&quot;/static/img/asset-logo.png&quot; width=&quot;40px&quot; alt=&quot;&quot;&gt; &lt;p&gt;&#x5317;&#x4EAC;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x6559;&#x80B2;&#x96C6;&#x56E2;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;teach-info&quot;&gt; &lt;ul class=&quot;tree-list&quot;&gt; &lt;li&gt;&lt;p class=&quot;item-tt&quot;&gt;&#x597D;&#x8BC4;&#x5EA6;&lt;/p&gt;&lt;span class=&quot;item-num&quot;&gt; 97% &lt;/span&gt;&lt;/li&gt; &lt;li&gt;&lt;p class=&quot;item-tt&quot;&gt;&#x8BFE;&#x7A0B;&#x6570;&lt;/p&gt;&lt;span class=&quot;item-num js-item-num&quot; &gt;234&lt;/span&gt;&lt;/li&gt; &lt;li&gt;&lt;p class=&quot;item-tt&quot;&gt;&#x5B66;&#x751F;&#x6570;&lt;/p&gt;&lt;span class=&quot;item-num js-item-num&quot; &gt;78383&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;teach-info&quot;&gt; &lt;p&gt;&lt;a href=&quot;#&quot; class=&quot;courselist_link&quot;&gt;TA&#x7684;&#x8BFE;&#x7A0B;&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;p class=&quot;synopsis&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x662F;&#x4E00;&#x5BB6;&#x4E13;&#x95E8;&#x81F4;&#x529B;&#x4E8E;&#x9AD8;&#x7D20;&#x8D28;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x4EBA;&#x624D;&#x57F9;&#x517B;&#x7684;&#x9AD8;&#x79D1;&#x6280;&#x516C;&#x53F8;&#x3002;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x81F4;&#x529B;&#x4E8E;&#x4E3A;&#x4F01;&#x4E1A;&#x4F18;&#x9009;&#x4E00;&#x6D41;&#x7684;&#x4EBA;&#x624D;&#x7684;&#x57F9;&#x8BAD;&#x7406;&#x5FF5;&#xFF0C;&#x4EE5;&#x201C;&#x5B66;&#x5458;&#x81EA;&#x5B66;&#x5165;&#x95E8;&#x6559;&#x7A0B;&#xFF0C;&#x901A;&#x8FC7;&#x57FA;&#x7840;&#x8003;&#x6838;&#x540E;&#x8FDB;&#x884C;&#x5F3A;&#x5316;&#x57F9;&#x8BAD;&#x201D;&#x4E3A;&#x62DB;&#x751F;&#x539F;&#x5219;&#xFF0C;&#x4EE5;&#x201C;&#x9488;&#x5BF9;&#x4F01;&#x4E1A;&#x9700;&#x6C42;&#xFF0C;&#x91CD;&#x89C6;&#x57FA;&#x7840;&#x7406;&#x8BBA;&#x5EFA;&#x8BBE;&#xFF0C;&#x5F3A;&#x5316;&#x9AD8;&#x7AEF;&#x5E94;&#x7528;&#x6280;&#x80FD;&#x201D;&#x4E3A;&#x6559;&#x5B66;&#x76EE;&#x6807;&#xFF0C;&#x4EE5;&#x201C;&#x9AD8;&#x85AA;&#x4FDD;&#x8BC1;&#x5F3A;&#x5927;&#x7684;&#x8D44;&#x6DF1;&#x6559;&#x80B2;&#x56E2;&#x961F;&#x201D;&#x4E3A;&#x6559;&#x5B66;&#x540E;&#x76FE;&#xFF0C;&#x5F7B;&#x5E95;&#x89E3;&#x51B3;&#x6240;&#x6709;&#x57F9;&#x8BAD;&#x5B66;&#x5458;&#x7684;&#x540E;&#x987E;&#x4E4B;&#x5FE7;&#xFF0C;&#x5E76;&#x89E3;&#x51B3;&#x7528;&#x4EBA;&#x4F01;&#x4E1A;&#x96BE;&#x4EE5;&#x62DB;&#x8058;&#x5230;&#x5408;&#x683C;&#x4EBA;&#x624D;&#x7684;&#x56F0;&#x6270;&#x3002;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;learing-box&quot;&gt; &lt;div class=&quot;tit&quot;&gt;&#x770B;&#x8FC7;&#x8BE5;&#x8BFE;&#x7684;&#x540C;&#x5B66;&#x4E5F;&#x5728;&#x770B;&lt;/div&gt; &lt;div class=&quot;item-box&quot;&gt; &lt;div class=&quot;item-list hov&quot; &gt; &lt;div class=&quot;infobox&quot;&gt; &lt;div class=&quot;morebox&quot; style=&quot;background: url(/static/img/widget-titBg.png) no-repeat;&quot;&gt; &lt;p class=&quot;top-tit&quot;&gt;&lt;a href=&quot;&quot;&gt;Linux &#x8FBE;&#x4EBA;&#x517B;&#x6210;&#x8BB0;&lt;/a&gt;&lt;/p&gt; &lt;p class=&quot;top-lab&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&lt;/p&gt; &lt;p class=&quot;top-num&quot;&gt;2589646&#x6B21;&#x64AD;&#x653E;&lt;span&gt;4.8&#x5206;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;a&gt;Linux &#x8FBE;&#x4EBA;&#x517B;&#x6210;&#x8BB0;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item-list hov&quot; &gt; &lt;div class=&quot;infobox&quot;&gt; &lt;div class=&quot;morebox&quot; style=&quot;background: url(/static/img/widget-titBg.png) no-repeat;&quot;&gt; &lt;p class=&quot;top-tit&quot;&gt;&lt;a href=&quot;&quot;&gt;Redis&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&lt;/a&gt;&lt;/p&gt; &lt;p class=&quot;top-lab&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&lt;/p&gt; &lt;p class=&quot;top-num&quot;&gt;2589646&#x6B21;&#x64AD;&#x653E;&lt;span&gt;4.8&#x5206;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;a&gt;Redis&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;artcleCod&quot; style=&quot;display: none;&quot;&gt; &lt;div class=&quot;article-cont&quot;&gt; &lt;div class=&quot;article-left-box&quot;&gt; &lt;div class=&quot;comment-box&quot;&gt; &lt;div class=&quot;evaluate&quot;&gt; &lt;div class=&quot;eva-top&quot;&gt; &lt;div class=&quot;tit&quot;&gt;&#x8BFE;&#x7A0B;&#x8BC4;&#x5206; &lt;/div&gt; &lt;div class=&quot;star&quot;&gt; &lt;div class=&quot;score&quot;&gt;&lt;i&gt;5&lt;/i&gt;&lt;/div&gt; &lt;/div&gt;&lt;span class=&quot;star-score&quot;&gt; &lt;i&gt;5&lt;/i&gt; &#x5206;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;eva-cont&quot;&gt; &lt;div class=&quot;tit&quot;&gt;&#x5B66;&#x5458;&#x8BC4;&#x8BED; &lt;/div&gt; &lt;div class=&quot;text-box&quot;&gt; &lt;textarea class=&quot;form-control&quot; rows=&quot;5&quot; placeholder=&quot;&#x626F;&#x6DE1;&#x3001;&#x5410;&#x69FD;&#x3001;&#x8868;&#x626C;&#x3001;&#x9F13;&#x52B1;......&#x60F3;&#x8BF4;&#x5565;&#x8BF4;&#x5565;&#xFF01;&quot;&gt;&lt;/textarea&gt; &lt;div class=&quot;text-right&quot;&gt;&lt;span&gt;&#x53D1;&#x8868;&#x8BC4;&#x8BBA;&lt;/span&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;course-evaluate&quot;&gt; &lt;div class=&quot;top-tit&quot;&gt;&#x8BC4;&#x8BBA; &lt;span&gt; &lt;label&gt;&lt;input name=&quot;eval&quot; type=&quot;radio&quot; value=&quot;&quot; checked /&gt; &#x6240;&#x6709;&#x5B66;&#x751F; &lt;/label&gt; &lt;label&gt;&lt;input name=&quot;eval&quot; type=&quot;radio&quot; value=&quot;&quot; /&gt; &#x5B8C;&#x6210;&#x8005; &lt;/label&gt; &lt;/span&gt; &lt;/div&gt; &lt;div class=&quot;top-cont&quot;&gt; &lt;div class=&quot;cont-top-left&quot;&gt; &lt;div class=&quot;star-scor&quot;&gt; &lt;div class=&quot;star-show&quot;&gt; &lt;div class=&quot;score&quot;&gt;&lt;i&gt;5&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;scor&quot;&gt;4.9&#x5206;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;all-scor&quot;&gt;&#x603B;&#x8BC4;&#x5206;&#xFF1A;12343&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;cont-top-right&quot;&gt; &lt;div class=&quot;star-grade&quot;&gt;&#x4E94;&#x661F; &lt;div class=&quot;grade&quot;&gt; &lt;div class=&quot;grade-percent&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;percent-num&quot;&gt;&lt;i&gt;95&lt;/i&gt;%&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;star-grade&quot;&gt;&#x56DB;&#x661F; &lt;div class=&quot;grade&quot;&gt; &lt;div class=&quot;grade-percent&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;percent-num&quot;&gt;&lt;i&gt;5&lt;/i&gt;%&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;star-grade&quot;&gt;&#x4E09;&#x661F; &lt;div class=&quot;grade&quot;&gt; &lt;div class=&quot;grade-percent&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;percent-num&quot;&gt;&lt;i&gt;0&lt;/i&gt;%&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;star-grade&quot;&gt;&#x4E8C;&#x661F; &lt;div class=&quot;grade&quot;&gt; &lt;div class=&quot;grade-percent&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;percent-num&quot;&gt;&lt;i&gt;2&lt;/i&gt;%&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;star-grade&quot;&gt;&#x4E00;&#x661F; &lt;div class=&quot;grade&quot;&gt; &lt;div class=&quot;grade-percent&quot;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;percent-num&quot;&gt;&lt;i&gt;1&lt;/i&gt;%&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;comment-item-box&quot;&gt; &lt;div class=&quot;title&quot;&gt;&#x8BC4;&#x8BBA; &lt;span&gt;12453&#x6761;&#x8BC4;&#x8BBA;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-pic.png&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-cent&quot;&gt; &lt;p&gt;&#x5F88;&#x53D7;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x6DF1;&#x5165;&#x4E0B;&#x5C31;&#x66F4;&#x597D;&#x4E86;&#x3002;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&lt;/p&gt; &lt;p class=&quot;time&quot;&gt;2017-2-43&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-rit&quot;&gt; &lt;p&gt; &lt;div class=&quot;star-show&quot;&gt; &lt;div class=&quot;score&quot;&gt;&lt;i&gt;4&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/p&gt; &lt;p&gt;&#x8BC4;&#x5206; &lt;span&gt;5&#x661F;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-pic.png&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-cent&quot;&gt; &lt;p&gt;&#x5F88;&#x53D7;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x6DF1;&#x5165;&#x4E0B;&#x5C31;&#x66F4;&#x597D;&#x4E86;&#x3002;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&lt;/p&gt; &lt;p class=&quot;time&quot;&gt;2017-2-43&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-rit&quot;&gt; &lt;p&gt; &lt;div class=&quot;star-show&quot;&gt; &lt;div class=&quot;score&quot;&gt;&lt;i&gt;5&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/p&gt; &lt;p&gt;&#x8BC4;&#x5206; &lt;span&gt;5&#x661F;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-pic.png&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-cent&quot;&gt; &lt;p&gt;&#x5F88;&#x53D7;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x6DF1;&#x5165;&#x4E0B;&#x5C31;&#x66F4;&#x597D;&#x4E86;&#x3002;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&lt;/p&gt; &lt;p class=&quot;time&quot;&gt;2017-2-43&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-rit&quot;&gt; &lt;p&gt; &lt;div class=&quot;star-show&quot;&gt; &lt;div class=&quot;score&quot;&gt;&lt;i&gt;5&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/p&gt; &lt;p&gt;&#x8BC4;&#x5206; &lt;span&gt;5&#x661F;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;item-left&quot;&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-pic.png&quot; width=&quot;60px&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;p&gt;&#x6BDB;&#x8001;&#x5E08;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-cent&quot;&gt; &lt;p&gt;&#x5F88;&#x53D7;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x6DF1;&#x5165;&#x4E0B;&#x5C31;&#x66F4;&#x597D;&#x4E86;&#x3002;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&#x867D;&#x7136;&#x90FD;&#x662F;&#x5165;&#x95E8;&#x7EA7;&#x522B;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x4E5F;&#x5F88;&#x4F7F;&#x7528;&#xFF0C;&#x540E;&#x7EED;&#x5C31;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53D1;&#x6325;&#x4E86;&#xFF01;&lt;/p&gt; &lt;p class=&quot;time&quot;&gt;2017-2-43&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;item-rit&quot;&gt; &lt;p&gt; &lt;div class=&quot;star-show&quot;&gt; &lt;div class=&quot;score&quot;&gt;&lt;i&gt;5&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/p&gt; &lt;p&gt;&#x8BC4;&#x5206; &lt;span&gt;5&#x661F;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;get-more&quot;&gt;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x4E2D;...&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;article-right-box&quot;&gt; &lt;div class=&quot;about-teach&quot;&gt; &lt;div class=&quot;teach-info&quot;&gt; &lt;!--&#x673A;&#x6784;logo--&gt; &lt;img src=&quot;/static/img/asset-logo.png&quot; width=&quot;40px&quot; alt=&quot;&quot;&gt; &lt;p&gt;&#x5317;&#x4EAC;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x6559;&#x80B2;&#x96C6;&#x56E2;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;teach-info&quot;&gt; &lt;ul class=&quot;tree-list&quot;&gt; &lt;li&gt;&lt;p class=&quot;item-tt&quot;&gt;&#x597D;&#x8BC4;&#x5EA6;&lt;/p&gt;&lt;span class=&quot;item-num&quot;&gt; 97% &lt;/span&gt;&lt;/li&gt; &lt;li&gt;&lt;p class=&quot;item-tt&quot;&gt;&#x8BFE;&#x7A0B;&#x6570;&lt;/p&gt;&lt;span class=&quot;item-num js-item-num&quot; &gt;234&lt;/span&gt;&lt;/li&gt; &lt;li&gt;&lt;p class=&quot;item-tt&quot;&gt;&#x5B66;&#x751F;&#x6570;&lt;/p&gt;&lt;span class=&quot;item-num js-item-num&quot; &gt;78383&lt;/span&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div class=&quot;teach-info&quot;&gt; &lt;p&gt;&lt;a href=&quot;#&quot; class=&quot;courselist_link&quot;&gt;TA&#x7684;&#x8BFE;&#x7A0B;&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;p class=&quot;synopsis&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x662F;&#x4E00;&#x5BB6;&#x4E13;&#x95E8;&#x81F4;&#x529B;&#x4E8E;&#x9AD8;&#x7D20;&#x8D28;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x4EBA;&#x624D;&#x57F9;&#x517B;&#x7684;&#x9AD8;&#x79D1;&#x6280;&#x516C;&#x53F8;&#x3002;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x81F4;&#x529B;&#x4E8E;&#x4E3A;&#x4F01;&#x4E1A;&#x4F18;&#x9009;&#x4E00;&#x6D41;&#x7684;&#x4EBA;&#x624D;&#x7684;&#x57F9;&#x8BAD;&#x7406;&#x5FF5;&#xFF0C;&#x4EE5;&#x201C;&#x5B66;&#x5458;&#x81EA;&#x5B66;&#x5165;&#x95E8;&#x6559;&#x7A0B;&#xFF0C;&#x901A;&#x8FC7;&#x57FA;&#x7840;&#x8003;&#x6838;&#x540E;&#x8FDB;&#x884C;&#x5F3A;&#x5316;&#x57F9;&#x8BAD;&#x201D;&#x4E3A;&#x62DB;&#x751F;&#x539F;&#x5219;&#xFF0C;&#x4EE5;&#x201C;&#x9488;&#x5BF9;&#x4F01;&#x4E1A;&#x9700;&#x6C42;&#xFF0C;&#x91CD;&#x89C6;&#x57FA;&#x7840;&#x7406;&#x8BBA;&#x5EFA;&#x8BBE;&#xFF0C;&#x5F3A;&#x5316;&#x9AD8;&#x7AEF;&#x5E94;&#x7528;&#x6280;&#x80FD;&#x201D;&#x4E3A;&#x6559;&#x5B66;&#x76EE;&#x6807;&#xFF0C;&#x4EE5;&#x201C;&#x9AD8;&#x85AA;&#x4FDD;&#x8BC1;&#x5F3A;&#x5927;&#x7684;&#x8D44;&#x6DF1;&#x6559;&#x80B2;&#x56E2;&#x961F;&#x201D;&#x4E3A;&#x6559;&#x5B66;&#x540E;&#x76FE;&#xFF0C;&#x5F7B;&#x5E95;&#x89E3;&#x51B3;&#x6240;&#x6709;&#x57F9;&#x8BAD;&#x5B66;&#x5458;&#x7684;&#x540E;&#x987E;&#x4E4B;&#x5FE7;&#xFF0C;&#x5E76;&#x89E3;&#x51B3;&#x7528;&#x4EBA;&#x4F01;&#x4E1A;&#x96BE;&#x4EE5;&#x62DB;&#x8058;&#x5230;&#x5408;&#x683C;&#x4EBA;&#x624D;&#x7684;&#x56F0;&#x6270;&#x3002;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;learing-box&quot;&gt; &lt;div class=&quot;tit&quot;&gt;&#x770B;&#x8FC7;&#x8BE5;&#x8BFE;&#x7684;&#x540C;&#x5B66;&#x4E5F;&#x5728;&#x770B;&lt;/div&gt; &lt;div class=&quot;item-box&quot;&gt; &lt;div class=&quot;item-list hov&quot; &gt; &lt;div class=&quot;infobox&quot;&gt; &lt;div class=&quot;morebox&quot; style=&quot;background: url(/static/img/widget-titBg.png) no-repeat;&quot;&gt; &lt;p class=&quot;top-tit&quot;&gt;&lt;a href=&quot;&quot;&gt;Linux &#x8FBE;&#x4EBA;&#x517B;&#x6210;&#x8BB0;&lt;/a&gt;&lt;/p&gt; &lt;p class=&quot;top-lab&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&lt;/p&gt; &lt;p class=&quot;top-num&quot;&gt;2589646&#x6B21;&#x64AD;&#x653E;&lt;span&gt;4.8&#x5206;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;a&gt;Linux &#x8FBE;&#x4EBA;&#x517B;&#x6210;&#x8BB0;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;item-list hov&quot; &gt; &lt;div class=&quot;infobox&quot;&gt; &lt;div class=&quot;morebox&quot; style=&quot;background: url(/static/img/widget-titBg.png) no-repeat;&quot;&gt; &lt;p class=&quot;top-tit&quot;&gt;&lt;a href=&quot;&quot;&gt;Redis&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&lt;/a&gt;&lt;/p&gt; &lt;p class=&quot;top-lab&quot;&gt;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&lt;/p&gt; &lt;p class=&quot;top-num&quot;&gt;2589646&#x6B21;&#x64AD;&#x653E;&lt;span&gt;4.8&#x5206;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;a&gt;Redis&#x4ECE;&#x5165;&#x95E8;&#x5230;&#x7CBE;&#x901A;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;popup-box&quot; style=&quot;display: none&quot;&gt; &lt;div class=&quot;mask&quot;&gt;&lt;/div&gt; &lt;!--&#x6B22;&#x8FCE;&#x8BBF;&#x95EE;&#x8BFE;&#x7A0B;&#x5F39;&#x7A97;- start --&gt; &lt;!-- &lt;div class=&quot;popup-course-box&quot;&gt; &lt;div class=&quot;title&quot;&gt;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x8BED;&#x8A00; &lt;span class=&quot;close-popup&quot;&gt;&#xD7;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt; &lt;p&gt;&#x6B22;&#x8FCE;&#x5B66;&#x4E60;&#x672C;&#x8BFE;&#x7A0B;&#xFF0C;&#x60A8;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x8BFE;&#x7A0B;&#x6750;&#x6599;&#x4E86;&#x3002;&lt;/p&gt; &lt;p&gt;&lt;a href=&quot;#&quot;&gt;&#x5F00;&#x59CB;&#x5B66;&#x4E60;&lt;/a&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt;--&gt; &lt;!--&#x6B22;&#x8FCE;&#x8BBF;&#x95EE;&#x8BFE;&#x7A0B;&#x5F39;&#x7A97;- end --&gt; &lt;!--&#x652F;&#x4ED8;&#x5F39;&#x7A97;- start --&gt; &lt;div class=&quot;popup-pay-box&quot;&gt; &lt;div class=&quot;title&quot;&gt;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6; &lt;span class=&quot;close-popup&quot;&gt;&#xD7;&lt;/span&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt; &lt;img src=&quot;./text.png&quot; alt=&quot;&quot;&gt; &lt;div class=&quot;info&quot;&gt; &lt;p class=&quot;info-tit&quot;&gt;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6; &lt;span&gt;&#x8BFE;&#x7A0B;&#x6709;&#x6548;&#x671F;:2017&#x5E74;9&#x6708;12&#x65E5;-2018&#x5E74;9&#x6708;11&#x65E5;&lt;/span&gt;&lt;/p&gt; &lt;p class=&quot;info-pic&quot;&gt;&#x8BFE;&#x7A0B;&#x4EF7;&#x683C; : &lt;span&gt;&#xFFE5;98&lt;/span&gt;&lt;/p&gt; &lt;p class=&quot;info-new-pic&quot;&gt;&#x4F18;&#x60E0;&#x4EF7;&#x683C; : &lt;span&gt;&#xFFE5;98&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- &lt;div class=&quot;fact-pic&quot;&gt;&#x5B9E;&#x9645;&#x652F;&#x4ED8;: &lt;span&gt;&#xFFE5;999&lt;/span&gt;&lt;/div&gt;--&gt; &lt;div class=&quot;go-pay&quot;&gt;&lt;a href=&quot;#&quot; @click=&quot;createOrder&quot; :loading=&quot;editLoading&quot;&gt; &#x786E;&#x8BA4;&#x65E0;&#x8BEF;&#xFF0C;&#x63D0;&#x4EA4;&#x8BA2;&#x5355;&lt;/a&gt;&lt;!--&lt;a class=&quot;addCar&quot; href=&quot;&quot;&gt;&#x52A0;&#x5165;&#x8D2D;&#x7269;&#x8F66;&lt;/a&gt;--&gt;&lt;/div&gt; &lt;/div&gt; &lt;!--&#x652F;&#x4ED8;&#x5F39;&#x7A97;- end --&gt; &lt;div class=&quot;popup-comment-box&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- &#x9875;&#x9762;&#x5E95;&#x90E8; --&gt; &lt;!--&#x5E95;&#x90E8;&#x7248;&#x6743;--&gt; &lt;!--#include virtual=&quot;/include/footer.html&quot;--&gt; &lt;!--&#x5E95;&#x90E8;&#x7248;&#x6743;--&gt; &lt;/div&gt; &lt;script&gt;var courseId = &quot;${courseBase.id}&quot;&lt;/script&gt; &lt;!--#include virtual=&quot;/include/course_detail_dynamic.html&quot;--&gt; &lt;/body&gt; &lt;/html&gt; &#x8BFE;&#x7A0B;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF1A; &lt;div class=&quot;banner-left&quot;&gt; &lt;p class=&quot;tit&quot;&gt;${courseBase.name}&lt;/p&gt; &lt;p class=&quot;pic&quot;&gt;&lt;span class=&quot;new-pic&quot;&gt;&#x7279;&#x60E0;&#x4EF7;&#x683C;&#xFFE5;${courseMarket.price}&lt;/span&gt; &lt;span class=&quot;old-pic&quot;&gt;&#x539F;&#x4EF7;&#xFFE5;${courseMarket.price_old!}&lt;/span&gt;&lt;/p&gt; &lt;p class=&quot;info&quot;&gt; &lt;a href=&quot;http://ucenter.xuecheng.com/#/learning/${courseBase.id}/0&quot; target=&quot;_blank&quot; v-if=&quot;learnstatus == 1&quot; v-cloak&gt;&#x9A6C;&#x4E0A;&#x5B66;&#x4E60;&lt;/a&gt; &lt;a href=&quot;#&quot; @click=&quot;addopencourse&quot; v-if=&quot;learnstatus == 2&quot; v-cloak&gt;&#x7ACB;&#x5373;&#x62A5;&#x540D;&lt;/a&gt; &lt;a href=&quot;#&quot; @click=&quot;buy&quot; v-if=&quot;learnstatus == 3&quot; v-cloak&gt;&#x7ACB;&#x5373;&#x8D2D;&#x4E70;&lt;/a&gt; &lt;span&gt;&lt;em&gt;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&lt;/em&gt; &lt;#if courseBase.grade==&apos;200001&apos;&gt; &#x4F4E;&#x7EA7; &lt;#elseif courseBase.grade==&apos;200002&apos;&gt; &#x4E2D;&#x7EA7; &lt;#elseif courseBase.grade==&apos;200003&apos;&gt; &#x9AD8;&#x7EA7; &lt;/#if&gt; &lt;/span&gt; &lt;span&gt;&lt;em&gt;&#x8BFE;&#x7A0B;&#x65F6;&#x957F;&lt;/em&gt;&lt;stat v-text=&quot;course_stat.s601001&quot;&gt;&lt;/stat&gt; &lt;/span&gt; &lt;span&gt;&lt;em&gt;&#x8BC4;&#x5206;&lt;/em&gt;&lt;stat v-text=&quot;course_stat.s601002&quot;&gt;&lt;/stat&gt;&lt;/span&gt; &lt;span&gt;&lt;em&gt;&#x6388;&#x8BFE;&#x6A21;&#x5F0F;&lt;/em&gt; &lt;#if courseBase.studymodel==&apos;201001&apos;&gt; &#x81EA;&#x7531;&#x5B66;&#x4E60; &lt;#elseif courseBase.studymodel==&apos;201002&apos;&gt; &#x4EFB;&#x52A1;&#x5F0F;&#x5B66;&#x4E60; &lt;/#if&gt; &lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;banner-rit&quot;&gt; &lt;#if coursePic.pic??&gt; &lt;p&gt;&lt;img src=&quot;http://img.xuecheng.com/${coursePic.pic}&quot; alt=&quot;&quot; width=&quot;270&quot; height=&quot;156&quot;&gt; &lt;/p&gt; &lt;#else&gt; &lt;p&gt;&lt;img src=&quot;/static/img/widget-video.png&quot; alt=&quot;&quot; width=&quot;270&quot; height=&quot;156&quot;&gt; &lt;/p&gt; &lt;/#if&gt; &lt;p class=&quot;vid-act&quot;&gt;&lt;span&gt; &lt;i class=&quot;i-heart&quot;&gt;&lt;/i&gt;&#x6536;&#x85CF; &lt;stat v-text=&quot;course_stat.s601003&quot;&gt;&lt;/stat&gt; &lt;/span&gt; &lt;span&gt;&#x5206;&#x4EAB; &lt;i class=&quot;i-weixin&quot;&gt;&lt;/i&gt;&lt;i class=&quot;i-qq&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/p&gt; &lt;/div&gt; &#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#xFF1A; &lt;div class=&quot;content&quot;&gt; &lt;#if teachplanNode.children??&gt; &lt;#list teachplanNode.children as firstNode&gt; &lt;div class=&quot;item&quot;&gt; &lt;div class=&quot;title act&quot;&gt;&lt;i class=&quot;i-chevron-top&quot;&gt;&lt;/i&gt;${firstNode.pname}&lt;/div&gt; &lt;div class=&quot;about&quot;&gt;${firstNode.description!}&lt;/div&gt; &lt;div class=&quot;drop-down&quot; style=&quot;height: ${firstNode.children?size * 50}px;&quot;&gt; &lt;ul class=&quot;list-box&quot;&gt; &lt;#list firstNode.children as secondNode&gt; &lt;li&gt;${secondNode.pname}&lt;/li&gt; &lt;/#list&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;/#list&gt; &lt;/#if&gt; &lt;/div&gt; &#x9875;&#x5934;&#xFF1A; &#x5C40;&#x90E8;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;body data-spy=&quot;scroll&quot; data-target=&quot;#articleNavbar&quot; data-offset=&quot;150&quot;&gt; &lt;!-- &#x9875;&#x9762;&#x5934;&#x90E8; --&gt; &lt;!--#include virtual=&quot;/include/header.html&quot;--&gt; &#x9875;&#x5C3E;&#xFF1A; &#x5C40;&#x90E8;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!-- &#x9875;&#x9762;&#x5E95;&#x90E8; --&gt; &lt;!--&#x5E95;&#x90E8;&#x7248;&#x6743;--&gt; &lt;!--#include virtual=&quot;/include/footer.html&quot;--&gt; &#x52A8;&#x6001;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF1A; &lt;script&gt; //&#x8BFE;&#x7A0B;id var courseId = &quot;template&quot; &lt;/script&gt; &lt;!--#include virtual=&quot;/include/course_detail_dynamic.html&quot;--&gt; &#x6559;&#x5E08;&#x4FE1;&#x606F;&#x6587;&#x4EF6;&#xFF1A; &#x4ECE;&#x8BFE;&#x7A0B;&#x6570;&#x636E;&#x4E2D;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x6240;&#x5C5E;&#x7684;&#x6559;&#x5E08;Id&#xFF0C;&#x8FD9;&#x91CC;&#x7531;&#x4E8E;&#x6559;&#x5E08;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#x6CA1;&#x6709;&#x5F00;&#x53D1;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x56FA;&#x5B9A;&#x7684;&#x6559;&#x5E08;&#x4FE1;&#x606F;&#x6587;&#x4EF6;&#xFF1A; &lt;div class=&quot;content-com course&quot;&gt; &lt;div class=&quot;title&quot;&gt;&lt;span&gt;&#x8BFE;&#x7A0B;&#x5236;&#x4F5C;&lt;/span&gt;&lt;/div&gt; &lt;!--#include virtual=&quot;/teacher/teacher_info_template01.html&quot;--&gt; &lt;/div&gt; &#x6559;&#x80B2;&#x673A;&#x6784;&#x6587;&#x4EF6;&#xFF1A; &#x540C;&#x6559;&#x5E08;&#x4FE1;&#x606F;&#x4E00;&#x6837;&#xFF0C;&#x7531;&#x4E8E;&#x6559;&#x80B2;&#x673A;&#x6784;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x6CA1;&#x6709;&#x5F00;&#x53D1;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x56FA;&#x5B9A;&#x7684;&#x6559;&#x80B2;&#x673A;&#x6784;&#x6587;&#x4EF6;&#xFF1A; &lt;div class=&quot;about-teach&quot;&gt; &lt;!--&#x673A;&#x6784;&#x4FE1;&#x606F;--&gt; &lt;!--#include virtual=&quot;/company/company_info_template.html&quot;--&gt; &lt;/div&gt;2.&#x6A21;&#x677F;&#x6D4B;&#x8BD5;&#x4F7F;&#x7528;test-freemarker&#x5DE5;&#x7A0B;&#x6D4B;&#x8BD5;&#x6A21;&#x677F; &#x7F16;&#x5199;&#x6A21;&#x677F;&#x8FC7;&#x7A0B;&#x91C7;&#x7528;test-freemarker&#x5DE5;&#x7A0B;&#x6D4B;&#x8BD5;&#x6A21;&#x677F;&#x3002; &#x5C06;course.ftl&#x62F7;&#x8D1D;&#x5230;test-freemarker&#x5DE5;&#x7A0B;&#x7684;resources/templates&#x4E0B;&#xFF0C;&#x5E76;&#x5728;test-freemarker&#x5DE5;&#x7A0B;&#x7684;controller&#x4E2D;&#x6DFB;&#x52A0;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5; @RequestMapping(&quot;/course&quot;) public String course(Map&lt;String, Object&gt; map){ //&#x4F7F;&#x7528;restTemplate&#x8BF7;&#x6C42;&#x8F6E;&#x64AD;&#x56FE;&#x7684;&#x6A21;&#x578B;&#x6570;&#x636E; ResponseEntity&lt;Map&gt; forEntity = restTemplate.getForEntity(&quot;http://localhost:31200/course/courseview/4028e581617f945f01617f9dabc40000&quot;, Map.class); Map body = forEntity.getBody(); //&#x8BBE;&#x7F6E;&#x6A21;&#x578B;&#x6570;&#x636E; map.putAll(body); return &quot;course&quot;; }&#x6CE8;&#x610F;&#xFF1A;&#x4E0A;&#x8FB9;&#x7684;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x4E0D;&#x663E;&#x793A;&#x6837;&#x5F0F;&#xFF0C;&#x539F;&#x56E0;&#x662F;&#x9875;&#x9762;&#x901A;&#x8FC7;SSI&#x5305;&#x542B;&#x4E86;&#x9875;&#x9762;&#x5934;&#xFF0C;&#x800C;&#x4F7F;&#x7528;test-freemarker&#x5DE5;&#x7A0B;&#x65E0;&#x6CD5;&#x52A0;&#x8F7D;&#x9875;&#x5934;&#xFF0C;&#x6D4B;&#x8BD5;&#x6A21;&#x677F;&#x4E3B;&#x8981;&#x67E5;&#x770B;html&#x9875;&#x9762;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x6B63;&#x786E;&#xFF0C;&#x5F85;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x65F6;&#x89E3;&#x51B3;&#x6837;&#x5F0F;&#x4E0D;&#x663E;&#x793A;&#x95EE;&#x9898;&#x3002; 3.&#x6A21;&#x677F;&#x4FDD;&#x5B58;&#x6A21;&#x677F;&#x7F16;&#x5199;&#x5E76;&#x6D4B;&#x8BD5;&#x901A;&#x8FC7;&#x540E;&#x8981;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4FDD;&#x5B58;&#xFF1A; 1&#x3001;&#x6A21;&#x677F;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x5728;xc_cms&#x6570;&#x636E;&#x5E93;(mongodb)&#x7684;cms_template&#x8868; 2&#x3001;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x5728;mongodb&#x7684;GridFS&#x4E2D;&#x3002; &#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x5C06;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5230;GridFS&#x4E2D; &#x7531;&#x4E8E;&#x672C;&#x6559;&#x5B66;&#x9879;&#x76EE;&#x4E2D;&#x6A21;&#x677F;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x6CA1;&#x6709;&#x5F00;&#x53D1;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x4F7F;&#x7528;Junit&#x4EE3;&#x7801;&#x5411;GridFS&#x4E2D;&#x4FDD;&#x5B58;&#xFF1A; //&#x6587;&#x4EF6;&#x5B58;&#x50A8;2 @Test public void testStore2() throws FileNotFoundException { File file = new File(&quot;C:\\Users\\admin\\Desktop\\course.ftl&quot;); FileInputStream inputStream = new FileInputStream(file); //&#x4FDD;&#x5B58;&#x6A21;&#x7248;&#x6587;&#x4EF6;&#x5185;&#x5BB9; GridFSFile gridFSFile = gridFsTemplate.store(inputStream, &quot;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x6A21;&#x677F;&#x6587;&#x4EF6;&quot;,&quot;&quot;); String fileId = gridFSFile.getId().toString(); System.out.println(fileId); }&#x4FDD;&#x5B58;&#x6210;&#x529F;&#x9700;&#x8981;&#x8BB0;&#x5F55;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x7684;id&#xFF0C;&#x5373;&#x4E0A;&#x8FB9;&#x4EE3;&#x7801;&#x4E2D;&#x7684;fileId&#x3002; &#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x5411;cms_template&#x8868;&#x6DFB;&#x52A0;&#x6A21;&#x677F;&#x8BB0;&#x5F55;&#xFF08;&#x8BF7;&#x4E0D;&#x8981;&#x91CD;&#x590D;&#x6DFB;&#x52A0;&#xFF09; &#x4F7F;&#x7528;Studio 3T&#x8FDE;&#x63A5;mongodb&#xFF0C;&#x5411;cms_template&#x6DFB;&#x52A0;&#x8BB0;&#x5F55;&#xFF1A; &#xFF5B; &quot;_class&quot; : &quot;com.xuecheng.framework.domain.cms.CmsTemplate&quot;, &quot;siteId&quot; : &quot;5a751fab6abb5044e0d19ea1&quot;, &quot;templateName&quot; : &quot;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x6B63;&#x5F0F;&#x6A21;&#x677F;&quot;, &quot;templateFileId&quot; : &quot;&#x8FD9;&#x91CC;&#x586B;&#x5199;&#x4E0A;&#x8FB9;&#x4EE3;&#x7801;&#x8FD4;&#x56DE;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;id&quot; &#xFF5D;&#x8FD4;&#x56DE;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;id: 5dabcdc2ea7358453ce661034.&#x5176;&#x5B83;&#x6A21;&#x677F;&#x9664;&#x4E86;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x4E3B;&#x9875;&#x9762;&#x9700;&#x8981;&#x8BBE;&#x8BA1;&#x6A21;&#x677F;&#x6240;&#x6709;&#x9759;&#x6001;&#x5316;&#x7684;&#x9875;&#x9762;&#x90FD;&#x8981;&#x8BBE;&#x8BA1;&#x6A21;&#x677F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x6559;&#x80B2;&#x673A;&#x6784;&#x9875;&#x9762;&#x6A21;&#x677F;&#x3001;&#x6559;&#x5E08;&#x4FE1;&#x606F;&#x9875;&#x9762;&#x6A21;&#x677F;&#x3001;&#x8BFE;&#x7A0B;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;json&#x6A21;&#x677F;&#x3001;&#x6559;&#x80B2;&#x673A;&#x6784;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;json&#x6A21;&#x677F;&#x3002; &#x672C;&#x9879;&#x76EE;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x4E3B;&#x9875;&#x9762;&#x6A21;&#x677F;&#x7684;&#x5236;&#x4F5C;&#x548C;&#x6D4B;&#x8BD5;&#xFF0C;&#x5176;&#x5B83;&#x9875;&#x9762;&#x6A21;&#x677F;&#x7684;&#x5F00;&#x53D1;&#x53C2;&#x8003;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x53BB;&#x5B9E;&#x73B0;&#x3002; &#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x529F;&#x80FD;&#x5F00;&#x53D1;1.&#x9700;&#x6C42;&#x5206;&#x6790; &#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x529F;&#x80FD;&#x5C06;&#x4F7F;&#x7528;cms&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x7684;&#x9875;&#x9762;&#x9884;&#x89C8;&#x529F;&#x80FD;&#xFF0C;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x70B9;&#x51FB;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#xFF0C;&#x8BF7;&#x6C42;&#x5230;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1; 2&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;cms&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x63A5;&#x53E3;&#x5411;cms&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762; 3&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5F97;&#x5230;cms&#x8FD4;&#x56DE;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;id&#xFF0C;&#x5E76;&#x62FC;&#x63A5;&#x751F;&#x6210;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;Url 4&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5C06;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;Url&#x7ED9;&#x524D;&#x7AEF;&#x8FD4;&#x56DE; 5&#x3001;&#x7528;&#x6237;&#x5728;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x8BF7;&#x6C42;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;Url&#xFF0C;&#x6253;&#x5F00;&#x65B0;&#x7A97;&#x53E3;&#x663E;&#x793A;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x5185;&#x5BB9; 2.&#x9875;&#x9762;&#x9884;&#x89C8;&#x6D4B;&#x8BD5;&#x200B; CMS&#x5DF2;&#x7ECF;&#x63D0;&#x4F9B;&#x4E86;&#x9875;&#x9762;&#x9884;&#x89C8;&#x529F;&#x80FD;&#xFF0C;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x529F;&#x80FD;&#x8981;&#x4F7F;&#x7528;CMS&#x9875;&#x9762;&#x9884;&#x89C8;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0B;&#x8FB9;&#x901A;&#x8FC7;cms&#x9875;&#x9762;&#x9884;&#x89C8;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x7684;&#x6548;&#x679C;&#x3002; 1&#x3001;&#x5411;cms_page&#x8868;&#x63D2;&#x5165;&#x4E00;&#x6761;&#x9875;&#x9762;&#x8BB0;&#x5F55;&#x6216;&#x8005;&#x4ECE;cms_page&#x627E;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x9875;&#x9762;&#x914D;&#x7F6E;&#x4E00;&#x5B9A;&#x8981;&#x6B63;&#x786E;&#xFF0C;&#x9700;&#x8BBE;&#x7F6E;&#x6B63;&#x786E;&#x7684;&#x6A21;&#x677F;id&#x548C;dataUrl&#x3002; &#x5982;&#x4E0B;&#xFF0C;&#x662F;cms_page&#x4E00;&#x6761;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x9875;&#x9762;&#x7684;&#x8BB0;&#x5F55;&#x3002; { &quot;_id&quot; : ObjectId(&quot;5dac1e7aea735833a4ca2bc9&quot;), &quot;_class&quot; : &quot;com.xuecheng.framework.domain.cms.CmsPage&quot;, &quot;siteId&quot; : &quot;5dac1ceaea735833a4ca2bbe&quot;, &quot;pageName&quot; : &quot;4028e581617f945f01617f9dabc40000.html&quot;, &quot;pageAliase&quot; : &quot;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6;&quot;, &quot;pageWebPath&quot; : &quot;/course/detail/&quot;, &quot;pagePhysicalPath&quot; : &quot;/course/detail/&quot;, &quot;pageType&quot; : 1.0, &quot;pageCreateTime&quot; : ISODate(&quot;2018-02-25T01:37:25.974+0000&quot;), &quot;templateId&quot; : &quot;5aec5dd70e661808240ab7a6&quot;, &quot;dataUrl&quot; : &quot;http://localhost:31200/course/courseview/4028e581617f945f01617f9dabc40000&quot; }siteId&#x5173;&#x8054;&#x7684;&#x662F;cms_site&#x8868;&#x4E2D;&#x7684;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x7AD9;&#x70B9;&#x7684;&#x4E3B;&#x952E; { &quot;_id&quot; : ObjectId(&quot;5dac1ceaea735833a4ca2bbe&quot;), &quot;_class&quot; : &quot;com.xuecheng.framework.domain.cms.CmsSite&quot;, &quot;siteName&quot; : &quot;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x7AD9;&#x70B9;&quot;, &quot;siteDomain&quot; : &quot;http://www.xuecheng.com&quot;, &quot;sitePort&quot; : &quot;80&quot;, &quot;siteWebPath&quot; : &quot;&quot;, &quot;sitePhysicalPath&quot; : &quot;X:\\workspace\\java\\xczx\\static&quot;, &quot;siteCreateTime&quot; : ISODate(&quot;2018-02-03T02:34:19.113+0000&quot;) }templateId&#x5173;&#x8054;&#x7684;&#x662F;cms_template&#x8868;&#x4E2D;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x6A21;&#x677F;&#x7684;&#x4E3B;&#x952E; { &quot;_id&quot; : ObjectId(&quot;5aec5dd70e661808240ab7a6&quot;), &quot;_class&quot; : &quot;com.xuecheng.framework.domain.cms.CmsTemplate&quot;, &quot;siteId&quot; : &quot;5a751fab6abb5044e0d19ea1&quot;, &quot;templateName&quot; : &quot;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x6A21;&#x677F;&quot;, &quot;templateParameter&quot; : &quot;courseid&quot;, &quot;templateFileId&quot; : &quot;5dabcdc2ea7358453ce66103&quot; }&#x6700;&#x7EC8;&#x7684;&#x9875;&#x9762;&#x8DEF;&#x5F84;=cms_site&#x4E2D;&#x7684;sitePhysicalPath+cms_page&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;+cms_page&#x7684;pageName &#x7136;&#x540E;&#x5C06;cms&#x670D;&#x52A1;&#x542F;&#x52A8;&#x8D77;&#x6765;&#x8BBF;&#x95EE; http://localhost:31200/course/courseview/4028e581617f945f01617f9dabc40000&#x4F46;&#x662F;&#x6B64;&#x65F6;SSI&#x8FD8;&#x6CA1;&#x6709;&#x88AB;&#x89E3;&#x6790;,&#x5982;&#x679C;&#x8981;&#x60F3;SSI&#x88AB;&#x89E3;&#x6790;&#x6709;&#x4E24;&#x4E2A;&#x6761;&#x4EF6; 1) &#x5FC5;&#x987B;&#x8D70;nginx &#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x901A;&#x8FC7;&#x57DF;&#x540D;&#x8BBF;&#x95EE;(&#x56E0;&#x4E3A;&#x5F00;&#x542F;SSI&#x7684;&#x914D;&#x7F6E;&#x5728;&#x6211;&#x4EEC;nginx&#x5F53;&#x4E2D;) www.xuecheng.com/course/courseview/4028e581617f945f01617f9dabc400002)cms&#x670D;&#x52A1;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x5FC5;&#x987B;&#x4EE5;html&#x7684;&#x5F62;&#x5F0F;&#x8FDB;&#x884C;&#x89E3;&#x6790; &#x7531;&#x4E8E;Nginx&#x5148;&#x8BF7;&#x6C42;cms&#x7684;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x529F;&#x80FD;&#x5F97;&#x5230;html&#x9875;&#x9762;&#xFF0C;&#x518D;&#x89E3;&#x6790;&#x9875;&#x9762;&#x4E2D;&#x7684;ssi&#x6807;&#x7B7E;&#xFF0C;&#x8FD9;&#x91CC;&#x5FC5;&#x987B;&#x4FDD;&#x8BC1;cms&#x9875;&#x9762;&#x9884;&#x89C8;&#x8FD4;&#x56DE;&#x7684;&#x9875;&#x9762;&#x7684;Content-Type&#x4E3A;text/html;charset=utf-8 &#x5728;cms&#x9875;&#x9762;&#x9884;&#x89C8;&#x7684;controller&#x65B9;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; response.setHeader(&quot;Content-type&quot;,&quot;text/html;charset=utf-8&quot;);3.&#x6D4B;&#x8BD5;&#x8BF7;&#x6C42;&#xFF1A;http://www.xuecheng.com/cms/preview/5dac1e7aea735833a4ca2bc9&#x4F20;&#x5165;&#x9875;&#x9762;Id&#xFF0C;&#x6D4B;&#x8BD5;&#x6548;&#x679C;&#x5982;&#x4E0B;: 4.CMS&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x63A5;&#x53E3;cms&#x670D;&#x52A1;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#xFF1A;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x9875;&#x9762;&#x5219;&#x6DFB;&#x52A0;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x66F4;&#x65B0;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x3002; &#x6B64;&#x63A5;&#x53E3;&#x7531;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5728;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x65F6;&#x8C03;&#x7528;&#x3002; 1.Api&#x63A5;&#x53E3;@ApiOperation(&quot;&#x4FDD;&#x5B58;&#x9875;&#x9762;&quot;) public CmsPageResult save(CmsPage cmsPage);2.Controller @Override @PostMapping(&quot;/save&quot;) public CmsPageResult save(@RequestBody CmsPage cmsPage) { return pageService.save(cmsPage); }3.Service//&#x6DFB;&#x52A0;&#x9875;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x5B58;&#x5728;&#x5219;&#x66F4;&#x65B0;&#x9875;&#x9762; public CmsPageResult save(CmsPage cmsPage){ //&#x6821;&#x9A8C;&#x9875;&#x9762;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x6839;&#x636E;&#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x7AD9;&#x70B9;Id&#x3001;&#x9875;&#x9762;webpath&#x67E5;&#x8BE2; CmsPage cmsPage1 = cmsPageRepository.findByPageNameAndSiteIdAndPageWebPath(cmsPage.getPageName(), cmsPage.getSiteId(), cmsPage.getPageWebPath()); if(cmsPage1 !=null){ //&#x66F4;&#x65B0; return this.update(cmsPage1.getPageId(),cmsPage); }else{ //&#x6DFB;&#x52A0; return this.add(cmsPage); } }&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x670D;&#x52A1;&#x7AEF;1.Api&#x6B64;Api&#x662F;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x8FDB;&#x884C;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x7684;Api &#x8BF7;&#x6C42;&#xFF1A;&#x8BFE;&#x7A0B;Id &#x54CD;&#x5E94;&#xFF1A;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;Url 1&#x3001;&#x5B9A;&#x4E49;&#x54CD;&#x5E94;&#x7C7B;&#x578B; &#x5728;model&#x6A21;&#x5757;com.xuecheng.framework.domain.course.response&#x5305;&#x4E0B; &#x5B9A;&#x4E49;&#x7C7B;CoursePublishResult import com.xuecheng.framework.model.response.ResponseResult; import com.xuecheng.framework.model.response.ResultCode; import lombok.Data; import lombok.NoArgsConstructor; import lombok.ToString; @Data @ToString @NoArgsConstructor public class CoursePublishResult extends ResponseResult { String previewUrl; public CoursePublishResult(ResultCode resultCode, String previewUrl) { super(resultCode); this.previewUrl = previewUrl; } }2&#x3001;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5982;&#x4E0B; &#x5728;API&#x6A21;&#x5757; com.xuecheng.api.course&#x5305;&#x4E0B;CourseControllerApi @ApiOperation(&quot;&#x9884;&#x89C8;&#x8BFE;&#x7A0B;&quot;) public CoursePublishResult preview(String id);2.Feign Client&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;CMS&#x670D;&#x52A1;&#x7684;Feign Client&#xFF0C;&#x901A;&#x8FC7;&#x6B64;Client&#x8FDC;&#x7A0B;&#x8BF7;&#x6C42;cms&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x3002;&#x5728;xc-service-manage-course&#x6A21;&#x5757;&#x4E2D;com.xuecheng.manage_course.client //&#x6DFB;&#x52A0;&#x9875;&#x9762;&#xFF0C;&#x7528;&#x4E8E;&#x8BFE;&#x7A0B;&#x9884;&#x89C8; @PostMapping(&quot;/cms/page/save&quot;) public CmsPageResult saveCmsPage(@RequestBody CmsPage cmsPage);3.Service1&#x3001;&#x914D;&#x7F6E;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#x53C2;&#x6570;&#x4FE1;&#x606F; &#x5728;application.yml&#x4E2D;&#x914D;&#x7F6E;&#xFF1A; course-publish: siteId: 5dac1ceaea735833a4ca2bbe templateId: 5aec5dd70e661808240ab7a6 previewUrl: http://www.xuecheng.com/cms/preview/ pageWebPath: /course/detail/ pagePhysicalPath: /course/detail/ dataUrlPre: http://localhost:31200/course/courseview/2&#x3001;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Autowired CmsPageClient cmsPageClient; @Value(&quot;${course-publish.dataUrlPre}&quot;) private String publish_dataUrlPre; @Value(&quot;${course-publish.pagePhysicalPath}&quot;) private String publish_page_physicalpath; @Value(&quot;${course-publish.pageWebPath}&quot;) private String publish_page_webpath; @Value(&quot;${course-publish.siteId}&quot;) private String publish_siteId; @Value(&quot;${course-publish.templateId}&quot;) private String publish_templateId; @Value(&quot;${course-publish.previewUrl}&quot;) private String previewUrl; //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x57FA;&#x672C;&#x4FE1;&#x606F; public CourseBase findCourseBaseById(String courseId){ Optional&lt;CourseBase&gt; baseOptional = courseBaseRepository.findById(courseId); if(baseOptional.isPresent()){ CourseBase courseBase = baseOptional.get(); return courseBase; } ExceptionCast.cast(CourseCode.COURSE_DENIED_DELETE); return null; } //&#x8BFE;&#x7A0B;&#x9884;&#x89C8; public CoursePublishResult preview(String id) { //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B; CourseBase courseBaseById = this.findCourseBaseById(id); //&#x8BF7;&#x6C42;cms&#x6DFB;&#x52A0;&#x9875;&#x9762; //&#x51C6;&#x5907;cmsPage&#x4FE1;&#x606F; CmsPage cmsPage = new CmsPage(); cmsPage.setSiteId(publish_siteId);//&#x7AD9;&#x70B9;id cmsPage.setDataUrl(publish_dataUrlPre+id);//&#x6570;&#x636E;&#x6A21;&#x578B;url cmsPage.setPageName(id+&quot;.html&quot;);//&#x9875;&#x9762;&#x540D;&#x79F0; cmsPage.setPageAliase(courseBaseById.getName());//&#x9875;&#x9762;&#x522B;&#x540D;&#xFF0C;&#x5C31;&#x662F;&#x8BFE;&#x7A0B;&#x540D;&#x79F0; cmsPage.setPagePhysicalPath(publish_page_physicalpath);//&#x9875;&#x9762;&#x7269;&#x7406;&#x8DEF;&#x5F84; cmsPage.setPageWebPath(publish_page_webpath);//&#x9875;&#x9762;webpath cmsPage.setTemplateId(publish_templateId);//&#x9875;&#x9762;&#x6A21;&#x677F;id //&#x8FDC;&#x7A0B;&#x8C03;&#x7528;cms CmsPageResult cmsPageResult = cmsPageClient.saveCmsPage(cmsPage); if(!cmsPageResult.isSuccess()){ return new CoursePublishResult(CommonCode.FAIL,null); } CmsPage cmsPage1 = cmsPageResult.getCmsPage(); String pageId = cmsPage1.getPageId(); //&#x62FC;&#x88C5;&#x9875;&#x9762;&#x9884;&#x89C8;&#x7684;url String url = previewUrl+pageId; //&#x8FD4;&#x56DE;CoursePublishResult&#x5BF9;&#x8C61;&#xFF08;&#x5F53;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x9875;&#x9762;&#x9884;&#x89C8;&#x7684;url&#xFF09; return new CoursePublishResult(CommonCode.SUCCESS,url); }&#x6CE8;&#x610F;:CmsPageResult&#x4E00;&#x5B9A;&#x8981;&#x6709;&#x7A7A;&#x53C2;&#x6784;&#x9020; Controller @Override @PostMapping(&quot;/preview/{id}&quot;) public CoursePublishResult preview(@PathVariable(&quot;id&quot;) String id) { return courseService.preview(id); }&#x524D;&#x7AEF;&#x5F00;&#x53D1;api/*&#x9884;&#x89C8;&#x8BFE;&#x7A0B;*/ export const preview = id =&gt; { return http.requestPost(apiUrl+&apos;/course/preview/&apos;+id); }&#x9875;&#x9762;&#x521B;&#x5EFA; course_pub.vue &lt;template&gt; &lt;div&gt; &lt;el-card class=&quot;box-card&quot;&gt; &lt;div slot=&quot;header&quot; class=&quot;clearfix&quot;&gt; &lt;span&gt;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&lt;/span&gt; &lt;/div&gt; &lt;div class=&quot;text item&quot;&gt; &lt;el-button type=&quot;primary&quot; @click.native=&quot;preview&quot; &gt;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&lt;/el-button&gt; &lt;br/&gt;&lt;br/&gt; &lt;span v-if=&quot;previewurl &amp;&amp; previewurl!=&apos;&apos;&quot;&gt;&lt;a :href=&quot;previewurl&quot; target=&quot;_blank&quot;&gt;&#x70B9;&#x6211;&#x67E5;&#x770B;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x9875;&#x9762; &lt;/a&gt; &lt;/span&gt; &lt;/div&gt; &lt;/el-card&gt; &lt;/div&gt; &lt;/template&gt;&#x6570;&#x636E;&#x5BF9;&#x8C61;&#xFF1A; data() { return { dotype:&apos;&apos;, courseid:&apos;&apos;, course: {&quot;id&quot;:&quot;&quot;,&quot;name&quot;:&quot;&quot;,&quot;status&quot;:&quot;&quot;}, previewurl:&apos;&apos; }&#x65B9;&#x6CD5; &#xFF1A; //&#x9884;&#x89C8; preview(){ courseApi.preview(this.courseid).then((res) =&gt; { if(res.success){ this.$message.error(&apos;&#x9884;&#x89C8;&#x9875;&#x9762;&#x751F;&#x6210;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x70B9;&#x51FB;&#x4E0B;&#x65B9;&#x9884;&#x89C8;&#x94FE;&#x63A5;&apos;); if(res.url){ //&#x9884;&#x89C8;url this.previewurl = res.url } }else{ this.$message.error(res.message); } }); } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fliu-xing-kuang-jia%2Felasticsearch%2Felasticsearch01.html</url>
    <content type="text"><![CDATA[ElasticSearch&#x7B2C;&#x4E00;&#x5929;&#x5B66;&#x4E60;&#x76EE;&#x6807;&#xFF1A; &#x80FD;&#x591F;&#x7406;&#x89E3;ElasticSearch&#x7684;&#x4F5C;&#x7528; &#x80FD;&#x591F;&#x5B89;&#x88C5;ElasticSearch&#x670D;&#x52A1; &#x80FD;&#x591F;&#x7406;&#x89E3;ElasticSearch&#x7684;&#x76F8;&#x5173;&#x6982;&#x5FF5; &#x80FD;&#x591F;&#x4F7F;&#x7528;Postman&#x53D1;&#x9001;Restful&#x8BF7;&#x6C42;&#x64CD;&#x4F5C;ElasticSearch &#x80FD;&#x591F;&#x7406;&#x89E3;&#x5206;&#x8BCD;&#x5668;&#x7684;&#x4F5C;&#x7528; &#x80FD;&#x591F;&#x4F7F;&#x7528;ElasticSearch&#x96C6;&#x6210;IK&#x5206;&#x8BCD;&#x5668; &#x80FD;&#x591F;&#x5B8C;&#x6210;es&#x96C6;&#x7FA4;&#x642D;&#x5EFA; &#x7B2C;&#x4E00;&#x7AE0; ElasticSearch&#x7B80;&#x4ECB;1.1 &#x4EC0;&#x4E48;&#x662F;ElasticSearch&#x200B; Elaticsearch&#xFF0C;&#x7B80;&#x79F0;&#x4E3A;es&#xFF0C; es&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x9AD8;&#x6269;&#x5C55;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x8FD1;&#x4E4E;&#x5B9E;&#x65F6;&#x7684;&#x5B58;&#x50A8;&#x3001;&#x68C0;&#x7D22;&#x6570;&#x636E;&#xFF1B;&#x672C; &#x8EAB;&#x6269;&#x5C55;&#x6027;&#x5F88;&#x597D;&#xFF0C;&#x53EF;&#x4EE5;&#x6269;&#x5C55;&#x5230;&#x4E0A;&#x767E;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5904;&#x7406;PB&#x7EA7;&#x522B;&#x7684;&#x6570;&#x636E;&#x3002;es&#x4E5F;&#x4F7F;&#x7528;Java&#x5F00;&#x53D1;&#x5E76;&#x4F7F;&#x7528;Lucene&#x4F5C;&#x4E3A;&#x5176;&#x6838;&#x5FC3;&#x6765;&#x5B9E;&#x73B0;&#x6240;&#x6709;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x662F;&#x5B83;&#x7684;&#x76EE;&#x7684;&#x662F;&#x901A;&#x8FC7;&#x7B80;&#x5355;&#x7684;RESTful API&#x6765;&#x9690;&#x85CF;Lucene&#x7684;&#x590D;&#x6742;&#x6027;&#xFF0C;&#x4ECE;&#x800C;&#x8BA9;&#x5168;&#x6587;&#x641C;&#x7D22;&#x53D8;&#x5F97; &#x7B80;&#x5355;&#x3002; 1.2 ElasticSearch&#x7684;&#x4F7F;&#x7528;&#x6848;&#x4F8B; 2013&#x5E74;&#x521D;&#xFF0C;GitHub&#x629B;&#x5F03;&#x4E86;Solr&#xFF0C;&#x91C7;&#x53D6;ElasticSearch &#x6765;&#x505A;PB&#x7EA7;&#x7684;&#x641C;&#x7D22;&#x3002; &#x201C;GitHub&#x4F7F;&#x7528;ElasticSearch&#x641C;&#x7D22;20TB &#x7684;&#x6570;&#x636E;&#xFF0C;&#x5305;&#x62EC;13&#x4EBF;&#x6587;&#x4EF6;&#x548C;1300&#x4EBF;&#x884C;&#x4EE3;&#x7801;&#x201D; &#x7EF4;&#x57FA;&#x767E;&#x79D1;&#xFF1A;&#x542F;&#x52A8;&#x4EE5;elasticsearch&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x6838;&#x5FC3;&#x641C;&#x7D22;&#x67B6;&#x6784;SoundCloud&#xFF1A;&#x201C;SoundCloud&#x4F7F;&#x7528;ElasticSearch&#x4E3A;1.8&#x4EBF;&#x7528;&#x6237;&#x63D0;&#x4F9B;&#x5373;&#x65F6;&#x800C;&#x7CBE;&#x51C6;&#x7684;&#x97F3;&#x4E50;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x201D; &#x767E;&#x5EA6;&#xFF1A;&#x767E;&#x5EA6;&#x76EE;&#x524D;&#x5E7F;&#x6CDB;&#x4F7F;&#x7528;ElasticSearch&#x4F5C;&#x4E3A;&#x6587;&#x672C;&#x6570;&#x636E;&#x5206;&#x6790;&#xFF0C;&#x91C7;&#x96C6;&#x767E;&#x5EA6;&#x6240;&#x6709;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;&#x5404;&#x7C7B;&#x6307;&#x6807;&#x6570;&#x636E;&#x53CA;&#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x5404;&#x79CD;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x591A;&#x7EF4;&#x5206;&#x6790;&#x5C55;&#x793A;&#xFF0C;&#x8F85;&#x52A9;&#x5B9A;&#x4F4D;&#x5206;&#x6790;&#x5B9E;&#x4F8B;&#x5F02;&#x5E38;&#x6216;&#x4E1A;&#x52A1;&#x5C42;&#x9762;&#x5F02;&#x5E38;&#x3002;&#x76EE;&#x524D;&#x8986;&#x76D6;&#x767E;&#x5EA6;&#x5185;&#x90E8; 20&#x591A;&#x4E2A;&#x4E1A;&#x52A1;&#x7EBF;&#xFF08;&#x5305;&#x62EC;casio&#x3001;&#x4E91;&#x5206;&#x6790;&#x3001;&#x7F51;&#x76DF;&#x3001;&#x9884;&#x6D4B;&#x3001;&#x6587;&#x5E93;&#x3001;&#x76F4;&#x8FBE;&#x53F7;&#x3001;&#x94B1;&#x5305;&#x3001;&#x98CE;&#x63A7;&#x7B49;&#xFF09;&#xFF0C;&#x5355;&#x96C6;&#x7FA4;&#x6700;&#x5927;100&#x53F0;&#x673A; &#x5668;&#xFF0C;200&#x4E2A;ES&#x8282;&#x70B9;&#xFF0C;&#x6BCF;&#x5929;&#x5BFC;&#x5165;30TB+&#x6570;&#x636E; &#x65B0;&#x6D6A;&#x4F7F;&#x7528;ES &#x5206;&#x6790;&#x5904;&#x7406;32&#x4EBF;&#x6761;&#x5B9E;&#x65F6;&#x65E5;&#x5FD7; &#x963F;&#x91CC;&#x4F7F;&#x7528;ES &#x6784;&#x5EFA;&#x6316;&#x8D22;&#x81EA;&#x5DF1;&#x7684;&#x65E5;&#x5FD7;&#x91C7;&#x96C6;&#x548C;&#x5206;&#x6790;&#x4F53;&#x7CFB; 1.3 ElasticSearch&#x5BF9;&#x6BD4;Solr Solr &#x5229;&#x7528; Zookeeper &#x8FDB;&#x884C;&#x5206;&#x5E03;&#x5F0F;&#x7BA1;&#x7406;&#xFF0C;&#x800C; Elasticsearch &#x81EA;&#x8EAB;&#x5E26;&#x6709;&#x5206;&#x5E03;&#x5F0F;&#x534F;&#x8C03;&#x7BA1;&#x7406;&#x529F;&#x80FD;; Solr &#x652F;&#x6301;&#x66F4;&#x591A;&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x800C; Elasticsearch &#x4EC5;&#x652F;&#x6301;json&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#xFF1B; Solr &#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;&#x529F;&#x80FD;&#x66F4;&#x591A;&#xFF0C;&#x800C; Elasticsearch &#x672C;&#x8EAB;&#x66F4;&#x6CE8;&#x91CD;&#x4E8E;&#x6838;&#x5FC3;&#x529F;&#x80FD;&#xFF0C;&#x9AD8;&#x7EA7;&#x529F;&#x80FD;&#x591A;&#x6709;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#x63D0;&#x4F9B;&#xFF1B; Solr &#x5728;&#x4F20;&#x7EDF;&#x7684;&#x641C;&#x7D22;&#x5E94;&#x7528;&#x4E2D;&#x8868;&#x73B0;&#x597D;&#x4E8E; Elasticsearch&#xFF0C;&#x4F46;&#x5728;&#x5904;&#x7406;&#x5B9E;&#x65F6;&#x641C;&#x7D22;&#x5E94;&#x7528;&#x65F6;&#x6548;&#x7387;&#x660E;&#x663E;&#x4F4E;&#x4E8E; Elasticsearch &#x7B2C;&#x4E8C;&#x7AE0; ElasticSearch&#x5B89;&#x88C5;&#x4E0E;&#x542F;&#x52A8;2.1 &#x4E0B;&#x8F7D;ES&#x538B;&#x7F29;&#x5305;ElasticSearch&#x5206;&#x4E3A;Linux&#x548C;Window&#x7248;&#x672C;&#xFF0C;&#x57FA;&#x4E8E;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x5B66;&#x4E60;&#x7684;&#x662F;ElasticSearch&#x7684;Java&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x8BFE; &#x7A0B;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x5B89;&#x88C5;&#x8F83;&#x4E3A;&#x7B80;&#x4FBF;&#x7684;Window&#x7248;&#x672C;&#xFF0C;&#x9879;&#x76EE;&#x4E0A;&#x7EBF;&#x540E;&#xFF0C;&#x516C;&#x53F8;&#x7684;&#x8FD0;&#x7EF4;&#x4EBA;&#x5458;&#x4F1A;&#x5B89;&#x88C5;Linux&#x7248;&#x7684;ES&#x4F9B;&#x6211;&#x4EEC;&#x8FDE;&#x63A5;&#x4F7F;&#x7528;&#x3002; ElasticSearch&#x7684;&#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A; https://www.elastic.co/products/elasticsearch &#x5728;&#x8D44;&#x6599;&#x4E2D;&#x5DF2;&#x7ECF;&#x63D0;&#x4F9B;&#x4E86;&#x4E0B;&#x8F7D;&#x597D;&#x7684;5.6.8&#x7684;&#x538B;&#x7F29;&#x5305;&#xFF1A; 2.2 &#x5B89;&#x88C5;ES&#x670D;&#x52A1;Window&#x7248;&#x7684;ElasticSearch&#x7684;&#x5B89;&#x88C5;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x7C7B;&#x4F3C;Window&#x7248;&#x7684;Tomcat&#xFF0C;&#x89E3;&#x538B;&#x5F00;&#x5373;&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;&#xFF0C;&#x89E3;&#x538B;&#x540E;&#x7684;ElasticSearch &#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x4FEE;&#x6539;elasticsearch&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;con&#xFB01;g/elasticsearch.yml&#xFF0C;&#x589E;&#x52A0;&#x4EE5;&#x4E0B;&#x4E24;&#x53E5;&#x547D;&#x4EE4;&#xFF1A; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Ftest.html</url>
    <content type="text"><![CDATA[&#x6D4B;&#x8BD5; 111122222222222asdaasdesfsdfdgsdgghjgjhhgghjjbubhbhgvhgvhvhvfsafasfasfasasdasdas yjjyjujy &#x8D5B;as&#x8FBE;&#x8428;&#x585E; dfgdfgfdgdfg document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fke-ai-mao-wei-xin-ji-qi-ren.html</url>
    <content type="text"><![CDATA[&#x53EF;&#x7231;&#x732B;&#x5FAE;&#x4FE1;&#x673A;&#x5668;&#x4EBA;&#x4E0B;&#x8F7D;&#x597D;&#x4EE5;&#x540E;&#x67E5;&#x770B;&#x5B98;&#x65B9;&#x63A8;&#x8350;&#x7684;&#x4F8B;&#x5B50;,&#x7136;&#x540E;&#x5F00;&#x53D1;&#x5B8C;&#x4EE5;&#x540E;&#x7F16;&#x8BD1;dll&#x5230;app&#x76EE;&#x5F55;,&#x91CD;&#x8F7D;&#x63D2;&#x4EF6;&#x5373;&#x53EF;. document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fwai-gua-c.html</url>
    <content type="text"><![CDATA[&#x591A;&#x6001;#include &lt;iostream> using namespace std; class Shape { protected: int width, height; public: Shape( int a=0, int b=0) { width = a; height = b; } int area() { cout &lt;&lt; "Parent class area :" &lt;&lt;endl; return 0; } }; class Rectangle: public Shape{ public: Rectangle( int a=0, int b=0):Shape(a, b) { } int area () { cout &lt;&lt; "Rectangle class area :" &lt;&lt;endl; return (width * height); } }; class Triangle: public Shape{ public: Triangle( int a=0, int b=0):Shape(a, b) { } int area () { cout &lt;&lt; "Triangle class area :" &lt;&lt;endl; return (width * height / 2); } }; // &amp;#x7A0B;&amp;#x5E8F;&amp;#x7684;&amp;#x4E3B;&amp;#x51FD;&amp;#x6570; int main( ) { Shape *shape; Rectangle rec(10,7); Triangle tri(10,5); // &amp;#x5B58;&amp;#x50A8;&amp;#x77E9;&amp;#x5F62;&amp;#x7684;&amp;#x5730;&amp;#x5740; shape = &amp;rec; // &amp;#x8C03;&amp;#x7528;&amp;#x77E9;&amp;#x5F62;&amp;#x7684;&amp;#x6C42;&amp;#x9762;&amp;#x79EF;&amp;#x51FD;&amp;#x6570; area shape->area(); // &amp;#x5B58;&amp;#x50A8;&amp;#x4E09;&amp;#x89D2;&amp;#x5F62;&amp;#x7684;&amp;#x5730;&amp;#x5740; shape = &amp;tri; // &amp;#x8C03;&amp;#x7528;&amp;#x4E09;&amp;#x89D2;&amp;#x5F62;&amp;#x7684;&amp;#x6C42;&amp;#x9762;&amp;#x79EF;&amp;#x51FD;&amp;#x6570; area shape->area(); return 0; } &#x5F53;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x88AB;&#x7F16;&#x8BD1;&#x548C;&#x6267;&#x884C;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x4EA7;&#x751F;&#x4E0B;&#x5217;&#x7ED3;&#x679C;&#xFF1A; Parent class area Parent class area&#x5BFC;&#x81F4;&#x9519;&#x8BEF;&#x8F93;&#x51FA;&#x7684;&#x539F;&#x56E0;&#x662F;&#xFF0C;&#x8C03;&#x7528;&#x51FD;&#x6570; area() &#x88AB;&#x7F16;&#x8BD1;&#x5668;&#x8BBE;&#x7F6E;&#x4E3A;&#x57FA;&#x7C7B;&#x4E2D;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x6240;&#x8C13;&#x7684;&#x9759;&#x6001;&#x591A;&#x6001;&#xFF0C;&#x6216;&#x9759;&#x6001;&#x94FE;&#x63A5; - &#x51FD;&#x6570;&#x8C03;&#x7528;&#x5728;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x524D;&#x5C31;&#x51C6;&#x5907;&#x597D;&#x4E86;&#x3002;&#x6709;&#x65F6;&#x5019;&#x8FD9;&#x4E5F;&#x88AB;&#x79F0;&#x4E3A;&#x65E9;&#x7ED1;&#x5B9A;&#xFF0C;&#x56E0;&#x4E3A; area() &#x51FD;&#x6570;&#x5728;&#x7A0B;&#x5E8F;&#x7F16;&#x8BD1;&#x671F;&#x95F4;&#x5C31;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x597D;&#x4E86;&#x3002; &#x4F46;&#x73B0;&#x5728;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x5BF9;&#x7A0B;&#x5E8F;&#x7A0D;&#x4F5C;&#x4FEE;&#x6539;&#xFF0C;&#x5728; Shape &#x7C7B;&#x4E2D;&#xFF0C;area() &#x7684;&#x58F0;&#x660E;&#x524D;&#x653E;&#x7F6E;&#x5173;&#x952E;&#x5B57; virtual&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; class Shape { protected: int width, height; public: Shape( int a=0, int b=0) { width = a; height = b; } virtual int area() { cout &lt;&lt; "Parent class area :" &lt;&lt;endl; return 0; } }; &#x4FEE;&#x6539;&#x540E;&#xFF0C;&#x5F53;&#x7F16;&#x8BD1;&#x548C;&#x6267;&#x884C;&#x524D;&#x9762;&#x7684;&#x5B9E;&#x4F8B;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x4EA7;&#x751F;&#x4EE5;&#x4E0B;&#x7ED3;&#x679C;&#xFF1A; Rectangle class area Triangle class area&#x6B64;&#x65F6;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x770B;&#x7684;&#x662F;&#x6307;&#x9488;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B83;&#x7684;&#x7C7B;&#x578B;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x7531;&#x4E8E; tri &#x548C; rec &#x7C7B;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x5730;&#x5740;&#x5B58;&#x50A8;&#x5728; *shape &#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x8C03;&#x7528;&#x5404;&#x81EA;&#x7684; area() &#x51FD;&#x6570;&#x3002; &#x6B63;&#x5982;&#x60A8;&#x6240;&#x770B;&#x5230;&#x7684;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B50;&#x7C7B;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x51FD;&#x6570; area() &#x7684;&#x72EC;&#x7ACB;&#x5B9E;&#x73B0;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x591A;&#x6001;&#x7684;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x3002;&#x6709;&#x4E86;&#x591A;&#x6001;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x7C7B;&#xFF0C;&#x90FD;&#x5E26;&#x6709;&#x540C;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x4F46;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x662F;&#x76F8;&#x540C;&#x7684;&#x3002; &#x865A;&#x51FD;&#x6570;&#x865A;&#x51FD;&#x6570; &#x662F;&#x5728;&#x57FA;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x5173;&#x952E;&#x5B57; virtual &#x58F0;&#x660E;&#x7684;&#x51FD;&#x6570;&#x3002;&#x5728;&#x6D3E;&#x751F;&#x7C7B;&#x4E2D;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x57FA;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x7684;&#x865A;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x4F1A;&#x544A;&#x8BC9;&#x7F16;&#x8BD1;&#x5668;&#x4E0D;&#x8981;&#x9759;&#x6001;&#x94FE;&#x63A5;&#x5230;&#x8BE5;&#x51FD;&#x6570;&#x3002; &#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x662F;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x4EFB;&#x610F;&#x70B9;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x6240;&#x8C03;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x6765;&#x9009;&#x62E9;&#x8C03;&#x7528;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x79CD;&#x64CD;&#x4F5C;&#x88AB;&#x79F0;&#x4E3A;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#xFF0C;&#x6216;&#x540E;&#x671F;&#x7ED1;&#x5B9A;&#x3002; &#x7EAF;&#x865A;&#x51FD;&#x6570;(&#x7C7B;&#x4F3C;java&#x4E2D;&#x7684;&#x63A5;&#x53E3;)&#x60A8;&#x53EF;&#x80FD;&#x60F3;&#x8981;&#x5728;&#x57FA;&#x7C7B;&#x4E2D;&#x5B9A;&#x4E49;&#x865A;&#x51FD;&#x6570;&#xFF0C;&#x4EE5;&#x4FBF;&#x5728;&#x6D3E;&#x751F;&#x7C7B;&#x4E2D;&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x8BE5;&#x51FD;&#x6570;&#x66F4;&#x597D;&#x5730;&#x9002;&#x7528;&#x4E8E;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x60A8;&#x5728;&#x57FA;&#x7C7B;&#x4E2D;&#x53C8;&#x4E0D;&#x80FD;&#x5BF9;&#x865A;&#x51FD;&#x6570;&#x7ED9;&#x51FA;&#x6709;&#x610F;&#x4E49;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x7528;&#x5230;&#x7EAF;&#x865A;&#x51FD;&#x6570;&#x3002; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A;&#x57FA;&#x7C7B;&#x4E2D;&#x7684;&#x865A;&#x51FD;&#x6570; area() &#x6539;&#x5199;&#x5982;&#x4E0B;&#xFF1A; class Shape { protected: int width, height; public: Shape( int a=0, int b=0) { width = a; height = b; } // pure virtual function virtual int area() = 0; }; = 0 &#x544A;&#x8BC9;&#x7F16;&#x8BD1;&#x5668;&#xFF0C;&#x51FD;&#x6570;&#x6CA1;&#x6709;&#x4E3B;&#x4F53;&#xFF0C;&#x4E0A;&#x9762;&#x7684;&#x865A;&#x51FD;&#x6570;&#x662F;&#x7EAF;&#x865A;&#x51FD;&#x6570;&#x3002; C++&#x7ED3;&#x6784;&#x4F53;&#x5BF9;&#x9F50;#pragma pack(8) typedef struct MyStruct1{ char xue; //virtual void test1(){ // //}; //virtual void test2() { //}; }tt1; #pragma pack() int main() { tt1 ss1; printf("%d",sizeof(ss1)); getchar(); return 0; } &#x7ED3;&#x679C;&#x4E3A;1 #pragma pack(8) typedef struct MyStruct1{ char xue; virtual void test1(){ }; //virtual void test2() { //}; }tt1; #pragma pack() int main() { tt1 ss1; printf("%d",sizeof(ss1)); getchar(); return 0; } &#x7ED3;&#x679C;&#x4E3A;8 #pragma pack(8) typedef struct MyStruct1{ char xue; virtual void test1(){ }; virtual void test2() { }; }tt1; #pragma pack() int main() { tt1 ss1; printf("%d",sizeof(ss1)); getchar(); return 0; } &#x7ED3;&#x679C;&#x8FD8;&#x662F;8 #pragma pack(8) typedef struct MyStruct1{ /*char xue;*/ virtual void test1(){ }; //virtual void test2() { //}; }tt1; #pragma pack() int main() { tt1 ss1; printf("%d",sizeof(ss1)); getchar(); return 0; } &#x7ED3;&#x679C;&#x4E3A;4 #pragma pack(8) typedef struct MyStruct1{ /*char xue;*/ virtual void test1(){ }; virtual void test2() { }; }tt1; #pragma pack() int main() { tt1 ss1; printf("%d",sizeof(ss1)); getchar(); return 0; } &#x7ED3;&#x679C;&#x8FD8;&#x662F;4 C++&#x7C7B;&#x5BF9;&#x9F50;class Shape { protected: int a; public: //Shape() //{ //} //int area() //{ // cout < "Parent class area :" < endl; // return 0; //} }; // &#x7A0B;&#x5E8F;&#x7684;&#x4E3B;&#x51FD;&#x6570; int main() { Shape shape; cout < sizeof(shape); return 0; }]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fwai-gua-c-yu-yan.html</url>
    <content type="text"><![CDATA[&#x6307;&#x9488;1.&#x6982;&#x5FF5;&#x4E00;&#x5E26;*&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x8D4B;&#x503C;&#x65F6;&#x53EA;&#x80FD;&#x4F7F;&#x7528;&#x201D;&#x5B8C;&#x6574;&#x5199;&#x6CD5;&#x201D; int* a = 100 b = (int*) a &#x5E26;*&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x5BBD;&#x5EA6;&#x6C38;&#x8FDC;&#x662F;4&#x5B57;&#x8282; &#x65E0;&#x8BBA;&#x7C7B;&#x578B;&#x662F;&#x4EC0;&#x4E48; &#x65E0;&#x8BBA;&#x6709;&#x51E0;&#x4E2A; * 2.&#x6982;&#x5FF5;&#x4E8C;&#x5E26;*&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF; , ++ &#x6216;&#x8005; &#x2013;&#x65B0;&#x589E;(&#x51CF;&#x5C11;)&#x7684;&#x6570;&#x91CF;&#x662F;&#x53BB;&#x6389;&#x4E00;&#x4E2A; *&#x540E;&#x53D8;&#x91CF;&#x7684;&#x5BBD;&#x5EA6; short* s = 100; s++; s&#x7684;&#x7ED3;&#x679C;&#x4E3A;102 short** s =100; s++; s&#x7684;&#x7ED3;&#x679C;&#x4E3A;104 3.&#x6982;&#x5FF5;&#x4E09;char** d = NULL; d=(char**)100; d=d+5; printf(&#x201C;%d\n&#x201D;,d) char** &#x53BB;&#x6389;&#x4E00;&#x4E2A; *&#x4EE5;&#x540E;&#x662F;4&#x4E2A;&#x5B57;&#x8282; &#x5411;&#x53F3;&#x504F;&#x79FB;5&#x4E2A;char*&#x7684;&#x5BBD;&#x5EA6; &#x6240;&#x4EE5;&#x7ED3;&#x679C;&#x4E3A;120 char* d = NULL; d=(char*)100; d=d+5; printf(&#x201C;%d\n&#x201D;,d) char* &#x53BB;&#x6389;&#x4E00;&#x4E2A; *&#x4EE5;&#x540E;&#x662F;1&#x4E2A;&#x5B57;&#x8282; &#x5411;&#x53F3;&#x504F;&#x79FB;5&#x4E2A;char&#x7684;&#x5BBD;&#x5EA6; &#x6240;&#x4EE5;&#x7ED3;&#x679C;&#x4E3A;105 1.&#x5E26;*&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x53EF;&#x4EE5;&#x52A0;&#x3001;&#x51CF;&#x4E00;&#x4E2A;&#x6574;&#x6570;,&#x5355;&#x4E0D;&#x80FD;&#x4E58;&#x6216;&#x8005;&#x9664; 2.&#x5E26;*&#x7C7B;&#x578B;&#x53D8;&#x91CF;&#x4E0E;&#x5176;&#x4ED6;&#x6574;&#x6570;&#x76F8;&#x52A0;&#x6216;&#x8005;&#x76F8;&#x51CF;&#x65F6;, &#x200B; &#x5E26;&#x7C7B;&#x578B;&#x53D8;&#x91CF; + N = &#x5E26;*&#x7C7B;&#x578B;&#x53D8;&#x91CF; + N(&#x53BB;&#x6389;&#x4E00;&#x4E2A; *&#x540E;&#x7C7B;&#x578B;&#x7684;&#x5BBD;&#x5EA6;) &#x200B; &#x5E26;*&#x7C7B;&#x578B;&#x53D8;&#x91CF; - N = &#x5E26; *&#x7C7B;&#x578B;&#x53D8;&#x91CF; - N *&#xFF08;&#x53BB;&#x6389;&#x4E00;&#x4E2A; *&#x540E;&#x7C7B;&#x578B;&#x7684;&#x5BBD;&#x5EA6;&#xFF09; 4.&#x6982;&#x5FF5;&#x56DB;int[] arr = {0,1,2,3,4,5,6,7,8,9} for(int i = 0; i &lt; 10; i++){ printf("%d\n",*(arr+i)); } &#x8FD9;&#x91CC;printf&#x51FD;&#x6570;&#x91CC;&#x9762;&#x7684;arr&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&amp;arr[0] &#x53D6;&#x6570;&#x7EC4;&#x9996;&#x5730;&#x5740; &#x5B83;&#x9700;&#x8981;&#x7528;&#x4E00;&#x4E2A;int* &#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x53BB;&#x63A5;&#x6536; &#x90A3;&#x4E48;arr+1&#x7684;&#x65F6;&#x5019;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;int* arr&#x5411;&#x53F3;&#x504F;&#x79FB;4(&#x53BB;&#x6389;&#x4E00;&#x4E2A;*sizeof)&#x4E2A;&#x5B57;&#x8282;&#x521A;&#x597D;&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;int&#x578B;&#x7684;&#x6574;&#x6570; 5.&#x6982;&#x5FF5;&#x4E94;short* a; short* b; a = (short*)200; b = (short*)100; int x = a - b; printf("%d\n",x); &#x7ED3;&#x679C;&#x4E3A;50 &#x4E24;&#x4E2A;&#x7C7B;&#x578B;&#x76F8;&#x540C;&#x7684;&#x5E26;*&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x51CF;&#x6CD5;&#x64CD;&#x4F5C; &#x76F8;&#x51CF;&#x7684;&#x7ED3;&#x679C;&#x8981;&#x9664;&#x4EE5;&#x53BB;&#x6389;&#x4E00;&#x4E2A;*&#x7684;&#x6570;&#x636E;&#x5BBD;&#x5EA6; 6.&#x6982;&#x5FF5;&#x516D;char** a; char** b; a = (char**)200; b = (char**)100; if(a>b){ printf("%d\n",1); }else{ printf("%d\n",2) } &#x7ED3;&#x679C;&#x4E3A;1 &#x4F5C;&#x4E1A;&#x9898;&#x8BA1;&#x7B97;char** arr[10];&#x7684;&#x957F;&#x5EA6; int main() { char** arr[10]; int len = sizeof(arr); printf("%d",len); getchar(); return 0; } &#x5E26;*&#x7684;&#x53D8;&#x91CF;,&#x5982;&#x679C;&#x7C7B;&#x578B;&#x76F8;&#x540C;,&#x53EF;&#x4EE5;&#x505A;&#x5927;&#x5C0F;&#x6BD4;&#x8F83;. &#x7ED3;&#x6784;&#x4F53;&#x5B9A;&#x4E49;&#x7ED3;&#x6784;&#x4F53;&#x683C;&#x5F0F;: struct tag { member-list member-list member-list ... } variable-list ; tag &#x662F;&#x7ED3;&#x6784;&#x4F53;&#x6807;&#x7B7E;&#x3002; member-list &#x662F;&#x6807;&#x51C6;&#x7684;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#xFF0C;&#x6BD4;&#x5982; int i; &#x6216;&#x8005; float f&#xFF0C;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x6709;&#x6548;&#x7684;&#x53D8;&#x91CF;&#x5B9A;&#x4E49;&#x3002; variable-list &#x7ED3;&#x6784;&#x53D8;&#x91CF;&#xFF0C;&#x5B9A;&#x4E49;&#x5728;&#x7ED3;&#x6784;&#x7684;&#x672B;&#x5C3E;&#xFF0C;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5206;&#x53F7;&#x4E4B;&#x524D;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x7ED3;&#x6784;&#x53D8;&#x91CF;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x58F0;&#x660E; Book &#x7ED3;&#x6784;&#x7684;&#x65B9;&#x5F0F;&#xFF1A; struct Books { char title[50]; char author[50]; char subject[100]; int book_id; } book; &#x7ED3;&#x6784;&#x4F53;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x65B9;&#x5F0F;&#x4E00;:struct SIMPLE { int a; char b; double c; }; struct SIMPLE t1, t2, t3; &#x65B9;&#x5F0F;&#x4E8C;:typedef struct { int a; char b; double c; } Simple2; Simple2 s1, s2, s3; &#x65B9;&#x5F0F;&#x4E09;:typedef struct MyStruct1 { int a; char b; double c; } tt; tt t1, t2, t3;&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6210;&#x5458;&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6210;&#x5458;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x5176;&#x4ED6;&#x7ED3;&#x6784;&#x4F53;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x6307;&#x5411;&#x81EA;&#x5DF1;&#x7ED3;&#x6784;&#x4F53;&#x7C7B;&#x578B;&#x7684;&#x6307;&#x9488;&#xFF0C; struct SIMPLE { int a; char b; double c; }; struct COMPLEX { char string[100]; struct SIMPLE a; }; //&amp;#x6B64;&amp;#x7ED3;&amp;#x6784;&amp;#x4F53;&amp;#x7684;&amp;#x58F0;&amp;#x660E;&amp;#x5305;&amp;#x542B;&amp;#x4E86;&amp;#x6307;&amp;#x5411;&amp;#x81EA;&amp;#x5DF1;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6307;&amp;#x9488; struct NODE { char string[100]; struct NODE* next_node; }; &#x5982;&#x679C;&#x4E24;&#x4E2A;&#x7ED3;&#x6784;&#x4F53;&#x4E92;&#x76F8;&#x5305;&#x542B;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5BF9;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x7ED3;&#x6784;&#x4F53;&#x8FDB;&#x884C;&#x4E0D;&#x5B8C;&#x6574;&#x58F0;&#x660E; struct B; //&amp;#x5BF9;&amp;#x7ED3;&amp;#x6784;&amp;#x4F53;B&amp;#x8FDB;&amp;#x884C;&amp;#x4E0D;&amp;#x5B8C;&amp;#x6574;&amp;#x58F0;&amp;#x660E; //&amp;#x7ED3;&amp;#x6784;&amp;#x4F53;A&amp;#x4E2D;&amp;#x5305;&amp;#x542B;&amp;#x6307;&amp;#x5411;&amp;#x7ED3;&amp;#x6784;&amp;#x4F53;B&amp;#x7684;&amp;#x6307;&amp;#x9488; struct A { struct B *partner; //other members; }; //&amp;#x7ED3;&amp;#x6784;&amp;#x4F53;B&amp;#x4E2D;&amp;#x5305;&amp;#x542B;&amp;#x6307;&amp;#x5411;&amp;#x7ED3;&amp;#x6784;&amp;#x4F53;A&amp;#x7684;&amp;#x6307;&amp;#x9488;&amp;#xFF0C;&amp;#x5728;A&amp;#x58F0;&amp;#x660E;&amp;#x5B8C;&amp;#x540E;&amp;#xFF0C;B&amp;#x4E5F;&amp;#x968F;&amp;#x4E4B;&amp;#x8FDB;&amp;#x884C;&amp;#x58F0;&amp;#x660E; struct B { struct A *partner; //other members; }; &#x7ED3;&#x6784;&#x4F53;&#x7684;&#x521D;&#x59CB;&#x5316;#include &lt;stdio.h> struct Books { char title[50]; char author[50]; char subject[100]; int book_id; } book = {"C &amp;#x8BED;&amp;#x8A00;", "RUNOOB", "&amp;#x7F16;&amp;#x7A0B;&amp;#x8BED;&amp;#x8A00;", 123456}; int main() { printf("title : %s\nauthor: %s\nsubject: %s\nbook_id: %d\n", book.title, book.author, book.subject, book.book_id); } &#x7ED3;&#x679C;&#x4E3A;: title : C &#x8BED;&#x8A00; author: RUNOOB subject: &#x7F16;&#x7A0B;&#x8BED;&#x8A00; book_id: 123456&#x8BBF;&#x95EE;&#x7ED3;&#x6784;&#x6210;&#x5458;#include &lt;stdio.h> #include &lt;string.h> struct Books { char title[50]; char author[50]; char subject[100]; int book_id; }; int main( ) { struct Books Book1; /* &amp;#x58F0;&amp;#x660E; Book1&amp;#xFF0C;&amp;#x7C7B;&amp;#x578B;&amp;#x4E3A; Books */ struct Books Book2; /* &amp;#x58F0;&amp;#x660E; Book2&amp;#xFF0C;&amp;#x7C7B;&amp;#x578B;&amp;#x4E3A; Books */ /* Book1 &amp;#x8BE6;&amp;#x8FF0; */ strcpy( Book1.title, "C Programming"); strcpy( Book1.author, "Nuha Ali"); strcpy( Book1.subject, "C Programming Tutorial"); Book1.book_id = 6495407; /* Book2 &amp;#x8BE6;&amp;#x8FF0; */ strcpy( Book2.title, "Telecom Billing"); strcpy( Book2.author, "Zara Ali"); strcpy( Book2.subject, "Telecom Billing Tutorial"); Book2.book_id = 6495700; /* &amp;#x8F93;&amp;#x51FA; Book1 &amp;#x4FE1;&amp;#x606F; */ printf( "Book 1 title : %s\n", Book1.title); printf( "Book 1 author : %s\n", Book1.author); printf( "Book 1 subject : %s\n", Book1.subject); printf( "Book 1 book_id : %d\n", Book1.book_id); /* &amp;#x8F93;&amp;#x51FA; Book2 &amp;#x4FE1;&amp;#x606F; */ printf( "Book 2 title : %s\n", Book2.title); printf( "Book 2 author : %s\n", Book2.author); printf( "Book 2 subject : %s\n", Book2.subject); printf( "Book 2 book_id : %d\n", Book2.book_id); return 0; } &#x7ED3;&#x679C;&#x4E3A;: Book 1 title : C Programming Book 1 author : Nuha Ali Book 1 subject : C Programming Tutorial Book 1 book_id : 6495407 Book 2 title : Telecom Billing Book 2 author : Zara Ali Book 2 subject : Telecom Billing Tutorial Book 2 book_id : 6495700&#x7ED3;&#x6784;&#x4F53;&#x4F5C;&#x4E3A;&#x51FD;&#x6570;&#x53C2;&#x6570;#include &lt;stdio.h> #include &lt;string.h> struct Books { char title[50]; char author[50]; char subject[100]; int book_id; }; /* &amp;#x51FD;&amp;#x6570;&amp;#x58F0;&amp;#x660E; */ void printBook( struct Books book ); int main( ) { struct Books Book1; /* &amp;#x58F0;&amp;#x660E; Book1&amp;#xFF0C;&amp;#x7C7B;&amp;#x578B;&amp;#x4E3A; Books */ struct Books Book2; /* &amp;#x58F0;&amp;#x660E; Book2&amp;#xFF0C;&amp;#x7C7B;&amp;#x578B;&amp;#x4E3A; Books */ /* Book1 &amp;#x8BE6;&amp;#x8FF0; */ strcpy( Book1.title, "C Programming"); strcpy( Book1.author, "Nuha Ali"); strcpy( Book1.subject, "C Programming Tutorial"); Book1.book_id = 6495407; /* Book2 &amp;#x8BE6;&amp;#x8FF0; */ strcpy( Book2.title, "Telecom Billing"); strcpy( Book2.author, "Zara Ali"); strcpy( Book2.subject, "Telecom Billing Tutorial"); Book2.book_id = 6495700; /* &amp;#x8F93;&amp;#x51FA; Book1 &amp;#x4FE1;&amp;#x606F; */ printBook( Book1 ); /* &amp;#x8F93;&amp;#x51FA; Book2 &amp;#x4FE1;&amp;#x606F; */ printBook( Book2 ); return 0; } void printBook( struct Books book ) { printf( "Book title : %s\n", book.title); printf( "Book author : %s\n", book.author); printf( "Book subject : %s\n", book.subject); printf( "Book book_id : %d\n", book.book_id); } &#x7ED3;&#x679C;&#x4E3A;: Book title : C Programming Book author : Nuha Ali Book subject : C Programming Tutorial Book book_id : 6495407 Book title : Telecom Billing Book author : Zara Ali Book subject : Telecom Billing Tutorial Book book_id : 6495700&#x6307;&#x5411;&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6307;&#x9488;&#x5B9A;&#x4E49;&#x6307;&#x5411;&#x7ED3;&#x6784;&#x4F53;&#x7684;&#x6307;&#x9488;&#xFF0C;&#x65B9;&#x5F0F;&#x4E0E;&#x5B9A;&#x4E49;&#x6307;&#x5411;&#x5176;&#x4ED6;&#x7C7B;&#x578B;&#x53D8;&#x91CF;&#x7684;&#x6307;&#x9488;&#x76F8;&#x4F3C; struct Books* struct_pointer;&#x5728;&#x4E0A;&#x8FF0;&#x5B9A;&#x4E49;&#x7684;&#x6307;&#x9488;&#x53D8;&#x91CF;&#x4E2D;&#x5B58;&#x50A8;&#x7ED3;&#x6784;&#x53D8;&#x91CF;&#x7684;&#x5730;&#x5740; struct_pointer = &amp;Book1;&#x4F7F;&#x7528;&#x6307;&#x5411;&#x8BE5;&#x7ED3;&#x6784;&#x7684;&#x6307;&#x9488;&#x8BBF;&#x95EE;&#x7ED3;&#x6784;&#x7684;&#x6210;&#x5458;&#xFF0C;&#x5FC5;&#x987B;&#x4F7F;&#x7528; -&gt; &#x8FD0;&#x7B97;&#x7B26; struct_pointer-&gt;title;example: #include &lt;stdio.h> #include &lt;string.h> struct Books { char title[50]; char author[50]; char subject[100]; int book_id; }; /* &amp;#x51FD;&amp;#x6570;&amp;#x58F0;&amp;#x660E; */ void printBook( struct Books *book ); int main( ) { struct Books Book1; /* &amp;#x58F0;&amp;#x660E; Book1&amp;#xFF0C;&amp;#x7C7B;&amp;#x578B;&amp;#x4E3A; Books */ struct Books Book2; /* &amp;#x58F0;&amp;#x660E; Book2&amp;#xFF0C;&amp;#x7C7B;&amp;#x578B;&amp;#x4E3A; Books */ /* Book1 &amp;#x8BE6;&amp;#x8FF0; */ strcpy( Book1.title, "C Programming"); strcpy( Book1.author, "Nuha Ali"); strcpy( Book1.subject, "C Programming Tutorial"); Book1.book_id = 6495407; /* Book2 &amp;#x8BE6;&amp;#x8FF0; */ strcpy( Book2.title, "Telecom Billing"); strcpy( Book2.author, "Zara Ali"); strcpy( Book2.subject, "Telecom Billing Tutorial"); Book2.book_id = 6495700; /* &amp;#x901A;&amp;#x8FC7;&amp;#x4F20; Book1 &amp;#x7684;&amp;#x5730;&amp;#x5740;&amp;#x6765;&amp;#x8F93;&amp;#x51FA; Book1 &amp;#x4FE1;&amp;#x606F; */ printBook( &amp;Book1 ); /* &amp;#x901A;&amp;#x8FC7;&amp;#x4F20; Book2 &amp;#x7684;&amp;#x5730;&amp;#x5740;&amp;#x6765;&amp;#x8F93;&amp;#x51FA; Book2 &amp;#x4FE1;&amp;#x606F; */ printBook( &amp;Book2 ); return 0; } void printBook( struct Books *book ) { printf( "Book title : %s\n", book->title); printf( "Book author : %s\n", book->author); printf( "Book subject : %s\n", book->subject); printf( "Book book_id : %d\n", book->book_id); } Book title : C Programming Book author : Nuha Ali Book subject : C Programming Tutorial Book book_id : 6495407 Book title : Telecom Billing Book author : Zara Ali Book subject : Telecom Billing Tutorial Book book_id : 6495700&#x4F4D;&#x57DF;&#x5B9A;&#x4E49;&#x683C;&#x5F0F;: struct &amp;#x4F4D;&amp;#x57DF;&amp;#x7ED3;&amp;#x6784;&amp;#x540D; { &amp;#x4F4D;&amp;#x57DF;&amp;#x540D;: &amp;#x4F4D;&amp;#x57DF;&amp;#x957F;&amp;#x5EA6; &amp;#x4F4D;&amp;#x57DF;&amp;#x540D;: &amp;#x4F4D;&amp;#x57DF;&amp;#x957F;&amp;#x5EA6; &amp;#x4F4D;&amp;#x57DF;&amp;#x540D;: &amp;#x4F4D;&amp;#x57DF;&amp;#x957F;&amp;#x5EA6; }; &#x6848;&#x4F8B;: struct bs{ int a:8; int b:2; int c:6; }data; data &#x4E3A; bs &#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5171;&#x5360;&#x4E24;&#x4E2A;&#x5B57;&#x8282;&#x3002;&#x5176;&#x4E2D;&#x4F4D;&#x57DF; a &#x5360; 8 &#x4F4D;&#xFF0C;&#x4F4D;&#x57DF; b &#x5360; 2 &#x4F4D;&#xFF0C;&#x4F4D;&#x57DF; c &#x5360; 6 &#x4F4D; &#x6848;&#x4F8B;: struct packed_struct { unsigned int a:1; unsigned int b:1; unsigned int c:1; unsigned int d:1; unsigned int e:4; unsigned int f:9; } pack; packed_struct &#x5305;&#x542B;&#x4E86; 6 &#x4E2A;&#x6210;&#x5458;&#xFF1A;&#x56DB;&#x4E2A; 1 &#x4F4D;&#x7684;&#x6807;&#x8BC6;&#x7B26; a..d&#x3001;&#x4E00;&#x4E2A; 4 &#x4F4D;&#x7684; e &#x548C;&#x4E00;&#x4E2A; 9 &#x4F4D;&#x7684; f&#x3002; &#x7A7A;&#x57DF;struct bs{ unsigned a:4; unsigned :4; /* &amp;#x7A7A;&amp;#x57DF; */ unsigned b:4; /* &amp;#x4ECE;&amp;#x4E0B;&amp;#x4E00;&amp;#x5355;&amp;#x5143;&amp;#x5F00;&amp;#x59CB;&amp;#x5B58;&amp;#x653E; */ unsigned c:4 } &#x5728;&#x8FD9;&#x4E2A;&#x4F4D;&#x57DF;&#x5B9A;&#x4E49;&#x4E2D;&#xFF0C;a &#x5360;&#x7B2C;&#x4E00;&#x5B57;&#x8282;&#x7684; 4 &#x4F4D;&#xFF0C;&#x540E; 4 &#x4F4D;&#x586B; 0 &#x8868;&#x793A;&#x4E0D;&#x4F7F;&#x7528;&#xFF0C;b &#x4ECE;&#x7B2C;&#x4E8C;&#x5B57;&#x8282;&#x5F00;&#x59CB;&#xFF0C;&#x5360;&#x7528; 4 &#x4F4D;&#xFF0C;c &#x5360;&#x7528; 4 &#x4F4D;&#x3002; &#x65E0;&#x540D;&#x4F4D;&#x57DF;struct k{ int a:1; int :2; /* &amp;#x8BE5; 2 &amp;#x4F4D;&amp;#x4E0D;&amp;#x80FD;&amp;#x4F7F;&amp;#x7528; */ int b:3; int c:2; }; &#x4F4D;&#x57DF;&#x53EF;&#x4EE5;&#x662F;&#x65E0;&#x540D;&#x4F4D;&#x57DF;&#xFF0C;&#x8FD9;&#x65F6;&#x5B83;&#x53EA;&#x7528;&#x6765;&#x4F5C;&#x586B;&#x5145;&#x6216;&#x8C03;&#x6574;&#x4F4D;&#x7F6E;&#x3002;&#x65E0;&#x540D;&#x7684;&#x4F4D;&#x57DF;&#x662F;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x7684; &#x603B;&#x7ED3;:&#x4ECE;&#x4EE5;&#x4E0A;&#x5206;&#x6790;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x4F4D;&#x57DF;&#x5728;&#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x79CD;&#x7ED3;&#x6784;&#x7C7B;&#x578B;&#xFF0C;&#x4E0D;&#x8FC7;&#x5176;&#x6210;&#x5458;&#x662F;&#x6309;&#x4E8C;&#x8FDB;&#x4F4D;&#x5206;&#x914D;&#x7684;&#x3002;&#x4F4D;&#x57DF;&#x7684;&#x4F7F;&#x7528;&#x4F4D;&#x57DF;&#x7684;&#x4F7F;&#x7528;&#x548C;&#x7ED3;&#x6784;&#x6210;&#x5458;&#x7684;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#xFF0C;&#x5176;&#x4E00;&#x822C;&#x5F62;&#x5F0F;&#x4E3A;&#xFF1A; &#x4F4D;&#x57DF;&#x53D8;&#x91CF;&#x540D;.&#x4F4D;&#x57DF;&#x540D; &#x4F4D;&#x57DF;&#x53D8;&#x91CF;&#x540D;-&gt;&#x4F4D;&#x57DF;&#x540D;&#x6848;&#x4F8B;: main(){ struct bs{ unsigned a:1; unsigned b:3; unsigned c:4; } bit,*pbit; bit.a=1; /* &amp;#x7ED9;&amp;#x4F4D;&amp;#x57DF;&amp;#x8D4B;&amp;#x503C;&amp;#xFF08;&amp;#x5E94;&amp;#x6CE8;&amp;#x610F;&amp;#x8D4B;&amp;#x503C;&amp;#x4E0D;&amp;#x80FD;&amp;#x8D85;&amp;#x8FC7;&amp;#x8BE5;&amp;#x4F4D;&amp;#x57DF;&amp;#x7684;&amp;#x5141;&amp;#x8BB8;&amp;#x8303;&amp;#x56F4;&amp;#xFF09; */ bit.b=7; /* &amp;#x7ED9;&amp;#x4F4D;&amp;#x57DF;&amp;#x8D4B;&amp;#x503C;&amp;#xFF08;&amp;#x5E94;&amp;#x6CE8;&amp;#x610F;&amp;#x8D4B;&amp;#x503C;&amp;#x4E0D;&amp;#x80FD;&amp;#x8D85;&amp;#x8FC7;&amp;#x8BE5;&amp;#x4F4D;&amp;#x57DF;&amp;#x7684;&amp;#x5141;&amp;#x8BB8;&amp;#x8303;&amp;#x56F4;&amp;#xFF09; */ bit.c=15; /* &amp;#x7ED9;&amp;#x4F4D;&amp;#x57DF;&amp;#x8D4B;&amp;#x503C;&amp;#xFF08;&amp;#x5E94;&amp;#x6CE8;&amp;#x610F;&amp;#x8D4B;&amp;#x503C;&amp;#x4E0D;&amp;#x80FD;&amp;#x8D85;&amp;#x8FC7;&amp;#x8BE5;&amp;#x4F4D;&amp;#x57DF;&amp;#x7684;&amp;#x5141;&amp;#x8BB8;&amp;#x8303;&amp;#x56F4;&amp;#xFF09; */ printf("%d,%d,%d\n",bit.a,bit.b,bit.c); /* &amp;#x4EE5;&amp;#x6574;&amp;#x578B;&amp;#x91CF;&amp;#x683C;&amp;#x5F0F;&amp;#x8F93;&amp;#x51FA;&amp;#x4E09;&amp;#x4E2A;&amp;#x57DF;&amp;#x7684;&amp;#x5185;&amp;#x5BB9; */ pbit=&amp;bit; /* &amp;#x628A;&amp;#x4F4D;&amp;#x57DF;&amp;#x53D8;&amp;#x91CF; bit &amp;#x7684;&amp;#x5730;&amp;#x5740;&amp;#x9001;&amp;#x7ED9;&amp;#x6307;&amp;#x9488;&amp;#x53D8;&amp;#x91CF; pbit */ pbit->a=0; /* &amp;#x7528;&amp;#x6307;&amp;#x9488;&amp;#x65B9;&amp;#x5F0F;&amp;#x7ED9;&amp;#x4F4D;&amp;#x57DF; a &amp;#x91CD;&amp;#x65B0;&amp;#x8D4B;&amp;#x503C;&amp;#xFF0C;&amp;#x8D4B;&amp;#x4E3A; 0 */ pbit->b&amp;=3; /* &amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x590D;&amp;#x5408;&amp;#x7684;&amp;#x4F4D;&amp;#x8FD0;&amp;#x7B97;&amp;#x7B26; "&amp;="&amp;#xFF0C;&amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#xFF1A;pbit->b=pbit->b&amp;3&amp;#xFF0C;&amp;#x4F4D;&amp;#x57DF; b &amp;#x4E2D;&amp;#x539F;&amp;#x6709;&amp;#x503C;&amp;#x4E3A; 7&amp;#xFF0C;&amp;#x4E0E; 3 &amp;#x4F5C;&amp;#x6309;&amp;#x4F4D;&amp;#x4E0E;&amp;#x8FD0;&amp;#x7B97;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#x4E3A; 3&amp;#xFF08;111&amp;011=011&amp;#xFF0C;&amp;#x5341;&amp;#x8FDB;&amp;#x5236;&amp;#x503C;&amp;#x4E3A; 3&amp;#xFF09; */ pbit->c|=1; /* &amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x590D;&amp;#x5408;&amp;#x4F4D;&amp;#x8FD0;&amp;#x7B97;&amp;#x7B26;"|="&amp;#xFF0C;&amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#xFF1A;pbit->c=pbit->c|1&amp;#xFF0C;&amp;#x5176;&amp;#x7ED3;&amp;#x679C;&amp;#x4E3A; 15 */ printf("%d,%d,%d\n",pbit->a,pbit->b,pbit->c); /* &amp;#x7528;&amp;#x6307;&amp;#x9488;&amp;#x65B9;&amp;#x5F0F;&amp;#x8F93;&amp;#x51FA;&amp;#x4E86;&amp;#x8FD9;&amp;#x4E09;&amp;#x4E2A;&amp;#x57DF;&amp;#x7684;&amp;#x503C; */ } &#x4E0A;&#x4F8B;&#x7A0B;&#x5E8F;&#x4E2D;&#x5B9A;&#x4E49;&#x4E86;&#x4F4D;&#x57DF;&#x7C7B;&#x578B;&#x7684;&#x7ED3;&#x6784;&#x4F53; bs&#xFF0C;&#x4E09;&#x4E2A;&#x4F4D;&#x57DF;&#x4E3A; a&#x3001;b&#x3001;c&#x3002;&#x58F0;&#x660E;&#x4E86; bs &#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF; bit &#x548C;&#x6307;&#x5411; bs &#x7C7B;&#x578B;&#x7684;&#x6307;&#x9488;&#x53D8;&#x91CF; pbit&#x3002;&#x8FD9;&#x8868;&#x793A;&#x4F4D;&#x57DF;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6307;&#x9488;&#x7684;&#x3002; &#x5BF9;&#x9F50;#pragma pack(1) typedef struct MyStruct{ int money;//4 __int64 xue;//8 char sudu;//1 }tt; typedef struct MyStruct1{ int money;//4 char sudu;//1 __int64 xue;//8 }tt1; #pragma pack() int main() { tt ss; tt1 ss1; printf("%d,%d\n", sizeof(ss), sizeof(ss1)); getchar(); return 0; } int money(1) int money(2) int money(3) int money(4) __int64 xue(1) __int64 xue(2) __int64 xue(3) __int64 xue(4) __int64 xue(5) __int64 xue(6) __int64 xue(7) __int64 xue(8) char sudu(1) #pragma pack(2) typedef struct MyStruct{ int money;//4 __int64 xue;//8 char sudu;//1 }tt; typedef struct MyStruct1{ int money;//4 char sudu;//1 __int64 xue;//8 }tt1; #pragma pack() int main() { tt ss; tt1 ss1; printf("%d,%d\n", sizeof(ss), sizeof(ss1)); getchar(); return 0; } int money(1) int money(2) int money(3) int money(4) __int64 xue(1) __int64 xue(2) __int64 xue(3) __int64 xue(4) __int64 xue(5) __int64 xue(6) __int64 xue(7) __int64 xue(8) char sudu(1) 0 &#x586B;&#x5145;&#x5B57;&#x8282;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x7528;1,2,4,8&#x7B49;&#x7B49;&#x7684;&#x6570;&#x636E;&#x533A;&#x586B;&#x5145; #pragma pack(2) typedef struct MyStruct{ int money;//4 __int64 xue;//8 char sudu;//1 }tt; typedef struct MyStruct1{ int money;//4 char sudu;//1 __int64 xue;//8 }tt1; #pragma pack() int main() { tt ss; tt1 ss1; printf("%d,%d\n", sizeof(ss), sizeof(ss1)); getchar(); return 0; } int money(1) int money(2) int money(3) int money(4) 0 0 0 0 __int64 xue(1) __int64 xue(2) __int64 xue(3) __int64 xue(4) __int64 xue(5) __int64 xue(6) __int64 xue(7) __int64 xue(8) char sudu(1) 0 0 0 0 0 0 0 int money(1) int money(2) int money(3) int money(4) char sudu(1) 0 0 0 __int64 xue(1) __int64 xue(2) __int64 xue(3) __int64 xue(4) __int64 xue(5) __int64 xue(6) __int64 xue(7) __int64 xue(8) &#x7ED3;&#x8BBA;1#pragma pack()&#x91CC;&#x9762;&#x4EE5;&#x51E0;&#x5BF9;&#x9F50;&#x5C31;&#x753B;&#x51E0;&#x5217;,&#x5982;&#x679C;&#x5F53;&#x524D;&#x53D8;&#x91CF;&#x653E;&#x4E0D;&#x4E0B;&#x5219;&#x53E6;&#x8D77;&#x4E00;&#x884C;&#x653E;&#x5165;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x7ED3;&#x8BBA;&#x4E0D;&#x5B8C;&#x5168;&#x6B63;&#x786E;!!! &#x4F8B;&#x5982;: #pragma pack(8) typedef struct MyStruct1{ char xue; char a; int arr[3]; int b; }tt1; #pragma pack() int main() { tt ss; tt1 ss1; printf("%d,%d\n", sizeof(ss), sizeof(ss1)); getchar(); return 0; } #pragma pack(8) typedef struct MyStruct1{ char xue; char a; char arr[3]; char b; }tt1; #pragma pack() int main() { tt ss; tt1 ss1; printf("%d,%d\n", sizeof(ss), sizeof(ss1)); getchar(); return 0; } &#x5982;&#x679C;&#x4EE5;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x5B58;&#x653E;&#x662F;&#x628A;&#x6570;&#x7EC4;&#x62C6;&#x5F00;&#x653E;&#x5165;&#x5230;pack&#x4E2D;,&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x4E2A;&#x4F53;&#x5E76;&#x4E0D;&#x662F;&#x6574;&#x4E2A;&#x6570;&#x7EC4;&#x5FC5;&#x987B;&#x72EC;&#x5360;&#x4E00;&#x884C; &#x7ED3;&#x8BBA;2&#x6B64;&#x65F6;&#x5982;&#x679C;&#x7ED3;&#x6784;&#x4F53;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5C0F;&#x4E8E;&#x5BF9;&#x9F50;&#x7684;&#x5B57;&#x8282;&#x957F;&#x5EA6;&#x5219;&#x4EE5;&#x7ED3;&#x6784;&#x4F53;&#x4E2D;&#x6700;&#x5927;&#x7684;&#x90A3;&#x4E2A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E3A;&#x51C6;&#x6B64;&#x65F6;&#x4E0D;&#x518D;&#x4EE5;8&#x4E2A;&#x5B57;&#x8282;&#x5BF9;&#x9F50;,&#x800C;&#x662F;&#x4EE5;4&#x4E2A;&#x5B57;&#x8282;&#x5BF9;&#x9F50; &#x7ED3;&#x6784;&#x4F53;&#x4E2D;&#x5957;&#x7ED3;&#x6784;&#x4F53;#pragma pack(8) typedef struct MyStruct1{ int money;//4 char sudu;//1 __int64 xue;//8 }tt1; typedef struct MyStruct{ char xue; int a; char arr[3]; char b; tt1 kk; }tt; #pragma pack() int main() { tt ss; tt1 ss1; printf("%d,%d\n", sizeof(ss), sizeof(ss1)); getchar(); return 0; } char xue(1) int a(1) int a(2) int a(3) int a(4) char arr[0] char arr[1] char arr[2] char b 0 0 0 0 0 0 0 int money(1) int money(2) int money(3) int money(4) char sudu __int64 xue(1) __int64 xue(2) __int64 xue(3) __int64 xue(4) __int64 xue(5) __int64 xue(6) __int64 xue(7) __int64 xue(8) &#x7ED3;&#x8BBA;3&#x51E1;&#x662F;&#x78B0;&#x5230;&#x7ED3;&#x6784;&#x4F53;&#x5FC5;&#x987B;&#x91CD;&#x65B0;&#x8D77;&#x4E00;&#x884C;#pragma pack(8) typedef struct MyStruct1{ int money;//4 char sudu;//1 int xue;//4 }tt1; typedef struct MyStruct{ char xue; int a; char arr[3]; char b; tt1 kk; }tt; #pragma pack() int main() { tt ss; tt1 ss1; printf("%d,%d\n", sizeof(ss), sizeof(ss1)); getchar(); return 0; } &#x7ED3;&#x8BBA;4&#x5982;&#x679C;&#x7ED3;&#x6784;&#x4F53;&#x4E2D;&#x5957;&#x7ED3;&#x6784;&#x4F53;&#x90A3;&#x4E48;&#x76F8;&#x5F53;&#x4E8E;&#x7EE7;&#x627F; &#x4EE5;&#x91CC;&#x9762;&#x6700;&#x5927;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E3A;&#x51C6;(&#x4E0D;&#x8D85;&#x8FC7;8) &#x6BD4;&#x5982;&#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x5C31;&#x4E0D;&#x518D;&#x662F;&#x753B;8&#x5217;&#x800C;&#x662F;&#x753B;4&#x5217;*&#x548C;&amp;*&#x7528;&#x5728;&#x58F0;&#x660E;&#x65F6;,&#x662F;&#x58F0;&#x660E;&#x4E00;&#x4E2A;&#x6307;&#x9488; *&#x7528;&#x5728;&#x4F7F;&#x7528;&#x65F6;,&#x662F;&#x53D6;&#x6307;&#x9488;&#x7684;&#x4E00;&#x4E2A;&#x503C; *&#x8FD9;&#x4E2A;&#x53D6;&#x5730;&#x5740;&#x5185;&#x5BB9;,&#x6765;&#x63A5;&#x6536;&#x5B83;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x5FC5;&#x987B;&#x662F; &#x88AB;&#x533A;&#x7684;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x51CF;&#x6389;&#x4E00;&#x4E2A; * &amp;&#x662F;&#x53D6;&#x51FA;&#x67D0;&#x4E2A;&#x53D8;&#x91CF;&#x7684;&#x5730;&#x5740; &#x6307;&#x9488;&#x64CD;&#x4F5C;&#x6570;&#x7EC4;int arr[10]; int* p = &amp;arr[0]; int* p1 = arr; p&#x548C;p1&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;&#x90FD;&#x662F;&#x53D6;&#x6570;&#x7EC4;&#x7684;&#x9996;&#x5730;&#x5740; *(p+i) &#x6B64;&#x65F6;p&#x662F;&#x6570;&#x7EC4;&#x7684;&#x9996;&#x5730;&#x5740;&#x540C;&#x65F6;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x6307;&#x9488;,&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x6307;&#x9488;&#x6307;&#x5411;&#x6570;&#x7EC4;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;,&#x7136;&#x540E;&#x5411;&#x540E;&#x504F;&#x79FB;,&#x6700;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x4E00;&#x4E2A;&#x53D6;&#x503C;. ps: &#x6307;&#x9488;&#x7684;&#x52A0;&#x6CD5;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x5B66;&#x4E60;&#x8FC7;&#x4E86;: int[] arr = {0,1,2,3,4,5,6,7,8,9} for(int i = 0; i &lt; 10; i++){ printf("%d\n",*(arr+i)); } &#x8FD9;&#x91CC;printf&#x51FD;&#x6570;&#x91CC;&#x9762;&#x7684;arr&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&amp;arr[0] &#x53D6;&#x6570;&#x7EC4;&#x9996;&#x5730;&#x5740; &#x5B83;&#x9700;&#x8981;&#x7528;&#x4E00;&#x4E2A;int* &#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x53BB;&#x63A5;&#x6536; &#x90A3;&#x4E48;arr+1&#x7684;&#x65F6;&#x5019;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;int* arr&#x5411;&#x53F3;&#x504F;&#x79FB;4(&#x53BB;&#x6389;&#x4E00;&#x4E2A;*sizeof)&#x4E2A;&#x5B57;&#x8282;&#x521A;&#x597D;&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;int&#x578B;&#x7684;&#x6574;&#x6570; &#x6307;&#x9488;&#x64CD;&#x4F5C;&#x7ED3;&#x6784;&#x4F53;#pragma pack(8)//&amp;#x5047;&amp;#x5982;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E0D;&amp;#x5199;&amp;#x4E5F;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;#pragma pack(8) typedef struct stu { int a;//4 char b;//1 int c;//4 }ss; #pragma pack() void main() { struct stu str; //&amp;#x91CD;&amp;#x65B0;&amp;#x58F0;&amp;#x660E;&amp;#x4E00;&amp;#x4E2A;&amp;#x7ED3;&amp;#x6784;&amp;#x4F53;&amp;#x5BF9;&amp;#x8C61; str.a = 10; str.b = 20; str.c = 30; char* aa; aa = (char*)&amp;str; //&amp;#x628A;&amp;#x7ED3;&amp;#x6784;&amp;#x4F53;&amp;#x7684;&amp;#x9996;&amp;#x5730;&amp;#x5740;&amp;#x8D4B;&amp;#x503C;&amp;#x7ED9;aa&amp;#x6307;&amp;#x9488; printf("%d\n", *(aa + 0)); //10 printf("%d\n", *(aa + 4)); //20 printf("%d\n", *(aa + 8)); } int a(1) int a(2) int a(3) int a(4) char b(1) int c(1) int c(2) int c(3) int c(4) &#x7B2C;&#x4E00;&#x884C;&#x7B2C;&#x4E00;&#x5217;&#x5C31;&#x662F;&#x6211;&#x7684;*(aa + 0) &#x5269;&#x4E0B;&#x7684;&#x4F9D;&#x6B21;&#x7C7B;&#x63A8; &#x8FD9;&#x91CC;&#x4E5F;&#x662F;&#x4F7F;&#x7528;&#x4E86;&#x6307;&#x9488;&#x7684;&#x52A0;&#x6CD5; &#x6A21;&#x62DF;CE&#x4F5C;&#x4E1A;&#x8FD9;&#x4E00;&#x5806;&#x6570;&#x636E;&#x4E2D;&#x5B58;&#x50A8;&#x4E86;&#x89D2;&#x8272;&#x7684;&#x540D;&#x5B57;&#x4FE1;&#x606F;(WOW)&#xFF0C;&#x8BF7;&#x5217;&#x51FA;&#x89D2;&#x8272;&#x540D;&#x7684;&#x5185;&#x5B58;&#x5730;&#x5740; //&amp;#x8FD9;&amp;#x4E00;&amp;#x5806;&amp;#x6570;&amp;#x636E;&amp;#x4E2D;&amp;#x5B58;&amp;#x50A8;&amp;#x4E86;&amp;#x89D2;&amp;#x8272;&amp;#x7684;&amp;#x540D;&amp;#x5B57;&amp;#x4FE1;&amp;#x606F;(WOW)&amp;#xFF0C;&amp;#x8BF7;&amp;#x5217;&amp;#x51FA;&amp;#x89D2;&amp;#x8272;&amp;#x540D;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x5730;&amp;#x5740;. char arr[] = { 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x07,0x09, 0x00,0x20,0x10,0x03,0x03,0x0C,0x00,0x00,0x44,0x00, 0x00,0x33,0x00,0x47,0x0C,0x0E,0x00,0x0D,0x00,0x11, 0x00,0x00,0x00,0x02,0x64,0x00,0x00,0x00,0xAA,0x00, 0x00,0x00,0x64,0x10,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x02,0x00,0x74,0x0F,0x41,0x00,0x00,0x00, 0x01,0x00,0x00,0x00,0x05,0x00,0x00,0x00,0x0A,0x00, 0x00,0x02,0x57,0x4F,0x57,0x00,0x06,0x08,0x00,0x00, 0x00,0x00,0x00,0x64,0x00,0x0F,0x00,0x00,0x0D,0x00, 0x00,0x00,0x23,0x00,0x00,0x64,0x00,0x00,0x64,0x00 }; void main() { char* p_start; char* p_name; p_start = p_name = arr; printf("&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x957F;&amp;#x5EA6;&amp;#x4E3A;: %d\n",sizeof(arr)); //&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;&amp;#x7D22;&amp;#x5F15;&amp;#x5E94;&amp;#x8BE5;&amp;#x662F;98 for (size_t i = 0; i &lt; sizeof(arr)-2; i++){ if (*p_name == &amp;apos;W&amp;apos; &amp;&amp; *(p_name+1) == &amp;apos;O&amp;apos; &amp;&amp; *(p_name + 2) == &amp;apos;W&amp;apos;) { printf("%x,&amp;#x7D22;&amp;#x5F15;&amp;#x503C;&amp;#x4E3A;: %d\n", p_start, i); } p_name = p_start++; } getchar(); } &#x6307;&#x9488;&#x9AD8;&#x7EA7;&#x4E00;&#x7EF4;&#x6307;&#x9488;&#x6570;&#x7EC4;&#x548C;&#x6570;&#x7EC4;&#x6307;&#x9488;int main() { int* arr[10] = { 0,1,2,3,4,5,6,7,8,9 }; //&amp;#x6307;&amp;#x9488;&amp;#x6570;&amp;#x7EC4; int (*p)[5]; //&amp;#x6570;&amp;#x7EC4;&amp;#x6307;&amp;#x9488; &amp;#x91CC;&amp;#x9762;&amp;#x5B58;&amp;#x653E;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x6307;&amp;#x9488;(&amp;#x5373;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x9996;&amp;#x5730;&amp;#x5740;) //&amp;#x5B83;&amp;#x7684;&amp;#x53D8;&amp;#x91CF;&amp;#x540D;&amp;#x662F;p //&amp;#x5B83;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x662F;int (*)[5] int m; p = (int(*)[5])arr; m = *(*(p + 1) + 1); //p&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x7EC4;&amp;#x6307;&amp;#x9488; //&amp;#x56E0;&amp;#x4E3A; p+1&amp;#x7684;&amp;#x504F;&amp;#x79FB;&amp;#x91CF;&amp;#x4E3A; p+4*5 4*5&amp;#x4EE3;&amp;#x8868;int[5] 20&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; //&amp;#x56E0;&amp;#x4E3A; *p = arr = &amp;arr[0] //&amp;#x6240;&amp;#x4EE5; *(p+1) &amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x5728;&amp;#x539F;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;20&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; &amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;arr[5] //&amp;#x6240;&amp;#x4EE5; m = *( &amp;arr[5] + 1 ) //&amp;#x56E0;&amp;#x4E3A; int* p1 = &amp;arr[5] //&amp;#x6240;&amp;#x4EE5; &amp;arr[5] + 1 &amp;#x7684;&amp;#x504F;&amp;#x79FB;&amp;#x91CF;&amp;#x4E3A; &amp;arr[5] + 1*4 1*4&amp;#x4EE3;&amp;#x8868;int 4&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; //&amp;#x6240;&amp;#x4EE5; *( &amp;arr[5] + 1 ) = *( &amp;arr[6] ) = 6 printf("%d", m); printf("%d\n%d\n%d\n", p,arr,*p); } &#x5728;&#x8FD9;&#x91CC;*p&#x624D;&#x662F;&#x6570;&#x7EC4;&#x7684;&#x9996;&#x5730;&#x5740; p&#x662F;&#x6307;&#x5411; *p(&#x5373;&#x6570;&#x7EC4;&#x9996;&#x5730;&#x5740; &#x5373;&amp;arr[0] &#x5373;arr) &#x4E8C;&#x7EF4;&#x6307;&#x9488;&#x6570;&#x7EC4;&#x548C;&#x6570;&#x7EC4;&#x6307;&#x9488;int main() { int* arr[10] = { 1,2,3,4,5,6,7,8,9,10 }; //&amp;#x6307;&amp;#x9488;&amp;#x6570;&amp;#x7EC4; int (*p)[2][2]; //&amp;#x6570;&amp;#x7EC4;&amp;#x6307;&amp;#x9488; &amp;#x91CC;&amp;#x9762;&amp;#x5B58;&amp;#x653E;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x6307;&amp;#x9488;(&amp;#x5373;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x9996;&amp;#x5730;&amp;#x5740;) //&amp;#x5B83;&amp;#x7684;&amp;#x53D8;&amp;#x91CF;&amp;#x540D;&amp;#x662F;p //&amp;#x5B83;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x662F;int (*)[2][2] int m; p = (int (*)[2][2])arr; m = *(*(*(p + 1) + 2)); //p&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x7EC4;&amp;#x6307;&amp;#x9488; //&amp;#x56E0;&amp;#x4E3A; p+1&amp;#x7684;&amp;#x504F;&amp;#x79FB;&amp;#x91CF;&amp;#x4E3A; p+1*4*2*2 4*2*2&amp;#x4EE3;&amp;#x8868;int[2][2] 16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; //&amp;#x56E0;&amp;#x4E3A; *p = arr = &amp;arr[0] //&amp;#x6240;&amp;#x4EE5; *(p+1) &amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x5728;&amp;#x539F;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; &amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;arr[4] //&amp;#x6240;&amp;#x4EE5; *(p+1)+2 &amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x5728;&amp;#x539F;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;2*4*2&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; int[x][2] &amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;2&amp;#x4EE3;&amp;#x8868;+2 4&amp;#x4EE3;&amp;#x8868;int &amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;2&amp;#x4EE3;&amp;#x8868;&amp;#x4E8C;&amp;#x7EF4;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;2 &amp;#x6240;&amp;#x4EE5;&amp;#x53C8;&amp;#x5728;&amp;#x539F;&amp;#x6709;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; &amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;arr[8] printf("%d", m); printf("%d\n%d\n%d\n", p,arr,*p); } &#x4E09;&#x7EF4;&#x6307;&#x9488;&#x6570;&#x7EC4;&#x548C;&#x6570;&#x7EC4;&#x6307;&#x9488;int main() { int* arr[16] = { 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16}; //&amp;#x6307;&amp;#x9488;&amp;#x6570;&amp;#x7EC4; int (*p)[2][2][1]; //&amp;#x6570;&amp;#x7EC4;&amp;#x6307;&amp;#x9488; &amp;#x91CC;&amp;#x9762;&amp;#x5B58;&amp;#x653E;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x6307;&amp;#x9488;(&amp;#x5373;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x9996;&amp;#x5730;&amp;#x5740;) //&amp;#x5B83;&amp;#x7684;&amp;#x53D8;&amp;#x91CF;&amp;#x540D;&amp;#x662F;p //&amp;#x5B83;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x662F;int (*)[2][2] int m; p = (int (*)[2][2][1])arr; m = *(*(*(*(p + 1) + 2)+1)+1); //p&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x7EC4;&amp;#x6307;&amp;#x9488; //&amp;#x56E0;&amp;#x4E3A; p+1&amp;#x7684;&amp;#x504F;&amp;#x79FB;&amp;#x91CF;&amp;#x4E3A; p+1*4*2*2*1 4*2*2*1&amp;#x4EE3;&amp;#x8868;int[2][2][1] 16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; //&amp;#x56E0;&amp;#x4E3A; *p = arr = &amp;arr[0] //&amp;#x6240;&amp;#x4EE5; *(p+1) &amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x5728;&amp;#x539F;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; &amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;arr[4] //&amp;#x6240;&amp;#x4EE5; *(p+1)+2 &amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x5728;&amp;#x539F;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;2*4*2*1&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; int[x][2][1] &amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;2&amp;#x4EE3;&amp;#x8868;+2 4&amp;#x4EE3;&amp;#x8868;int &amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;2&amp;#x4EE3;&amp;#x8868;&amp;#x4E09;&amp;#x7EF4;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;2 &amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;1&amp;#x4EE3;&amp;#x8868;&amp;#x4E09;&amp;#x7EF4;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;1 &amp;#x6240;&amp;#x4EE5;&amp;#x53C8;&amp;#x5728;&amp;#x539F;&amp;#x6709;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; &amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;arr[8] //&amp;#x6240;&amp;#x4EE5; *(*(p + 1) + 2)+1 &amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x5728;&amp;#x539F;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;1*4*1&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; int[x][x][1] &amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;1&amp;#x4EE3;&amp;#x8868;+1 4&amp;#x4EE3;&amp;#x8868;int &amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;1&amp;#x4EE3;&amp;#x8868;&amp;#x4E09;&amp;#x7EF4;&amp;#x6570;&amp;#x7EC4;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x4E2A;1 &amp;#x6240;&amp;#x4EE5;&amp;#x53C8;&amp;#x5728;&amp;#x539F;&amp;#x6709;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;4&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; &amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;arr[9] //&amp;#x6240;&amp;#x4EE5; *(*(*(p + 1) + 2)+1) &amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x5728;&amp;#x539F;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;1*4&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; int[x][x][x] &amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;1&amp;#x4EE3;&amp;#x8868;+1 4&amp;#x4EE3;&amp;#x8868;int &amp;#x6240;&amp;#x4EE5;&amp;#x53C8;&amp;#x5728;&amp;#x539F;&amp;#x6709;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x504F;&amp;#x79FB;4&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; &amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;arr[10] printf("%d", m); printf("%d\n%d\n%d\n", p,arr,*p); } &#x200B; } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fwai-gua-hui-bian.html</url>
    <content type="text"><![CDATA[&#x6C47;&#x7F16;&#x51FD;&#x6570;&#x7684;&#x5F00;&#x5934;&#x90FD;&#x662F; push ebp mov ebp&#xFF0C;esp sub esp&#xFF0C;xxx&#x628A;&#x4E0A;&#x4E00;&#x6B21;&#x7684;&#x6808;&#x9876;&#x6307;&#x9488;&#x4F5C;&#x4E3A;&#x4E0B;&#x4E00;&#x6B21;&#x7684;&#x6808;&#x5E95;&#x6307;&#x9488;,&#x7136;&#x540E;&#x628A;&#x6808;&#x9876;&#x6307;&#x9488;&#x518D;&#x62AC;&#x9AD8;,&#x8FD9;&#x6837;&#x5C31;&#x5F00;&#x8F9F;&#x4E86;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x6808; &#x4E24;&#x4E2A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570; &#x9700;&#x8981;&#x7528;&#x516B;&#x4E2A;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x6765;&#x8868;&#x793A; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-1-huan-jing-da-jian.html</url>
    <content type="text"><![CDATA[WebStorm&#x5B89;&#x88C5;&#x4E0B;&#x8F7D;&#x5730;&#x5740;https://www.jetbrains.com/webstorm/download/previous.html &#x9009;&#x62E9; 2018.2.3&#x7248;&#x672C; &#x4E00;&#x8DEF;&#x4E0B;&#x4E00;&#x6B65; &#x7834;&#x89E3;&#x7801; K6IXATEF43-eyJsaWNlbnNlSWQiOiJLNklYQVRFRjQzIiwibGljZW5zZWVOYW1lIjoi5o6I5p2D5Luj55CG5ZWGOiBodHRwOi8vaWRlYS5oay5jbiIsImFzc2lnbmVlTmFtZSI6IiIsImFzc2lnbmVlRW1haWwiOiIiLCJsaWNlbnNlUmVzdHJpY3Rpb24iOiIiLCJjaGVja0NvbmN1cnJlbnRVc2UiOmZhbHNlLCJwcm9kdWN0cyI6W3siY29kZSI6IklJIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNi0wNSIsInBhaWRVcFRvIjoiMjAyMC0wNi0wNCJ9LHsiY29kZSI6IkFDIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNi0wNSIsInBhaWRVcFRvIjoiMjAyMC0wNi0wNCJ9LHsiY29kZSI6IkRQTiIsImZhbGxiYWNrRGF0ZSI6IjIwMTktMDYtMDUiLCJwYWlkVXBUbyI6IjIwMjAtMDYtMDQifSx7ImNvZGUiOiJQUyIsImZhbGxiYWNrRGF0ZSI6IjIwMTktMDYtMDUiLCJwYWlkVXBUbyI6IjIwMjAtMDYtMDQifSx7ImNvZGUiOiJHTyIsImZhbGxiYWNrRGF0ZSI6IjIwMTktMDYtMDUiLCJwYWlkVXBUbyI6IjIwMjAtMDYtMDQifSx7ImNvZGUiOiJETSIsImZhbGxiYWNrRGF0ZSI6IjIwMTktMDYtMDUiLCJwYWlkVXBUbyI6IjIwMjAtMDYtMDQifSx7ImNvZGUiOiJDTCIsImZhbGxiYWNrRGF0ZSI6IjIwMTktMDYtMDUiLCJwYWlkVXBUbyI6IjIwMjAtMDYtMDQifSx7ImNvZGUiOiJSUzAiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA2LTA1IiwicGFpZFVwVG8iOiIyMDIwLTA2LTA0In0seyJjb2RlIjoiUkMiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA2LTA1IiwicGFpZFVwVG8iOiIyMDIwLTA2LTA0In0seyJjb2RlIjoiUkQiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA2LTA1IiwicGFpZFVwVG8iOiIyMDIwLTA2LTA0In0seyJjb2RlIjoiUEMiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA2LTA1IiwicGFpZFVwVG8iOiIyMDIwLTA2LTA0In0seyJjb2RlIjoiUk0iLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA2LTA1IiwicGFpZFVwVG8iOiIyMDIwLTA2LTA0In0seyJjb2RlIjoiV1MiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA2LTA1IiwicGFpZFVwVG8iOiIyMDIwLTA2LTA0In0seyJjb2RlIjoiREIiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA2LTA1IiwicGFpZFVwVG8iOiIyMDIwLTA2LTA0In0seyJjb2RlIjoiREMiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA2LTA1IiwicGFpZFVwVG8iOiIyMDIwLTA2LTA0In0seyJjb2RlIjoiUlNVIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNi0wNSIsInBhaWRVcFRvIjoiMjAyMC0wNi0wNCJ9XSwiaGFzaCI6IjEzMjkyMzI4LzAiLCJncmFjZVBlcmlvZERheXMiOjcsImF1dG9Qcm9sb25nYXRlZCI6ZmFsc2UsImlzQXV0b1Byb2xvbmdhdGVkIjpmYWxzZX0=-KUaQi549fH96M/qU7jTvuMeq2GuedA+WppV3irI0JHlfDuhJlidK2m3yoRxitGNmimPFVUA8Dk38OzXnP29I39QDXH5VAF8VjOP0XrqdfrpaZUKpdhRaYz8r1NAwID75U4LqYCvFbazka1dCMJBFqJ2wum1+CSQhJ1O7CSchAJAbjcCRQjbU2sXOofAA2sPLi7nlJw2wrjOHzH9cOczUn11n24PE9BQ/oYGITHkzsu94i4Q90Z1jQysMtXLgM/HoLSHY2T9rKULLoh+tdMwBp9+m0VLF/R5gdkVDV/dlorrA9OEZIsSOaG+oWSen/AulKH6OXllZJoR+b/T6YYfGWg==-MIIElTCCAn2gAwIBAgIBCTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE4MTEwMTEyMjk0NloXDTIwMTEwMjEyMjk0NlowaDELMAkGA1UEBhMCQ1oxDjAMBgNVBAgMBU51c2xlMQ8wDQYDVQQHDAZQcmFndWUxGTAXBgNVBAoMEEpldEJyYWlucyBzLnIuby4xHTAbBgNVBAMMFHByb2QzeS1mcm9tLTIwMTgxMTAxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxcQkq+zdxlR2mmRYBPzGbUNdMN6OaXiXzxIWtMEkrJMO/5oUfQJbLLuMSMK0QHFmaI37WShyxZcfRCidwXjot4zmNBKnlyHodDij/78TmVqFl8nOeD5+07B8VEaIu7c3E1N+e1doC6wht4I4+IEmtsPAdoaj5WCQVQbrI8KeT8M9VcBIWX7fD0fhexfg3ZRt0xqwMcXGNp3DdJHiO0rCdU+Itv7EmtnSVq9jBG1usMSFvMowR25mju2JcPFp1+I4ZI+FqgR8gyG8oiNDyNEoAbsR3lOpI7grUYSvkB/xVy/VoklPCK2h0f0GJxFjnye8NT1PAywoyl7RmiAVRE/EKwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl/GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQAF8uc+YJOHHwOFcPzmbjcxNDuGoOUIP+2h1R75Lecswb7ru2LWWSUMtXVKQzChLNPn/72W0k+oI056tgiwuG7M49LXp4zQVlQnFmWU1wwGvVhq5R63Rpjx1zjGUhcXgayu7+9zMUW596Lbomsg8qVve6euqsrFicYkIIuUu4zYPndJwfe0YkS5nY72SHnNdbPhEnN8wcB2Kz+OIG0lih3yz5EqFhld03bGp222ZQCIghCTVL6QBNadGsiN/lWLl4JdR3lJkZzlpFdiHijoVRdWeSWqM4y0t23c92HXKrgppoSV18XMxrWVdoSM3nuMHwxGhFyde05OdDtLpCv+jlWf5REAHHA201pAU6bJSZINyHDUTB+Beo28rRXSwSh3OUIvYwKNVeoBY+KwOJ7WnuTCUq1meE6GkKc4D/cXmgpOyW/1SmBz3XjVIi/zprZ0zf3qH5mkphtg6ksjKgKjmx1cXfZAAX6wcDBNaCL+Ortep1Dh8xDUbqbBVNBL4jbiL3i3xsfNiyJgaZ5sX7i8tmStEpLbPwvHcByuf59qJhV/bZOl8KqJBETCDJcY6O2aqhTUy+9x93ThKs1GKrRPePrWPluud7ttlgtRveit/pcBrnQcXOl1rHq7ByB8CFAxNotRUYL9IF5n3wJOgkPojMy6jetQA5Ogc8Sm7RG6vg1yow==&#x200B; nginx&#x5B89;&#x88C5;&#x4E0B;&#x8F7D;nginx&#xFF1A;http://nginx.org/en/download.html&#x672C;&#x6559;&#x7A0B;&#x4E0B;&#x8F7D;nginx-1.14.0.zip(http://nginx.org/download/nginx-1.14.0.zip) &#x89E3;&#x538B;nginx-1.14.0.zip&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x53CC;&#x51FB;nginx.exe&#x5373;&#x53EF;&#x8FD0;&#x884C;&#x3002;&#x8BBF;&#x95EE; &#xFF1A;http://localhost nginx&#x542F;&#x52A8;&#x548C;&#x505C;&#x6B62; &#x542F;&#x52A8; &#x76F4;&#x63A5;&#x70B9;&#x51FB;Nginx&#x76EE;&#x5F55;&#x4E0B;&#x7684;nginx.exe &#x6216;&#x8005; Nginx&#x76EE;&#x5F55;&#x4E0B;cmd&#x8FD0;&#x884C;start nginx &#x5173;&#x95ED; Nginx&#x76EE;&#x5F55;&#x4E0B; nginx -s stop &#x6216;&#x8005; Nginx&#x76EE;&#x5F55;&#x4E0B; nginx -s quit stop&#x8868;&#x793A;&#x7ACB;&#x5373;&#x505C;&#x6B62;nginx,&#x4E0D;&#x4FDD;&#x5B58;&#x76F8;&#x5173;&#x4FE1;&#x606F; quit&#x8868;&#x793A;&#x6B63;&#x5E38;&#x9000;&#x51FA;nginx,&#x5E76;&#x4FDD;&#x5B58;&#x76F8;&#x5173;&#x4FE1;&#x606F; &#x91CD;&#x542F;(&#x56E0;&#x4E3A;&#x6539;&#x53D8;&#x4E86;&#x914D;&#x7F6E;,&#x9700;&#x8981;&#x91CD;&#x542F;) nginx -s reloadnginx&#x914D;&#x7F6E;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x4E3B;&#x673A; server{ listen 80; server_name www.xuecheng.com; ssi on; ssi_silent_errors on; location / { alias X:/workspace/java/xczx/xczx01/xc-ui-pc-static-portal/; index index.html; } }&#x914D;&#x7F6E;&#x5B8C;&#x4EE5;&#x540E;&#x8981;reload nginx &#x914D;&#x7F6E;hosts&#x6587;&#x4EF6;&#x4EE5;&#x7BA1;&#x7406;&#x5458;&#x8EAB;&#x4EFD;&#x4FEE;&#x6539;C:\Windows\System32\drivers\etc\hosts&#x6587;&#x4EF6; 127.0.0.1 www.xuecheng.com&#x8FDB;&#x5165;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8F93;&#x5165;http://www.xuecheng.com SSI&#x670D;&#x52A1;&#x7AEF;&#x5305;&#x542B;&#x6280;&#x672F; &#x9875;&#x9762;&#x5185;&#x5BB9;&#x591A;&#x5982;&#x4F55;&#x7BA1;&#x7406;&#xFF1F;&#x5C06;&#x9875;&#x9762;&#x62C6;&#x5206;&#x6210;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x5C0F;&#x9875;&#x9762;&#xFF0C;&#x901A;&#x8FC7;cms&#x53BB;&#x7BA1;&#x7406;&#x8FD9;&#x4E9B;&#x5C0F;&#x9875;&#x9762;&#xFF0C;&#x5F53;&#x8981;&#x66F4;&#x6539;&#x90E8;&#x5206;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x65F6;&#x53EA;&#x9700;&#x8981;&#x66F4;&#x6539;&#x5177;&#x4F53;&#x67D0;&#x4E2A;&#x5C0F;&#x9875; &#x9762;&#x5373;&#x53EF;&#x3002; &#x9875;&#x9762;&#x62C6;&#x51FA;&#x6765;&#x600E;&#x4E48;&#x6837;&#x901A;&#x8FC7;web&#x670D;&#x52A1;&#x6D4F;&#x89C8;&#x5462;&#xFF1F;&#x4F7F;&#x7528;web&#x670D;&#x52A1;(&#x4F8B;&#x5982;nginx)&#x7684;SSI&#x6280;&#x672F;&#xFF0C;&#x5C06;&#x591A;&#x4E2A;&#x5B50;&#x9875;&#x9762;&#x5408;&#x5E76;&#x6E32;&#x67D3;&#x8F93;&#x51FA;&#x3002; SSI&#x662F;&#x4EC0;&#x4E48;&#xFF1F; &#x200B; ssi&#x5305;&#x542B;&#x7C7B;&#x4F3C;&#x4E8E;jsp&#x9875;&#x9762;&#x4E2D;&#x7684;incluce&#x6307;&#x4EE4;&#xFF0C;ssi&#x662F;&#x5728;web&#x670D;&#x52A1;&#x7AEF;&#x5C06;include&#x6307;&#x5B9A; &#x7684;&#x9875;&#x9762;&#x5305;&#x542B;&#x5728;&#x7F51;&#x9875;&#x4E2D;&#xFF0C;&#x6E32;&#x67D3;html&#x7F51;&#x9875;&#x54CD; &#x5E94;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF; &#x3002;nginx&#x3001;apache&#x7B49;&#x591A;&#x6570;web&#x5BB9;&#x5668;&#x90FD;&#x652F;&#x6301;SSI&#x6307;&#x4EE4;&#x3002;ssi&#x6307;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A; &lt;!&#x2010;&#x2010;#include virtual=&quot;/../....html&quot;&#x2010;&#x2010;&gt; &#x5C06;&#x9996;&#x9875;&#x62C6;&#x5206;&#x6210; index.html&#xFF1A;&#x9996;&#x9875;&#x4E3B;&#x4F53;&#x5185;&#x5BB9; include/header.html&#xFF1A;&#x5934;&#x90E8;&#x533A;&#x57DF; include/index_banner.html&#xFF1A;&#x8F6E;&#x64AD;&#x56FE; include/index_category.html&#xFF1A;&#x5DE6;&#x4FA7;&#x5217;&#x8868;&#x5BFC;&#x822A; include/footer.html&#xFF1A;&#x9875;&#x5C3E; &#x5728;nginx&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x4E2D;&#x5F00;&#x901A;SSI server{ listen 80; server_name www.xuecheng.com; ssi on; ssi_silent_errors on; ......ssi&#x7684;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#x5982;&#x4E0B;&#xFF1A; ssi on&#xFF1A; &#x5F00;&#x542F;ssi&#x652F;&#x6301; ssi_silent_errors on&#xFF1A;&#x9ED8;&#x8BA4;&#x4E3A;o&#xFB00;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;on&#x5219;&#x5728;&#x5904;&#x7406;SSI&#x6587;&#x4EF6;&#x51FA;&#x9519;&#x65F6;&#x4E0D; &#x8F93;&#x51FA;&#x9519;&#x8BEF;&#x4FE1;&#x606F; ssi_types&#xFF1A;&#x9ED8;&#x8BA4;&#x4E3A; ssi_types text/html&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x652F;&#x6301;shtml&#xFF08;&#x670D;&#x52A1;&#x5668;&#x6267;&#x884C;&#x811A;&#x672C;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;jsp&#xFF09;&#x5219;&#x9700; &#x8981;&#x8BBE;&#x7F6E;&#x4E3A;ssi_types text/shtml &#x6D4B;&#x8BD5; &#x5BFC;&#x5165;&#x95E8;&#x6237;&#x5DE5;&#x7A0B;&#x4F7F;&#x7528;WebStorm&#x6253;&#x5F00;&#x95E8;&#x6237;&#x5DE5;&#x7A0B;&#x76EE;&#x5F55;&#xFF0C;&#x76EE;&#x5F55;&#x7684;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF0C;&#x540E;&#x671F;&#x4F1A;&#x6839;&#x636E;&#x5F00;&#x53D1;&#x7684;&#x63A8;&#x8FDB;&#x8FDB;&#x884C;&#x6269;&#x5145;&#x3002; &#x53BB;&#x6389;&#x67D0;&#x4E2A;#include&#x67E5;&#x770B;&#x9875;&#x9762;&#x6548;&#x679C;&#x3002; CMS&#x9875;&#x9762;&#x7BA1;&#x7406;&#x9700;&#x6C42;&#x8FD9;&#x4E9B;&#x9875;&#x9762;&#x7684;&#x7BA1;&#x7406;&#x6D41;&#x7A0B;&#x662F;&#x4EC0;&#x4E48;?1&#xFF09;&#x521B;&#x5EFA;&#x7AD9;&#x70B9;&#xFF1A;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x6709;&#x5F88;&#x591A;&#x5B50;&#x7AD9;&#x70B9;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x5B66;&#x6210;&#x5728;&#x7EBF;&#x6709;&#x4E3B;&#x95E8;&#x6237;&#x3001;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x3001;&#x95EE;&#x7B54;&#x7CFB;&#x7EDF;&#x7B49;&#x5B50;&#x7AD9;&#x70B9;&#x3002;&#x5177;&#x4F53;&#x7684;&#x54EA;&#x4E2A;&#x9875;&#x9762;&#x662F;&#x5F52;&#x5C5E;&#x4E8E;&#x5177;&#x4F53; &#x7684;&#x7AD9;&#x70B9;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x5148;&#x8981;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x6240;&#x5C5E;&#x7684;&#x7AD9;&#x70B9;&#x3002;2&#xFF09;&#x521B;&#x5EFA;&#x6A21;&#x677F;&#xFF1A;&#x9875;&#x9762;&#x5982;&#x4F55;&#x521B;&#x5EFA;&#x5462;&#xFF1F;&#x6BD4;&#x5982;&#x7535;&#x5546;&#x7F51;&#x7AD9;&#x7684;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#xFF0C;&#x6BCF;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x5E03;&#x5C40;&#x3001;&#x677F;&#x5F0F;&#x662F;&#x76F8;&#x540C;&#x7684;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x53EA;&#x662F;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E2A;&#x9875; &#x9762;&#x7684;&#x5E03;&#x5C40;&#x3001;&#x677F;&#x5F0F;&#x5C31;&#x662F;&#x9875;&#x9762;&#x6A21;&#x677F;&#xFF0C;&#x6A21;&#x677F;+&#x6570;&#x636E;&#x5C31;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x6700;&#x7EC8;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5148;&#x5B9A;&#x4E49;&#x6B64;&#x9875;&#x9762;&#x7684; &#x6A21;&#x677F;&#xFF0C;&#x6700;&#x7EC8;&#x62FF;&#x5230;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x518D;&#x7ED3;&#x5408;&#x6A21;&#x677F;&#x5C31;&#x62FC;&#x88C5;&#x6210;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x9875;&#x9762;&#x3002; 3&#xFF09;&#x521B;&#x5EFA;&#x9875;&#x9762;&#xFF1A;&#x521B;&#x5EFA;&#x9875;&#x9762;&#x662F;&#x6307;&#x586B;&#x5199;&#x9875;&#x9762;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#xFF1A;&#x9875;&#x9762;&#x7684;&#x540D;&#x79F0;&#x3001;&#x9875;&#x9762;&#x7684;url&#x5730;&#x5740;&#x7B49;&#x3002;4&#xFF09;&#x9875;&#x9762;&#x9884;&#x89C8;&#xFF1A;&#x9875;&#x9762;&#x9884;&#x89C8;&#x662F;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x524D;&#x7684;&#x4E00;&#x9879;&#x5DE5;&#x4F5C;&#xFF0C;&#x9875;&#x9762;&#x9884;&#x89C8;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x5316;&#x6280;&#x672F;&#x6839;&#x636E;&#x9875;&#x9762;&#x6A21;&#x677F;&#x548C;&#x6570;&#x636E;&#x751F;&#x6210;&#x9875;&#x9762;&#x5185;&#x5BB9;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x9884; &#x89C8;&#x9875;&#x9762;&#x3002;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x524D;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x9884;&#x89C8;&#x7684;&#x76EE;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x540E;&#x7684;&#x6B63;&#x786E;&#x6027;&#x3002;5&#xFF09;&#x9875;&#x9762;&#x53D1;&#x5E03;&#xFF1A; &#x4F7F;&#x7528;&#x8BA1;&#x7B97;&#x673A;&#x6280;&#x672F;&#x5C06;&#x9875;&#x9762;&#x53D1;&#x9001;&#x5230;&#x9875;&#x9762;&#x6240;&#x5728;&#x7AD9;&#x70B9;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6210;&#x529F;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x6765;&#x8BBF;&#x95EE;&#x4E86;&#x3002;2&#x3001;&#x672C;&#x9879;&#x76EE;&#x8981;&#x5B9E;&#x73B0;&#x4EC0;&#x4E48;&#x6837;&#x7684;&#x529F;&#x80FD;&#xFF1F;1&#xFF09;&#x9875;&#x9762;&#x7BA1;&#x7406;&#x7BA1;&#x7406;&#x5458;&#x5728;&#x540E;&#x53F0;&#x6DFB;&#x52A0;&#x3001;&#x4FEE;&#x6539;&#x3001;&#x5220;&#x9664;&#x9875;&#x9762;&#x4FE1;&#x606F;2&#xFF09;&#x9875;&#x9762;&#x9884;&#x89C8;&#x7BA1;&#x7406;&#x5458;&#x901A;&#x8FC7;&#x9875;&#x9762;&#x9884;&#x89C8;&#x529F;&#x80FD;&#x9884;&#x89C8;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x540E;&#x7684;&#x6548;&#x679C;&#x3002;3&#xFF09;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7BA1;&#x7406;&#x5458;&#x901A;&#x8FC7;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x529F;&#x80FD;&#x5C06;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x5230;&#x8FDC;&#x7A0B;&#x95E8;&#x6237;&#x670D;&#x52A1;&#x5668;&#x3002;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x6210;&#x529F;&#xFF0C;&#x7528;&#x6237;&#x5373;&#x53EF;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x6D4F;&#x89C8;&#x5230;&#x6700;&#x65B0;&#x53D1;&#x5E03;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x6574;&#x4E2A;&#x9875;&#x9762;&#x6DFB;&#x52A0;&#x3001;&#x53D1;&#x5E03;&#x7684;&#x8FC7;&#x7A0B;&#x7531;&#x4E8E;&#x8F6F;&#x4EF6;&#x81EA;&#x52A8;&#x6267;&#x884C;&#xFF0C;&#x65E0;&#x9700;&#x4EBA; &#x5DE5;&#x767B;&#x5F55;&#x670D;&#x52A1;&#x5668;&#x64CD;&#x4F5C;&#x3002; CMS&#x670D;&#x52A1;&#x7AEF;&#x5DE5;&#x7A0B;&#x642D;&#x5EFA;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x914D;&#x7F6E;: &#x521B;&#x5EFA;&#x5DE5;&#x7A0B;&#x4EE3;&#x7801;&#x76EE;&#x5F55; XcEduCode &#x914D;&#x7F6E;maven&#x73AF;&#x5883; ,maven&#x4ED3;&#x5E93;&#x7684;&#x76EE;&#x5F55;&#x4F4D;&#x7F6E;&#x4E0D;&#x8981;&#x53BB;&#x4F7F;&#x7528;&#x4E2D;&#x6587; &#x8BBE;&#x7F6E;&#x7F16;&#x7801; &#x914D;&#x7F6E;JDK1.8 &#x81EA;&#x52A8;&#x4F18;&#x5316;&#x5BFC;&#x5165;&#x5305; &#x81EA;&#x5B9A;&#x4E49;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7801;&#x6A21;&#x677F; &#x63D0;&#x793A;&#x5FFD;&#x7565;&#x5927;&#x5C0F;&#x5199; &#x914D;&#x7F6E;&#x865A;&#x62DF;&#x673A;&#x5185;&#x5B58;,&#x4FEE;&#x6539;idea64.exe.vmoptions &#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;&#x7535;&#x8111;&#x5185;&#x5B58;8G&#xFF0C;&#x8BBE;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; -Xms1024m -Xmx4096m -XX:MaxPermSize=1024m -XX:ReservedCodeCacheSize=1024m &#x5BFC;&#x5165;&#x57FA;&#x7840;&#x5DE5;&#x7A0B;CMS&#x53CA;&#x5176;&#x5B83;&#x670D;&#x52A1;&#x7AEF;&#x5DE5;&#x7A0B;&#x57FA;&#x4E8E;maven&#x8FDB;&#x884C;&#x6784;&#x5EFA;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x5982;&#x4E0B;&#x57FA;&#x7840;&#x5DE5;&#x7A0B;&#xFF1A; parent&#x5DE5;&#x7A0B;&#xFF1A;&#x7236;&#x5DE5;&#x7A0B;&#xFF0C;&#x63D0;&#x4F9B;&#x4F9D;&#x8D56;&#x7BA1;&#x7406;&#x3002; common&#x5DE5;&#x7A0B;&#xFF1A;&#x901A;&#x7528;&#x5DE5;&#x7A0B;&#xFF0C;&#x63D0;&#x4F9B;&#x5404;&#x5C42;&#x5C01;&#x88C5; model&#x5DE5;&#x7A0B;&#xFF1A;&#x6A21;&#x578B;&#x5DE5;&#x7A0B;&#xFF0C;&#x63D0;&#x4F9B;&#x7EDF;&#x4E00;&#x7684;&#x6A21;&#x578B;&#x7C7B;&#x7BA1;&#x7406; utils&#x5DE5;&#x7A0B;&#xFF1A;&#x5DE5;&#x5177;&#x7C7B;&#x5DE5;&#x7A0B;&#xFF0C;&#x63D0;&#x4F9B;&#x672C;&#x9879;&#x76EE;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x5DE5;&#x5177;&#x7C7B; Api&#x5DE5;&#x7A0B;&#xFF1A;&#x63A5;&#x53E3;&#x5DE5;&#x7A0B;&#xFF0C;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#x672C;&#x9879;&#x76EE;&#x7684;&#x670D;&#x52A1;&#x63A5;&#x53E3;&#x3002; &#x4F9D;&#x6B21;&#x5BFC;&#x5165;utils&#x3001;model&#x3001;common&#x3001;api&#x5DE5;&#x7A0B;&#xFF0C;&#x65B9;&#x6CD5;&#x540C;parent&#x5DE5;&#x548C;&#x7684;&#x5BFC;&#x5165;&#x3002; &#x5DE5;&#x7A0B;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x200B; &#x5B89;&#x88C5;MongoDB&#x4E0B;&#x8F7D;mongodb&#x4E0B;&#x8F7D;3.4&#x7248;&#x672C;&#xFF1A;http://downloads.mongodb.org/win32/mongodb-win32-x86_64-2008plus-ssl-v3.4-latest-signed.msi &#x5B89;&#x88C5;mongodb &#x200B; &#x8DEF;&#x5F84;&#x81EA;&#x5DF1;&#x9009;&#x62E9;&#x4E00;&#x4E0B; &#x914D;&#x7F6E;mongodb&#x521B;&#x5EFA;&#x51E0;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x5177;&#x4F53;&#x5982;&#x4E0B;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x8DEF;&#x5F84;&#xFF08;data&#x76EE;&#x5F55;&#xFF09;&#x3001;&#x65E5;&#x5FD7;&#x8DEF;&#x5F84;&#xFF08;logs&#x76EE;&#x5F55;&#xFF09;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF08;mongo.conf&#x6587;&#x4EF6;&#xFF09; &#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x6587;&#x4EF6;mongo.conf&#xFF0C;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; #&#x6570;&#x636E;&#x5E93;&#x8DEF;&#x5F84; dbpath=X:\development\java\mongoDB\data #&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x6587;&#x4EF6;&#x8DEF;&#x5F84; logpath=X:\development\java\mongoDB\logs\mongo.log #&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x91C7;&#x7528;&#x8FFD;&#x52A0;&#x6A21;&#x5F0F; logappend=true #&#x542F;&#x7528;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x542F;&#x7528; journal=true #&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x53EF;&#x4EE5;&#x8FC7;&#x6EE4;&#x6389;&#x4E00;&#x4E9B;&#x65E0;&#x7528;&#x7684;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#xFF0C;&#x82E5;&#x9700;&#x8981;&#x8C03;&#x8BD5;&#x4F7F;&#x7528;&#x8BF7;&#x8BBE;&#x7F6E;&#x4E3A;false quiet=true #&#x7AEF;&#x53E3;&#x53F7; &#x9ED8;&#x8BA4;&#x4E3A;27017 port=27017&#x5B89;&#x88C5; MongoDB&#x670D;&#x52A1;&#x5728;mongo&#x7684;bin&#x76EE;&#x5F55;&#x4E0B;&#x6267;&#x884C;&#x6B64;&#x547D;&#x4EE4;!!! : &#x5B89;&#x88C5;&#x7684;&#x65F6;&#x5019;cmd&#x4E00;&#x5B9A;&#x8981;&#x542F;&#x7528;&#x7BA1;&#x7406;&#x5458;&#x7684;&#x6A21;&#x5F0F;!!! mongod.exe --config &quot;X:\development\java\mongoDB\mongo.conf&quot; --install&#x542F;&#x52A8;MongoDB&#x670D;&#x52A1;net start MongoDB&#x5173;&#x95ED;MongoDB&#x670D;&#x52A1;net stop MongoDB&#x79FB;&#x9664;MongoDB&#x670D;&#x52A1;&#x79FB;&#x9664;&#x7684;&#x65F6;&#x5019;cmd&#x4E00;&#x5B9A;&#x8981;&#x542F;&#x7528;&#x7BA1;&#x7406;&#x5458;&#x7684;&#x6A21;&#x5F0F;!!! &quot;X:\development\java\mongoDB\bin\mongod.exe&quot; --remove&#x6D4B;&#x8BD5;&#x542F;&#x52A8;mongodb&#x670D;&#x52A1;&#xFF0C;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x540E;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165;http://127.0.0.1:27017&#x770B;&#x5230;&#x5982;&#x4E0B;&#x754C;&#x9762;&#x5373;&#x8BF4;&#x660E;&#x542F;&#x52A8;&#x6210;&#x529F; MongoDB&#x5BA2;&#x6237;&#x7AEF;&#x547D;&#x4EE4;&#x884C;&#x901A;&#x8FC7;bin&#x76EE;&#x5F55;&#x4E0B;&#x7684;mongo.exe&#x8FDE;&#x63A5;mongodb studio3tstudio3t&#x662F;mongodb&#x4F18;&#x79C0;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x5DE5;&#x5177;&#x3002;&#x5B98;&#x65B9;&#x5730;&#x5740;&#x5728;https://studio3t.com/ &#x4E0B;&#x8F7D;studio3t https://studio3t.com/download/ &#x5B89;&#x88C5;&#x5E76;&#x542F;&#x52A8; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x8FDE;&#x63A5;&#xFF1A; &#x200B; &#x8FDE;&#x63A5;&#x6210;&#x529F; &#x4FEE;&#x6539;&#x5B57;&#x4F53;&#xFF1A;&#x9ED8;&#x8BA4;Studio3t&#x7684;&#x5B57;&#x4F53;&#x592A;&#x5C0F;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5B57;&#x4F53;&#xFF1A; &#x70B9;&#x51FB;&#x83DC;&#x5355;&#xFF1A;Edit&#x2014;&gt;Preferences mongodb&#x5165;&#x95E8;&#x57FA;&#x7840;&#x6982;&#x5FF5;&#x5728;mongodb&#x4E2D;&#x662F;&#x901A;&#x8FC7;&#x6570;&#x636E;&#x5E93;&#x3001;&#x96C6;&#x5408;&#x3001;&#x6587;&#x6863;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x7BA1;&#x7406;&#x6570;&#x636E;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;mongodb&#x4E0E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4E00;&#x4E9B;&#x6982;&#x5FF5;&#x5BF9;&#x6BD4;&#xFF1A; SQL&#x672F;&#x8BED;/&#x6982;&#x5FF5; MongoDB&#x672F;&#x8BED;/&#x6982;&#x5FF5; &#x89E3;&#x91CA;/&#x8BF4;&#x660E; database database &#x6570;&#x636E;&#x5E93; table collection &#x6570;&#x636E;&#x5E93;&#x8868;/&#x96C6;&#x5408; row document &#x6570;&#x636E;&#x8BB0;&#x5F55;&#x884C;/&#x6587;&#x6863; column &#xFB01;eld &#x6570;&#x636E;&#x5B57;&#x6BB5;/&#x57DF; index index &#x7D22;&#x5F15; table joins &#x8868;&#x8FDE;&#x63A5;&#xFF08;MongoDB&#x4E0D;&#x652F;&#x6301;&#xFF09; primary key primary key &#x4E3B;&#x952E;,MongoDB&#x81EA;&#x52A8;&#x5728;&#x6BCF;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x6DFB;&#x52A0;_id&#x7684;&#x4E3B;&#x952E; 1&#x3001;&#x4E00;&#x4E2A;mongodb&#x5B9E;&#x4F8B;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;2&#x3001;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x96C6;&#x5408;3&#x3001;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x53EF;&#x4EE5;&#x5305;&#x62EC;&#x591A;&#x4E2A;&#x6587;&#x6863; &#x8FDE;&#x63A5;mongodbmongodb&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x662F;&#x5BA2;&#x6237;&#x670D;&#x52A1;&#x5668;&#x6A21;&#x5F0F;&#xFF0C;&#x5373;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x5BA2;&#x6237;&#x7AEF;&#x8FDE;&#x63A5;mongodb&#x6570;&#x636E;&#x5E93;&#xFF08;&#x670D;&#x52A1;&#x7AEF;&#xFF09;&#x3002; 1.&#x547D;&#x4EE4;mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][? options]]mongodb:// &#x56FA;&#x5B9A;&#x524D;&#x7F00; username&#xFF1A;&#x8D26;&#x53F7;&#xFF0C;&#x53EF;&#x4E0D;&#x586B; password&#xFF1A;&#x5BC6;&#x7801;&#xFF0C;&#x53EF;&#x4E0D;&#x586B; host&#xFF1A;&#x4E3B;&#x673A;&#x540D;&#x6216;ip&#x5730;&#x5740;&#xFF0C;&#x53EA;&#x6709;host&#x4E3B;&#x673A;&#x540D;&#x4E3A;&#x5FC5;&#x586B;&#x9879;&#x3002; port&#xFF1A;&#x7AEF;&#x53E3;&#xFF0C;&#x53EF;&#x4E0D;&#x586B;&#xFF0C;&#x9ED8;&#x8BA4;27017 /database&#xFF1A;&#x8FDE;&#x63A5;&#x67D0;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93; ?options&#xFF1A;&#x8FDE;&#x63A5;&#x53C2;&#x6570;&#xFF0C;key/value&#x5BF9;&#x4F8B;&#x5B50;&#xFF1A; mongodb://localhost &#x8FDE;&#x63A5;&#x672C;&#x5730;&#x6570;&#x636E;&#x5E93;27017&#x7AEF;&#x53E3; mongodb://root:itcast@localhost &#x4F7F;&#x7528;&#x7528;&#x6237;&#x540D;root&#x5BC6;&#x7801;&#x4E3A;itcast&#x8FDE;&#x63A5;&#x672C;&#x5730;&#x6570;&#x636E;&#x5E93;27017&#x7AEF;&#x53E3; mongodb://localhost,localhost:27018,localhost:27019&#xFF0C;&#x8FDE;&#x63A5;&#x4E09;&#x53F0;&#x4E3B;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7AEF;&#x53E3;&#x4E3A;27017&#x3001;27018&#x3001;270192.javascript shellwindows&#x7248;&#x672C;&#x7684;mongodb&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF0C;&#x5728;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;bin&#x76EE;&#x5F55;&#x6709;mongo.exe&#x5BA2;&#x6237;&#x7AEF;&#x7A0B;&#x5E8F; cmd&#x72B6;&#x6001;&#x6267;&#x884C;mongo.exe&#xFF1A; &#x6B64;&#x65F6;&#x5C31;&#x53EF;&#x4EE5;&#x8F93;&#x5165;&#x547D;&#x4EE4;&#x6765;&#x64CD;&#x4F5C;mongodb&#x6570;&#x636E;&#x5E93;&#x4E86;&#xFF0C;javascript shell&#x53EF;&#x4EE5;&#x8FD0;&#x884C;javascript&#x7A0B;&#x5E8F;&#x3002; 3.studio3T4.java&#x7A0B;&#x5E8F;4.1&#x5BFC;&#x5165;pom&#x4F9D;&#x8D56;&lt;dependency&gt; &lt;groupId&gt;org.mongodb&lt;/groupId&gt; &lt;artifactId&gt;mongo&#x2010;java&#x2010;driver&lt;/artifactId&gt; &lt;version&gt;3.4.3&lt;/version&gt; &lt;/dependency&gt;4.2&#x521B;&#x5EFA;mongodb &#x5BA2;&#x6237;&#x7AEF;&#x6D4B;&#x8BD5;@Test public void testConnection(){ //&#x521B;&#x5EFA;mongodb &#x5BA2;&#x6237;&#x7AEF; MongoClient mongoClient = new MongoClient( &quot;localhost&quot; , 27017 ); //&#x6216;&#x8005;&#x91C7;&#x7528;&#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32; //MongoClientURI connectionString = new MongoClientURI(&quot;mongodb://root:root@localhost:27017&quot;); //MongoClient mongoClient = new MongoClient(connectionString); //&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93; MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;); // &#x8FDE;&#x63A5;collection MongoCollection&lt;Document&gt; collection = database.getCollection(&quot;student&quot;); //&#x67E5;&#x8BE2;&#x7B2C;&#x4E00;&#x4E2A;&#x6587;&#x6863; Document myDoc = collection.find().first(); //&#x5F97;&#x5230;&#x6587;&#x4EF6;&#x5185;&#x5BB9; json&#x4E32; String json = myDoc.toJson(); System.out.println(json); }&#x4F7F;&#x7528;mongoDB&#x6570;&#x636E;&#x5E93;1.&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;show dbs &#x67E5;&#x8BE2;&#x5168;&#x90E8;&#x6570;&#x636E;&#x5E93; db &#x663E;&#x793A;&#x5F53;&#x524D;&#x6570;&#x636E;&#x5E93; 2.&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;use DATABASE_NAME &#x4F8B;&#x5B50;&#xFF1A; use test02 &#x6709;test02&#x6570;&#x636E;&#x5E93;&#x5219;&#x5207;&#x6362;&#x5230;&#x6B64;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x6CA1;&#x6709;&#x5219;&#x521B;&#x5EFA; &#x6CE8;&#x610F;&#xFF1A; &#x65B0;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E0D;&#x663E;&#x793A;&#xFF0C;&#x9700;&#x8981;&#x81F3;&#x5C11;&#x5305;&#x62EC;&#x4E00;&#x4E2A;&#x96C6;&#x5408;3.&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;&#xFF08;&#x614E;&#x7528;&#xFF01;&#xFF01;&#xFF01;&#xFF09;db.dropDatabase() &#x4F8B;&#x5B50;&#xFF1A; &#x5220;&#x9664;test02&#x6570;&#x636E;&#x5E93; &#x5148;&#x5207;&#x6362;&#x6570;&#x636E;&#x5E93;&#xFF1A;use test02 &#x518D;&#x6267;&#x884C;&#x5220;&#x9664;&#xFF1A;db.dropDatabase()&#x96C6;&#x5408;&#x96C6;&#x5408;&#x76F8;&#x5F53;&#x4E8E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#xFF0C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x662F;&#x5C06;&#x76F8;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x6863;&#x7BA1;&#x7406;&#x8D77;&#x6765;&#x3002; 1.&#x521B;&#x5EFA;&#x96C6;&#x5408;db.createCollection(name, options) name: &#x65B0;&#x521B;&#x5EFA;&#x7684;&#x96C6;&#x5408;&#x540D;&#x79F0; options: &#x521B;&#x5EFA;&#x53C2;&#x6570;,&#x53EF;&#x4EE5;&#x7701;&#x7565;2.&#x5220;&#x9664;&#x96C6;&#x5408;db.collection.drop() &#x4F8B;&#x5B50;&#xFF1A; db.student.drop() &#x5220;&#x9664;student&#x96C6;&#x5408;&#x6587;&#x6863;mongodb&#x4E2D;&#x6587;&#x6863;&#x7684;&#x683C;&#x5F0F;&#x662F;json&#x683C;&#x5F0F;&#xFF0C;&#x4E0B;&#x8FB9;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#xFF0C;&#x5305;&#x62EC;&#x4E24;&#x4E2A;key&#xFF1A;_id&#x4E3B;&#x952E;&#x548C;name { &quot;_id&quot; : ObjectId(&quot;5b2cc4bfa6a44812707739b5&quot;), &quot;name&quot; : &quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot; }1.&#x63D2;&#x5165;&#x6587;&#x6863;&#x547D;&#x4EE4;&#xFF1A; db.COLLECTION_NAME.insert(document)&#x6BCF;&#x4E2A;&#x6587;&#x6863;&#x9ED8;&#x8BA4;&#x4EE5;_id&#x4F5C;&#x4E3A;&#x4E3B;&#x952E;&#xFF0C;&#x4E3B;&#x952E;&#x9ED8;&#x8BA4;&#x7C7B;&#x578B;&#x4E3A;ObjectId&#xFF08;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#xFF09;&#xFF0C;mongodb&#x4F1A;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x4E3B;&#x952E;&#x503C;&#x3002; &#x4F8B;&#x5B50;&#xFF1A; db.student.insert({&quot;name&quot;:&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;,&quot;age&quot;:10})&#x6CE8;&#x610F;&#xFF1A;&#x540C;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6587;&#x6863;&#x7684;key&#x53EF;&#x4EE5;&#x4E0D;&#x76F8;&#x540C;&#xFF01;&#x4F46;&#x662F;&#x5EFA;&#x8BAE;&#x8BBE;&#x7F6E;&#x4E3A;&#x76F8;&#x540C;&#x7684;&#x3002; 2.&#x66F4;&#x65B0;&#x6587;&#x6863;&#x547D;&#x4EE4;&#xFF1A; db.collection.update( &lt;query&gt;, &lt;update&gt;, &lt;options&gt; ) query:&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;sql&#x8BED;&#x53E5;&#x7684;where update&#xFF1A;&#x66F4;&#x65B0;&#x6587;&#x6863;&#x5185;&#x5BB9; options&#xFF1A;&#x9009;&#x9879;1.&#x66FF;&#x6362;&#x6587;&#x6863;&#x5C06;&#x7B26;&#x5408;&#x6761;&#x4EF6; &#x201C;name&#x201D;:&#x201D;&#x5317;&#x4EAC;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x201D;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x66FF;&#x6362;&#x4E3A;{&#x201C;name&#x201D;:&#x201D;&#x5317;&#x4EAC;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x201D;,&#x201D;age&#x201D;:10}&#x3002; db.student.update({&quot;name&quot;:&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;},{&quot;name&quot;:&quot;&#x5317;&#x4EAC;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;,&quot;age&quot;:10})2&#x3001;$set&#x4FEE;&#x6539;&#x5668;&#x4F7F;&#x7528;$set&#x4FEE;&#x6539;&#x5668;&#x6307;&#x5B9A;&#x8981;&#x66F4;&#x65B0;&#x7684;key&#xFF0C;key&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x521B;&#x5EFA;&#xFF0C;&#x5B58;&#x5728;&#x5219;&#x66F4;&#x65B0;&#x3002; &#x5C06;&#x7B26;&#x5408;&#x6761;&#x4EF6; &#x201C;name&#x201D;:&#x201D;&#x5317;&#x4EAC;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x201D;&#x7684;&#x6240;&#x6709;&#x6587;&#x6863;&#x66F4;&#x65B0;name&#x548C;age&#x7684;&#x503C;&#x3002; db.student.update({&quot;name&quot;:&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;},{$set:{&quot;name&quot;:&quot;&#x5317;&#x4EAC;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;,&quot;age&quot;:10}},{multi:true})multi&#xFF1A;false&#x8868;&#x793A;&#x66F4;&#x65B0;&#x7B2C;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x7684;&#x6587;&#x6863;&#xFF0C;true&#x8868;&#x793A;&#x66F4;&#x65B0;&#x6240;&#x6709;&#x5339;&#x914D;&#x7684;&#x6587;&#x6863;&#x3002; 3.&#x5220;&#x9664;&#x6587;&#x6863;&#x547D;&#x4EE4;: db.student.remove(&lt;query&gt;) query&#xFF1A;&#x5220;&#x9664;&#x6761;&#x4EF6;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E;sql&#x8BED;&#x53E5;&#x4E2D;&#x7684;where1.&#x5220;&#x9664;&#x6240;&#x6709;&#x6587;&#x6863;db.student.remove({})2.&#x5220;&#x9664;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x6587;&#x6863;db.student.remove({&quot;name&quot;:&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;})4.&#x67E5;&#x8BE2;&#x6587;&#x6863;&#x547D;&#x4EE4;: db.collection.find(query, projection) query&#xFF1A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x53EF;&#x4E0D;&#x586B; projection&#xFF1A;&#x6295;&#x5F71;&#x67E5;&#x8BE2;key&#xFF0C;&#x53EF;&#x4E0D;&#x586B;1.&#x67E5;&#x8BE2;&#x5168;&#x90E8;db.student.find()2.&#x67E5;&#x8BE2;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x8BB0;&#x5F55;&#x67E5;&#x8BE2;name&#x7B49;&#x4E3A;&#x201D;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&#x201D;&#x7684;&#x6587;&#x6863;&#x3002; db.student.find({&quot;name&quot;:&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;})3.&#x6295;&#x5F71;&#x67E5;&#x8BE2;&#x53EA;&#x663E;&#x793A;name&#x548C;age&#x4E24;&#x4E2A;key&#xFF0C;_id&#x4E3B;&#x952E;&#x4E0D;&#x663E;&#x793A;&#x3002; db.student.find({&quot;name&quot;:&quot;&#x9ED1;&#x9A6C;&#x7A0B;&#x5E8F;&#x5458;&quot;},{name:1,age:1,_id:0})&#x7528;&#x6237;1.&#x521B;&#x5EFA;&#x7528;&#x6237;mongo&gt;db.createUser( { user: &quot;&lt;name&gt;&quot;, pwd: &quot;&lt;cleartext password&gt;&quot;, customData: { &lt;any information&gt; }, roles: [ { role: &quot;&lt;role&gt;&quot;, db: &quot;&lt;database&gt;&quot; } | &quot;&lt;role&gt;&quot;, ... ]} )&#x4F8B;&#x5B50;&#xFF1A;&#x521B;&#x5EFA;root&#x7528;&#x6237;&#xFF0C;&#x89D2;&#x8272;&#x4E3A;root use admin db.createUser( { user:&quot;root&quot;, pwd:&quot;root&quot;, roles:[{role:&quot;root&quot;,db:&quot;admin&quot;}] } )&#x5185;&#x7F6E;&#x89D2;&#x8272;&#x5982;&#x4E0B;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x89D2;&#x8272;&#xFF1A;read&#x3001;readWrite; &#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x89D2;&#x8272;&#xFF1A;dbAdmin&#x3001;dbOwner&#x3001;userAdmin&#xFF1B; &#x96C6;&#x7FA4;&#x7BA1;&#x7406;&#x89D2;&#x8272;&#xFF1A;clusterAdmin&#x3001;clusterManager&#x3001;clusterMonitor&#x3001;hostManager&#xFF1B; &#x5907;&#x4EFD;&#x6062;&#x590D;&#x89D2;&#x8272;&#xFF1A;backup&#x3001;restore&#xFF1B; &#x6240;&#x6709;&#x6570;&#x636E;&#x5E93;&#x89D2;&#x8272;&#xFF1A;readAnyDatabase&#x3001;readWriteAnyDatabase&#x3001;userAdminAnyDatabase&#x3001;dbAdminAnyDatabase &#x8D85;&#x7EA7;&#x7528;&#x6237;&#x89D2;&#x8272;&#xFF1A;root 2.&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x5E93;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x7528;&#x6237;&#xFF1A; show users3.&#x5220;&#x9664;&#x7528;&#x6237;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; db.dropUser(&quot;&#x7528;&#x6237;&#x540D;&quot;)&#x4F8B;&#x5B50;&#xFF1A;&#x5220;&#x9664;root1&#x7528;&#x6237; db.dropUser(&quot;root1&quot;)4.&#x4FEE;&#x6539;&#x7528;&#x6237;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; db.updateUser( &quot;&lt;username&gt;&quot;, { customData : { &lt;any information&gt; }, roles : [ { role: &quot;&lt;role&gt;&quot;, db: &quot;&lt;database&gt;&quot; } | &quot;&lt;role&gt;&quot;, ... ], pwd: &quot;&lt;cleartext password&gt;&quot; }, writeConcern: { &lt;write concern&gt; })&#x4F8B;&#x5B50;&#xFF1A; &#x4FEE;&#x6539;root&#x7528;&#x6237;&#x7684;&#x89D2;&#x8272;&#x4E3A;readWriteAnyDatabase use admin db.updateUser(&quot;root&quot;,{roles:[{role:&quot;readWriteAnyDatabase&quot;,db:&quot;admin&quot;}]})5.&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x8BED;&#x6CD5;&#x683C;&#x5F0F;&#xFF1A; db.changeUserPassword(&quot;username&quot;,&quot;newPasswd&quot;)&#x4F8B;&#x5B50;&#xFF1A;&#x4FEE;&#x6539;root&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#x4E3A;123 use admin db.changeUserPassword(&quot;root&quot;,&quot;123&quot;)&#x5BFC;&#x5165;CMS&#x6570;&#x636E;&#x5E93;&#x5BFC;&#x5165;cms&#x6570;&#x636E;&#x5E93;&#xFF1A;&#x4F7F;&#x7528;Studio 3T&#x8F6F;&#x4EF6;&#x5BFC;&#x5165;cms&#x6570;&#x636E;&#x5E93; 1.&#x521B;&#x5EFA;xc_cms&#x6570;&#x636E;&#x5E93; 2.&#x5BFC;&#x5165; cms&#x6570;&#x636E;&#x5E93;&#x53F3;&#x952E;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x70B9;&#x51FB;&#x5BFC;&#x5165;&#x6570;&#x636E;&#x5E93; &#x6253;&#x5F00;&#x7A97;&#x53E3;&#xFF0C;&#x9009;&#x62E9;&#x7B2C;&#x4E00;&#x4E2A; json&#x3002;&#x4E0B;&#x4E00;&#x6B65;&#xFF0C;&#x9009;&#x62E9;&#x8981;&#x5BFC;&#x5165;&#x7684;&#x6570;&#x636E;&#x6587;&#x4EF6;&#xFF08;json&#x6587;&#x4EF6;&#xFF09; &#x4E0B;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x3002; &#x5BFC;&#x5165;&#x6210;&#x529F;&#xFF1A; &#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x9700;&#x6C42;&#x5206;&#x6790;&#x5728;&#x68B3;&#x7406;&#x5B8C;&#x7528;&#x6237;&#x9700;&#x6C42;&#x540E;&#x5C31;&#x8981;&#x53BB;&#x5B9A;&#x4E49;&#x524D;&#x540E;&#x7AEF;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x540E;&#x524D;&#x7AEF;&#x548C;&#x540E;&#x7AEF;&#x5C31;&#x53EF;&#x4EE5;&#x4F9D;&#x636E;&#x63A5;&#x53E3;&#x53BB;&#x5F00;&#x53D1;&#x529F;&#x80FD;&#x4E86;&#x3002;&#x672C;&#x6B21;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF0C;&#x672C;&#x63A5;&#x53E3;&#x4F9B;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x5217;&#x8868;&#xFF0C;&#x652F;&#x6301;&#x5206;&#x9875;&#x53CA;&#x81EA;&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;&#x3002;&#x5177;&#x4F53;&#x9700;&#x6C42;&#x5982;&#x4E0B;&#xFF1A;1&#x3001;&#x5206;&#x9875;&#x67E5;&#x8BE2;CmsPage &#x96C6;&#x5408;&#x4E0B;&#x7684;&#x6570;&#x636E;2&#x3001;&#x6839;&#x636E;&#x7AD9;&#x70B9;Id&#x3001;&#x6A21;&#x677F;Id&#x3001;&#x9875;&#x9762;&#x522B;&#x540D;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4FE1;&#x606F;3&#x3001;&#x63A5;&#x53E3;&#x57FA;&#x4E8E;Http Get&#x8BF7;&#x6C42;&#xFF0C;&#x54CD;&#x5E94;Json&#x6570;&#x636E; &#x7AD9;&#x70B9;Id : &#x5C31;&#x662F;&#x6BCF;&#x4E2A;&#x7F51;&#x7AD9;&#x7684;&#x9996;&#x9875;&#x90FD;&#x6709;&#x95E8;&#x6237;&#x4E3B;&#x7AD9; &#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x7AD9;&#x70B9; &#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x7AD9;&#x70B9; &#x7B49;&#x7B49; cms_page&#x8868;&#x4E2D;&#x7684;siteId&#x5C31;&#x662F;cms_site&#x4E2D;&#x7684;_id &#x6A21;&#x677F;Id : &#x9875;&#x9762;&#x7684;&#x5E03;&#x5C40; &#x4F8B;&#x5982;cms_page&#x8868;&#x4E2D;&#x7684;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x5B83;&#x4EEC;&#x7684;templateId&#x90FD;&#x662F;&#x76F8;&#x540C;&#x7684; cms_page&#x8868;&#x4E2D;&#x7684;templateId&#x5C31;&#x662F;cms_template&#x4E2D;&#x7684;_id &#x6A21;&#x578B;&#x7C7B;&#x4ECB;&#x7ECD;&#x63A5;&#x53E3;&#x7684;&#x5B9A;&#x4E49;&#x79BB;&#x4E0D;&#x5F00;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF0C;&#x6839;&#x636E;&#x524D;&#x8FB9;&#x5BF9;&#x9700;&#x6C42;&#x7684;&#x5206;&#x6790;&#xFF0C;&#x6574;&#x4E2A;&#x9875;&#x9762;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x5982;&#x4E0B;&#xFF1A; &#x5728;xc-framework-model&#x5DE5;&#x7A0B;&#x4E0B;com.xuecheng.framework.domain.cms&#x5305;&#x4E2D;&#x5B9A;&#x4E49;&#x8FD9;&#x4E9B;&#x6A21;&#x578B;&#x7C7B; CmsSite&#xFF1A;&#x7AD9;&#x70B9;&#x6A21;&#x578B; CmsTemplate&#xFF1A;&#x9875;&#x9762;&#x6A21;&#x677F; CmsPage&#xFF1A;&#x9875;&#x9762;&#x4FE1;&#x606F; &#x7B80;&#x5355;&#x4ECB;&#x7ECD;CmsPage&#x7C7B;@Data @ToString @Document(collection = &quot;cms_page&quot;) public class CmsPage { /** * &#x9875;&#x9762;&#x540D;&#x79F0;&#x3001;&#x522B;&#x540D;&#x3001;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x3001;&#x7C7B;&#x578B;&#xFF08;&#x9759;&#x6001;/&#x52A8;&#x6001;&#xFF09;&#x3001;&#x9875;&#x9762;&#x6A21;&#x7248;&#x3001;&#x72B6;&#x6001; */ //&#x7AD9;&#x70B9;ID private String siteId; //&#x9875;&#x9762;ID @Id private String pageId; //&#x9875;&#x9762;&#x540D;&#x79F0; private String pageName; //&#x522B;&#x540D; private String pageAliase; //&#x8BBF;&#x95EE;&#x5730;&#x5740; private String pageWebPath; //&#x53C2;&#x6570; private String pageParameter; //&#x7269;&#x7406;&#x8DEF;&#x5F84; private String pagePhysicalPath; //&#x7C7B;&#x578B;&#xFF08;&#x9759;&#x6001;/&#x52A8;&#x6001;&#xFF09; private String pageType; //&#x9875;&#x9762;&#x6A21;&#x7248; private String pageTemplate; //&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x5185;&#x5BB9; private String pageHtml; //&#x72B6;&#x6001; private String pageStatus; //&#x521B;&#x5EFA;&#x65F6;&#x95F4; private Date pageCreateTime; //&#x6A21;&#x7248;id private String templateId; //&#x53C2;&#x6570;&#x5217;&#x8868; private List&lt;CmsPageParam&gt; pageParams; //&#x6A21;&#x7248;&#x6587;&#x4EF6;Id //private String templateFileId; //&#x9759;&#x6001;&#x6587;&#x4EF6;Id private String htmlFileId; //&#x6570;&#x636E;Url private String dataUrl; }&#x5C5E;&#x6027;&#x8BF4;&#x660E;&#xFF1A;1&#x3001;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x9875;&#x9762;&#x6240;&#x5C5E;&#x7AD9;&#x70B9;&#x4E00;&#x4E2A;&#x7AD9;&#x70B9;&#x5305;&#x62EC;&#x591A;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x5B66;&#x6210;&#x5728;&#x7EBF;&#x7684;&#x95E8;&#x6237;&#x7AD9;&#x70B9;&#xFF08;&#x7F51;&#x7AD9;&#xFF09;&#x5305;&#x62EC;&#x4E86;&#x591A;&#x4E2A;&#x9875;&#x9762;&#x3002;2&#x3001;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#x9700;&#x8981;&#x6307;&#x5B9A;&#x9875;&#x9762;&#x4F7F;&#x7528;&#x7684;&#x6A21;&#x677F;&#x591A;&#x4E2A;&#x9875;&#x9762;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x6A21;&#x677F;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#x6A21;&#x677F;&#xFF0C;&#x6BCF;&#x4E2A;&#x5546;&#x54C1;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x6240;&#x6709;&#x5546;&#x54C1;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#x6A21;&#x677F; &#x6CE8;&#x89E3;&#x8BF4;&#x660E;&#xFF1A;@Data&#x3001;@ToString&#x3001;@Document&#x6CE8;&#x89E3;&#x8868;&#x793A;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#xFF1F;@Data&#x3001;@ToString&#xFF1A;&#x662F;Lombok&#x63D0;&#x4F9B;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x4E0B;&#x9762;&#x4F1A;&#x4ECB;&#x7ECD;&#x3002;@Document&#xFF1A;&#x662F;Spring Data mongodb&#x63D0;&#x4F9B;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x6700;&#x7EC8;CMS&#x7684;&#x5F00;&#x53D1;&#x4F1A;&#x4F7F;&#x7528;Mongodb&#x6570;&#x636E;&#x5E93;&#x3002; Lombok&#x63D2;&#x4EF6;&#x4E0A;&#x8FB9;&#x7684;Data&#x6CE8;&#x89E3;&#x8868;&#x793A;&#x4EC0;&#x4E48;&#x610F;&#x601D;&#x5462;&#xFF1F;Data&#x6CE8;&#x89E3;&#xFF0C;ToString&#x6CE8;&#x89E3;&#x90FD;&#x662F;Lombok&#x63D0;&#x4F9B;&#x7684;&#x6CE8;&#x89E3;&#x3002;Lombok&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x7528;&#x7684;java&#x5DE5;&#x5177;&#xFF0C;&#x4F7F;&#x7528;&#x5B83;&#x53EF;&#x4EE5;&#x6D88;&#x9664;java&#x4EE3;&#x7801;&#x7684;&#x81C3;&#x80BF;&#xFF0C;Lombok&#x63D0;&#x4F9B;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6CE8;&#x89E3;&#xFF0C;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x6CE8;&#x89E3;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x5B9A;&#x4E49;getter/setter&#x3001;equals&#x3001;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x7B49;&#xFF0C;&#x5B83;&#x4F1A;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x5728;&#x5B57;&#x8282;&#x7801;&#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x8FD9;&#x4E9B;&#x901A;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x7B80;&#x5316;&#x5F00;&#x53D1; &#x4EBA;&#x5458;&#x7684;&#x5DE5;&#x4F5C;&#x3002; &#x9879;&#x76EE;&#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;https://www.projectlombok.org/&#x6BD4;&#x5982;&#x4E0A;&#x8282;&#x521B;&#x5EFA;&#x7684;UserTest&#x6A21;&#x578B;&#xFF0C;@Data&#x6CE8;&#x89E3;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x751F;&#x6210;getter/setter&#x65B9;&#x6CD5;&#xFF0C;@ToString&#x751F;&#x6210;tostring&#x65B9;&#x6CD5;&#x3002; &#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#xFF1A;1&#x3001;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x6DFB;&#x52A0;Lombok&#x7684;&#x4F9D;&#x8D56;&#x4F5C;&#x7528;&#xFF1A;&#x9879;&#x76EE;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x6839;&#x636E;Lombok&#x6CE8;&#x89E3;&#x751F;&#x6210;&#x901A;&#x7528;&#x65B9;&#x6CD5;&#x3002; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;/dependency&gt;2&#x3001;&#x5728;IDEA&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x4E2D;&#x6DFB;&#x52A0;Lombok&#x63D2;&#x4EF6;&#x4F5C;&#x7528;&#xFF1A;&#x4F7F;&#x7528;IDEA&#x5F00;&#x53D1;&#x65F6;&#x6839;&#x636E;Lombok&#x6CE8;&#x89E3;&#x751F;&#x6210;&#x901A;&#x7528;&#x65B9;&#x6CD5;&#xFF0C;&#x4E0D;&#x62A5;&#x9519;&#x3002; &#x5B9A;&#x4E49;&#x8BF7;&#x6C42;&#x53CA;&#x54CD;&#x5E94;&#x7C7B;&#x578B;&#x5728;xc-framework-model&#x5DE5;&#x7A0B;&#x4E2D;com.xuecheng.framework.domain.cms.request&#x5305;&#x4E0B;&#x5B9A;&#x4E49;QueryPageRequest&#x7C7B; 1&#x3001;&#x5B9A;&#x4E49;&#x8BF7;&#x6C42;&#x6A21;&#x578B;&#x7C7B;QueryPageRequest&#xFF0C;&#x6B64;&#x6A21;&#x578B;&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x7C7B;&#x578B; &#x4E3A;&#x540E;&#x671F;&#x6269;&#x5C55;&#x9700;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x7EDF;&#x4E00;&#x7EE7;&#x627F;RequestData&#x7C7B;&#x578B; 2&#x3001;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7C7B;&#x578B;&#xFF0C;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x7EDF;&#x4E00;&#x4F7F;&#x7528;QueryResponseResult @Data public class QueryPageRequest { //&#x63A5;&#x6536;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; //&#x7AD9;&#x70B9;id //&#x7AD9;&#x70B9;id @ApiModelProperty(&quot;&#x7AD9;&#x70B9;id&quot;) private String siteId; //&#x9875;&#x9762;ID private String pageId; //&#x9875;&#x9762;&#x540D;&#x79F0; private String pageName; //&#x522B;&#x540D; private String pageAliase; //&#x6A21;&#x7248;id private String templateId; }&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x5728;xc-service-api&#x63A5;&#x53E3;&#x5DE5;&#x7A0B;&#x4E2D;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;CmsPageControllerApi&#xFF0C;&#x5728;xc-service-api&#x5DE5;&#x7A0B;&#x5355;&#x72EC;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x7684;&#x539F;&#x56E0;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x63A5;&#x53E3;&#x96C6;&#x4E2D;&#x7BA1;&#x7406;2&#x3001;Api&#x5DE5;&#x7A0B;&#x7684;&#x63A5;&#x53E3;&#x5C06;&#x4F5C;&#x4E3A;&#x5404;&#x5FAE;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x4F7F;&#x7528;&#x3002;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; &#x5728;xc-service-api&#x63A5;&#x53E3;&#x5DE5;&#x7A0B;&#x7684;com.xuecheng.api.cms&#x5305;&#x4E0B;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;: public interface CmsPageControllerApi { public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest) ; }&#x6B64;&#x63A5;&#x53E3;&#x7F16;&#x5199;&#x540E;&#x4F1A;&#x5728;CMS&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x7F16;&#x5199;Controller&#x7C7B;&#x5B9E;&#x73B0;&#x6B64;&#x63A5;&#x53E3;&#x3002; &#x9875;&#x9762;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x7AEF;&#x5F00;&#x53D1;&#x521B;&#x5EFA;CMS&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;maven&#x5DE5;&#x7A0B;CMS&#x5DE5;&#x7A0B;&#x7684;&#x540D;&#x79F0;&#x4E3A; xc-service-manage-cms&#xFF0C;&#x7236;&#x5DE5;&#x7A0B;&#x4E3A;xc-framework-parent&#x3002; 1.&#x5BFC;&#x5165;pom.xmlpom.xml&#x5982;&#x4E0B;&#xFF1A; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;parent&gt; &lt;artifactId&gt;xc-framework-parent&lt;/artifactId&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;relativePath&gt;../xc-framework-parent/pom.xml&lt;/relativePath&gt; &lt;/parent&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;artifactId&gt;xc-service-manage-cms&lt;/artifactId&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-service-api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-model&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-utils&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-amqp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt; &lt;artifactId&gt;okhttp&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;/project&gt;&#x7531;&#x4E8E;cms&#x5DE5;&#x7A0B;&#x8981;&#x8FDE;&#x63A5;mongodb&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5728;&#x5728;cms&#x670D;&#x52A1;&#x7AEF;&#x5DE5;&#x7A0B;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4F9D;&#x8D56;&#xFF1A; &#x9879;&#x76EE;&#x4F7F;&#x7528;spring data mongodb&#x64CD;&#x4F5C;mongodb&#x6570;&#x636E;&#x5E93; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt; &lt;/dependency&gt;2.&#x521B;&#x5EFA;&#x5DE5;&#x7A0B;&#x7ED3;&#x6784;com.xuecheng.manage_cms.con&#xFB01;g&#xFF1A;&#x914D;&#x7F6E;&#x7C7B;&#x76EE;&#x5F55;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x3001;MQ&#x914D;&#x7F6E;&#x7B49; com.xuecheng.manage_cms.dao&#xFF1A;dao&#x63A5;&#x53E3;&#x76EE;&#x5F55;com.xuecheng.manage_cms.service&#xFF1A;service&#x7C7B;&#x76EE;&#x5F55; com.xuecheng.manage_cms.web.controller&#xFF1A;controller&#x7C7B;&#x76EE;&#x5F55;&#x5DE5;&#x7A0B;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; 3.&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5728;classpath&#x4E0B;&#x914D;&#x7F6E;application.yml server: port: 31001 spring: application: name: xc&#x2010;service&#x2010;manage&#x2010;cms data: mongodb: uri: mongodb://root:123@localhost:27017 database: xc_cms&#x62F7;&#x8D1D;logback-spring.xml&#xFF0C;&#x6B64;&#x6587;&#x4EF6;&#x4E3A;&#x5DE5;&#x7A0B;&#x7684;&#x65E5;&#x5FD7;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002;(&#x8BB0;&#x5F97;&#x4FEE;&#x6539;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x8DEF;&#x5F84;) 4.SpringBoot &#x542F;&#x52A8;&#x7C7B;Spring Boot&#x5E94;&#x7528;&#x9700;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x542F;&#x52A8;&#x7C7B;&#xFF0C;&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x626B;&#x63CF;Bean&#x5E76;&#x6CE8;&#x5165;spring &#x5BB9;&#x5668; &#x6CE8;&#x610F;&#xFF1A;&#x6B64;&#x7C7B;&#x521B;&#x5EFA;&#x5728;&#x672C;&#x5DE5;&#x7A0B;com.xuecheng.manage_cms&#x5305;&#x4E0B; : @SpringBootApplication @EntityScan(&quot;com.xuecheng.framework.domain.cms&quot;)//&#x626B;&#x63CF;&#x5B9E;&#x4F53;&#x7C7B; @ComponentScan(basePackages={&quot;com.xuecheng.api&quot;})//&#x626B;&#x63CF;&#x63A5;&#x53E3; @ComponentScan(basePackages={&quot;com.xuecheng.manage_cms&quot;})//&#x626B;&#x63CF;&#x672C;&#x9879;&#x76EE;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x7C7B; public class ManageCmsApplication { public static void main(String[] args) { SpringApplication.run(ManageCmsApplication.class,args); } }&#x6D4B;&#x8BD5;Controller&#x4F7F;&#x7528;springMVC&#x5B8C;&#x6210;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x5F00;&#x53D1;&#xFF0C;&#x8FD9;&#x91CC;&#x6682;&#x65F6;&#x4F7F;&#x7528;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#xFF0C;&#x7A0D;&#x540E;&#x4F1A;&#x8BA9;controller&#x8C03;&#x7528;service&#x6765;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x3002; &#x63A5;&#x53E3;&#x5F00;&#x53D1;&#x89C4;&#x8303;1.Api&#x8BF7;&#x6C42;&#x53CA;&#x54CD;&#x5E94;&#x89C4;&#x8303;&#x4E3A;&#x4E86;&#x4E25;&#x683C;&#x6309;&#x7167;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#xFF0C;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#xFF0C;&#x5BF9;&#x8BF7;&#x6C42;&#x53CA;&#x54CD;&#x5E94;&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x89C4;&#x8303;&#x5316;&#x3002;1&#x3001;get &#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x91C7;&#x7528;key/value&#x683C;&#x5F0F;&#x8BF7;&#x6C42;&#xFF0C;SpringMVC&#x53EF;&#x91C7;&#x7528;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7684;&#x53D8;&#x91CF;&#x63A5;&#x6536;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x5BF9;&#x8C61;&#x63A5;&#x6536;&#x3002; 2&#x3001;Post&#x8BF7;&#x6C42;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x63D0;&#x4EA4;form&#x8868;&#x5355;&#x6570;&#x636E;&#xFF08;application/x-www-form-urlencoded&#xFF09;&#x548C;Json&#x6570;&#x636E;&#xFF08;ContentType=application/json&#xFF09;&#xFF0C;&#x6587;&#x4EF6;&#x7B49;&#x591A;&#x90E8;&#x4EF6;&#x7C7B;&#x578B;&#xFF08;multipart/form-data&#xFF09;&#x4E09;&#x79CD;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;SpringMVC&#x63A5;&#x6536;Json&#x6570;&#x636E; &#x4F7F;&#x7528;@RequestBody&#x6CE8;&#x89E3;&#x89E3;&#x6790;&#x8BF7;&#x6C42;&#x7684;json&#x6570;&#x636E;&#x3002;4&#x3001;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7EDF;&#x4E00;&#x4FE1;&#x606F;&#x4E3A;&#xFF1A;&#x662F;&#x5426;&#x6210;&#x529F;&#x3001;&#x64CD;&#x4F5C;&#x4EE3;&#x7801;&#x3001;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x53CA;&#x81EA;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x3002;5&#x3001;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7EDF;&#x4E00;&#x683C;&#x5F0F;&#x4E3A;json&#x3002; 2.Api&#x5B9A;&#x4E49;&#x7EA6;&#x675F;Api&#x5B9A;&#x4E49;&#x4F7F;&#x7528;SpringMVC&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x7531;&#x4E8E;&#x6B64;&#x63A5;&#x53E3;&#x540E;&#x671F;&#x5C06;&#x4F5C;&#x4E3A;&#x5FAE;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;&#x4F7F;&#x7528;&#xFF0C;&#x5728;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x65F6;&#x6709;&#x5982;&#x4E0B;&#x9650;&#x5236;&#xFF1A; 1&#x3001;@PathVariable &#x7EDF;&#x4E00;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0;&#xFF0C;&#x5982;&#xFF1A;@PathVariable(&#x201C;id&#x201D;) 2&#x3001;@RequestParam&#x7EDF;&#x4E00;&#x6307;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0;&#xFF0C;&#x5982;&#xFF1A; @RequestParam&#xFF08;&#x201D;id&#x201D;&#xFF09; &#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x4E0A;&#x8FB9;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x57FA;&#x4E8E;&#x670D;&#x52A1;&#x7AEF;&#x7F16;&#x5199;&#x63A5;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x524D;&#x7AEF;&#x4EBA;&#x5458;&#x7B49;&#x5F85;&#x670D;&#x52A1;&#x7AEF;&#x4EBA;&#x5458;&#x5C06;&#x63A5;&#x53E3;&#x5F00;&#x53D1;&#x5B8C;&#x6BD5;&#x518D;&#x53BB;&#x5F00;&#x53D1;&#x524D;&#x7AEF;&#x5185;&#x5BB9;&#x8FD9;&#x6837;&#x505A;&#x6548;&#x7387;&#x662F; &#x975E;&#x5E38;&#x4F4E;&#x4E0B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5F53;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5B8C;&#x6210;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5DE5;&#x5177;&#x751F;&#x6210;&#x63A5;&#x53E3;&#x6587;&#x6863;&#xFF0C;&#x524D;&#x7AEF;&#x4EBA;&#x5458;&#x67E5;&#x770B;&#x63A5;&#x53E3;&#x6587;&#x6863;&#x5373;&#x53EF;&#x8FDB;&#x884C;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#xFF0C;&#x8FD9;&#x6837; &#x524D;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x4EBA;&#x5458;&#x5E76;&#x884C;&#x5F00;&#x53D1;&#xFF0C;&#x5927;&#x5927;&#x63D0;&#x9AD8;&#x4E86;&#x751F;&#x4EA7;&#x6548;&#x7387;&#x3002;&#x672C;&#x7AE0;&#x8282;&#x4ECB;&#x7ECD;&#x4E24;&#x79CD;&#x63A5;&#x53E3;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#xFF0C;Swagger&#x548C;Postman&#x3002; Swagger:1.Swagger&#x4ECB;&#x7ECD;OpenAPI&#x89C4;&#x8303;&#xFF08;OpenAPI Speci&#xFB01;cation &#x7B80;&#x79F0;OAS&#xFF09;&#x662F;Linux&#x57FA;&#x91D1;&#x4F1A;&#x7684;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#xFF0C;&#x8BD5;&#x56FE;&#x901A;&#x8FC7;&#x5B9A;&#x4E49;&#x4E00;&#x79CD;&#x7528;&#x6765;&#x63CF;&#x8FF0;API&#x683C; &#x5F0F;&#x6216;API&#x5B9A;&#x4E49;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x6765;&#x89C4;&#x8303;RESTful&#x670D;&#x52A1;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#xFF0C;&#x76EE;&#x524D;&#x7248;&#x672C;&#x662F;V3.0&#xFF0C;&#x5E76;&#x4E14;&#x5DF2;&#x7ECF;&#x53D1;&#x5E03;&#x5E76;&#x5F00;&#x6E90;&#x5728;github&#x4E0A;&#x3002;&#xFF08;https://github.com/OAI/OpenAPI-Speci&#xFB01;cation&#xFF09;Swagger&#x662F;&#x5168;&#x7403;&#x6700;&#x5927;&#x7684;OpenAPI&#x89C4;&#x8303;&#xFF08;OAS&#xFF09;API&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x6846;&#x67B6;&#xFF0C;&#x652F;&#x6301;&#x4ECE;&#x8BBE;&#x8BA1;&#x548C;&#x6587;&#x6863;&#x5230;&#x6D4B;&#x8BD5;&#x548C;&#x90E8;&#x7F72;&#x7684;&#x6574;&#x4E2A;API&#x751F;&#x547D;&#x5468; &#x671F;&#x7684;&#x5F00;&#x53D1;&#x3002; (https://swagger.io/) Spring Boot &#x53EF;&#x4EE5;&#x96C6;&#x6210;Swagger&#xFF0C;&#x751F;&#x6210;Swagger&#x63A5;&#x53E3;&#xFF0C;Spring Boot&#x662F;Java&#x9886;&#x57DF;&#x7684;&#x795E;&#x5668;&#xFF0C;&#x5B83;&#x662F;Spring&#x9879;&#x76EE;&#x4E0B;&#x5FEB;&#x901F;&#x6784;&#x5EFA; &#x9879;&#x76EE;&#x7684;&#x6846;&#x67B6;&#x3002; 2.Swagger&#x5E38;&#x7528;&#x6CE8;&#x89E3;&#x5728;Java&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0;Swagger&#x7684;&#x6CE8;&#x89E3;&#x5373;&#x53EF;&#x751F;&#x6210;Swagger&#x63A5;&#x53E3;&#xFF0C;&#x5E38;&#x7528;Swagger&#x6CE8;&#x89E3;&#x5982;&#x4E0B;&#xFF1A;@Api&#xFF1A;&#x4FEE;&#x9970;&#x6574;&#x4E2A;&#x7C7B;&#xFF0C;&#x63CF;&#x8FF0;Controller&#x7684;&#x4F5C;&#x7528;@ApiOperation&#xFF1A;&#x63CF;&#x8FF0;&#x4E00;&#x4E2A;&#x7C7B;&#x7684;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x6216;&#x8005;&#x8BF4;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;@ApiParam&#xFF1A;&#x5355;&#x4E2A;&#x53C2;&#x6570;&#x63CF;&#x8FF0;@ApiModel&#xFF1A;&#x7528;&#x5BF9;&#x8C61;&#x6765;&#x63A5;&#x6536;&#x53C2;&#x6570;@ApiModelProperty&#xFF1A;&#x7528;&#x5BF9;&#x8C61;&#x63A5;&#x6536;&#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x63CF;&#x8FF0;&#x5BF9; &#x8C61;&#x7684;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;@ApiResponse&#xFF1A;HTTP&#x54CD;&#x5E94;&#x5176;&#x4E2D;1&#x4E2A;&#x63CF;&#x8FF0;@ApiResponses&#xFF1A;HTTP&#x54CD;&#x5E94;&#x6574;&#x4F53;&#x63CF;&#x8FF0;@ApiIgnore&#xFF1A;&#x4F7F;&#x7528; &#x8BE5;&#x6CE8;&#x89E3;&#x5FFD;&#x7565;&#x8FD9;&#x4E2A;API@ApiError &#xFF1A;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x8FD4;&#x56DE;&#x7684;&#x4FE1;&#x606F;@ApiImplicitParam&#xFF1A;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x53C2;&#x6570;@ApiImplicitParams&#xFF1A;&#x591A;&#x4E2A;&#x8BF7;&#x6C42;&#x53C2;&#x6570; @ApiImplicitParam&#x5C5E;&#x6027;&#xFF1A; &#x5C5E;&#x6027; &#x53D6;&#x503C; &#x4F5C;&#x7528; paramType &#x67E5;&#x8BE2;&#x53C2;&#x6570;&#x7C7B;&#x578B; path &#x4EE5;&#x5730;&#x5740;&#x7684;&#x5F62;&#x5F0F;&#x63D0;&#x4EA4;&#x6570;&#x636E; query &#x76F4;&#x63A5;&#x8DDF;&#x53C2;&#x6570;&#x5B8C;&#x6210;&#x81EA;&#x52A8;&#x6620;&#x5C04;&#x8D4B;&#x503C; body &#x4EE5;&#x6D41;&#x7684;&#x5F62;&#x5F0F;&#x63D0;&#x4EA4; &#x4EC5;&#x652F;&#x6301;POST header &#x53C2;&#x6570;&#x5728;request headers &#x91CC;&#x8FB9;&#x63D0;&#x4EA4; form &#x4EE5;form&#x8868;&#x5355;&#x7684;&#x5F62;&#x5F0F;&#x63D0;&#x4EA4; &#x4EC5;&#x652F;&#x6301;POST dataType &#x53C2;&#x6570;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; &#x53EA;&#x4F5C;&#x4E3A;&#x6807;&#x5FD7;&#x8BF4;&#x660E;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x5B9E;&#x9645;&#x9A8C;&#x8BC1; Long String name &#x63A5;&#x6536;&#x53C2;&#x6570;&#x540D; value &#x63A5;&#x6536;&#x53C2;&#x6570;&#x7684;&#x610F;&#x4E49;&#x63CF;&#x8FF0; required &#x53C2;&#x6570;&#x662F;&#x5426;&#x5FC5;&#x586B; true &#x5FC5;&#x586B; false &#x975E;&#x5FC5;&#x586B; defaultValue &#x9ED8;&#x8BA4;&#x503C; 3.Swagger&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x5DE5;&#x7A0B;&#x4E2D;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF0C;&#x6DFB;&#x52A0;Swagger&#x6CE8;&#x89E3;&#x3002; @Api(value=&quot;cms&#x9875;&#x9762;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&quot;,description = &quot;cms&#x9875;&#x9762;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#xFF0C;&#x63D0;&#x4F9B;&#x9875;&#x9762;&#x7684;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&quot;) public interface CmsPageControllerApi { //&#x9875;&#x9762;&#x67E5;&#x8BE2; @ApiOperation(&quot;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x5217;&#x8868;&quot;) @ApiImplicitParams({ @ApiImplicitParam(name=&quot;page&quot;,value = &quot;&#x9875;&#x7801;&quot;,required=true,paramType=&quot;path&quot;,dataType=&quot;int&quot;), @ApiImplicitParam(name=&quot;size&quot;,value = &quot;&#x6BCF;&#x9875;&#x8BB0;&#x5F55;&#x6570;&quot;,required=true,paramType=&quot;path&quot;,dataType=&quot;int&quot;) }) public QueryResponseResult findList(int page, int size, QueryPageRequest queryPageRequest); }&#x5728;QueryPageRequest&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x6CE8;&#x89E3; ApiModelProperty &#x5BF9;&#x5C5E;&#x6027;&#x6CE8;&#x91CA;&#xFF1A; @Data public class QueryPageRequest extends RequestData { //&#x63A5;&#x6536;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x7684;&#x67E5;&#x8BE2;&#x6761;&#x4EF6; //&#x7AD9;&#x70B9;id //&#x7AD9;&#x70B9;id @ApiModelProperty(&quot;&#x7AD9;&#x70B9;id&quot;) private String siteId; //&#x9875;&#x9762;ID @ApiModelProperty(&quot;&#x9875;&#x9762;ID&quot;) private String pageId; //&#x9875;&#x9762;&#x540D;&#x79F0; @ApiModelProperty(&quot;&#x9875;&#x9762;&#x540D;&#x79F0;&quot;) private String pageName; //&#x522B;&#x540D; @ApiModelProperty(&quot;&#x9875;&#x9762;&#x522B;&#x540D;&quot;) private String pageAliase; //&#x6A21;&#x7248;id @ApiModelProperty(&quot;&#x6A21;&#x7248;id&quot;) private String templateId; }4.Swagger&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;Swagger&#x63A5;&#x53E3;&#x751F;&#x6210;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#xFF1A;1&#x3001;&#x7CFB;&#x7EDF;&#x542F;&#x52A8;&#xFF0C;&#x626B;&#x63CF;&#x5230;api&#x5DE5;&#x7A0B;&#x4E2D;&#x7684;Swagger2Con&#xFB01;guration&#x7C7B;2&#x3001;&#x5728;&#x6B64;&#x7C7B;&#x4E2D;&#x6307;&#x5B9A;&#x4E86;&#x5305;&#x8DEF;&#x5F84;com.xuecheng&#xFF0C;&#x627E;&#x5230;&#x5728;&#x6B64;&#x5305;&#x4E0B;&#x53CA;&#x5B50;&#x5305;&#x4E0B;&#x6807;&#x8BB0;&#x6709;@RestController&#x6CE8;&#x89E3;&#x7684;controller&#x7C7B;3&#x3001;&#x6839;&#x636E;controller&#x7C7B;&#x4E2D;&#x7684;Swagger&#x6CE8;&#x89E3;&#x751F;&#x6210;&#x63A5;&#x53E3;&#x6587;&#x6863;&#x3002; &#x542F;&#x52A8;cms&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#xFF0C;&#x67E5;&#x770B;&#x63A5;&#x53E3;&#x6587;&#x6863;&#xFF0C;&#x8BF7;&#x6C42;&#xFF1A;http://localhost:31001/swagger-ui.html &#x70B9;&#x51FB;&#x201C;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x5217;&#x8868;&#x201D;&#xFF0C;&#x6253;&#x5F00;&#x63A5;&#x53E3;&#x8BE6;&#x60C5; &#x4F7F;&#x7528;Swagger&#x5DE5;&#x5177;&#x6D4B;&#x8BD5;&#x670D;&#x52A1;&#x63A5;&#x53E3;&#xFF1A;1&#xFF09;&#x5728;cms&#x670D;&#x52A1;&#x63A5;&#x53E3;&#x4E2D;&#x6253;&#x65AD;&#x70B9;2&#xFF09;&#x6253;&#x5F00;&#x63A5;&#x53E3;&#x6587;&#x6863;&#x9875;&#x9762;&#xFF0C;&#x8F93;&#x5165;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#xFF0C;&#x70B9;&#x51FB;&#x201C;Try it out&#x201D;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x3002; PostmanPostman&#x662F;&#x4E00;&#x6B3E;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;http&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#xFF0C;&#x4F7F;&#x7528;postman&#x53EF;&#x4EE5;&#x5B8C;&#x6210;http&#x5404;&#x79CD;&#x8BF7;&#x6C42;&#x7684;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x3002;&#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;https://www.getpostman.com/ 1.&#x5B89;&#x88C5;Postman&#x672C;&#x6559;&#x7A0B;&#x4F7F;&#x7528;&#xFF0C;&#x53CC;&#x51FB;&#x6253;&#x5F00; Postman-win64-6.0.10-Setup.exe&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;Postman&#x7A97;&#x53E3; 2.&#x4F7F;&#x7528;postman&#x6D4B;&#x8BD5;http&#x63A5;&#x53E3; 3.&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;1&#xFF09; get&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x8BBE;&#x7F6E; 2&#xFF09;post&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x8BBE;&#x7F6E; form-data&#xFF1A;&#x5C06;&#x8868;&#x5355;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x4E3A;&#x952E;&#x503C;&#x5BF9;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5305;&#x62EC;&#x6587;&#x4EF6;x-www-form-urlencoded: content-type&#x4E3A;application/x-www-from-urlencoded&#xFF0C;&#x5C06;&#x8868;&#x5355;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x4E3A;&#x952E;&#x503C;&#x5BF9;raw&#xFF1A;&#x8BF7;&#x6C42;text&#x3001;json&#x3001;xml&#x3001;html&#xFF0C;&#x6BD4;&#x5982;&#x5982;&#x679C;&#x8BF7;&#x6C42;json&#x6570;&#x636E;&#x5219;&#x4F7F;&#x7528;&#x6B64;&#x683C;&#x5F0F;binary&#xFF1A;content-type&#x4E3A;application/octet-stream&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-10-ke-cheng-fa-bu.html</url>
    <content type="text"><![CDATA[&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x9700;&#x6C42;&#x5206;&#x6790;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x540E;&#x5C06;&#x751F;&#x6210;&#x6B63;&#x5F0F;&#x7684;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#xFF0C;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x540E;&#x7528;&#x6237;&#x5373;&#x53EF;&#x6D4F;&#x89C8;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#xFF0C;&#x5E76;&#x5F00;&#x59CB;&#x8BFE;&#x7A0B;&#x7684;&#x5B66;&#x4E60;&#x3002; &#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x751F;&#x6210;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x7684;&#x6D41;&#x7A0B;&#x4E0E;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x76F8;&#x540C;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x6559;&#x5B66;&#x7BA1;&#x7406;&#x4E2D;&#x5FC3;&#xFF0C;&#x8FDB;&#x5165;&#x67D0;&#x4E2A;&#x8BFE;&#x7A0B;&#x7684;&#x7BA1;&#x7406;&#x754C;&#x9762; 2&#x3001;&#x70B9;&#x51FB;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#xFF0C;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x5230;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1; 3&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x8FDC;&#x7A0B;&#x8C03;&#x7528;CMS&#x751F;&#x6210;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x9875;&#x9762;&#xFF0C;CMS&#x5C06;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x5230;&#x670D;&#x52A1;&#x5668; 4&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x72B6;&#x6001;&#x4E3A; &#x201C;&#x5DF2;&#x53D1;&#x5E03;&#x201D;&#xFF0C;&#x5E76;&#x5411;&#x524D;&#x7AEF;&#x8FD4;&#x56DE;&#x53D1;&#x5E03;&#x6210;&#x529F; 5&#x3001;&#x7528;&#x6237;&#x5728;&#x6559;&#x5B66;&#x7BA1;&#x7406;&#x4E2D;&#x5FC3;&#x70B9;&#x51FB;&#x201C;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x201D;&#x94FE;&#x63A5;&#xFF0C;&#x67E5;&#x770B;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x5185;&#x5BB9; CMS&#x4E00;&#x952E;&#x53D1;&#x5E03;&#x63A5;&#x53E3;&#x9700;&#x6C42;&#x5206;&#x6790;&#x6839;&#x636E;&#x9700;&#x6C42;&#x5206;&#x6790;&#x5185;&#x5BB9;&#xFF0C;&#x9700;&#x8981;&#x5728;cms&#x670D;&#x52A1;&#x589E;&#x52A0;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x63A5;&#x53E3;&#x4F9B;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x8C03;&#x7528;&#xFF0C;&#x6B64;&#x63A5;&#x53E3;&#x7684;&#x529F;&#x80FD;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x63A5;&#x6536;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x53D1;&#x5E03;&#x7684;&#x9875;&#x9762;&#x4FE1;&#x606F; 2&#x3001;&#x5C06;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x6DFB;&#x52A0;&#x5230; &#x6570;&#x636E;&#x5E93;&#xFF08;mongodb&#xFF09; 3&#x3001;&#x5BF9;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x9759;&#x6001;&#x5316; 4&#x3001;&#x5C06;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x53D1;&#x5E03;&#x5230;&#x670D;&#x52A1;&#x5668; api1&#x3001;&#x5728;model&#x6A21;&#x5757;com.xuecheng.framework.domain.cms.response&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7C7B;&#x578B; &#x9875;&#x9762;&#x53D1;&#x5E03;&#x6210;&#x529F;cms&#x8FD4;&#x56DE;&#x9875;&#x9762;&#x7684;url &#x9875;&#x9762;Url= cmsSite.siteDomain+cmsSite.siteWebPath+ cmsPage.pageWebPath + cmsPage.pageName @Data @NoArgsConstructor public class CmsPostPageResult extends ResponseResult { String pageUrl; public CmsPostPageResult(ResultCode resultCode, String pageUrl) { super(resultCode); this.pageUrl = pageUrl; } }2&#x3001;&#x5728;api&#x5DE5;&#x7A0B;CmsPageControllerApi&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x63A5;&#x53E3; @ApiOperation(&quot;&#x4E00;&#x952E;&#x53D1;&#x5E03;&#x9875;&#x9762;&quot;) public CmsPostPageResult postPageQuick(CmsPage cmsPage);Controller&#x5728;xc-service-manage-cms&#x5F53;&#x4E2D;&#x5B9A;&#x4E49;CmsPageController @Override @PostMapping(&quot;/postPageQuick&quot;) public CmsPostPageResult postPageQuick(@RequestBody CmsPage cmsPage) { return pageService.postPageQuick(cmsPage); }Service1&#x3001;&#x6DFB;&#x52A0;&#x9875;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x5B58;&#x5728;&#x5219;&#x66F4;&#x65B0;&#x9875;&#x9762; //&#x4E00;&#x952E;&#x53D1;&#x5E03;&#x9875;&#x9762; public CmsPostPageResult postPageQuick(CmsPage cmsPage) { //&#x5C06;&#x9875;&#x9762;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5230;cms_page &#x96C6;&#x5408;&#x4E2D; CmsPageResult save = this.save(cmsPage); if(!save.isSuccess()){ ExceptionCast.cast(CommonCode.FAIL); } //&#x5F97;&#x5230;&#x9875;&#x9762;&#x7684;id CmsPage cmsPageSave = save.getCmsPage(); String pageId = cmsPageSave.getPageId(); //&#x6267;&#x884C;&#x9875;&#x9762;&#x53D1;&#x5E03;&#xFF08;&#x5148;&#x9759;&#x6001;&#x5316;&#x3001;&#x4FDD;&#x5B58;GridFS&#xFF0C;&#x5411;MQ&#x53D1;&#x9001;&#x6D88;&#x606F;&#xFF09; ResponseResult post = this.post(pageId); if(!post.isSuccess()){ ExceptionCast.cast(CommonCode.FAIL); } //&#x62FC;&#x63A5;&#x9875;&#x9762;Url= cmsSite.siteDomain+cmsSite.siteWebPath+ cmsPage.pageWebPath + cmsPage.pageName //&#x53D6;&#x51FA;&#x7AD9;&#x70B9;id String siteId = cmsPageSave.getSiteId(); CmsSite cmsSite = this.findCmsSiteById(siteId); //&#x9875;&#x9762;url String pageUrl =cmsSite.getSiteDomain() + cmsSite.getSiteWebPath() + cmsPageSave.getPageWebPath() + cmsPageSave.getPageName(); return new CmsPostPageResult(CommonCode.SUCCESS,pageUrl); } //&#x6839;&#x636E;&#x7AD9;&#x70B9;id&#x67E5;&#x8BE2;&#x7AD9;&#x70B9;&#x4FE1;&#x606F; public CmsSite findCmsSiteById(String siteId){ Optional&lt;CmsSite&gt; optional = cmsSiteRepository.findById(siteId); if(optional.isPresent()){ return optional.get(); } return null; }Dao1&#x3001;&#x7AD9;&#x70B9;dao &#x63A5;&#x53E3;&#x4E2D;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x7AD9;&#x70B9;&#x7684;&#x4FE1;&#x606F;&#xFF08;&#x7AD9;&#x70B9;&#x57DF;&#x540D;&#x3001;&#x7AD9;&#x70B9;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&#x7B49;&#xFF09; public interface CmsSiteRepository extends MongoRepository&lt;CmsSite,String&gt; { }&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x63A5;&#x53E3;Api&#x6B64;Api&#x63A5;&#x53E3;&#x7531;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x63D0;&#x4F9B;&#xFF0C;&#x7531;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x8C03;&#x7528;&#x6B64;Api&#x63A5;&#x53E3;&#xFF0C;&#x5B9E;&#x73B0;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x3002; &#x5728;api&#x5DE5;&#x7A0B;&#x4E0B;&#x8BFE;&#x7A0B;CourseControllerApi&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#xFF1A; @ApiOperation(&quot;&#x53D1;&#x5E03;&#x8BFE;&#x7A0B;&quot;) public CoursePublishResult publish(@PathVariable String id);Controller&#x5728;xc-service-manage-course&#x6A21;&#x5757;&#x4E0B; @Override @PostMapping(&quot;/publish/{id}&quot;) public CoursePublishResult publish(@PathVariable(&quot;id&quot;)String id) { return courseService.publish(id); }Service1&#x3001;&#x914D;&#x7F6E;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x9875;&#x9762;&#x53C2;&#x6570; &#x5728;application.yml&#x4E2D;&#x914D;&#x7F6E; course-publish: siteId: 5dac1ceaea735833a4ca2bbe templateId: 5aec5dd70e661808240ab7a6 previewUrl: http://www.xuecheng.com/cms/preview/ pageWebPath: /course/detail/ pagePhysicalPath: /course/detail/ dataUrlPre: http://localhost:31200/course/courseview/siteId&#xFF1A;&#x7AD9;&#x70B9;id templateId&#xFF1A;&#x6A21;&#x677F;id dataurlPre&#xFF1A;&#x6570;&#x636E;url&#x7684;&#x524D;&#x7F00; pageWebPath: &#x9875;&#x9762;&#x7684;web&#x8BBF;&#x95EE;&#x8DEF;&#x5F84; pagePhysicalPath&#xFF1A;&#x9875;&#x9762;&#x7684;&#x7269;&#x7406;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#x3002; 2&#x3001;Service&#x65B9;&#x6CD5;&#x5982;&#x4E0B; //&#x8BFE;&#x7A0B;&#x53D1;&#x5E03; @Transactional public CoursePublishResult publish(String id) { //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B; CourseBase courseBaseById = this.findCourseBaseById(id); //&#x51C6;&#x5907;&#x9875;&#x9762;&#x4FE1;&#x606F; CmsPage cmsPage = new CmsPage(); cmsPage.setSiteId(publish_siteId);//&#x7AD9;&#x70B9;id cmsPage.setDataUrl(publish_dataUrlPre+id);//&#x6570;&#x636E;&#x6A21;&#x578B;url cmsPage.setPageName(id+&quot;.html&quot;);//&#x9875;&#x9762;&#x540D;&#x79F0; cmsPage.setPageAliase(courseBaseById.getName());//&#x9875;&#x9762;&#x522B;&#x540D;&#xFF0C;&#x5C31;&#x662F;&#x8BFE;&#x7A0B;&#x540D;&#x79F0; cmsPage.setPagePhysicalPath(publish_page_physicalpath);//&#x9875;&#x9762;&#x7269;&#x7406;&#x8DEF;&#x5F84; cmsPage.setPageWebPath(publish_page_webpath);//&#x9875;&#x9762;webpath cmsPage.setTemplateId(publish_templateId);//&#x9875;&#x9762;&#x6A21;&#x677F;id //&#x8C03;&#x7528;cms&#x4E00;&#x952E;&#x53D1;&#x5E03;&#x63A5;&#x53E3;&#x5C06;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x5230;&#x670D;&#x52A1;&#x5668; CmsPostPageResult cmsPostPageResult = cmsPageClient.postPageQuick(cmsPage); if(!cmsPostPageResult.isSuccess()){ return new CoursePublishResult(CommonCode.FAIL,null); } //&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x7684;&#x53D1;&#x5E03;&#x72B6;&#x6001;&#x4E3A;&#x201C;&#x5DF2;&#x53D1;&#x5E03;&#x201D; CourseBase courseBase = this.saveCoursePubState(id); if(courseBase == null){ return new CoursePublishResult(CommonCode.FAIL,null); } //&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x7D22;&#x5F15;&#x4FE1;&#x606F; //... //&#x7F13;&#x5B58;&#x8BFE;&#x7A0B;&#x7684;&#x4FE1;&#x606F; //... //&#x5F97;&#x5230;&#x9875;&#x9762;&#x7684;url String pageUrl = cmsPostPageResult.getPageUrl(); return new CoursePublishResult(CommonCode.SUCCESS,pageUrl); } //&#x66F4;&#x65B0;&#x8BFE;&#x7A0B;&#x72B6;&#x6001;&#x4E3A;&#x5DF2;&#x53D1;&#x5E03; 202002 private CourseBase saveCoursePubState(String courseId){ CourseBase courseBaseById = this.findCourseBaseById(courseId); courseBaseById.setStatus(&quot;202002&quot;); courseBaseRepository.save(courseBaseById); return courseBaseById; }Feign Client&#x5728;xc-service-manage-course&#x6A21;&#x5757;&#x4E0B;&#x521B;&#x5EFA;CMS&#x670D;&#x52A1;&#x9875;&#x9762;&#x53D1;&#x5E03;&#x7684;Feign Client //&#x4E00;&#x952E;&#x53D1;&#x5E03;&#x9875;&#x9762; @PostMapping(&quot;/cms/page/postPageQuick&quot;) public CmsPostPageResult postPageQuick(@RequestBody CmsPage cmsPage);&#x524D;&#x7AEF;&#x5F00;&#x53D1;API/*&#x53D1;&#x5E03;&#x8BFE;&#x7A0B;*/ export const publish = id =&gt; { return http.requestPost(apiUrl+&apos;/course/publish/&apos;+id); }&#x9875;&#x9762;&#x4FEE;&#x6539; course_pub.vue &lt;el-card class=&quot;box-card&quot;&gt; &lt;div slot=&quot;header&quot; class=&quot;clearfix&quot;&gt; &lt;span&gt;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&lt;/span&gt; &lt;/div&gt; &lt;div class=&quot;text item&quot;&gt; &lt;div v-if=&quot;course.status == &apos;202001&apos;&quot;&gt; &#x72B6;&#x6001;&#xFF1A;&#x5236;&#x4F5C;&#x4E2D;&lt;br/&gt; &lt;el-button type=&quot;primary&quot; @click.native=&quot;publish&quot; &gt;&#x65B0;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&lt;/el-button&gt; &lt;/div&gt; &lt;div v-else-if=&quot;course.status == &apos;202003&apos;&quot;&gt; &#x72B6;&#x6001;&#xFF1A;&#x5DF2;&#x4E0B;&#x7EBF; &lt;br/&gt;&lt;br/&gt; &lt;span&gt;&lt;a :href=&quot;&apos;http://www.xuecheng.com/course/detail/&apos;+this.courseid+&apos;.html&apos;&quot; target=&quot;_blank&quot;&gt;&#x70B9;&#x6211;&#x67E5;&#x770B;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762; &lt;/a&gt; &lt;/span&gt; &lt;/div&gt; &lt;div v-else-if=&quot;course.status == &apos;202002&apos;&quot;&gt; &#x72B6;&#x6001;&#xFF1A;&#x5DF2;&#x53D1;&#x5E03;&lt;br/&gt; &lt;el-button type=&quot;primary&quot; @click.native=&quot;publish&quot; &gt;&#x4FEE;&#x6539;&#x53D1;&#x5E03;&lt;/el-button&gt; &lt;br/&gt;&lt;br/&gt; &lt;span&gt;&lt;a :href=&quot;&apos;http://www.xuecheng.com/course/detail/&apos;+this.courseid+&apos;.html&apos;&quot; target=&quot;_blank&quot;&gt;&#x70B9;&#x6211;&#x67E5;&#x770B;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762; &lt;/a&gt; &lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;/el-card&gt;&#x53D1;&#x5E03;&#x65B9;&#x6CD5; ,&#x53D1;&#x5E03;&#x6210;&#x529F;&#x91CD;&#x65B0;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x8BFE;&#x7A0B;&#x72B6;&#x6001;&#x5DF2;&#x66F4;&#x6539;&#x5219;&#x663E;&#x793A;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x7684;&#x94FE;&#x63A5;&#x3002; publish(){ //&#x8BFE;&#x7A0B;&#x53D1;&#x5E03; courseApi.publish(this.courseid).then(res=&gt;{ if(res.success){ this.$message.success(&quot;&#x53D1;&#x5E03;&#x6210;&#x529F;&#xFF0C;&#x8BF7;&#x70B9;&#x51FB;&#x4E0B;&#x8FB9;&#x7684;&#x94FE;&#x63A5;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&quot;) this.getCourseView(); }else{ this.$message.error(res.message) } }) }, getCourseView(){ courseApi.findCourseView(this.courseid).then(res=&gt;{ if(res &amp;&amp; res.courseBase){ //&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x72B6;&#x6001; this.course.status = res.courseBase.status; } }) }&#x5728;&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#x4E2D;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#xFF1A; mounted(){ debugger; //&#x8BFE;&#x7A0B;id this.courseid = this.$route.params.courseid; //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; this.getCourseView(); } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-11-sou-suo-fu-wu.html</url>
    <content type="text"><![CDATA[&#x641C;&#x7D22;&#x670D;&#x52A1;&#x8BFE;&#x7A0B;&#x641C;&#x7D22;&#x9700;&#x6C42;&#x5206;&#x6790; 1&#x3001;&#x6839;&#x636E;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x3002; 2&#x3001;&#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#xFF0C;&#x641C;&#x7D22;&#x65B9;&#x5F0F;&#x4E3A;&#x5168;&#x6587;&#x68C0;&#x7D22;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x9700;&#x8981;&#x5339;&#x914D;&#x8BFE;&#x7A0B;&#x7684;&#x540D;&#x79F0;&#x3001; &#x8BFE;&#x7A0B;&#x5185;&#x5BB9;&#x3002; 3&#x3001;&#x6839;&#x636E;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x3002; 4&#x3001;&#x641C;&#x7D22;&#x7ED3;&#x70B9;&#x5206;&#x9875;&#x663E;&#x793A;&#x3002; &#x641C;&#x7D22;&#x6D41;&#x7A0B; 1&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x5C06;&#x6570;&#x636E;&#x5199;&#x5230;MySQL&#x6570;&#x636E;&#x5E93; 2&#x3001;&#x4F7F;&#x7528;Logstash&#x5C06;MySQL&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5199;&#x5230;ES&#x7684;&#x7D22;&#x5F15;&#x5E93;&#x3002; 3&#x3001;&#x7528;&#x6237;&#x5728;&#x524D;&#x7AEF;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#xFF0C;&#x8BF7;&#x6C42;&#x5230;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x3002; 4&#x3001;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x8BF7;&#x6C42;ES&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x3002; &#x8BFE;&#x7A0B;&#x7D22;&#x5F15;&#x6280;&#x672F;&#x65B9;&#x6848;&#x5982;&#x4F55;&#x7EF4;&#x62A4;&#x8BFE;&#x7A0B;&#x7D22;&#x5F15;&#x4FE1;&#x606F;&#xFF1F; 1&#x3001;&#x5F53;&#x8BFE;&#x7A0B;&#x5411;MySQL&#x6DFB;&#x52A0;&#x540E;&#x540C;&#x65F6;&#x5C06;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x6DFB;&#x52A0;&#x5230;&#x7D22;&#x5F15;&#x5E93;&#x3002; &#x91C7;&#x7528;Logstach&#x5B9E;&#x73B0;&#xFF0C;Logstach&#x4F1A;&#x4ECE;MySQL&#x4E2D;&#x5C06;&#x6570;&#x636E;&#x91C7;&#x96C6;&#x5230;ES&#x7D22;&#x5F15;&#x5E93;&#x3002; 2&#x3001;&#x5F53;&#x8BFE;&#x7A0B;&#x5728;MySQL&#x66F4;&#x65B0;&#x4FE1;&#x606F;&#x540E;&#x540C;&#x65F6;&#x66F4;&#x65B0;&#x8BE5;&#x8BFE;&#x7A0B;&#x5728;&#x7D22;&#x5F15;&#x5E93;&#x7684;&#x4FE1;&#x606F;&#x3002; &#x91C7;&#x7528;Logstach&#x5B9E;&#x73B0;&#x3002; 3&#x3001;&#x5F53;&#x8BFE;&#x7A0B;&#x5728;MySQL&#x5220;&#x9664;&#x540E;&#x540C;&#x65F6;&#x5C06;&#x8BE5;&#x8BFE;&#x7A0B;&#x4ECE;&#x7D22;&#x5F15;&#x5E93;&#x5220;&#x9664;&#x3002; &#x624B;&#x5DE5;&#x5199;&#x7A0B;&#x5E8F;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x540E;&#x5C06;&#x7D22;&#x5F15;&#x5E93;&#x4E2D;&#x8BE5;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x5220;&#x9664;&#x3002; &#x521B;&#x5EFA;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x8868;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x5206;&#x5E03;&#x5728;course_base&#x3001;course_pic&#x7B49;&#x4E0D;&#x540C;&#x7684;&#x8868;&#x4E2D;&#x3002; &#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x6210;&#x529F;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x8FDB;&#x884C;&#x7D22;&#x5F15;&#x5C06;&#x8FD9;&#x51E0;&#x5F20;&#x8868;&#x7684;&#x6570;&#x636E;&#x5408;&#x5E76;&#x5728;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#xFF0C;&#x4F5C;&#x4E3A;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x4FE1;&#x606F;&#x3002; &#x521B;&#x5EFA;course_pub&#x8868; &#x521B;&#x5EFA;&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x8868;&#x6A21;&#x578B;&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x521B;&#x5EFA;&#x6A21;&#x578B;&#xFF1A; @Data @ToString @Entity @Table(name=&quot;course_pub&quot;) @GenericGenerator(name = &quot;jpa-assigned&quot;, strategy = &quot;assigned&quot;) public class CoursePub implements Serializable { private static final long serialVersionUID = -916357110051689487L; @Id @GeneratedValue(generator = &quot;jpa-assigned&quot;) @Column(length = 32) private String id; private String name; private String users; private String mt; private String st; private String grade; private String studymodel; private String teachmode; private String description; private String pic;//&#x56FE;&#x7247; private Date timestamp;//&#x65F6;&#x95F4;&#x6233; private String charge; private String valid; private String qq; private Float price; private Float price_old; private String expires; private String teachplan;//&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; @Column(name=&quot;pub_time&quot;) private String pubTime;//&#x8BFE;&#x7A0B;&#x53D1;&#x5E03;&#x65F6;&#x95F4; }DAO&#x5728;xc-service-manage-course&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;CoursePubRepository public interface CoursePubRepository extends JpaRepository&lt;CoursePub,String&gt; { }Service @Autowired CoursePubRepository coursePubRepository; //&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x7D22;&#x5F15;&#x4FE1;&#x606F; //&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;coursePub&#x5BF9;&#x8C61; CoursePub coursePub = createCoursePub(id); //&#x5C06;coursePub&#x5BF9;&#x8C61;&#x4FDD;&#x5B58;&#x5230;&#x6570;&#x636E;&#x5E93; saveCoursePub(id,coursePub); private CoursePub createCoursePub(String id){ CoursePub coursePub = new CoursePub(); //&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;course_base Optional&lt;CourseBase&gt; baseOptional = courseBaseRepository.findById(id); if(baseOptional.isPresent()){ CourseBase courseBase = baseOptional.get(); //&#x5C06;courseBase&#x5C5E;&#x6027;&#x62F7;&#x8D1D;&#x5230;CoursePub&#x4E2D; BeanUtils.copyProperties(courseBase,coursePub); } //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x56FE;&#x7247; Optional&lt;CoursePic&gt; picOptional = coursePicRepository.findById(id); if(picOptional.isPresent()){ CoursePic coursePic = picOptional.get(); BeanUtils.copyProperties(coursePic, coursePub); } //&#x8BFE;&#x7A0B;&#x8425;&#x9500;&#x4FE1;&#x606F; Optional&lt;CourseMarket&gt; marketOptional = courseMarketRepository.findById(id); if(marketOptional.isPresent()){ CourseMarket courseMarket = marketOptional.get(); BeanUtils.copyProperties(courseMarket, coursePub); } //&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F; TeachplanNode teachplanNode = teachplanMapper.selectList(id); String jsonString = JSON.toJSONString(teachplanNode); //&#x5C06;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F;json&#x4E32;&#x4FDD;&#x5B58;&#x5230; course_pub&#x4E2D; coursePub.setTeachplan(jsonString); return coursePub; } //&#x5C06;coursePub&#x5BF9;&#x8C61;&#x4FDD;&#x5B58;&#x5230;&#x6570;&#x636E;&#x5E93; private CoursePub saveCoursePub(String id,CoursePub coursePub){ CoursePub coursePubNew = null; //&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;coursePub Optional&lt;CoursePub&gt; coursePubOptional = coursePubRepository.findById(id); if(coursePubOptional.isPresent()){ coursePubNew = coursePubOptional.get(); }else{ coursePubNew = new CoursePub(); } //&#x5C06;coursePub&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x5230;coursePubNew&#x4E2D; BeanUtils.copyProperties(coursePub,coursePubNew); coursePubNew.setId(id); //&#x65F6;&#x95F4;&#x6233;,&#x7ED9;logstach&#x4F7F;&#x7528; coursePubNew.setTimestamp(new Date()); //&#x53D1;&#x5E03;&#x65F6;&#x95F4; SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;YYYY-MM-dd HH:mm:ss&quot;); String date = simpleDateFormat.format(new Date()); coursePubNew.setPubTime(date); coursePubRepository.save(coursePubNew); return coursePubNew; }&#x642D;&#x5EFA;ES&#x73AF;&#x5883;ES&#x5B89;&#x88C5;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4F7F;&#x7528;ES&#x5355;&#x673A;&#x73AF;&#x5883;&#xFF0C;&#x542F;&#x52A8;ES&#x670D;&#x52A1;&#x7AEF;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x65E7;&#x7684;ES&#x73AF;&#x5883;&#xFF0C;&#x53EF;&#x4EE5;&#x5220;&#x9664;elasticsearch-6.2.1\data\nodes&#x76EE;&#x5F55;&#x4EE5;&#x5B8C;&#x5168;&#x6E05;&#x9664;ES&#x73AF;&#x5883;&#x3002; &#x5B89;&#x88C5;elasticsearch-head&#x5E76;&#x542F;&#x52A8;&#x3002; &#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93; &#x521B;&#x5EFA;xc_course&#x7D22;&#x5F15;&#x5E93;&#xFF0C;&#x4E00;&#x4E2A;&#x5206;&#x7247;&#xFF0C;0&#x4E2A;&#x526F;&#x672C;&#x3002; &#x521B;&#x5EFA;&#x6620;&#x5C04;Post http://localhost:9200/xc_course/doc/_mapping { &quot;properties&quot; : { &quot;description&quot; : { &quot;analyzer&quot; : &quot;ik_max_word&quot;, &quot;search_analyzer&quot;: &quot;ik_smart&quot;, &quot;type&quot; : &quot;text&quot; }, &quot;grade&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;id&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;mt&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;name&quot; : { &quot;analyzer&quot; : &quot;ik_max_word&quot;, &quot;search_analyzer&quot;: &quot;ik_smart&quot;, &quot;type&quot; : &quot;text&quot; }, &quot;users&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;text&quot; }, &quot;charge&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;valid&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;pic&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;keyword&quot; }, &quot;qq&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;keyword&quot; }, &quot;price&quot; : { &quot;type&quot; : &quot;float&quot; }, &quot;price_old&quot; : { &quot;type&quot; : &quot;float&quot; }, &quot;st&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;status&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;studymodel&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;teachmode&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;teachplan&quot; : { &quot;analyzer&quot; : &quot;ik_max_word&quot;, &quot;search_analyzer&quot;: &quot;ik_smart&quot;, &quot;type&quot; : &quot;text&quot; }, &quot;expires&quot; : { &quot;type&quot; : &quot;date&quot;, &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot; }, &quot;pub_time&quot; : { &quot;type&quot; : &quot;date&quot;, &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot; }, &quot;start_time&quot; : { &quot;type&quot; : &quot;date&quot;, &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot; }, &quot;end_time&quot; : { &quot;type&quot; : &quot;date&quot;, &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss&quot; } } }Logstash&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x200B; Logstash&#x662F;ES&#x4E0B;&#x7684;&#x4E00;&#x6B3E;&#x5F00;&#x6E90;&#x8F6F;&#x4EF6;&#xFF0C;&#x5B83;&#x80FD;&#x591F;&#x540C;&#x65F6; &#x4ECE;&#x591A;&#x4E2A;&#x6765;&#x6E90;&#x91C7;&#x96C6;&#x6570;&#x636E;&#x3001;&#x8F6C;&#x6362;&#x6570;&#x636E;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x6570;&#x636E;&#x53D1;&#x9001;&#x5230;Eleasticsearch&#x4E2D;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x3002; &#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;Logstash&#x5C06;MySQL&#x4E2D;&#x7684;&#x6570;&#x636E;&#x91C7;&#x7528;&#x5230;ES&#x7D22;&#x5F15;&#x4E2D;&#x3002; &#x4E0B;&#x8F7D;Logstash&#x4E0B;&#x8F7D;Logstash6.2.1&#x7248;&#x672C;&#xFF0C;&#x548C;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x7684;Elasticsearch6.2.1&#x7248;&#x672C;&#x4E00;&#x81F4;&#x3002; &#x89E3;&#x538B;&#xFF1A; &#x5B89;&#x88C5;logstash-input-jdbclogstash-input-jdbc &#x662F;ruby&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x5148;&#x4E0B;&#x8F7D;ruby&#x5E76;&#x5B89;&#x88C5; &#x4E0B;&#x8F7D;&#x5730;&#x5740;: https://rubyinstaller.org/downloads/ &#x4E0B;&#x8F7D;2.5&#x7248;&#x672C;&#x5373;&#x53EF;&#x3002; &#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x67E5;&#x770B;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x6210;&#x529F; Logstash5.x&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x672C;&#x8EAB;&#x81EA;&#x5E26;&#x6709;logstash-input-jdbc&#xFF0C;6.x&#x7248;&#x672C;&#x672C;&#x8EAB;&#x4E0D;&#x5E26;logstash-input-jdbc&#x63D2;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x624B;&#x52A8;&#x5B89;&#x88C5; &#x5B89;&#x88C5;&#x6210;&#x529F;&#x540E;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;logstash&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x4EE5;&#x4E0B;&#x76EE;&#x5F55;&#x67E5;&#x770B;&#x5BF9;&#x5E94;&#x7684;&#x63D2;&#x4EF6;&#x7248;&#x672C; &#x89E3;&#x538B;&#x8001;&#x5E08;&#x63D0;&#x4F9B;&#x7684;logstash-6.2.1.zip,&#x6B64;logstash&#x4E2D;&#x5DF2;&#x96C6;&#x6210;&#x4E86;logstash-input-jdbc&#x63D2;&#x4EF6;&#x3002; &#x521B;&#x5EFA;&#x6A21;&#x677F;&#x6587;&#x4EF6;Logstash&#x7684;&#x5DE5;&#x4F5C;&#x662F;&#x4ECE;MySQL&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#xFF0C;&#x5411;ES&#x4E2D;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#xFF0C;&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x63D0;&#x524D;&#x521B;&#x5EFA;mapping&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4EE5;&#x4FBF;logstash&#x4F7F;&#x7528;&#x3002; &#x5728;logstach&#x7684;config&#x76EE;&#x5F55;&#x521B;&#x5EFA;xc_course_template.json&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; { &quot;mappings&quot; : { &quot;doc&quot; : { &quot;properties&quot; : { &quot;charge&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;description&quot; : { &quot;analyzer&quot; : &quot;ik_max_word&quot;, &quot;search_analyzer&quot; : &quot;ik_smart&quot;, &quot;type&quot; : &quot;text&quot; }, &quot;end_time&quot; : { &quot;format&quot; : &quot;yyyy-MM-dd HH:mm:ss&quot;, &quot;type&quot; : &quot;date&quot; }, &quot;expires&quot; : { &quot;format&quot; : &quot;yyyy-MM-dd HH:mm:ss&quot;, &quot;type&quot; : &quot;date&quot; }, &quot;grade&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;id&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;mt&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;name&quot; : { &quot;analyzer&quot; : &quot;ik_max_word&quot;, &quot;search_analyzer&quot; : &quot;ik_smart&quot;, &quot;type&quot; : &quot;text&quot; }, &quot;pic&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;keyword&quot; }, &quot;price&quot; : { &quot;type&quot; : &quot;float&quot; }, &quot;price_old&quot; : { &quot;type&quot; : &quot;float&quot; }, &quot;pub_time&quot; : { &quot;format&quot; : &quot;yyyy-MM-dd HH:mm:ss&quot;, &quot;type&quot; : &quot;date&quot; }, &quot;qq&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;keyword&quot; }, &quot;st&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;start_time&quot; : { &quot;format&quot; : &quot;yyyy-MM-dd HH:mm:ss&quot;, &quot;type&quot; : &quot;date&quot; }, &quot;status&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;studymodel&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;teachmode&quot; : { &quot;type&quot; : &quot;keyword&quot; }, &quot;teachplan&quot; : { &quot;analyzer&quot; : &quot;ik_max_word&quot;, &quot;search_analyzer&quot; : &quot;ik_smart&quot;, &quot;type&quot; : &quot;text&quot; }, &quot;users&quot; : { &quot;index&quot; : false, &quot;type&quot; : &quot;text&quot; }, &quot;valid&quot; : { &quot;type&quot; : &quot;keyword&quot; } } } }, &quot;template&quot; : &quot;xc_course&quot; }&#x914D;&#x7F6E;mysql.conf&#x5728;logstash&#x7684;config&#x76EE;&#x5F55;&#x4E0B;&#x914D;&#x7F6E;mysql.conf&#x6587;&#x4EF6;&#x4F9B;logstash&#x4F7F;&#x7528;&#xFF0C;logstash&#x4F1A;&#x6839;&#x636E;mysql.conf&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E;&#x7684;&#x5730;&#x5740;&#x4ECE;MySQL&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5411;ES&#x4E2D;&#x5199;&#x5165;&#x7D22;&#x5F15;&#x3002; &#x53C2;&#x8003;https://www.elastic.co/guide/en/logstash/current/plugins-inputs-jdbc.html &#x914D;&#x7F6E;&#x8F93;&#x5165;&#x6570;&#x636E;&#x6E90;&#x548C;&#x8F93;&#x51FA;&#x6570;&#x636E;&#x6E90;&#x3002; input { stdin { } jdbc { jdbc_connection_string =&gt; &quot;jdbc:mysql://localhost:3306/xc_course?useUnicode=true&amp;characterEncoding=utf-8&amp;useSSL=true&amp;serverTimezone=UTC&quot; # the user we wish to excute our statement as jdbc_user =&gt; &quot;root&quot; jdbc_password =&gt; root # the path to our downloaded jdbc driver jdbc_driver_library =&gt; &quot;X:/development/java/mysql-connector-java-5.1.41.jar&quot; # the name of the driver class for mysql jdbc_driver_class =&gt; &quot;com.mysql.jdbc.Driver&quot; jdbc_paging_enabled =&gt; &quot;true&quot; jdbc_page_size =&gt; &quot;50000&quot; #&#x8981;&#x6267;&#x884C;&#x7684;sql&#x6587;&#x4EF6; #statement_filepath =&gt; &quot;/conf/course.sql&quot; statement =&gt; &quot;select * from course_pub where timestamp &gt; date_add(:sql_last_value,INTERVAL 8 HOUR)&quot; #&#x5B9A;&#x65F6;&#x914D;&#x7F6E; schedule =&gt; &quot;* * * * *&quot; record_last_run =&gt; true last_run_metadata_path =&gt; &quot;X:/development/java/logstash/config/logstash_metadata&quot; } } output { elasticsearch { #ES&#x7684;ip&#x5730;&#x5740;&#x548C;&#x7AEF;&#x53E3; hosts =&gt; &quot;localhost:9200&quot; #hosts =&gt; [&quot;localhost:9200&quot;,&quot;localhost:9202&quot;,&quot;localhost:9203&quot;] #ES&#x7D22;&#x5F15;&#x5E93;&#x540D;&#x79F0; index =&gt; &quot;xc_course&quot; document_id =&gt; &quot;%{id}&quot; document_type =&gt; &quot;doc&quot; template =&gt;&quot;X:/development/java/logstash/config/xc_course_template.json&quot; template_name =&gt;&quot;xc_course&quot; template_overwrite =&gt;&quot;true&quot; } stdout { #&#x65E5;&#x5FD7;&#x8F93;&#x51FA; codec =&gt; json_lines } } &#x8BF4;&#x660E;&#xFF1A; 1&#x3001;ES&#x91C7;&#x7528;UTC&#x65F6;&#x533A;&#x95EE;&#x9898; ES&#x91C7;&#x7528;UTC &#x65F6;&#x533A;&#xFF0C;&#x6BD4;&#x5317;&#x4EAC;&#x65F6;&#x95F4;&#x65E9;8&#x5C0F;&#x65F6;&#xFF0C;&#x6240;&#x4EE5;ES&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x65F6;&#x8BA9;&#x6700;&#x540E;&#x66F4;&#x65B0;&#x65F6;&#x95F4;&#x52A0;8&#x5C0F;&#x65F6; where timestamp &gt; date_add(:sql_last_value,INTERVAL 8 HOUR) 2&#x3001;logstash&#x6BCF;&#x4E2A;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x4F1A;&#x5728;X:/development/java/logstash/config/logstash_metadata&#x8BB0;&#x5F55;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x4E0B;&#x6B21;&#x4EE5;&#x6B64;&#x65F6;&#x95F4;&#x4E3A;&#x57FA;&#x51C6;&#x8FDB;&#x884C;&#x589E;&#x91CF;&#x540C;&#x6B65;&#x6570;&#x636E;&#x5230;&#x7D22;&#x5F15;&#x5E93;&#x3002; &#x6D4B;&#x8BD5;&#x542F;&#x52A8;logstash.bat&#xFF1A; .\logstash.bat -f ..\config\mysql.conf &#x4FEE;&#x6539;course_pub&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x4FEE;&#x6539;timestamp&#x4E3A;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF0C;&#x89C2;&#x5BDF;Logstash&#x65E5;&#x5FD7;&#x662F;&#x5426;&#x8BFB;&#x53D6;&#x5230;&#x8981;&#x7D22;&#x5F15;&#x7684;&#x6570;&#x636E;&#x3002; &#x6700;&#x540E;&#x7528;head&#x767B;&#x5F55;ES&#x67E5;&#x770B;&#x7D22;&#x5F15;&#x6587;&#x6863;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x4FEE;&#x6539;&#x3002; &#x8BFE;&#x7A0B;&#x641C;&#x7D22;&#x9700;&#x6C42;&#x5206;&#x6790; 1&#x3001;&#x6839;&#x636E;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x3002; 2&#x3001;&#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#xFF0C;&#x641C;&#x7D22;&#x65B9;&#x5F0F;&#x4E3A;&#x5168;&#x6587;&#x68C0;&#x7D22;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x9700;&#x8981;&#x5339;&#x914D;&#x8BFE;&#x7A0B;&#x7684;&#x540D;&#x79F0;&#x3001; &#x8BFE;&#x7A0B;&#x5185;&#x5BB9;&#x3002; 3&#x3001;&#x6839;&#x636E;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x3002; 4&#x3001;&#x641C;&#x7D22;&#x7ED3;&#x70B9;&#x5206;&#x9875;&#x663E;&#x793A;&#x3002; &#x6280;&#x672F;&#x5206;&#x6790;&#xFF1A; 1&#x3001;&#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#xFF0C;&#x91C7;&#x7528;MultiMatchQuery&#xFF0C;&#x641C;&#x7D22;name&#x3001;description&#x3001;teachplan 2&#x3001;&#x6839;&#x636E;&#x5206;&#x7C7B;&#x3001;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x91C7;&#x7528;&#x8FC7;&#x8651;&#x5668;&#x5B9E;&#x73B0;&#x3002; 3&#x3001;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x3002; 4&#x3001;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x3002; &#x521B;&#x5EFA;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;1&#xFF09;&#x521B;&#x5EFA;xc-service-search&#x5DE5;&#x7A0B; 2&#xFF09;&#x914D;&#x7F6E; 1&#x3001;&#x914D;&#x7F6E;appliction.yml server: port: ${port:40100} spring: application: name: xc-search-service xuecheng: elasticsearch: hostlist: ${eshostlist:127.0.0.1:9200} #&#x591A;&#x4E2A;&#x7ED3;&#x70B9;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694; course: index: xc_course type: doc2&#x3001;&#x914D;&#x7F6E;RestHighLevelClient&#x548C;RestClient package com.xuecheng.search.config; import org.apache.http.HttpHost; import org.elasticsearch.client.RestClient; import org.elasticsearch.client.RestHighLevelClient; import org.springframework.beans.factory.annotation.Value; import org.springframework.context.annotation.Bean; import org.springframework.context.annotation.Configuration; /** * @author Administrator * @version 1.0 **/ @Configuration public class ElasticsearchConfig { @Value(&quot;${xuecheng.elasticsearch.hostlist}&quot;) private String hostlist; @Bean public RestHighLevelClient restHighLevelClient(){ //&#x89E3;&#x6790;hostlist&#x914D;&#x7F6E;&#x4FE1;&#x606F; String[] split = hostlist.split(&quot;,&quot;); //&#x521B;&#x5EFA;HttpHost&#x6570;&#x7EC4;&#xFF0C;&#x5176;&#x4E2D;&#x5B58;&#x653E;es&#x4E3B;&#x673A;&#x548C;&#x7AEF;&#x53E3;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F; HttpHost[] httpHostArray = new HttpHost[split.length]; for(int i=0;i&lt;split.length;i++){ String item = split[i]; httpHostArray[i] = new HttpHost(item.split(&quot;:&quot;)[0], Integer.parseInt(item.split(&quot;:&quot;)[1]), &quot;http&quot;); } //&#x521B;&#x5EFA;RestHighLevelClient&#x5BA2;&#x6237;&#x7AEF; return new RestHighLevelClient(RestClient.builder(httpHostArray)); } //&#x9879;&#x76EE;&#x4E3B;&#x8981;&#x4F7F;&#x7528;RestHighLevelClient&#xFF0C;&#x5BF9;&#x4E8E;&#x4F4E;&#x7EA7;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x6682;&#x65F6;&#x4E0D;&#x7528; @Bean public RestClient restClient(){ //&#x89E3;&#x6790;hostlist&#x914D;&#x7F6E;&#x4FE1;&#x606F; String[] split = hostlist.split(&quot;,&quot;); //&#x521B;&#x5EFA;HttpHost&#x6570;&#x7EC4;&#xFF0C;&#x5176;&#x4E2D;&#x5B58;&#x653E;es&#x4E3B;&#x673A;&#x548C;&#x7AEF;&#x53E3;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F; HttpHost[] httpHostArray = new HttpHost[split.length]; for(int i=0;i&lt;split.length;i++){ String item = split[i]; httpHostArray[i] = new HttpHost(item.split(&quot;:&quot;)[0], Integer.parseInt(item.split(&quot;:&quot;)[1]), &quot;http&quot;); } return RestClient.builder(httpHostArray).build(); } }API@Api(value = &quot;&#x8BFE;&#x7A0B;&#x641C;&#x7D22;&quot;,description = &quot;&#x8BFE;&#x7A0B;&#x641C;&#x7D22;&quot;,tags = {&quot;&#x8BFE;&#x7A0B;&#x641C;&#x7D22;&quot;}) public interface EsCourseControllerApi { //&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F; @ApiOperation(&quot;&#x8BFE;&#x7A0B;&#x7EFC;&#x5408;&#x641C;&#x7D22;&quot;) public QueryResponseResult&lt;CoursePub&gt; list(int page, int size, CourseSearchParam courseSearchParam); }Controller&#x5728;xc-service-search&#x6A21;&#x5757;&#x4E0B;&#x521B;&#x5EFA;controller @RestController @RequestMapping(&quot;/search/course&quot;) public class EsCourseController implements EsCourseControllerApi { @Autowired EsCourseService esCourseService; @Override @GetMapping(value=&quot;/list/{page}/{size}&quot;) public QueryResponseResult&lt;CoursePub&gt; list(@PathVariable(&quot;page&quot;) int page, @PathVariable(&quot;size&quot;) int size, CourseSearchParam courseSearchParam) { return esCourseService.list(page,size,courseSearchParam); } }Service@Service public class EsCourseService { @Value(&quot;${xuecheng.course.index}&quot;) private String index; @Value(&quot;${xuecheng.course.type}&quot;) private String type; @Value(&quot;${xuecheng.course.source_field}&quot;) private String source_field; @Autowired RestHighLevelClient restHighLevelClient; //&#x8BFE;&#x7A0B;&#x641C;&#x7D22; public QueryResponseResult&lt;CoursePub&gt; list(int page, int size, CourseSearchParam courseSearchParam) { if(courseSearchParam == null){ courseSearchParam = new CourseSearchParam(); } //&#x521B;&#x5EFA;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61; SearchRequest searchRequest = new SearchRequest(index); //&#x8BBE;&#x7F6E;&#x641C;&#x7D22;&#x7C7B;&#x578B; searchRequest.types(type); SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder(); //&#x8FC7;&#x8651;&#x6E90;&#x5B57;&#x6BB5; String[] source_field_array = source_field.split(&quot;,&quot;); searchSourceBuilder.fetchSource(source_field_array,new String[]{}); //&#x521B;&#x5EFA;&#x5E03;&#x5C14;&#x67E5;&#x8BE2;&#x5BF9;&#x8C61; BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery(); //&#x641C;&#x7D22;&#x6761;&#x4EF6; //&#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22; if(StringUtils.isNotEmpty(courseSearchParam.getKeyword())){ MultiMatchQueryBuilder multiMatchQueryBuilder = QueryBuilders.multiMatchQuery(courseSearchParam.getKeyword(), &quot;name&quot;, &quot;description&quot;, &quot;teachplan&quot;) .minimumShouldMatch(&quot;70%&quot;) .field(&quot;name&quot;, 10); boolQueryBuilder.must(multiMatchQueryBuilder); } if(StringUtils.isNotEmpty(courseSearchParam.getMt())){ //&#x6839;&#x636E;&#x4E00;&#x7EA7;&#x5206;&#x7C7B; boolQueryBuilder.filter(QueryBuilders.termQuery(&quot;mt&quot;,courseSearchParam.getMt())); } if(StringUtils.isNotEmpty(courseSearchParam.getSt())){ //&#x6839;&#x636E;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; boolQueryBuilder.filter(QueryBuilders.termQuery(&quot;st&quot;,courseSearchParam.getSt())); } if(StringUtils.isNotEmpty(courseSearchParam.getGrade())){ //&#x6839;&#x636E;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7; boolQueryBuilder.filter(QueryBuilders.termQuery(&quot;grade&quot;,courseSearchParam.getGrade())); } //&#x8BBE;&#x7F6E;boolQueryBuilder&#x5230;searchSourceBuilder searchSourceBuilder.query(boolQueryBuilder); searchRequest.source(searchSourceBuilder); QueryResult&lt;CoursePub&gt; queryResult = new QueryResult(); List&lt;CoursePub&gt; list = new ArrayList&lt;&gt;(); try { //&#x6267;&#x884C;&#x641C;&#x7D22; SearchResponse searchResponse = restHighLevelClient.search(searchRequest); //&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x7ED3;&#x679C; SearchHits hits = searchResponse.getHits(); //&#x5339;&#x914D;&#x7684;&#x603B;&#x8BB0;&#x5F55;&#x6570; long totalHits = hits.totalHits; queryResult.setTotal(totalHits); SearchHit[] searchHits = hits.getHits(); for(SearchHit hit:searchHits){ CoursePub coursePub = new CoursePub(); //&#x6E90;&#x6587;&#x6863; Map&lt;String, Object&gt; sourceAsMap = hit.getSourceAsMap(); //&#x53D6;&#x51FA;name String name = (String) sourceAsMap.get(&quot;name&quot;); coursePub.setName(name); //&#x56FE;&#x7247; String pic = (String) sourceAsMap.get(&quot;pic&quot;); coursePub.setPic(pic); //&#x4EF7;&#x683C; Double price = null; try { if(sourceAsMap.get(&quot;price&quot;)!=null ){ price = (Double) sourceAsMap.get(&quot;price&quot;); } } catch (Exception e) { e.printStackTrace(); } coursePub.setPrice(price); //&#x65E7;&#x4EF7;&#x683C; Double price_old = null; try { if(sourceAsMap.get(&quot;price_old&quot;)!=null ){ price_old = (Double) sourceAsMap.get(&quot;price_old&quot;); } } catch (Exception e) { e.printStackTrace(); } coursePub.setPrice_old(price_old); //&#x5C06;coursePub&#x5BF9;&#x8C61;&#x653E;&#x5165;list list.add(coursePub); } } catch (IOException e) { e.printStackTrace(); } queryResult.setList(list); QueryResponseResult&lt;CoursePub&gt; queryResponseResult = new QueryResponseResult&lt;CoursePub&gt;(CommonCode.SUCCESS,queryResult); return queryResponseResult; } }&#x6CE8;&#x610F;CoursePub&#x5C5E;&#x6027;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; appliction.ymlserver: port: ${port:40100} spring: application: name: xc-search-service xuecheng: elasticsearch: hostlist: ${eshostlist:127.0.0.1:9200} #&#x591A;&#x4E2A;&#x7ED3;&#x70B9;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694; course: index: xc_course type: doc source_field: id,name,grade,mt,st,charge,valid,pic,qq,price,price_old,status,studymodel,teachmode,expires,pub_time,start_time,end_time document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-12-nuxt.js.html</url>
    <content type="text"><![CDATA[Nuxt.js&#x641C;&#x7D22;&#x524D;&#x7AEF;&#x6280;&#x672F;&#x9700;&#x6C42;&#x63CF;&#x8FF0;&#x91C7;&#x7528;vue.js&#x5F00;&#x53D1;&#x641C;&#x7D22;&#x754C;&#x9762;&#x5219;SEO&#x4E0D;&#x53CB;&#x597D;&#xFF0C;&#x9700;&#x8981;&#x89E3;&#x51B3;SEO&#x7684;&#x95EE;&#x9898;&#x3002; &#x4E86;&#x89E3;SEO &#x603B;&#x7ED3;&#xFF1A;seo&#x662F;&#x7F51;&#x7AD9;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x81EA;&#x5DF2;&#x7684;&#x7F51;&#x7AD9;&#x6392;&#x540D;&#xFF0C;&#x83B7;&#x5F97;&#x66F4;&#x591A;&#x7684;&#x6D41;&#x91CF;&#xFF0C;&#x5BF9;&#x7F51;&#x7AD9;&#x7684;&#x7ED3;&#x6784;&#x53CA;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x8C03;&#x6574;&#x4F18;&#x5316;&#xFF0C;&#x4EE5;&#x4FBF;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF08;&#x767E;&#x5EA6;&#xFF0C;google&#x7B49;&#xFF09;&#x66F4;&#x597D;&#x6293;&#x53D6;&#x5230;&#x66F4;&#x4F18;&#x8D28;&#x7684;&#x7F51;&#x7AD9;&#x7684;&#x5185;&#x5BB9;&#x3002; &#x4E0B;&#x56FE;&#x662F;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x722C;&#x53D6;&#x7F51;&#x7AD9;&#x9875;&#x9762;&#x7684;&#x5927;&#x6982;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A; &#xFF08;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x5F88;&#x590D;&#x6742;&#xFF0C;&#x4E0B;&#x56FE;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x6982;&#x62EC;&#xFF09; &#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x5230;SEO&#x662F;&#x7F51;&#x7AD9;&#x81EA;&#x5DF1;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;spider&#x6293;&#x53D6;&#x7F51;&#x9875;&#x800C;&#x4F5C;&#x51FA;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x4F18;&#x5316;&#xFF0C;&#x5E38;&#x89C1;&#x7684;SEO&#x65B9;&#x6CD5;&#x6BD4;&#x5982;&#xFF1A; 1&#xFF09;&#x5BF9;url&#x94FE;&#x63A5;&#x7684;&#x89C4;&#x8303;&#x5316;&#xFF0C;&#x591A;&#x7528;restful&#x98CE;&#x683C;&#x7684;url&#xFF0C;&#x591A;&#x7528;&#x9759;&#x6001;&#x8D44;&#x6E90;url&#xFF1B; 2) &#x6CE8;&#x610F;title&#x3001;keywords&#x7684;&#x8BBE;&#x7F6E;&#x3002; 3&#xFF09;&#x7531;&#x4E8E;spider&#x5BF9;javascript&#x652F;&#x6301;&#x4E0D;&#x597D;&#xFF0C;&#x5BF9;&#x4E8E;&#x7F51;&#x9875;&#x8DF3;&#x8F6C;&#x7528;href&#x6807;&#x7B7E;&#x3002; &#x3002;&#x3002;&#x3002; &#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#x91C7;&#x7528;&#x4EC0;&#x4E48;&#x6280;&#x672F;&#x6709;&#x5229;&#x4E8E;SEO&#xFF1F;&#x8981;&#x89E3;&#x7B54;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x9700;&#x8981;&#x7406;&#x89E3;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;? &#x6211;&#x4EEC;&#x7528;&#x4F20;&#x7EDF;&#x7684;servlet&#x5F00;&#x53D1;&#x6765;&#x4E3E;&#x4F8B;&#xFF1A;&#x6D4F;&#x89C8;&#x5668;&#x8BF7;&#x6C42;servlet&#xFF0C;servlet&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x751F;&#x6210;html&#x54CD;&#x5E94;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5C55;&#x793A;html &#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x7279;&#x70B9;&#xFF1A; 1&#xFF09;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x751F;&#x6210;html&#x7F51;&#x9875;&#x7684;dom&#x5143;&#x7D20;&#x3002; 2&#xFF09;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#xFF09;&#x53EA;&#x8D1F;&#x8D23;&#x663E;&#x793A;dom&#x5143;&#x7D20;&#x5185;&#x5BB9;&#x3002; &#x5F53;&#x521D;&#x968F;&#x7740;web2.0&#x7684;&#x5230;&#x6765;&#xFF0C;AJAX&#x6280;&#x672F;&#x5174;&#x8D77;&#xFF0C;&#x51FA;&#x73B0;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#xFF09; &#x4F7F;&#x7528;AJAX&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x53D1;&#x8D77;http&#x8BF7;&#x6C42;&#xFF0C;&#x83B7;&#x53D6;&#x5230;&#x4E86;&#x60F3;&#x8981;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x62FF;&#x7740;&#x6570;&#x636E;&#x5F00;&#x59CB;&#x6E32;&#x67D3;html&#x7F51;&#x9875;&#xFF0C;&#x751F;&#x6210;Dom&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x6700;&#x7EC8;&#x5C06;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x5C55;&#x793A;&#x7ED9;&#x7528;&#x6237;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x7279;&#x70B9;&#xFF1A; 1&#xFF09;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x53EA;&#x662F;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x54CD;&#x5E94;&#x7684;&#x4E86;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E0D;&#x662F;html&#x7F51;&#x9875; 2&#xFF09;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#xFF09;&#x8D1F;&#x8D23;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x751F;&#x6210;Dom&#x5143;&#x7D20;&#x3002; &#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x5404;&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x7F3A;&#x70B9;&#xFF1F; &#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#xFF1A; 1) &#x7F3A;&#x70B9; &#x4E0D;&#x5229;&#x4E8E;&#x7F51;&#x7AD9;&#x8FDB;&#x884C;SEO&#xFF0C;&#x56E0;&#x4E3A;&#x7F51;&#x7AD9;&#x5927;&#x91CF;&#x4F7F;&#x7528;javascript&#x6280;&#x672F;&#xFF0C;&#x4E0D;&#x5229;&#x4E8E;spider&#x6293;&#x53D6;&#x7F51;&#x9875;&#x3002; 2) &#x4F18;&#x70B9; &#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8D23;&#x6E32;&#x67D3;&#xFF0C;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x6027;&#x597D;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53EA;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x4E0D;&#x7528;&#x5173;&#x5FC3;&#x7528;&#x6237;&#x754C;&#x9762;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6709;&#x5229;&#x4E8E;&#x63D0;&#x9AD8;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x3002; 3&#xFF09;&#x9002;&#x7528;&#x573A;&#x666F; &#x5BF9;SEO&#x6CA1;&#x6709;&#x8981;&#x6C42;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x6BD4;&#x5982;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7C7B;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x5982;&#x7535;&#x5546;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#xFF0C;&#x7528;&#x6237;&#x7BA1;&#x7406;&#x7B49;&#x3002; &#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#xFF1A; 1) &#x4F18;&#x70B9; &#x6709;&#x5229;&#x4E8E;SEO&#xFF0C;&#x7F51;&#x7AD9;&#x901A;&#x8FC7;href&#x7684;url&#x5C06;spider&#x76F4;&#x63A5;&#x5F15;&#x5230;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x63D0;&#x4F9B;&#x4F18;&#x8D28;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x7ED9;spider&#x3002; 2) &#x7F3A;&#x70B9; &#x670D;&#x52A1;&#x7AEF;&#x5B8C;&#x6210;&#x4E00;&#x90E8;&#x5206;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x901A;&#x5E38;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x9700;&#x6C42;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x4F4E;&#xFF0C;&#x4E0D;&#x5229;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x3002; 3&#xFF09;&#x9002;&#x7528;&#x573A;&#x666F; &#x5BF9;SEO&#x6709;&#x8981;&#x6C42;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x95E8;&#x6237;&#x9996;&#x9875;&#x3001;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x7B49;&#x3002; Nuxt.jsNuxt.js&#x4ECB;&#x7ECD;&#x200B; &#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x5174;&#x8D77;&#x4FC3;&#x8FDB;&#x4E86;web&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53EA;&#x4E13;&#x6CE8;&#x4E1A;&#x52A1;&#xFF0C;&#x524D;&#x7AEF;&#x53EA;&#x4E13;&#x6CE8;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x524D;&#x7AEF;&#x5927;&#x91CF;&#x8FD0;&#x7528;&#x7684;&#x524D;&#x7AEF;&#x6E32;&#x67D3;&#x6280;&#x672F;&#xFF0C;&#x6BD4;&#x5982;&#x6D41;&#x884C;&#x7684;vue.js&#x3001;react&#x6846;&#x67B6;&#x90FD;&#x5B9E;&#x73B0;&#x4E86;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;&#x524D;&#x7AEF;&#x6E32;&#x67D3;&#x3002; &#x200B; &#x4F46;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x6709;SEO&#x9700;&#x6C42;&#x7684;&#x7F51;&#x9875;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x524D;&#x7AEF;&#x6E32;&#x67D3;&#x6280;&#x672F;&#x53BB;&#x5F00;&#x53D1;&#x5C31;&#x4E0D;&#x5229;&#x4E8E;SEO&#x4E86;&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x4E00;&#x79CD;&#x5373;&#x4F7F;&#x7528;vue.js&#x3001;react&#x7684;&#x524D;&#x7AEF;&#x6280;&#x672F;&#x4E5F;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x6280;&#x672F;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#xFF0C;&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x9700;&#x6C42;&#xFF0C;vue.js&#x3001;react&#x8FD9;&#x6837;&#x6D41;&#x884C;&#x7684;&#x524D;&#x7AEF;&#x6846;&#x67B6;&#x63D0;&#x4F9B;&#x4E86;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; &#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A; react&#x6846;&#x67B6;&#x63D0;&#x4F9B;next.js&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x3002; vue.js&#x6846;&#x67B6;&#x63D0;&#x4F9B;Nuxt.js&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x3002; Nuxt.js&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x4E0B;&#x56FE;&#x5C55;&#x793A;&#x4E86;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x5230;Nuxt.js&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x6574;&#x4F53;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8F93;&#x5165;&#x7F51;&#x5740;&#x8BF7;&#x6C42;&#x5230;Node.js 2&#x3001;&#x90E8;&#x7F72;&#x5728;Node.js&#x7684;&#x5E94;&#x7528;Nuxt.js&#x63A5;&#x6536;&#x6D4F;&#x89C8;&#x5668;&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x83B7;&#x53D6;&#x6570;&#x636E; 3&#x3001;Nuxt.js&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x540E;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3; 4&#x3001;Nuxt.js&#x5C06;html&#x7F51;&#x9875;&#x54CD;&#x5E94;&#x7ED9;&#x6D4F;&#x89C8;&#x5668; Nuxt.js&#x4F7F;&#x7528;&#x4E86;&#x54EA;&#x4E9B;&#x6280;&#x672F;&#xFF1F; Nuxt.js&#x4F7F;&#x7528;Vue.js+webpack+Babel&#x4E09;&#x5927;&#x6280;&#x672F;&#x6846;&#x67B6;/&#x7EC4;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; Babel &#x662F;&#x4E00;&#x4E2A;js&#x7684;&#x8F6C;&#x7801;&#x5668;&#xFF0C;&#x8D1F;&#x8D23;&#x5C06;ES6&#x7684;&#x4EE3;&#x7801;&#x8F6C;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x8BC6;&#x522B;&#x7684;ES5&#x4EE3;&#x7801;&#x3002; Webpack&#x662F;&#x4E00;&#x4E2A;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x6253;&#x5305;&#x5DE5;&#x5177;&#x3002; Vue.js&#x662F;&#x4E00;&#x4E2A;&#x4F18;&#x79C0;&#x7684;&#x524D;&#x7AEF;&#x6846;&#x67B6;&#x3002; Nuxt.js&#x7684;&#x7279;&#x6027;&#x6709;&#x54EA;&#x4E9B;&#xFF1F; &#x57FA;&#x4E8E; Vue.js &#x81EA;&#x52A8;&#x4EE3;&#x7801;&#x5206;&#x5C42; &#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3; &#x5F3A;&#x5927;&#x7684;&#x8DEF;&#x7531;&#x529F;&#x80FD;&#xFF0C;&#x652F;&#x6301;&#x5F02;&#x6B65;&#x6570;&#x636E; &#x9759;&#x6001;&#x6587;&#x4EF6;&#x670D;&#x52A1; ES6/ES7 &#x8BED;&#x6CD5;&#x652F;&#x6301; &#x6253;&#x5305;&#x548C;&#x538B;&#x7F29; JS &#x548C; CSS HTML&#x5934;&#x90E8;&#x6807;&#x7B7E;&#x7BA1;&#x7406; &#x672C;&#x5730;&#x5F00;&#x53D1;&#x652F;&#x6301;&#x70ED;&#x52A0;&#x8F7D; &#x96C6;&#x6210;ESLint &#x652F;&#x6301;&#x5404;&#x79CD;&#x6837;&#x5F0F;&#x9884;&#x5904;&#x7406;&#x5668;&#xFF1A; SASS&#x3001;LESS&#x3001; Stylus&#x7B49;&#x7B49; Nuxt.js&#x57FA;&#x672C;&#x4F7F;&#x7528;1.&#x521B;&#x5EFA;Nuxt&#x5DE5;&#x7A0B;nuxt.js&#x6709;&#x6807;&#x51C6;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#xFF0C;&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x4E86;&#x6A21;&#x677F;&#x5DE5;&#x7A0B;&#xFF0C;&#x53EF;&#x4EE5;&#x6A21;&#x677F;&#x5DE5;&#x7A0B;&#x5FEB;&#x901F;&#x521B;&#x5EFA;nuxt&#x9879;&#x76EE;&#x3002; &#x6A21;&#x677F;&#x5DE5;&#x7A0B;&#x5730;&#x5740;&#xFF1A;https://github.com/nuxt-community/starter-template/archive/master.zip &#x672C;&#x9879;&#x76EE;&#x63D0;&#x4F9B;&#x57FA;&#x4E8E;Nuxt.js&#x7684;&#x5C01;&#x88C5;&#x5DE5;&#x7A0B;&#xFF0C;&#x57FA;&#x4E8E;&#x6B64;&#x5C01;&#x88C5;&#x5DE5;&#x7A0B;&#x5F00;&#x53D1;&#x641C;&#x7D22;&#x524D;&#x7AEF;&#xFF0C;&#x89C1;&#x201C;&#x8D44;&#x6599;&#x201D;&#x2013;&#x300B;xc-ui-pc-portal.zip&#xFF0C;&#x89E3;&#x538B; xc-ui-pc-portal.zip&#x5230;&#x672C;&#x9879;&#x76EE;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x76EE;&#x5F55;&#x4E0B;&#x3002; &#x672C;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x5C5E;&#x4E8E;&#x95E8;&#x6237;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5C06;&#x627F;&#x8F7D;&#x4E00;&#x90E8;&#x5206;&#x8003;&#x8651;SEO&#x7684;&#x975E;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;&#x3002; &#x672C;&#x5DE5;&#x7A0B;&#x57FA;&#x4E8E;Nuxt.js&#x6A21;&#x677F;&#x5DE5;&#x7A0B;&#x6784;&#x5EFA;&#xFF0C;Nuxt.js&#x4F7F;&#x7528;1.3&#x7248;&#x672C;&#xFF0C;&#x5E76;&#x52A0;&#x5165;&#x4E86;&#x4ECA;&#x540E;&#x5F00;&#x53D1;&#x4E2D;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x4F9D;&#x8D56;&#x5305;&#xFF0C;&#x76F4;&#x63A5;&#x89E3;&#x538B;&#x672C;&#x5DE5;&#x7A0B;&#x5373;&#x53EF;&#x4F7F;&#x7528;&#x3002; 2.&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x672C;&#x5DE5;&#x7A0B;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; - &#x8D44;&#x6E90;&#x76EE;&#x5F55; &#x8D44;&#x6E90;&#x76EE;&#x5F55; assets &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x672A;&#x7F16;&#x8BD1;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x5982; LESS&#x3001;SASS &#x6216; JavaScript&#x3002; - &#x7EC4;&#x4EF6;&#x76EE;&#x5F55; &#x7EC4;&#x4EF6;&#x76EE;&#x5F55; components &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x5E94;&#x7528;&#x7684; Vue.js &#x7EC4;&#x4EF6;&#x3002;Nuxt.js &#x4E0D;&#x4F1A;&#x6269;&#x5C55;&#x589E;&#x5F3A;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B; Vue.js &#x7EC4;&#x4EF6;&#xFF0C;&#x5373;&#x8FD9;&#x4E9B;&#x7EC4;&#x4EF6;&#x4E0D;&#x4F1A;&#x50CF;&#x9875;&#x9762;&#x7EC4;&#x4EF6;&#x90A3;&#x6837;&#x6709; asyncData &#x65B9;&#x6CD5;&#x7684;&#x7279;&#x6027;&#x3002; - &#x5E03;&#x5C40;&#x76EE;&#x5F55; &#x5E03;&#x5C40;&#x76EE;&#x5F55; layouts &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x5E94;&#x7528;&#x7684;&#x5E03;&#x5C40;&#x7EC4;&#x4EF6;&#x3002; &#x8BE5;&#x76EE;&#x5F55;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - &#x4E2D;&#x95F4;&#x4EF6;&#x76EE;&#x5F55; middleware &#x76EE;&#x5F55;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x5E94;&#x7528;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x3002; - &#x9875;&#x9762;&#x76EE;&#x5F55; &#x9875;&#x9762;&#x76EE;&#x5F55; pages &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x5E94;&#x7528;&#x7684;&#x8DEF;&#x7531;&#x53CA;&#x89C6;&#x56FE;&#x3002;Nuxt.js &#x6846;&#x67B6;&#x8BFB;&#x53D6;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x7684; .vue &#x6587;&#x4EF6;&#x5E76;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x3002; &#x8BE5;&#x76EE;&#x5F55;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - &#x63D2;&#x4EF6;&#x76EE;&#x5F55; &#x63D2;&#x4EF6;&#x76EE;&#x5F55; plugins &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x90A3;&#x4E9B;&#x9700;&#x8981;&#x5728; &#x6839;vue.js&#x5E94;&#x7528; &#x5B9E;&#x4F8B;&#x5316;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x7684; Javascript &#x63D2;&#x4EF6;&#x3002; - &#x9759;&#x6001;&#x6587;&#x4EF6;&#x76EE;&#x5F55; &#x9759;&#x6001;&#x6587;&#x4EF6;&#x76EE;&#x5F55; static &#x7528;&#x4E8E;&#x5B58;&#x653E;&#x5E94;&#x7528;&#x7684;&#x9759;&#x6001;&#x6587;&#x4EF6;&#xFF0C;&#x6B64;&#x7C7B;&#x6587;&#x4EF6;&#x4E0D;&#x4F1A;&#x88AB; Nuxt.js &#x8C03;&#x7528; Webpack &#x8FDB;&#x884C;&#x6784;&#x5EFA;&#x7F16;&#x8BD1;&#x5904;&#x7406;&#x3002; &#x670D;&#x52A1;&#x5668;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x4F1A;&#x6620;&#x5C04;&#x81F3;&#x5E94;&#x7528;&#x7684;&#x6839;&#x8DEF;&#x5F84; / &#x4E0B;&#x3002; &#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;: /static/logo.png &#x6620;&#x5C04;&#x81F3; /logo.png &#x8BE5;&#x76EE;&#x5F55;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - Store &#x76EE;&#x5F55; store &#x76EE;&#x5F55;&#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x5E94;&#x7528;&#x7684; Vuex &#x72B6;&#x6001;&#x6811; &#x6587;&#x4EF6;&#x3002; Nuxt.js &#x6846;&#x67B6;&#x96C6;&#x6210;&#x4E86; Vuex &#x72B6;&#x6001;&#x6811; &#x7684;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x914D;&#x7F6E;&#xFF0C;&#x5728; store &#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; index.js &#x6587;&#x4EF6;&#x53EF;&#x6FC0;&#x6D3B;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x3002; &#x8BE5;&#x76EE;&#x5F55;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - nuxt.config.js &#x6587;&#x4EF6; nuxt.config.js &#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x7EC4;&#x7EC7;Nuxt.js &#x5E94;&#x7528;&#x7684;&#x4E2A;&#x6027;&#x5316;&#x914D;&#x7F6E;&#xFF0C;&#x4EE5;&#x4FBF;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x3002; &#x8BE5;&#x6587;&#x4EF6;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - package.json &#x6587;&#x4EF6; package.json &#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x63CF;&#x8FF0;&#x5E94;&#x7528;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x548C;&#x5BF9;&#x5916;&#x66B4;&#x9732;&#x7684;&#x811A;&#x672C;&#x63A5;&#x53E3;&#x3002; &#x8BE5;&#x6587;&#x4EF6;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; nuxt.js &#x63D0;&#x4F9B;&#x4E86;&#x76EE;&#x5F55;&#x7684;&#x522B;&#x540D;&#xFF0C;&#x65B9;&#x4FBF;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x5F15;&#x7528;&#xFF1A; 3.&#x9875;&#x9762;&#x5E03;&#x5C40;&#x9875;&#x9762;&#x5E03;&#x5C40;&#x5C31;&#x662F;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x7684;&#x6574;&#x4F53;&#x7ED3;&#x6784;&#xFF0C;&#x901A;&#x8FC7;&#x5728;layouts&#x76EE;&#x5F55;&#x4E0B;&#x6DFB;&#x52A0;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x6765;&#x5B9E;&#x73B0;&#x3002;&#x5728;layouts &#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x90FD;&#x5C5E;&#x4E8E;&#x4E2A;&#x6027;&#x5316;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x9875;&#x9762;&#x7EC4;&#x4EF6;&#x4E2D;&#x5229;&#x7528; layout &#x5C5E;&#x6027;&#x6765;&#x5F15;&#x7528;&#x3002; Demo&#xFF1A; 1&#x3001;&#x5B9A;&#x4E49;&#xFF1A;layouts/test.vue&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;&#x6CE8;&#x610F;&#xFF1A;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x4E2D;&#x4E00;&#x5B9A;&#x8981;&#x52A0; &#x7EC4;&#x4EF6;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x3002; &lt;template&gt; &lt;div&gt; &lt;div&gt;&#x8FD9;&#x91CC;&#x662F;&#x5934;&lt;/div&gt; &lt;nuxt/&gt; &lt;div&gt;&#x8FD9;&#x91CC;&#x662F;&#x5C3E;&lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;2&#x3001;&#x5728;pages&#x76EE;&#x5F55;&#x521B;&#x5EFA;user&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x521B;&#x5EFA;index.vue&#x9875;&#x9762; &#x5728; pages/user/index.vue &#x9875;&#x9762;&#x91CC;&#xFF0C; &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x9875;&#x9762;&#x7EC4;&#x4EF6;&#x4F7F;&#x7528; test &#x5E03;&#x5C40;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &#x6D4B;&#x8BD5;&#x9875;&#x9762; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default{ layout:&apos;test&apos; } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;3&#x3001;&#x6D4B;&#x8BD5;&#xFF0C;&#x8BF7;&#x6C42;&#xFF1A;http://localhost:10000/user&#xFF0C;&#x5982;&#x679C;&#x5982;&#x4E0B;: &#x8FD9;&#x91CC;&#x662F;&#x5934; &#x6D4B;&#x8BD5;&#x9875;&#x9762; &#x8FD9;&#x91CC;&#x662F;&#x5C3E;&#x6BCF;&#x6B21;&#x90FD;&#x5199;layout:&#x2019;test&#x2019; &#x592A;&#x9EBB;&#x70E6;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C31;&#x7701;&#x7565;&#x4E0D;&#x5199;,&#x4E0D;&#x5199;&#x7684;&#x8BDD;&#x5C31;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;layout&#x7684;default 4.&#x8DEF;&#x7531;1.&#x57FA;&#x7840;&#x8DEF;&#x7531;Nuxt.js &#x4F9D;&#x636E; pages &#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x81EA;&#x52A8;&#x751F;&#x6210; vue-router &#x6A21;&#x5757;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x3002; Nuxt.js&#x6839;&#x636E;pages&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x53CA;&#x9875;&#x9762;&#x540D;&#x79F0;&#x5B9A;&#x4E49;&#x89C4;&#x8303;&#x6765;&#x751F;&#x6210;&#x8DEF;&#x7531;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x8DEF;&#x7531;&#x7684;&#x4F8B;&#x5B50;&#xFF1A; &#x5047;&#x8BBE; pages &#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; pages/ --| user/ -----| index.vue -----| one.vue&#x90A3;&#x4E48;&#xFF0C;Nuxt.js &#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; router: { routes: [ { name: &apos;user&apos;, path: &apos;/user&apos;, component: &apos;pages/user/index.vue&apos; }, { name: &apos;user-one&apos;, path: &apos;/user/one&apos;, component: &apos;pages/user/one.vue&apos; } ] } index.vue&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; index&#x9875;&#x9762; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos; } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;one.vue&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; one&#x9875;&#x9762; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos; } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;2.&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; vue-router &#x7684;&#x5B50;&#x8DEF;&#x7531;&#x521B;&#x5EFA; Nuxt.js &#x5E94;&#x7528;&#x7684;&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#x3002; &#x521B;&#x5EFA;&#x5185;&#x5D4C;&#x5B50;&#x8DEF;&#x7531;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; user.vue &#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;user&#x76EE;&#x5F55;&#x7528;&#x6765;&#x5B58;&#x653E;&#x5B50;&#x89C6;&#x56FE;&#x7EC4;&#x4EF6;&#x3002; &#x522B;&#x5FD8;&#x4E86;&#x5728;&#x7236;&#x7EA7; Vue &#x6587;&#x4EF6;&#x5185;&#x589E;&#x52A0; &#x7528;&#x4E8E;&#x663E;&#x793A;&#x5B50;&#x89C6;&#x56FE;&#x5185;&#x5BB9;&#x3002; &#x5047;&#x8BBE;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x5982;&#xFF1A; pages/ --| user/ -----| _id.vue -----| index.vue -----| one.vue --| user.vue&#x5C06;user.vue&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x5230;&#x4E0E;user&#x76EE;&#x5F55;&#x7684;&#x7236;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x5373;&#x548C;user&#x76EE;&#x5F55;&#x4FDD;&#x6301;&#x5E73;&#x7EA7;&#x3002; &lt;template&gt; &lt;div&gt; &#x7528;&#x6237;&#x7BA1;&#x7406;&#x5BFC;&#x822A;&#x9875;&#x9762; &lt;nuxt-link :to=&quot;&apos;/user/one&apos;&quot;&gt;&#x5B50;&#x9875;&#x9762;&#x4E3A;one&#x9875;&#x9762;&lt;/nuxt-link&gt; &lt;nuxt-child/&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos; } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x8BBF;&#x95EE; http://localhost:10000/user &#x8BBF;&#x95EE;&#x5230;&#x7684;&#x662F; user.vue&#x5D4C;&#x5957;index.vue &#x8BBF;&#x95EE; http://localhost:10000/user/one &#x8BBF;&#x95EE;&#x5230;&#x7684;&#x662F; user.vue&#x5D4C;&#x5957;one.vue &#x4F20;&#x53C2; _id.vue&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x4E86;&#x5411;&#x9875;&#x9762;&#x4F20;&#x5165;id&#x53C2;&#x6570;&#xFF0C;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4FE1;&#x606F;{{id}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos;, data() { return { id: &apos;&apos; } }, mounted() { this.id = this.$route.params.id; console.log(this.id) } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x8BBF;&#x95EE; http://localhost:10000/user/101 5.&#x83B7;&#x53D6;&#x6570;&#x636E;1.asyncData &#x65B9;&#x6CD5;Nuxt.js &#x6269;&#x5C55;&#x4E86; Vue.js&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x53EB; asyncData &#x7684;&#x65B9;&#x6CD5;&#xFF0C;asyncData&#x65B9;&#x6CD5;&#x4F1A;&#x5728;&#x7EC4;&#x4EF6;&#xFF08;&#x9650;&#x4E8E;&#x9875;&#x9762;&#x7EC4;&#x4EF6;&#xFF09;&#x6BCF;&#x6B21;&#x52A0;&#x8F7D;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x6216;&#x8DEF;&#x7531;&#x66F4;&#x65B0;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002; &#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x88AB;&#x8BBE;&#x5B9A;&#x4E3A;&#x5F53;&#x524D;&#x9875;&#x9762;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x5BF9;&#x8C61;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5229;&#x7528; asyncData&#x65B9;&#x6CD5;&#x6765;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;Nuxt.js &#x4F1A;&#x5C06; asyncData &#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x878D;&#x5408;&#x7EC4;&#x4EF6; data &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x4E00;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;&#x5F53;&#x524D;&#x7EC4;&#x4EF6;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x7531;&#x4E8E;asyncData&#x65B9;&#x6CD5;&#x662F;&#x5728;&#x7EC4;&#x4EF6; &#x521D;&#x59CB;&#x5316; &#x524D;&#x88AB;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x65B9;&#x6CD5;&#x5185;&#x662F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x901A;&#x8FC7; this &#x6765;&#x5F15;&#x7528;&#x7EC4;&#x4EF6;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x3002; &#x4F8B;&#x5B50;&#xFF1A; &#x5728;&#x4E0A;&#x8FB9;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;user/_id.vue&#x4E2D;&#x6DFB;&#x52A0;&#xFF0C;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4FE1;&#x606F;{{id}},&#x540D;&#x79F0;;{{name}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos;, //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F; asyncData() { console.log(&quot;async&#x65B9;&#x6CD5;&quot;) return { name: &apos;it&#x6C83;&apos; } }, data(){ return { id:&apos;&apos; } }, mounted() { this.id = this.$route.params.id; console.log(this.id) } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x670D;&#x52A1;&#x7AEF;&#x63A7;&#x5236;&#x53F0;&#x6253;&#x5370;&#x8F93;&#x51FA;&#x201C;async&#x65B9;&#x6CD5;&#x201D;&#x3002; &#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;data&#x6A21;&#x578B;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x88AB;&#x6E32;&#x67D3;&#xFF0C;&#x6700;&#x540E;&#x54CD;&#x5E94;&#x7ED9;&#x524D;&#x7AEF;&#xFF0C;&#x5237;&#x65B0;&#x6B64;&#x9875;&#x9762;&#x67E5;&#x770B;&#x9875;&#x9762;&#x6E90;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x5230;name&#x6A21;&#x578B;&#x6570;&#x636E;&#x5DF2;&#x5728;&#x9875;&#x9762;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x663E;&#x793A;&#x3002; 2.async /await&#x65B9;&#x6CD5;&#x4F7F;&#x7528;async &#x548C; await&#x914D;&#x5408;promise&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x540C;&#x6B65;&#x8C03;&#x7528;&#xFF0C;nuxt.js&#x4E2D;&#x4F7F;&#x7528;async/await&#x5B9E;&#x73B0;&#x540C;&#x6B65;&#x8C03;&#x7528;&#x6548;&#x679C;&#x3002; 1&#x3001;&#x5148;&#x6D4B;&#x8BD5;&#x5F02;&#x6B65;&#x8C03;&#x7528;&#xFF0C;&#x589E;&#x52A0;a&#x3001;b&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5728;mounted&#x4E2D;&#x8C03;&#x7528;&#x3002; &lt;template&gt; &lt;div&gt; &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4FE1;&#x606F;{{id}},&#x540D;&#x79F0;;{{name}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos;, //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F; asyncData() { console.log(&quot;async&#x65B9;&#x6CD5;&quot;) return { name: &apos;it&#x6C83;&apos; } }, data() { return { id: &apos;&apos; } }, methods: { a() { return new Promise(function (resolve, reject) { setTimeout(function () { resolve(1) }, 2000) }) }, b() { return new Promise(function (resolve, reject) { setTimeout(function () { resolve(2) }, 1000) }) } }, mounted() { this.id = this.$route.params.id; this.a().then(res =&gt; { alert(res) console.log(res) }) this.b().then(res =&gt; { alert(res) console.log(res) }) } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x89C2;&#x5BDF;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x6309;&#x7167;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x7684;&#x987A;&#x5E8F;&#x8F93;&#x51FA;&#xFF0C;&#x4F7F;&#x7528;Promise&#x5B9E;&#x73B0;&#x4E86;&#x5F02;&#x6B65;&#x8C03;&#x7528;&#x3002; 2&#x3001;&#x4F7F;&#x7528;async/await&#x5B8C;&#x6210;&#x540C;&#x6B65;&#x8C03;&#x7528; &lt;template&gt; &lt;div&gt; &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4FE1;&#x606F;{{id}},&#x540D;&#x79F0;;{{name}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos;, //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F; async asyncData() { console.log(&quot;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x53E3;...&quot;) //alert(0)&#x65E0;&#x6CD5;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x8FD0;&#x884C;&#x7684; //&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x53E3;.. //&#x5148;&#x8C03;&#x7528;a&#x65B9;&#x6CD5; var a= await new Promise(function (resolve, reject) { setTimeout(function () { //alert(1) console.log(1) resolve(1) },2000) }) //&#x518D;&#x8C03;&#x7528;b&#x65B9;&#x6CD5; var b = await new Promise(function (resolve, reject) { setTimeout(function () { //alert(2) console.log(2) resolve(2) },1000) }) return { name: &apos;it&#x6C83;&apos; } }, data() { return { id: &apos;&apos; } }, methods: { a() { return new Promise(function (resolve, reject) { setTimeout(function () { resolve(1) }, 2000) }) }, b() { return new Promise(function (resolve, reject) { setTimeout(function () { resolve(2) }, 1000) }) } }, mounted() { this.id = this.$route.params.id; /* this.a().then(res =&gt; { alert(res) console.log(res) }) this.b().then(res =&gt; { alert(res) console.log(res) })*/ } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x641C;&#x7D22;&#x9875;&#x9762;&#x9700;&#x6C42;&#x5206;&#x6790; &#x4E0A;&#x56FE;&#x662F;&#x8BFE;&#x7A0B;&#x641C;&#x7D22;&#x524D;&#x7AEF;&#x7684;&#x754C;&#x9762;&#xFF0C;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x524D;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x53D1;&#x8D77;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#xFF0C;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5305;&#x62EC;&#xFF1A; 1&#x3001;&#x754C;&#x9762;&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BFE;&#x7A0B;&#xFF0C;&#x5E76;&#x5206;&#x9875;&#x663E;&#x793A; 2&#x3001;&#x901A;&#x8FC7;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x548C;&#x4E8C;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#xFF0C;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x540E;&#x5C06;&#x663E;&#x793A;&#x4E0B;&#x5C5E;&#x7684;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; 3&#x3001;&#x901A;&#x8FC7;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; 4&#x3001;&#x901A;&#x8FC7;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; &#x9875;&#x9762;&#x5E03;&#x5C40;nuxt.js&#x5C06;/layout/default.vue&#x4F5C;&#x4E3A;&#x6240;&#x6709;&#x9875;&#x9762;&#x7684;&#x9ED8;&#x8BA4;&#x5E03;&#x5C40;&#xFF0C;&#x901A;&#x5E38;&#x5E03;&#x5C40;&#x5305;&#x62EC;&#xFF1A;&#x9875;&#x5934;&#x3001;&#x5185;&#x5BB9;&#x533A;&#x3001;&#x9875;&#x5C3E; default.vue&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &lt;Header /&gt; &lt;nuxt/&gt; &lt;Footer /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import Footer from &apos;../components/Footer.vue&apos; import Header from &apos;../components/Header.vue&apos; export default { components: { Header, Footer } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;Nginx&#x4EE3;&#x7406;&#x914D;&#x7F6E;&#x641C;&#x7D22;&#x9875;&#x9762;&#x4E2D;&#x4EE5;/static&#x5F00;&#x5934;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x901A;&#x8FC7;nginx&#x89E3;&#x6790;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; /static/plugins&#xFF1A;&#x6307;&#x5411;&#x95E8;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;plugins&#x76EE;&#x5F55;&#x3002; /static/css&#xFF1A;&#x6307;&#x5411;&#x95E8;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x7684;css&#x76EE;&#x5F55; &#x4FEE;&#x6539;Nginx&#x4E2D;www.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x914D;&#x7F6E;&#xFF1A; #&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x6240;&#x9700;&#x8981;&#x7684;&#x56FE;&#x7247;&#xFF0C;js&#x3001;css&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90; location /static/img/ { alias X:/workspace/java/xczx/static/portal/img/; } location /static/css/ { alias X:/workspace/java/xczx/static/portal/css/; } location /static/js/ { alias X:/workspace/java/xczx/static/portal/js/; } location /static/plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } &#x914D;&#x7F6E;&#x641C;&#x7D22;Url&#xFF0C;&#x4E0B;&#x56FE;&#x662F;Nginx&#x641C;&#x7D22;&#x8F6C;&#x53D1;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A; &#x7528;&#x6237;&#x8BF7;&#x6C42;/course/search&#x65F6;Nginx&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;nuxt.js&#x670D;&#x52A1;&#xFF0C;nginx&#x5728;&#x8F6C;&#x53D1;&#x65F6;&#x6839;&#x636E;&#x6BCF;&#x53F0;nuxt&#x670D;&#x52A1;&#x7684;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x8F6C;&#x53D1;&#xFF0C;&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3002; &#x672C;&#x6559;&#x7A0B;&#x5F00;&#x53D1;&#x73AF;&#x5883;Nuxt.js&#x670D;&#x52A1;&#x548C;www.xuecheng.com&#x865A;&#x62DF;&#x673A;&#x4E3B;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;nginx&#xFF0C;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; #&#x524D;&#x7AEF;&#x95E8;&#x6237;&#x8BFE;&#x7A0B;&#x641C;&#x7D22; location ^~ /course/search { proxy_pass http://dynamic_portal_server_pool; } #&#x540E;&#x7AEF;&#x641C;&#x7D22;&#x670D;&#x52A1; location /openapi/search/ { proxy_pass http://search_server_pool/search/; } #&#x5206;&#x7C7B;&#x4FE1;&#x606F; location /static/category/ { proxy_pass http://static_server_pool; }dynamic_portal_server_pool&#x914D;&#x7F6E;&#x5982;&#x4E0B; &#xFF1A; #&#x524D;&#x7AEF;&#x52A8;&#x6001;&#x95E8;&#x6237; upstream dynamic_portal_server_pool{ server 127.0.0.1:10000 weight=10; } #&#x540E;&#x53F0;&#x641C;&#x7D22;&#xFF08;&#x516C;&#x5F00;api&#xFF09; upstream search_server_pool{ server 127.0.0.1:40100 weight=10; }&#x5176;&#x5B83;&#x914D;&#x7F6E;&#xFF1A; #&#x5F00;&#x53D1;&#x73AF;&#x5883;webpack&#x5B9A;&#x65F6;&#x52A0;&#x8F7D;&#x6B64;&#x6587;&#x4EF6; location ^~ /__webpack_hmr { proxy_pass http://dynamic_portal_server_pool/__webpack_hmr; } #&#x5F00;&#x53D1;&#x73AF;&#x5883;nuxt&#x8BBF;&#x95EE;_nuxt location ^~ /_nuxt/ { proxy_pass http://dynamic_portal_server_pool/_nuxt/; } &#x5728;&#x9759;&#x6001;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; #&#x5B66;&#x6210;&#x7F51;&#x9759;&#x6001;&#x8D44;&#x6E90; server { listen 91; server_name localhost; #&#x5206;&#x7C7B;&#x4FE1;&#x606F; location /static/category/ { alias X:/workspace/java/xczx/static/category/; } ...&#x641C;&#x7D22;&#x9875;&#x9762;&#x521B;&#x5EFA;&#x641C;&#x7D22;&#x9875;&#x9762;&#x5982;&#x4E0B;&#xFF1A; &#x9875;&#x9762;&#x6587;&#x4EF6;&#x53C2;&#x8003;&#xFF1A;&#x201C;&#x8D44;&#x6599;&#x201D;&#x2013;&#x300B;&#x201C;search&#x201D;&#x2013;&#x300B;index_1.vue&#xFF0C;&#x91CD;&#x8981;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; nuxt.js&#x652F;&#x6301;&#x5B9A;&#x4E49;header&#xFF0C;&#x672C;&#x9875;&#x9762;&#x6211;&#x4EEC;&#x5728;header&#x4E2D;&#x5F15;&#x5165;css&#x6837;&#x5F0F;&#x5E76;&#x5B9A;&#x4E49;&#x5934;&#x90E8;&#x4FE1;&#x606F;&#x3002; //&#x914D;&#x7F6E;&#x6587;&#x4EF6; let config = require(&apos;~/config/sysConfig&apos;) import querystring from &apos;querystring&apos; import * as courseApi from &apos;~/api/course&apos; export default { head() { return { title: &apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;-&#x4E00;&#x6837;&#x7684;&#x6559;&#x80B2;,&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x54C1;&#x8D28;&apos;, meta: [ {charset: &apos;utf-8&apos;}, {name: &apos;description&apos;, content: &apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x4E13;&#x6CE8;IT&#x57F9;&#x8BAD;,Java&#x57F9;&#x8BAD;,Android&#x57F9;&#x8BAD;,&#x5B89;&#x5353;&#x57F9;&#x8BAD;,PHP&#x57F9;&#x8BAD;,C++&#x57F9;&#x8BAD;,&#x7F51;&#x9875;&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,&#x5E73;&#x9762;&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,UI&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,&#x79FB;&#x52A8;&#x5F00;&#x53D1;&#x57F9;&#x8BAD;,&#x7F51;&#x7EDC;&#x8425;&#x9500;&#x57F9;&#x8BAD;,web&#x524D;&#x7AEF;&#x57F9;&#x8BAD;,&#x4E91;&#x8BA1;&#x7B97;&#x5927;&#x6570;&#x636E;&#x57F9;&#x8BAD;,&#x5168;&#x6808;&#x5DE5;&#x7A0B;&#x5E08;&#x57F9;&#x8BAD;,&#x4EA7;&#x54C1;&#x7ECF;&#x7406;&#x57F9;&#x8BAD;&#x3002;&apos;}, {name: &apos;keywords&apos;, content: this.keywords} ], link: [ {rel: &apos;stylesheet&apos;, href: &apos;/static/plugins/normalize-css/normalize.css&apos;}, {rel: &apos;stylesheet&apos;, href: &apos;/static/plugins/bootstrap/dist/css/bootstrap.css&apos;}, {rel: &apos;stylesheet&apos;, href: &apos;/static/css/page-learing-list.css&apos;} ] } },&#x5176;&#x5B83;&#x6570;&#x636E;&#x6A21;&#x578B;&#x53CA;&#x65B9;&#x6CD5;&#xFF1A; &lt;script&gt; //&#x914D;&#x7F6E;&#x6587;&#x4EF6; let config = require(&apos;~/config/sysConfig&apos;) import querystring from &apos;querystring&apos; import * as courseApi from &apos;~/api/course&apos; export default { head() { return { title: &apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;-&#x4E00;&#x6837;&#x7684;&#x6559;&#x80B2;,&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x54C1;&#x8D28;&apos;, meta: [ {charset: &apos;utf-8&apos;}, {name: &apos;description&apos;, content: &apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x4E13;&#x6CE8;IT&#x57F9;&#x8BAD;,Java&#x57F9;&#x8BAD;,Android&#x57F9;&#x8BAD;,&#x5B89;&#x5353;&#x57F9;&#x8BAD;,PHP&#x57F9;&#x8BAD;,C++&#x57F9;&#x8BAD;,&#x7F51;&#x9875;&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,&#x5E73;&#x9762;&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,UI&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,&#x79FB;&#x52A8;&#x5F00;&#x53D1;&#x57F9;&#x8BAD;,&#x7F51;&#x7EDC;&#x8425;&#x9500;&#x57F9;&#x8BAD;,web&#x524D;&#x7AEF;&#x57F9;&#x8BAD;,&#x4E91;&#x8BA1;&#x7B97;&#x5927;&#x6570;&#x636E;&#x57F9;&#x8BAD;,&#x5168;&#x6808;&#x5DE5;&#x7A0B;&#x5E08;&#x57F9;&#x8BAD;,&#x4EA7;&#x54C1;&#x7ECF;&#x7406;&#x57F9;&#x8BAD;&#x3002;&apos;}, {name: &apos;keywords&apos;, content: this.keywords} ], link: [ {rel: &apos;stylesheet&apos;, href: &apos;/static/plugins/normalize-css/normalize.css&apos;}, {rel: &apos;stylesheet&apos;, href: &apos;/static/plugins/bootstrap/dist/css/bootstrap.css&apos;}, {rel: &apos;stylesheet&apos;, href: &apos;/static/css/page-learing-list.css&apos;} ] } }, async asyncData({ store, route }) {//&#x670D;&#x52A1;&#x7AEF;&#x8C03;&#x7528;&#x65B9;&#x6CD5; //&#x5F53;&#x524D;&#x9875;&#x7801; let page = route.query.page; if(!page){ page = 1; }else{ page = Number.parseInt(page) } //&#x5411;java&#x5FAE;&#x670D;&#x52A1;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; //&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1; let course_data = await courseApi.search_course(page,2,route.query); //&#x67E5;&#x8BE2;&#x5206;&#x7C7B; let category_data = await courseApi.sysres_category() if (course_data &amp;&amp;&#x3000;course_data.queryResult ) { //&#x5168;&#x90E8;&#x5206;&#x7C7B; let category = category_data.category//&#x5206;&#x90E8;&#x5206;&#x7C7B; let first_category = category[0].children//&#x4E00;&#x7EA7;&#x5206;&#x7C7B; let second_category=[]//&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; let keywords = &apos;&apos; let mt=&apos;&apos; let st=&apos;&apos; let grade=&apos;&apos; let keyword=&apos;&apos; let total = course_data.queryResult.total if( route.query.mt){ mt = route.query.mt } if( route.query.st){ st = route.query.st } if( route.query.grade){ grade = route.query.grade } if( route.query.keyword){ keyword = route.query.keyword } //&#x904D;&#x5386;&#x4E00;&#x7EA7;&#x5206;&#x7C7B; for(var i in first_category){ keywords+=first_category[i].name+&apos; &apos; if(mt!=&apos;&apos;&amp;&amp; mt == first_category[i].id){ //&#x53D6;&#x51FA;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; second_category = first_category[i].children; // console.log(second_category) break; } } return { courselist: course_data.queryResult.list,//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category:first_category, second_category:second_category, mt:mt, st:st, grade:grade, keyword:keyword, page:page, total:total, imgUrl:config.imgUrl } }else{ return { courselist: {},//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category:{}, second_category:{}, mt:&apos;&apos;, st:&apos;&apos;, grade:&apos;&apos;, keyword:&apos;&apos;, page:page, total:0, imgUrl:config.imgUrl } } }, data(){ return { courselist: {}, first_category:{}, second_category:{}, mt:&apos;&apos;, st:&apos;&apos;, grade:&apos;&apos;, keyword:&apos;&apos;, imgUrl:config.imgUrl, total:0,//&#x603B;&#x8BB0;&#x5F55;&#x6570; page:1,//&#x9875;&#x7801; page_size:12//&#x6BCF;&#x9875;&#x663E;&#x793A;&#x4E2A;&#x6570; } }, watch:{//&#x8DEF;&#x7531;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7ACB;&#x5373;&#x641C;&#x7D22;search&#x8868;&#x793A;search&#x65B9;&#x6CD5; &apos;$route&apos;:&apos;search&apos; }, methods:{ //&#x5206;&#x9875;&#x89E6;&#x53D1; handleCurrentChange(page) { }, search(){ //&#x5237;&#x65B0;&#x5F53;&#x524D;&#x9875;&#x9762; window.location.reload(); } }, mounted(){ } } &lt;/script&gt;&#x6D4B;&#x8BD5;&#x91CD;&#x542F;Nginx&#xFF0C;&#x8BF7;&#x6C42;&#xFF1A;http://www.xuecheng.com/course/search&#xFF0C;&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x67E5;&#x8BE2;&#x5168;&#x90E8;&#x9700;&#x6C42;&#x5206;&#x6790;&#x521D;&#x6B21;&#x8FDB;&#x5165;&#x9875;&#x9762;&#xFF0C;&#x6CA1;&#x6709;&#x8F93;&#x5165;&#x4EFB;&#x4F55;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;&#x5168;&#x90E8;&#x8BFE;&#x7A0B;&#xFF0C;&#x5206;&#x9875;&#x663E;&#x793A;&#x3002; API&#x65B9;&#x6CD5;&#x5728;api&#x76EE;&#x5F55;&#x521B;&#x5EFA;&#x672C;&#x5DE5;&#x7A0B;&#x6240;&#x7528;&#x7684;api&#x65B9;&#x6CD5;&#x7C7B;&#xFF0C;api&#x65B9;&#x6CD5;&#x7C7B;&#x4F7F;&#x7528;&#x4E86;public.js&#x7B49;&#x4E00;&#x4E9B;&#x62BD;&#x53D6;&#x7C7B;&#xFF1A; /api/public.js&#x2014;&#x2014;&#x2014;&#x2014;-&#x62BD;&#x53D6;axios &#x7684;&#x57FA;&#x7840;&#x65B9;&#x6CD5; /api/util.js&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2013;&#x5DE5;&#x5177;&#x7C7B; /config/sysConfig.js&#x2014;-&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x7C7B;&#xFF0C;&#x914D;&#x7F6E;&#x4E86;&#x7CFB;&#x7EDF;&#x53C2;&#x6570;&#x53D8;&#x91CF; &#x521B;&#x5EFA;course.js&#xFF0C;&#x4F5C;&#x4E3A;&#x8BFE;&#x7A0B;&#x76F8;&#x5173;&#x4E1A;&#x52A1;&#x6A21;&#x5757;&#x7684;api&#x65B9;&#x6CD5;&#x7C7B;&#x3002; import http from &apos;./public&apos; import qs from &apos;qs&apos; let config = require(&apos;~/config/sysConfig&apos;) let apiURL = config.apiURL let staticURL = config.staticURL if (typeof window === &apos;undefined&apos;) { apiURL = config.backApiURL staticURL = config.backStaticURL } /*&#x641C;&#x7D22;*/ export const search_course = (page,size,params) =&gt; { //let loginRequest = querystring.stringify(params) let querys = qs.stringify(params); return http.requestQuickGet(apiURL+&quot;/search/course/list/&quot;+page+&quot;/&quot;+size+&quot;?&quot;+querys); }&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x672C;&#x9875;&#x9762;&#x5230;&#x8FBE;node.js 2&#x3001;&#x5728;asyncData&#x65B9;&#x6CD5;&#x4E2D;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x8BF7;&#x6C42;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B; 3&#x3001;asyncData&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x5F00;&#x59CB;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3; &#x5728;asyncData&#x4E2D;&#x6267;&#x884C;&#x641C;&#x7D22;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; async asyncData({ store, route }) {//&#x670D;&#x52A1;&#x7AEF;&#x8C03;&#x7528;&#x65B9;&#x6CD5; //&#x5F53;&#x524D;&#x9875;&#x7801; let page = route.query.page; if(!page){ page = 1; }else{ page = Number.parseInt(page) } //&#x5411;java&#x5FAE;&#x670D;&#x52A1;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; //&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1; let course_data = await courseApi.search_course(page,2,route.query); //&#x67E5;&#x8BE2;&#x5206;&#x7C7B; let category_data = await courseApi.sysres_category() if (course_data &amp;&amp;&#x3000;course_data.queryResult ) { //&#x5168;&#x90E8;&#x5206;&#x7C7B; let category = category_data.category//&#x5206;&#x90E8;&#x5206;&#x7C7B; let first_category = category[0].children//&#x4E00;&#x7EA7;&#x5206;&#x7C7B; let second_category=[]//&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; let keywords = &apos;&apos; let mt=&apos;&apos; let st=&apos;&apos; let grade=&apos;&apos; let keyword=&apos;&apos; let total = course_data.queryResult.total if( route.query.mt){ mt = route.query.mt } if( route.query.st){ st = route.query.st } if( route.query.grade){ grade = route.query.grade } if( route.query.keyword){ keyword = route.query.keyword } //&#x904D;&#x5386;&#x4E00;&#x7EA7;&#x5206;&#x7C7B; for(var i in first_category){ keywords+=first_category[i].name+&apos; &apos; if(mt!=&apos;&apos;&amp;&amp; mt == first_category[i].id){ //&#x53D6;&#x51FA;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; second_category = first_category[i].children; // console.log(second_category) break; } } return { courselist: course_data.queryResult.list,//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category:first_category, second_category:second_category, mt:mt, st:st, grade:grade, keyword:keyword, page:page, total:total, imgUrl:config.imgUrl } }else{ return { courselist: {},//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category:{}, second_category:{}, mt:&apos;&apos;, st:&apos;&apos;, grade:&apos;&apos;, keyword:&apos;&apos;, page:page, total:0, imgUrl:config.imgUrl } } },&#x9875;&#x9762;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x8BFE;&#x7A0B;&#x5217;&#x8868;&#x3002; &lt;div class=&quot;content-list&quot;&gt; &lt;div class=&quot;recom-item&quot; v-for=&quot;(course, index) in courselist&quot;&gt; &lt;a :href=&quot;&apos;/course/detail/&apos;+course.id+&apos;.html&apos;&quot; target=&quot;_blank&quot;&gt; &lt;!--&lt;a href=&quot;/course/detail/test.html&quot; target=&quot;_blank&quot;&gt;--&gt; &lt;div v-if=&quot;course.pic&quot;&gt; &lt;p&gt;&lt;img :src=&quot;imgUrl+&apos;/&apos;+course.pic&quot; width=&quot;100%&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;/div&gt; &lt;div v-else&gt; &lt;p&gt;&lt;img src=&quot;/img/widget-demo1.png&quot; width=&quot;100%&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;/div&gt; &lt;ul &gt; &lt;li class=&quot;course_title&quot;&gt;&lt;span v-html=&quot;course.name&quot;&gt;&lt;/span&gt;&lt;/li&gt; &lt;li style=&quot;float: left&quot;&gt;&lt;span v-if=&quot;course.charge == &apos;203001&apos;&quot;&gt;&#x514D;&#x8D39;&lt;/span&gt;&lt;span v-if=&quot;course.charge == &apos;203002&apos;&quot;&gt;&#xFFE5;{{course.price | money}}&lt;/span&gt; &lt;!-- &lt;em&gt; &#xB7; &lt;/em&gt;--&gt;&amp;nbsp;&amp;nbsp;&lt;!--&lt;em&gt;1125&#x4EBA;&#x5728;&#x5B66;&#x4E60;&lt;/em&gt;--&gt;&lt;/li&gt; &lt;/ul&gt; &lt;!--&lt;/a&gt;--&gt; &lt;/a&gt; &lt;/div&gt; &lt;li class=&quot;clearfix&quot;&gt;&lt;/li&gt; &lt;/div&gt;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x7AEF; //&#x8BBE;&#x7F6E;boolQueryBuilder&#x5230;searchSourceBuilder searchSourceBuilder.query(boolQueryBuilder); //&#x8BBE;&#x7F6E;&#x5206;&#x9875;&#x53C2;&#x6570; if(page&lt;=0){ page = 1; } if(size&lt;=0){ size = 12; } //&#x8D77;&#x59CB;&#x8BB0;&#x5F55;&#x4E0B;&#x6807; int from = (page-1)*size; searchSourceBuilder.from(from); searchSourceBuilder.size(size);&#x524D;&#x7AEF;&#x5C06;&#x6BCF;&#x9875;&#x663E;&#x793A;&#x4E2A;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;2 data(){ return { courselist: {}, first_category:{}, second_category:{}, mt:&apos;&apos;, st:&apos;&apos;, grade:&apos;&apos;, keyword:&apos;&apos;, imgUrl:config.imgUrl, total:0,//&#x603B;&#x8BB0;&#x5F55;&#x6570; page:1,//&#x9875;&#x7801; page_size:2//&#x6BCF;&#x9875;&#x663E;&#x793A;&#x4E2A;&#x6570; } }, //&#x5411;java&#x5FAE;&#x670D;&#x52A1;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; //&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1; let course_data = await courseApi.search_course(page,2,route.query);&#x4F7F;&#x7528;Element-UI&#x7684;el-pagination&#x5206;&#x9875;&#x63D2;&#x4EF6;&#xFF1A; &lt;div style=&quot;text-align: center&quot;&gt; &lt;el-pagination background layout=&quot;prev, pager, next&quot; @current-change=&quot;handleCurrentChange&quot; :total=&quot;total&quot; :page-size=&quot;page_size&quot; prev-text=&quot;&#x4E0A;&#x4E00;&#x9875;&quot; next-text=&quot;&#x4E0B;&#x4E00;&#x9875;&quot;&gt; &lt;/el-pagination&gt; &lt;/div&gt;&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x89E6;&#x53D1;&#x65B9;&#x6CD5;&#xFF1A; methods: { //&#x5206;&#x9875;&#x89E6;&#x53D1; handleCurrentChange(page) { this.page = page this.$route.query.page = page let querys = querystring.stringify(this.$route.query) window.location = &apos;/course/search?&apos; + querys; }, search() { //&#x5237;&#x65B0;&#x5F53;&#x524D;&#x9875;&#x9762; window.location.reload(); } },&#x6B64;&#x65F6;&#x5F53;&#x524D;&#x9875;&#x7801;&#x4E0D;&#x4F1A;&#x88AB;&#x9009;&#x4E2D;,&#x4FEE;&#x6539;el-pagination &lt;el-pagination background layout=&quot;prev, pager, next&quot; @current-change=&quot;handleCurrentChange&quot; :total=&quot;total&quot; :page-size=&quot;page_size&quot; :current-page=&quot;page&quot; prev-text=&quot;&#x4E0A;&#x4E00;&#x9875;&quot; next-text=&quot;&#x4E0B;&#x4E00;&#x9875;&quot;&gt; &lt;/el-pagination&gt;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x9700;&#x6C42;&#x5206;&#x6790;1&#x3001;&#x901A;&#x8FC7;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x641C;&#x7D22; 2&#x3001;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x540E;&#x5C06;&#x663E;&#x793A;&#x4E0B;&#x5C5E;&#x7684;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; 3&#x3001;&#x9009;&#x62E9;&#x4E8C;&#x5206;&#x7C7B;&#x8FDB;&#x884C;&#x641C;&#x7D22; 4&#x3001;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x7684;&#x5168;&#x90E8;&#x5219;&#x8868;&#x793A;&#x6CA1;&#x6709;&#x6309;&#x7167;&#x5206;&#x7C7B;&#x641C;&#x7D22; 5&#x3001;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x7684;&#x5168;&#x90E8;&#x65F6;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B;&#x4E0D;&#x663E;&#x793A; API&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x5C06;&#x901A;&#x8FC7;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x5199;&#x5165;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;/category/category.json&#x53EF;&#x8BBF;&#x95EE;&#xFF0C;&#x901A;&#x8FC7;www.xuecheng.com/static/category/category.json&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x3002; category.json&#x7684;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B9A;&#x4E49;api&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;&#x5206;&#x7C7B; &#x5728;/api/course.js&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; /*&#x83B7;&#x53D6;&#x5206;&#x7C7B;*/ export const sysres_category = () =&gt; { return http.requestQuickGet(staticURL+&quot;/category/category.json&quot;); }&#x67E5;&#x8BE2;&#x5206;&#x7C7B;&#x8FDB;&#x5165;&#x641C;&#x7D22;&#x9875;&#x9762;&#x5C06;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x6240;&#x6709;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#xFF0C;&#x5F53;&#x524D;&#x5982;&#x679C;&#x5DF2;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x5219;&#x8981;&#x663E;&#x793A;&#x6240;&#x6709;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x53CA;&#x8BE5;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x4E0B;&#x5C5E;&#x7684;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B;&#x3002; &#x5728;asyncData&#x65B9;&#x6CD5;&#x4E2D;&#x5B9E;&#x73B0;&#x4E0A;&#x8FB9;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; async asyncData({store, route}) {//&#x670D;&#x52A1;&#x7AEF;&#x8C03;&#x7528;&#x65B9;&#x6CD5; //&#x641C;&#x7D22;&#x8BFE;&#x7A0B; let page = route.query.page; if (!page) { page = 1; } else { page = Number.parseInt(page) } //&#x5411;java&#x5FAE;&#x670D;&#x52A1;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; //&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1; let course_data = await courseApi.search_course(page, 2, route.query); //&#x67E5;&#x8BE2;&#x5206;&#x7C7B; let category_data = await courseApi.sysres_category() if (course_data &amp;&amp; course_data.queryResult) { //&#x5168;&#x90E8;&#x5206;&#x7C7B; let category = category_data.category//&#x5206;&#x90E8;&#x5206;&#x7C7B; let first_category = category[0].children//&#x4E00;&#x7EA7;&#x5206;&#x7C7B; let second_category = []//&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; let keywords = &apos;&apos; let mt = &apos;&apos; let st = &apos;&apos; let grade = &apos;&apos; let keyword = &apos;&apos; let total = course_data.queryResult.total if (route.query.mt) { mt = route.query.mt } if (route.query.st) { st = route.query.st } if (route.query.grade) { grade = route.query.grade } if (route.query.keyword) { keyword = route.query.keyword } //&#x904D;&#x5386;&#x4E00;&#x7EA7;&#x5206;&#x7C7B; for (var i in first_category) { keywords += first_category[i].name + &apos; &apos; if (mt != &apos;&apos; &amp;&amp; mt == first_category[i].id) { //&#x53D6;&#x51FA;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; second_category = first_category[i].children; // console.log(second_category) break; } } return { courselist: course_data.queryResult.list,//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category: first_category, second_category: second_category, mt: mt, st: st, grade: grade, keyword: keyword, page: page, total: total, imgUrl: config.imgUrl } } else { return { courselist: {},//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category: {}, second_category: {}, mt: &apos;&apos;, st: &apos;&apos;, grade: &apos;&apos;, keyword: &apos;&apos;, page: page, total: 0, imgUrl: config.imgUrl } } },&#x9875;&#x9762;&#x5728;&#x9875;&#x9762;&#x663E;&#x793A;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x53CA;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B;&#xFF0C;&#x9700;&#x8981;&#x6839;&#x636E;&#x5F53;&#x524D;&#x662F;&#x5426;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x3001;&#x662F;&#x5426;&#x9009;&#x62E9;&#x4E8C;&#x5206;&#x7C7B;&#x663E;&#x793A;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x3002; &lt;ul&gt; &lt;li&gt;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#xFF1A;&lt;/li&gt; &lt;li v-if=&quot;mt!=&apos;&apos;&quot;&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;grade=&apos;+grade&quot;&gt;&#x5168;&#x90E8;&lt;/nuxt-link&gt; &lt;/li&gt; &lt;li class=&quot;all&quot; v-else&gt;&#x5168;&#x90E8;&lt;/li&gt; &lt;ol&gt; &lt;li v-for=&quot;category_v in first_category&quot;&gt; &lt;nuxt-link class=&quot;title-link all&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + category_v.id&quot; v-if=&quot;category_v.id == mt&quot;&gt;{{category_v.name}} &lt;/nuxt-link&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + category_v.id&quot; v-else&gt; {{category_v.name}} &lt;/nuxt-link&gt; &lt;/li&gt; &lt;/ol&gt; &lt;!--&lt;ol&gt; &lt;li&gt;&#x6570;&#x636E;&#x5206;&#x6790;&lt;/li&gt; &lt;li&gt;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x5DE5;&#x7A0B;&lt;/li&gt; &lt;li&gt;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&lt;/li&gt; &lt;/ol&gt;--&gt; &lt;/ul&gt;&#x7ACB;&#x5373;&#x641C;&#x7D22;&#x5F53;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x65F6;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x641C;&#x7D22;&#xFF0C;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x5982;&#x4E0B;&#xFF1A; 1&#xFF09;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x7ACB;&#x5373;&#x66F4;&#x6539;&#x8DEF;&#x7531;&#x3002; 2&#xFF09;&#x901A;&#x8FC7;&#x76D1;&#x542C;&#x8DEF;&#x7531;&#xFF0C;&#x8DEF;&#x7531;&#x66F4;&#x6539;&#x5219;&#x5237;&#x65B0;&#x9875;&#x9762;&#x3002; 1&#xFF09;&#x521B;&#x5EFA;&#x641C;&#x7D22;&#x65B9;&#x6CD5; search(){ //&#x5237;&#x65B0;&#x5F53;&#x524D;&#x9875;&#x9762; window.location.reload(); }2&#xFF09;&#x5B9A;&#x4E49;watch &#x901A;&#x8FC7;vue.js&#x7684;watch&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x76D1;&#x89C6;&#x67D0;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x5F53;&#x53D8;&#x91CF;&#x503C;&#x51FA;&#x73B0;&#x53D8;&#x5316;&#x65F6;&#x6267;&#x884C;&#x67D0;&#x4E2A;&#x65B9;&#x6CD5;&#x3002; &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x662F;&#xFF1A; 1&#x3001;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x9875;&#x9762;&#x8DEF;&#x7531;&#x66F4;&#x6539; 2&#x3001;&#x901A;&#x8FC7;watch&#x76D1;&#x89C6;&#x8DEF;&#x7531;&#xFF0C;&#x8DEF;&#x7531;&#x66F4;&#x6539;&#x89E6;&#x53D1;search&#x65B9;&#x6CD5; &#x4E0E;methods&#x5E76;&#x884C;&#x5B9A;&#x4E49;watch&#xFF1A; watch:{//&#x8DEF;&#x7531;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7ACB;&#x5373;&#x641C;&#x7D22;search&#x8868;&#x793A;search&#x65B9;&#x6CD5; &apos;$route&apos;:&apos;search&apos; },&#x6309;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x9700;&#x6C42;&#x5206;&#x6790;&#x7528;&#x6237;&#x9009;&#x62E9;&#x4E0D;&#x540C;&#x7684;&#x8BFE;&#x7A0B;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x53BB;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x3002; API&#x4F7F;&#x7528; search_course&#x65B9;&#x6CD5;&#x5B8C;&#x6210;&#x641C;&#x7D22;&#x3002; &#x9875;&#x9762;&#x6309;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x601D;&#x8DEF;&#x5982;&#x4E0B;&#xFF1A; 1&#xFF09;&#x70B9;&#x51FB;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x7ACB;&#x5373;&#x66F4;&#x6539;&#x8DEF;&#x7531;&#x3002; 2&#xFF09;&#x901A;&#x8FC7;&#x76D1;&#x542C;&#x8DEF;&#x7531;&#xFF0C;&#x8DEF;&#x7531;&#x66F4;&#x6539;&#x5219;&#x7ACB;&#x5373;&#x6267;&#x884C;search&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x3002; &#x6309;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;ul&gt; &lt;li&gt;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#xFF1A;&lt;/li&gt; &lt;li v-if=&quot;grade!=&apos;&apos;&quot;&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + mt+&apos;&amp;st=&apos;+st+&apos;&amp;grade=&apos;&quot;&gt;&#x5168;&#x90E8; &lt;/nuxt-link&gt; &lt;/li&gt; &lt;li class=&quot;all&quot; v-else&gt;&#x5168;&#x90E8;&lt;/li&gt; &lt;ol&gt; &lt;li v-if=&quot;grade==&apos;200001&apos;&quot; class=&quot;all&quot;&gt;&#x521D;&#x7EA7;&lt;/li&gt; &lt;li v-else&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + mt+&apos;&amp;st=&apos;+st+&apos;&amp;grade=200001&apos;&quot;&gt;&#x521D;&#x7EA7; &lt;/nuxt-link&gt; &lt;/li&gt; &lt;li v-if=&quot;grade==&apos;200002&apos;&quot; class=&quot;all&quot;&gt;&#x4E2D;&#x7EA7;&lt;/li&gt; &lt;li v-else&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + mt+&apos;&amp;st=&apos;+st+&apos;&amp;grade=200002&apos;&quot;&gt;&#x4E2D;&#x7EA7; &lt;/nuxt-link&gt; &lt;/li&gt; &lt;li v-if=&quot;grade==&apos;200003&apos;&quot; class=&quot;all&quot;&gt;&#x9AD8;&#x7EA7;&lt;/li&gt; &lt;li v-else&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + mt+&apos;&amp;st=&apos;+st+&apos;&amp;grade=200003&apos;&quot;&gt;&#x9AD8;&#x7EA7; &lt;/nuxt-link&gt; &lt;/li&gt; &lt;/ol&gt; &lt;/ul&gt;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#x4FEE;&#x6539;service&#x7684;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#xFF0C;&#x6DFB;&#x52A0;&#x9AD8;&#x4EAE;&#x8BBE;&#x7F6E;&#xFF1A; //&#x8BBE;&#x7F6E;&#x9AD8;&#x4EAE; HighlightBuilder highlightBuilder = new HighlightBuilder(); highlightBuilder.preTags(&quot;&lt;font class=&apos;eslight&apos;&gt;&quot;); highlightBuilder.postTags(&quot;&lt;/font&gt;&quot;); //&#x8BBE;&#x7F6E;&#x9AD8;&#x4EAE;&#x5B57;&#x6BB5; highlightBuilder.fields().add(new HighlightBuilder.Field(&quot;name&quot;)); searchSourceBuilder.highlighter(highlightBuilder); //&#x53D6;&#x51FA;&#x9AD8;&#x4EAE;&#x5B57;&#x6BB5;name Map&lt;String, HighlightField&gt; highlightFields = hit.getHighlightFields(); if(highlightFields!=null){ HighlightField highlightFieldName = highlightFields.get(&quot;name&quot;); if(highlightFieldName!=null){ Text[] fragments = highlightFieldName.fragments(); StringBuffer stringBuffer = new StringBuffer(); for(Text text:fragments){ stringBuffer.append(text); } name = stringBuffer.toString(); } }&#x4FEE;&#x590D;&#x70B9;&#x51FB;&#x4E3A;null.html //&#x53D6;&#x51FA;id String id = (String)sourceAsMap.get(&quot;id&quot;); coursePub.setId(id);&#x6D4B;&#x8BD5;&#x6B64;&#x65F6;&#x5173;&#x952E;&#x5B57;&#x4F1A;&#x88AB;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x6837;&#x5F0F; &quot;name&quot;: &quot;&lt;font class=&apos;eslight&apos;&gt;java&lt;/font&gt;&#x57FA;&#x7840;3&quot;,&#x524D;&#x7AEF;&#x5728;search/index.vue&#x4E2D;&#x5B9A;&#x4E49;eslight&#x6837;&#x5F0F;&#xFF1A; &lt;style&gt; .eslight{ color: red; }&#x96C6;&#x6210;&#x6D4B;&#x8BD5;1&#x3001;&#x542F;&#x52A8;MySQL&#x3001;MongoDB 2&#x3001;&#x542F;&#x52A8;ElasticSearch&#x3001;RabbitMQ 3&#x3001;&#x542F;&#x52A8;Eureka Server 4&#x3001;&#x542F;&#x52A8;CMS&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x3001;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x3002; 5&#x3001;&#x542F;&#x52A8;Nginx&#x3001;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x3001;&#x6559;&#x5B66;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x3001;Nuxt.js&#x3002; 1.&#x5220;&#x9664;&#x6839;&#x636E;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x6A21;&#x677F;&#x9875;&#x751F;&#x6210;&#x7684;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875; 2.&#x5C06;&#x6570;&#x636E;&#x5E93;&#x7684;&#x53D1;&#x5E03;&#x72B6;&#x6001;&#x7531;202002&#x6539;&#x4E3A;202001 3.&#x66F4;&#x6539;course_base BootStrap&#x5F00;&#x53D1;&#x8BFE;&#x7A0B;&#x7684;&#x63CF;&#x8FF0;&#x548C;&#x540D;&#x79F0; 4.&#x542F;&#x52A8;&#x540E;&#x53F0;&#x53D1;&#x5E03;&#x6700;&#x65B0;&#x7684;BootStrap&#x8BFE;&#x7A0B;&#x5E76;&#x9884;&#x89C8; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-12.md-nuxt.js.html</url>
    <content type="text"><![CDATA[Nuxt.js&#x641C;&#x7D22;&#x524D;&#x7AEF;&#x6280;&#x672F;&#x9700;&#x6C42;&#x63CF;&#x8FF0;&#x91C7;&#x7528;vue.js&#x5F00;&#x53D1;&#x641C;&#x7D22;&#x754C;&#x9762;&#x5219;SEO&#x4E0D;&#x53CB;&#x597D;&#xFF0C;&#x9700;&#x8981;&#x89E3;&#x51B3;SEO&#x7684;&#x95EE;&#x9898;&#x3002; &#x4E86;&#x89E3;SEO &#x603B;&#x7ED3;&#xFF1A;seo&#x662F;&#x7F51;&#x7AD9;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x81EA;&#x5DF2;&#x7684;&#x7F51;&#x7AD9;&#x6392;&#x540D;&#xFF0C;&#x83B7;&#x5F97;&#x66F4;&#x591A;&#x7684;&#x6D41;&#x91CF;&#xFF0C;&#x5BF9;&#x7F51;&#x7AD9;&#x7684;&#x7ED3;&#x6784;&#x53CA;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x8C03;&#x6574;&#x4F18;&#x5316;&#xFF0C;&#x4EE5;&#x4FBF;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF08;&#x767E;&#x5EA6;&#xFF0C;google&#x7B49;&#xFF09;&#x66F4;&#x597D;&#x6293;&#x53D6;&#x5230;&#x66F4;&#x4F18;&#x8D28;&#x7684;&#x7F51;&#x7AD9;&#x7684;&#x5185;&#x5BB9;&#x3002; &#x4E0B;&#x56FE;&#x662F;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x722C;&#x53D6;&#x7F51;&#x7AD9;&#x9875;&#x9762;&#x7684;&#x5927;&#x6982;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A; &#xFF08;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x5F88;&#x590D;&#x6742;&#xFF0C;&#x4E0B;&#x56FE;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x6982;&#x62EC;&#xFF09; &#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x5230;SEO&#x662F;&#x7F51;&#x7AD9;&#x81EA;&#x5DF1;&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;spider&#x6293;&#x53D6;&#x7F51;&#x9875;&#x800C;&#x4F5C;&#x51FA;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x4F18;&#x5316;&#xFF0C;&#x5E38;&#x89C1;&#x7684;SEO&#x65B9;&#x6CD5;&#x6BD4;&#x5982;&#xFF1A; 1&#xFF09;&#x5BF9;url&#x94FE;&#x63A5;&#x7684;&#x89C4;&#x8303;&#x5316;&#xFF0C;&#x591A;&#x7528;restful&#x98CE;&#x683C;&#x7684;url&#xFF0C;&#x591A;&#x7528;&#x9759;&#x6001;&#x8D44;&#x6E90;url&#xFF1B; 2) &#x6CE8;&#x610F;title&#x3001;keywords&#x7684;&#x8BBE;&#x7F6E;&#x3002; 3&#xFF09;&#x7531;&#x4E8E;spider&#x5BF9;javascript&#x652F;&#x6301;&#x4E0D;&#x597D;&#xFF0C;&#x5BF9;&#x4E8E;&#x7F51;&#x9875;&#x8DF3;&#x8F6C;&#x7528;href&#x6807;&#x7B7E;&#x3002; &#x3002;&#x3002;&#x3002; &#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#x91C7;&#x7528;&#x4EC0;&#x4E48;&#x6280;&#x672F;&#x6709;&#x5229;&#x4E8E;SEO&#xFF1F;&#x8981;&#x89E3;&#x7B54;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x9700;&#x8981;&#x7406;&#x89E3;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x548C;&#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;? &#x6211;&#x4EEC;&#x7528;&#x4F20;&#x7EDF;&#x7684;servlet&#x5F00;&#x53D1;&#x6765;&#x4E3E;&#x4F8B;&#xFF1A;&#x6D4F;&#x89C8;&#x5668;&#x8BF7;&#x6C42;servlet&#xFF0C;servlet&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x751F;&#x6210;html&#x54CD;&#x5E94;&#x7ED9;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x5C55;&#x793A;html &#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x7279;&#x70B9;&#xFF1A; 1&#xFF09;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x751F;&#x6210;html&#x7F51;&#x9875;&#x7684;dom&#x5143;&#x7D20;&#x3002; 2&#xFF09;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#xFF09;&#x53EA;&#x8D1F;&#x8D23;&#x663E;&#x793A;dom&#x5143;&#x7D20;&#x5185;&#x5BB9;&#x3002; &#x5F53;&#x521D;&#x968F;&#x7740;web2.0&#x7684;&#x5230;&#x6765;&#xFF0C;AJAX&#x6280;&#x672F;&#x5174;&#x8D77;&#xFF0C;&#x51FA;&#x73B0;&#x4E86;&#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#xFF09; &#x4F7F;&#x7528;AJAX&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x53D1;&#x8D77;http&#x8BF7;&#x6C42;&#xFF0C;&#x83B7;&#x53D6;&#x5230;&#x4E86;&#x60F3;&#x8981;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x62FF;&#x7740;&#x6570;&#x636E;&#x5F00;&#x59CB;&#x6E32;&#x67D3;html&#x7F51;&#x9875;&#xFF0C;&#x751F;&#x6210;Dom&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x6700;&#x7EC8;&#x5C06;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x5C55;&#x793A;&#x7ED9;&#x7528;&#x6237;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x7279;&#x70B9;&#xFF1A; 1&#xFF09;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x53EA;&#x662F;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x54CD;&#x5E94;&#x7684;&#x4E86;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E0D;&#x662F;html&#x7F51;&#x9875; 2&#xFF09;&#x5BA2;&#x6237;&#x7AEF;&#xFF08;&#x6D4F;&#x89C8;&#x5668;&#xFF09;&#x8D1F;&#x8D23;&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x6570;&#x636E;&#x751F;&#x6210;Dom&#x5143;&#x7D20;&#x3002; &#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x5404;&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x7F3A;&#x70B9;&#xFF1F; &#x5BA2;&#x6237;&#x7AEF;&#x6E32;&#x67D3;&#xFF1A; 1) &#x7F3A;&#x70B9; &#x4E0D;&#x5229;&#x4E8E;&#x7F51;&#x7AD9;&#x8FDB;&#x884C;SEO&#xFF0C;&#x56E0;&#x4E3A;&#x7F51;&#x7AD9;&#x5927;&#x91CF;&#x4F7F;&#x7528;javascript&#x6280;&#x672F;&#xFF0C;&#x4E0D;&#x5229;&#x4E8E;spider&#x6293;&#x53D6;&#x7F51;&#x9875;&#x3002; 2) &#x4F18;&#x70B9; &#x5BA2;&#x6237;&#x7AEF;&#x8D1F;&#x8D23;&#x6E32;&#x67D3;&#xFF0C;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x6027;&#x597D;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53EA;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x4E0D;&#x7528;&#x5173;&#x5FC3;&#x7528;&#x6237;&#x754C;&#x9762;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6709;&#x5229;&#x4E8E;&#x63D0;&#x9AD8;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x3002; 3&#xFF09;&#x9002;&#x7528;&#x573A;&#x666F; &#x5BF9;SEO&#x6CA1;&#x6709;&#x8981;&#x6C42;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x6BD4;&#x5982;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7C7B;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x5982;&#x7535;&#x5546;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#xFF0C;&#x7528;&#x6237;&#x7BA1;&#x7406;&#x7B49;&#x3002; &#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#xFF1A; 1) &#x4F18;&#x70B9; &#x6709;&#x5229;&#x4E8E;SEO&#xFF0C;&#x7F51;&#x7AD9;&#x901A;&#x8FC7;href&#x7684;url&#x5C06;spider&#x76F4;&#x63A5;&#x5F15;&#x5230;&#x670D;&#x52A1;&#x7AEF;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x63D0;&#x4F9B;&#x4F18;&#x8D28;&#x7684;&#x7F51;&#x9875;&#x5185;&#x5BB9;&#x7ED9;spider&#x3002; 2) &#x7F3A;&#x70B9; &#x670D;&#x52A1;&#x7AEF;&#x5B8C;&#x6210;&#x4E00;&#x90E8;&#x5206;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5DE5;&#x4F5C;&#xFF0C;&#x901A;&#x5E38;&#x5B8C;&#x6210;&#x4E00;&#x4E2A;&#x9700;&#x6C42;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x4F4E;&#xFF0C;&#x4E0D;&#x5229;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x3002; 3&#xFF09;&#x9002;&#x7528;&#x573A;&#x666F; &#x5BF9;SEO&#x6709;&#x8981;&#x6C42;&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x95E8;&#x6237;&#x9996;&#x9875;&#x3001;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x7B49;&#x3002; Nuxt.jsNuxt.js&#x4ECB;&#x7ECD;&#x200B; &#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x7684;&#x5174;&#x8D77;&#x4FC3;&#x8FDB;&#x4E86;web&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#x7684;&#x53D1;&#x5C55;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53EA;&#x4E13;&#x6CE8;&#x4E1A;&#x52A1;&#xFF0C;&#x524D;&#x7AEF;&#x53EA;&#x4E13;&#x6CE8;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#xFF0C;&#x524D;&#x7AEF;&#x5927;&#x91CF;&#x8FD0;&#x7528;&#x7684;&#x524D;&#x7AEF;&#x6E32;&#x67D3;&#x6280;&#x672F;&#xFF0C;&#x6BD4;&#x5982;&#x6D41;&#x884C;&#x7684;vue.js&#x3001;react&#x6846;&#x67B6;&#x90FD;&#x5B9E;&#x73B0;&#x4E86;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;&#x524D;&#x7AEF;&#x6E32;&#x67D3;&#x3002; &#x200B; &#x4F46;&#x662F;&#xFF0C;&#x5BF9;&#x4E8E;&#x6709;SEO&#x9700;&#x6C42;&#x7684;&#x7F51;&#x9875;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x524D;&#x7AEF;&#x6E32;&#x67D3;&#x6280;&#x672F;&#x53BB;&#x5F00;&#x53D1;&#x5C31;&#x4E0D;&#x5229;&#x4E8E;SEO&#x4E86;&#xFF0C;&#x6709;&#x6CA1;&#x6709;&#x4E00;&#x79CD;&#x5373;&#x4F7F;&#x7528;vue.js&#x3001;react&#x7684;&#x524D;&#x7AEF;&#x6280;&#x672F;&#x4E5F;&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x6280;&#x672F;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#xFF0C;&#x5BF9;&#x4E8E;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x9700;&#x6C42;&#xFF0C;vue.js&#x3001;react&#x8FD9;&#x6837;&#x6D41;&#x884C;&#x7684;&#x524D;&#x7AEF;&#x6846;&#x67B6;&#x63D0;&#x4F9B;&#x4E86;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; &#x4ECE;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF1A; react&#x6846;&#x67B6;&#x63D0;&#x4F9B;next.js&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x3002; vue.js&#x6846;&#x67B6;&#x63D0;&#x4F9B;Nuxt.js&#x5B9E;&#x73B0;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x3002; Nuxt.js&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x4E0B;&#x56FE;&#x5C55;&#x793A;&#x4E86;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x5230;Nuxt.js&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3;&#x7684;&#x6574;&#x4F53;&#x7684;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x8F93;&#x5165;&#x7F51;&#x5740;&#x8BF7;&#x6C42;&#x5230;Node.js 2&#x3001;&#x90E8;&#x7F72;&#x5728;Node.js&#x7684;&#x5E94;&#x7528;Nuxt.js&#x63A5;&#x6536;&#x6D4F;&#x89C8;&#x5668;&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x83B7;&#x53D6;&#x6570;&#x636E; 3&#x3001;Nuxt.js&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x540E;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3; 4&#x3001;Nuxt.js&#x5C06;html&#x7F51;&#x9875;&#x54CD;&#x5E94;&#x7ED9;&#x6D4F;&#x89C8;&#x5668; Nuxt.js&#x4F7F;&#x7528;&#x4E86;&#x54EA;&#x4E9B;&#x6280;&#x672F;&#xFF1F; Nuxt.js&#x4F7F;&#x7528;Vue.js+webpack+Babel&#x4E09;&#x5927;&#x6280;&#x672F;&#x6846;&#x67B6;/&#x7EC4;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; Babel &#x662F;&#x4E00;&#x4E2A;js&#x7684;&#x8F6C;&#x7801;&#x5668;&#xFF0C;&#x8D1F;&#x8D23;&#x5C06;ES6&#x7684;&#x4EE3;&#x7801;&#x8F6C;&#x6210;&#x6D4F;&#x89C8;&#x5668;&#x8BC6;&#x522B;&#x7684;ES5&#x4EE3;&#x7801;&#x3002; Webpack&#x662F;&#x4E00;&#x4E2A;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x6253;&#x5305;&#x5DE5;&#x5177;&#x3002; Vue.js&#x662F;&#x4E00;&#x4E2A;&#x4F18;&#x79C0;&#x7684;&#x524D;&#x7AEF;&#x6846;&#x67B6;&#x3002; Nuxt.js&#x7684;&#x7279;&#x6027;&#x6709;&#x54EA;&#x4E9B;&#xFF1F; &#x57FA;&#x4E8E; Vue.js &#x81EA;&#x52A8;&#x4EE3;&#x7801;&#x5206;&#x5C42; &#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3; &#x5F3A;&#x5927;&#x7684;&#x8DEF;&#x7531;&#x529F;&#x80FD;&#xFF0C;&#x652F;&#x6301;&#x5F02;&#x6B65;&#x6570;&#x636E; &#x9759;&#x6001;&#x6587;&#x4EF6;&#x670D;&#x52A1; ES6/ES7 &#x8BED;&#x6CD5;&#x652F;&#x6301; &#x6253;&#x5305;&#x548C;&#x538B;&#x7F29; JS &#x548C; CSS HTML&#x5934;&#x90E8;&#x6807;&#x7B7E;&#x7BA1;&#x7406; &#x672C;&#x5730;&#x5F00;&#x53D1;&#x652F;&#x6301;&#x70ED;&#x52A0;&#x8F7D; &#x96C6;&#x6210;ESLint &#x652F;&#x6301;&#x5404;&#x79CD;&#x6837;&#x5F0F;&#x9884;&#x5904;&#x7406;&#x5668;&#xFF1A; SASS&#x3001;LESS&#x3001; Stylus&#x7B49;&#x7B49; Nuxt.js&#x57FA;&#x672C;&#x4F7F;&#x7528;1.&#x521B;&#x5EFA;Nuxt&#x5DE5;&#x7A0B;nuxt.js&#x6709;&#x6807;&#x51C6;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#xFF0C;&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x4E86;&#x6A21;&#x677F;&#x5DE5;&#x7A0B;&#xFF0C;&#x53EF;&#x4EE5;&#x6A21;&#x677F;&#x5DE5;&#x7A0B;&#x5FEB;&#x901F;&#x521B;&#x5EFA;nuxt&#x9879;&#x76EE;&#x3002; &#x6A21;&#x677F;&#x5DE5;&#x7A0B;&#x5730;&#x5740;&#xFF1A;https://github.com/nuxt-community/starter-template/archive/master.zip &#x672C;&#x9879;&#x76EE;&#x63D0;&#x4F9B;&#x57FA;&#x4E8E;Nuxt.js&#x7684;&#x5C01;&#x88C5;&#x5DE5;&#x7A0B;&#xFF0C;&#x57FA;&#x4E8E;&#x6B64;&#x5C01;&#x88C5;&#x5DE5;&#x7A0B;&#x5F00;&#x53D1;&#x641C;&#x7D22;&#x524D;&#x7AEF;&#xFF0C;&#x89C1;&#x201C;&#x8D44;&#x6599;&#x201D;&#x2013;&#x300B;xc-ui-pc-portal.zip&#xFF0C;&#x89E3;&#x538B; xc-ui-pc-portal.zip&#x5230;&#x672C;&#x9879;&#x76EE;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x76EE;&#x5F55;&#x4E0B;&#x3002; &#x672C;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x5C5E;&#x4E8E;&#x95E8;&#x6237;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x5C06;&#x627F;&#x8F7D;&#x4E00;&#x90E8;&#x5206;&#x8003;&#x8651;SEO&#x7684;&#x975E;&#x9759;&#x6001;&#x5316;&#x9875;&#x9762;&#x3002; &#x672C;&#x5DE5;&#x7A0B;&#x57FA;&#x4E8E;Nuxt.js&#x6A21;&#x677F;&#x5DE5;&#x7A0B;&#x6784;&#x5EFA;&#xFF0C;Nuxt.js&#x4F7F;&#x7528;1.3&#x7248;&#x672C;&#xFF0C;&#x5E76;&#x52A0;&#x5165;&#x4E86;&#x4ECA;&#x540E;&#x5F00;&#x53D1;&#x4E2D;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x4F9D;&#x8D56;&#x5305;&#xFF0C;&#x76F4;&#x63A5;&#x89E3;&#x538B;&#x672C;&#x5DE5;&#x7A0B;&#x5373;&#x53EF;&#x4F7F;&#x7528;&#x3002; 2.&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x672C;&#x5DE5;&#x7A0B;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; - &#x8D44;&#x6E90;&#x76EE;&#x5F55; &#x8D44;&#x6E90;&#x76EE;&#x5F55; assets &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x672A;&#x7F16;&#x8BD1;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x5982; LESS&#x3001;SASS &#x6216; JavaScript&#x3002; - &#x7EC4;&#x4EF6;&#x76EE;&#x5F55; &#x7EC4;&#x4EF6;&#x76EE;&#x5F55; components &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x5E94;&#x7528;&#x7684; Vue.js &#x7EC4;&#x4EF6;&#x3002;Nuxt.js &#x4E0D;&#x4F1A;&#x6269;&#x5C55;&#x589E;&#x5F3A;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B; Vue.js &#x7EC4;&#x4EF6;&#xFF0C;&#x5373;&#x8FD9;&#x4E9B;&#x7EC4;&#x4EF6;&#x4E0D;&#x4F1A;&#x50CF;&#x9875;&#x9762;&#x7EC4;&#x4EF6;&#x90A3;&#x6837;&#x6709; asyncData &#x65B9;&#x6CD5;&#x7684;&#x7279;&#x6027;&#x3002; - &#x5E03;&#x5C40;&#x76EE;&#x5F55; &#x5E03;&#x5C40;&#x76EE;&#x5F55; layouts &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x5E94;&#x7528;&#x7684;&#x5E03;&#x5C40;&#x7EC4;&#x4EF6;&#x3002; &#x8BE5;&#x76EE;&#x5F55;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - &#x4E2D;&#x95F4;&#x4EF6;&#x76EE;&#x5F55; middleware &#x76EE;&#x5F55;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x5E94;&#x7528;&#x7684;&#x4E2D;&#x95F4;&#x4EF6;&#x3002; - &#x9875;&#x9762;&#x76EE;&#x5F55; &#x9875;&#x9762;&#x76EE;&#x5F55; pages &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x5E94;&#x7528;&#x7684;&#x8DEF;&#x7531;&#x53CA;&#x89C6;&#x56FE;&#x3002;Nuxt.js &#x6846;&#x67B6;&#x8BFB;&#x53D6;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x7684; .vue &#x6587;&#x4EF6;&#x5E76;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x3002; &#x8BE5;&#x76EE;&#x5F55;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - &#x63D2;&#x4EF6;&#x76EE;&#x5F55; &#x63D2;&#x4EF6;&#x76EE;&#x5F55; plugins &#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x90A3;&#x4E9B;&#x9700;&#x8981;&#x5728; &#x6839;vue.js&#x5E94;&#x7528; &#x5B9E;&#x4F8B;&#x5316;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x7684; Javascript &#x63D2;&#x4EF6;&#x3002; - &#x9759;&#x6001;&#x6587;&#x4EF6;&#x76EE;&#x5F55; &#x9759;&#x6001;&#x6587;&#x4EF6;&#x76EE;&#x5F55; static &#x7528;&#x4E8E;&#x5B58;&#x653E;&#x5E94;&#x7528;&#x7684;&#x9759;&#x6001;&#x6587;&#x4EF6;&#xFF0C;&#x6B64;&#x7C7B;&#x6587;&#x4EF6;&#x4E0D;&#x4F1A;&#x88AB; Nuxt.js &#x8C03;&#x7528; Webpack &#x8FDB;&#x884C;&#x6784;&#x5EFA;&#x7F16;&#x8BD1;&#x5904;&#x7406;&#x3002; &#x670D;&#x52A1;&#x5668;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x4F1A;&#x6620;&#x5C04;&#x81F3;&#x5E94;&#x7528;&#x7684;&#x6839;&#x8DEF;&#x5F84; / &#x4E0B;&#x3002; &#x4E3E;&#x4E2A;&#x4F8B;&#x5B50;: /static/logo.png &#x6620;&#x5C04;&#x81F3; /logo.png &#x8BE5;&#x76EE;&#x5F55;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - Store &#x76EE;&#x5F55; store &#x76EE;&#x5F55;&#x7528;&#x4E8E;&#x7EC4;&#x7EC7;&#x5E94;&#x7528;&#x7684; Vuex &#x72B6;&#x6001;&#x6811; &#x6587;&#x4EF6;&#x3002; Nuxt.js &#x6846;&#x67B6;&#x96C6;&#x6210;&#x4E86; Vuex &#x72B6;&#x6001;&#x6811; &#x7684;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x914D;&#x7F6E;&#xFF0C;&#x5728; store &#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; index.js &#x6587;&#x4EF6;&#x53EF;&#x6FC0;&#x6D3B;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x3002; &#x8BE5;&#x76EE;&#x5F55;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - nuxt.config.js &#x6587;&#x4EF6; nuxt.config.js &#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x7EC4;&#x7EC7;Nuxt.js &#x5E94;&#x7528;&#x7684;&#x4E2A;&#x6027;&#x5316;&#x914D;&#x7F6E;&#xFF0C;&#x4EE5;&#x4FBF;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x3002; &#x8BE5;&#x6587;&#x4EF6;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; - package.json &#x6587;&#x4EF6; package.json &#x6587;&#x4EF6;&#x7528;&#x4E8E;&#x63CF;&#x8FF0;&#x5E94;&#x7528;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x548C;&#x5BF9;&#x5916;&#x66B4;&#x9732;&#x7684;&#x811A;&#x672C;&#x63A5;&#x53E3;&#x3002; &#x8BE5;&#x6587;&#x4EF6;&#x540D;&#x4E3A;Nuxt.js&#x4FDD;&#x7559;&#x7684;&#xFF0C;&#x4E0D;&#x53EF;&#x66F4;&#x6539;&#x3002; nuxt.js &#x63D0;&#x4F9B;&#x4E86;&#x76EE;&#x5F55;&#x7684;&#x522B;&#x540D;&#xFF0C;&#x65B9;&#x4FBF;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x5F15;&#x7528;&#xFF1A; 3.&#x9875;&#x9762;&#x5E03;&#x5C40;&#x9875;&#x9762;&#x5E03;&#x5C40;&#x5C31;&#x662F;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x7684;&#x6574;&#x4F53;&#x7ED3;&#x6784;&#xFF0C;&#x901A;&#x8FC7;&#x5728;layouts&#x76EE;&#x5F55;&#x4E0B;&#x6DFB;&#x52A0;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x6765;&#x5B9E;&#x73B0;&#x3002;&#x5728;layouts &#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x90FD;&#x5C5E;&#x4E8E;&#x4E2A;&#x6027;&#x5316;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x9875;&#x9762;&#x7EC4;&#x4EF6;&#x4E2D;&#x5229;&#x7528; layout &#x5C5E;&#x6027;&#x6765;&#x5F15;&#x7528;&#x3002; Demo&#xFF1A; 1&#x3001;&#x5B9A;&#x4E49;&#xFF1A;layouts/test.vue&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A;&#x6CE8;&#x610F;&#xFF1A;&#x5E03;&#x5C40;&#x6587;&#x4EF6;&#x4E2D;&#x4E00;&#x5B9A;&#x8981;&#x52A0; &#x7EC4;&#x4EF6;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x3002; &lt;template&gt; &lt;div&gt; &lt;div&gt;&#x8FD9;&#x91CC;&#x662F;&#x5934;&lt;/div&gt; &lt;nuxt/&gt; &lt;div&gt;&#x8FD9;&#x91CC;&#x662F;&#x5C3E;&lt;/div&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;2&#x3001;&#x5728;pages&#x76EE;&#x5F55;&#x521B;&#x5EFA;user&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x521B;&#x5EFA;index.vue&#x9875;&#x9762; &#x5728; pages/user/index.vue &#x9875;&#x9762;&#x91CC;&#xFF0C; &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x9875;&#x9762;&#x7EC4;&#x4EF6;&#x4F7F;&#x7528; test &#x5E03;&#x5C40;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &#x6D4B;&#x8BD5;&#x9875;&#x9762; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default{ layout:&apos;test&apos; } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;3&#x3001;&#x6D4B;&#x8BD5;&#xFF0C;&#x8BF7;&#x6C42;&#xFF1A;http://localhost:10000/user&#xFF0C;&#x5982;&#x679C;&#x5982;&#x4E0B;: &#x8FD9;&#x91CC;&#x662F;&#x5934; &#x6D4B;&#x8BD5;&#x9875;&#x9762; &#x8FD9;&#x91CC;&#x662F;&#x5C3E;&#x6BCF;&#x6B21;&#x90FD;&#x5199;layout:&#x2019;test&#x2019; &#x592A;&#x9EBB;&#x70E6;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5C31;&#x7701;&#x7565;&#x4E0D;&#x5199;,&#x4E0D;&#x5199;&#x7684;&#x8BDD;&#x5C31;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;layout&#x7684;default 4.&#x8DEF;&#x7531;1.&#x57FA;&#x7840;&#x8DEF;&#x7531;Nuxt.js &#x4F9D;&#x636E; pages &#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x81EA;&#x52A8;&#x751F;&#x6210; vue-router &#x6A21;&#x5757;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x3002; Nuxt.js&#x6839;&#x636E;pages&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x53CA;&#x9875;&#x9762;&#x540D;&#x79F0;&#x5B9A;&#x4E49;&#x89C4;&#x8303;&#x6765;&#x751F;&#x6210;&#x8DEF;&#x7531;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x8DEF;&#x7531;&#x7684;&#x4F8B;&#x5B50;&#xFF1A; &#x5047;&#x8BBE; pages &#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; pages/ --| user/ -----| index.vue -----| one.vue&#x90A3;&#x4E48;&#xFF0C;Nuxt.js &#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; router: { routes: [ { name: &apos;user&apos;, path: &apos;/user&apos;, component: &apos;pages/user/index.vue&apos; }, { name: &apos;user-one&apos;, path: &apos;/user/one&apos;, component: &apos;pages/user/one.vue&apos; } ] } index.vue&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; index&#x9875;&#x9762; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos; } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;one.vue&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; one&#x9875;&#x9762; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos; } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;2.&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; vue-router &#x7684;&#x5B50;&#x8DEF;&#x7531;&#x521B;&#x5EFA; Nuxt.js &#x5E94;&#x7528;&#x7684;&#x5D4C;&#x5957;&#x8DEF;&#x7531;&#x3002; &#x521B;&#x5EFA;&#x5185;&#x5D4C;&#x5B50;&#x8DEF;&#x7531;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; user.vue &#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;user&#x76EE;&#x5F55;&#x7528;&#x6765;&#x5B58;&#x653E;&#x5B50;&#x89C6;&#x56FE;&#x7EC4;&#x4EF6;&#x3002; &#x522B;&#x5FD8;&#x4E86;&#x5728;&#x7236;&#x7EA7; Vue &#x6587;&#x4EF6;&#x5185;&#x589E;&#x52A0; &#x7528;&#x4E8E;&#x663E;&#x793A;&#x5B50;&#x89C6;&#x56FE;&#x5185;&#x5BB9;&#x3002; &#x5047;&#x8BBE;&#x6587;&#x4EF6;&#x7ED3;&#x6784;&#x5982;&#xFF1A; pages/ --| user/ -----| _id.vue -----| index.vue -----| one.vue --| user.vue&#x5C06;user.vue&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x5230;&#x4E0E;user&#x76EE;&#x5F55;&#x7684;&#x7236;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x5373;&#x548C;user&#x76EE;&#x5F55;&#x4FDD;&#x6301;&#x5E73;&#x7EA7;&#x3002; &lt;template&gt; &lt;div&gt; &#x7528;&#x6237;&#x7BA1;&#x7406;&#x5BFC;&#x822A;&#x9875;&#x9762; &lt;nuxt-link :to=&quot;&apos;/user/one&apos;&quot;&gt;&#x5B50;&#x9875;&#x9762;&#x4E3A;one&#x9875;&#x9762;&lt;/nuxt-link&gt; &lt;nuxt-child/&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos; } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x8BBF;&#x95EE; http://localhost:10000/user &#x8BBF;&#x95EE;&#x5230;&#x7684;&#x662F; user.vue&#x5D4C;&#x5957;index.vue &#x8BBF;&#x95EE; http://localhost:10000/user/one &#x8BBF;&#x95EE;&#x5230;&#x7684;&#x662F; user.vue&#x5D4C;&#x5957;one.vue &#x4F20;&#x53C2; _id.vue&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x4E86;&#x5411;&#x9875;&#x9762;&#x4F20;&#x5165;id&#x53C2;&#x6570;&#xFF0C;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4FE1;&#x606F;{{id}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos;, data() { return { id: &apos;&apos; } }, mounted() { this.id = this.$route.params.id; console.log(this.id) } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x8BBF;&#x95EE; http://localhost:10000/user/101 5.&#x83B7;&#x53D6;&#x6570;&#x636E;1.asyncData &#x65B9;&#x6CD5;Nuxt.js &#x6269;&#x5C55;&#x4E86; Vue.js&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x53EB; asyncData &#x7684;&#x65B9;&#x6CD5;&#xFF0C;asyncData&#x65B9;&#x6CD5;&#x4F1A;&#x5728;&#x7EC4;&#x4EF6;&#xFF08;&#x9650;&#x4E8E;&#x9875;&#x9762;&#x7EC4;&#x4EF6;&#xFF09;&#x6BCF;&#x6B21;&#x52A0;&#x8F7D;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x6216;&#x8DEF;&#x7531;&#x66F4;&#x65B0;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002; &#x5728;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x88AB;&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x88AB;&#x8BBE;&#x5B9A;&#x4E3A;&#x5F53;&#x524D;&#x9875;&#x9762;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x5BF9;&#x8C61;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5229;&#x7528; asyncData&#x65B9;&#x6CD5;&#x6765;&#x83B7;&#x53D6;&#x6570;&#x636E;&#xFF0C;Nuxt.js &#x4F1A;&#x5C06; asyncData &#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x878D;&#x5408;&#x7EC4;&#x4EF6; data &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x4E00;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;&#x5F53;&#x524D;&#x7EC4;&#x4EF6;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x7531;&#x4E8E;asyncData&#x65B9;&#x6CD5;&#x662F;&#x5728;&#x7EC4;&#x4EF6; &#x521D;&#x59CB;&#x5316; &#x524D;&#x88AB;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x65B9;&#x6CD5;&#x5185;&#x662F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x901A;&#x8FC7; this &#x6765;&#x5F15;&#x7528;&#x7EC4;&#x4EF6;&#x7684;&#x5B9E;&#x4F8B;&#x5BF9;&#x8C61;&#x3002; &#x4F8B;&#x5B50;&#xFF1A; &#x5728;&#x4E0A;&#x8FB9;&#x4F8B;&#x5B50;&#x4E2D;&#x7684;user/_id.vue&#x4E2D;&#x6DFB;&#x52A0;&#xFF0C;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4FE1;&#x606F;{{id}},&#x540D;&#x79F0;;{{name}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos;, //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F; asyncData() { console.log(&quot;async&#x65B9;&#x6CD5;&quot;) return { name: &apos;it&#x6C83;&apos; } }, data(){ return { id:&apos;&apos; } }, mounted() { this.id = this.$route.params.id; console.log(this.id) } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x6B64;&#x65B9;&#x6CD5;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x88AB;&#x6267;&#x884C;&#xFF0C;&#x89C2;&#x5BDF;&#x670D;&#x52A1;&#x7AEF;&#x63A7;&#x5236;&#x53F0;&#x6253;&#x5370;&#x8F93;&#x51FA;&#x201C;async&#x65B9;&#x6CD5;&#x201D;&#x3002; &#x6B64;&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;data&#x6A21;&#x578B;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x88AB;&#x6E32;&#x67D3;&#xFF0C;&#x6700;&#x540E;&#x54CD;&#x5E94;&#x7ED9;&#x524D;&#x7AEF;&#xFF0C;&#x5237;&#x65B0;&#x6B64;&#x9875;&#x9762;&#x67E5;&#x770B;&#x9875;&#x9762;&#x6E90;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x5230;name&#x6A21;&#x578B;&#x6570;&#x636E;&#x5DF2;&#x5728;&#x9875;&#x9762;&#x6E90;&#x4EE3;&#x7801;&#x4E2D;&#x663E;&#x793A;&#x3002; 2.async /await&#x65B9;&#x6CD5;&#x4F7F;&#x7528;async &#x548C; await&#x914D;&#x5408;promise&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x540C;&#x6B65;&#x8C03;&#x7528;&#xFF0C;nuxt.js&#x4E2D;&#x4F7F;&#x7528;async/await&#x5B9E;&#x73B0;&#x540C;&#x6B65;&#x8C03;&#x7528;&#x6548;&#x679C;&#x3002; 1&#x3001;&#x5148;&#x6D4B;&#x8BD5;&#x5F02;&#x6B65;&#x8C03;&#x7528;&#xFF0C;&#x589E;&#x52A0;a&#x3001;b&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5728;mounted&#x4E2D;&#x8C03;&#x7528;&#x3002; &lt;template&gt; &lt;div&gt; &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4FE1;&#x606F;{{id}},&#x540D;&#x79F0;;{{name}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos;, //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F; asyncData() { console.log(&quot;async&#x65B9;&#x6CD5;&quot;) return { name: &apos;it&#x6C83;&apos; } }, data() { return { id: &apos;&apos; } }, methods: { a() { return new Promise(function (resolve, reject) { setTimeout(function () { resolve(1) }, 2000) }) }, b() { return new Promise(function (resolve, reject) { setTimeout(function () { resolve(2) }, 1000) }) } }, mounted() { this.id = this.$route.params.id; this.a().then(res =&gt; { alert(res) console.log(res) }) this.b().then(res =&gt; { alert(res) console.log(res) }) } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x89C2;&#x5BDF;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x6309;&#x7167;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x7684;&#x987A;&#x5E8F;&#x8F93;&#x51FA;&#xFF0C;&#x4F7F;&#x7528;Promise&#x5B9E;&#x73B0;&#x4E86;&#x5F02;&#x6B65;&#x8C03;&#x7528;&#x3002; 2&#x3001;&#x4F7F;&#x7528;async/await&#x5B8C;&#x6210;&#x540C;&#x6B65;&#x8C03;&#x7528; &lt;template&gt; &lt;div&gt; &#x4FEE;&#x6539;&#x7528;&#x6237;&#x4FE1;&#x606F;{{id}},&#x540D;&#x79F0;;{{name}} &lt;/div&gt; &lt;/template&gt; &lt;script&gt; export default { layout: &apos;test&apos;, //&#x6839;&#x636E;id&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F; async asyncData() { console.log(&quot;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x53E3;...&quot;) //alert(0)&#x65E0;&#x6CD5;&#x5728;&#x670D;&#x52A1;&#x7AEF;&#x8FD0;&#x884C;&#x7684; //&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x63A5;&#x53E3;.. //&#x5148;&#x8C03;&#x7528;a&#x65B9;&#x6CD5; var a= await new Promise(function (resolve, reject) { setTimeout(function () { //alert(1) console.log(1) resolve(1) },2000) }) //&#x518D;&#x8C03;&#x7528;b&#x65B9;&#x6CD5; var b = await new Promise(function (resolve, reject) { setTimeout(function () { //alert(2) console.log(2) resolve(2) },1000) }) return { name: &apos;it&#x6C83;&apos; } }, data() { return { id: &apos;&apos; } }, methods: { a() { return new Promise(function (resolve, reject) { setTimeout(function () { resolve(1) }, 2000) }) }, b() { return new Promise(function (resolve, reject) { setTimeout(function () { resolve(2) }, 1000) }) } }, mounted() { this.id = this.$route.params.id; /* this.a().then(res =&gt; { alert(res) console.log(res) }) this.b().then(res =&gt; { alert(res) console.log(res) })*/ } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x641C;&#x7D22;&#x9875;&#x9762;&#x9700;&#x6C42;&#x5206;&#x6790; &#x4E0A;&#x56FE;&#x662F;&#x8BFE;&#x7A0B;&#x641C;&#x7D22;&#x524D;&#x7AEF;&#x7684;&#x754C;&#x9762;&#xFF0C;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x524D;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x53D1;&#x8D77;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#xFF0C;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5305;&#x62EC;&#xFF1A; 1&#x3001;&#x754C;&#x9762;&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BFE;&#x7A0B;&#xFF0C;&#x5E76;&#x5206;&#x9875;&#x663E;&#x793A; 2&#x3001;&#x901A;&#x8FC7;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x548C;&#x4E8C;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#xFF0C;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x540E;&#x5C06;&#x663E;&#x793A;&#x4E0B;&#x5C5E;&#x7684;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; 3&#x3001;&#x901A;&#x8FC7;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; 4&#x3001;&#x901A;&#x8FC7;&#x8BFE;&#x7A0B;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; &#x9875;&#x9762;&#x5E03;&#x5C40;nuxt.js&#x5C06;/layout/default.vue&#x4F5C;&#x4E3A;&#x6240;&#x6709;&#x9875;&#x9762;&#x7684;&#x9ED8;&#x8BA4;&#x5E03;&#x5C40;&#xFF0C;&#x901A;&#x5E38;&#x5E03;&#x5C40;&#x5305;&#x62EC;&#xFF1A;&#x9875;&#x5934;&#x3001;&#x5185;&#x5BB9;&#x533A;&#x3001;&#x9875;&#x5C3E; default.vue&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &lt;template&gt; &lt;div&gt; &lt;Header /&gt; &lt;nuxt/&gt; &lt;Footer /&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import Footer from &apos;../components/Footer.vue&apos; import Header from &apos;../components/Header.vue&apos; export default { components: { Header, Footer } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;Nginx&#x4EE3;&#x7406;&#x914D;&#x7F6E;&#x641C;&#x7D22;&#x9875;&#x9762;&#x4E2D;&#x4EE5;/static&#x5F00;&#x5934;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x901A;&#x8FC7;nginx&#x89E3;&#x6790;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; /static/plugins&#xFF1A;&#x6307;&#x5411;&#x95E8;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;plugins&#x76EE;&#x5F55;&#x3002; /static/css&#xFF1A;&#x6307;&#x5411;&#x95E8;&#x6237;&#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x7684;css&#x76EE;&#x5F55; &#x4FEE;&#x6539;Nginx&#x4E2D;www.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x7684;&#x914D;&#x7F6E;&#xFF1A; #&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x5305;&#x62EC;&#x7CFB;&#x7EDF;&#x6240;&#x9700;&#x8981;&#x7684;&#x56FE;&#x7247;&#xFF0C;js&#x3001;css&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90; location /static/img/ { alias X:/workspace/java/xczx/static/portal/img/; } location /static/css/ { alias X:/workspace/java/xczx/static/portal/css/; } location /static/js/ { alias X:/workspace/java/xczx/static/portal/js/; } location /static/plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } &#x914D;&#x7F6E;&#x641C;&#x7D22;Url&#xFF0C;&#x4E0B;&#x56FE;&#x662F;Nginx&#x641C;&#x7D22;&#x8F6C;&#x53D1;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A; &#x7528;&#x6237;&#x8BF7;&#x6C42;/course/search&#x65F6;Nginx&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;nuxt.js&#x670D;&#x52A1;&#xFF0C;nginx&#x5728;&#x8F6C;&#x53D1;&#x65F6;&#x6839;&#x636E;&#x6BCF;&#x53F0;nuxt&#x670D;&#x52A1;&#x7684;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x8FDB;&#x884C;&#x8F6C;&#x53D1;&#xFF0C;&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3002; &#x672C;&#x6559;&#x7A0B;&#x5F00;&#x53D1;&#x73AF;&#x5883;Nuxt.js&#x670D;&#x52A1;&#x548C;www.xuecheng.com&#x865A;&#x62DF;&#x673A;&#x4E3B;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;nginx&#xFF0C;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; #&#x524D;&#x7AEF;&#x95E8;&#x6237;&#x8BFE;&#x7A0B;&#x641C;&#x7D22; location ^~ /course/search { proxy_pass http://dynamic_portal_server_pool; } #&#x540E;&#x7AEF;&#x641C;&#x7D22;&#x670D;&#x52A1; location /openapi/search/ { proxy_pass http://search_server_pool/search/; } #&#x5206;&#x7C7B;&#x4FE1;&#x606F; location /static/category/ { proxy_pass http://static_server_pool; }dynamic_portal_server_pool&#x914D;&#x7F6E;&#x5982;&#x4E0B; &#xFF1A; #&#x524D;&#x7AEF;&#x52A8;&#x6001;&#x95E8;&#x6237; upstream dynamic_portal_server_pool{ server 127.0.0.1:10000 weight=10; } #&#x540E;&#x53F0;&#x641C;&#x7D22;&#xFF08;&#x516C;&#x5F00;api&#xFF09; upstream search_server_pool{ server 127.0.0.1:40100 weight=10; }&#x5176;&#x5B83;&#x914D;&#x7F6E;&#xFF1A; #&#x5F00;&#x53D1;&#x73AF;&#x5883;webpack&#x5B9A;&#x65F6;&#x52A0;&#x8F7D;&#x6B64;&#x6587;&#x4EF6; location ^~ /__webpack_hmr { proxy_pass http://dynamic_portal_server_pool/__webpack_hmr; } #&#x5F00;&#x53D1;&#x73AF;&#x5883;nuxt&#x8BBF;&#x95EE;_nuxt location ^~ /_nuxt/ { proxy_pass http://dynamic_portal_server_pool/_nuxt/; } &#x5728;&#x9759;&#x6001;&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; #&#x5B66;&#x6210;&#x7F51;&#x9759;&#x6001;&#x8D44;&#x6E90; server { listen 91; server_name localhost; #&#x5206;&#x7C7B;&#x4FE1;&#x606F; location /static/category/ { alias X:/workspace/java/xczx/static/category/; } ...&#x641C;&#x7D22;&#x9875;&#x9762;&#x521B;&#x5EFA;&#x641C;&#x7D22;&#x9875;&#x9762;&#x5982;&#x4E0B;&#xFF1A; &#x9875;&#x9762;&#x6587;&#x4EF6;&#x53C2;&#x8003;&#xFF1A;&#x201C;&#x8D44;&#x6599;&#x201D;&#x2013;&#x300B;&#x201C;search&#x201D;&#x2013;&#x300B;index_1.vue&#xFF0C;&#x91CD;&#x8981;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; nuxt.js&#x652F;&#x6301;&#x5B9A;&#x4E49;header&#xFF0C;&#x672C;&#x9875;&#x9762;&#x6211;&#x4EEC;&#x5728;header&#x4E2D;&#x5F15;&#x5165;css&#x6837;&#x5F0F;&#x5E76;&#x5B9A;&#x4E49;&#x5934;&#x90E8;&#x4FE1;&#x606F;&#x3002; //&#x914D;&#x7F6E;&#x6587;&#x4EF6; let config = require(&apos;~/config/sysConfig&apos;) import querystring from &apos;querystring&apos; import * as courseApi from &apos;~/api/course&apos; export default { head() { return { title: &apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;-&#x4E00;&#x6837;&#x7684;&#x6559;&#x80B2;,&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x54C1;&#x8D28;&apos;, meta: [ {charset: &apos;utf-8&apos;}, {name: &apos;description&apos;, content: &apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x4E13;&#x6CE8;IT&#x57F9;&#x8BAD;,Java&#x57F9;&#x8BAD;,Android&#x57F9;&#x8BAD;,&#x5B89;&#x5353;&#x57F9;&#x8BAD;,PHP&#x57F9;&#x8BAD;,C++&#x57F9;&#x8BAD;,&#x7F51;&#x9875;&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,&#x5E73;&#x9762;&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,UI&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,&#x79FB;&#x52A8;&#x5F00;&#x53D1;&#x57F9;&#x8BAD;,&#x7F51;&#x7EDC;&#x8425;&#x9500;&#x57F9;&#x8BAD;,web&#x524D;&#x7AEF;&#x57F9;&#x8BAD;,&#x4E91;&#x8BA1;&#x7B97;&#x5927;&#x6570;&#x636E;&#x57F9;&#x8BAD;,&#x5168;&#x6808;&#x5DE5;&#x7A0B;&#x5E08;&#x57F9;&#x8BAD;,&#x4EA7;&#x54C1;&#x7ECF;&#x7406;&#x57F9;&#x8BAD;&#x3002;&apos;}, {name: &apos;keywords&apos;, content: this.keywords} ], link: [ {rel: &apos;stylesheet&apos;, href: &apos;/static/plugins/normalize-css/normalize.css&apos;}, {rel: &apos;stylesheet&apos;, href: &apos;/static/plugins/bootstrap/dist/css/bootstrap.css&apos;}, {rel: &apos;stylesheet&apos;, href: &apos;/static/css/page-learing-list.css&apos;} ] } },&#x5176;&#x5B83;&#x6570;&#x636E;&#x6A21;&#x578B;&#x53CA;&#x65B9;&#x6CD5;&#xFF1A; &lt;script&gt; //&#x914D;&#x7F6E;&#x6587;&#x4EF6; let config = require(&apos;~/config/sysConfig&apos;) import querystring from &apos;querystring&apos; import * as courseApi from &apos;~/api/course&apos; export default { head() { return { title: &apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;-&#x4E00;&#x6837;&#x7684;&#x6559;&#x80B2;,&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x54C1;&#x8D28;&apos;, meta: [ {charset: &apos;utf-8&apos;}, {name: &apos;description&apos;, content: &apos;&#x4F20;&#x667A;&#x64AD;&#x5BA2;&#x4E13;&#x6CE8;IT&#x57F9;&#x8BAD;,Java&#x57F9;&#x8BAD;,Android&#x57F9;&#x8BAD;,&#x5B89;&#x5353;&#x57F9;&#x8BAD;,PHP&#x57F9;&#x8BAD;,C++&#x57F9;&#x8BAD;,&#x7F51;&#x9875;&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,&#x5E73;&#x9762;&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,UI&#x8BBE;&#x8BA1;&#x57F9;&#x8BAD;,&#x79FB;&#x52A8;&#x5F00;&#x53D1;&#x57F9;&#x8BAD;,&#x7F51;&#x7EDC;&#x8425;&#x9500;&#x57F9;&#x8BAD;,web&#x524D;&#x7AEF;&#x57F9;&#x8BAD;,&#x4E91;&#x8BA1;&#x7B97;&#x5927;&#x6570;&#x636E;&#x57F9;&#x8BAD;,&#x5168;&#x6808;&#x5DE5;&#x7A0B;&#x5E08;&#x57F9;&#x8BAD;,&#x4EA7;&#x54C1;&#x7ECF;&#x7406;&#x57F9;&#x8BAD;&#x3002;&apos;}, {name: &apos;keywords&apos;, content: this.keywords} ], link: [ {rel: &apos;stylesheet&apos;, href: &apos;/static/plugins/normalize-css/normalize.css&apos;}, {rel: &apos;stylesheet&apos;, href: &apos;/static/plugins/bootstrap/dist/css/bootstrap.css&apos;}, {rel: &apos;stylesheet&apos;, href: &apos;/static/css/page-learing-list.css&apos;} ] } }, async asyncData({ store, route }) {//&#x670D;&#x52A1;&#x7AEF;&#x8C03;&#x7528;&#x65B9;&#x6CD5; //&#x5F53;&#x524D;&#x9875;&#x7801; let page = route.query.page; if(!page){ page = 1; }else{ page = Number.parseInt(page) } //&#x5411;java&#x5FAE;&#x670D;&#x52A1;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; //&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1; let course_data = await courseApi.search_course(page,2,route.query); //&#x67E5;&#x8BE2;&#x5206;&#x7C7B; let category_data = await courseApi.sysres_category() if (course_data &amp;&amp;&#x3000;course_data.queryResult ) { //&#x5168;&#x90E8;&#x5206;&#x7C7B; let category = category_data.category//&#x5206;&#x90E8;&#x5206;&#x7C7B; let first_category = category[0].children//&#x4E00;&#x7EA7;&#x5206;&#x7C7B; let second_category=[]//&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; let keywords = &apos;&apos; let mt=&apos;&apos; let st=&apos;&apos; let grade=&apos;&apos; let keyword=&apos;&apos; let total = course_data.queryResult.total if( route.query.mt){ mt = route.query.mt } if( route.query.st){ st = route.query.st } if( route.query.grade){ grade = route.query.grade } if( route.query.keyword){ keyword = route.query.keyword } //&#x904D;&#x5386;&#x4E00;&#x7EA7;&#x5206;&#x7C7B; for(var i in first_category){ keywords+=first_category[i].name+&apos; &apos; if(mt!=&apos;&apos;&amp;&amp; mt == first_category[i].id){ //&#x53D6;&#x51FA;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; second_category = first_category[i].children; // console.log(second_category) break; } } return { courselist: course_data.queryResult.list,//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category:first_category, second_category:second_category, mt:mt, st:st, grade:grade, keyword:keyword, page:page, total:total, imgUrl:config.imgUrl } }else{ return { courselist: {},//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category:{}, second_category:{}, mt:&apos;&apos;, st:&apos;&apos;, grade:&apos;&apos;, keyword:&apos;&apos;, page:page, total:0, imgUrl:config.imgUrl } } }, data(){ return { courselist: {}, first_category:{}, second_category:{}, mt:&apos;&apos;, st:&apos;&apos;, grade:&apos;&apos;, keyword:&apos;&apos;, imgUrl:config.imgUrl, total:0,//&#x603B;&#x8BB0;&#x5F55;&#x6570; page:1,//&#x9875;&#x7801; page_size:12//&#x6BCF;&#x9875;&#x663E;&#x793A;&#x4E2A;&#x6570; } }, watch:{//&#x8DEF;&#x7531;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7ACB;&#x5373;&#x641C;&#x7D22;search&#x8868;&#x793A;search&#x65B9;&#x6CD5; &apos;$route&apos;:&apos;search&apos; }, methods:{ //&#x5206;&#x9875;&#x89E6;&#x53D1; handleCurrentChange(page) { }, search(){ //&#x5237;&#x65B0;&#x5F53;&#x524D;&#x9875;&#x9762; window.location.reload(); } }, mounted(){ } } &lt;/script&gt;&#x6D4B;&#x8BD5;&#x91CD;&#x542F;Nginx&#xFF0C;&#x8BF7;&#x6C42;&#xFF1A;http://www.xuecheng.com/course/search&#xFF0C;&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x67E5;&#x8BE2;&#x5168;&#x90E8;&#x9700;&#x6C42;&#x5206;&#x6790;&#x521D;&#x6B21;&#x8FDB;&#x5165;&#x9875;&#x9762;&#xFF0C;&#x6CA1;&#x6709;&#x8F93;&#x5165;&#x4EFB;&#x4F55;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;&#x5168;&#x90E8;&#x8BFE;&#x7A0B;&#xFF0C;&#x5206;&#x9875;&#x663E;&#x793A;&#x3002; API&#x65B9;&#x6CD5;&#x5728;api&#x76EE;&#x5F55;&#x521B;&#x5EFA;&#x672C;&#x5DE5;&#x7A0B;&#x6240;&#x7528;&#x7684;api&#x65B9;&#x6CD5;&#x7C7B;&#xFF0C;api&#x65B9;&#x6CD5;&#x7C7B;&#x4F7F;&#x7528;&#x4E86;public.js&#x7B49;&#x4E00;&#x4E9B;&#x62BD;&#x53D6;&#x7C7B;&#xFF1A; /api/public.js&#x2014;&#x2014;&#x2014;&#x2014;-&#x62BD;&#x53D6;axios &#x7684;&#x57FA;&#x7840;&#x65B9;&#x6CD5; /api/util.js&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2013;&#x5DE5;&#x5177;&#x7C7B; /config/sysConfig.js&#x2014;-&#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x7C7B;&#xFF0C;&#x914D;&#x7F6E;&#x4E86;&#x7CFB;&#x7EDF;&#x53C2;&#x6570;&#x53D8;&#x91CF; &#x521B;&#x5EFA;course.js&#xFF0C;&#x4F5C;&#x4E3A;&#x8BFE;&#x7A0B;&#x76F8;&#x5173;&#x4E1A;&#x52A1;&#x6A21;&#x5757;&#x7684;api&#x65B9;&#x6CD5;&#x7C7B;&#x3002; import http from &apos;./public&apos; import qs from &apos;qs&apos; let config = require(&apos;~/config/sysConfig&apos;) let apiURL = config.apiURL let staticURL = config.staticURL if (typeof window === &apos;undefined&apos;) { apiURL = config.backApiURL staticURL = config.backStaticURL } /*&#x641C;&#x7D22;*/ export const search_course = (page,size,params) =&gt; { //let loginRequest = querystring.stringify(params) let querys = qs.stringify(params); return http.requestQuickGet(apiURL+&quot;/search/course/list/&quot;+page+&quot;/&quot;+size+&quot;?&quot;+querys); }&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x672C;&#x9875;&#x9762;&#x5230;&#x8FBE;node.js 2&#x3001;&#x5728;asyncData&#x65B9;&#x6CD5;&#x4E2D;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x8BF7;&#x6C42;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B; 3&#x3001;asyncData&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x5F00;&#x59CB;&#x670D;&#x52A1;&#x7AEF;&#x6E32;&#x67D3; &#x5728;asyncData&#x4E2D;&#x6267;&#x884C;&#x641C;&#x7D22;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; async asyncData({ store, route }) {//&#x670D;&#x52A1;&#x7AEF;&#x8C03;&#x7528;&#x65B9;&#x6CD5; //&#x5F53;&#x524D;&#x9875;&#x7801; let page = route.query.page; if(!page){ page = 1; }else{ page = Number.parseInt(page) } //&#x5411;java&#x5FAE;&#x670D;&#x52A1;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; //&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1; let course_data = await courseApi.search_course(page,2,route.query); //&#x67E5;&#x8BE2;&#x5206;&#x7C7B; let category_data = await courseApi.sysres_category() if (course_data &amp;&amp;&#x3000;course_data.queryResult ) { //&#x5168;&#x90E8;&#x5206;&#x7C7B; let category = category_data.category//&#x5206;&#x90E8;&#x5206;&#x7C7B; let first_category = category[0].children//&#x4E00;&#x7EA7;&#x5206;&#x7C7B; let second_category=[]//&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; let keywords = &apos;&apos; let mt=&apos;&apos; let st=&apos;&apos; let grade=&apos;&apos; let keyword=&apos;&apos; let total = course_data.queryResult.total if( route.query.mt){ mt = route.query.mt } if( route.query.st){ st = route.query.st } if( route.query.grade){ grade = route.query.grade } if( route.query.keyword){ keyword = route.query.keyword } //&#x904D;&#x5386;&#x4E00;&#x7EA7;&#x5206;&#x7C7B; for(var i in first_category){ keywords+=first_category[i].name+&apos; &apos; if(mt!=&apos;&apos;&amp;&amp; mt == first_category[i].id){ //&#x53D6;&#x51FA;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; second_category = first_category[i].children; // console.log(second_category) break; } } return { courselist: course_data.queryResult.list,//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category:first_category, second_category:second_category, mt:mt, st:st, grade:grade, keyword:keyword, page:page, total:total, imgUrl:config.imgUrl } }else{ return { courselist: {},//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category:{}, second_category:{}, mt:&apos;&apos;, st:&apos;&apos;, grade:&apos;&apos;, keyword:&apos;&apos;, page:page, total:0, imgUrl:config.imgUrl } } },&#x9875;&#x9762;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x8BFE;&#x7A0B;&#x5217;&#x8868;&#x3002; &lt;div class=&quot;content-list&quot;&gt; &lt;div class=&quot;recom-item&quot; v-for=&quot;(course, index) in courselist&quot;&gt; &lt;a :href=&quot;&apos;/course/detail/&apos;+course.id+&apos;.html&apos;&quot; target=&quot;_blank&quot;&gt; &lt;!--&lt;a href=&quot;/course/detail/test.html&quot; target=&quot;_blank&quot;&gt;--&gt; &lt;div v-if=&quot;course.pic&quot;&gt; &lt;p&gt;&lt;img :src=&quot;imgUrl+&apos;/&apos;+course.pic&quot; width=&quot;100%&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;/div&gt; &lt;div v-else&gt; &lt;p&gt;&lt;img src=&quot;/img/widget-demo1.png&quot; width=&quot;100%&quot; alt=&quot;&quot;&gt;&lt;/p&gt; &lt;/div&gt; &lt;ul &gt; &lt;li class=&quot;course_title&quot;&gt;&lt;span v-html=&quot;course.name&quot;&gt;&lt;/span&gt;&lt;/li&gt; &lt;li style=&quot;float: left&quot;&gt;&lt;span v-if=&quot;course.charge == &apos;203001&apos;&quot;&gt;&#x514D;&#x8D39;&lt;/span&gt;&lt;span v-if=&quot;course.charge == &apos;203002&apos;&quot;&gt;&#xFFE5;{{course.price | money}}&lt;/span&gt; &lt;!-- &lt;em&gt; &#xB7; &lt;/em&gt;--&gt;&amp;nbsp;&amp;nbsp;&lt;!--&lt;em&gt;1125&#x4EBA;&#x5728;&#x5B66;&#x4E60;&lt;/em&gt;--&gt;&lt;/li&gt; &lt;/ul&gt; &lt;!--&lt;/a&gt;--&gt; &lt;/a&gt; &lt;/div&gt; &lt;li class=&quot;clearfix&quot;&gt;&lt;/li&gt; &lt;/div&gt;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x7AEF; //&#x8BBE;&#x7F6E;boolQueryBuilder&#x5230;searchSourceBuilder searchSourceBuilder.query(boolQueryBuilder); //&#x8BBE;&#x7F6E;&#x5206;&#x9875;&#x53C2;&#x6570; if(page&lt;=0){ page = 1; } if(size&lt;=0){ size = 12; } //&#x8D77;&#x59CB;&#x8BB0;&#x5F55;&#x4E0B;&#x6807; int from = (page-1)*size; searchSourceBuilder.from(from); searchSourceBuilder.size(size);&#x524D;&#x7AEF;&#x5C06;&#x6BCF;&#x9875;&#x663E;&#x793A;&#x4E2A;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;2 data(){ return { courselist: {}, first_category:{}, second_category:{}, mt:&apos;&apos;, st:&apos;&apos;, grade:&apos;&apos;, keyword:&apos;&apos;, imgUrl:config.imgUrl, total:0,//&#x603B;&#x8BB0;&#x5F55;&#x6570; page:1,//&#x9875;&#x7801; page_size:2//&#x6BCF;&#x9875;&#x663E;&#x793A;&#x4E2A;&#x6570; } }, //&#x5411;java&#x5FAE;&#x670D;&#x52A1;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; //&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1; let course_data = await courseApi.search_course(page,2,route.query);&#x4F7F;&#x7528;Element-UI&#x7684;el-pagination&#x5206;&#x9875;&#x63D2;&#x4EF6;&#xFF1A; &lt;div style=&quot;text-align: center&quot;&gt; &lt;el-pagination background layout=&quot;prev, pager, next&quot; @current-change=&quot;handleCurrentChange&quot; :total=&quot;total&quot; :page-size=&quot;page_size&quot; prev-text=&quot;&#x4E0A;&#x4E00;&#x9875;&quot; next-text=&quot;&#x4E0B;&#x4E00;&#x9875;&quot;&gt; &lt;/el-pagination&gt; &lt;/div&gt;&#x5B9A;&#x4E49;&#x5206;&#x9875;&#x89E6;&#x53D1;&#x65B9;&#x6CD5;&#xFF1A; methods: { //&#x5206;&#x9875;&#x89E6;&#x53D1; handleCurrentChange(page) { this.page = page this.$route.query.page = page let querys = querystring.stringify(this.$route.query) window.location = &apos;/course/search?&apos; + querys; }, search() { //&#x5237;&#x65B0;&#x5F53;&#x524D;&#x9875;&#x9762; window.location.reload(); } },&#x6B64;&#x65F6;&#x5F53;&#x524D;&#x9875;&#x7801;&#x4E0D;&#x4F1A;&#x88AB;&#x9009;&#x4E2D;,&#x4FEE;&#x6539;el-pagination &lt;el-pagination background layout=&quot;prev, pager, next&quot; @current-change=&quot;handleCurrentChange&quot; :total=&quot;total&quot; :page-size=&quot;page_size&quot; :current-page=&quot;page&quot; prev-text=&quot;&#x4E0A;&#x4E00;&#x9875;&quot; next-text=&quot;&#x4E0B;&#x4E00;&#x9875;&quot;&gt; &lt;/el-pagination&gt;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x9700;&#x6C42;&#x5206;&#x6790;1&#x3001;&#x901A;&#x8FC7;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x641C;&#x7D22; 2&#x3001;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x540E;&#x5C06;&#x663E;&#x793A;&#x4E0B;&#x5C5E;&#x7684;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; 3&#x3001;&#x9009;&#x62E9;&#x4E8C;&#x5206;&#x7C7B;&#x8FDB;&#x884C;&#x641C;&#x7D22; 4&#x3001;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x7684;&#x5168;&#x90E8;&#x5219;&#x8868;&#x793A;&#x6CA1;&#x6709;&#x6309;&#x7167;&#x5206;&#x7C7B;&#x641C;&#x7D22; 5&#x3001;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x7684;&#x5168;&#x90E8;&#x65F6;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B;&#x4E0D;&#x663E;&#x793A; API&#x8BFE;&#x7A0B;&#x5206;&#x7C7B;&#x5C06;&#x901A;&#x8FC7;&#x9875;&#x9762;&#x9759;&#x6001;&#x5316;&#x7684;&#x65B9;&#x5F0F;&#x5199;&#x5165;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;/category/category.json&#x53EF;&#x8BBF;&#x95EE;&#xFF0C;&#x901A;&#x8FC7;www.xuecheng.com/static/category/category.json&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x3002; category.json&#x7684;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B9A;&#x4E49;api&#x65B9;&#x6CD5;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;&#x5206;&#x7C7B; &#x5728;/api/course.js&#x4E2D;&#x6DFB;&#x52A0;&#xFF1A; /*&#x83B7;&#x53D6;&#x5206;&#x7C7B;*/ export const sysres_category = () =&gt; { return http.requestQuickGet(staticURL+&quot;/category/category.json&quot;); }&#x67E5;&#x8BE2;&#x5206;&#x7C7B;&#x8FDB;&#x5165;&#x641C;&#x7D22;&#x9875;&#x9762;&#x5C06;&#x9ED8;&#x8BA4;&#x663E;&#x793A;&#x6240;&#x6709;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#xFF0C;&#x5F53;&#x524D;&#x5982;&#x679C;&#x5DF2;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x5219;&#x8981;&#x663E;&#x793A;&#x6240;&#x6709;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x53CA;&#x8BE5;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x4E0B;&#x5C5E;&#x7684;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B;&#x3002; &#x5728;asyncData&#x65B9;&#x6CD5;&#x4E2D;&#x5B9E;&#x73B0;&#x4E0A;&#x8FB9;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; async asyncData({store, route}) {//&#x670D;&#x52A1;&#x7AEF;&#x8C03;&#x7528;&#x65B9;&#x6CD5; //&#x641C;&#x7D22;&#x8BFE;&#x7A0B; let page = route.query.page; if (!page) { page = 1; } else { page = Number.parseInt(page) } //&#x5411;java&#x5FAE;&#x670D;&#x52A1;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x8BFE;&#x7A0B; //&#x8BF7;&#x6C42;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x641C;&#x7D22;&#x670D;&#x52A1; let course_data = await courseApi.search_course(page, 2, route.query); //&#x67E5;&#x8BE2;&#x5206;&#x7C7B; let category_data = await courseApi.sysres_category() if (course_data &amp;&amp; course_data.queryResult) { //&#x5168;&#x90E8;&#x5206;&#x7C7B; let category = category_data.category//&#x5206;&#x90E8;&#x5206;&#x7C7B; let first_category = category[0].children//&#x4E00;&#x7EA7;&#x5206;&#x7C7B; let second_category = []//&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; let keywords = &apos;&apos; let mt = &apos;&apos; let st = &apos;&apos; let grade = &apos;&apos; let keyword = &apos;&apos; let total = course_data.queryResult.total if (route.query.mt) { mt = route.query.mt } if (route.query.st) { st = route.query.st } if (route.query.grade) { grade = route.query.grade } if (route.query.keyword) { keyword = route.query.keyword } //&#x904D;&#x5386;&#x4E00;&#x7EA7;&#x5206;&#x7C7B; for (var i in first_category) { keywords += first_category[i].name + &apos; &apos; if (mt != &apos;&apos; &amp;&amp; mt == first_category[i].id) { //&#x53D6;&#x51FA;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B; second_category = first_category[i].children; // console.log(second_category) break; } } return { courselist: course_data.queryResult.list,//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category: first_category, second_category: second_category, mt: mt, st: st, grade: grade, keyword: keyword, page: page, total: total, imgUrl: config.imgUrl } } else { return { courselist: {},//&#x8BFE;&#x7A0B;&#x5217;&#x8868; first_category: {}, second_category: {}, mt: &apos;&apos;, st: &apos;&apos;, grade: &apos;&apos;, keyword: &apos;&apos;, page: page, total: 0, imgUrl: config.imgUrl } } },&#x9875;&#x9762;&#x5728;&#x9875;&#x9762;&#x663E;&#x793A;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x53CA;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B;&#xFF0C;&#x9700;&#x8981;&#x6839;&#x636E;&#x5F53;&#x524D;&#x662F;&#x5426;&#x9009;&#x62E9;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#x3001;&#x662F;&#x5426;&#x9009;&#x62E9;&#x4E8C;&#x5206;&#x7C7B;&#x663E;&#x793A;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x3002; &lt;ul&gt; &lt;li&gt;&#x4E00;&#x7EA7;&#x5206;&#x7C7B;&#xFF1A;&lt;/li&gt; &lt;li v-if=&quot;mt!=&apos;&apos;&quot;&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;grade=&apos;+grade&quot;&gt;&#x5168;&#x90E8;&lt;/nuxt-link&gt; &lt;/li&gt; &lt;li class=&quot;all&quot; v-else&gt;&#x5168;&#x90E8;&lt;/li&gt; &lt;ol&gt; &lt;li v-for=&quot;category_v in first_category&quot;&gt; &lt;nuxt-link class=&quot;title-link all&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + category_v.id&quot; v-if=&quot;category_v.id == mt&quot;&gt;{{category_v.name}} &lt;/nuxt-link&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + category_v.id&quot; v-else&gt; {{category_v.name}} &lt;/nuxt-link&gt; &lt;/li&gt; &lt;/ol&gt; &lt;!--&lt;ol&gt; &lt;li&gt;&#x6570;&#x636E;&#x5206;&#x6790;&lt;/li&gt; &lt;li&gt;&#x673A;&#x5668;&#x5B66;&#x4E60;&#x5DE5;&#x7A0B;&lt;/li&gt; &lt;li&gt;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&lt;/li&gt; &lt;/ol&gt;--&gt; &lt;/ul&gt;&#x7ACB;&#x5373;&#x641C;&#x7D22;&#x5F53;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x65F6;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x641C;&#x7D22;&#xFF0C;&#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x5982;&#x4E0B;&#xFF1A; 1&#xFF09;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x7ACB;&#x5373;&#x66F4;&#x6539;&#x8DEF;&#x7531;&#x3002; 2&#xFF09;&#x901A;&#x8FC7;&#x76D1;&#x542C;&#x8DEF;&#x7531;&#xFF0C;&#x8DEF;&#x7531;&#x66F4;&#x6539;&#x5219;&#x5237;&#x65B0;&#x9875;&#x9762;&#x3002; 1&#xFF09;&#x521B;&#x5EFA;&#x641C;&#x7D22;&#x65B9;&#x6CD5; search(){ //&#x5237;&#x65B0;&#x5F53;&#x524D;&#x9875;&#x9762; window.location.reload(); }2&#xFF09;&#x5B9A;&#x4E49;watch &#x901A;&#x8FC7;vue.js&#x7684;watch&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x76D1;&#x89C6;&#x67D0;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x5F53;&#x53D8;&#x91CF;&#x503C;&#x51FA;&#x73B0;&#x53D8;&#x5316;&#x65F6;&#x6267;&#x884C;&#x67D0;&#x4E2A;&#x65B9;&#x6CD5;&#x3002; &#x5B9E;&#x73B0;&#x601D;&#x8DEF;&#x662F;&#xFF1A; 1&#x3001;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x9875;&#x9762;&#x8DEF;&#x7531;&#x66F4;&#x6539; 2&#x3001;&#x901A;&#x8FC7;watch&#x76D1;&#x89C6;&#x8DEF;&#x7531;&#xFF0C;&#x8DEF;&#x7531;&#x66F4;&#x6539;&#x89E6;&#x53D1;search&#x65B9;&#x6CD5; &#x4E0E;methods&#x5E76;&#x884C;&#x5B9A;&#x4E49;watch&#xFF1A; watch:{//&#x8DEF;&#x7531;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x7ACB;&#x5373;&#x641C;&#x7D22;search&#x8868;&#x793A;search&#x65B9;&#x6CD5; &apos;$route&apos;:&apos;search&apos; },&#x6309;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x9700;&#x6C42;&#x5206;&#x6790;&#x7528;&#x6237;&#x9009;&#x62E9;&#x4E0D;&#x540C;&#x7684;&#x8BFE;&#x7A0B;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x53BB;&#x641C;&#x7D22;&#x8BFE;&#x7A0B;&#x3002; API&#x4F7F;&#x7528; search_course&#x65B9;&#x6CD5;&#x5B8C;&#x6210;&#x641C;&#x7D22;&#x3002; &#x9875;&#x9762;&#x6309;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x601D;&#x8DEF;&#x5982;&#x4E0B;&#xFF1A; 1&#xFF09;&#x70B9;&#x51FB;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x7ACB;&#x5373;&#x66F4;&#x6539;&#x8DEF;&#x7531;&#x3002; 2&#xFF09;&#x901A;&#x8FC7;&#x76D1;&#x542C;&#x8DEF;&#x7531;&#xFF0C;&#x8DEF;&#x7531;&#x66F4;&#x6539;&#x5219;&#x7ACB;&#x5373;&#x6267;&#x884C;search&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x3002; &#x6309;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#x641C;&#x7D22;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;ul&gt; &lt;li&gt;&#x96BE;&#x5EA6;&#x7B49;&#x7EA7;&#xFF1A;&lt;/li&gt; &lt;li v-if=&quot;grade!=&apos;&apos;&quot;&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + mt+&apos;&amp;st=&apos;+st+&apos;&amp;grade=&apos;&quot;&gt;&#x5168;&#x90E8; &lt;/nuxt-link&gt; &lt;/li&gt; &lt;li class=&quot;all&quot; v-else&gt;&#x5168;&#x90E8;&lt;/li&gt; &lt;ol&gt; &lt;li v-if=&quot;grade==&apos;200001&apos;&quot; class=&quot;all&quot;&gt;&#x521D;&#x7EA7;&lt;/li&gt; &lt;li v-else&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + mt+&apos;&amp;st=&apos;+st+&apos;&amp;grade=200001&apos;&quot;&gt;&#x521D;&#x7EA7; &lt;/nuxt-link&gt; &lt;/li&gt; &lt;li v-if=&quot;grade==&apos;200002&apos;&quot; class=&quot;all&quot;&gt;&#x4E2D;&#x7EA7;&lt;/li&gt; &lt;li v-else&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + mt+&apos;&amp;st=&apos;+st+&apos;&amp;grade=200002&apos;&quot;&gt;&#x4E2D;&#x7EA7; &lt;/nuxt-link&gt; &lt;/li&gt; &lt;li v-if=&quot;grade==&apos;200003&apos;&quot; class=&quot;all&quot;&gt;&#x9AD8;&#x7EA7;&lt;/li&gt; &lt;li v-else&gt; &lt;nuxt-link class=&quot;title-link&quot; :to=&quot;&apos;/course/search?keyword=&apos;+keyword+&apos;&amp;mt=&apos; + mt+&apos;&amp;st=&apos;+st+&apos;&amp;grade=200003&apos;&quot;&gt;&#x9AD8;&#x7EA7; &lt;/nuxt-link&gt; &lt;/li&gt; &lt;/ol&gt; &lt;/ul&gt;&#x9AD8;&#x4EAE;&#x663E;&#x793A;&#x670D;&#x52A1;&#x7AEF;&#x4EE3;&#x7801;&#x4FEE;&#x6539;service&#x7684;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#xFF0C;&#x6DFB;&#x52A0;&#x9AD8;&#x4EAE;&#x8BBE;&#x7F6E;&#xFF1A; //&#x8BBE;&#x7F6E;&#x9AD8;&#x4EAE; HighlightBuilder highlightBuilder = new HighlightBuilder(); highlightBuilder.preTags(&quot;&lt;font class=&apos;eslight&apos;&gt;&quot;); highlightBuilder.postTags(&quot;&lt;/font&gt;&quot;); //&#x8BBE;&#x7F6E;&#x9AD8;&#x4EAE;&#x5B57;&#x6BB5; highlightBuilder.fields().add(new HighlightBuilder.Field(&quot;name&quot;)); searchSourceBuilder.highlighter(highlightBuilder); //&#x53D6;&#x51FA;&#x9AD8;&#x4EAE;&#x5B57;&#x6BB5;name Map&lt;String, HighlightField&gt; highlightFields = hit.getHighlightFields(); if(highlightFields!=null){ HighlightField highlightFieldName = highlightFields.get(&quot;name&quot;); if(highlightFieldName!=null){ Text[] fragments = highlightFieldName.fragments(); StringBuffer stringBuffer = new StringBuffer(); for(Text text:fragments){ stringBuffer.append(text); } name = stringBuffer.toString(); } }&#x4FEE;&#x590D;&#x70B9;&#x51FB;&#x4E3A;null.html //&#x53D6;&#x51FA;id String id = (String)sourceAsMap.get(&quot;id&quot;); coursePub.setId(id);&#x6D4B;&#x8BD5;&#x6B64;&#x65F6;&#x5173;&#x952E;&#x5B57;&#x4F1A;&#x88AB;&#x52A0;&#x4E0A;&#x4E00;&#x4E2A;&#x6837;&#x5F0F; &quot;name&quot;: &quot;&lt;font class=&apos;eslight&apos;&gt;java&lt;/font&gt;&#x57FA;&#x7840;3&quot;,&#x524D;&#x7AEF;&#x5728;search/index.vue&#x4E2D;&#x5B9A;&#x4E49;eslight&#x6837;&#x5F0F;&#xFF1A; &lt;style&gt; .eslight{ color: red; }&#x96C6;&#x6210;&#x6D4B;&#x8BD5;1&#x3001;&#x542F;&#x52A8;MySQL&#x3001;MongoDB 2&#x3001;&#x542F;&#x52A8;ElasticSearch&#x3001;RabbitMQ 3&#x3001;&#x542F;&#x52A8;Eureka Server 4&#x3001;&#x542F;&#x52A8;CMS&#x3001;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x3001;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x3002; 5&#x3001;&#x542F;&#x52A8;Nginx&#x3001;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x3001;&#x6559;&#x5B66;&#x7BA1;&#x7406;&#x524D;&#x7AEF;&#x3001;Nuxt.js&#x3002; 1.&#x5220;&#x9664;&#x6839;&#x636E;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x6A21;&#x677F;&#x9875;&#x751F;&#x6210;&#x7684;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875; 2.&#x5C06;&#x6570;&#x636E;&#x5E93;&#x7684;&#x53D1;&#x5E03;&#x72B6;&#x6001;&#x7531;202002&#x6539;&#x4E3A;202001 3.&#x66F4;&#x6539;course_base BootStrap&#x5F00;&#x53D1;&#x8BFE;&#x7A0B;&#x7684;&#x63CF;&#x8FF0;&#x548C;&#x540D;&#x79F0; 4.&#x542F;&#x52A8;&#x540E;&#x53F0;&#x53D1;&#x5E03;&#x6700;&#x65B0;&#x7684;BootStrap&#x8BFE;&#x7A0B;&#x5E76;&#x9884;&#x89C8; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-13-m3u8.html</url>
    <content type="text"><![CDATA[&#x5728;&#x7EBF;&#x5B66;&#x4E60; HLS&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x9700;&#x6C42;&#x5206;&#x6790;&#x9700;&#x6C42;&#x200B; &#x5B66;&#x6210;&#x5728;&#x7EBF;&#x4F5C;&#x4E3A;&#x5728;&#x7EBF;&#x6559;&#x80B2;&#x7F51;&#x7AD9;&#xFF0C;&#x63D0;&#x4F9B;&#x591A;&#x79CD;&#x5B66;&#x4E60;&#x5F62;&#x5F0F;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;&#x5F55;&#x64AD;&#x3001;&#x76F4;&#x64AD;&#x3001;&#x56FE;&#x6587;&#x3001;&#x793E;&#x7FA4;&#x7B49;&#xFF0C;&#x5B66;&#x751F;&#x767B;&#x5F55;&#x8FDB;&#x5165;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x5373;&#x53EF;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#xFF0C;&#x672C;&#x7AE0;&#x8282;&#x5C06;&#x5F00;&#x53D1;&#x5F55;&#x64AD;&#x8BFE;&#x7A0B;&#x7684;&#x5728;&#x7EBF;&#x5B66;&#x4E60;&#x529F;&#x80FD;&#xFF0C;&#x9700;&#x6C42;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x5B66;&#x751F;&#x53EF;&#x4EE5;&#x5728;windows&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#x5728;&#x7EBF;&#x89C2;&#x770B;&#x89C6;&#x9891;&#x3002; 2&#x3001;&#x64AD;&#x653E;&#x5668;&#x5177;&#x6709;&#x5FEB;&#x8FDB;&#x3001;&#x5FEB;&#x9000;&#x3001;&#x6682;&#x505C;&#x7B49;&#x57FA;&#x672C;&#x529F;&#x80FD;&#x3002; 3&#x3001;&#x5B66;&#x751F;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5207;&#x6362;&#x7AE0;&#x8282;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x5F55;&#x64AD;&#x8BFE;&#x7A0B;&#xFF1F; &#x5F55;&#x64AD;&#x8BFE;&#x7A0B;&#x5C31;&#x662F;&#x63D0;&#x4F9B;&#x5F55;&#x5236;&#x597D;&#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#xFF0C;&#x4F9B;&#x7528;&#x6237;&#x5728;&#x7EBF;&#x70B9;&#x64AD;&#xFF0C;&#x53CD;&#x590D;&#x5B66;&#x4E60;&#x3002; &#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#x5982;&#x4F55;&#x7BA1;&#x7406;&#xFF1F; &#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E13;&#x95E8;&#x6765;&#x7BA1;&#x7406;&#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#xFF0C;&#x7528;&#x6237;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5230;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#xFF0C;&#x5E76;&#x5BF9;&#x89C6;&#x9891;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x5904;&#x7406;&#x3002; &#x89E3;&#x51B3;&#x65B9;&#x6848;&#x6D41;&#x5A92;&#x4F53; &#x8BE6;&#x7EC6;&#x53C2;&#x8003;&#xFF1A;https://baike.baidu.com/item/%E6%B5%81%E5%AA%92%E4%BD%93/98740?fr=aladdin &#x6982;&#x62EC;&#x7406;&#x89E3;&#xFF1A;&#x6D41;&#x5A92;&#x4F53;&#x5C31;&#x662F;&#x5C06;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x5206;&#x6210;&#x8BB8;&#x591A;&#x5C0F;&#x5757;&#x513F;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x5C0F;&#x5757;&#x513F;&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x5305;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x53D1;&#x9001;&#x51FA;&#x53BB;&#xFF0C;&#x5B9E;&#x73B0;&#x4E00;&#x8FB9;&#x4F20;&#x8F93;&#x89C6;&#x9891; &#x6570;&#x636E; &#x5305;&#x4E00;&#x8FB9;&#x89C2;&#x770B;&#x89C6;&#x9891;&#x3002; &#x6D41;&#x5F0F;&#x4F20;&#x8F93; &#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x4F20;&#x8F93;&#x97F3;&#x3001;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#x6709;&#x4E24;&#x4E2A;&#x65B9;&#x5F0F;&#xFF1A;&#x4E0B;&#x8F7D;&#x548C;&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#x3002; &#x4E0B;&#x8F7D;&#xFF1A;&#x5C31;&#x662F;&#x628A;&#x97F3;&#x3001;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x5B8C;&#x5168;&#x4E0B;&#x8F7D;&#x5230;&#x672C;&#x673A;&#x540E;&#x5F00;&#x59CB;&#x64AD;&#x653E;&#xFF0C;&#x5B83;&#x7684;&#x7279;&#x70B9;&#x662F;&#x5FC5;&#x987B;&#x7B49;&#x5230;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x65B9;&#x53EF;&#x64AD;&#x653E;&#xFF0C;&#x64AD;&#x653E;&#x7B49;&#x5F85;&#x65F6;&#x95F4;&#x8F83;&#x957F;&#xFF0C;&#x65E0;&#x6CD5;&#x53BB;&#x64AD;&#x653E;&#x8FD8;&#x672A;&#x4E0B;&#x8F7D;&#x7684;&#x90E8;&#x5206;&#x89C6;&#x9891;&#x3002; &#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#xFF1A;&#x5C31;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x901A;&#x8FC7;&#x94FE;&#x63A5;&#x89C6;&#x9891;&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x65F6;&#x4F20;&#x8F93;&#x97F3;&#x3001;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#xFF0C;&#x5B9E;&#x73B0;&#x201C;&#x8FB9;&#x4E0B;&#x8F7D;&#x8FB9;&#x64AD;&#x653E;&#x201D;&#x3002; &#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#x5305;&#x62EC;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A; 1&#xFF09; &#x987A;&#x5E8F;&#x6D41;&#x5F0F;&#x4F20;&#x8F93; &#x5373;&#x987A;&#x5E8F;&#x4E0B;&#x8F7D;&#x97F3;&#x3001;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x8FB9;&#x4E0B;&#x8F7D;&#x8FB9;&#x64AD;&#x653E;&#xFF0C;&#x4E0D;&#x8FC7;&#xFF0C;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x89C2;&#x770B;&#x5DF2;&#x4E0B;&#x8F7D;&#x7684;&#x89C6;&#x9891;&#x5185;&#x5BB9;&#xFF0C;&#x65E0;&#x6CD5;&#x5FEB;&#x8FDB;&#x5230;&#x672A;&#x4E0B;&#x8F7D;&#x7684;&#x89C6;&#x9891;&#x90E8;&#x5206;&#xFF0C;&#x987A;&#x5E8F;&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Http&#x670D;&#x52A1;&#x5668;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x6BD4;&#x5982;Nginx&#x3001;Apache&#x7B49;&#x3002; 2&#xFF09;&#x5B9E;&#x65F6;&#x6D41;&#x5F0F;&#x4F20;&#x8F93; &#x5B9E;&#x65F6;&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#x53EF;&#x4EE5;&#x89E3;&#x51B3;&#x987A;&#x5E8F;&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#x65E0;&#x6CD5;&#x5FEB;&#x8FDB;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5B83;&#x4E0E;Http&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#x4E0D;&#x540C;&#xFF0C;&#x5B83;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x6D41;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x5E76;&#x4E14;&#x4F7F;&#x7528;&#x6D41;&#x5A92;&#x4F53;&#x534F;&#x8BAE;&#x6765;&#x4F20;&#x8F93;&#x89C6;&#x9891;&#xFF0C;&#x5B83;&#x6BD4;Http&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#x590D;&#x6742;&#x3002;&#x5E38;&#x89C1;&#x7684;&#x5B9E;&#x65F6;&#x6D41;&#x5F0F;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#x6709;RTSP&#x3001;RTMP&#x3001;RSVP&#x7B49;&#x3002; &#x6D41;&#x5A92;&#x4F53;&#x7CFB;&#x7EDF;&#x7684;&#x6982;&#x8981;&#x7ED3;&#x6784; &#x901A;&#x8FC7;&#x6D41;&#x5A92;&#x4F53;&#x7CFB;&#x7EDF;&#x7684;&#x6982;&#x8981;&#x7ED3;&#x6784;&#x5B66;&#x4E60;&#x6D41;&#x5A92;&#x4F53;&#x7CFB;&#x7EDF;&#x7684;&#x57FA;&#x672C;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x3002; 1&#x3001;&#x5C06;&#x539F;&#x59CB;&#x7684;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x901A;&#x8FC7;&#x7F16;&#x7801;&#x5668;&#x8F6C;&#x6362;&#x4E3A;&#x9002;&#x5408;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x7684;&#x6D41;&#x683C;&#x5F0F;&#xFF0C;&#x7F16;&#x7801;&#x540E;&#x7684;&#x89C6;&#x9891;&#x76F4;&#x63A5;&#x8F93;&#x9001;&#x7ED9;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x3002; &#x200B; &#x539F;&#x59CB;&#x7684;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x901A;&#x5E38;&#x662F;&#x4E8B;&#x5148;&#x5F55;&#x5236;&#x597D;&#x7684;&#x89C6;&#x9891;&#xFF0C;&#x6BD4;&#x5982;&#x901A;&#x8FC7;&#x6444;&#x50CF;&#x673A;&#x3001;&#x6444;&#x50CF;&#x5934;&#x7B49;&#x5F55;&#x50CF;&#x3001;&#x5F55;&#x97F3;&#x8BBE;&#x5907;&#x91C7;&#x96C6;&#x5230;&#x7684;&#x97F3;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#xFF0C;&#x4F53;&#x79EF;&#x8F83;&#x5927;&#xFF0C;&#x8981;&#x60F3;&#x5728;&#x7F51;&#x7EDC;&#x4E0A;&#x4F20;&#x8F93;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x538B;&#x7F29;&#x5904;&#x7406;&#xFF0C;&#x5373;&#x901A;&#x8FC7;&#x7F16;&#x7801;&#x5668;&#x8FDB;&#x884C;&#x7F16;&#x7801; &#x3002; 2&#x3001;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x5230;&#x7F16;&#x7801;&#x597D;&#x7684;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#xFF0C;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x6D41;&#x5A92;&#x4F53;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x63A5;&#x53E3;&#xFF0C;&#x63A5;&#x53E3;&#x534F;&#x8BAE;&#x5305;&#x62EC; &#xFF1A;HTTP&#x3001;RTSP&#x3001;RTMP&#x7B49; &#x3002; 3&#x3001;&#x64AD;&#x653E;&#x5668;&#x901A;&#x8FC7;&#x6D41;&#x5A92;&#x4F53;&#x534F;&#x8BAE;&#x4E0E;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x901A;&#x4FE1;&#xFF0C;&#x83B7;&#x53D6;&#x89C6;&#x9891;&#x6570;&#x636E;&#xFF0C;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x3002; &#x70B9;&#x64AD;&#x65B9;&#x6848;&#x672C;&#x9879;&#x76EE;&#x5305;&#x62EC;&#x70B9;&#x64AD;&#x548C;&#x76F4;&#x64AD;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x5148;&#x8C03;&#x7814;&#x70B9;&#x64AD;&#x7684;&#x65B9;&#x6848;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001; &#x64AD;&#x653E;&#x5668;&#x901A;&#x8FC7; http&#x534F;&#x8BAE;&#x4ECE;http&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x4E0B;&#x8F7D;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x64AD;&#x653E; &#x95EE;&#x9898;&#xFF1A;&#x5FC5;&#x987B;&#x7B49;&#x5230;&#x89C6;&#x9891;&#x4E0B;&#x8F7D;&#x5B8C;&#x624D;&#x53EF;&#x4EE5;&#x64AD;&#x653E;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x5FEB;&#x8FDB;&#x5230;&#x67D0;&#x4E2A;&#x65F6;&#x95F4;&#x70B9;&#x8FDB;&#x884C;&#x64AD;&#x653E; 2&#x3001; &#x64AD;&#x653E;&#x5668;&#x901A;&#x8FC7;rtmp&#x534F;&#x8BAE;&#x8FDE;&#x63A5;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x4EE5;&#x5B9E;&#x65F6;&#x6D41;&#x65B9;&#x5F0F;&#x64AD;&#x653E;&#x89C6;&#x9891; &#x4F7F;&#x7528;rtmp&#x534F;&#x8BAE;&#x9700;&#x8981;&#x67B6;&#x8BBE;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x9020;&#x4EF7;&#x9AD8;&#xFF0C;&#x5BF9;&#x4E8E;&#x76F4;&#x64AD;&#x591A;&#x91C7;&#x7528;&#x6B64;&#x65B9;&#x6848;&#x3002; 3&#x3001; &#x64AD;&#x653E;&#x5668;&#x4F7F;&#x7528;HLS&#x534F;&#x8BAE;&#x8FDE;&#x63A5;http&#x670D;&#x52A1;&#x5668;&#xFF08;Nginx&#x3001;Apache&#x7B49;&#xFF09;&#x5B9E;&#x73B0;&#x8FD1;&#x5B9E;&#x65F6;&#x6D41;&#x65B9;&#x5F0F;&#x64AD;&#x653E;&#x89C6;&#x9891; HLS&#x534F;&#x8BAE;&#x89C4;&#x5B9A;&#xFF1A;&#x57FA;&#x4E8E;Http&#x534F;&#x8BAE;&#xFF0C;&#x89C6;&#x9891;&#x5C01;&#x88C5;&#x683C;&#x5F0F;&#x4E3A;ts&#xFF0C;&#x89C6;&#x9891;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x4E3A;H264,&#x97F3;&#x9891;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x4E3A;MP3&#x3001;AAC&#x6216;&#x8005;AC-3&#x3002; HLS&#x662F;&#x4EC0;&#x4E48;&#xFF1F; &#x200B; HLS&#x7684;&#x5DE5;&#x4F5C;&#x65B9;&#x5F0F;&#x662F;&#xFF1A;&#x5C06;&#x89C6;&#x9891;&#x62C6;&#x5206;&#x6210;&#x82E5;&#x5E72;ts&#x683C;&#x5F0F;&#x7684;&#x5C0F;&#x6587;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;m3u8&#x683C;&#x5F0F;&#x7684;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x5BF9;&#x8FD9;&#x4E9B;ts&#x5C0F;&#x6587;&#x4EF6;&#x5EFA;&#x7ACB;&#x7D22;&#x5F15;&#x3002;&#x4E00;&#x822C;10&#x79D2;&#x4E00;&#x4E2A;ts&#x6587;&#x4EF6;&#xFF0C;&#x64AD;&#x653E;&#x5668;&#x8FDE;&#x63A5;m3u8&#x6587;&#x4EF6;&#x64AD;&#x653E;&#xFF0C;&#x5F53;&#x5FEB;&#x8FDB;&#x65F6;&#x901A;&#x8FC7;m3u8&#x5373;&#x53EF;&#x627E;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x53BB;&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x7684;ts&#x6587;&#x4EF6;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0;&#x5FEB;&#x8FDB;&#x3001;&#x5FEB;&#x9000;&#x4EE5;&#x8FD1;&#x5B9E;&#x65F6; &#x7684;&#x65B9;&#x5F0F;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x3002; &#x200B; IOS&#x3001;Android&#x8BBE;&#x5907;&#x3001;&#x53CA;&#x5404;&#x5927;&#x6D4F;&#x89C8;&#x5668;&#x90FD;&#x652F;&#x6301;HLS&#x534F;&#x8BAE;&#x3002; &#x8BE6;&#x7EC6;&#x53C2;&#x8003;&#xFF1A;https://baike.baidu.com/item/HLS/8328931?fr=aladdin &#x91C7;&#x7528;HLS&#x65B9;&#x6848;&#x5373;&#x53EF;&#x5B9E;&#x73B0;&#x8FB9;&#x4E0B;&#x8F7D;&#x8FB9;&#x64AD;&#x653E;&#xFF0C;&#x5E76;&#x53EF;&#x4E0D;&#x7528;&#x4F7F;&#x7528;rtmp&#x7B49;&#x6D41;&#x5A92;&#x4F53;&#x534F;&#x8BAE;&#xFF0C;&#x4E0D;&#x7528;&#x6784;&#x5EFA;&#x4E13;&#x7528;&#x7684;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x8282;&#x7701;&#x6210;&#x672C;&#x3002; &#x672C;&#x9879;&#x76EE;&#x70B9;&#x64AD;&#x65B9;&#x6848;&#x786E;&#x5B9A;&#x4E3A;&#x65B9;&#x6848;3&#x3002; &#x89C6;&#x9891;&#x7F16;&#x7801;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x683C;&#x5F0F; &#x8BE6;&#x60C5;&#x53C2;&#x8003; &#xFF1A;https://baike.baidu.com/item/%E8%A7%86%E9%A2%91%E7%BC%96%E7%A0%81/839038 &#x9996;&#x5148;&#x6211;&#x4EEC;&#x8981;&#x5206;&#x6E05;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x548C;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#xFF1A; &#x6587;&#x4EF6;&#x683C;&#x5F0F;&#xFF1A;&#x662F;&#x6307;.mp4&#x3001;.avi&#x3001;.rmvb&#x7B49; &#x8FD9;&#x4E9B;&#x4E0D;&#x540C;&#x6269;&#x5C55;&#x540D;&#x7684;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x683C;&#x5F0F; &#xFF0C;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x7684;&#x5185;&#x5BB9;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x89C6;&#x9891;&#x548C;&#x97F3;&#x9891;&#xFF0C;&#x5176;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x662F;&#x6309;&#x7167;&#x4E00; &#x5B9A;&#x7684;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x53BB;&#x7F16;&#x7801;&#xFF0C;&#x5E76;&#x4E14;&#x6309;&#x7167;&#x8BE5;&#x6587;&#x4EF6;&#x6240;&#x89C4;&#x5B9A;&#x7684;&#x5C01;&#x88C5;&#x683C;&#x5F0F;&#x5C06;&#x89C6;&#x9891;&#x3001;&#x97F3;&#x9891;&#x3001;&#x5B57;&#x5E55;&#x7B49;&#x4FE1;&#x606F;&#x5C01;&#x88C5;&#x5728;&#x4E00;&#x8D77;&#xFF0C;&#x64AD;&#x653E;&#x5668;&#x4F1A;&#x6839;&#x636E;&#x5B83;&#x4EEC;&#x7684;&#x5C01;&#x88C5;&#x683C;&#x5F0F;&#x53BB;&#x63D0;&#x53D6;&#x51FA;&#x7F16;&#x7801;&#xFF0C;&#x7136;&#x540E;&#x7531;&#x64AD;&#x653E;&#x5668;&#x89E3;&#x7801;&#xFF0C;&#x6700;&#x7EC8;&#x64AD;&#x653E;&#x97F3;&#x89C6;&#x9891;&#x3002; &#x97F3;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#xFF1A;&#x901A;&#x8FC7;&#x97F3;&#x89C6;&#x9891;&#x7684;&#x538B;&#x7F29;&#x6280;&#x672F;&#xFF0C;&#x5C06;&#x89C6;&#x9891;&#x683C;&#x5F0F;&#x8F6C;&#x6362;&#x6210;&#x53E6;&#x4E00;&#x79CD;&#x89C6;&#x9891;&#x683C;&#x5F0F;&#xFF0C;&#x901A;&#x8FC7;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x5B9E;&#x73B0;&#x6D41;&#x5A92;&#x4F53;&#x7684;&#x4F20;&#x8F93;&#x3002;&#x6BD4;&#x5982;&#xFF1A;&#x4E00;&#x4E2A;.avi&#x7684;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x539F;&#x6765;&#x7684;&#x7F16;&#x7801;&#x662F;a&#xFF0C;&#x901A;&#x8FC7;&#x7F16;&#x7801;&#x540E;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x53D8;&#x4E3A;b&#xFF0C;&#x97F3;&#x9891;&#x539F;&#x6765;&#x4E3A;c&#xFF0C;&#x901A;&#x8FC7;&#x7F16;&#x7801;&#x540E;&#x53D8;&#x4E3A;d&#x3002; &#x97F3;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x5404;&#x7C7B;&#x7E41;&#x591A;&#xFF0C;&#x4E3B;&#x8981;&#x6709;&#x51E0;&#x4E0B;&#x51E0;&#x7C7B;&#xFF1A; MPEG&#x7CFB;&#x5217; &#xFF08;&#x7531;ISO[&#x56FD;&#x9645;&#x6807;&#x51C6;&#x7EC4;&#x7EC7;&#x673A;&#x6784;]&#x4E0B;&#x5C5E;&#x7684;MPEG[&#x8FD0;&#x52A8;&#x56FE;&#x8C61;&#x4E13;&#x5BB6;&#x7EC4;]&#x5F00;&#x53D1; &#xFF09;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x65B9;&#x9762;&#x4E3B;&#x8981;&#x662F;Mpeg1&#xFF08;vcd&#x7528;&#x7684;&#x5C31;&#x662F;&#x5B83;&#xFF09;&#x3001;Mpeg2&#xFF08;DVD&#x4F7F;&#x7528;&#xFF09;&#x3001;Mpeg4&#xFF08;&#x7684;DVDRIP&#x4F7F;&#x7528;&#x7684;&#x90FD;&#x662F;&#x5B83;&#x7684;&#x53D8;&#x79CD;&#xFF0C;&#x5982;&#xFF1A;divx&#xFF0C;xvid&#x7B49;&#xFF09;&#x3001;Mpeg4 AVC&#xFF08;&#x6B63;&#x70ED;&#x95E8;&#xFF09;&#xFF1B;&#x97F3;&#x9891;&#x7F16;&#x7801;&#x65B9;&#x9762;&#x4E3B;&#x8981;&#x662F;MPEG Audio Layer 1/2&#x3001;MPEG Audio Layer 3&#xFF08;&#x5927;&#x540D;&#x9F0E;&#x9F0E;&#x7684;mp3&#xFF09;&#x3001;MPEG-2 AAC &#x3001;MPEG-4 AAC&#x7B49;&#x7B49;&#x3002;&#x6CE8;&#x610F;&#xFF1A;DVD&#x97F3;&#x9891;&#x6CA1;&#x6709;&#x91C7;&#x7528;Mpeg&#x7684;&#x3002; H.26X&#x7CFB;&#x5217; &#xFF08;&#x7531;ITU[&#x56FD;&#x9645;&#x7535;&#x4F20;&#x89C6;&#x8BAF;&#x8054;&#x76DF;]&#x4E3B;&#x5BFC;&#xFF0C;&#x4FA7;&#x91CD;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#xFF0C;&#x6CE8;&#x610F;&#xFF1A;&#x53EA;&#x662F;&#x89C6;&#x9891;&#x7F16;&#x7801;&#xFF09; &#x5305;&#x62EC;H.261&#x3001;H.262&#x3001;H.263&#x3001;H.263+&#x3001;H.263++&#x3001;H.264&#xFF08;&#x5C31;&#x662F;MPEG4 AVC-&#x5408;&#x4F5C;&#x7684;&#x7ED3;&#x6676;&#xFF09; &#x76EE;&#x524D;&#x6700;&#x5E38;&#x7528;&#x7684;&#x7F16;&#x7801;&#x6807;&#x51C6;&#x662F;&#x89C6;&#x9891;H.264&#xFF0C;&#x97F3;&#x9891;AAC&#x3002; &#x63D0;&#x95EE;&#xFF1A; H.264&#x662F;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x8FD8;&#x662F;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#xFF1F; mp4&#x662F;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x8FD8;&#x662F;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#xFF1F; FFmpeg &#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x5C06;&#x89C6;&#x9891;&#x5F55;&#x5236;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x4F7F;&#x7528;&#x89C6;&#x9891;&#x7F16;&#x7801;&#x8F6F;&#x4EF6;&#x5BF9;&#x89C6;&#x9891;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#xFF0C;&#x672C;&#x9879;&#x76EE; &#x4F7F;&#x7528;FFmpeg&#x5BF9;&#x89C6;&#x9891;&#x8FDB;&#x884C;&#x7F16;&#x7801; &#x3002; &#x200B; FFmpeg&#x88AB;&#x8BB8;&#x591A;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x91C7;&#x7528;&#xFF0C;QQ&#x5F71;&#x97F3;&#x3001;&#x66B4;&#x98CE;&#x5F71;&#x97F3;&#x3001;VLC&#x7B49;&#x3002; &#x4E0B;&#x8F7D;&#xFF1A;FFmpeg https://www.ffmpeg.org/download.html#build-windows &#x4E0B;&#x8F7D; &#xFF1A;ffmpeg-20180227-fa0c9d6-win64-static.zip&#xFF0C;&#x5E76;&#x89E3;&#x538B;&#xFF0C;&#x672C;&#x6559;&#x7A0B;&#x5C06;ffmpeg&#x89E3;&#x538B;&#x5230;&#x4E86;F:\devenv\edusoft\ffmpeg-20180227-fa0c9d6-win64-static\ffmpeg-20180227-fa0c9d6-win64-static&#x4E0B;&#x3002; &#x5C06;F:\devenv\edusoft\ffmpeg-20180227-fa0c9d6-win64-static\ffmpeg-20180227-fa0c9d6-win64-static\bin&#x76EE;&#x5F55;&#x914D;&#x7F6E;&#x5728;path&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x3002; &#x4F7F;&#x7528;&#x547D;&#x4EE4; ffmpeg -version&#x68C0;&#x6D4B;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF1A; &#x7B80;&#x5355;&#x7684;&#x6D4B;&#x8BD5;&#xFF1A; &#x5C06;&#x4E00;&#x4E2A;.avi&#x6587;&#x4EF6;&#x8F6C;&#x6210;mp4&#x3001;mp3&#x3001;gif&#x7B49;&#x3002; &#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x5C06;lucene.avi&#x6587;&#x4EF6;&#x8F6C;&#x6210;mp4&#xFF0C;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; ffmpeg -i lucene.avi lucene.mp4 &#x8F6C;&#x6210;mp3&#xFF1A;ffmpeg -i lucene.avi lucene.mp3 &#x8F6C;&#x6210;gif&#xFF1A;ffmpeg -i lucene.avi lucene.gif &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF08;&#x82F1;&#x6587;&#xFF09;&#xFF1A;http://ffmpeg.org/ffmpeg.html &#x751F;&#x6210;m3u8/ts&#x6587;&#x4EF6;&#x4F7F;&#x7528;ffmpeg&#x751F;&#x6210; m3u8&#x7684;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; &#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x5148;&#x5C06;avi&#x89C6;&#x9891;&#x8F6C;&#x6210;mp4 ffmpeg.exe -i lucene.avi -c:v libx264 -s 1280x720 -pix_fmt yuv420p -b:a 63k -b:v 753k -r 18 .\lucene.mp4&#x4E0B;&#x9762;&#x628A;&#x5404;&#x53C2;&#x6570;&#x610F;&#x601D;&#x5927;&#x6982;&#x8BB2;&#x8BB2;&#xFF0C;&#x5927;&#x6982;&#x4E86;&#x89E3;&#x610F;&#x601D;&#x5373;&#x53EF;&#xFF0C;&#x4E0D;&#x518D;&#x6B64;&#x5C55;&#x5F00;&#x6D41;&#x5A92;&#x4F53;&#x4E13;&#x4E1A;&#x77E5;&#x8BC6;&#x7684;&#x8BB2;&#x89E3;&#x3002; -c:v &#x89C6;&#x9891;&#x7F16;&#x7801;&#x4E3A;x264 &#xFF0C;x264&#x7F16;&#x7801;&#x662F;H264&#x7684;&#x4E00;&#x79CD;&#x5F00;&#x6E90;&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x3002; -s &#x8BBE;&#x7F6E;&#x5206;&#x8FA8;&#x7387; -pix_fmt yuv420p&#xFF1A;&#x8BBE;&#x7F6E;&#x50CF;&#x7D20;&#x91C7;&#x6837;&#x65B9;&#x5F0F;&#xFF0C;&#x4E3B;&#x6D41;&#x7684;&#x91C7;&#x6837;&#x65B9;&#x5F0F;&#x6709;&#x4E09;&#x79CD;&#xFF0C;YUV4:4:4&#xFF0C;YUV4:2:2&#xFF0C;YUV4:2:0&#xFF0C;&#x5B83;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x6839;&#x636E;&#x91C7;&#x6837;&#x65B9;&#x5F0F;&#x6765;&#x4ECE;&#x7801;&#x6D41;&#x4E2D;&#x8FD8;&#x539F;&#x6BCF;&#x4E2A;&#x50CF;&#x7D20;&#x70B9;&#x7684;YUV&#xFF08;&#x4EAE;&#x5EA6;&#x4FE1;&#x606F;&#x4E0E;&#x8272;&#x5F69;&#x4FE1;&#x606F;&#xFF09;&#x503C;&#x3002; -b &#x8BBE;&#x7F6E;&#x7801;&#x7387;&#xFF0C;-b:a&#x548C;-b:v&#x5206;&#x522B;&#x8868;&#x793A;&#x97F3;&#x9891;&#x7684;&#x7801;&#x7387;&#x548C;&#x89C6;&#x9891;&#x7684;&#x7801;&#x7387;&#xFF0C;-b&#x8868;&#x793A;&#x97F3;&#x9891;&#x52A0;&#x89C6;&#x9891;&#x7684;&#x603B;&#x7801;&#x7387;&#x3002;&#x7801;&#x7387;&#x5BF9;&#x4E00;&#x4E2A;&#x89C6;&#x9891;&#x8D28;&#x91CF;&#x6709;&#x5F88;&#x5927;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x540E;&#x8FB9;&#x4F1A;&#x4ECB;&#x7ECD;&#x3002; -r&#xFF1A;&#x5E27;&#x7387;&#xFF0C;&#x8868;&#x793A;&#x6BCF;&#x79D2;&#x66F4;&#x65B0;&#x56FE;&#x50CF;&#x753B;&#x9762;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x901A;&#x5E38;&#x5927;&#x4E8E;24&#x8089;&#x773C;&#x5C31;&#x6CA1;&#x6709;&#x8FDE;&#x8D2F;&#x4E0E;&#x505C;&#x987F;&#x7684;&#x611F;&#x89C9;&#x4E86;&#x3002; &#x7B2C;&#x4E8C;&#x6B65;&#xFF1A;&#x5C06;mp4&#x751F;&#x6210;m3u8 ffmpeg -i lucene.mp4 -hls_time 10 -hls_list_size 0 -hls_segment_filename ./hls/lucene_%05d.ts ./hls/lucene.m3u8-hls_time &#x8BBE;&#x7F6E;&#x6BCF;&#x7247;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x79D2; -hls_list_size n: &#x4FDD;&#x5B58;&#x7684;&#x5206;&#x7247;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;0&#x8868;&#x793A;&#x4FDD;&#x5B58;&#x6240;&#x6709;&#x5206;&#x7247; -hls_segment_filename &#xFF1A;&#x6BB5;&#x6587;&#x4EF6;&#x7684;&#x540D;&#x79F0;&#xFF0C;%05d&#x8868;&#x793A;5&#x4F4D;&#x6570;&#x5B57; &#x751F;&#x6210;&#x7684;&#x6548;&#x679C;&#x662F;&#xFF1A;&#x5C06;lucene.mp4&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x6BCF;10&#x79D2;&#x751F;&#x6210;&#x4E00;&#x4E2A;ts&#x6587;&#x4EF6;&#xFF0C;&#x6700;&#x540E;&#x751F;&#x6210;&#x4E00;&#x4E2A;m3u8&#x6587;&#x4EF6;&#xFF0C;m3u8&#x6587;&#x4EF6;&#x662F;ts&#x7684;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x3002; &#x200B; &#x4F7F;&#x7528;VLC&#x6253;&#x5F00;m3u8&#x6587;&#x4EF6;&#xFF0C;&#x6D4B;&#x8BD5;&#x64AD;&#x653E;&#x6548;&#x679C;&#xFF0C;VLC &#x662F;&#x4E00;&#x6B3E;&#x81EA;&#x7531;&#x3001;&#x5F00;&#x6E90;&#x7684;&#x8DE8;&#x5E73;&#x53F0;&#x591A;&#x5A92;&#x4F53;&#x64AD;&#x653E;&#x5668;&#x53CA;&#x6846;&#x67B6;&#xFF0C;&#x53EF;&#x64AD;&#x653E;&#x5927;&#x591A;&#x6570;&#x591A;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#xFF0C;&#x4EE5;&#x53CA; DVD&#x3001;&#x97F3;&#x9891; CD&#x3001;VCD &#x53CA;&#x5404;&#x7C7B;&#x6D41;&#x5A92;&#x4F53;&#x534F;&#x8BAE;&#x3002; &#xFF08;http://www.videolan.org/&#xFF09; &#x7801;&#x7387;&#x7684;&#x8BBE;&#x7F6E;&#x7801;&#x7387;&#x53C8;&#x53EB;&#x6BD4;&#x7279;&#x7387;&#x5373;&#x6BCF;&#x79D2;&#x4F20;&#x8F93;&#x7684;bit&#x6570;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;bps(Bit Per Second)&#xFF0C;&#x7801;&#x7387;&#x8D8A;&#x5927;&#x4F20;&#x9001;&#x6570;&#x636E;&#x7684;&#x901F;&#x5EA6;&#x8D8A;&#x5FEB;&#x3002; &#x7801;&#x7387;&#x7684;&#x8BA1;&#x7B97;&#x516C;&#x5F0F;&#x662F;&#xFF1A;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF08;&#x8F6C;&#x6210;bit&#xFF09;/ &#x65F6;&#x957F;&#xFF08;&#x79D2;&#xFF09;/1024 = kbps &#x5373;&#x6BCF;&#x79D2;&#x4F20;&#x8F93;&#x5343;&#x4F4D;&#x6570; &#x4F8B;&#x5982;&#x4E00;&#x4E2A;1M&#x7684;&#x89C6;&#x9891;&#xFF0C;&#x5B83;&#x7684;&#x65F6;&#x957F;&#x662F;10s&#xFF0C;&#x5B83;&#x7684;&#x7801;&#x7387;&#x7B49;&#x4E8E; 1*1024*1024*8/10/1024 = 819Kbps&#x7801;&#x7387;&#x8BBE;&#x7F6E;&#x5230;&#x591A;&#x5C11;&#x624D;&#x80FD;&#x8FBE;&#x5230;&#x6700;&#x597D;&#xFF0C;&#x901A;&#x8FC7;&#x6839;&#x636E;&#x4E2A;&#x4EBA;&#x7684;&#x7ECF;&#x9A8C;&#x6216;&#x53C2;&#x8003;&#x4E00;&#x4E9B;&#x89C6;&#x9891;&#x7F51;&#x53F0;&#x7ED9;&#x51FA;&#x7684;&#x53C2;&#x8003;&#xFF0C;&#x4E0B;&#x56FE;&#x662F;&#x4F18;&#x9177;&#x5BF9;&#x7801;&#x7387;&#x7684;&#x8981;&#x6C42;&#xFF1A; &#x5982;&#x679C;&#x8981;&#x5C06;&#x89C6;&#x9891;&#x4E0A;&#x4F20;&#x5230;&#x4F18;&#x9177;&#x5219;&#x5FC5;&#x987B;&#x6309;&#x7167;&#x4E0A;&#x9762;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x81EA;&#x5DF1;&#x642D;&#x5EFA;&#x89C6;&#x9891;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x7801;&#x7387;&#x8BBE;&#x7F6E;&#x4E0D;&#x6613;&#x8FC7;&#x5927;&#xFF0C;&#x6700;&#x7EC8;&#x8FBE;&#x5230;&#x7684;&#x89C6;&#x9891;&#x6E05;&#x6670;&#x5EA6;&#x6EE1;&#x8DB3;&#x4E1A;&#x52A1;&#x9700;&#x6C42;&#x5373;&#x53EF;&#x3002; &#x64AD;&#x653E;&#x5668;&#x6280;&#x672F;&#x9009;&#x578B;&#x200B; &#x89C6;&#x9891;&#x7F16;&#x7801;&#x540E;&#x8981;&#x4F7F;&#x7528;&#x64AD;&#x653E;&#x5668;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x89E3;&#x7801;&#x3001;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x5185;&#x5BB9;&#x3002;&#x5728;web&#x5E94;&#x7528;&#x4E2D;&#x5E38;&#x7528;&#x7684;&#x64AD;&#x653E;&#x5668;&#x6709;flash&#x64AD;&#x653E;&#x5668;&#x3001;H5&#x64AD;&#x653E;&#x5668;&#x6216;&#x6D4F;&#x89C8;&#x5668;&#x63D2;&#x4EF6;&#x64AD;&#x653E;&#x5668;&#xFF0C;&#x5176;&#x4E2D;&#x4EE5;flash&#x548C;H5&#x64AD;&#x653E;&#x5668;&#x6700;&#x5E38;&#x89C1;&#x3002; flash&#x64AD;&#x653E;&#x5668;&#xFF1A;&#x7F3A;&#x70B9;&#x662F;&#x9700;&#x8981;&#x5728;&#x5BA2;&#x6237;&#x673A;&#x5B89;&#x88C5;Adobe Flash Player&#x64AD;&#x653E;&#x5668;&#xFF0C;&#x4F18;&#x70B9;&#x662F;flash&#x64AD;&#x653E;&#x5668;&#x5DF2;&#x7ECF;&#x5F88;&#x6210;&#x719F;&#x4E86;&#xFF0C;&#x5E76;&#x4E14;&#x6D4F;&#x89C8;&#x5668;&#x5BF9;flash&#x652F;&#x6301;&#x4E5F;&#x5F88;&#x597D;&#x3002; H5&#x64AD;&#x653E;&#x5668;&#xFF1A;&#x57FA;&#x4E8E;h5&#x81EA;&#x5E26;video&#x6807;&#x7B7E;&#x8FDB;&#x884C;&#x6784;&#x5EFA;&#xFF0C;&#x4F18;&#x70B9;&#x662F;&#x5927;&#x90E8;&#x5206;&#x6D4F;&#x89C8;&#x5668;&#x652F;&#x6301;H5&#xFF0C;&#x4E0D;&#x7528;&#x518D;&#x5B89;&#x88C5;&#x7B2C;&#x4E09;&#x65B9;&#x7684;flash&#x64AD;&#x653E;&#x5668;&#xFF0C;&#x5E76;&#x4E14;&#x968F;&#x7740;&#x524D;&#x7AEF;&#x6280;&#x672F;&#x7684;&#x53D1;&#x5C55;&#xFF0C;h5&#x6280;&#x672F;&#x4F1A;&#x8D8A;&#x6765;&#x8D8A;&#x6210;&#x719F;&#x3002; &#x672C;&#x9879;&#x76EE;&#x91C7;&#x7528;H5&#x64AD;&#x653E;&#x5668;&#xFF0C;&#x4F7F;&#x7528;Video.js&#x5F00;&#x6E90;&#x64AD;&#x653E;&#x5668;&#x3002; &#x200B; Video.js&#x662F;&#x4E00;&#x6B3E;&#x57FA;&#x4E8E;HTML5&#x4E16;&#x754C;&#x7684;&#x7F51;&#x7EDC;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x5668;&#x3002;&#x5B83;&#x652F;&#x6301;HTML5&#x548C;Flash&#x89C6;&#x9891;&#xFF0C;&#x5B83;&#x652F;&#x6301;&#x5728;&#x53F0;&#x5F0F;&#x673A;&#x548C;&#x79FB;&#x52A8;&#x8BBE;&#x5907;&#x4E0A;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x3002;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x4E8E;2010&#x5E74;&#x4E2D;&#x5F00;&#x59CB;&#xFF0C;&#x76EE;&#x524D;&#x5DF2;&#x5728;40&#x4E07;&#x7F51;&#x7AD9;&#x4F7F;&#x7528;&#x3002; &#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;http://videojs.com/ &#x4E0B;&#x8F7D;video.jsVideo.js&#xFF1A; https://github.com/videojs/video.js videojs-contrib-hls&#xFF1A; https://github.com/videojs/videojs-contrib-hls#installation &#xFF08;videojs-contrib-hls&#x662F;&#x64AD;&#x653E;hls&#x7684;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6;&#xFF09; &#x4F7F;&#x7528;&#x6587;&#x6863;&#xFF1A;http://docs.videojs.com/tutorial-videojs_.html &#x672C;&#x6559;&#x7A0B;&#x4F7F;&#x7528; video.js 6.7.3 &#x7248;&#x672C;&#xFF0C;videojs-contrib-hls 5.14.1&#x7248;&#x672C;&#x3002; &#x4E0B;&#x8F7D;&#x4E0A;&#x8FB9;&#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x4E3A;&#x4E86;&#x6D4B;&#x8BD5;&#x9700;&#x6C42;&#x5C06;&#x5176;&#x653E;&#x5728;&#x95E8;&#x6237;&#x7684;plugins&#x76EE;&#x5F55;&#x4E2D;&#x3002; &#x642D;&#x5EFA;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x6B63;&#x5E38;&#x4F7F;&#x7528;video.js&#x64AD;&#x653E;&#x89C6;&#x9891;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x7F51;&#x9875;&#xFF0C;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x6253;&#x5F00;&#x7F51;&#x9875;&#x53BB;&#x64AD;&#x653E;&#x89C6;&#x9891;&#xFF0C;&#x7F51;&#x9875;&#x548C;&#x89C6;&#x9891;&#x90FD;&#x4ECE;web&#x670D;&#x52A1;&#x5668;&#x8BF7;&#x6C42;&#xFF0C;&#x901A;&#x5E38;&#x89C6;&#x9891;&#x7684;url&#x5730;&#x5740;&#x4F7F;&#x7528;&#x5355;&#x72EC;&#x7684;&#x57DF;&#x540D;&#x3002; Nginx&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;HLS&#x534F;&#x8BAE;&#x57FA;&#x4E8E;Http&#x534F;&#x8BAE;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;Nginx&#x4F5C;&#x4E3A;&#x89C6;&#x9891;&#x670D;&#x52A1;&#x5668;&#x3002;&#x4E0B;&#x56FE;&#x662F;Nginx&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x6D41;&#x7A0B;&#x56FE;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x6253;&#x5F00;www.xuecheng.com&#x4E0A;&#x8FB9;&#x7684;video.html&#x7F51;&#x9875; &#x5728;&#x6B64;&#x7F51;&#x9875;&#x4E2D;&#x5F15;&#x5165;&#x89C6;&#x9891;&#x94FE;&#x63A5;&#xFF0C;&#x89C6;&#x9891;&#x5730;&#x5740;&#x6307;&#x5411;video.xuecheng.com 2&#x3001;video.xuecheng.com&#x8FDB;&#x884C;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5904;&#x7406;&#xFF0C;&#x5C06;&#x89C6;&#x9891;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668; &#x6839;&#x636E;&#x4E0A;&#x8FB9;&#x7684;&#x6D41;&#x7A0B;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5B89;&#x88C5;Nginx&#xFF0C;&#x5E76;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1; server { listen 90; server_name localhost; #&#x89C6;&#x9891;&#x76EE;&#x5F55; location /video/ { alias F:/develop/video/; } }&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x4EE3;&#x7406;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x4E0D;&#x6B62;&#x4E00;&#x53F0;&#xFF0C;&#x901A;&#x8FC7;&#x4EE3;&#x7406;&#x5B9E;&#x73B0;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x529F;&#x80FD;&#xFF0C;&#x4F7F;&#x7528;Nginx&#x4F5C;&#x4E3A;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4EE3;&#x7406;&#xFF0C;&#x6B64;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x4F5C;&#x4E3A;video.xuecheng.com&#x57DF;&#x540D;&#x670D;&#x52A1;&#x5668;&#x3002; &#x914D;&#x7F6E;video.xuecheng.com&#x865A;&#x62DF;&#x4E3B;&#x673A;&#xFF1A; &#x6CE8;&#x610F;&#xFF1A;&#x5F00;&#x53D1;&#x4E2D;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x548C;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x5668;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;Nginx&#x3002; #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x4EE3;&#x7406; #&#x53EA;&#x5141;&#x8BB8;&#x67D0;&#x51E0;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x8DE8;&#x57DF; map $http_origin $origin_list{ default http://www.xuecheng.com; &quot;~http://www.xuecheng.com&quot; http://www.xuecheng.com; &quot;~http://ucenter.xuecheng.com&quot; http://ucenter.xuecheng.com; } #&#x5B66;&#x6210;&#x7F51;&#x5A92;&#x4F53;&#x670D;&#x52A1;&#x4EE3;&#x7406; server { listen 80; server_name video.xuecheng.com; location /video { proxy_pass http://video_server_pool; add_header Access-Control-Allow-Origin $origin_list; #add_header Access-Control-Allow-Origin *; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } } cors&#x8DE8;&#x57DF;&#x53C2;&#x6570;&#xFF1A; Access-Control-Allow-Origin&#xFF1A;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x7684;&#x5916;&#x57DF;&#x5730;&#x5740; &#x200B; &#x901A;&#x5E38;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x7684;&#x7AD9;&#x70B9;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x7528;map&#x5B9A;&#x4E49;&#x4E86;&#x591A;&#x4E2A;&#x7AD9;&#x70B9;&#x3002; &#x200B; &#x5982;&#x679C;&#x5141;&#x8BB8;&#x4EFB;&#x4F55;&#x7AD9;&#x70B9;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x5219;&#x8BBE;&#x7F6E;&#x4E3A;*&#xFF0C;&#x901A;&#x5E38;&#x8FD9;&#x662F;&#x4E0D;&#x5EFA;&#x8BAE;&#x7684;&#x3002; Access-Control-Allow-Credentials&#xFF1A; &#x5141;&#x8BB8;&#x5BA2;&#x6237;&#x7AEF;&#x643A;&#x5E26;&#x8BC1;&#x4E66;&#x8BBF;&#x95EE; Access-Control-Allow-Methods&#xFF1A;&#x5141;&#x8BB8;&#x5BA2;&#x6237;&#x7AEF;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x7684;&#x65B9;&#x6CD5; video_server_pool&#x7684;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; #&#x5A92;&#x4F53;&#x670D;&#x52A1; upstream video_server_pool{ server 127.0.0.1:90 weight=10; } &#x6D4B;&#x8BD5;video.js&#x53C2;&#x8003;https://github.com/videojs/videojs-contrib-hls#installation &#x200B; http://jsbin.com/vokipos/8/edit?html,output 1&#x3001;&#x7F16;&#x5199;&#x6D4B;&#x8BD5;&#x9875;&#x9762;video.html&#x3002; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt; &lt;title&gt;&#x89C6;&#x9891;&#x64AD;&#x653E;&lt;/title&gt; &lt;link href=&quot;/plugins/videojs/video-js.css&quot; rel=&quot;stylesheet&quot;&gt; &lt;/head&gt; &lt;body&gt; &lt;video id=example-video width=800 height=600 class=&quot;video-js vjs-default-skin vjs-big-play-centered&quot; controls poster=&quot;http://127.0.0.1:90/video/add.jpg&quot;&gt; &lt;source src=&quot;http://video.xuecheng.com/video/hls/lucene.m3u8&quot; type=&quot;application/x-mpegURL&quot;&gt; &lt;/video&gt; &lt;input type=&quot;button&quot; onClick=&quot;switchvideo()&quot; value=&quot;switch&quot;/&gt; &lt;script src=&quot;/plugins/videojs/video.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;/plugins/videojs/videojs-contrib-hls.js&quot;&gt;&lt;/script&gt; &lt;script&gt; var player = videojs(&apos;example-video&apos;); //player.play(); //&#x5207;&#x6362;&#x89C6;&#x9891; function switchvideo(){ player.src({ src: &apos;http://video.xuecheng.com/video/hls/lucene.m3u8&apos;, type: &apos;application/x-mpegURL&apos;, withCredentials: true }); player.play(); } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;2&#x3001;&#x6D4B;&#x8BD5; &#x914D;&#x7F6E;hosts&#x6587;&#x4EF6;&#xFF0C;&#x672C;&#x6559;&#x7A0B;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x4F7F;&#x7528;Window10&#xFF0C;&#x4FEE;&#x6539;C:\Windows\System32\drivers\etc\hosts&#x6587;&#x4EF6; 127.0.0.1 video.xuecheng.com&#x6548;&#x679C;&#xFF1A; &#x70B9;&#x51FB;&#x201D;switch&#x201D;&#x6D4B;&#x8BD5;&#x5207;&#x6362;&#x89C6;&#x9891;&#x529F;&#x80FD;&#x3002; &#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x524D;&#x7AEF;&#x754C;&#x9762;&#x539F;&#x578B;&#x5148;&#x770B;&#x4E00;&#x4E0B;&#x754C;&#x9762;&#x539F;&#x578B;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x76EE;&#x6807;&#x662F;&#x5728;&#x6B64;&#x9875;&#x9762;&#x4F7F;&#x7528;video.js&#x64AD;&#x653E;&#x89C6;&#x9891;&#x3002; &#x521B;&#x5EFA;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x5DE5;&#x7A0B;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x7684;&#x7528;&#x6237;&#x662F;&#x5B66;&#x751F;&#xFF0C;&#x4E3A;&#x4E86;&#x4FBF;&#x4E8E;&#x7CFB;&#x7EDF;&#x7EF4;&#x62A4;&#x548C;&#x6269;&#x5C55;&#xFF0C;&#x5355;&#x72EC;&#x521B;&#x5EFA;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x5DE5;&#x7A0B;&#xFF1A; 1&#x3001;&#x4ECE;&#x8D44;&#x6599;&#x76EE;&#x5F55;&#x62F7;&#x8D1D;xc-ui-pc-leanring.zip &#x5E76;&#x89E3;&#x538B;&#x5230;xc-ui-pc-leanring&#x76EE;&#x5F55;&#x3002; 2&#x3001;&#x4F7F;&#x7528;webstorm&#x521B;&#x5EFA;&#x6253;&#x5F00;xc-ui-pc-leanring&#x76EE;&#x5F55; 3&#x3001;&#x8FDB;&#x5165;xc-ui-pc-leanring&#x76EE;&#x5F55;&#xFF0C;&#x6267;&#x884C;cnpm install&#xFF0C;&#x5C06;&#x6839;&#x636E;package.json&#x7684;&#x4F9D;&#x8D56;&#x914D;&#x7F6E;&#x8FDC;&#x7A0B;&#x4E0B;&#x8F7D;&#x4F9D;&#x8D56;&#x7684;js&#x5305;&#x3002; &#x521B;&#x5EFA;&#x5B8C;&#x6210;&#xFF0C;xc-ui-pc-leanring&#x5DE5;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x914D;&#x7F6E;&#x57DF;&#x540D;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x7684;&#x4E8C;&#x7EA7;&#x57DF;&#x540D;&#x4E3A;ucenter.xuecheng.com&#xFF0C;&#x6211;&#x4EEC;&#x5728;nginx&#x4E2D;&#x914D;&#x7F6E;ucenter&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x3002; #&#x5B66;&#x6210;&#x7F51;&#x7528;&#x6237;&#x4E2D;&#x5FC3; server { listen 80; server_name ucenter.xuecheng.com; #&#x4E2A;&#x4EBA;&#x4E2D;&#x5FC3; location / { proxy_pass http://ucenter_server_pool; } } #&#x524D;&#x7AEF;ucenter upstream ucenter_server_pool{ #server 127.0.0.1:7081 weight=10; server 127.0.0.1:13000 weight=10; }&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x5DE5;&#x7A0B;&#xFF0C;&#x770B;&#x5230;&#x4E0B;&#x8FB9;&#x7684;&#x754C;&#x9762;&#x8BF4;&#x660E;&#x672C;&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;&#x5B8C;&#x6210;&#xFF1A; &#x8C03;&#x8BD5;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x9875;&#x9762;&#x200B; &#x4F7F;&#x7528;vue-video-player&#x7EC4;&#x4EF6;&#x5C06;video.js&#x96C6;&#x6210;&#x5230;vue.js&#x4E2D;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;vue-video-player&#x5B9E;&#x73B0;video.js&#x64AD;&#x653E;&#x3002; &#x7EC4;&#x4EF6;&#x5730;&#x5740;&#xFF1A;https://github.com/surmon-china/vue-video-player &#x4E0A;&#x9762;&#x7684; xc-ui-pc-learning&#x5DE5;&#x7A0B;&#x5DF2;&#x7ECF;&#x6DFB;&#x52A0;vue-video-player&#x7EC4;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x5728;vue&#x9875;&#x9762;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x5373;&#x53EF;&#x3002; &#x200B; &#x524D;&#x8FB9;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x6D4B;&#x8BD5;&#x901A;&#x8FC7; video.js&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x5728;vue&#x9875;&#x9762;&#x4E2D;&#x4F7F;&#x7528;vue-video-player&#x5B8C;&#x6210;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x3002; &#x5BFC;&#x5165;learning_video.vue&#x9875;&#x9762;&#x5230;course &#x6A21;&#x5757;&#x4E0B;&#x3002; &#x914D;&#x7F6E;&#x8DEF;&#x7531;&#xFF1A; import learning_video from &apos;@/module/course/page/learning_video.vue&apos;; { path: &apos;/learning/:courseId/:chapter&apos;, component: learning_video, name: &apos;&#x5F55;&#x64AD;&#x89C6;&#x9891;&#x5B66;&#x4E60;&apos;, hidden: false, iconCls: &apos;el-icon-document&apos; }&#x9884;&#x89C8;&#x6548;&#x679C;&#xFF1A; &#x8BF7;&#x6C42;&#xFF1A;http://ucenter.xuecheng.com/#/learning/1/2 &#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;courseId&#xFF0C;&#x8BFE;&#x7A0B;id&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x6548;&#x679C;&#x968F;&#x4FBF;&#x8F93;&#x5165;&#x4E00;&#x4E2A;ID&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x91CC;&#x8F93;&#x5165;1 &#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;chapter&#xFF0C;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;id&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x6548;&#x679C;&#x968F;&#x4FBF;&#x8F93;&#x5165;&#x4E00;&#x4E2A;ID&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x91CC;&#x8F93;&#x5165;2 &#x89E3;&#x51B3;&#x8DE8;&#x57DF;: &#x8DE8;&#x57DF;&#x914D;&#x7F6E;&#x4E0D;&#x751F;&#x6548; location /plugins/ { alias X:/workspace/java/xczx/static/portal/plugins/; add_header Access-Control-Allow-Origin http://ucenter.xuecheng.com; add_header Access-Control-Allow-Credentials true; add_header Access-Control-Allow-Methods GET; } &#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x9700;&#x6C42;&#x5206;&#x6790;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x662F;&#x6BCF;&#x4E2A;&#x5728;&#x7EBF;&#x6559;&#x80B2;&#x5E73;&#x53F0;&#x6240;&#x5FC5;&#x987B;&#x5177;&#x5907;&#x7684;&#xFF0C;&#x767E;&#x5EA6;&#x767E;&#x79D1;&#x5BF9;&#x5B83;&#x7684;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; &#x6BCF;&#x4E2A;&#x6559;&#x5B66;&#x673A;&#x6784;&#x90FD;&#x53EF;&#x4EE5;&#x5728;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x81EA;&#x5DF1;&#x7684;&#x6559;&#x5B66;&#x8D44;&#x6E90;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;&#x89C6;&#x9891;&#x3001;&#x6559;&#x6848;&#x7B49;&#x6587;&#x4EF6;&#x3002; &#x76EE;&#x524D;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x7684;&#x4E3B;&#x8981;&#x7BA1;&#x7406;&#x5BF9;&#x8C61;&#x662F;&#x8BFE;&#x7A0B;&#x5F55;&#x64AD;&#x89C6;&#x9891;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x7684;&#x67E5;&#x8BE2;&#x3001;&#x89C6;&#x9891;&#x4E0A;&#x4F20;&#x3001;&#x89C6;&#x9891;&#x5220;&#x9664;&#x3001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x7B49;&#x3002; &#x5A92;&#x8D44;&#x67E5;&#x8BE2;&#xFF1A;&#x6559;&#x5B66;&#x673A;&#x6784;&#x67E5;&#x8BE2;&#x81EA;&#x5DF1;&#x6240;&#x62E5;&#x6709;&#x7684;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x3002; &#x89C6;&#x9891;&#x4E0A;&#x4F20;&#xFF1A;&#x5C06;&#x7528;&#x6237;&#x7EBF;&#x4E0B;&#x5F55;&#x5236;&#x7684;&#x6559;&#x5B66;&#x89C6;&#x9891;&#x4E0A;&#x4F20;&#x5230;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x3002; &#x89C6;&#x9891;&#x5904;&#x7406;&#xFF1A;&#x89C6;&#x9891;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#xFF0C;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x5BF9;&#x89C6;&#x9891;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x5904;&#x7406;&#x3002; &#x89C6;&#x9891;&#x5220;&#x9664; &#xFF1A;&#x5982;&#x679C;&#x8BE5;&#x89C6;&#x9891;&#x5DF2;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x5220;&#x9664;&#x3002; &#x4E0B;&#x8FB9;&#x662F;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x4E0E;&#x5176;&#x5B83;&#x7CFB;&#x7EDF;&#x7684;&#x4EA4;&#x4E92;&#x60C5;&#x51B5;&#xFF1A; 1&#x3001;&#x4E0A;&#x4F20;&#x5A92;&#x8D44;&#x6587;&#x4EF6; &#x524D;&#x7AEF;/&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x3002; &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x5C06;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5230;&#x5A92;&#x8D44;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5C06;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5230;&#x6570;&#x636E;&#x5E93;&#x3002; 2&#x3001;&#x4F7F;&#x7528;&#x5A92;&#x8D44; &#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x8BF7;&#x6C42;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x67E5;&#x8BE2;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#xFF0C;&#x5C06;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E0E;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x5BF9;&#x5E94;&#x3001;&#x5B58;&#x50A8;&#x3002; 3&#x3001;&#x89C6;&#x9891;&#x64AD;&#x653E; &#x7528;&#x6237;&#x8FDB;&#x5165;&#x5B66;&#x4E60;&#x4E2D;&#x5FC3;&#x8BF7;&#x6C42;&#x5B66;&#x4E60;&#x670D;&#x52A1;&#x5B66;&#x4E60;&#x5728;&#x7EBF;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x3002; &#x5B66;&#x4E60;&#x670D;&#x52A1;&#x6821;&#x9A8C;&#x7528;&#x6237;&#x8D44;&#x683C;&#x901A;&#x8FC7;&#x540E;&#x8BF7;&#x6C42;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x83B7;&#x53D6;&#x89C6;&#x9891;&#x5730;&#x5740;&#x3002; &#x5F00;&#x53D1;&#x73AF;&#x5883;&#x521B;&#x5EFA;&#x5A92;&#x8D44;&#x6570;&#x636E;&#x5E93;1&#x3001;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x4FE1;&#x606F; @Data @ToString @Document(collection = &quot;media_file&quot;) public class MediaFile { /* &#x6587;&#x4EF6;id&#x3001;&#x540D;&#x79F0;&#x3001;&#x5927;&#x5C0F;&#x3001;&#x6587;&#x4EF6;&#x7C7B;&#x578B;&#x3001;&#x6587;&#x4EF6;&#x72B6;&#x6001;&#xFF08;&#x672A;&#x4E0A;&#x4F20;&#x3001;&#x4E0A;&#x4F20;&#x5B8C;&#x6210;&#x3001;&#x4E0A;&#x4F20;&#x5931;&#x8D25;&#xFF09;&#x3001;&#x4E0A;&#x4F20;&#x65F6;&#x95F4;&#x3001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#x3001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x72B6;&#x6001;&#x3001;hls_m3u8,hls_ts_list&#x3001;&#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#xFF08;&#x8BFE;&#x7A0B;id&#x3001;&#x7AE0;&#x8282;id&#xFF09; */ @Id //&#x6587;&#x4EF6;id private String fileId; //&#x6587;&#x4EF6;&#x540D;&#x79F0; private String fileName; //&#x6587;&#x4EF6;&#x539F;&#x59CB;&#x540D;&#x79F0; private String fileOriginalName; //&#x6587;&#x4EF6;&#x8DEF;&#x5F84; private String filePath; //&#x6587;&#x4EF6;url private String fileUrl; //&#x6587;&#x4EF6;&#x7C7B;&#x578B; private String fileType; //mimetype private String mimeType; //&#x6587;&#x4EF6;&#x5927;&#x5C0F; private Long fileSize; //&#x6587;&#x4EF6;&#x72B6;&#x6001; private String fileStatus; //&#x4E0A;&#x4F20;&#x65F6;&#x95F4; private Date uploadTime; //&#x5904;&#x7406;&#x72B6;&#x6001; private String processStatus; //hls&#x5904;&#x7406; private MediaFileProcess_m3u8 mediaFileProcess_m3u8; //tag&#x6807;&#x7B7E;&#x7528;&#x4E8E;&#x67E5;&#x8BE2; private String tag; }2&#x3001;&#x521B;&#x5EFA;xc_media&#x6570;&#x636E;&#x5E93; &#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x4F7F;&#x7528;mongodb&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x3002; &#x521B;&#x5EFA;&#x5A92;&#x8D44;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x7684;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x5355;&#x72EC;&#x5728;&#x5A92;&#x8D44;&#x670D;&#x52A1;&#x4E2D;&#x5F00;&#x53D1;&#xFF0C;&#x4E0B;&#x8FB9;&#x521B;&#x5EFA;&#x5A92;&#x8D44;&#x670D;&#x52A1;&#x5DE5;&#x7A0B;&#xFF08;xc-service-manage-media&#xFF09;&#x3002; &#x5A92;&#x8D44;&#x670D;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x4E0E;cms&#x7C7B;&#x4F3C;&#xFF0C;&#x5BFC;&#x5165; &#x201C;&#x8D44;&#x6599;&#x201D;&#x2013;&#x300B;xc-service-manage-media&#x5DE5;&#x7A0B;&#xFF0C;&#x5DE5;&#x7A0B;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x65AD;&#x70B9;&#x7EED;&#x4F20;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x200B; &#x901A;&#x5E38;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x90FD;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x5A92;&#x8D44;&#x7CFB;&#x7EDF;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x9700;&#x6C42;&#x8981;&#x6EE1;&#x8DB3;&#x5927;&#x6587;&#x4EF6;&#x7684;&#x4E0A;&#x4F20;&#x8981;&#x6C42;&#x3002;http&#x534F;&#x8BAE;&#x672C;&#x8EAB;&#x5BF9;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x6CA1;&#x6709;&#x9650;&#x5236;&#xFF0C;&#x4F46;&#x662F;&#x5BA2;&#x6237;&#x7684;&#x7F51;&#x7EDC;&#x73AF;&#x5883;&#x8D28;&#x91CF;&#x3001;&#x7535;&#x8111;&#x786C;&#x4EF6;&#x73AF;&#x5883;&#x7B49;&#x53C2;&#x5DEE;&#x4E0D;&#x9F50;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5927;&#x6587;&#x4EF6;&#x5FEB;&#x4E0A;&#x4F20;&#x5B8C;&#x4E86;&#x7F51;&#x65AD;&#x4E86;&#xFF0C;&#x7535;&#x65AD;&#x4E86;&#x6CA1;&#x6709;&#x4E0A;&#x4F20;&#x5B8C;&#x6210;&#xFF0C;&#x9700;&#x8981;&#x5BA2;&#x6237;&#x91CD;&#x65B0;&#x4E0A;&#x4F20;&#xFF0C;&#x8FD9;&#x662F;&#x81F4;&#x547D;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x4E8E;&#x5927;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7684;&#x8981;&#x6C42;&#x6700;&#x57FA;&#x672C;&#x7684;&#x662F;&#x65AD;&#x70B9;&#x7EED;&#x4F20;&#x3002; &#x4EC0;&#x4E48;&#x662F;&#x65AD;&#x70B9;&#x7EED;&#x4F20;&#xFF1A; &#x200B; &#x5F15;&#x7528;&#x767E;&#x5EA6;&#x767E;&#x79D1;&#xFF1A;&#x65AD;&#x70B9;&#x7EED;&#x4F20;&#x6307;&#x7684;&#x662F;&#x5728;&#x4E0B;&#x8F7D;&#x6216;&#x4E0A;&#x4F20;&#x65F6;&#xFF0C;&#x5C06;&#x4E0B;&#x8F7D;&#x6216;&#x4E0A;&#x4F20;&#x4EFB;&#x52A1;&#xFF08;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x6216;&#x4E00;&#x4E2A;&#x538B;&#x7F29;&#x5305;&#xFF09;&#x4EBA;&#x4E3A;&#x7684;&#x5212;&#x5206;&#x4E3A;&#x51E0;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x90E8;&#x5206;&#x91C7;&#x7528;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x8FDB;&#x884C;&#x4E0A;&#x4F20;&#x6216;&#x4E0B;&#x8F7D;&#xFF0C;&#x5982;&#x679C;&#x78B0;&#x5230;&#x7F51;&#x7EDC;&#x6545;&#x969C;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;&#x6216;&#x4E0B;&#x8F7D;&#x7684;&#x90E8;&#x5206;&#x5F00;&#x59CB;&#x7EE7;&#x7EED;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#x672A;&#x5B8C;&#x6210;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x4E0A;&#x4F20;&#x4E0B;&#x8F7D;&#xFF0C;&#x65AD;&#x70B9;&#x7EED;&#x4F20;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x8282;&#x7701;&#x64CD;&#x4F5C;&#x65F6;&#x95F4;&#xFF0C;&#x63D0;&#x9AD8;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x6027;&#x3002; &#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x4E0A;&#x4F20;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x4E0A;&#x4F20;&#x524D;&#x5148;&#x628A;&#x6587;&#x4EF6;&#x5206;&#x6210;&#x5757; 2&#x3001;&#x4E00;&#x5757;&#x4E00;&#x5757;&#x7684;&#x4E0A;&#x4F20;&#xFF0C;&#x4E0A;&#x4F20;&#x4E2D;&#x65AD;&#x540E;&#x91CD;&#x65B0;&#x4E0A;&#x4F20;&#xFF0C;&#x5DF2;&#x4E0A;&#x4F20;&#x7684;&#x5206;&#x5757;&#x5219;&#x4E0D;&#x7528;&#x518D;&#x4E0A;&#x4F20; 3&#x3001;&#x5404;&#x5206;&#x5757;&#x4E0A;&#x4F20;&#x5B8C;&#x6210;&#x6700;&#x540E;&#x5408;&#x5E76;&#x6587;&#x4EF6; &#x6587;&#x4EF6;&#x4E0B;&#x8F7D;&#x5219;&#x540C;&#x7406;&#x3002; &#x6587;&#x4EF6;&#x5206;&#x5757;&#x4E0E;&#x5408;&#x5E76;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x7406;&#x89E3;&#x6587;&#x4EF6;&#x5206;&#x5757;&#x4E0A;&#x4F20;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x4E0B;&#x8FB9;&#x7528;java&#x4EE3;&#x7801;&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x7684;&#x5206;&#x5757;&#x4E0E;&#x5408;&#x5E76;&#x3002; 1.&#x6587;&#x4EF6;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x5206;&#x5757;&#x7684;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x83B7;&#x53D6;&#x6E90;&#x6587;&#x4EF6;&#x957F;&#x5EA6; 2&#x3001;&#x6839;&#x636E;&#x8BBE;&#x5B9A;&#x7684;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x8BA1;&#x7B97;&#x51FA;&#x5757;&#x6570; 3&#x3001;&#x4ECE;&#x6E90;&#x6587;&#x4EF6;&#x8BFB;&#x6570;&#x636E;&#x4F9D;&#x6B21;&#x5411;&#x6BCF;&#x4E00;&#x4E2A;&#x5757;&#x6587;&#x4EF6;&#x5199;&#x6570;&#x636E;&#x3002; //&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x5206;&#x5757; @Test public void testChunk() throws IOException { //&#x6E90;&#x6587;&#x4EF6; File sourceFile = new File(&quot;X:\\workspace\\java\\xczx\\static\\ffmpeg_test\\lucene.avi&quot;); //&#x5757;&#x6587;&#x4EF6;&#x76EE;&#x5F55; String chunkFileFolder = &quot;X:\\workspace\\java\\xczx\\static\\ffmpeg_test\\chunks\\&quot;; //&#x5148;&#x5B9A;&#x4E49;&#x5757;&#x6587;&#x4EF6;&#x5927;&#x5C0F; long chunkFileSize = 1 * 1024 * 1024; //&#x5757;&#x6570; long chunkFileNum = (long) Math.ceil(sourceFile.length() * 1.0 /chunkFileSize); //&#x521B;&#x5EFA;&#x8BFB;&#x6587;&#x4EF6;&#x7684;&#x5BF9;&#x8C61; RandomAccessFile raf_read = new RandomAccessFile(sourceFile,&quot;r&quot;); //&#x7F13;&#x51B2;&#x533A; byte[] b = new byte[1024]; for(int i=0;i&lt;chunkFileNum;i++){ //&#x5757;&#x6587;&#x4EF6; File chunkFile = new File(chunkFileFolder+i); //&#x521B;&#x5EFA;&#x5411;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x5199;&#x5BF9;&#x8C61; RandomAccessFile raf_write = new RandomAccessFile(chunkFile,&quot;rw&quot;); int len = -1; while((len = raf_read.read(b))!=-1){ raf_write.write(b,0,len); //&#x5982;&#x679C;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#x8FBE;&#x5230; 1M&#x5F00;&#x59CB;&#x5199;&#x4E0B;&#x4E00;&#x5757;&#x513F; if(chunkFile.length()&gt;=chunkFileSize){ break; } } raf_write.close(); } raf_read.close(); }2.&#x6587;&#x4EF6;&#x5408;&#x5E76;&#x6587;&#x4EF6;&#x5408;&#x5E76;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x627E;&#x5230;&#x8981;&#x5408;&#x5E76;&#x7684;&#x6587;&#x4EF6;&#x5E76;&#x6309;&#x6587;&#x4EF6;&#x5408;&#x5E76;&#x7684;&#x5148;&#x540E;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002; 2&#x3001;&#x521B;&#x5EFA;&#x5408;&#x5E76;&#x6587;&#x4EF6; 3&#x3001;&#x4F9D;&#x6B21;&#x4ECE;&#x5408;&#x5E76;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5411;&#x5408;&#x5E76;&#x6587;&#x4EF6;&#x5199;&#x5165;&#x6570; //&#x6D4B;&#x8BD5;&#x6587;&#x4EF6;&#x5408;&#x5E76; @Test public void testMergeFile() throws IOException { //&#x5757;&#x6587;&#x4EF6;&#x76EE;&#x5F55; String chunkFileFolderPath = &quot;X:\\workspace\\java\\xczx\\static\\ffmpeg_test\\chunks\\&quot;; //&#x5757;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x5BF9;&#x8C61; File chunkFileFolder = new File(chunkFileFolderPath); //&#x5757;&#x6587;&#x4EF6;&#x5217;&#x8868; File[] files = chunkFileFolder.listFiles(); //&#x5C06;&#x5757;&#x6587;&#x4EF6;&#x6392;&#x5E8F;&#xFF0C;&#x6309;&#x540D;&#x79F0;&#x5347;&#x5E8F; List&lt;File&gt; fileList = Arrays.asList(files); Collections.sort(fileList, new Comparator&lt;File&gt;() { @Override public int compare(File o1, File o2) { if(Integer.parseInt(o1.getName())&gt;Integer.parseInt(o2.getName())){ return 1; } return -1; } }); //&#x5408;&#x5E76;&#x6587;&#x4EF6; File mergeFile = new File(&quot;X:\\workspace\\java\\xczx\\static\\ffmpeg_test\\lucene_merge.avi&quot;); //&#x521B;&#x5EFA;&#x65B0;&#x6587;&#x4EF6; boolean newFile = mergeFile.createNewFile(); //&#x521B;&#x5EFA;&#x5199;&#x5BF9;&#x8C61; RandomAccessFile raf_write = new RandomAccessFile(mergeFile,&quot;rw&quot;); byte[] b = new byte[1024]; for(File chunkFile:fileList){ //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x8BFB;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x5BF9;&#x8C61; RandomAccessFile raf_read = new RandomAccessFile(chunkFile,&quot;r&quot;); int len = -1; while((len = raf_read.read(b))!=-1){ raf_write.write(b,0,len); } raf_read.close(); } raf_write.close(); }&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x53C2;&#x8003;&#xFF1A;&#x201C;&#x8D44;&#x6599;&#x201D;&#x2013;&#x300B;upload.vue&#x6587;&#x4EF6; WebUploader&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x5728;web&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x65AD;&#x70B9;&#x7EED;&#x4F20;&#xFF1F; &#x5E38;&#x89C1;&#x7684;&#x65B9;&#x6848;&#x6709;&#xFF1A; 1&#x3001;&#x901A;&#x8FC7;Flash&#x4E0A;&#x4F20;&#xFF0C;&#x6BD4;&#x5982;SWFupload&#x3001;Uploadify&#x3002; 2&#x3001;&#x5B89;&#x88C5;&#x6D4F;&#x89C8;&#x5668;&#x63D2;&#x4EF6;&#xFF0C;&#x53D8;&#x76F8;&#x7684;pc&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x7528;&#x7684;&#x6BD4;&#x8F83;&#x5C11;&#x3002; 3&#x3001;Html5 &#x968F;&#x7740;html5&#x7684;&#x6D41;&#x884C;&#xFF0C;&#x672C;&#x9879;&#x76EE;&#x91C7;&#x7528;Html5&#x5B8C;&#x6210;&#x6587;&#x4EF6;&#x5206;&#x5757;&#x4E0A;&#x4F20;&#x3002; &#x200B; &#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;WebUploader&#x5B8C;&#x6210;&#x5927;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#x7684;&#x5F00;&#x53D1;&#xFF0C;WebUploader&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;http://fexteam.gz01.bdysite.com/webuploader/ &#x7279;&#x6027;&#x5982;&#x4E0B;&#xFF1A; &#x4F7F;&#x7528;WebUploader&#x4E0A;&#x4F20;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1.&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#x5728;webuploader&#x4E2D;&#x63D0;&#x4F9B;&#x5F88;&#x591A;&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#xFF0C;&#x4E0B;&#x8FB9;&#x5217;&#x51FA;&#x4E00;&#x4E9B;&#x91CD;&#x8981;&#x7684;&#xFF1A; &#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#xFF1A; 1&#xFF09;before-send-file &#x5728;&#x5F00;&#x59CB;&#x5BF9;&#x6587;&#x4EF6;&#x5206;&#x5757;&#x513F;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x505A;&#x4E00;&#x4E9B;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x524D;&#x7684;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x662F;&#x5426;&#x521B;&#x5EFA;&#x5B8C;&#x6210;&#x7B49;&#x3002; 2&#xFF09;before-send &#x5728;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x5206;&#x5757;&#x4E4B;&#x524D;&#x8C03;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x68C0;&#x67E5;&#x5206;&#x5757;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x5B58;&#x5728;&#x5219;&#x6B64;&#x5206;&#x5757;&#x513F;&#x4E0D;&#x518D;&#x4E0A;&#x4F20;&#x3002; 3&#xFF09;after-send-file &#x5728;&#x6240;&#x6709;&#x5206;&#x5757;&#x4E0A;&#x4F20;&#x5B8C;&#x6210;&#x540E;&#x89E6;&#x53D1;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x5408;&#x5E76;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x3002; &#x6CE8;&#x518C;&#x94A9;&#x5B50;&#x65B9;&#x6CD5;&#x6E90;&#x4EE3;&#x7801;&#xFF1A; WebUploader.Uploader.register({ &quot;before-send-file&quot;:&quot;beforeSendFile&quot;, &quot;before-send&quot;:&quot;beforeSend&quot;, &quot;after-send-file&quot;:&quot;afterSendFile&quot; }2.&#x6784;&#x5EFA;WebUploader&#x4F7F;&#x7528;webUploader&#x524D;&#x9700;&#x8981;&#x521B;&#x5EFA;webUploader&#x5BF9;&#x8C61;&#x3002; &#x6307;&#x5B9A;&#x4E0A;&#x4F20;&#x5206;&#x5757;&#x7684;&#x5730;&#x5740;&#xFF1A;/api/media/upload/uploadchunk // &#x521B;&#x5EFA;uploader&#x5BF9;&#x8C61;&#xFF0C;&#x914D;&#x7F6E;&#x53C2;&#x6570; this.uploader = WebUploader.create( { swf:&quot;/static/plugins/webuploader/dist/Uploader.swf&quot;,//&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;flash&#x6587;&#x4EF6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E0D;&#x652F;&#x6301;h5&#x65F6;&#x542F;&#x52A8;flash server:&quot;/api/media/upload/uploadchunk&quot;,//&#x4E0A;&#x4F20;&#x5206;&#x5757;&#x7684;&#x670D;&#x52A1;&#x7AEF;&#x5730;&#x5740;&#xFF0C;&#x6CE8;&#x610F;&#x8DE8;&#x57DF;&#x95EE;&#x9898; fileVal:&quot;file&quot;,//&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x57DF;&#x7684;name pick:&quot;#picker&quot;,//&#x6307;&#x5B9A;&#x9009;&#x62E9;&#x6587;&#x4EF6;&#x7684;&#x6309;&#x94AE;&#x5BB9;&#x5668; auto:false,//&#x624B;&#x52A8;&#x89E6;&#x53D1;&#x4E0A;&#x4F20; disableGlobalDnd:true,//&#x7981;&#x6389;&#x6574;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x62D6;&#x62FD;&#x529F;&#x80FD; chunked:true,// &#x662F;&#x5426;&#x5206;&#x5757;&#x4E0A;&#x4F20; chunkSize:1*1024*1024, // &#x5206;&#x5757;&#x5927;&#x5C0F;&#xFF08;&#x9ED8;&#x8BA4;5M&#xFF09; threads:3, // &#x5F00;&#x542F;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF08;&#x9ED8;&#x8BA4;3&#x4E2A;&#xFF09; prepareNextFile:true// &#x5141;&#x8BB8;&#x5728;&#x6587;&#x4EF6;&#x4F20;&#x8F93;&#x65F6;&#x63D0;&#x524D;&#x628A;&#x4E0B;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x51C6;&#x5907;&#x597D; } );3.before-send-file&#x6587;&#x4EF6;&#x5F00;&#x59CB;&#x4E0A;&#x4F20;&#x524D;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x51C6;&#x5907;&#x4E0A;&#x4F20;&#x5DE5;&#x4F5C;&#x3002; &#x53C2;&#x8003;&#x6E90;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; type:&quot;POST&quot;, url:&quot;/api/media/upload/register&quot;, data:{ // &#x6587;&#x4EF6;&#x552F;&#x4E00;&#x8868;&#x793A; fileMd5:this.fileMd5, fileName: file.name, fileSize:file.size, mimetype:file.type, fileExt:file.ext },4.before-send&#x4E0A;&#x4F20;&#x5206;&#x5757;&#x524D;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x6821;&#x9A8C;&#x5206;&#x5757;&#x662F;&#x5426;&#x5B58;&#x5728;&#x3002; &#x53C2;&#x8003;&#x6E90;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; type:&quot;POST&quot;, url:&quot;/api/media/upload/checkchunk&quot;, data:{ // &#x6587;&#x4EF6;&#x552F;&#x4E00;&#x8868;&#x793A; fileMd5:this.fileMd5, // &#x5F53;&#x524D;&#x5206;&#x5757;&#x4E0B;&#x6807; chunk:block.chunk, // &#x5F53;&#x524D;&#x5206;&#x5757;&#x5927;&#x5C0F; chunkSize:block.end-block.start },5.after-send-file&#x5728;&#x6240;&#x6709;&#x5206;&#x5757;&#x4E0A;&#x4F20;&#x5B8C;&#x6210;&#x540E;&#x89E6;&#x53D1;&#xFF0C;&#x53EF;&#x4EE5;&#x8BF7;&#x6C42;&#x670D;&#x52A1;&#x7AEF;&#x5408;&#x5E76;&#x5206;&#x5757;&#x6587;&#x4EF6; &#x53C2;&#x8003;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; type:&quot;POST&quot;, url:&quot;/api/media/upload/mergechunks&quot;, data:{ fileMd5:this.fileMd5, fileName: file.name, fileSize:file.size, mimetype:file.type, fileExt:file.ext },6.&#x9875;&#x9762;&#x6548;&#x679C; Api&#x5B9A;&#x4E49;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7684;Api&#x63A5;&#x53E3;&#xFF0C;&#x6B64;&#x63A5;&#x6536;&#x662F;&#x524D;&#x7AEF;WebUploader&#x8C03;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x63A5;&#x53E3;&#x3002; &#x7F16;&#x5199;&#x6B64;&#x63A5;&#x53E3;&#x9700;&#x8981;&#x53C2;&#x6570;&#x524D;&#x7AEF;WebUploader&#x5E94;&#x7528;&#x4EE3;&#x7801;&#x3002; @Api(value = &quot;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&quot;,description = &quot;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#xFF0C;&#x63D0;&#x4F9B;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x3001;&#x5904;&#x7406;&#x7B49;&#x63A5;&#x53E3;&quot;) public interface MediaUploadControllerApi { //&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x524D;&#x7684;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;,&#x6821;&#x9A8C;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728; @ApiOperation(&quot;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6CE8;&#x518C;&quot;) public ResponseResult register(String fileMd5, String fileName, Long fileSize, String mimetype, String fileExt); @ApiOperation(&quot;&#x6821;&#x9A8C;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728;&quot;) public CheckChunkResult checkchunk(String fileMd5, Integer chunk, Integer chunkSize); @ApiOperation(&quot;&#x4E0A;&#x4F20;&#x5206;&#x5757;&quot;) public ResponseResult uploadchunk(MultipartFile file, String fileMd5, Integer chunk); @ApiOperation(&quot;&#x5408;&#x5E76;&#x5206;&#x5757;&quot;) public ResponseResult mergechunks(String fileMd5, String fileName, Long fileSize, String mimetype, String fileExt); }&#x5A92;&#x8D44;&#x670D;&#x52A1;&#x7AEF;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x670D;&#x52A1;&#x7AEF;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#x529F;&#x80FD;&#xFF1A; 1&#x3001;&#x4E0A;&#x4F20;&#x524D;&#x68C0;&#x67E5;&#x4E0A;&#x4F20;&#x73AF;&#x5883; &#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E0A;&#x4F20;&#xFF0C;&#x5DF2;&#x4E0A;&#x4F20;&#x5219;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x3002; &#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x521B;&#x5EFA;&#x3002; 2&#x3001;&#x5206;&#x5757;&#x68C0;&#x67E5; &#x68C0;&#x67E5;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x4E0A;&#x4F20;&#xFF0C;&#x5DF2;&#x4E0A;&#x4F20;&#x5219;&#x8FD4;&#x56DE;true&#x3002; &#x672A;&#x4E0A;&#x4F20;&#x5219;&#x68C0;&#x67E5;&#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x521B;&#x5EFA;&#x3002; 3&#x3001;&#x5206;&#x5757;&#x4E0A;&#x4F20; &#x5C06;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x8DEF;&#x5F84;&#x3002; 4&#x3001;&#x5408;&#x5E76;&#x5206;&#x5757; &#x5C06;&#x6240;&#x6709;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x5408;&#x5E76;&#x4E3A;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x3002; &#x5728;&#x6570;&#x636E;&#x5E93;&#x8BB0;&#x5F55;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x3002; &#x4E0A;&#x4F20;&#x6CE8;&#x518C;&#x7531;&#x4E8E;&#x4E0A;&#x4F20;&#x8FC7;&#x7A0B;&#x590D;&#x6742;&#xFF0C;&#x5F00;&#x53D1;&#x65F6;&#x6309;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5206;&#x522B;&#x5B9E;&#x73B0;&#x3002; 1&#x3001;&#x914D;&#x7F6E; application.yml&#x914D;&#x7F6E;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#xFF1A; xc-service-manage-media: upload-location: X:/workspace/java/xczx/static/upload/video/2&#x3001;&#x5B9A;&#x4E49;Dao &#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x7BA1;&#x7406;Dao public interface MediaFileRepository extends MongoRepository&lt;MediaFile,String&gt; { }3&#x3001;Service &#x529F;&#x80FD;&#xFF1A; 1&#xFF09;&#x68C0;&#x67E5;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728; 2&#xFF09;&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x76EE;&#x5F55; import com.xuecheng.framework.domain.media.MediaFile; import com.xuecheng.framework.domain.media.response.CheckChunkResult; import com.xuecheng.framework.domain.media.response.MediaCode; import com.xuecheng.framework.exception.ExceptionCast; import com.xuecheng.framework.model.response.CommonCode; import com.xuecheng.framework.model.response.ResponseResult; import com.xuecheng.manage_media.dao.MediaFileRepository; import org.apache.commons.codec.digest.DigestUtils; import org.apache.commons.io.IOUtils; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.beans.factory.annotation.Value; import org.springframework.stereotype.Service; import org.springframework.web.multipart.MultipartFile; import java.io.*; import java.util.*; /** * @author Administrator * @version 1.0 **/ @Service public class MediaUploadService { @Autowired MediaFileRepository mediaFileRepository; @Value(&quot;${xc-service-manage-media.upload-location}&quot;) String upload_location; //&#x5F97;&#x5230;&#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x76EE;&#x5F55;&#x8DEF;&#x5F84; private String getFileFolderPath(String fileMd5){ return upload_location + fileMd5.substring(0,1) + &quot;/&quot; + fileMd5.substring(1,2) + &quot;/&quot; + fileMd5 + &quot;/&quot;; } //&#x5F97;&#x5230;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84; private String getFilePath(String fileMd5,String fileExt){ return upload_location + fileMd5.substring(0,1) + &quot;/&quot; + fileMd5.substring(1,2) + &quot;/&quot; + fileMd5 + &quot;/&quot; + fileMd5 + &quot;.&quot; +fileExt; } //&#x5F97;&#x5230;&#x5757;&#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x76EE;&#x5F55;&#x8DEF;&#x5F84; private String getChunkFileFolderPath(String fileMd5){ return upload_location + fileMd5.substring(0,1) + &quot;/&quot; + fileMd5.substring(1,2) + &quot;/&quot; + fileMd5 + &quot;/chunk/&quot;; } /** * &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x524D;&#x7684;&#x6CE8;&#x518C;&#xFF0C;&#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728; * &#x6839;&#x636E;&#x6587;&#x4EF6;md5&#x5F97;&#x5230;&#x6587;&#x4EF6;&#x8DEF;&#x5F84; * &#x89C4;&#x5219;&#xFF1A; * &#x4E00;&#x7EA7;&#x76EE;&#x5F55;&#xFF1A;md5&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x5B57;&#x7B26; * &#x4E8C;&#x7EA7;&#x76EE;&#x5F55;&#xFF1A;md5&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x5B57;&#x7B26; * &#x4E09;&#x7EA7;&#x76EE;&#x5F55;&#xFF1A;md5 * &#x6587;&#x4EF6;&#x540D;&#xFF1A;md5+&#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D; * @param fileMd5 &#x6587;&#x4EF6;md5&#x503C; * @param fileExt &#x6587;&#x4EF6;&#x6269;&#x5C55;&#x540D; * @return &#x6587;&#x4EF6;&#x8DEF;&#x5F84; */ public ResponseResult register(String fileMd5, String fileName, Long fileSize, String mimetype, String fileExt) { //1 &#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x5728;&#x78C1;&#x76D8;&#x4E0A;&#x662F;&#x5426;&#x5B58;&#x5728; //&#x6587;&#x4EF6;&#x6240;&#x5C5E;&#x76EE;&#x5F55;&#x7684;&#x8DEF;&#x5F84; String fileFolderPath = this.getFileFolderPath(fileMd5); //&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84; String filePath =this.getFilePath(fileMd5,fileExt); File file = new File(filePath); //&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728; boolean exists = file.exists(); //2 &#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x5728;mongodb&#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728; Optional&lt;MediaFile&gt; optional = mediaFileRepository.findById(fileMd5); if(exists &amp;&amp; optional.isPresent()){ //&#x6587;&#x4EF6;&#x5B58;&#x5728; ExceptionCast.cast(MediaCode.UPLOAD_FILE_REGISTER_EXIST); } //&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728;&#x65F6;&#x4F5C;&#x4E00;&#x4E9B;&#x51C6;&#x5907;&#x5DE5;&#x4F5C;&#xFF0C;&#x68C0;&#x67E5;&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x521B;&#x5EFA; File fileFolder = new File(fileFolderPath); if(!fileFolder.exists()){ fileFolder.mkdirs(); } return new ResponseResult(CommonCode.SUCCESS); } //&#x5206;&#x5757;&#x68C0;&#x67E5; /** * * @param fileMd5 &#x6587;&#x4EF6;md5 * @param chunk &#x5757;&#x7684;&#x4E0B;&#x6807; * @param chunkSize &#x5757;&#x7684;&#x5927;&#x5C0F; * @return */ public CheckChunkResult checkchunk(String fileMd5, Integer chunk, Integer chunkSize) { //&#x68C0;&#x67E5;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5B58;&#x5728; //&#x5F97;&#x5230;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x6240;&#x5728;&#x76EE;&#x5F55; String chunkFileFolderPath = this.getChunkFileFolderPath(fileMd5); //&#x5757;&#x6587;&#x4EF6; File chunkFile = new File(chunkFileFolderPath + chunk); if(chunkFile.exists()){ //&#x5757;&#x6587;&#x4EF6;&#x5B58;&#x5728; return new CheckChunkResult(CommonCode.SUCCESS,true); }else{ //&#x5757;&#x6587;&#x4EF6;&#x4E0D;&#x5B58;&#x5728; return new CheckChunkResult(CommonCode.SUCCESS,false); } } //&#x4E0A;&#x4F20;&#x5206;&#x5757; public ResponseResult uploadchunk(MultipartFile file, String fileMd5, Integer chunk) { //&#x68C0;&#x67E5;&#x5206;&#x5757;&#x76EE;&#x5F55;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8981;&#x81EA;&#x52A8;&#x521B;&#x5EFA; //&#x5F97;&#x5230;&#x5206;&#x5757;&#x76EE;&#x5F55; String chunkFileFolderPath = this.getChunkFileFolderPath(fileMd5); //&#x5F97;&#x5230;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x8DEF;&#x5F84; String chunkFilePath = chunkFileFolderPath + chunk; File chunkFileFolder = new File(chunkFileFolderPath); //&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8981;&#x81EA;&#x52A8;&#x521B;&#x5EFA; if(!chunkFileFolder.exists()){ chunkFileFolder.mkdirs(); } //&#x5F97;&#x5230;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x8F93;&#x5165;&#x6D41; InputStream inputStream = null; FileOutputStream outputStream =null; try { inputStream = file.getInputStream(); outputStream = new FileOutputStream(new File(chunkFilePath)); IOUtils.copy(inputStream,outputStream); } catch (IOException e) { e.printStackTrace(); }finally { try { inputStream.close(); } catch (IOException e) { e.printStackTrace(); } try { outputStream.close(); } catch (IOException e) { e.printStackTrace(); } } return new ResponseResult(CommonCode.SUCCESS); } //&#x5408;&#x5E76;&#x6587;&#x4EF6; public ResponseResult mergechunks(String fileMd5, String fileName, Long fileSize, String mimetype, String fileExt) { //1&#x3001;&#x5408;&#x5E76;&#x6240;&#x6709;&#x5206;&#x5757; //&#x5F97;&#x5230;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x76EE;&#x5F55; String chunkFileFolderPath = this.getChunkFileFolderPath(fileMd5); File chunkFileFolder = new File(chunkFileFolderPath); //&#x5206;&#x5757;&#x6587;&#x4EF6;&#x5217;&#x8868; File[] files = chunkFileFolder.listFiles(); List&lt;File&gt; fileList = Arrays.asList(files); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5408;&#x5E76;&#x6587;&#x4EF6; String filePath = this.getFilePath(fileMd5, fileExt); File mergeFile = new File(filePath); //&#x6267;&#x884C;&#x5408;&#x5E76; mergeFile = this.mergeFile(fileList, mergeFile); if(mergeFile == null){ //&#x5408;&#x5E76;&#x6587;&#x4EF6;&#x5931;&#x8D25; ExceptionCast.cast(MediaCode.MERGE_FILE_FAIL); } //2&#x3001;&#x6821;&#x9A8C;&#x6587;&#x4EF6;&#x7684;md5&#x503C;&#x662F;&#x5426;&#x548C;&#x524D;&#x7AEF;&#x4F20;&#x5165;&#x7684;md5&#x4E00;&#x5230; boolean checkFileMd5 = this.checkFileMd5(mergeFile, fileMd5); if(!checkFileMd5){ //&#x6821;&#x9A8C;&#x6587;&#x4EF6;&#x5931;&#x8D25; ExceptionCast.cast(MediaCode.MERGE_FILE_CHECKFAIL); } //3&#x3001;&#x5C06;&#x6587;&#x4EF6;&#x7684;&#x4FE1;&#x606F;&#x5199;&#x5165;mongodb MediaFile mediaFile = new MediaFile(); mediaFile.setFileId(fileMd5); mediaFile.setFileOriginalName(fileName); mediaFile.setFileName(fileMd5 + &quot;.&quot; +fileExt); //&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4FDD;&#x5B58;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84; String filePath1 = fileMd5.substring(0,1) + &quot;/&quot; + fileMd5.substring(1,2) + &quot;/&quot; + fileMd5 + &quot;/&quot; + fileMd5 + &quot;.&quot; +fileExt; mediaFile.setFilePath(filePath1); mediaFile.setFileSize(fileSize); mediaFile.setUploadTime(new Date()); mediaFile.setMimeType(mimetype); mediaFile.setFileType(fileExt); //&#x72B6;&#x6001;&#x4E3A;&#x4E0A;&#x4F20;&#x6210;&#x529F; mediaFile.setFileStatus(&quot;301002&quot;); mediaFileRepository.save(mediaFile); return new ResponseResult(CommonCode.SUCCESS); } //&#x6821;&#x9A8C;&#x6587;&#x4EF6; private boolean checkFileMd5(File mergeFile,String md5){ try { //&#x521B;&#x5EFA;&#x6587;&#x4EF6;&#x8F93;&#x5165;&#x6D41; FileInputStream inputStream = new FileInputStream(mergeFile); //&#x5F97;&#x5230;&#x6587;&#x4EF6;&#x7684;md5 String md5Hex = DigestUtils.md5Hex(inputStream); //&#x548C;&#x4F20;&#x5165;&#x7684;md5&#x6BD4;&#x8F83; if(md5.equalsIgnoreCase(md5Hex)){ return true; } } catch (Exception e) { e.printStackTrace(); return false; } return false; } //&#x5408;&#x5E76;&#x6587;&#x4EF6; private File mergeFile(List&lt;File&gt; chunkFileList, File mergeFile) { try { //&#x5982;&#x679C;&#x5408;&#x5E76;&#x6587;&#x4EF6;&#x5DF2;&#x5B58;&#x5728;&#x5219;&#x5220;&#x9664;&#xFF0C;&#x5426;&#x5219;&#x521B;&#x5EFA;&#x65B0;&#x6587;&#x4EF6; if (mergeFile.exists()) { mergeFile.delete(); } else { //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x6587;&#x4EF6; mergeFile.createNewFile(); } //&#x5BF9;&#x5757;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6392;&#x5E8F; Collections.sort(chunkFileList, new Comparator&lt;File&gt;() { @Override public int compare(File o1, File o2) { if(Integer.parseInt(o1.getName())&gt;Integer.parseInt(o2.getName())){ return 1; } return -1; } }); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5199;&#x5BF9;&#x8C61; RandomAccessFile raf_write = new RandomAccessFile(mergeFile,&quot;rw&quot;); byte[] b = new byte[1024]; for(File chunkFile:chunkFileList){ RandomAccessFile raf_read = new RandomAccessFile(chunkFile,&quot;r&quot;); int len = -1; while ((len = raf_read.read(b))!=-1){ raf_write.write(b,0,len); } raf_read.close(); } raf_write.close(); return mergeFile; } catch (IOException e) { e.printStackTrace(); return null; } } }3&#x3001;Controller import com.xuecheng.api.media.MediaUploadControllerApi; import com.xuecheng.framework.domain.media.response.CheckChunkResult; import com.xuecheng.framework.model.response.ResponseResult; import com.xuecheng.manage_media.service.MediaUploadService; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.web.bind.annotation.PostMapping; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RestController; import org.springframework.web.multipart.MultipartFile; /** * @author Administrator * @version 1.0 **/ @RestController @RequestMapping(&quot;/media/upload&quot;) public class MediaUploadController implements MediaUploadControllerApi { @Autowired MediaUploadService mediaUploadService; //&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x524D;&#x7684;&#x6CE8;&#x518C; @Override @PostMapping(&quot;/register&quot;) public ResponseResult register(String fileMd5, String fileName, Long fileSize, String mimetype, String fileExt) { return mediaUploadService.register(fileMd5,fileName,fileSize,mimetype,fileExt); } @Override @PostMapping(&quot;/checkchunk&quot;) public CheckChunkResult checkchunk(String fileMd5, Integer chunk, Integer chunkSize) { return mediaUploadService.checkchunk(fileMd5,chunk,chunkSize); } @Override @PostMapping(&quot;/uploadchunk&quot;) public ResponseResult uploadchunk(MultipartFile file, String fileMd5, Integer chunk) { return mediaUploadService.uploadchunk(file,fileMd5,chunk); } @Override @PostMapping(&quot;/mergechunks&quot;) public ResponseResult mergechunks(String fileMd5, String fileName, Long fileSize, String mimetype, String fileExt) { return mediaUploadService.mergechunks(fileMd5,fileName,fileSize, mimetype,fileExt); } } document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-14-shi-pin-chu-li.html</url>
    <content type="text"><![CDATA[&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x89C6;&#x9891;&#x5904;&#x7406;&#x9700;&#x6C42;&#x5206;&#x6790;&#x200B; &#x539F;&#x59CB;&#x89C6;&#x9891;&#x901A;&#x5E38;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x7F16;&#x7801;&#x5904;&#x7406;&#xFF0C;&#x751F;&#x6210;m3u8&#x548C;ts&#x6587;&#x4EF6;&#x65B9;&#x53EF;&#x57FA;&#x4E8E;HLS&#x534F;&#x8BAE;&#x64AD;&#x653E;&#x89C6;&#x9891;&#x3002;&#x901A;&#x5E38;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x539F;&#x59CB;&#x89C6;&#x9891;&#xFF0C;&#x7CFB;&#x7EDF;&#x81EA;&#x52A8;&#x5904;&#x7406;&#x6210;&#x6807;&#x51C6;&#x683C;&#x5F0F;&#xFF0C;&#x7CFB;&#x7EDF;&#x5BF9;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x7684;&#x89C6;&#x9891;&#x81EA;&#x52A8;&#x7F16;&#x7801;&#x3001;&#x8F6C;&#x6362;&#xFF0C;&#x6700;&#x7EC8;&#x751F;&#x6210;m3u8&#x6587;&#x4EF6;&#x548C;ts&#x6587;&#x4EF6;&#xFF0C;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x7528;&#x6237;&#x4E0A;&#x4F20;&#x89C6;&#x9891;&#x6210;&#x529F; 2&#x3001;&#x7CFB;&#x7EDF;&#x5BF9;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x7684;&#x89C6;&#x9891;&#x81EA;&#x52A8;&#x5F00;&#x59CB;&#x7F16;&#x7801;&#x5904;&#x7406; 3&#x3001;&#x7528;&#x6237;&#x67E5;&#x770B;&#x89C6;&#x9891;&#x5904;&#x7406;&#x7ED3;&#x679C;&#xFF0C;&#x6CA1;&#x6709;&#x5904;&#x7406;&#x6210;&#x529F;&#x7684;&#x89C6;&#x9891;&#x7528;&#x6237;&#x53EF;&#x5728;&#x7BA1;&#x7406;&#x754C;&#x9762;&#x518D;&#x6B21;&#x89E6;&#x53D1;&#x5904;&#x7406; 4&#x3001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x5B8C;&#x6210;&#x5C06;&#x89C6;&#x9891;&#x5730;&#x5740;&#x53CA;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x4FDD;&#x5B58;&#x5230;&#x6570;&#x636E;&#x5E93; &#x89C6;&#x9891;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x89C6;&#x9891;&#x5904;&#x7406;&#x8FDB;&#x7A0B;&#x7684;&#x4EFB;&#x52A1;&#x662F;&#x63A5;&#x6536;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5904;&#x7406;&#xFF0C;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x76D1;&#x542C;MQ&#xFF0C;&#x63A5;&#x6536;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F;&#x3002; 2&#x3001;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x3002; 3&#x3001;&#x5411;&#x6570;&#x636E;&#x5E93;&#x5199;&#x5165;&#x89C6;&#x9891;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x3002; &#x89C6;&#x9891;&#x5904;&#x7406;&#x8FDB;&#x7A0B;&#x5C5E;&#x4E8E;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x8003;&#x8651;&#x63D0;&#x9AD8;&#x7CFB;&#x7EDF;&#x7684;&#x6269;&#x5C55;&#x6027;&#xFF0C;&#x5C06;&#x89C6;&#x9891;&#x5904;&#x7406;&#x5355;&#x72EC;&#x5B9A;&#x4E49;&#x89C6;&#x9891;&#x5904;&#x7406;&#x5DE5;&#x7A0B;&#x3002; &#x89C6;&#x9891;&#x5904;&#x7406;&#x5F00;&#x53D1;1.&#x5DE5;&#x7A0B;&#x521B;&#x5EFA;1.&#x5BFC;&#x5165;xc-service-manage-media-processor2.&#x914D;&#x7F6E;RabbitMQ&#x4F7F;&#x7528;rabbitMQ&#x7684;routing&#x4EA4;&#x6362;&#x673A;&#x6A21;&#x5F0F;&#xFF0C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x76D1;&#x542C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x961F;&#x5217;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; RabbitMQ&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; @Configuration public class RabbitMQConfig { public static final String EX_MEDIA_PROCESSTASK = &quot;ex_media_processor&quot;; //&#x89C6;&#x9891;&#x5904;&#x7406;&#x961F;&#x5217; @Value(&quot;${xc-service-manage-media.mq.queue-media-video-processor}&quot;) public String queue_media_video_processtask; //&#x89C6;&#x9891;&#x5904;&#x7406;&#x8DEF;&#x7531; @Value(&quot;${xc-service-manage-media.mq.routingkey-media-video}&quot;) public String routingkey_media_video; //&#x6D88;&#x8D39;&#x8005;&#x5E76;&#x53D1;&#x6570;&#x91CF; public static final int DEFAULT_CONCURRENT = 10; @Bean(&quot;customContainerFactory&quot;) public SimpleRabbitListenerContainerFactory containerFactory(SimpleRabbitListenerContainerFactoryConfigurer configurer, ConnectionFactory connectionFactory) { SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory(); factory.setConcurrentConsumers(DEFAULT_CONCURRENT); factory.setMaxConcurrentConsumers(DEFAULT_CONCURRENT); configurer.configure(factory, connectionFactory); return factory; } /** * &#x4EA4;&#x6362;&#x673A;&#x914D;&#x7F6E; * @return the exchange */ @Bean(EX_MEDIA_PROCESSTASK) public Exchange EX_MEDIA_VIDEOTASK() { return ExchangeBuilder.directExchange(EX_MEDIA_PROCESSTASK).durable(true).build(); } //&#x58F0;&#x660E;&#x961F;&#x5217; @Bean(&quot;queue_media_video_processtask&quot;) public Queue QUEUE_PROCESSTASK() { Queue queue = new Queue(queue_media_video_processtask,true,false,true); return queue; } /** * &#x7ED1;&#x5B9A;&#x961F;&#x5217;&#x5230;&#x4EA4;&#x6362;&#x673A; . * @param queue the queue * @param exchange the exchange * @return the binding */ @Bean public Binding binding_queue_media_processtask(@Qualifier(&quot;queue_media_video_processtask&quot;) Queue queue, @Qualifier(EX_MEDIA_PROCESSTASK) Exchange exchange) { return BindingBuilder.bind(queue).to(exchange).with(routingkey_media_video).noargs(); } }&#x5728;application.yml&#x4E2D;&#x914D;&#x7F6E;&#x961F;&#x5217;&#x540D;&#x79F0;&#x53CA;routingkey: xc-service-manage-media: mq: queue-media-video-processor: queue_media_video_processor routingkey-media-video: routingkey_media_video2.&#x89C6;&#x9891;&#x5904;&#x7406;&#x6280;&#x672F;&#x65B9;&#x6848;&#x5982;&#x4F55;&#x901A;&#x8FC7;&#x7A0B;&#x5E8F;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5904;&#x7406;&#xFF1F; ffmpeg&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x884C;&#x7684;&#x89C6;&#x9891;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;Java&#x8C03;&#x7528;ffmpeg.exe&#x5B8C;&#x6210;&#x89C6;&#x9891;&#x5904;&#x7406;&#x3002; &#x5728;java&#x4E2D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Runtime&#x7C7B;&#x548C;Process Builder&#x7C7B;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x6267;&#x884C;&#x5916;&#x90E8;&#x7A0B;&#x5E8F;&#xFF0C;&#x5DE5;&#x4F5C;&#x4E2D;&#x81F3;&#x5C11;&#x638C;&#x63E1;&#x4E00;&#x79CD;&#x3002; &#x672C;&#x9879;&#x76EE;&#x4F7F;&#x7528;Process Builder&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x8C03;&#x7528;ffmpeg&#x5B8C;&#x6210;&#x89C6;&#x9891;&#x5904;&#x7406;&#x3002; &#x5173;&#x4E8E;Process Builder&#x7684;&#x6D4B;&#x8BD5;&#x5982;&#x4E0B;&#xFF1A; //&#x4F7F;&#x7528;processBuilder&#x6765;&#x8C03;&#x7528;&#x7B2C;&#x4E09;&#x65B9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; @Test public void testProcessBuilder() throws IOException { //&#x521B;&#x5EFA;processBuilder&#x5BF9;&#x8C61; ProcessBuilder processBuilder = new ProcessBuilder(); //&#x8BBE;&#x7F6E;&#x7B2C;&#x4E09;&#x65B9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x547D;&#x4EE4; // processBuilder.command(&quot;ping&quot;,&quot;127.0.0.1&quot;); processBuilder.command(&quot;ipconfig&quot;); //&#x5C06;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6D41;&#x548C;&#x9519;&#x8BEF;&#x6D41;&#x5408;&#x5E76; processBuilder.redirectErrorStream(true); //&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B; Process process = processBuilder.start(); //&#x901A;&#x8FC7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6D41;&#x6765;&#x62FF;&#x5230;&#x6B63;&#x5E38;&#x548C;&#x9519;&#x8BEF;&#x7684;&#x4FE1;&#x606F; InputStream inputStream = process.getInputStream(); //&#x8F6C;&#x6210;&#x5B57;&#x7B26;&#x6D41; InputStreamReader reader = new InputStreamReader(inputStream,&quot;gbk&quot;); //&#x7F13;&#x51B2; char[] chars = new char[1024]; int len = -1; while ((len = reader.read(chars))!=-1){ String string = new String(chars,0,len); System.out.println(string); } inputStream.close(); reader.close(); } @Test public void testFFmpeg() throws IOException { //&#x521B;&#x5EFA;processBuilder&#x5BF9;&#x8C61; ProcessBuilder processBuilder = new ProcessBuilder(); //&#x8BBE;&#x7F6E;&#x7B2C;&#x4E09;&#x65B9;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x547D;&#x4EE4; List&lt;String&gt; command = new ArrayList&lt;&gt;(); command.add(&quot;X:\\softs\\ffmpeg\\bin\\ffmpeg.exe&quot;); command.add(&quot;-i&quot;); command.add(&quot;X:\\workspace\\java\\xczx\\static\\lucene.avi&quot;); command.add(&quot;-y&quot;);//&#x8986;&#x76D6;&#x8F93;&#x51FA;&#x6587;&#x4EF6; command.add(&quot;-c:v&quot;); command.add(&quot;libx264&quot;); command.add(&quot;-s&quot;); command.add(&quot;1280x720&quot;); command.add(&quot;-pix_fmt&quot;); command.add(&quot;yuv420p&quot;); command.add(&quot;-b:a&quot;); command.add(&quot;63k&quot;); command.add(&quot;-b:v&quot;); command.add(&quot;753k&quot;); command.add(&quot;-r&quot;); command.add(&quot;18&quot;); command.add(&quot;X:\\workspace\\java\\xczx\\static\\lucene.mp4&quot;); processBuilder.command(command); //&#x5C06;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6D41;&#x548C;&#x9519;&#x8BEF;&#x6D41;&#x5408;&#x5E76; processBuilder.redirectErrorStream(true); //&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B; Process process = processBuilder.start(); //&#x901A;&#x8FC7;&#x6807;&#x51C6;&#x8F93;&#x5165;&#x6D41;&#x6765;&#x62FF;&#x5230;&#x6B63;&#x5E38;&#x548C;&#x9519;&#x8BEF;&#x7684;&#x4FE1;&#x606F; InputStream inputStream = process.getInputStream(); //&#x8F6C;&#x6210;&#x5B57;&#x7B26;&#x6D41; InputStreamReader reader = new InputStreamReader(inputStream,&quot;gbk&quot;); //&#x7F13;&#x51B2; char[] chars = new char[1024]; int len = -1; while ((len = reader.read(chars))!=-1){ String string = new String(chars,0,len); System.out.println(string); } inputStream.close(); reader.close(); }&#x6D4B;&#x8BD5;Mp4VideoUtil @Test public void testMp4VideoUtil(){ //String ffmpeg_path, String video_path, String mp4_name, String mp4folder_path String ffmpeg_path = &quot;X:\\softs\\ffmpeg\\bin\\ffmpeg.exe&quot;; String video_path = &quot;X:\\workspace\\java\\xczx\\static\\lucene.avi&quot;; String mp4_name = &quot;lucene.mp4&quot;; String mp4folder_path = &quot;X:\\workspace\\java\\xczx\\static\\&quot;; Mp4VideoUtil mp4VideoUtil = new Mp4VideoUtil(ffmpeg_path,video_path,mp4_name,mp4folder_path); //&#x751F;&#x6210;mp4 String result = mp4VideoUtil.generateMp4(); System.out.println(result); }3.&#x89C6;&#x9891;&#x5904;&#x7406;&#x5B9E;&#x73B0;1.&#x786E;&#x5B9A;&#x6D88;&#x606F;&#x683C;&#x5F0F;MQ&#x6D88;&#x606F;&#x7EDF;&#x4E00;&#x91C7;&#x7528;json&#x683C;&#x5F0F;&#xFF0C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x751F;&#x4EA7;&#x65B9;&#x4F1A;&#x5411;MQ&#x53D1;&#x9001;&#x5982;&#x4E0B;&#x6D88;&#x606F;&#xFF0C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x8D39;&#x65B9;&#x63A5;&#x6536;&#x6B64;&#x6D88;&#x606F;&#x540E;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5904;&#x7406;&#xFF1A; &#xFF5B;&#x201C;mediaId&#x201D;:XXX&#xFF5D; 2.&#x5904;&#x7406;&#x6D41;&#x7A0B;1&#xFF09;&#x63A5;&#x6536;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F; 2&#xFF09;&#x5224;&#x65AD;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x9700;&#x8981;&#x5904;&#x7406;&#xFF08;&#x672C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x76EE;&#x524D;&#x53EA;&#x63A5;&#x6536;avi&#x89C6;&#x9891;&#x7684;&#x5904;&#x7406;&#xFF09; &#x5F53;&#x524D;&#x53EA;&#x6709;avi&#x6587;&#x4EF6;&#x9700;&#x8981;&#x5904;&#x7406;&#xFF0C;&#x5176;&#x5B83;&#x6587;&#x4EF6;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x5904;&#x7406;&#x72B6;&#x6001;&#x4E3A;&#x201C;&#x65E0;&#x9700;&#x5904;&#x7406;&#x201D;&#x3002; 3&#xFF09;&#x5904;&#x7406;&#x524D;&#x521D;&#x59CB;&#x5316;&#x5904;&#x7406;&#x72B6;&#x6001;&#x4E3A;&#x201C;&#x672A;&#x5904;&#x7406;&#x201D; 4&#xFF09;&#x5904;&#x7406;&#x5931;&#x8D25;&#x9700;&#x8981;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8BB0;&#x5F55;&#x5904;&#x7406;&#x65E5;&#x5FD7;&#xFF0C;&#x53CA;&#x5904;&#x7406;&#x72B6;&#x6001;&#x4E3A;&#x201C;&#x5904;&#x7406;&#x5931;&#x8D25;&#x201D; 5&#xFF09;&#x5904;&#x7406;&#x6210;&#x529F;&#x8BB0;&#x5F55;&#x5904;&#x7406;&#x72B6;&#x6001;&#x4E3A;&#x201C;&#x5904;&#x7406;&#x6210;&#x529F;&#x201D; &#x6570;&#x636E;&#x6A21;&#x578B;&#x5728;MediaFile&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0;mediaFileProcess_m3u8&#x5C5E;&#x6027;&#x8BB0;&#x5F55;ts&#x6587;&#x4EF6;&#x5217;&#x8868;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x5904;&#x7406;&#x72B6;&#x6001; private String processStatus; //hls&#x5904;&#x7406; private MediaFileProcess_m3u8 mediaFileProcess_m3u8;&#x521B;&#x5EFA;&#x7C7B;MediaFileProcess_m3u8 @Data @ToString public class MediaFileProcess_m3u8 extends MediaFileProcess { //ts&#x5217;&#x8868; private List&lt;String&gt; tslist; }4.&#x89C6;&#x9891;&#x5904;&#x7406;&#x751F;&#x6210;Mp41&#x3001;&#x521B;&#x5EFA;Dao &#x89C6;&#x9891;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x9700;&#x8981;&#x4FDD;&#x5B58;&#x5230;&#x5A92;&#x8D44;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x521B;&#x5EFA;dao&#x5982;&#x4E0B;&#xFF1A; public interface MediaFileRepository extends MongoRepository&lt;MediaFile,String&gt; { }2&#x3001;&#x5728;application.yml&#x4E2D;&#x914D;&#x7F6E;ffmpeg&#x7684;&#x4F4D;&#x7F6E;&#x53CA;&#x89C6;&#x9891;&#x76EE;&#x5F55;&#x7684;&#x6839;&#x76EE;&#x5F55;&#xFF1A; xc-service-manage-media: video-location: X:/workspace/java/xczx/static/video ffmpeg-path: X:/softs/ffmpeg/bin/ffmpeg.exe3&#x3001;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x7C7B; &#x5728;mq&#x5305;&#x4E0B;&#x521B;&#x5EFA;MediaProcessTask&#x7C7B;&#xFF0C;&#x6B64;&#x7C7B;&#x8D1F;&#x8D23;&#x76D1;&#x542C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x961F;&#x5217;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x3002; &#x6574;&#x4E2A;&#x89C6;&#x9891;&#x5904;&#x7406;&#x5185;&#x5BB9;&#x8F83;&#x591A;&#xFF0C;&#x8FD9;&#x91CC;&#x5206;&#x4E24;&#x90E8;&#x5206;&#x5B9E;&#x73B0;&#xFF1A;&#x751F;&#x6210;Mp4&#x548C;&#x751F;&#x6210;m3u8&#xFF0C;&#x4E0B;&#x8FB9;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E86;&#x751F;&#x6210;mp4 @Component public class MediaProcessTask { @Value(&quot;${xc-service-manage-media.ffmpeg-path}&quot;) String ffmpeg_path; //&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x6839;&#x76EE;&#x5F55; @Value(&quot;${xc-service-manage-media.video-location}&quot;) String serverPath; @Autowired MediaFileRepository mediaFileRepository; //&#x63A5;&#x6536;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5904;&#x7406; @RabbitListener(queues=&quot;${xc-service-manage-media.mq.queue-media-video-processor}&quot;,containerFactory = &quot;customContainerFactory&quot;) public void receiveMediaProcessTask(String msg){ //1&#x3001;&#x89E3;&#x6790;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#xFF0C;&#x5F97;&#x5230;mediaId Map map = JSON.parseObject(msg, Map.class); String mediaId = (String) map.get(&quot;mediaId&quot;); //2&#x3001;&#x62FF;mediaId&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x4FE1;&#x606F; Optional&lt;MediaFile&gt; optional = mediaFileRepository.findById(mediaId); if(!optional.isPresent()){ return ; } MediaFile mediaFile = optional.get(); //&#x6587;&#x4EF6;&#x7C7B;&#x578B; String fileType = mediaFile.getFileType(); if(!fileType.equals(&quot;avi&quot;)){ mediaFile.setProcessStatus(&quot;303004&quot;);//&#x65E0;&#x9700;&#x5904;&#x7406; mediaFileRepository.save(mediaFile); return ; }else{ //&#x9700;&#x8981;&#x5904;&#x7406; mediaFile.setProcessStatus(&quot;303001&quot;);//&#x5904;&#x7406;&#x4E2D; mediaFileRepository.save(mediaFile); } //3&#x3001;&#x4F7F;&#x7528;&#x5DE5;&#x5177;&#x7C7B;&#x5C06;avi&#x6587;&#x4EF6;&#x751F;&#x6210;mp4 //String ffmpeg_path, String video_path, String mp4_name, String mp4folder_path //&#x8981;&#x5904;&#x7406;&#x7684;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84; String video_path = serverPath + mediaFile.getFilePath() + mediaFile.getFileName(); //&#x751F;&#x6210;&#x7684;mp4&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0; String mp4_name = mediaFile.getFileId() + &quot;.mp4&quot;; //&#x751F;&#x6210;&#x7684;mp4&#x6240;&#x5728;&#x7684;&#x8DEF;&#x5F84; String mp4folder_path = serverPath + mediaFile.getFilePath(); //&#x521B;&#x5EFA;&#x5DE5;&#x5177;&#x7C7B;&#x5BF9;&#x8C61; Mp4VideoUtil mp4VideoUtil =new Mp4VideoUtil(ffmpeg_path,video_path,mp4_name,mp4folder_path); //&#x8FDB;&#x884C;&#x5904;&#x7406; String result = mp4VideoUtil.generateMp4(); if(result == null || !result.equals(&quot;success&quot;)){ //&#x5904;&#x7406;&#x5931;&#x8D25; mediaFile.setProcessStatus(&quot;303003&quot;); //&#x5B9A;&#x4E49;mediaFileProcess_m3u8 MediaFileProcess_m3u8 mediaFileProcess_m3u8 = new MediaFileProcess_m3u8(); //&#x8BB0;&#x5F55;&#x5931;&#x8D25;&#x539F;&#x56E0; mediaFileProcess_m3u8.setErrormsg(result); mediaFile.setMediaFileProcess_m3u8(mediaFileProcess_m3u8); mediaFileRepository.save(mediaFile); return ; } }&#x8BF4;&#x660E;&#xFF1A; 1&#x3001;&#x539F;&#x59CB;&#x89C6;&#x9891;&#x8F6C;&#x6210;mp4&#x5982;&#x4F55;&#x5224;&#x65AD;&#x8F6C;&#x6362;&#x6210;&#x529F;&#xFF1F; &#x6839;&#x636E;&#x89C6;&#x9891;&#x65F6;&#x957F;&#x6765;&#x5224;&#x65AD;&#xFF0C;&#x53D6;&#x539F;&#x89C6;&#x9891;&#x548C;&#x8F6C;&#x6362;&#x6210;&#x529F;&#x89C6;&#x9891;&#x7684;&#x65F6;&#x957F;&#xFF08;&#x65F6;&#x5206;&#x79D2;&#xFF09;&#xFF0C;&#x5982;&#x679C;&#x76F8;&#x7B49;&#x5219;&#x76F8;&#x540C;&#x3002; 5.&#x89C6;&#x9891;&#x5904;&#x7406;&#x751F;&#x6210;m3u8&#x4E0B;&#x8FB9;&#x662F;&#x5B8C;&#x6574;&#x7684;&#x89C6;&#x9891;&#x5904;&#x7406;&#x4EFB;&#x52A1;&#x7C7B;&#x4EE3;&#x7801;&#xFF0C;&#x5305;&#x62EC;&#x4E86;&#x751F;&#x6210;m3u8&#x53CA;&#x751F;&#x6210;mp4&#x7684;&#x4EE3;&#x7801;&#x3002; @Component public class MediaProcessTask { @Value(&quot;${xc-service-manage-media.ffmpeg-path}&quot;) String ffmpeg_path; //&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x6839;&#x76EE;&#x5F55; @Value(&quot;${xc-service-manage-media.video-location}&quot;) String serverPath; @Autowired MediaFileRepository mediaFileRepository; //&#x63A5;&#x6536;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5904;&#x7406; @RabbitListener(queues=&quot;${xc-service-manage-media.mq.queue-media-video-processor}&quot;,containerFactory = &quot;customContainerFactory&quot;) public void receiveMediaProcessTask(String msg){ //1&#x3001;&#x89E3;&#x6790;&#x6D88;&#x606F;&#x5185;&#x5BB9;&#xFF0C;&#x5F97;&#x5230;mediaId Map map = JSON.parseObject(msg, Map.class); String mediaId = (String) map.get(&quot;mediaId&quot;); //2&#x3001;&#x62FF;mediaId&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x4FE1;&#x606F; Optional&lt;MediaFile&gt; optional = mediaFileRepository.findById(mediaId); if(!optional.isPresent()){ return ; } MediaFile mediaFile = optional.get(); //&#x6587;&#x4EF6;&#x7C7B;&#x578B; String fileType = mediaFile.getFileType(); if(!fileType.equals(&quot;avi&quot;)){ mediaFile.setProcessStatus(&quot;303004&quot;);//&#x65E0;&#x9700;&#x5904;&#x7406; mediaFileRepository.save(mediaFile); return ; }else{ //&#x9700;&#x8981;&#x5904;&#x7406; mediaFile.setProcessStatus(&quot;303001&quot;);//&#x5904;&#x7406;&#x4E2D; mediaFileRepository.save(mediaFile); } //3&#x3001;&#x4F7F;&#x7528;&#x5DE5;&#x5177;&#x7C7B;&#x5C06;avi&#x6587;&#x4EF6;&#x751F;&#x6210;mp4 //String ffmpeg_path, String video_path, String mp4_name, String mp4folder_path //&#x8981;&#x5904;&#x7406;&#x7684;&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84; String video_path = serverPath + mediaFile.getFilePath() + mediaFile.getFileName(); //&#x751F;&#x6210;&#x7684;mp4&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0; String mp4_name = mediaFile.getFileId() + &quot;.mp4&quot;; //&#x751F;&#x6210;&#x7684;mp4&#x6240;&#x5728;&#x7684;&#x8DEF;&#x5F84; String mp4folder_path = serverPath + mediaFile.getFilePath(); //&#x521B;&#x5EFA;&#x5DE5;&#x5177;&#x7C7B;&#x5BF9;&#x8C61; Mp4VideoUtil mp4VideoUtil =new Mp4VideoUtil(ffmpeg_path,video_path,mp4_name,mp4folder_path); //&#x8FDB;&#x884C;&#x5904;&#x7406; String result = mp4VideoUtil.generateMp4(); if(result == null || !result.equals(&quot;success&quot;)){ //&#x5904;&#x7406;&#x5931;&#x8D25; mediaFile.setProcessStatus(&quot;303003&quot;); //&#x5B9A;&#x4E49;mediaFileProcess_m3u8 MediaFileProcess_m3u8 mediaFileProcess_m3u8 = new MediaFileProcess_m3u8(); //&#x8BB0;&#x5F55;&#x5931;&#x8D25;&#x539F;&#x56E0; mediaFileProcess_m3u8.setErrormsg(result); mediaFile.setMediaFileProcess_m3u8(mediaFileProcess_m3u8); mediaFileRepository.save(mediaFile); return ; } //4&#x3001;&#x5C06;mp4&#x751F;&#x6210;m3u8&#x548C;ts&#x6587;&#x4EF6; //String ffmpeg_path, String video_path, String m3u8_name,String m3u8folder_path //mp4&#x89C6;&#x9891;&#x6587;&#x4EF6;&#x8DEF;&#x5F84; String mp4_video_path = serverPath + mediaFile.getFilePath() + mp4_name; //m3u8_name&#x6587;&#x4EF6;&#x540D;&#x79F0; String m3u8_name = mediaFile.getFileId() +&quot;.m3u8&quot;; //m3u8&#x6587;&#x4EF6;&#x6240;&#x5728;&#x76EE;&#x5F55; String m3u8folder_path = serverPath + mediaFile.getFilePath() + &quot;hls/&quot;; HlsVideoUtil hlsVideoUtil = new HlsVideoUtil(ffmpeg_path,mp4_video_path,m3u8_name,m3u8folder_path); //&#x751F;&#x6210;m3u8&#x548C;ts&#x6587;&#x4EF6; String tsResult = hlsVideoUtil.generateM3u8(); if(tsResult == null || !tsResult.equals(&quot;success&quot;)){ //&#x5904;&#x7406;&#x5931;&#x8D25; mediaFile.setProcessStatus(&quot;303003&quot;); //&#x5B9A;&#x4E49;mediaFileProcess_m3u8 MediaFileProcess_m3u8 mediaFileProcess_m3u8 = new MediaFileProcess_m3u8(); //&#x8BB0;&#x5F55;&#x5931;&#x8D25;&#x539F;&#x56E0; mediaFileProcess_m3u8.setErrormsg(result); mediaFile.setMediaFileProcess_m3u8(mediaFileProcess_m3u8); mediaFileRepository.save(mediaFile); return ; } //&#x5904;&#x7406;&#x6210;&#x529F; //&#x83B7;&#x53D6;ts&#x6587;&#x4EF6;&#x5217;&#x8868; List&lt;String&gt; ts_list = hlsVideoUtil.get_ts_list(); mediaFile.setProcessStatus(&quot;303002&quot;); //&#x5B9A;&#x4E49;mediaFileProcess_m3u8 MediaFileProcess_m3u8 mediaFileProcess_m3u8 = new MediaFileProcess_m3u8(); mediaFileProcess_m3u8.setTslist(ts_list); mediaFile.setMediaFileProcess_m3u8(mediaFileProcess_m3u8); //&#x4FDD;&#x5B58;fileUrl&#xFF08;&#x6B64;url&#x5C31;&#x662F;&#x89C6;&#x9891;&#x64AD;&#x653E;&#x7684;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84;&#xFF09; String fileUrl =mediaFile.getFilePath() + &quot;hls/&quot;+m3u8_name; mediaFile.setFileUrl(fileUrl); mediaFileRepository.save(mediaFile); } }mp4&#x8F6C;&#x6210;m3u8&#x5982;&#x4F55;&#x5224;&#x65AD;&#x8F6C;&#x6362;&#x6210;&#x529F;&#xFF1F; &#x7B2C;&#x4E00;&#x3001;&#x6839;&#x636E;&#x89C6;&#x9891;&#x65F6;&#x957F;&#x6765;&#x5224;&#x65AD;&#xFF0C;&#x540C;mp4&#x8F6C;&#x6362;&#x6210;&#x529F;&#x7684;&#x5224;&#x65AD;&#x65B9;&#x6CD5;&#x3002; &#x7B2C;&#x4E8C;&#x3001;&#x6700;&#x540E;&#x8FD8;&#x8981;&#x5224;&#x65AD;m3u8&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x5B8C;&#x6574;&#x3002; &#x53D1;&#x9001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F;&#x5F53;&#x89C6;&#x9891;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x540E;&#x5411;MQ &#x53D1;&#x9001;&#x89C6;&#x9891; &#x5904;&#x7406;&#x6D88;&#x606F;&#x3002; &#x4FEE;&#x6539;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x7684;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4EE3;&#x7801;&#xFF0C;&#x5F53;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x5411;MQ&#x53D1;&#x9001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F;&#x3002; 1.RabbitMQ&#x914D;&#x7F6E;1&#x3001;&#x5728;media&#x5DE5;&#x7A0B;&#x4E0B;&#x914D;&#x7F6E;RabbitMQConfig&#x3002; @Configuration public class RabbitMQConfig { public static final String EX_MEDIA_PROCESSTASK = &quot;ex_media_processor&quot;; //&#x89C6;&#x9891;&#x5904;&#x7406;&#x8DEF;&#x7531; @Value(&quot;${xc-service-manage-media.mq.routingkey-media-video}&quot;) public String routingkey_media_video; //&#x6D88;&#x8D39;&#x8005;&#x5E76;&#x53D1;&#x6570;&#x91CF; public static final int DEFAULT_CONCURRENT = 10; /** * &#x4EA4;&#x6362;&#x673A;&#x914D;&#x7F6E; * @return the exchange */ @Bean(EX_MEDIA_PROCESSTASK) public Exchange EX_MEDIA_VIDEOTASK() { return ExchangeBuilder.directExchange(EX_MEDIA_PROCESSTASK).durable(true).build(); } }2&#x3001;&#x5728;media&#x5DE5;&#x7A0B;&#x4E0B;&#x914D;&#x7F6E;mq&#x961F;&#x5217;&#x7B49;&#x4FE1;&#x606F; &#x4FEE;&#x6539;application.yml mq: routingkey-media-video: routingkey_media_video&#x4FEE;&#x6539;Service&#x6DFB;&#x52A0;&#x6210;&#x5458;&#x53D8;&#x91CF; @Value(&quot;${xc-service-manage-media.mq.routingkey-media-video}&quot;) String routingkey_media_video; @Autowired RabbitTemplate rabbitTemplate;&#x5728;&#x6587;&#x4EF6;&#x5408;&#x5E76;&#x65B9;&#x6CD5;&#x4E2D;&#x6DFB;&#x52A0;&#x5411;mq&#x53D1;&#x9001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F;&#x7684;&#x4EE3;&#x7801;&#xFF1A; /** * &#x53D1;&#x9001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F; * @param mediaId &#x6587;&#x4EF6;id * @return */ public ResponseResult sendProcessVideoMsg(String mediaId){ //&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;mediaFile Optional&lt;MediaFile&gt; optional = mediaFileRepository.findById(mediaId); if(!optional.isPresent()){ ExceptionCast.cast(CommonCode.FAIL); } //&#x6784;&#x5EFA;&#x6D88;&#x606F;&#x5185;&#x5BB9; Map&lt;String,String&gt; map = new HashMap&lt;&gt;(); map.put(&quot;mediaId&quot;,mediaId); String jsonString = JSON.toJSONString(map); //&#x5411;MQ&#x53D1;&#x9001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F; try { rabbitTemplate.convertAndSend(RabbitMQConfig.EX_MEDIA_PROCESSTASK,routingkey_media_video,jsonString); } catch (AmqpException e) { e.printStackTrace(); return new ResponseResult(CommonCode.FAIL); } return new ResponseResult(CommonCode.SUCCESS); }&#x5728;mergechunks&#x65B9;&#x6CD5;&#x6700;&#x540E;&#x8C03;&#x7528;sendProcessVideo&#x65B9;&#x6CD5;&#x3002; //&#x5408;&#x5E76;&#x6587;&#x4EF6; public ResponseResult mergechunks(String fileMd5, String fileName, Long fileSize, String mimetype, String fileExt) { //1&#x3001;&#x5408;&#x5E76;&#x6240;&#x6709;&#x5206;&#x5757; //&#x5F97;&#x5230;&#x5206;&#x5757;&#x6587;&#x4EF6;&#x7684;&#x5C5E;&#x76EE;&#x5F55; String chunkFileFolderPath = this.getChunkFileFolderPath(fileMd5); File chunkFileFolder = new File(chunkFileFolderPath); //&#x5206;&#x5757;&#x6587;&#x4EF6;&#x5217;&#x8868; File[] files = chunkFileFolder.listFiles(); List&lt;File&gt; fileList = Arrays.asList(files); //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5408;&#x5E76;&#x6587;&#x4EF6; String filePath = this.getFilePath(fileMd5, fileExt); File mergeFile = new File(filePath); //&#x6267;&#x884C;&#x5408;&#x5E76; mergeFile = this.mergeFile(fileList, mergeFile); if(mergeFile == null){ //&#x5408;&#x5E76;&#x6587;&#x4EF6;&#x5931;&#x8D25; ExceptionCast.cast(MediaCode.MERGE_FILE_FAIL); } //2&#x3001;&#x6821;&#x9A8C;&#x6587;&#x4EF6;&#x7684;md5&#x503C;&#x662F;&#x5426;&#x548C;&#x524D;&#x7AEF;&#x4F20;&#x5165;&#x7684;md5&#x4E00;&#x5230; boolean checkFileMd5 = this.checkFileMd5(mergeFile, fileMd5); if(!checkFileMd5){ //&#x6821;&#x9A8C;&#x6587;&#x4EF6;&#x5931;&#x8D25; ExceptionCast.cast(MediaCode.MERGE_FILE_CHECKFAIL); } //3&#x3001;&#x5C06;&#x6587;&#x4EF6;&#x7684;&#x4FE1;&#x606F;&#x5199;&#x5165;mongodb MediaFile mediaFile = new MediaFile(); mediaFile.setFileId(fileMd5); mediaFile.setFileOriginalName(fileName); mediaFile.setFileName(fileMd5 + &quot;.&quot; +fileExt); //&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x4FDD;&#x5B58;&#x76F8;&#x5BF9;&#x8DEF;&#x5F84; String filePath1 = fileMd5.substring(0,1) + &quot;/&quot; + fileMd5.substring(1,2) + &quot;/&quot; + fileMd5 + &quot;/&quot;; mediaFile.setFilePath(filePath1); mediaFile.setFileSize(fileSize); mediaFile.setUploadTime(new Date()); mediaFile.setMimeType(mimetype); mediaFile.setFileType(fileExt); //&#x72B6;&#x6001;&#x4E3A;&#x4E0A;&#x4F20;&#x6210;&#x529F; mediaFile.setFileStatus(&quot;301002&quot;); mediaFileRepository.save(mediaFile); //&#x5411;MQ&#x53D1;&#x9001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F; sendProcessVideoMsg(mediaFile.getFileId()); return new ResponseResult(CommonCode.SUCCESS); }&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D4B;&#x8BD5;&#x6D4B;&#x8BD5;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x4E0A;&#x4F20;avi&#x6587;&#x4EF6; 2&#x3001;&#x89C2;&#x5BDF;&#x65E5;&#x5FD7;&#x662F;&#x5426;&#x53D1;&#x9001;&#x6D88;&#x606F; 3&#x3001;&#x89C2;&#x5BDF;&#x89C6;&#x9891;&#x5904;&#x7406;&#x8FDB;&#x7A0B;&#x662F;&#x5426;&#x63A5;&#x6536;&#x5230;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x5904;&#x7406; 4&#x3001;&#x89C2;&#x5BDF;mp4&#x6587;&#x4EF6;&#x662F;&#x5426;&#x751F;&#x6210; 5&#x3001;&#x89C2;&#x5BDF;m3u8&#x53CA; ts&#x6587;&#x4EF6;&#x662F;&#x5426;&#x751F;&#x6210; &#x89C6;&#x9891;&#x5904;&#x7406;&#x5E76;&#x53D1;&#x8BBE;&#x7F6E;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;@RabbitListener&#x6CE8;&#x89E3;&#x6307;&#x5B9A;&#x6D88;&#x8D39;&#x65B9;&#x6CD5;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#x76D1;&#x542C;&#x961F;&#x5217;&#xFF0C;&#x53EF;&#x4EE5;&#x89C2;&#x5BDF;&#x5F53;&#x961F;&#x5217;&#x6709;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x65F6;&#x6D88;&#x8D39;&#x7AEF;&#x6BCF;&#x6B21;&#x53EA;&#x6D88;&#x8D39;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#xFF0C;&#x5355;&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#x6D88;&#x606F;&#x5BB9;&#x6613;&#x5F15;&#x8D77;&#x6D88;&#x606F;&#x5904;&#x7406;&#x7F13;&#x6162;&#xFF0C;&#x6D88;&#x606F;&#x5806;&#x79EF;&#xFF0C;&#x4E0D;&#x80FD;&#x6700;&#x5927;&#x5229;&#x7528;&#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x3002; &#x53EF;&#x4EE5;&#x914D;&#x7F6E;mq&#x7684;&#x5BB9;&#x5668;&#x5DE5;&#x5382;&#x53C2;&#x6570;&#xFF0C;&#x589E;&#x52A0;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x6570;&#x91CF;&#x5373;&#x53EF;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#x76D1;&#x542C;&#x961F;&#x5217;&#xFF0C;&#x5B9E;&#x73B0;&#x591A;&#x7EBF;&#x7A0B;&#x5904;&#x7406;&#x6D88;&#x606F;&#x3002; 1&#x3001;&#x5728;RabbitmqConfig.java&#x4E2D;&#x6DFB;&#x52A0;&#x5BB9;&#x5668;&#x5DE5;&#x5382;&#x914D;&#x7F6E;&#xFF1A; //&#x6D88;&#x8D39;&#x8005;&#x5E76;&#x53D1;&#x6570;&#x91CF; public static final int DEFAULT_CONCURRENT = 10; @Bean(&quot;customContainerFactory&quot;) public SimpleRabbitListenerContainerFactory containerFactory(SimpleRabbitListenerContainerFactoryConfigurer configurer, ConnectionFactory connectionFactory) { SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory(); factory.setConcurrentConsumers(DEFAULT_CONCURRENT); factory.setMaxConcurrentConsumers(DEFAULT_CONCURRENT); configurer.configure(factory, connectionFactory); return factory; }2&#x3001;&#x5728;@RabbitListener&#x6CE8;&#x89E3;&#x4E2D;&#x6307;&#x5B9A;&#x5BB9;&#x5668;&#x5DE5;&#x5382; //&#x63A5;&#x6536;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6D88;&#x606F;&#x8FDB;&#x884C;&#x89C6;&#x9891;&#x5904;&#x7406; @RabbitListener(queues=&quot;${xc-service-manage-media.mq.queue-media-video-processor}&quot;,containerFactory = &quot;customContainerFactory&quot;)&#x518D;&#x6B21;&#x6D4B;&#x8BD5;&#x5F53;&#x961F;&#x5217;&#x6709;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x65F6;&#x6D88;&#x8D39;&#x7AEF;&#x7684;&#x5E76;&#x53D1;&#x5904;&#x7406;&#x80FD;&#x529B;&#x3002; &#x6211;&#x7684;&#x5A92;&#x8D44;&#x9700;&#x6C42;&#x5206;&#x6790;&#x901A;&#x8FC7;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x53EF;&#x4EE5;&#x67E5;&#x8BE2;&#x672C;&#x6559;&#x80B2;&#x673A;&#x6784;&#x62E5;&#x6709;&#x7684;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#xFF0C;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x5904;&#x7406;&#x3001;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x3001;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x7B49;&#x64CD;&#x4F5C;&#xFF0C;&#x5177;&#x4F53;&#x9700;&#x6C42;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x6587;&#x4EF6; 2&#x3001;&#x5220;&#x9664;&#x5A92;&#x8D44;&#x6587;&#x4EF6; 3&#x3001;&#x5904;&#x7406;&#x5A92;&#x8D44;&#x6587;&#x4EF6; 4&#x3001;&#x4FEE;&#x6539;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x4FE1;&#x606F; API&#x672C;&#x8282;&#x8BB2;&#x89E3;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x5206;&#x9875;&#x67E5;&#x8BE2;&#x3001;&#x5904;&#x7406;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#xFF0C;&#x5176;&#x5B83;&#x529F;&#x80FD;&#x8BF7;&#x5B66;&#x5458;&#x81EA;&#x884C;&#x5B9E;&#x73B0;&#x3002; @Api(value = &quot;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x7BA1;&#x7406;&quot;,description = &quot;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&quot;,tags = {&quot;&#x5A92;&#x4F53;&#x6587;&#x4EF6;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&quot;}) public interface MediaFileControllerApi { @ApiOperation(&quot;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x67E5;&#x8BE2;&#x5217;&#x8868;&quot;) public QueryResponseResult&lt;MediaFile&gt; findList(int page, int size, QueryMediaFileRequest queryMediaFileRequest); }Controller@RestController @RequestMapping(&quot;/media/file&quot;) public class MediaFileController implements MediaFileControllerApi { @Autowired MediaFileService mediaFileService; @Override @GetMapping(&quot;/list/{page}/{size}&quot;) public QueryResponseResult&lt;MediaFile&gt; findList(int page, int size, QueryMediaFileRequest queryMediaFileRequest) { return mediaFileService.findList(page,size,queryMediaFileRequest); } }Service&#x5B9A;&#x4E49;findList&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x67E5;&#x8BE2;&#x5217;&#x8868;&#x3002; @Service public class MediaFileService { private static Logger logger = LoggerFactory.getLogger(MediaFileService.class); @Autowired MediaFileRepository mediaFileRepository; //&#x6587;&#x4EF6;&#x5217;&#x8868;&#x5206;&#x9875;&#x67E5;&#x8BE2; public QueryResponseResult findList(int page,int size,QueryMediaFileRequest queryMediaFileRequest){ //&#x67E5;&#x8BE2;&#x6761;&#x4EF6; MediaFile mediaFile = new MediaFile(); if(queryMediaFileRequest == null){ queryMediaFileRequest = new QueryMediaFileRequest(); } //&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x5339;&#x914D;&#x5668; ExampleMatcher matcher = ExampleMatcher.matching() .withMatcher(&quot;tag&quot;, ExampleMatcher.GenericPropertyMatchers.contains())//tag&#x5B57;&#x6BB5;&#x6A21;&#x7CCA;&#x5339;&#x914D; .withMatcher(&quot;fileOriginalName&quot;, ExampleMatcher.GenericPropertyMatchers.contains())//&#x6587;&#x4EF6;&#x539F;&#x59CB;&#x540D;&#x79F0;&#x6A21;&#x7CCA;&#x5339;&#x914D; .withMatcher(&quot;processStatus&quot;, ExampleMatcher.GenericPropertyMatchers.exact());//&#x5904;&#x7406;&#x72B6;&#x6001;&#x7CBE;&#x786E;&#x5339;&#x914D;&#xFF08;&#x9ED8;&#x8BA4;&#xFF09; //&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x5BF9;&#x8C61; if(StringUtils.isNotEmpty(queryMediaFileRequest.getTag())){ mediaFile.setTag(queryMediaFileRequest.getTag()); } if(StringUtils.isNotEmpty(queryMediaFileRequest.getFileOriginalName())){ mediaFile.setFileOriginalName(queryMediaFileRequest.getFileOriginalName()); } if(StringUtils.isNotEmpty(queryMediaFileRequest.getProcessStatus())){ mediaFile.setProcessStatus(queryMediaFileRequest.getProcessStatus()); } //&#x5B9A;&#x4E49;example&#x5B9E;&#x4F8B; Example&lt;MediaFile&gt; ex = Example.of(mediaFile, matcher); page = page-1; //&#x5206;&#x9875;&#x53C2;&#x6570; Pageable pageable = new PageRequest(page, size); //&#x5206;&#x9875;&#x67E5;&#x8BE2; Page&lt;MediaFile&gt; all = mediaFileRepository.findAll(ex,pageable); QueryResult&lt;MediaFile&gt; mediaFileQueryResult = new QueryResult&lt;MediaFile&gt;(); mediaFileQueryResult.setList(all.getContent()); mediaFileQueryResult.setTotal(all.getTotalElements()); return new QueryResponseResult(CommonCode.SUCCESS,mediaFileQueryResult); } }Daopublic interface MediaFileRepository extends MongoRepository&lt;MediaFile,String&gt; { }&#x524D;&#x7AEF;API&#x65B9;&#x6CD5;&#x5728;media&#x6A21;&#x5757;&#x5B9A;&#x4E49;api&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; import http from &apos;./../../../base/api/public&apos; import querystring from &apos;querystring&apos; let sysConfig = require(&apos;@/../config/sysConfig&apos;) let apiUrl = sysConfig.xcApiUrlPre; /*&#x9875;&#x9762;&#x5217;&#x8868;*/ export const media_list = (page,size,params) =&gt; { //params&#x4E3A;json&#x683C;&#x5F0F; //&#x4F7F;&#x7528;querystring&#x5C06;json&#x5BF9;&#x8C61;&#x8F6C;&#x6210;key/value&#x4E32; let querys = querystring.stringify(params) return http.requestQuickGet(apiUrl+&apos;/media/file/list/&apos;+page+&apos;/&apos;+size+&apos;/?&apos;+querys) } /*&#x53D1;&#x9001;&#x5904;&#x7406;&#x6D88;&#x606F;*/ export const media_process = (id) =&gt; { return http.requestPost(apiUrl+&apos;/media/file/process/&apos;+id) }&#x9875;&#x9762;&#x5728;media&#x6A21;&#x5757;&#x521B;&#x5EFA;media_list.vue&#xFF0C;&#x53EF;&#x53C2;&#x8003;cms&#x7CFB;&#x7EDF;&#x7684;page_list.vue&#x6765;&#x7F16;&#x5199;&#x6B64;&#x9875;&#x9762;&#x3002; 1&#x3001;&#x89C6;&#x56FE; &lt;template&gt; &lt;div&gt; &lt;!--&#x67E5;&#x8BE2;&#x8868;&#x5355;--&gt; &lt;el-form :model=&quot;params&quot;&gt; &#x6807;&#x7B7E;&#xFF1A; &lt;el-input v-model=&quot;params.tag&quot; style=&quot;width:160px&quot;&gt;&lt;/el-input&gt; &#x539F;&#x59CB;&#x540D;&#x79F0;&#xFF1A; &lt;el-input v-model=&quot;params.fileOriginalName&quot; style=&quot;width:160px&quot;&gt;&lt;/el-input&gt; &#x5904;&#x7406;&#x72B6;&#x6001;&#xFF1A; &lt;el-select v-model=&quot;params.processStatus&quot; placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&#x5904;&#x7406;&#x72B6;&#x6001;&quot;&gt; &lt;el-option v-for=&quot;item in processStatusList&quot; :key=&quot;item.id&quot; :label=&quot;item.name&quot; :value=&quot;item.id&quot;&gt; &lt;/el-option&gt; &lt;/el-select&gt; &lt;br/&gt; &lt;el-button type=&quot;primary&quot; v-on:click=&quot;query&quot; size=&quot;small&quot;&gt;&#x67E5;&#x8BE2;&lt;/el-button&gt; &lt;router-link class=&quot;mui-tab-item&quot; :to=&quot;{path:&apos;/upload&apos;}&quot;&gt; &lt;el-button type=&quot;primary&quot; size=&quot;small&quot; v-if=&quot;ischoose != true&quot;&gt;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&lt;/el-button&gt; &lt;/router-link&gt; &lt;/el-form&gt; &lt;!--&#x5217;&#x8868;--&gt; &lt;el-table :data=&quot;list&quot; highlight-current-row v-loading=&quot;listLoading&quot; style=&quot;width: 100%;&quot;&gt; &lt;el-table-column type=&quot;index&quot; width=&quot;30&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;fileOriginalName&quot; label=&quot;&#x539F;&#x59CB;&#x6587;&#x4EF6;&#x540D;&#x79F0;&quot; width=&quot;220&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;fileName&quot; label=&quot;&#x6587;&#x4EF6;&#x540D;&#x79F0;&quot; width=&quot;220&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;fileUrl&quot; label=&quot;&#x8BBF;&#x95EE;url&quot; width=&quot;260&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;tag&quot; label=&quot;&#x6807;&#x7B7E;&quot; width=&quot;100&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;fileSize&quot; label=&quot;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&quot; width=&quot;120&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;processStatus&quot; label=&quot;&#x5904;&#x7406;&#x72B6;&#x6001;&quot; width=&quot;100&quot; :formatter=&quot;formatProcessStatus&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column prop=&quot;uploadTime&quot; label=&quot;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&quot; width=&quot;110&quot; :formatter=&quot;formatCreatetime&quot;&gt; &lt;/el-table-column&gt; &lt;el-table-column label=&quot;&#x5F00;&#x59CB;&#x5904;&#x7406;&quot; width=&quot;100&quot; v-if=&quot;ischoose != true&quot;&gt; &lt;template slot-scope=&quot;scope&quot;&gt; &lt;el-button size=&quot;small&quot; type=&quot;primary&quot; plain @click=&quot;process(scope.row.fileId)&quot;&gt;&#x5F00;&#x59CB;&#x5904;&#x7406; &lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;el-table-column label=&quot;&#x9009;&#x62E9;&quot; width=&quot;80&quot; v-if=&quot;ischoose == true&quot;&gt; &lt;template slot-scope=&quot;scope&quot;&gt; &lt;el-button size=&quot;small&quot; type=&quot;primary&quot; plain @click=&quot;choose(scope.row)&quot;&gt;&#x9009;&#x62E9;&lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;!--&#x5206;&#x9875;--&gt; &lt;el-col :span=&quot;24&quot; class=&quot;toolbar&quot;&gt; &lt;el-pagination background layout=&quot;prev, pager, next&quot; @current-change=&quot;changePage&quot; :page-size=&quot;this.params.size&quot; :total=&quot;total&quot; :current-page=&quot;this.params.page&quot; style=&quot;float:right;&quot;&gt; &lt;/el-pagination&gt; &lt;/el-col&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; import * as mediaApi from &apos;../api/media&apos; import utilApi from &apos;@/common/utils&apos;; export default{ props: [&apos;ischoose&apos;], data(){ return { params:{ page:1,//&#x9875;&#x7801; size:10,//&#x6BCF;&#x9875;&#x663E;&#x793A;&#x4E2A;&#x6570; tag:&apos;&apos;,//&#x6807;&#x7B7E; fileName:&apos;&apos;,//&#x6587;&#x4EF6;&#x540D;&#x79F0; processStatus:&apos;&apos;//&#x5904;&#x7406;&#x72B6;&#x6001; }, listLoading:false, list:[], total:0, processStatusList:[] } }, methods:{ formatCreatetime(row, column){ var createTime = new Date(row.uploadTime); if (createTime) { return utilApi.formatDate(createTime, &apos;yyyy-MM-dd hh:mm:ss&apos;); } }, formatProcessStatus(row,column){ var processStatus = row.processStatus; if (processStatus) { if(processStatus == &apos;303001&apos;){ return &quot;&#x5904;&#x7406;&#x4E2D;&quot;; }else if(processStatus == &apos;303002&apos;){ return &quot;&#x5904;&#x7406;&#x6210;&#x529F;&quot;; }else if(processStatus == &apos;303003&apos;){ return &quot;&#x5904;&#x7406;&#x5931;&#x8D25;&quot;; }else if(processStatus == &apos;303004&apos;){ return &quot;&#x65E0;&#x9700;&#x5904;&#x7406;&quot;; } } }, choose(mediaFile){ if(mediaFile.processStatus !=&apos;303002&apos; &amp;&amp; mediaFile.processStatus !=&apos;303004&apos;){ this.$message.error(&apos;&#x8BE5;&#x6587;&#x4EF6;&#x672A;&#x5904;&#x7406;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x9009;&#x62E9;&apos;); return ; } if(!mediaFile.fileUrl){ this.$message.error(&apos;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;url&#x4E3A;&#x7A7A;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x9009;&#x62E9;&apos;); return ; } //&#x8C03;&#x7528;&#x7236;&#x7EC4;&#x4EF6;&#x7684;choosemedia&#x65B9;&#x6CD5; this.$emit(&apos;choosemedia&apos;,mediaFile.fileId,mediaFile.fileOriginalName,mediaFile.fileUrl); }, changePage(page){ this.params.page = page; this.query() }, process (id) { // console.log(id) mediaApi.media_process(id).then((res)=&gt;{ console.log(res) if(res.success){ this.$message.success(&apos;&#x5F00;&#x59CB;&#x5904;&#x7406;&#xFF0C;&#x8BF7;&#x7A0D;&#x540E;&#x67E5;&#x770B;&#x5904;&#x7406;&#x7ED3;&#x679C;&apos;); }else{ this.$message.error(&apos;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&#xFF0C;&#x8BF7;&#x5237;&#x65B0;&#x9875;&#x9762;&#x91CD;&#x8BD5;&apos;); } }) }, query(){ mediaApi.media_list(this.params.page,this.params.size,this.params).then((res)=&gt;{ console.log(res) this.total = res.queryResult.total this.list = res.queryResult.list }) } }, created(){ //&#x9ED8;&#x8BA4;&#x7B2C;&#x4E00;&#x9875; this.params.page = Number.parseInt(this.$route.query.page||1); }, mounted() { //&#x9ED8;&#x8BA4;&#x67E5;&#x8BE2;&#x9875;&#x9762; this.query() //&#x521D;&#x59CB;&#x5316;&#x5904;&#x7406;&#x72B6;&#x6001; this.processStatusList = [ { id:&apos;&apos;, name:&apos;&#x5168;&#x90E8;&apos; }, { id:&apos;303001&apos;, name:&apos;&#x5904;&#x7406;&#x4E2D;&apos; }, { id:&apos;303002&apos;, name:&apos;&#x5904;&#x7406;&#x6210;&#x529F;&apos; }, { id:&apos;303003&apos;, name:&apos;&#x5904;&#x7406;&#x5931;&#x8D25;&apos; }, { id:&apos;303004&apos;, name:&apos;&#x65E0;&#x9700;&#x5904;&#x7406;&apos; } ] } } &lt;/script&gt; &lt;style&gt; &lt;/style&gt;&#x5A92;&#x8D44;&#x4E0E;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5173;&#x8054;&#x9700;&#x6C42;&#x5206;&#x6790;&#x5230;&#x76EE;&#x524D;&#x4E3A;&#x6B62;&#xFF0C;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x5DF2;&#x5B8C;&#x6210;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x3001;&#x89C6;&#x9891;&#x5904;&#x7406;&#x3001;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x529F;&#x80FD;&#x7B49;&#x57FA;&#x672C;&#x529F;&#x80FD;&#x3002;&#x5176;&#x5B83;&#x6A21;&#x5757;&#x5DF2;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5A92;&#x8D44;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#xFF0C;&#x672C;&#x8282;&#x8981;&#x8BB2;&#x89E3;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5728;&#x7F16;&#x8F91;&#x65F6;&#x5982;&#x4F55;&#x9009;&#x62E9;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x3002; &#x64CD;&#x4F5C;&#x7684;&#x4E1A;&#x52A1;&#x6D41;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; 1&#x3001;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FEE;&#x6539;&#x9875;&#x9762; 2&#x3001;&#x9009;&#x62E9;&#x89C6;&#x9891; &#x6253;&#x5F00;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x67E5;&#x8BE2;&#x7A97;&#x53E3;&#xFF0C;&#x627E;&#x5230;&#x8BE5;&#x8BFE;&#x7A0B;&#x7AE0;&#x8282;&#x7684;&#x89C6;&#x9891;&#xFF0C;&#x9009;&#x62E9;&#x6B64;&#x89C6;&#x9891;&#x3002; &#x70B9;&#x51FB;&#x201C;&#x9009;&#x62E9;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x201D;&#x6253;&#x5F00;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x5217;&#x8868; 3&#x3001; &#x9009;&#x62E9;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x5C06;&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5BF9;&#x5E94;&#x5728;&#x7684;&#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#x5730;&#x5740;&#x3002; &#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;&#x521B;&#x5EFA;&#x8868; teachplan_media &#x5B58;&#x50A8;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E0E;&#x5A92;&#x8D44;&#x5173;&#x8054;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x9009;&#x62E9;&#x89C6;&#x9891;Vue&#x7236;&#x5B50;&#x7EC4;&#x4EF6;&#x901A;&#x4FE1;&#x4E0A;&#x4E00;&#x7AE0;&#x5DF2;&#x5B9E;&#x73B0;&#x4E86;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x9875;&#x9762;&#xFF0C;&#x6240;&#x4EE5;&#x5A92;&#x8D44;&#x67E5;&#x8BE2;&#x7A97;&#x53E3;&#x9875;&#x9762;&#x4E0D;&#x9700;&#x8981;&#x518D;&#x5F00;&#x53D1;&#xFF0C;&#x5C06;&#x201C;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x9875;&#x9762;&#x201D;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x5728;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#x4E2D;&#x5F15;&#x7528;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#x4E3A;&#x7236;&#x7EC4;&#x4EF6;&#xFF0C;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x67E5;&#x8BE2;&#x9875;&#x9762;&#x4E3A;&#x5B50;&#x7EC4;&#x4EF6;&#x3002; &#x95EE;&#x9898;1&#xFF1A; &#x6211;&#x7684;&#x5A92;&#x8D44;&#x9875;&#x9762;&#x5728;&#x9009;&#x62E9;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x65F6;&#x4E0D;&#x5141;&#x8BB8;&#x663E;&#x793A;&#xFF0C;&#x6BD4;&#x5982;&#x201C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x201D;&#x6309;&#x94AE;&#xFF0C;&#x8BE5;&#x5982;&#x4F55;&#x63A7;&#x5236;&#xFF1F; &#x8FD9;&#x65F6;&#x5C31;&#x9700;&#x8981;&#x7236;&#x7EC4;&#x4EF6;&#xFF08;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#xFF09;&#x5411;&#x5B50;&#x7EC4;&#x4EF6;&#xFF08;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x9875;&#x9762;&#xFF09;&#x4F20;&#x5165;&#x4E00;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x4F7F;&#x7528;&#x6B64;&#x53D8;&#x91CF;&#x6765;&#x63A7;&#x5236;&#x5F53;&#x524D;&#x662F;&#x5426;&#x8FDB;&#x5165;&#x9009;&#x62E9;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x4E1A;&#x52A1;&#xFF0C;&#x4ECE;&#x800C;&#x63A7;&#x5236;&#x54EA;&#x4E9B;&#x5143;&#x7D20;&#x4E0D;&#x663E;&#x793A;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x95EE;&#x9898;2&#xFF1A; &#x5728;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x9875;&#x9762;&#x9009;&#x62E9;&#x4E86;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x4F55;&#x5C06;&#x9009;&#x62E9;&#x7684;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#x4F20;&#x5230;&#x7236;&#x7EC4;&#x4EF6;&#xFF1F; &#x8FD9;&#x65F6;&#x5C31;&#x9700;&#x8981;&#x5B50;&#x7EC4;&#x4EF6;&#x8C03;&#x7528;&#x7236;&#x7EC4;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x89E3;&#x51B3;&#x6B64;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#xFF1A; &#x7236;&#x7EC4;&#x4EF6;&#xFF08;&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#xFF09;&#x672C;&#x8282;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#xFF1A;&#x5728;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#x6253;&#x5F00;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x9875;&#x9762;&#x3002; 1&#x3001;&#x5728;course_plane.vue&#x4E2D;&#x5F15;&#x5165;&#x5B50;&#x7EC4;&#x4EF6; import mediaList from &apos;@/module/media/page/media_list.vue&apos;; export default { components:{ mediaList },2&#x3001;&#x4F7F;&#x7528;&#x5B50;&#x7EC4;&#x4EF6; &#x5728;&#x7236;&#x7EC4;&#x4EF6;&#x7684;&#x89C6;&#x56FE;&#x4E2D;&#x4F7F;&#x7528;&#x5B50;&#x7EC4;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x4F20;&#x5165;&#x53D8;&#x91CF;ischoose&#xFF0C;&#x5E76;&#x6307;&#x5B9A;&#x7236;&#x7EC4;&#x4EF6;&#x7684;&#x65B9;&#x6CD5;&#x540D;&#x4E3A;choosemedia &#x8FD9;&#x91CC;&#x4F7F;&#x7528;el-dialog &#x5B9E;&#x73B0;&#x5F39;&#x51FA;&#x7A97;&#x53E3;&#x3002; &lt;el-dialog title=&quot;&#x9009;&#x62E9;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&quot; :visible.sync=&quot;mediaFormVisible&quot;&gt; &lt;media-list v-bind:ischoose=&quot;true&quot; @choosemedia=&quot;choosemedia&quot;&gt;&lt;/media-list&gt; &lt;/el-dialog&gt;3&#x3001;choosemedia&#x65B9;&#x6CD5; &#x5728;&#x7236;&#x7EC4;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;choosemedia&#x65B9;&#x6CD5;&#xFF0C;&#x63A5;&#x6536;&#x5B50;&#x7EC4;&#x4EF6;&#x8C03;&#x7528;&#xFF0C;&#x53C2;&#x6570;&#x5305;&#x62EC;&#xFF1A;&#x5A92;&#x8D44;&#x6587;&#x4EF6;id&#x3001;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x7684;&#x539F;&#x59CB;&#x540D;&#x79F0;&#x3001;&#x5A92;&#x8D44;&#x6587;&#x4EF6;url choosemedia(mediaId,fileOriginalName,mediaUrl){ }4&#x3001;&#x6253;&#x5F00;&#x5B50;&#x7EC4;&#x4EF6;&#x7A97;&#x53E3; 1&#xFF09;&#x6253;&#x5F00;&#x5B50;&#x7EC4;&#x4EF6;&#x7A97;&#x53E3;&#x6309;&#x94AE;&#x5B9A;&#x4E49; //&#x6DFB;&#x52A0;&#x201C;&#x9009;&#x62E9;&#x89C6;&#x9891;&#x201D;&#x6309;&#x94AE;&#xFF1A; &lt;el-button style=&quot;font-size: 12px;&quot; type=&quot;text&quot; on-click={ () =&gt; this.choosevideo(data) }&gt;{data.mediaFileOriginalName}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &#x9009;&#x62E9;&#x89C6;&#x9891;&lt;/el-button&gt;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5B50;&#x7EC4;&#x4EF6;&#xFF08;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x67E5;&#x8BE2;&#xFF09;1&#x3001;&#x5B9A;&#x4E49;ischoose&#x53D8;&#x91CF;&#xFF0C;&#x63A5;&#x6536;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x5165;&#x7684;ischoose export default{ props: [&apos;ischoose&apos;], data(){2&#x3001;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x7684;ischoose&#x53D8;&#x91CF;&#x4E3A; true&#x65F6;&#x8868;&#x793A;&#x5F53;&#x524D;&#x662F;&#x9009;&#x62E9;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x4E1A;&#x52A1;&#xFF0C;&#x9700;&#x8981;&#x63A7;&#x5236;&#x9875;&#x9762;&#x5143;&#x7D20;&#x662F;&#x5426;&#x663E;&#x793A; 1&#xFF09;ischoose=true&#xFF0C;&#x9009;&#x62E9;&#x6309;&#x94AE;&#x663E;&#x793A; &lt;el-table-column label=&quot;&#x9009;&#x62E9;&quot; width=&quot;80&quot; v-if=&quot;ischoose == true&quot;&gt; &lt;template slot-scope=&quot;scope&quot;&gt; &lt;el-button size=&quot;small&quot; type=&quot;primary&quot; plain @click=&quot;choose(scope.row)&quot;&gt;&#x9009;&#x62E9;&lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt;2&#xFF09;ischoose=false&#xFF0C;&#x89C6;&#x9891;&#x5904;&#x7406;&#x6309;&#x94AE;&#x663E;&#x793A; &lt;el-table-column label=&quot;&#x9009;&#x62E9;&quot; width=&quot;80&quot; v-if=&quot;ischoose == true&quot;&gt; &lt;template slot-scope=&quot;scope&quot;&gt; &lt;el-button size=&quot;small&quot; type=&quot;primary&quot; plain @click=&quot;choose(scope.row)&quot;&gt;&#x9009;&#x62E9;&lt;/el-button&gt; &lt;/template&gt; &lt;/el-table-column&gt;3&#x3001;&#x9009;&#x62E9;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x65B9;&#x6CD5; &#x7528;&#x6237;&#x70B9;&#x51FB;&#x201C;&#x9009;&#x62E9;&#x201D;&#x6309;&#x94AE;&#x5C06;&#x5411;&#x7236;&#x7EC4;&#x4EF6;&#x4F20;&#x9012;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x4FE1;&#x606F; choose(mediaFile){ if(mediaFile.processStatus !=&apos;303002&apos; &amp;&amp; mediaFile.processStatus !=&apos;303004&apos;){ this.$message.error(&apos;&#x8BE5;&#x6587;&#x4EF6;&#x672A;&#x5904;&#x7406;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x9009;&#x62E9;&apos;); return ; } if(!mediaFile.fileUrl){ this.$message.error(&apos;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x8BBF;&#x95EE;url&#x4E3A;&#x7A7A;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x9009;&#x62E9;&apos;); return ; } //&#x8C03;&#x7528;&#x7236;&#x7EC4;&#x4EF6;&#x7684;choosemedia&#x65B9;&#x6CD5; this.$emit(&apos;choosemedia&apos;,mediaFile.fileId,mediaFile.fileOriginalName,mediaFile.fileUrl); },&#x4FDD;&#x5B58;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#x9700;&#x6C42;&#x5206;&#x6790;&#x7528;&#x6237;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#xFF0C;&#x9009;&#x62E9;&#x89C6;&#x9891;&#xFF0C;&#x5C06;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E0E;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002; &#x7528;&#x6237;&#x64CD;&#x4F5C;&#x6D41;&#x7A0B;&#xFF1A; 1&#x3001;&#x8FDB;&#x5165;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#xFF0C;&#x70B9;&#x51FB;&#x201D;&#x9009;&#x62E9;&#x89C6;&#x9891;&#x201C;&#xFF0C;&#x6253;&#x5F00;&#x6211;&#x7684;&#x5A92;&#x8D44;&#x67E5;&#x8BE2;&#x9875;&#x9762; 2&#x3001;&#x4E3A;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x89C6;&#x9891;&#xFF0C;&#x9009;&#x62E9;&#x201C;&#x9009;&#x62E9;&#x201D; 3&#x3001;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E0E;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#x3002; &#x6570;&#x636E;&#x6A21;&#x578B; &#x5728;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;&#x521B;&#x5EFA;&#x8868; teachplan_media &#x5B58;&#x50A8;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E0E;&#x5A92;&#x8D44;&#x5173;&#x8054;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x521B;&#x5EFA;teachplanMedia &#x6A21;&#x578B;&#x7C7B;&#xFF1A; @Data @ToString @Entity @Table(name=&quot;teachplan_media&quot;) @GenericGenerator(name = &quot;jpa-assigned&quot;, strategy = &quot;assigned&quot;) public class TeachplanMedia implements Serializable { private static final long serialVersionUID = -916357110051689485L; @Id @GeneratedValue(generator = &quot;jpa-assigned&quot;) @Column(name=&quot;teachplan_id&quot;) private String teachplanId; @Column(name=&quot;media_id&quot;) private String mediaId; @Column(name=&quot;media_fileoriginalname&quot;) private String mediaFileOriginalName; @Column(name=&quot;media_url&quot;) private String mediaUrl; @Column(name=&quot;courseid&quot;) private String courseId; }API&#x63A5;&#x53E3;&#x6B64;&#x63A5;&#x53E3;&#x4F5C;&#x4E3A;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E0E;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#x7684;&#x63A5;&#x53E3;&#xFF1A; &#x5728;course&#x5305;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x589E;&#x52A0;&#x63A5;&#x53E3;&#xFF1A; @ApiOperation(&quot;&#x4FDD;&#x5B58;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4E0E;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x5173;&#x8054;&quot;) public ResponseResult savemedia(TeachplanMedia teachplanMedia);DAO&#x521B;&#x5EFA;TeachplanMediaRepository&#x7528;&#x4E8E;&#x5BF9;TeachplanMedia&#x7684;&#x64CD;&#x4F5C;&#x3002; public interface TeachplanMediaRepository extends JpaRepository&lt;TeachplanMedia, String&gt; { }&#x4FEE;&#x6539;&#x6A21;&#x578B;&#x7C7B;CourseCode COURSE_DENIED_DELETE(false,31001,&quot;&#x5220;&#x9664;&#x8BFE;&#x7A0B;&#x5931;&#x8D25;&#xFF0C;&#x53EA;&#x5141;&#x8BB8;&#x5220;&#x9664;&#x672C;&#x673A;&#x6784;&#x7684;&#x8BFE;&#x7A0B;&#xFF01;&quot;), COURSE_PUBLISH_PERVIEWISNULL(false,31002,&quot;&#x8FD8;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x8BFE;&#x7A0B;&#x9884;&#x89C8;&#xFF01;&quot;), COURSE_PUBLISH_CDETAILERROR(false,31003,&quot;&#x521B;&#x5EFA;&#x8BFE;&#x7A0B;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x51FA;&#x9519;&#xFF01;&quot;), COURSE_PUBLISH_COURSEIDISNULL(false,31004,&quot;&#x8BFE;&#x7A0B;Id&#x4E3A;&#x7A7A;&#xFF01;&quot;), COURSE_PUBLISH_VIEWERROR(false,31005,&quot;&#x53D1;&#x5E03;&#x8BFE;&#x7A0B;&#x89C6;&#x56FE;&#x51FA;&#x9519;&#xFF01;&quot;), COURSE_MEDIS_URLISNULL(false,31101,&quot;&#x9009;&#x62E9;&#x7684;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x8BBF;&#x95EE;&#x5730;&#x5740;&#x4E3A;&#x7A7A;&#xFF01;&quot;), COURSE_MEDIS_NAMEISNULL(false,31102,&quot;&#x9009;&#x62E9;&#x7684;&#x5A92;&#x8D44;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x4E3A;&#x7A7A;&#xFF01;&quot;), COURSE_MEDIA_TEACHPLAN_GRADEERROR(false,31104,&quot;&#x53EA;&#x5141;&#x8BB8;&#x9009;&#x62E9;&#x7B2C;&#x4E09;&#x7EA7;&#x7684;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x5173;&#x8054;&#x89C6;&#x9891;&#xFF01;&quot;);Service @Autowired TeachplanMediaRepository teachplanMediaRepository; //&#x4FDD;&#x5B58;&#x5A92;&#x8D44;&#x4FE1;&#x606F; public ResponseResult savemedia(TeachplanMedia teachplanMedia) { if(teachplanMedia == null){ ExceptionCast.cast(CommonCode.INVALIDPARAM); } //&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; String teachplanId = teachplanMedia.getTeachplanId(); //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; Optional&lt;Teachplan&gt; optional = teachplanRepository.findById(teachplanId); if(!optional.isPresent()){ ExceptionCast.cast(CourseCode.COURSE_MEDIA_TEACHPLAN_ISNULL); } Teachplan teachplan = optional.get(); //&#x53EA;&#x5141;&#x8BB8;&#x4E3A;&#x53F6;&#x5B50;&#x7ED3;&#x70B9;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9009;&#x62E9;&#x89C6;&#x9891; String grade = teachplan.getGrade(); if(StringUtils.isEmpty(grade) || !grade.equals(&quot;3&quot;)){ ExceptionCast.cast(CourseCode.COURSE_MEDIA_TEACHPLAN_GRADEERROR); } TeachplanMedia one = null; Optional&lt;TeachplanMedia&gt; teachplanMediaOptional = teachplanMediaRepository.findById(teachplanId); if(!teachplanMediaOptional.isPresent()){ one = new TeachplanMedia(); }else{ one = teachplanMediaOptional.get(); } //&#x4FDD;&#x5B58;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x4E0E;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FE1;&#x606F; one.setTeachplanId(teachplanId); one.setCourseId(teachplanMedia.getCourseId()); one.setMediaFileOriginalName(teachplanMedia.getMediaFileOriginalName()); one.setMediaId(teachplanMedia.getMediaId()); one.setMediaUrl(teachplanMedia.getMediaUrl()); teachplanMediaRepository.save(one); return new ResponseResult(CommonCode.SUCCESS); }Controller @Override @PostMapping(&quot;/savemedia&quot;) public ResponseResult savemedia(@RequestBody TeachplanMedia teachplanMedia) { return courseService.savemedia(teachplanMedia); }&#x524D;&#x7AEF;API&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;api&#x65B9;&#x6CD5;&#xFF0C;&#x8C03;&#x7528;&#x8BFE;&#x7A0B;&#x7BA1;&#x7406;&#x670D;&#x52A1;&#x4FDD;&#x5B58;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x63A5;&#x53E3; /*&#x4FDD;&#x5B58;&#x5A92;&#x8D44;&#x4FE1;&#x606F;*/ export const savemedia = teachplanMedia =&gt; { return http.requestPost(apiUrl+&apos;/course/savemedia&apos;,teachplanMedia); }API&#x8C03;&#x7528;&#x5728;&#x8BFE;&#x7A0B;&#x89C6;&#x9891;&#x65B9;&#x6CD5;&#x4E2D;&#x8C03;&#x7528;api&#xFF1A; //&#x4FDD;&#x5B58;&#x9009;&#x62E9;&#x7684;&#x89C6;&#x9891; choosemedia(mediaId,fileOriginalName,mediaUrl){ //&#x4FDD;&#x5B58;&#x89C6;&#x9891;&#x5230;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x8868;&#x4E2D; let teachplanMedia ={} teachplanMedia.mediaId =mediaId; teachplanMedia.mediaFileOriginalName =fileOriginalName; teachplanMedia.mediaUrl =mediaUrl; teachplanMedia.courseId =this.courseid; //&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; teachplanMedia.teachplanId=this.teachplanId courseApi.savemedia(teachplanMedia).then(res=&gt;{ if(res.success){ this.$message.success(&quot;&#x9009;&#x62E9;&#x89C6;&#x9891;&#x6210;&#x529F;&quot;) //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; this.findTeachplan() }else{ this.$message.error(res.message) } }) },&#x6D4B;&#x8BD5;1&#x3001;&#x5411;&#x53F6;&#x5B50;&#x7ED3;&#x70B9;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FDD;&#x5B58;&#x5A92;&#x8D44;&#x4FE1;&#x606F; &#x64CD;&#x4F5C;&#x7ED3;&#x679C;&#xFF1A;&#x4FDD;&#x5B58;&#x6210;&#x529F; 2&#x3001;&#x5411;&#x975E;&#x53F6;&#x5B50;&#x7ED3;&#x70B9;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4FDD;&#x5B58;&#x5A92;&#x8D44;&#x4FE1;&#x606F; &#x64CD;&#x4F5C;&#x7ED3;&#x679C;&#xFF1A;&#x4FDD;&#x5B58;&#x5931;&#x8D25; &#x67E5;&#x8BE2;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#x9700;&#x6C42;&#x5206;&#x6790;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7684;&#x89C6;&#x9891;&#x4FE1;&#x606F;&#x4FDD;&#x5B58;&#x540E;&#x5728;&#x9875;&#x9762;&#x65E0;&#x6CD5;&#x67E5;&#x770B;&#xFF0C;&#x672C;&#x8282;&#x89E3;&#x51B3;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x9875;&#x9762;&#x663E;&#x793A;&#x76F8;&#x5173;&#x8054;&#x7684;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x3002; &#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A; &#x5728;&#x83B7;&#x53D6;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x6811;&#x7ED3;&#x70B9;&#x4FE1;&#x606F;&#x65F6;&#x5C06;&#x5173;&#x8054;&#x7684;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#x4E00;&#x5E76;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x5728;&#x524D;&#x7AEF;&#x663E;&#x793A;&#xFF0C;&#x4E0B;&#x56FE;&#x8BF4;&#x660E;&#x4E86;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x663E;&#x793A;&#x7684;&#x533A;&#x57DF;&#x3002; Dao&#x4FEE;&#x6539;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x67E5;&#x8BE2;&#x7684;Dao: 1&#x3001;&#x4FEE;&#x6539;&#x6A21;&#x578B; &#x5728;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7ED3;&#x679C;&#x4FE1;&#x606F;&#x4E2D;&#x6DFB;&#x52A0;&#x5A92;&#x8D44;&#x4FE1;&#x606F; @Data @ToString public class TeachplanNode extends Teachplan { List&lt;TeachplanNode&gt; children; //&#x5A92;&#x8D44;&#x4FE1;&#x606F; private String mediaId; private String mediaFileoriginalname; }2&#x3001;&#x4FEE;&#x6539;sql&#x8BED;&#x53E5;&#xFF0C;&#x6DFB;&#x52A0;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#x5A92;&#x8D44;&#x4FE1;&#x606F; &#x6DFB;&#x52A0;mediaId&#x3001;mediaFileOriginalName &lt;resultMap id=&quot;teachplanMap&quot; type=&quot;com.xuecheng.framework.domain.course.ext.TeachplanNode&quot;&gt; &lt;id column=&quot;one_id&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;one_pname&quot; property=&quot;pname&quot;&gt;&lt;/result&gt; &lt;collection property=&quot;children&quot; ofType=&quot;com.xuecheng.framework.domain.course.ext.TeachplanNode&quot;&gt; &lt;id column=&quot;two_id&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;two_pname&quot; property=&quot;pname&quot;&gt;&lt;/result&gt; &lt;collection property=&quot;children&quot; ofType=&quot;com.xuecheng.framework.domain.course.ext.TeachplanNode&quot;&gt; &lt;id column=&quot;three_id&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;three_pname&quot; property=&quot;pname&quot;&gt;&lt;/result&gt; &lt;result column=&quot;media_id&quot; property=&quot;mediaId&quot;&gt;&lt;/result&gt; &lt;result column=&quot;media_fileoriginalname&quot; property=&quot;mediaFileoriginalname&quot;&gt;&lt;/result&gt; &lt;/collection&gt; &lt;/collection&gt; &lt;/resultMap&gt; &lt;select id=&quot;selectList&quot; parameterType=&quot;java.lang.String&quot; resultMap=&quot;teachplanMap&quot;&gt; SELECT a.id one_id, a.pname one_pname, b.id two_id, b.pname two_pname, c.id three_id, c.pname three_pname, teachplan_media.media_id, teachplan_media.media_fileoriginalname FROM teachplan a LEFT JOIN teachplan b ON b.parentid = a.id LEFT JOIN teachplan c ON c.parentid = b.id LEFT JOIN teachplan_media ON c.id = teachplan_media.teachplan_id WHERE a.parentid = &apos;0&apos; &lt;if test=&quot;_parameter!=null and _parameter != &apos;&apos;&quot;&gt; AND a.courseid = #{courseId} &lt;/if&gt; ORDER BY a.orderby, b.orderby, c.orderby &lt;/select&gt;&#x9875;&#x9762;&#x67E5;&#x8BE2;&#x89C6;&#x9891;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x7ED3;&#x70B9;&#x4FE1;&#x606F;&#x5DF2;&#x5305;&#x62EC;&#x5A92;&#x8D44;&#x4FE1;&#x606F;&#xFF0C;&#x53EF;&#x5728;&#x9875;&#x9762;&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#x540E;&#x663E;&#x793A;&#xFF1A; &lt;el-button style=&quot;font-size: 12px;&quot; type=&quot;text&quot; on-click={ () =&gt; this.choosevideo(data) }&gt;{data.mediaFileoriginalname}&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &#x9009;&#x62E9;&#x89C6;&#x9891;&lt;/el-button&gt;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x9009;&#x62E9;&#x89C6;&#x9891;&#x540E;&#x7ACB;&#x5373;&#x5237;&#x65B0;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x6811;&#xFF0C;&#x5728;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x6DFB;&#x52A0;&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x4EE3;&#x7801;&#xFF1A;this.findTeachplan()&#xFF0C;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x4FDD;&#x5B58;&#x9009;&#x62E9;&#x7684;&#x89C6;&#x9891; choosemedia(mediaId,fileOriginalName,mediaUrl){ //&#x4FDD;&#x5B58;&#x89C6;&#x9891;&#x5230;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212;&#x8868;&#x4E2D; let teachplanMedia ={} teachplanMedia.mediaId =mediaId; teachplanMedia.mediaFileOriginalName =fileOriginalName; teachplanMedia.mediaUrl =mediaUrl; teachplanMedia.courseId =this.courseid; //&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; teachplanMedia.teachplanId=this.teachplanId courseApi.savemedia(teachplanMedia).then(res=&gt;{ if(res.success){ this.$message.success(&quot;&#x9009;&#x62E9;&#x89C6;&#x9891;&#x6210;&#x529F;&quot;) //&#x67E5;&#x8BE2;&#x8BFE;&#x7A0B;&#x8BA1;&#x5212; this.findTeachplan() }else{ this.$message.error(res.message) } }) }, document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fxue-cheng-zai-xian%2Fxue-cheng-zai-xian-10-elasticsearch.html</url>
    <content type="text"><![CDATA[Elasticearch&#x4ECB;&#x7ECD; &#x5B98;&#x65B9;&#x7F51;&#x5740;&#xFF1A;https://www.elastic.co/cn/products/elasticsearch Github&#xFF1A;https://github.com/elastic/elasticsearch &#x603B;&#x7ED3;&#xFF1A; 1&#x3001;elasticsearch&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x4E8E;Lucene&#x7684;&#x9AD8;&#x6269;&#x5C55;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x641C;&#x7D22;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x652F;&#x6301;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#x3002; 2&#x3001;elasticsearch&#x9690;&#x85CF;&#x4E86;Lucene&#x7684;&#x590D;&#x6742;&#x6027;&#xFF0C;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;Restful &#x63A5;&#x53E3;&#x6765;&#x64CD;&#x4F5C;&#x7D22;&#x5F15;&#x3001;&#x641C;&#x7D22;&#x3002; &#x7A81;&#x51FA;&#x4F18;&#x70B9;&#xFF1A; 1.&#x6269;&#x5C55;&#x6027;&#x597D;&#xFF0C;&#x53EF;&#x90E8;&#x7F72;&#x4E0A;&#x767E;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x96C6;&#x7FA4;&#xFF0C;&#x5904;&#x7406;PB&#x7EA7;&#x6570;&#x636E;&#x3002; 2.&#x8FD1;&#x5B9E;&#x65F6;&#x7684;&#x53BB;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x3001;&#x641C;&#x7D22;&#x6570;&#x636E;&#x3002; es&#x548C;solr&#x9009;&#x62E9;&#x54EA;&#x4E2A;&#xFF1F; 1.&#x5982;&#x679C;&#x4F60;&#x516C;&#x53F8;&#x73B0;&#x5728;&#x7528;&#x7684;solr&#x53EF;&#x4EE5;&#x6EE1;&#x8DB3;&#x9700;&#x6C42;&#x5C31;&#x4E0D;&#x8981;&#x6362;&#x4E86;&#x3002; 2.&#x5982;&#x679C;&#x4F60;&#x516C;&#x53F8;&#x51C6;&#x5907;&#x8FDB;&#x884C;&#x5168;&#x6587;&#x68C0;&#x7D22;&#x9879;&#x76EE;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F18;&#x5148;&#x8003;&#x8651;elasticsearch&#xFF0C;&#x56E0;&#x4E3A;&#x50CF;Github&#x8FD9;&#x6837;&#x5927;&#x89C4;&#x6A21;&#x7684;&#x641C;&#x7D22;&#x90FD;&#x5728;&#x7528;&#x5B83;&#x3002; &#x539F;&#x7406;&#x4E0E;&#x5E94;&#x7528;&#x7D22;&#x5F15;&#x7ED3;&#x6784;&#x4E0B;&#x56FE;&#x662F;ElasticSearch&#x7684;&#x7D22;&#x5F15;&#x7ED3;&#x6784;&#xFF0C;&#x4E0B;&#x8FB9;&#x9ED1;&#x8272;&#x90E8;&#x5206;&#x662F;&#x7269;&#x7406;&#x7ED3;&#x6784;&#xFF0C;&#x4E0A;&#x8FB9;&#x9EC4;&#x8272;&#x90E8;&#x5206;&#x662F;&#x903B;&#x8F91;&#x7ED3;&#x6784;&#xFF0C;&#x903B;&#x8F91;&#x7ED3;&#x6784;&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x53BB;&#x63CF;&#x8FF0;ElasticSearch&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x53CA;&#x53BB;&#x4F7F;&#x7528;&#x7269;&#x7406;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x3002; &#x903B;&#x8F91;&#x7ED3;&#x6784;&#x90E8;&#x5206;&#x662F;&#x4E00;&#x4E2A;&#x5012;&#x6392;&#x7D22;&#x5F15;&#x8868;&#xFF1A; 1&#x3001;&#x5C06;&#x8981;&#x641C;&#x7D22;&#x7684;&#x6587;&#x6863;&#x5185;&#x5BB9;&#x5206;&#x8BCD;&#xFF0C;&#x6240;&#x6709;&#x4E0D;&#x91CD;&#x590D;&#x7684;&#x8BCD;&#x7EC4;&#x6210;&#x5206;&#x8BCD;&#x5217;&#x8868;&#x3002; 2&#x3001;&#x5C06;&#x641C;&#x7D22;&#x7684;&#x6587;&#x6863;&#x6700;&#x7EC8;&#x4EE5;Document&#x65B9;&#x5F0F;&#x5B58;&#x50A8;&#x8D77;&#x6765;&#x3002; 3&#x3001;&#x6BCF;&#x4E2A;&#x8BCD;&#x548C;docment&#x90FD;&#x6709;&#x5173;&#x8054;&#x3002; &#x5982;&#x4E0B;&#xFF1A; &#x73B0;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x641C;&#x7D22; quick brown &#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x67E5;&#x627E;&#x5305;&#x542B;&#x6BCF;&#x4E2A;&#x8BCD;&#x6761;&#x7684;&#x6587;&#x6863;&#xFF1A; &#x200B; &#x4E24;&#x4E2A;&#x6587;&#x6863;&#x90FD;&#x5339;&#x914D;&#xFF0C;&#x4F46;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x6BD4;&#x7B2C;&#x4E8C;&#x4E2A;&#x5339;&#x914D;&#x5EA6;&#x66F4;&#x9AD8;&#x3002;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4EC5;&#x8BA1;&#x7B97;&#x5339;&#x914D;&#x8BCD;&#x6761;&#x6570;&#x91CF;&#x7684;&#x7B80;&#x5355; &#x76F8;&#x4F3C;&#x6027;&#x7B97;&#x6CD5; &#xFF0C;&#x90A3;&#x4E48;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BF4;&#xFF0C;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x67E5;&#x8BE2;&#x7684;&#x76F8;&#x5173;&#x6027;&#x6765;&#x8BB2;&#xFF0C;&#x7B2C;&#x4E00;&#x4E2A;&#x6587;&#x6863;&#x6BD4;&#x7B2C;&#x4E8C;&#x4E2A;&#x6587;&#x6863;&#x66F4;&#x4F73;&#x3002; RESTful&#x5E94;&#x7528;&#x65B9;&#x6CD5;&#x5982;&#x4F55;&#x4F7F;&#x7528;es&#xFF1F; Elasticsearch&#x63D0;&#x4F9B; RESTful Api&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x7D22;&#x5F15;&#x3001;&#x641C;&#x7D22;&#xFF0C;&#x5E76;&#x4E14;&#x652F;&#x6301;&#x591A;&#x79CD;&#x5BA2;&#x6237;&#x7AEF;&#x3002; &#x4E0B;&#x56FE;&#x662F;es&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x5E94;&#x7528;&#x65B9;&#x5F0F;&#xFF1A; 1&#xFF09;&#x7528;&#x6237;&#x5728;&#x524D;&#x7AEF;&#x641C;&#x7D22;&#x5173;&#x952E;&#x5B57; 2&#xFF09;&#x9879;&#x76EE;&#x524D;&#x7AEF;&#x901A;&#x8FC7;http&#x65B9;&#x5F0F;&#x8BF7;&#x6C42;&#x9879;&#x76EE;&#x670D;&#x52A1;&#x7AEF; 3&#xFF09;&#x9879;&#x76EE;&#x670D;&#x52A1;&#x7AEF;&#x901A;&#x8FC7;Http RESTful&#x65B9;&#x5F0F;&#x8BF7;&#x6C42;ES&#x96C6;&#x7FA4;&#x8FDB;&#x884C;&#x641C;&#x7D22; 4&#xFF09;ES&#x96C6;&#x7FA4;&#x4ECE;&#x7D22;&#x5F15;&#x5E93;&#x68C0;&#x7D22;&#x6570;&#x636E;&#x3002; ElasticaSearch&#x5B89;&#x88C5;&#x5B89;&#x88C5;&#x914D;&#x7F6E;&#xFF1A; 1&#x3001;&#x65B0;&#x7248;&#x672C;&#x8981;&#x6C42;&#x81F3;&#x5C11;jdk1.8&#x4EE5;&#x4E0A;&#x3002; 2&#x3001;&#x652F;&#x6301;tar&#x3001;zip&#x3001;rpm&#x7B49;&#x591A;&#x79CD;&#x5B89;&#x88C5;&#x65B9;&#x5F0F;&#x3002; &#x5728;windows&#x4E0B;&#x5F00;&#x53D1;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;ZIP&#x5B89;&#x88C5;&#x65B9;&#x5F0F;&#x3002; 3&#x3001;&#x652F;&#x6301;docker&#x65B9;&#x5F0F;&#x5B89;&#x88C5; &#x8BE6;&#x7EC6;&#x53C2;&#x89C1;&#xFF1A;https://www.elastic.co/guide/en/elasticsearch/reference/current/install-elasticsearch.html &#x4E0B;&#x8F7D;ES: Elasticsearch 6.2.1 https://www.elastic.co/downloads/past-releases &#x89E3;&#x538B; elasticsearch-6.2.1.zip bin&#xFF1A;&#x811A;&#x672C;&#x76EE;&#x5F55;&#xFF0C;&#x5305;&#x62EC;&#xFF1A;&#x542F;&#x52A8;&#x3001;&#x505C;&#x6B62;&#x7B49;&#x53EF;&#x6267;&#x884C;&#x811A;&#x672C; config&#xFF1A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x76EE;&#x5F55; data&#xFF1A;&#x7D22;&#x5F15;&#x76EE;&#x5F55;&#xFF0C;&#x5B58;&#x653E;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x7684;&#x5730;&#x65B9; (&#x81EA;&#x5DF1;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x76EE;&#x5F55;&#x5373;&#x53EF;) logs&#xFF1A;&#x65E5;&#x5FD7;&#x76EE;&#x5F55; modules&#xFF1A;&#x6A21;&#x5757;&#x76EE;&#x5F55;&#xFF0C;&#x5305;&#x62EC;&#x4E86;es&#x7684;&#x529F;&#x80FD;&#x6A21;&#x5757; plugins :&#x63D2;&#x4EF6;&#x76EE;&#x5F55;&#xFF0C;es&#x652F;&#x6301;&#x63D2;&#x4EF6;&#x673A;&#x5236; &#x914D;&#x7F6E;&#x6587;&#x4EF6;ES&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5730;&#x5740;&#x6839;&#x636E;&#x5B89;&#x88C5;&#x5F62;&#x5F0F;&#x7684;&#x4E0D;&#x540C;&#x800C;&#x4E0D;&#x540C;&#xFF1A; &#x4F7F;&#x7528;zip&#x3001;tar&#x5B89;&#x88C5;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5730;&#x5740;&#x5728;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x7684;config&#x4E0B;&#x3002; &#x4F7F;&#x7528;RPM&#x5B89;&#x88C5;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5728;/etc/elasticsearch&#x4E0B;&#x3002; &#x4F7F;&#x7528;MSI&#x5B89;&#x88C5;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5730;&#x5740;&#x5728;&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x7684;config&#x4E0B;&#xFF0C;&#x5E76;&#x4E14;&#x4F1A;&#x81EA;&#x52A8;&#x5C06;config&#x76EE;&#x5F55;&#x5730;&#x5740;&#x5199;&#x5165;&#x73AF;&#x5883;&#x53D8;&#x91CF;ES_PATH_CONF&#x3002; &#x672C;&#x6559;&#x7A0B;&#x4F7F;&#x7528;&#x7684;zip&#x5305;&#x5B89;&#x88C5;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5728;ES&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x7684;config&#x4E0B;&#x3002; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; elasticsearch.yml &#xFF1A;&#x7528;&#x4E8E;&#x914D;&#x7F6E;Elasticsearch&#x8FD0;&#x884C;&#x53C2;&#x6570; jvm.options &#xFF1A;&#x7528;&#x4E8E;&#x914D;&#x7F6E;Elasticsearch JVM&#x8BBE;&#x7F6E; log4j2.properties&#xFF1A;&#x7528;&#x4E8E;&#x914D;&#x7F6E;Elasticsearch&#x65E5;&#x5FD7; elasticsearch.yml&#x914D;&#x7F6E;&#x683C;&#x5F0F;&#x662F;YAML&#xFF0C;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x5982;&#x4E0B;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A; &#x65B9;&#x5F0F;1&#xFF1A;&#x5C42;&#x6B21;&#x65B9;&#x5F0F; path: data: /var/lib/elasticsearch logs: /var/log/elasticsearch&#x200B; data: /var/lib/elasticsearch logs: /var/log/elasticsearch &#x65B9;&#x5F0F;2&#xFF1A;&#x5C5E;&#x6027;&#x65B9;&#x5F0F; path.data: /var/lib/elasticsearch path.logs: /var/log/elasticsearch&#x672C;&#x9879;&#x76EE;&#x91C7;&#x7528;&#x65B9;&#x5F0F;2&#xFF0C;&#x4F8B;&#x5B50;&#x5982;&#x4E0B;&#xFF1A; cluster.name: xuecheng node.name: xc_node_1 network.host: 0.0.0.0 http.port: 9200 transport.tcp.port: 9300 node.master: true node.data: true #discovery.zen.ping.unicast.hosts: [&quot;0.0.0.0:9300&quot;, &quot;0.0.0.0:9301&quot;, &quot;0.0.0.0:9302&quot;] discovery.zen.minimum_master_nodes: 1 bootstrap.memory_lock: false node.max_local_storage_nodes: 1 path.data: D:\ElasticSearch\elasticsearch-6.2.1\data path.logs: D:\ElasticSearch\elasticsearch-6.2.1\logs http.cors.enabled: true http.cors.allow-origin: /.*/&#x6CE8;&#x610F;path.data&#x548C;path.logs&#x8DEF;&#x5F84;&#x914D;&#x7F6E;&#x6B63;&#x786E;&#x3002; &#x5E38;&#x7528;&#x7684;&#x914D;&#x7F6E;&#x9879;&#x5982;&#x4E0B;&#xFF1A; cluster.name: &#x200B; &#x914D;&#x7F6E;elasticsearch&#x7684;&#x96C6;&#x7FA4;&#x540D;&#x79F0;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;elasticsearch&#x3002;&#x5EFA;&#x8BAE;&#x4FEE;&#x6539;&#x6210;&#x4E00;&#x4E2A;&#x6709;&#x610F;&#x4E49;&#x7684;&#x540D;&#x79F0;&#x3002; node.name: &#x200B; &#x8282;&#x70B9;&#x540D;&#xFF0C;&#x901A;&#x5E38;&#x4E00;&#x53F0;&#x7269;&#x7406;&#x670D;&#x52A1;&#x5668;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;es&#x4F1A;&#x9ED8;&#x8BA4;&#x968F;&#x673A;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x540D;&#x5B57;&#xFF0C;&#x5EFA;&#x8BAE;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x6709;&#x610F;&#x4E49;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x65B9;&#x4FBF;&#x7BA1;&#x7406; &#x200B; &#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x8282;&#x70B9;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;cluster&#x96C6;&#x7FA4;&#xFF0C;&#x96C6;&#x7FA4;&#x662F;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x8282;&#x70B9;&#x662F;&#x7269;&#x7406;&#x6982;&#x5FF5;&#xFF0C;&#x540E;&#x8FB9;&#x7AE0;&#x8282;&#x4F1A;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x3002; path.conf: &#x8BBE;&#x7F6E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;tar&#x6216;zip&#x5305;&#x5B89;&#x88C5;&#x9ED8;&#x8BA4;&#x5728;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;config&#x6587;&#x4EF6;&#x5939;&#xFF0C;rpm&#x5B89;&#x88C5;&#x9ED8;&#x8BA4;&#x5728;/etc/ elasticsearch path.data: &#x8BBE;&#x7F6E;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;data&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00;&#x3002; path.logs: &#x8BBE;&#x7F6E;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x7684;&#x5B58;&#x50A8;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;logs&#x6587;&#x4EF6;&#x5939; path.plugins: &#x8BBE;&#x7F6E;&#x63D2;&#x4EF6;&#x7684;&#x5B58;&#x653E;&#x8DEF;&#x5F84;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;es&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x7684;plugins&#x6587;&#x4EF6;&#x5939; bootstrap.memory_lock: true &#x8BBE;&#x7F6E;&#x4E3A;true&#x53EF;&#x4EE5;&#x9501;&#x4F4F;ES&#x4F7F;&#x7528;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x907F;&#x514D;&#x5185;&#x5B58;&#x4E0E;swap&#x5206;&#x533A;&#x4EA4;&#x6362;&#x6570;&#x636E;&#x3002; network.host: &#x8BBE;&#x7F6E;&#x7ED1;&#x5B9A;&#x4E3B;&#x673A;&#x7684;ip&#x5730;&#x5740;&#xFF0C;&#x8BBE;&#x7F6E;&#x4E3A;0.0.0.0&#x8868;&#x793A;&#x7ED1;&#x5B9A;&#x4EFB;&#x4F55;ip&#xFF0C;&#x5141;&#x8BB8;&#x5916;&#x7F51;&#x8BBF;&#x95EE;&#xFF0C;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x5EFA;&#x8BAE;&#x8BBE;&#x7F6E;&#x4E3A;&#x5177;&#x4F53;&#x7684;ip&#x3002; http.port: 9200 &#x8BBE;&#x7F6E;&#x5BF9;&#x5916;&#x670D;&#x52A1;&#x7684;http&#x7AEF;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;9200&#x3002; transport.tcp.port: 9300 &#x96C6;&#x7FA4;&#x7ED3;&#x70B9;&#x4E4B;&#x95F4;&#x901A;&#x4FE1;&#x7AEF;&#x53E3; node.master: &#x6307;&#x5B9A;&#x8BE5;&#x8282;&#x70B9;&#x662F;&#x5426;&#x6709;&#x8D44;&#x683C;&#x88AB;&#x9009;&#x4E3E;&#x6210;&#x4E3A;master&#x7ED3;&#x70B9;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;true&#xFF0C;&#x5982;&#x679C;&#x539F;&#x6765;&#x7684;master&#x5B95;&#x673A;&#x4F1A;&#x91CD;&#x65B0;&#x9009;&#x4E3E;&#x65B0;&#x7684;master&#x3002; node.data: &#x6307;&#x5B9A;&#x8BE5;&#x8282;&#x70B9;&#x662F;&#x5426;&#x5B58;&#x50A8;&#x7D22;&#x5F15;&#x6570;&#x636E;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;true&#x3002; discovery.zen.ping.unicast.hosts: [&#x201C;host1:port&#x201D;, &#x201C;host2:port&#x201D;, &#x201C;&#x2026;&#x201D;] &#x8BBE;&#x7F6E;&#x96C6;&#x7FA4;&#x4E2D;master&#x8282;&#x70B9;&#x7684;&#x521D;&#x59CB;&#x5217;&#x8868;&#x3002; discovery.zen.ping.timeout: 3s &#x8BBE;&#x7F6E;ES&#x81EA;&#x52A8;&#x53D1;&#x73B0;&#x8282;&#x70B9;&#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;3&#x79D2;&#xFF0C;&#x5982;&#x679C;&#x7F51;&#x7EDC;&#x5EF6;&#x8FDF;&#x9AD8;&#x53EF;&#x8BBE;&#x7F6E;&#x5927;&#x4E9B;&#x3002; discovery.zen.minimum_master_nodes: &#x200B; &#x4E3B;&#x7ED3;&#x70B9;&#x6570;&#x91CF;&#x7684;&#x6700;&#x5C11;&#x503C; ,&#x6B64;&#x503C;&#x7684;&#x516C;&#x5F0F;&#x4E3A;&#xFF1A;(master_eligible_nodes / 2) + 1 &#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x6709;3&#x4E2A;&#x7B26;&#x5408;&#x8981;&#x6C42;&#x7684;&#x4E3B;&#x7ED3;&#x70B9;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x91CC;&#x8981;&#x8BBE;&#x7F6E;&#x4E3A;2&#x3002; node.max_local_storage_nodes: &#x200B; &#x5355;&#x673A;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5B58;&#x50A8;&#x7ED3;&#x70B9;&#x6570;&#xFF0C;&#x901A;&#x5E38;&#x5355;&#x673A;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7ED3;&#x70B9;&#x5EFA;&#x8BAE;&#x8BBE;&#x7F6E;&#x4E3A;1&#xFF0C;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x5982;&#x679C;&#x5355;&#x673A;&#x542F;&#x52A8;&#x591A;&#x4E2A;&#x8282;&#x70B9;&#x53EF;&#x8BBE;&#x7F6E;&#x5927;&#x4E8E;1. jvm.options&#x8BBE;&#x7F6E;&#x6700;&#x5C0F;&#x53CA;&#x6700;&#x5927;&#x7684;JVM&#x5806;&#x5185;&#x5B58;&#x5927;&#x5C0F;&#xFF1A; &#x5728;jvm.options&#x4E2D;&#x8BBE;&#x7F6E; -Xms&#x548C;-Xmx&#xFF1A; 1&#xFF09; &#x4E24;&#x4E2A;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;&#x76F8;&#x7B49; 2&#xFF09; &#x5C06;Xmx &#x8BBE;&#x7F6E;&#x4E3A;&#x4E0D;&#x8D85;&#x8FC7;&#x7269;&#x7406;&#x5185;&#x5B58;&#x7684;&#x4E00;&#x534A;&#x3002; log4j2.properties&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;&#xFF0C;ES&#x4F7F;&#x7528;log4j&#xFF0C;&#x6CE8;&#x610F;&#x65E5;&#x5FD7;&#x7EA7;&#x522B;&#x7684;&#x914D;&#x7F6E;&#x3002; &#x7CFB;&#x7EDF;&#x914D;&#x7F6E;&#x5728;linux&#x4E0A;&#x6839;&#x636E;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x5C06;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x6700;&#x591A;&#x5141;&#x8BB8;&#x6253;&#x5F00;&#x7684;&#x6587;&#x4EF6;&#x6570;&#x8BBE;&#x7F6E;&#x5927;&#x4E9B;&#x3002; su limit -n &#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x6587;&#x4EF6;&#x6570; &#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x8BBE;&#x7F6E;limit: &#x5148;&#x5207;&#x6362;&#x5230;root&#xFF0C;&#x8BBE;&#x7F6E;&#x5B8C;&#x6210;&#x518D;&#x5207;&#x56DE;elasticsearch&#x7528;&#x6237;&#x3002; sudo su ulimit -n 65536 su elasticsearch &#x4E5F;&#x53EF;&#x901A;&#x8FC7;&#x4E0B;&#x8FB9;&#x7684;&#x65B9;&#x5F0F;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6301;&#x4E45;&#x8BBE;&#x7F6E; /etc/security/limits.conf &#x5C06;&#x4E0B;&#x8FB9;&#x7684;&#x884C;&#x52A0;&#x5165;&#x6B64;&#x6587;&#x4EF6;&#xFF1A; elasticsearch - nofile 65536&#x542F;&#x52A8;ES&#x8FDB;&#x5165;bin&#x76EE;&#x5F55;&#xFF0C;&#x5728;cmd&#x4E0B;&#x8FD0;&#x884C;&#xFF1A;elasticsearch.bat &#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;&#xFF1A;http://localhost:9200 &#x663E;&#x793A;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF08;&#x914D;&#x7F6E;&#x4E0D;&#x540C;&#x5185;&#x5BB9;&#x5219;&#x4E0D;&#x540C;&#xFF09;&#x8BF4;&#x660E;ES&#x542F;&#x52A8;&#x6210;&#x529F;&#xFF1A; { &quot;name&quot; : &quot;xc_node_1&quot;, &quot;cluster_name&quot; : &quot;xuecheng&quot;, &quot;cluster_uuid&quot; : &quot;WtUvAYwRSQeQurvizmooLg&quot;, &quot;version&quot; : { &quot;number&quot; : &quot;6.2.1&quot;, &quot;build_hash&quot; : &quot;7299dc3&quot;, &quot;build_date&quot; : &quot;2018-02-07T19:34:26.990113Z&quot;, &quot;build_snapshot&quot; : false, &quot;lucene_version&quot; : &quot;7.2.1&quot;, &quot;minimum_wire_compatibility_version&quot; : &quot;5.6.0&quot;, &quot;minimum_index_compatibility_version&quot; : &quot;5.0.0&quot; }, &quot;tagline&quot; : &quot;You Know, for Search&quot; }head&#x63D2;&#x4EF6;&#x5B89;&#x88C5;&#x200B; head&#x63D2;&#x4EF6;&#x662F;ES&#x7684;&#x4E00;&#x4E2A;&#x53EF;&#x89C6;&#x5316;&#x7BA1;&#x7406;&#x63D2;&#x4EF6;&#xFF0C;&#x7528;&#x6765;&#x76D1;&#x89C6;ES&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;head&#x5BA2;&#x6237;&#x7AEF;&#x548C;ES&#x670D;&#x52A1;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#xFF0C;&#x6BD4;&#x5982;&#x521B;&#x5EFA;&#x6620;&#x5C04;&#x3001;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x7B49;&#xFF0C;head&#x7684;&#x9879;&#x76EE;&#x5730;&#x5740;&#x5728;https://github.com/mobz/elasticsearch-head &#x3002; &#x4ECE;ES6.0&#x5F00;&#x59CB;&#xFF0C;head&#x63D2;&#x4EF6;&#x652F;&#x6301;&#x4F7F;&#x5F97;node.js&#x8FD0;&#x884C;&#x3002; 1&#x3001;&#x5B89;&#x88C5;node.js 2&#x3001;&#x4E0B;&#x8F7D;head&#x5E76;&#x8FD0;&#x884C; git clone git://github.com/mobz/elasticsearch-head.git cd elasticsearch-head npm install npm run start open HTTP&#xFF1A;//&#x672C;&#x5730;&#x4E3B;&#x673A;&#xFF1A;9100 / 3&#x3001;&#x8FD0;&#x884C; &#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;&#x53D1;&#x73B0;&#x62A5;&#x9519;&#xFF1A; Origin null is not allowed by Access-Control-Allow-Origin. &#x539F;&#x56E0;&#x662F;&#xFF1A;head&#x63D2;&#x4EF6;9100&#x7AEF;&#x53E3;&#x4F5C;&#x4E3A;&#x5BA2;&#x6237;&#x7AEF;&#x8981;&#x8FDE;&#x63A5;ES&#x670D;&#x52A1;&#xFF08;localhost:9200&#xFF09;&#xFF0C;&#x6B64;&#x65F6;&#x5B58;&#x5728;&#x8DE8;&#x57DF;&#x95EE;&#x9898;&#xFF0C;elasticsearch&#x9ED8;&#x8BA4;&#x4E0D;&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x3002; &#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A; &#x8BBE;&#x7F6E;elasticsearch&#x5141;&#x8BB8;&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x3002; &#x5728;config/elasticsearch.yml &#x540E;&#x9762;&#x589E;&#x52A0;&#x4EE5;&#x4E0B;&#x53C2;&#x6570;&#xFF1A; #&#x5F00;&#x542F;cors&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x652F;&#x6301;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;false http.cors.enabled: true #&#x8DE8;&#x57DF;&#x8BBF;&#x95EE;&#x5141;&#x8BB8;&#x7684;&#x57DF;&#x540D;&#x5730;&#x5740;&#xFF0C;(&#x5141;&#x8BB8;&#x6240;&#x6709;&#x57DF;&#x540D;)&#x4EE5;&#x4E0A;&#x4F7F;&#x7528;&#x6B63;&#x5219; http.cors.allow-origin: /.*/ &#x6CE8;&#x610F;&#xFF1A;&#x5C06;config/elasticsearch.yml&#x53E6;&#x5B58;&#x4E3A;utf-8&#x7F16;&#x7801;&#x683C;&#x5F0F;&#x3002; &#x6210;&#x529F;&#x8FDE;&#x63A5;ES ES&#x5FEB;&#x901F;&#x5165;&#x95E8;&#x200B; ES&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x53CA;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x4E30;&#x5BCC;&#x7684;REST&#x63A5;&#x53E3;&#xFF0C;&#x5FEB;&#x901F;&#x5165;&#x95E8;&#x90E8;&#x5206;&#x7684;&#x5B9E;&#x4F8B;&#x4F7F;&#x7528;head&#x63D2;&#x4EF6;&#x6765;&#x6D4B;&#x8BD5;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x5BF9;ES&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x53CA;&#x6D41;&#x7A0B;&#x6709;&#x4E2A;&#x521D;&#x6B65;&#x7684;&#x8BA4;&#x8BC6;&#x3002; &#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;mysql: database table rocord columns table es : index (type)(&#x53EA;&#x80FD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;) document field 6.0&#x7248;&#x672C;index&#x5BF9;&#x5E94;mysql&#x7684;&#x8868;,&#x5F31;&#x5316;&#x4E86;type&#x7684;&#x6982;&#x5FF5; 6.0&#x7248;&#x672C;&#x4E4B;&#x524D;type&#x5BF9;&#x5E94;mysql&#x7684;&#x8868; ES&#x7684;&#x7D22;&#x5F15;&#x5E93;&#x662F;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x6982;&#x5FF5;&#xFF0C;&#x5B83;&#x5305;&#x62EC;&#x4E86;&#x5206;&#x8BCD;&#x5217;&#x8868;&#x53CA;&#x6587;&#x6863;&#x5217;&#x8868;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x5E93;&#x4E2D;&#x5B58;&#x50A8;&#x4E86;&#x76F8;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x6863;&#x3002;&#x5B83;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;MySQL&#x4E2D;&#x7684;&#x8868;&#xFF0C;&#x6216;&#x76F8;&#x5F53;&#x4E8E;Mongodb&#x4E2D;&#x7684;&#x96C6;&#x5408;&#x3002; &#x5173;&#x4E8E;&#x7D22;&#x5F15;&#x8FD9;&#x4E2A;&#x8BED;&#xFF1A; &#x7D22;&#x5F15;&#xFF08;&#x540D;&#x8BCD;&#xFF09;&#xFF1A;ES&#x662F;&#x57FA;&#x4E8E;Lucene&#x6784;&#x5EFA;&#x7684;&#x4E00;&#x4E2A;&#x641C;&#x7D22;&#x670D;&#x52A1;&#xFF0C;&#x5B83;&#x8981;&#x4ECE;&#x7D22;&#x5F15;&#x5E93;&#x641C;&#x7D22;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7D22;&#x5F15;&#x6570;&#x636E;&#x3002; &#x7D22;&#x5F15;&#xFF08;&#x52A8;&#x8BCD;&#xFF09;&#xFF1A;&#x7D22;&#x5F15;&#x5E93;&#x521A;&#x521B;&#x5EFA;&#x8D77;&#x6765;&#x662F;&#x7A7A;&#x7684;&#xFF0C;&#x5C06;&#x6570;&#x636E;&#x6DFB;&#x52A0;&#x5230;&#x7D22;&#x5F15;&#x5E93;&#x7684;&#x8FC7;&#x7A0B;&#x79F0;&#x4E3A;&#x7D22;&#x5F15;&#x3002; &#x4E0B;&#x8FB9;&#x4ECB;&#x7ECD;&#x4E24;&#x79CD;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5B83;&#x4EEC;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#x662F;&#x76F8;&#x540C;&#x7684;&#xFF0C;&#x90FD;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x5411;ES&#x670D;&#x52A1;&#x53D1;&#x9001;&#x547D;&#x4EE4;&#x3002; 1&#xFF09;&#x4F7F;&#x7528;postman&#x6216;curl&#x8FD9;&#x6837;&#x7684;&#x5DE5;&#x5177;&#x521B;&#x5EFA;&#xFF1A; put http://localhost:9200/&#x7D22;&#x5F15;&#x5E93;&#x540D;&#x79F0; raw json&#x6A21;&#x5F0F; { &quot;settings&quot;:{ &quot;index&quot;:{ &quot;number_of_shards&quot;:1, &quot;number_of_replicas&quot;:0 } } }number_of_shards&#xFF1A;&#x8BBE;&#x7F6E;&#x5206;&#x7247;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x5728;&#x96C6;&#x7FA4;&#x4E2D;&#x901A;&#x5E38;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;&#x5206;&#x7247;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x5E93;&#x5C06;&#x62C6;&#x5206;&#x6210;&#x591A;&#x7247;&#x5206;&#x522B;&#x5B58;&#x50A8;&#x4E0D;&#x540C;&#x7684;&#x7ED3;&#x70B9;&#xFF0C;&#x63D0;&#x9AD8;&#x4E86;ES&#x7684;&#x5904;&#x7406;&#x80FD;&#x529B;&#x548C;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x5165;&#x95E8;&#x7A0B;&#x5E8F;&#x4F7F;&#x7528;&#x5355;&#x673A;&#x73AF;&#x5883;&#xFF0C;&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x4E3A;1&#x3002; number_of_replicas&#xFF1A;&#x8BBE;&#x7F6E;&#x526F;&#x672C;&#x7684;&#x6570;&#x91CF;&#xFF0C;&#x8BBE;&#x7F6E;&#x526F;&#x672C;&#x662F;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;ES&#x7684;&#x9AD8;&#x53EF;&#x9760;&#x6027;&#xFF0C;&#x5355;&#x673A;&#x73AF;&#x5883;&#x8BBE;&#x7F6E;&#x4E3A;0. &#x5982;&#x4E0B;&#x662F;&#x521B;&#x5EFA;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x521B;&#x5EFA;xc_course&#x7D22;&#x5F15;&#x5E93;&#xFF0C;&#x5171;1&#x4E2A;&#x5206;&#x7247;&#xFF0C;0&#x4E2A;&#x526F;&#x672C;&#xFF1A; 2&#xFF09;&#x4F7F;&#x7528;head&#x63D2;&#x4EF6;&#x521B;&#x5EFA; &#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x521B;&#x5EFA;&#x6620;&#x5C04;&#x6982;&#x5FF5;&#x8BF4;&#x660E;&#x200B; &#x5728;&#x7D22;&#x5F15;&#x4E2D;&#x6BCF;&#x4E2A;&#x6587;&#x6863;&#x90FD;&#x5305;&#x62EC;&#x4E86;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;field&#xFF0C;&#x521B;&#x5EFA;&#x6620;&#x5C04;&#x5C31;&#x662F;&#x5411;&#x7D22;&#x5F15;&#x5E93;&#x4E2D;&#x521B;&#x5EFA;field&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x4E0B;&#x8FB9;&#x662F;document&#x548C;field&#x4E0E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x6982;&#x5FF5;&#x7684;&#x7C7B;&#x6BD4;&#xFF1A; &#x200B; &#x6587;&#x6863;&#xFF08;Document&#xFF09;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;-Row&#x8BB0;&#x5F55; &#x200B; &#x5B57;&#x6BB5;&#xFF08;Field&#xFF09;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;&#x2014;-Columns &#x5217; &#x200B; &#x6CE8;&#x610F;&#xFF1A;6.0&#x4E4B;&#x524D;&#x7684;&#x7248;&#x672C;&#x6709;type&#xFF08;&#x7C7B;&#x578B;&#xFF09;&#x6982;&#x5FF5;&#xFF0C;type&#x76F8;&#x5F53;&#x4E8E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8868;&#xFF0C;ES&#x5B98;&#x65B9;&#x5C06;&#x5728;ES9.0&#x7248;&#x672C;&#x4E2D;&#x5F7B;&#x5E95;&#x5220;&#x9664;type&#x3002; &#x4E0A;&#x8FB9;&#x8BB2;&#x7684;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;&#x76F8;&#x5F53;&#x4E8E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FD8;&#x662F;&#x8868;&#xFF1F; 1&#x3001;&#x5982;&#x679C;&#x76F8;&#x5F53;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x5C31;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x5E93;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x6863;&#xFF0C;&#x8FD9;&#x5728;ES&#x4E2D;&#x4E5F;&#x662F;&#x5141;&#x8BB8;&#x7684;&#x3002; 2&#x3001;&#x5982;&#x679C;&#x76F8;&#x5F53;&#x4E8E;&#x8868;&#x5C31;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x5E93;&#x53EA;&#x80FD;&#x5B58;&#x50A8;&#x76F8;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x6863;&#xFF0C;ES&#x5B98;&#x65B9;&#x5EFA;&#x8BAE; &#x5728;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x5E93;&#x4E2D;&#x53EA;&#x5B58;&#x50A8;&#x76F8;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6587;&#x6863;&#x3002; &#x521B;&#x5EFA;&#x6620;&#x5C04;(&#x5B9A;&#x4E49;&#x8868;&#x5934;)&#x6211;&#x4EEC;&#x8981;&#x628A;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x5B58;&#x50A8;&#x5230;ES&#x4E2D;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x5148;&#x6765;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x5982;&#x4E0B;&#xFF1A; &#x53D1;&#x9001;&#xFF1A;post http://localhost:9200/&#x7D22;&#x5F15;&#x5E93;&#x540D;&#x79F0;/&#x7C7B;&#x578B;&#x540D;&#x79F0;/_mapping &#x521B;&#x5EFA;&#x7C7B;&#x578B;&#x4E3A;xc_course&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x5171;&#x5305;&#x62EC;&#x4E09;&#x4E2A;&#x5B57;&#x6BB5;&#xFF1A;name&#x3001;description&#x3001;studymondel &#x7531;&#x4E8E;ES6.0&#x7248;&#x672C;&#x8FD8;&#x6CA1;&#x6709;&#x5C06;type&#x5F7B;&#x5E95;&#x5220;&#x9664;&#xFF0C;&#x6240;&#x4EE5;&#x6682;&#x65F6;&#x628A;type&#x8D77;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x7279;&#x6B8A;&#x610F;&#x4E49;&#x7684;&#x540D;&#x5B57;&#x3002; post &#x8BF7;&#x6C42;&#xFF1A;http://localhost:9200/xc_course/doc/_mapping &#x8868;&#x793A;&#xFF1A;&#x5728;xc_course&#x7D22;&#x5F15;&#x5E93;&#x4E0B;&#x7684;doc&#x7C7B;&#x578B;&#x4E0B;&#x521B;&#x5EFA;&#x6620;&#x5C04;&#x3002;doc&#x662F;&#x7C7B;&#x578B;&#x540D;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#xFF0C;&#x5728;ES6.0&#x4E2D;&#x8981;&#x5F31;&#x5316;&#x7C7B;&#x578B;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x7ED9;&#x5B83;&#x8D77;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x5177;&#x4F53;&#x4E1A;&#x52A1;&#x610F;&#x4E49;&#x7684;&#x540D;&#x79F0;&#x3002; { &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;text&quot; }, &quot;description&quot;: { &quot;type&quot;: &quot;text&quot; }, &quot;studymodel&quot;: { &quot;type&quot;: &quot;keyword&quot; } } }&#x521B;&#x5EFA;&#x6587;&#x6863;ES&#x4E2D;&#x7684;&#x6587;&#x6863;&#x76F8;&#x5F53;&#x4E8E;MySQL&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x3002; &#x53D1;&#x9001;&#xFF1A;put &#x6216;Post http://localhost:9200/xc_course/doc/id&#x503C; &#xFF08;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;id&#x503C;ES&#x4F1A;&#x81EA;&#x52A8;&#x751F;&#x6210;ID&#xFF09; http://localhost:9200/xc_course/doc/4028e58161bcf7f40161bcf8b77c0000 { &quot;name&quot;:&quot;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6;&quot;, &quot;description&quot;:&quot;Bootstrap&#x662F;&#x7531;Twitter&#x63A8;&#x51FA;&#x7684;&#x4E00;&#x4E2A;&#x524D;&#x53F0;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#xFF0C;&#x5728;&#x884C;&#x4E1A;&#x4E4B;&#x4E2D;&#x4F7F;&#x7528;&#x8F83;&#x4E3A;&#x5E7F;&#x6CDB;&#x3002;&#x6B64;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x5305;&#x542B;&#x4E86;&#x5927;&#x91CF;&#x7684;CSS&#x3001;JS&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x5F00;&#x53D1;&#x8005;&#xFF08;&#x5C24;&#x5176;&#x662F;&#x4E0D;&#x64C5;&#x957F;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x7684;&#x7A0B;&#x5E8F;&#x4EBA;&#x5458;&#xFF09;&#x8F7B;&#x677E;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x4E0D;&#x53D7;&#x6D4F;&#x89C8;&#x5668;&#x9650;&#x5236;&#x7684;&#x7CBE;&#x7F8E;&#x754C;&#x9762;&#x6548;&#x679C;&#x3002;&quot;, &quot;studymodel&quot;:&quot;201001&quot; }&#x4F7F;&#x7528;postman&#x6D4B;&#x8BD5;&#xFF1A; &#x901A;&#x8FC7;head&#x67E5;&#x8BE2;&#x6570;&#x636E;&#xFF1A; &#x641C;&#x7D22;&#x6587;&#x6863;1&#x3001;&#x6839;&#x636E;&#x8BFE;&#x7A0B;id&#x67E5;&#x8BE2;&#x6587;&#x6863; &#x53D1;&#x9001;&#xFF1A;get http://localhost:9200/xc_course/doc/4028e58161bcf7f40161bcf8b77c0000 &#x4F7F;&#x7528;postman&#x6D4B;&#x8BD5;&#xFF1A; 2&#x3001;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55; &#x53D1;&#x9001; get http://localhost:9200/xc_course/doc/_search 3&#x3001;&#x67E5;&#x8BE2;&#x540D;&#x79F0;&#x4E2D;&#x5305;&#x62EC;spring &#x5173;&#x952E;&#x5B57;&#x7684;&#x7684;&#x8BB0;&#x5F55; &#x53D1;&#x9001;&#xFF1A;get http://localhost:9200/xc_course/doc/_search?q=name:bootstrap 4&#x3001;&#x67E5;&#x8BE2;&#x5B66;&#x4E60;&#x6A21;&#x5F0F;&#x4E3A;201001&#x7684;&#x8BB0;&#x5F55; &#x53D1;&#x9001; get http://localhost:9200/xc_course/doc/_search?q=studymodel:201001 &#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x5206;&#x6790;&#x5206;&#x6790;&#x4E0A;&#x8FB9;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF1A; { &quot;took&quot;: 1, &quot;timed_out&quot;: false, &quot;_shards&quot;: { &quot;total&quot;: 1, &quot;successful&quot;: 1, &quot;skipped&quot;: 0, &quot;failed&quot;: 0 }, &quot;hits&quot;: { &quot;total&quot;: 1, &quot;max_score&quot;: 0.2876821, &quot;hits&quot;: [ { &quot;_index&quot;: &quot;xc_course&quot;, &quot;_type&quot;: &quot;doc&quot;, &quot;_id&quot;: &quot;4028e58161bcf7f40161bcf8b77c0000&quot;, &quot;_score&quot;: 0.2876821, &quot;_source&quot;: { &quot;name&quot;: &quot;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6;&quot;, &quot;description&quot;: &quot;Bootstrap&#x662F;&#x7531;Twitter&#x63A8;&#x51FA;&#x7684;&#x4E00;&#x4E2A;&#x524D;&#x53F0;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#xFF0C;&#x5728;&#x884C;&#x4E1A;&#x4E4B;&#x4E2D;&#x4F7F;&#x7528;&#x8F83;&#x4E3A;&#x5E7F;&#x6CDB;&#x3002;&#x6B64;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x5305;&#x542B;&#x4E86;&#x5927;&#x91CF;&#x7684;CSS&#x3001;JS&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x5F00;&#x53D1;&#x8005;&#xFF08;&#x5C24;&#x5176;&#x662F;&#x4E0D;&#x64C5;&#x957F;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x7684;&#x7A0B;&#x5E8F;&#x4EBA;&#x5458;&#xFF09;&#x8F7B;&#x677E;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x4E0D;&#x53D7;&#x6D4F;&#x89C8;&#x5668;&#x9650;&#x5236;&#x7684;&#x7CBE;&#x7F8E;&#x754C;&#x9762;&#x6548;&#x679C;&#x3002;&quot;, &quot;studymodel&quot;: &quot;201001&quot; } } ] } }took&#xFF1A;&#x672C;&#x6B21;&#x64CD;&#x4F5C;&#x82B1;&#x8D39;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x6BEB;&#x79D2;&#x3002; timed_out&#xFF1A;&#x8BF7;&#x6C42;&#x662F;&#x5426;&#x8D85;&#x65F6; _shards&#xFF1A;&#x8BF4;&#x660E;&#x672C;&#x6B21;&#x64CD;&#x4F5C;&#x5171;&#x641C;&#x7D22;&#x4E86;&#x54EA;&#x4E9B;&#x5206;&#x7247; hits&#xFF1A;&#x641C;&#x7D22;&#x547D;&#x4E2D;&#x7684;&#x8BB0;&#x5F55; hits.total &#xFF1A; &#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x6587;&#x6863;&#x603B;&#x6570; hits.hits &#xFF1A;&#x5339;&#x914D;&#x5EA6;&#x8F83;&#x9AD8;&#x7684;&#x524D;N&#x4E2A;&#x6587;&#x6863; hits.max_score&#xFF1A;&#x6587;&#x6863;&#x5339;&#x914D;&#x5F97;&#x5206;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3A;&#x6700;&#x9AD8;&#x5206; _score&#xFF1A;&#x6BCF;&#x4E2A;&#x6587;&#x6863;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#x5EA6;&#x5F97;&#x5206;&#xFF0C;&#x6309;&#x7167;&#x964D;&#x5E8F;&#x6392;&#x5217;&#x3002; _source&#xFF1A;&#x663E;&#x793A;&#x4E86;&#x6587;&#x6863;&#x7684;&#x539F;&#x59CB;&#x5185;&#x5BB9;&#x3002; IK&#x5206;&#x8BCD;&#x5668;&#x6D4B;&#x8BD5;&#x5206;&#x8BCD;&#x5668;&#x5728;&#x6DFB;&#x52A0;&#x6587;&#x6863;&#x65F6;&#x4F1A;&#x8FDB;&#x884C;&#x5206;&#x8BCD;&#xFF0C;&#x7D22;&#x5F15;&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x7684;&#x8BCD;&#xFF08;term&#xFF09;&#xFF0C;&#x5F53;&#x4F60;&#x53BB;&#x641C;&#x7D22;&#x65F6;&#x5C31;&#x662F;&#x62FF;&#x5173;&#x952E;&#x5B57;&#x53BB;&#x5339;&#x914D;&#x8BCD;&#xFF0C;&#x6700;&#x7EC8;&#x627E;&#x5230;&#x8BCD;&#x5173;&#x8054;&#x7684;&#x6587;&#x6863;&#x3002; &#x6D4B;&#x8BD5;&#x5F53;&#x524D;&#x7D22;&#x5F15;&#x5E93;&#x4F7F;&#x7528;&#x7684;&#x5206;&#x8BCD;&#x5668;&#xFF1A; post &#x53D1;&#x9001;&#xFF1A;localhost:9200/_analyze {&quot;text&quot;:&quot;&#x6D4B;&#x8BD5;&#x5206;&#x8BCD;&#x5668;&#xFF0C;&#x540E;&#x8FB9;&#x662F;&#x6D4B;&#x8BD5;&#x5185;&#x5BB9;&#xFF1A;spring cloud&#x5B9E;&#x6218;&quot;}&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x4F1A;&#x53D1;&#x73B0;&#x5206;&#x8BCD;&#x7684;&#x6548;&#x679C;&#x5C06; &#x201C;&#x6D4B;&#x8BD5;&#x201D; &#x8FD9;&#x4E2A;&#x8BCD;&#x62C6;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x5355;&#x5B57;&#x201C;&#x6D4B;&#x201D;&#x548C;&#x201C;&#x8BD5;&#x201D;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x5F53;&#x524D;&#x7D22;&#x5F15;&#x5E93;&#x4F7F;&#x7528;&#x7684;&#x5206;&#x8BCD;&#x5668;&#x5BF9;&#x4E2D;&#x6587;&#x5C31;&#x662F;&#x5355;&#x5B57;&#x5206;&#x8BCD;&#x3002; &#x5B89;&#x88C5;IK&#x5206;&#x8BCD;&#x5668;&#x4F7F;&#x7528;IK&#x5206;&#x8BCD;&#x5668;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x5BF9;&#x4E2D;&#x6587;&#x5206;&#x8BCD;&#x7684;&#x6548;&#x679C;&#x3002; &#x4E0B;&#x8F7D;IK&#x5206;&#x8BCD;&#x5668;&#xFF1A;&#xFF08;Github&#x5730;&#x5740;&#xFF1A;https://github.com/medcl/elasticsearch-analysis-ik&#xFF09; &#x4E0B;&#x8F7D;zip&#xFF1A; &#x89E3;&#x538B;&#xFF0C;&#x5E76;&#x5C06;&#x89E3;&#x538B;&#x7684;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x5230;ES&#x5B89;&#x88C5;&#x76EE;&#x5F55;&#x7684;plugins&#x4E0B;&#x7684;ik&#x76EE;&#x5F55;&#x4E0B; &#x6B64;&#x65F6;&#x8981;&#x91CD;&#x542F;ES&#x670D;&#x52A1; &#x6D4B;&#x8BD5;&#x5206;&#x8BCD;&#x6548;&#x679C;&#xFF1A; &#x53D1;&#x9001;&#xFF1A;post localhost:9200/_analyze {&quot;text&quot;:&quot;&#x6D4B;&#x8BD5;&#x5206;&#x8BCD;&#x5668;&#xFF0C;&#x540E;&#x8FB9;&#x662F;&#x6D4B;&#x8BD5;&#x5185;&#x5BB9;&#xFF1A;spring cloud&#x5B9E;&#x6218;&quot;,&quot;analyzer&quot;:&quot;ik_max_word&quot; }&#x4E24;&#x79CD;&#x5206;&#x8BCD;&#x6A21;&#x5F0F;ik&#x5206;&#x8BCD;&#x5668;&#x6709;&#x4E24;&#x79CD;&#x5206;&#x8BCD;&#x6A21;&#x5F0F;&#xFF1A;ik_max_word&#x548C;ik_smart&#x6A21;&#x5F0F;&#x3002; 1&#x3001;ik_max_word &#x200B; &#x4F1A;&#x5C06;&#x6587;&#x672C;&#x505A;&#x6700;&#x7EC6;&#x7C92;&#x5EA6;&#x7684;&#x62C6;&#x5206;&#xFF0C;&#x6BD4;&#x5982;&#x4F1A;&#x5C06;&#x201C;&#x4E2D;&#x534E;&#x4EBA;&#x6C11;&#x5171;&#x548C;&#x56FD;&#x4EBA;&#x6C11;&#x5927;&#x4F1A;&#x5802;&#x201D;&#x62C6;&#x5206;&#x4E3A;&#x201C;&#x4E2D;&#x534E;&#x4EBA;&#x6C11;&#x5171;&#x548C;&#x56FD;&#x3001;&#x4E2D;&#x534E;&#x4EBA;&#x6C11;&#x3001;&#x4E2D;&#x534E;&#x3001;&#x534E;&#x4EBA;&#x3001;&#x4EBA;&#x6C11;&#x5171;&#x548C;&#x56FD;&#x3001;&#x4EBA;&#x6C11;&#x3001;&#x5171;&#x548C;&#x56FD;&#x3001;&#x5927;&#x4F1A;&#x5802;&#x3001;&#x5927;&#x4F1A;&#x3001;&#x4F1A;&#x5802;&#x7B49;&#x8BCD;&#x8BED;&#x3002; 2&#x3001;ik_smart &#x200B; &#x4F1A;&#x505A;&#x6700;&#x7C97;&#x7C92;&#x5EA6;&#x7684;&#x62C6;&#x5206;&#xFF0C;&#x6BD4;&#x5982;&#x4F1A;&#x5C06;&#x201C;&#x4E2D;&#x534E;&#x4EBA;&#x6C11;&#x5171;&#x548C;&#x56FD;&#x4EBA;&#x6C11;&#x5927;&#x4F1A;&#x5802;&#x201D;&#x62C6;&#x5206;&#x4E3A;&#x4E2D;&#x534E;&#x4EBA;&#x6C11;&#x5171;&#x548C;&#x56FD;&#x3001;&#x4EBA;&#x6C11;&#x5927;&#x4F1A;&#x5802;&#x3002; &#x6D4B;&#x8BD5;&#x4E24;&#x79CD;&#x5206;&#x8BCD;&#x6A21;&#x5F0F;&#xFF1A; &#x53D1;&#x9001;&#xFF1A;post localhost:9200/_analyze {&quot;text&quot;:&quot;&#x4E2D;&#x534E;&#x4EBA;&#x6C11;&#x5171;&#x548C;&#x56FD;&#x4EBA;&#x6C11;&#x5927;&#x4F1A;&#x5802;&quot;,&quot;analyzer&quot;:&quot;ik_smart&quot; }&#x81EA;&#x5B9A;&#x4E49;&#x8BCD;&#x5E93;&#x5982;&#x679C;&#x8981;&#x8BA9;&#x5206;&#x8BCD;&#x5668;&#x652F;&#x6301;&#x4E00;&#x4E9B;&#x4E13;&#x6709;&#x8BCD;&#x8BED;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x8BCD;&#x5E93;&#x3002; iK&#x5206;&#x8BCD;&#x5668;&#x81EA;&#x5E26;&#x4E00;&#x4E2A;main.dic&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x6B64;&#x6587;&#x4EF6;&#x4E3A;&#x8BCD;&#x5E93;&#x6587;&#x4EF6;&#x3002; &#x5728;&#x4E0A;&#x8FB9;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;my.dic&#x6587;&#x4EF6;&#xFF08;&#x6CE8;&#x610F;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x4E3A;utf-8&#xFF08;&#x4E0D;&#x8981;&#x9009;&#x62E9;utf-8 BOM&#xFF09;&#xFF09; &#x53EF;&#x4EE5;&#x5728;&#x5176;&#x4E2D;&#x81EA;&#x5B9A;&#x4E49;&#x8BCD;&#x6C47;&#xFF1A; &#x6BD4;&#x5982;&#x5B9A;&#x4E49;&#xFF1A; &#x9AD8;&#x5BCC;&#x5E05;&#x5728;IKAnalyzer.cfg.xml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x914D;&#x7F6E;my.dic&#xFF0C; &#x91CD;&#x542F;ES&#xFF0C;&#x6D4B;&#x8BD5;&#x5206;&#x8BCD;&#x6548;&#x679C;&#xFF1A; &#x53D1;&#x9001;&#xFF1A;post localhost:9200/_analyze {&quot;text&quot;:&quot;&#x9AD8;&#x5BCC;&#x5E05;&quot;,&quot;analyzer&quot;:&quot;ik_max_word&quot; } &#x6620;&#x5C04;&#x200B; &#x4E0A;&#x8FB9;&#x7AE0;&#x8282;&#x5B89;&#x88C5;&#x4E86;ik&#x5206;&#x8BCD;&#x5668;&#xFF0C;&#x5982;&#x4F55;&#x5728;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x65F6;&#x53BB;&#x4F7F;&#x7528;ik&#x5206;&#x8BCD;&#x5668;&#x5462;&#xFF1F;&#x5982;&#x4F55;&#x6307;&#x5B9A;&#x5176;&#x5B83;&#x7C7B;&#x578B;&#x7684;field&#xFF0C;&#x6BD4;&#x5982;&#x65E5;&#x671F;&#x7C7B;&#x578B;&#x3001;&#x6570;&#x503C;&#x7C7B;&#x578B;&#x7B49;&#x3002; &#x672C;&#x7AE0;&#x8282;&#x5B66;&#x4E60;&#x5404;&#x79CD;&#x6620;&#x5C04;&#x7C7B;&#x578B;&#x53CA;&#x6620;&#x5C04;&#x7EF4;&#x62A4;&#x65B9;&#x6CD5;&#x3002; &#x6620;&#x5C04;&#x7EF4;&#x62A4;&#x65B9;&#x6CD5;1&#x3001;&#x67E5;&#x8BE2;&#x6240;&#x6709;&#x7D22;&#x5F15;&#x7684;&#x6620;&#x5C04;&#xFF1A; GET&#xFF1A; http://localhost:9200/_mapping 2&#x3001;&#x521B;&#x5EFA;&#x6620;&#x5C04; post &#x8BF7;&#x6C42;&#xFF1A;http://localhost:9200/xc_course/doc/_mapping &#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; { &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;text&quot; }, &quot;description&quot;: { &quot;type&quot;: &quot;text&quot; }, &quot;studymodel&quot;: { &quot;type&quot;: &quot;keyword&quot; } } }3&#x3001;&#x66F4;&#x65B0;&#x6620;&#x5C04; &#x6620;&#x5C04;&#x521B;&#x5EFA;&#x6210;&#x529F;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x65B0;&#x5B57;&#x6BB5;&#xFF0C;&#x5DF2;&#x6709;&#x5B57;&#x6BB5;&#x4E0D;&#x5141;&#x8BB8;&#x66F4;&#x65B0;&#x3002; &#x8868;&#x5934;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E00;&#x65E6;&#x521B;&#x5EFA;&#x597D;&#x5C31;&#x4E0D;&#x5141;&#x8BB8;&#x4FEE;&#x6539; 4&#x3001;&#x5220;&#x9664;&#x6620;&#x5C04; &#x901A;&#x8FC7;&#x5220;&#x9664;&#x7D22;&#x5F15;&#x5E93;&#x6765;&#x5220;&#x9664;&#x6620;&#x5C04;&#x3002; &#x5E38;&#x7528;&#x6620;&#x5C04;&#x7C7B;&#x578B; 1.text&#x901A;&#x8FC7;analyzer&#x5C5E;&#x6027;&#x6307;&#x5B9A;&#x5206;&#x8BCD;&#x5668;&#x3002; 1.analyzer&#x4E0B;&#x8FB9;&#x6307;&#x5B9A;name&#x7684;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x4E3A;text&#xFF0C;&#x4F7F;&#x7528;ik&#x5206;&#x8BCD;&#x5668;&#x7684;ik_max_word&#x5206;&#x8BCD;&#x6A21;&#x5F0F;&#x3002; &quot;name&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;:&quot;ik_max_word&quot; }2.search_analyzer&#x4E0A;&#x8FB9;&#x6307;&#x5B9A;&#x4E86;analyzer&#x662F;&#x6307;&#x5728;&#x7D22;&#x5F15;&#x548C;&#x641C;&#x7D22;&#x90FD;&#x4F7F;&#x7528;ik_max_word&#xFF0C;&#x5982;&#x679C;&#x5355;&#x72EC;&#x60F3;&#x5B9A;&#x4E49;&#x641C;&#x7D22;&#x65F6;&#x4F7F;&#x7528;&#x7684;&#x5206;&#x8BCD;&#x5668;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;search_analyzer&#x5C5E;&#x6027;&#x3002; &#x5BF9;&#x4E8E;ik&#x5206;&#x8BCD;&#x5668;&#x5EFA;&#x8BAE;&#x662F;&#x7D22;&#x5F15;&#x65F6;&#x4F7F;&#x7528;ik_max_word&#x5C06;&#x641C;&#x7D22;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x7EC6;&#x7C92;&#x5EA6;&#x5206;&#x8BCD;(&#x5339;&#x914D;&#x6587;&#x7AE0;)&#xFF0C;&#x641C;&#x7D22;&#x65F6;&#x4F7F;&#x7528;ik_smart&#x63D0;&#x9AD8;&#x641C;&#x7D22;&#x7CBE;&#x786E;&#x6027;(&#x5339;&#x914D;&#x6807;&#x9898;)&#x3002; &quot;name&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;:&quot;ik_max_word&quot;, &quot;search_analyzer&quot;:&quot;ik_smart&quot; }3.index&#x901A;&#x8FC7;index&#x5C5E;&#x6027;&#x6307;&#x5B9A;&#x662F;&#x5426;&#x7D22;&#x5F15;&#x3002; &#x9ED8;&#x8BA4;&#x4E3A;index=true&#xFF0C;&#x5373;&#x8981;&#x8FDB;&#x884C;&#x7D22;&#x5F15;&#xFF0C;&#x53EA;&#x6709;&#x8FDB;&#x884C;&#x7D22;&#x5F15;&#x624D;&#x53EF;&#x4EE5;&#x4ECE;&#x7D22;&#x5F15;&#x5E93;&#x641C;&#x7D22;&#x5230;&#x3002; &#x4F46;&#x662F;&#x4E5F;&#x6709;&#x4E00;&#x4E9B;&#x5185;&#x5BB9;&#x4E0D;&#x9700;&#x8981;&#x7D22;&#x5F15;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x5546;&#x54C1;&#x56FE;&#x7247;&#x5730;&#x5740;&#x53EA;&#x88AB;&#x7528;&#x6765;&#x5C55;&#x793A;&#x56FE;&#x7247;&#xFF0C;&#x4E0D;&#x8FDB;&#x884C;&#x641C;&#x7D22;&#x56FE;&#x7247;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x5C06;index&#x8BBE;&#x7F6E;&#x4E3A;false&#x3002; &#x5220;&#x9664;&#x7D22;&#x5F15;&#xFF0C;&#x91CD;&#x65B0;&#x521B;&#x5EFA;&#x6620;&#x5C04;&#xFF0C;&#x5C06;pic&#x7684;index&#x8BBE;&#x7F6E;&#x4E3A;false&#xFF0C;&#x5C1D;&#x8BD5;&#x6839;&#x636E;pic&#x53BB;&#x641C;&#x7D22;&#xFF0C;&#x7ED3;&#x679C;&#x641C;&#x7D22;&#x4E0D;&#x5230;&#x6570;&#x636E; &quot;pic&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;index&quot;:false }4.store&#x662F;&#x5426;&#x5728;source&#x4E4B;&#x5916;&#x5B58;&#x50A8;&#xFF0C;&#x6BCF;&#x4E2A;&#x6587;&#x6863;&#x7D22;&#x5F15;&#x540E;&#x4F1A;&#x5728; ES&#x4E2D;&#x4FDD;&#x5B58;&#x4E00;&#x4EFD;&#x539F;&#x59CB;&#x6587;&#x6863;&#xFF0C;&#x5B58;&#x653E;&#x5728;&quot;_source&quot;&#x4E2D;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;store&#x4E3A;true&#xFF0C;&#x56E0;&#x4E3A;&#x5728;_source&#x4E2D;&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x4EFD;&#x539F;&#x59CB;&#x6587;&#x6863;&#x4E86;&#x3002;&#x6D4B;&#x8BD5;: &#x5220;&#x9664;xc_course/doc&#x4E0B;&#x7684;&#x7D22;&#x5F15;&#x5E93; 1.&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93; &#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x8868; PUT http://localhost:9200/xc_course/ { &quot;settings&quot;:{ &quot;index&quot;:{ &quot;number_of_shards&quot;:1, &quot;number_of_replicas&quot;:0 } } }&#x521B;&#x5EFA;&#x65B0;&#x6620;&#x5C04;&#xFF1A;Post http://localhost:9200/xc_course/doc/_mapping { &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;:&quot;ik_max_word&quot;, &quot;search_analyzer&quot;:&quot;ik_smart&quot; }, &quot;description&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;:&quot;ik_max_word&quot;, &quot;search_analyzer&quot;:&quot;ik_smart&quot; }, &quot;pic&quot;:{ &quot;type&quot;:&quot;text&quot;, &quot;index&quot;:false }, &quot;studymodel&quot;:{ &quot;type&quot;:&quot;text&quot; } } }&#x63D2;&#x5165;&#x6587;&#x6863;&#xFF1A; http://localhost:9200/xc_course/doc/4028e58161bcf7f40161bcf8b77c0000 { &quot;name&quot;:&quot;Bootstrap&#x5F00;&#x53D1;&#x6846;&#x67B6;&quot;, &quot;description&quot;:&quot;Bootstrap&#x662F;&#x7531;Twitter&#x63A8;&#x51FA;&#x7684;&#x4E00;&#x4E2A;&#x524D;&#x53F0;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#xFF0C;&#x5728;&#x884C;&#x4E1A;&#x4E4B;&#x4E2D;&#x4F7F;&#x7528;&#x8F83;&#x4E3A;&#x5E7F;&#x6CDB;&#x3002;&#x6B64;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x5305;&#x542B;&#x4E86;&#x5927;&#x91CF;&#x7684;CSS&#x3001;JS&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x5F00;&#x53D1;&#x8005;&#xFF08;&#x5C24;&#x5176;&#x662F;&#x4E0D;&#x64C5;&#x957F;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x7684;&#x7A0B;&#x5E8F;&#x4EBA;&#x5458;&#xFF09;&#x8F7B;&#x677E;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x4E0D;&#x53D7;&#x6D4F;&#x89C8;&#x5668;&#x9650;&#x5236;&#x7684;&#x7CBE;&#x7F8E;&#x754C;&#x9762;&#x6548;&#x679C;&#x3002;&quot;, &quot;pic&quot;:&quot;group1/M00/00/01/wKhlQFqO4MmAOP53AAAcwDwm6SU490.jpg&quot;, &quot;studymodel&quot;:&quot;201002&quot; }&#x67E5;&#x8BE2;&#x6D4B;&#x8BD5;&#xFF1A; Get http://localhost:9200/xc_course/_search?q=name:&#x5F00;&#x53D1; Get http://localhost:9200/xc_course/_search?q=description:&#x5F00;&#x53D1; Get http://localhost:9200/xc_course/_search?q=pic:group1/M00/00/01/wKhlQFqO4MmAOP53AAAcwDwm6SU490.jpg Get http://localhost:9200/xc_course/_search?q=studymodel:201002 &#x901A;&#x8FC7;&#x6D4B;&#x8BD5;&#x53D1;&#x73B0;&#xFF1A;name&#x548C;description&#x90FD;&#x652F;&#x6301;&#x5168;&#x6587;&#x68C0;&#x7D22;&#xFF0C;pic&#x4E0D;&#x53EF;&#x4F5C;&#x4E3A;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x3002; 2.keyword&#x200B; &#x4E0A;&#x8FB9;&#x4ECB;&#x7ECD;&#x7684;text&#x6587;&#x672C;&#x5B57;&#x6BB5;&#x5728;&#x6620;&#x5C04;&#x65F6;&#x8981;&#x8BBE;&#x7F6E;&#x5206;&#x8BCD;&#x5668;&#xFF0C;keyword&#x5B57;&#x6BB5;&#x4E3A;&#x5173;&#x952E;&#x5B57;&#x5B57;&#x6BB5;&#xFF0C;&#x901A;&#x5E38;&#x641C;&#x7D22;keyword&#x662F;&#x6309;&#x7167;&#x6574;&#x4F53;&#x641C;&#x7D22;&#xFF0C;&#x6240;&#x4EE5;&#x521B;&#x5EFA;keyword&#x5B57;&#x6BB5;&#x7684;&#x7D22;&#x5F15;&#x65F6;&#x662F;&#x4E0D;&#x8FDB;&#x884C;&#x5206;&#x8BCD;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;&#x90AE;&#x653F;&#x7F16;&#x7801;&#x3001;&#x624B;&#x673A;&#x53F7;&#x7801;&#x3001;&#x8EAB;&#x4EFD;&#x8BC1;&#x7B49;&#x3002;keyword&#x5B57;&#x6BB5;&#x901A;&#x5E38;&#x7528;&#x4E8E;&#x8FC7;&#x8651;&#x3001;&#x6392;&#x5E8F;&#x3001;&#x805A;&#x5408;&#x7B49;&#x3002; &#x5220;&#x9664;xc_course/doc&#x4E0B;&#x7684;&#x7D22;&#x5F15;&#x5E93; 1.&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93; &#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x8868; PUT http://localhost:9200/xc_course/ { &quot;settings&quot;:{ &quot;index&quot;:{ &quot;number_of_shards&quot;:1, &quot;number_of_replicas&quot;:0 } } }2.&#x66F4;&#x6539;&#x6620;&#x5C04;&#xFF1A; Post http://localhost:9200/xc_course/doc/_mapping { &quot;properties&quot;: { &quot;studymodel&quot;:{ &quot;type&quot;:&quot;keyword&quot; }, &quot;name&quot;:{ &quot;type&quot;:&quot;keyword&quot; } } }&#x63D2;&#x5165;&#x6587;&#x6863;&#xFF1A; http://localhost:9200/xc_course/doc/4028e58161bcf7f40161bcf8b77c0000 { &quot;name&quot;: &quot;java&#x7F16;&#x7A0B;&#x57FA;&#x7840;&quot;, &quot;description&quot;: &quot;java&#x8BED;&#x8A00;&#x662F;&#x4E16;&#x754C;&#x7B2C;&#x4E00;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#xFF0C;&#x5728;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x9886;&#x57DF;&#x4F7F;&#x7528;&#x4EBA;&#x6570;&#x6700;&#x591A;&#x3002;&quot;, &quot;pic&quot;:&quot;group1/M00/00/01/wKhlQFqO4MmAOP53AAAcwDwm6SU490.jpg&quot;, &quot;studymodel&quot;: &quot;201001&quot; }&#x6D4B;&#x8BD5; &#x641C;&#x7D22;&#xFF1A;http://localhost:9200/xc_course/_search?q=name:java&#x7F16;&#x7A0B;&#x57FA;&#x7840; name&#x662F;keyword&#x7C7B;&#x578B;&#xFF0C;&#x6240;&#x4EE5;&#x67E5;&#x8BE2;&#x65B9;&#x5F0F;&#x662F;&#x7CBE;&#x786E;&#x67E5;&#x8BE2;&#x3002; 3.date&#x65E5;&#x671F;&#x7C7B;&#x578B;&#x4E0D;&#x7528;&#x8BBE;&#x7F6E;&#x5206;&#x8BCD;&#x5668;&#x3002; &#x901A;&#x5E38;&#x65E5;&#x671F;&#x7C7B;&#x578B;&#x7684;&#x5B57;&#x6BB5;&#x7528;&#x4E8E;&#x6392;&#x5E8F;&#x3002; 1)format &#x901A;&#x8FC7;format&#x8BBE;&#x7F6E;&#x65E5;&#x671F;&#x683C;&#x5F0F; &#x4F8B;&#x5B50;&#xFF1A; &#x4E0B;&#x8FB9;&#x7684;&#x8BBE;&#x7F6E;&#x5141;&#x8BB8;date&#x5B57;&#x6BB5;&#x5B58;&#x50A8;&#x5E74;&#x6708;&#x65E5;&#x65F6;&#x5206;&#x79D2;&#x3001;&#x5E74;&#x6708;&#x65E5;&#x53CA;&#x6BEB;&#x79D2;&#x4E09;&#x79CD;&#x683C;&#x5F0F;&#x3002; { &quot;properties&quot;: { &quot;timestamp&quot;: { &quot;type&quot;: &quot;date&quot;, &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd&quot; } } }&#x63D2;&#x5165;&#x6587;&#x6863;&#xFF1A; Post :http://localhost:9200/xc_course/doc/3 { &quot;name&quot;: &quot;spring&#x5F00;&#x53D1;&#x57FA;&#x7840;&quot;, &quot;description&quot;: &quot;spring &#x5728;java&#x9886;&#x57DF;&#x975E;&#x5E38;&#x6D41;&#x884C;&#xFF0C;java&#x7A0B;&#x5E8F;&#x5458;&#x90FD;&#x5728;&#x7528;&#x3002;&quot;, &quot;studymodel&quot;: &quot;201001&quot;, &quot;pic&quot;:&quot;group1/M00/00/01/wKhlQFqO4MmAOP53AAAcwDwm6SU490.jpg&quot;, &quot;timestamp&quot;:&quot;2018-07-04 18:28:58&quot; }4.numeric&#x4E0B;&#x8FB9;&#x662F;ES&#x652F;&#x6301;&#x7684;&#x6570;&#x503C;&#x7C7B;&#x578B; 1&#x3001;&#x5C3D;&#x91CF;&#x9009;&#x62E9;&#x8303;&#x56F4;&#x5C0F;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x63D0;&#x9AD8;&#x641C;&#x7D22;&#x6548;&#x7387; 2&#x3001;&#x5BF9;&#x4E8E;&#x6D6E;&#x70B9;&#x6570;&#x5C3D;&#x91CF;&#x7528;&#x6BD4;&#x4F8B;&#x56E0;&#x5B50;&#xFF0C;&#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x4EF7;&#x683C;&#x5B57;&#x6BB5;&#xFF0C;&#x5355;&#x4F4D;&#x4E3A;&#x5143;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6BD4;&#x4F8B;&#x56E0;&#x5B50;&#x8BBE;&#x7F6E;&#x4E3A;100&#x8FD9;&#x5728;ES&#x4E2D;&#x4F1A;&#x6309; &#x5206; &#x5B58;&#x50A8;&#xFF0C;&#x6620;&#x5C04;&#x5982;&#x4E0B;&#xFF1A; &quot;price&quot;: { &quot;type&quot;: &quot;scaled_float&quot;, &quot;scaling_factor&quot;: 100 },&#x7531;&#x4E8E;&#x6BD4;&#x4F8B;&#x56E0;&#x5B50;&#x4E3A;100&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x8F93;&#x5165;&#x7684;&#x4EF7;&#x683C;&#x662F;23.45&#x5219;ES&#x4E2D;&#x4F1A;&#x5C06;23.45&#x4E58;&#x4EE5;100&#x5B58;&#x50A8;&#x5728;ES&#x4E2D;&#x3002; &#x5982;&#x679C;&#x8F93;&#x5165;&#x7684;&#x4EF7;&#x683C;&#x662F;23.456&#xFF0C;ES&#x4F1A;&#x5C06;23.456&#x4E58;&#x4EE5;100&#x518D;&#x53D6;&#x4E00;&#x4E2A;&#x63A5;&#x8FD1;&#x539F;&#x59CB;&#x503C;&#x7684;&#x6570;&#xFF0C;&#x5F97;&#x51FA;2346&#x3002; &#x4F7F;&#x7528;&#x6BD4;&#x4F8B;&#x56E0;&#x5B50;&#x7684;&#x597D;&#x5904;&#x662F;&#x6574;&#x578B;&#x6BD4;&#x6D6E;&#x70B9;&#x578B;&#x66F4;&#x6613;&#x538B;&#x7F29;&#xFF0C;&#x8282;&#x7701;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x3002; &#x5982;&#x679C;&#x6BD4;&#x4F8B;&#x56E0;&#x5B50;&#x4E0D;&#x9002;&#x5408;&#xFF0C;&#x5219;&#x4ECE;&#x4E0B;&#x8868;&#x9009;&#x62E9;&#x8303;&#x56F4;&#x5C0F;&#x7684;&#x53BB;&#x7528;&#xFF1A; &#x66F4;&#x65B0;&#x5DF2;&#x6709;&#x6620;&#x5C04;&#xFF0C;&#x5E76;&#x63D2;&#x5165;&#x6587;&#x6863;&#xFF1A; http://localhost:9200/xc_course/doc/3 { &quot;name&quot;: &quot;spring&#x5F00;&#x53D1;&#x57FA;&#x7840;&quot;, &quot;description&quot;: &quot;spring &#x5728;java&#x9886;&#x57DF;&#x975E;&#x5E38;&#x6D41;&#x884C;&#xFF0C;java&#x7A0B;&#x5E8F;&#x5458;&#x90FD;&#x5728;&#x7528;&#x3002;&quot;, &quot;studymodel&quot;: &quot;201001&quot;, &quot;pic&quot;:&quot;group1/M00/00/01/wKhlQFqO4MmAOP53AAAcwDwm6SU490.jpg&quot;, &quot;timestamp&quot;:&quot;2018-07-04 18:28:58&quot;, &quot;price&quot;:38.6 }5.&#x7EFC;&#x5408;&#x4F8B;&#x5B50;&#x521B;&#x5EFA;&#x5982;&#x4E0B;&#x6620;&#x5C04; post&#xFF1A;http://localhost:9200/xc_course/doc/_mapping { &quot;properties&quot;: { &quot;description&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;: &quot;ik_max_word&quot;, &quot;search_analyzer&quot;: &quot;ik_smart&quot; }, &quot;name&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;: &quot;ik_max_word&quot;, &quot;search_analyzer&quot;: &quot;ik_smart&quot; }, &quot;pic&quot;:{ &quot;type&quot;:&quot;text&quot;, &quot;index&quot;:false }, &quot;price&quot;: { &quot;type&quot;: &quot;float&quot; }, &quot;studymodel&quot;: { &quot;type&quot;: &quot;keyword&quot; }, &quot;timestamp&quot;: { &quot;type&quot;: &quot;date&quot;, &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis&quot; } } }&#x63D2;&#x5165;&#x6587;&#x6863;&#xFF1A; Post: http://localhost:9200/xc_course/doc/1 { &#x201C;name&#x201D;: &#x201C;Bootstrap&#x5F00;&#x53D1;&#x201D;, &#x201C;description&#x201D;: &#x201C;Bootstrap&#x662F;&#x7531;Twitter&#x63A8;&#x51FA;&#x7684;&#x4E00;&#x4E2A;&#x524D;&#x53F0;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x6D41;&#x884C;&#x7684;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#xFF0C;&#x6B64;&#x6846;&#x67B6;&#x96C6;&#x6210;&#x4E86;&#x591A;&#x79CD;&#x9875;&#x9762;&#x6548;&#x679C;&#x3002;&#x6B64;&#x5F00;&#x53D1;&#x6846;&#x67B6;&#x5305;&#x542B;&#x4E86;&#x5927;&#x91CF;&#x7684;CSS&#x3001;JS&#x7A0B;&#x5E8F;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x5F00;&#x53D1;&#x8005;&#xFF08;&#x5C24;&#x5176;&#x662F;&#x4E0D;&#x64C5;&#x957F;&#x9875;&#x9762;&#x5F00;&#x53D1;&#x7684;&#x7A0B;&#x5E8F;&#x4EBA;&#x5458;&#xFF09;&#x8F7B;&#x677E;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x4E0D;&#x53D7;&#x6D4F;&#x89C8;&#x5668;&#x9650;&#x5236;&#x7684;&#x7CBE;&#x7F8E;&#x754C;&#x9762;&#x6548;&#x679C;&#x3002;&#x201D;, &#x201C;studymodel&#x201D;: &#x201C;201002&#x201D;, &#x201C;price&#x201D;:38.6, &#x201C;timestamp&#x201D;:&#x201D;2018-04-25 19:11:35&#x201D;, &#x201C;pic&#x201D;:&#x201D;group1/M00/00/00/wKhlQFs6RCeAY0pHAAJx5ZjNDEM428.jpg&#x201D; } ES&#x5BA2;&#x6237;&#x7AEF;ES&#x63D0;&#x4F9B;&#x591A;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#xFF1A; 1&#x3001;TransportClient ES&#x63D0;&#x4F9B;&#x7684;&#x4F20;&#x7EDF;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5B98;&#x65B9;&#x8BA1;&#x5212;8.0&#x7248;&#x672C;&#x5220;&#x9664;&#x6B64;&#x5BA2;&#x6237;&#x7AEF;&#x3002; 2&#x3001;RestClient RestClient&#x662F;&#x5B98;&#x65B9;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x5B83;&#x5305;&#x62EC;&#x4E24;&#x79CD;&#xFF1A;Java Low Level REST Client&#x548C; Java High Level REST Client&#x3002; ES&#x5728;6.0&#x4E4B;&#x540E;&#x63D0;&#x4F9B; Java High Level REST Client&#xFF0C; &#x4E24;&#x79CD;&#x5BA2;&#x6237;&#x7AEF;&#x5B98;&#x65B9;&#x66F4;&#x63A8;&#x8350;&#x4F7F;&#x7528; Java High Level REST Client&#xFF0C;&#x4E0D;&#x8FC7;&#x5F53;&#x524D;&#x5B83;&#x8FD8;&#x5904;&#x4E8E;&#x5B8C;&#x5584;&#x4E2D;&#xFF0C;&#x6709;&#x4E9B;&#x529F;&#x80FD;&#x8FD8;&#x6CA1;&#x6709;&#x3002; &#x672C;&#x6559;&#x7A0B;&#x51C6;&#x5907;&#x91C7;&#x7528; Java High Level REST Client&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x6709;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5219;&#x4F7F;&#x7528;Java Low Level REST Client&#x3002; xc-service-search1.pom.xml &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-model&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-framework-common&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.xuecheng&lt;/groupId&gt; &lt;artifactId&gt;xc-service-api&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt; &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt; &lt;version&gt;6.2.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt; &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt; &lt;version&gt;6.2.1&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-io&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.apache.commons&lt;/groupId&gt; &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt; &lt;/dependency&gt;2.application.ymlserver: port: ${port:40100} spring: application: name: xc-search-service xuecheng: elasticsearch: hostlist: ${eshostlist:127.0.0.1:9200} #&#x591A;&#x4E2A;&#x7ED3;&#x70B9;&#x4E2D;&#x95F4;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;3.&#x914D;&#x7F6E;&#x7C7B;&#x521B;&#x5EFA;com.xuecheng.search.config&#x5305; &#x5728;&#x5176;&#x4E0B;&#x521B;&#x5EFA;&#x914D;&#x7F6E;&#x7C7B; @Configuration public class ElasticsearchConfig { @Value(&quot;${xuecheng.elasticsearch.hostlist}&quot;) private String hostlist; @Bean public RestHighLevelClient restHighLevelClient(){ //&#x89E3;&#x6790;hostlist&#x914D;&#x7F6E;&#x4FE1;&#x606F; String[] split = hostlist.split(&quot;,&quot;); //&#x521B;&#x5EFA;HttpHost&#x6570;&#x7EC4;&#xFF0C;&#x5176;&#x4E2D;&#x5B58;&#x653E;es&#x4E3B;&#x673A;&#x548C;&#x7AEF;&#x53E3;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F; HttpHost[] httpHostArray = new HttpHost[split.length]; for(int i=0;i&lt;split.length;i++){ String item = split[i]; httpHostArray[i] = new HttpHost(item.split(&quot;:&quot;)[0], Integer.parseInt(item.split(&quot;:&quot;)[1]), &quot;http&quot;); } //&#x521B;&#x5EFA;RestHighLevelClient&#x5BA2;&#x6237;&#x7AEF; return new RestHighLevelClient(RestClient.builder(httpHostArray)); } //&#x9879;&#x76EE;&#x4E3B;&#x8981;&#x4F7F;&#x7528;RestHighLevelClient&#xFF0C;&#x5BF9;&#x4E8E;&#x4F4E;&#x7EA7;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x6682;&#x65F6;&#x4E0D;&#x7528; @Bean public RestClient restClient(){ //&#x89E3;&#x6790;hostlist&#x914D;&#x7F6E;&#x4FE1;&#x606F; String[] split = hostlist.split(&quot;,&quot;); //&#x521B;&#x5EFA;HttpHost&#x6570;&#x7EC4;&#xFF0C;&#x5176;&#x4E2D;&#x5B58;&#x653E;es&#x4E3B;&#x673A;&#x548C;&#x7AEF;&#x53E3;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F; HttpHost[] httpHostArray = new HttpHost[split.length]; for(int i=0;i&lt;split.length;i++){ String item = split[i]; httpHostArray[i] = new HttpHost(item.split(&quot;:&quot;)[0], Integer.parseInt(item.split(&quot;:&quot;)[1]), &quot;http&quot;); } return RestClient.builder(httpHostArray).build(); } }4.&#x542F;&#x52A8;&#x7C7B;@SpringBootApplication @EntityScan(&quot;com.xuecheng.framework.domain.search&quot;)//&#x626B;&#x63CF;&#x5B9E;&#x4F53;&#x7C7B; @ComponentScan(basePackages={&quot;com.xuecheng.api&quot;})//&#x626B;&#x63CF;&#x63A5;&#x53E3; @ComponentScan(basePackages={&quot;com.xuecheng.search&quot;})//&#x626B;&#x63CF;&#x672C;&#x9879;&#x76EE;&#x4E0B;&#x7684;&#x6240;&#x6709;&#x7C7B; @ComponentScan(basePackages={&quot;com.xuecheng.framework&quot;})//&#x626B;&#x63CF;common&#x4E0B;&#x7684;&#x6240;&#x6709;&#x7C7B; public class SearchApplication { public static void main(String[] args) throws Exception { SpringApplication.run(SearchApplication.class, args); } }&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93;API&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#xFF1A; put http://localhost:9200/&#x7D22;&#x5F15;&#x540D;&#x79F0; { &quot;settings&quot;:{ &quot;index&quot;:{ &quot;number_of_shards&quot;:1,#&#x5206;&#x7247;&#x7684;&#x6570;&#x91CF; &quot;number_of_replicas&quot;:0#&#x526F;&#x672C;&#x6570;&#x91CF; } } }&#x521B;&#x5EFA;&#x6620;&#x5C04;(&#x8868;&#x5934;)&#xFF1A; &#x53D1;&#x9001;&#xFF1A;put http://localhost:9200/&#x7D22;&#x5F15;&#x5E93;&#x540D;&#x79F0;/&#x7C7B;&#x578B;&#x540D;&#x79F0;/_mapping &#x521B;&#x5EFA;&#x7C7B;&#x578B;&#x4E3A;xc_course&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x5171;&#x5305;&#x62EC;&#x4E09;&#x4E2A;&#x5B57;&#x6BB5;&#xFF1A;name&#x3001;description&#x3001;studymodel http://localhost:9200/xc_course/doc/_mapping { &quot;properties&quot;: { &quot;name&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;:&quot;ik_max_word&quot;, &quot;search_analyzer&quot;:&quot;ik_smart&quot; }, &quot;description&quot;: { &quot;type&quot;: &quot;text&quot;, &quot;analyzer&quot;:&quot;ik_max_word&quot;, &quot;search_analyzer&quot;:&quot;ik_smart&quot; }, &quot;studymodel&quot;: { &quot;type&quot;: &quot;keyword&quot; }, &quot;price&quot;: { &quot;type&quot;: &quot;float&quot; }, &quot;timestamp&quot;: { &quot;type&quot;: &quot;date&quot;, &quot;format&quot;: &quot;yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis&quot; } } }Java Client@SpringBootTest @RunWith(SpringRunner.class) public class TestIndex { @Autowired RestHighLevelClient client; @Autowired RestClient restClient; //&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93; @Test public void testCreateIndex() throws IOException { //&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5BF9;&#x8C61; CreateIndexRequest createIndexRequest = new CreateIndexRequest(&quot;xc_course&quot;); //&#x8BBE;&#x7F6E;&#x53C2;&#x6570; createIndexRequest.settings(Settings.builder().put(&quot;number_of_shards&quot;,&quot;1&quot;).put(&quot;number_of_replicas&quot;,&quot;0&quot;)); //&#x6307;&#x5B9A;&#x6620;&#x5C04; createIndexRequest.mapping(&quot;doc&quot;,&quot; {\n&quot; + &quot; \t\&quot;properties\&quot;: {\n&quot; + &quot; \&quot;studymodel\&quot;:{\n&quot; + &quot; \&quot;type\&quot;:\&quot;keyword\&quot;\n&quot; + &quot; },\n&quot; + &quot; \&quot;name\&quot;:{\n&quot; + &quot; \&quot;type\&quot;:\&quot;keyword\&quot;\n&quot; + &quot; },\n&quot; + &quot; \&quot;description\&quot;: {\n&quot; + &quot; \&quot;type\&quot;: \&quot;text\&quot;,\n&quot; + &quot; \&quot;analyzer\&quot;:\&quot;ik_max_word\&quot;,\n&quot; + &quot; \&quot;search_analyzer\&quot;:\&quot;ik_smart\&quot;\n&quot; + &quot; },\n&quot; + &quot; \&quot;pic\&quot;:{\n&quot; + &quot; \&quot;type\&quot;:\&quot;text\&quot;,\n&quot; + &quot; \&quot;index\&quot;:false\n&quot; + &quot; }\n&quot; + &quot; \t}\n&quot; + &quot;}&quot;, XContentType.JSON); //&#x64CD;&#x4F5C;&#x7D22;&#x5F15;&#x7684;&#x5BA2;&#x6237;&#x7AEF; IndicesClient indices = client.indices(); //&#x6267;&#x884C;&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x5E93; CreateIndexResponse createIndexResponse = indices.create(createIndexRequest); //&#x5F97;&#x5230;&#x54CD;&#x5E94; boolean acknowledged = createIndexResponse.isAcknowledged(); System.out.println(acknowledged); } //&#x5220;&#x9664;&#x7D22;&#x5F15;&#x5E93; @Test public void testDeleteIndex() throws IOException { //&#x5220;&#x9664;&#x7D22;&#x5F15;&#x5BF9;&#x8C61; DeleteIndexRequest deleteIndexRequest = new DeleteIndexRequest(&quot;xc_course&quot;); //&#x64CD;&#x4F5C;&#x7D22;&#x5F15;&#x7684;&#x5BA2;&#x6237;&#x7AEF; IndicesClient indices = client.indices(); //&#x6267;&#x884C;&#x5220;&#x9664;&#x7D22;&#x5F15; DeleteIndexResponse delete = indices.delete(deleteIndexRequest); //&#x5F97;&#x5230;&#x54CD;&#x5E94; boolean acknowledged = delete.isAcknowledged(); System.out.println(acknowledged); }&#x6DFB;&#x52A0;&#x6587;&#x6863;API&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A; PUT /{index}/{type}/{id} { &#x201C;field&#x201D;: &#x201C;value&#x201D;, &#x200B; &#x2026; } &#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;id&#xFF0C;ES&#x4F1A;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x3002; &#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF1A; put http://localhost:9200/xc_course/doc/3 { &quot;name&quot;:&quot;spring cloud&#x5B9E;&#x6218;&quot;, &quot;description&quot;:&quot;&#x672C;&#x8BFE;&#x7A0B;&#x4E3B;&#x8981;&#x4ECE;&#x56DB;&#x4E2A;&#x7AE0;&#x8282;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#xFF1A; 1.&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x5165;&#x95E8; 2.spring cloud &#x57FA;&#x7840;&#x5165;&#x95E8; 3.&#x5B9E;&#x6218;Spring Boot 4.&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;eureka&#x3002;&quot;, &quot;studymodel&quot;:&quot;201001&quot;, &quot;price&quot;:5.6 }Java Client //&#x6DFB;&#x52A0;&#x6587;&#x6863; @Test public void testAddDoc() throws IOException { //&#x6587;&#x6863;&#x5185;&#x5BB9; //&#x51C6;&#x5907;json&#x6570;&#x636E; Map&lt;String, Object&gt; jsonMap = new HashMap&lt;&gt;(); jsonMap.put(&quot;name&quot;, &quot;spring cloud&#x5B9E;&#x6218;&quot;); jsonMap.put(&quot;description&quot;, &quot;&#x672C;&#x8BFE;&#x7A0B;&#x4E3B;&#x8981;&#x4ECE;&#x56DB;&#x4E2A;&#x7AE0;&#x8282;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#xFF1A; 1.&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x5165;&#x95E8; 2.spring cloud &#x57FA;&#x7840;&#x5165;&#x95E8; 3.&#x5B9E;&#x6218;Spring Boot 4.&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;eureka&#x3002;&quot;); jsonMap.put(&quot;studymodel&quot;, &quot;201001&quot;); SimpleDateFormat dateFormat =new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;); jsonMap.put(&quot;timestamp&quot;, dateFormat.format(new Date())); jsonMap.put(&quot;price&quot;, 5.6f); //&#x521B;&#x5EFA;&#x7D22;&#x5F15;&#x521B;&#x5EFA;&#x5BF9;&#x8C61; IndexRequest indexRequest = new IndexRequest(&quot;xc_course&quot;,&quot;doc&quot;); //&#x6587;&#x6863;&#x5185;&#x5BB9; indexRequest.source(jsonMap); //&#x901A;&#x8FC7;client&#x8FDB;&#x884C;http&#x7684;&#x8BF7;&#x6C42; IndexResponse indexResponse = client.index(indexRequest); DocWriteResponse.Result result = indexResponse.getResult(); System.out.println(result); }&#x67E5;&#x8BE2;&#x6587;&#x6863;API&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;GET /{index}/{type}/{id} http://localhost:9200/xc_course/doc/3Java Client //&#x67E5;&#x8BE2;&#x6587;&#x6863; @Test public void testGetDoc() throws IOException { //&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61; GetRequest getRequest = new GetRequest(&quot;xc_course&quot;,&quot;doc&quot;,&quot;Olji-20BCJ-pMSTvryja&quot;); GetResponse getResponse = client.get(getRequest); //&#x5F97;&#x5230;&#x6587;&#x6863;&#x7684;&#x5185;&#x5BB9; Map&lt;String, Object&gt; sourceAsMap = getResponse.getSourceAsMap(); System.out.println(sourceAsMap); }&#x66F4;&#x65B0;&#x6587;&#x6863;ApiES&#x66F4;&#x65B0;&#x6587;&#x6863;&#x7684;&#x987A;&#x5E8F;&#x662F;&#xFF1A;&#x5148;&#x68C0;&#x7D22;&#x5230;&#x6587;&#x6863;&#x3001;&#x5C06;&#x539F;&#x6765;&#x7684;&#x6587;&#x6863;&#x6807;&#x8BB0;&#x4E3A;&#x5220;&#x9664;&#x3001;&#x521B;&#x5EFA;&#x65B0;&#x6587;&#x6863;&#x3001;&#x5220;&#x9664;&#x65E7;&#x6587;&#x6863;&#xFF0C;&#x521B;&#x5EFA;&#x65B0;&#x6587;&#x6863;&#x5C31;&#x4F1A;&#x91CD;&#x5EFA;&#x7D22;&#x5F15;&#x3002; &#x901A;&#x8FC7;&#x8BF7;&#x6C42;Url&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A; 1&#x3001;&#x5B8C;&#x5168;&#x66FF;&#x6362; Post&#xFF1A;http://localhost:9200/xc_test/doc/3 { &quot;name&quot;:&quot;spring cloud&#x5B9E;&#x6218;&quot;, &quot;description&quot;:&quot;&#x672C;&#x8BFE;&#x7A0B;&#x4E3B;&#x8981;&#x4ECE;&#x56DB;&#x4E2A;&#x7AE0;&#x8282;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#xFF1A; 1.&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#x5165;&#x95E8; 2.spring cloud &#x57FA;&#x7840;&#x5165;&#x95E8; 3.&#x5B9E;&#x6218;Spring Boot 4.&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;eureka&#x3002;&quot;, &quot;studymodel&quot;:&quot;201001&quot;, &quot;price&quot;:5.6 }2&#x3001;&#x5C40;&#x90E8;&#x66F4;&#x65B0; &#x4E0B;&#x8FB9;&#x7684;&#x4F8B;&#x5B50;&#x662F;&#x53EA;&#x66F4;&#x65B0;price&#x5B57;&#x6BB5;&#x3002; post: http://localhost:9200/xc_test/doc/3/_update { &quot;doc&quot;:{&quot;price&quot;:66.6} }Java Client&#x4F7F;&#x7528; Client Api&#x66F4;&#x65B0;&#x6587;&#x6863;&#x7684;&#x65B9;&#x6CD5;&#x540C;&#x4E0A;&#x8FB9;&#x7B2C;&#x4E8C;&#x79CD;&#x5C40;&#x90E8;&#x66F4;&#x65B0;&#x65B9;&#x6CD5;&#x3002; &#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x6587;&#x6863;&#x7684;&#x90E8;&#x5206;&#x5B57;&#x6BB5;&#x4E5F;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5B8C;&#x6574;&#x7684;&#x6587;&#x6863;&#x5185;&#x5BB9;&#x3002; //&#x66F4;&#x65B0;&#x6587;&#x6863; @Test public void updateDoc() throws IOException { UpdateRequest updateRequest = new UpdateRequest(&quot;xc_course&quot;, &quot;doc&quot;, &quot;Olji-20BCJ-pMSTvryja&quot;); Map&lt;String, String&gt; map = new HashMap&lt;&gt;(); map.put(&quot;name&quot;, &quot;spring cloud&#x5B9E;&#x6218;_&#x66F4;&#x65B0;&#x6587;&#x6863;&quot;); updateRequest.doc(map); UpdateResponse update = client.update(updateRequest); RestStatus status = update.status(); System.out.println(status); }&#x5220;&#x9664;&#x6587;&#x6863;Api&#x6839;&#x636E;id&#x5220;&#x9664;&#xFF0C;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A; DELETE /{index}/{type}/{id} &#x641C;&#x7D22;&#x5339;&#x914D;&#x5220;&#x9664;&#xFF0C;&#x5C06;&#x641C;&#x7D22;&#x51FA;&#x6765;&#x7684;&#x8BB0;&#x5F55;&#x5220;&#x9664;&#xFF0C;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A; POST /{index}/{type}/_delete_by_query &#x4E0B;&#x8FB9;&#x662F;&#x641C;&#x7D22;&#x6761;&#x4EF6;&#x4F8B;&#x5B50;&#xFF1A; { &quot;query&quot;:{ &quot;term&quot;:{ &quot;studymodel&quot;:&quot;201001&quot; } } }&#x4E0A;&#x8FB9;&#x4F8B;&#x5B50;&#x7684;&#x641C;&#x7D22;&#x5339;&#x914D;&#x5220;&#x9664;&#x4F1A;&#x5C06;studymodel&#x4E3A;201001&#x7684;&#x8BB0;&#x5F55;&#x5168;&#x90E8;&#x5220;&#x9664;&#x3002; Java Client //&#x6839;&#x636E;id&#x5220;&#x9664;&#x6587;&#x6863; @Test public void testDelDoc() throws IOException { //&#x5220;&#x9664;&#x6587;&#x6863;id String id = &quot;Olji-20BCJ-pMSTvryja&quot;; //&#x5220;&#x9664;&#x7D22;&#x5F15;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61; DeleteRequest deleteRequest = new DeleteRequest(&quot;xc_course&quot;,&quot;doc&quot;,id); //&#x54CD;&#x5E94;&#x5BF9;&#x8C61; DeleteResponse deleteResponse = client.delete(deleteRequest); //&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x7ED3;&#x679C; DocWriteResponse.Result result = deleteResponse.getResult(); System.out.println(result); }&#x641C;&#x7D22;&#x5339;&#x914D;&#x5220;&#x9664;&#x8FD8;&#x6CA1;&#x6709;&#x5177;&#x4F53;&#x7684;api&#xFF0C;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x5148;&#x641C;&#x7D22;&#x51FA;&#x6587;&#x6863;id&#xFF0C;&#x6839;&#x636E;&#x6587;&#x6863;id&#x5220;&#x9664;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-11-fen-ye.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x5728; api &#x5B9E;&#x8DF5;&#x90A3;&#x8282;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF0C;&#x4F46;&#x662F;&#x90A3;&#x4E2A;&#x63A5;&#x53E3;&#x4F1A;&#x5C06;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#xFF0C;&#x4E00;&#x822C;&#x8FD9;&#x79CD;&#x63A5;&#x53E3;&#x4F1A;&#x52A0;&#x5165;&#x5206;&#x9875;&#x903B;&#x8F91;&#xFF0C;&#x5728;&#x67E5;&#x8BE2;&#x65F6;&#x53EA;&#x67E5;&#x8BE2;&#x5BF9;&#x5E94;&#x9875;&#x7801;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5C06;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5168;&#x90E8;&#x90FD;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#xFF0C;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x8BFE;&#x6211;&#x4EEC;&#x5C06;&#x5BF9;&#x5206;&#x9875;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x4ECB;&#x7ECD;&#x53CA;&#x5206;&#x6790;&#xFF0C;&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5B9E;&#x8DF5;&#xFF0C;&#x4E4B;&#x540E;&#x8FD8;&#x4F1A;&#x8BB2;&#x89E3;&#x4F7F;&#x7528; JqGrid &#x5206;&#x9875;&#x63D2;&#x4EF6;&#x8FDB;&#x884C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x6548;&#x679C;&#x5C55;&#x793A;&#x3002; &#x5176;&#x5B9E;&#x5206;&#x9875;&#x662F;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x7CFB;&#x7EDF;&#x4E2D;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x4E5F;&#x5341;&#x5206;&#x5E38;&#x7528;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x76F8;&#x4FE1;&#x4E0D;&#x5C11;&#x540C;&#x5B66;&#x5BF9;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x719F;&#x6089;&#xFF0C;&#x5728; MVC &#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#x4E0B;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x662F;&#x628A;&#x5B83;&#x653E;&#x5165;&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x4E2D;&#x5E76;&#x5728;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x5FAA;&#x73AF;&#x904D;&#x5386;&#x5E76;&#x6E32;&#x67D3;&#x5230;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x4E5F;&#x6709;&#x901A;&#x8FC7;&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x524D;&#x7AEF;&#x63D2;&#x4EF6;&#x6765;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x6211;&#x4EEC;&#x90FD;&#x4F1A;&#x4ECB;&#x7ECD;&#x5230;&#xFF0C;&#x672C;&#x8282;&#x5B9E;&#x8DF5;&#x7684;&#x5185;&#x5BB9;&#x5C06;&#x5176;&#x8BBE;&#x8BA1;&#x4E3A;&#x4E00;&#x4E2A;&#x901A;&#x7528;&#x7684;&#x5206;&#x9875;&#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x5C06;&#x5206;&#x9875;&#x6570;&#x636E;&#x653E;&#x5230; Result &#x5BF9;&#x8C61;&#x4E2D;&#x5E76;&#x901A;&#x8FC7; json &#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x5206;&#x9875;&#x529F;&#x80FD;&#x7B80;&#x4ECB; &#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x4F5C;&#x7528;&#x548C;&#x597D;&#x5904; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x8DF5; JqGrid &#x5206;&#x9875;&#x63D2;&#x4EF6;&#x4ECB;&#x7ECD; JqGrid &#x5206;&#x9875;&#x63D2;&#x4EF6;&#x6574;&#x5408; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-14.zip unzip lou-springboot-14.zip cd lou-springboot&#x4EC0;&#x4E48;&#x662F;&#x5206;&#x9875;&#x5728;&#x5404;&#x7C7B;&#x7535;&#x5546;&#x7F51;&#x7AD9;&#x3001;&#x65B0;&#x95FB;&#x7F51;&#x7AD9;&#x3001;&#x97F3;&#x4E50;&#x7F51;&#x7AD9;&#x3001;&#x5404;&#x7C7B;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7B49;&#x7B49;&#x7F51;&#x7AD9;&#x4E2D;&#x90FD;&#x4F1A;&#x5B58;&#x5728;&#xFF0C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x4E5F;&#x662F;&#x5341;&#x5206;&#x5E38;&#x89C1;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x6BD4;&#x8F83;&#x5E38;&#x89C1;&#x53CA;&#x5E38;&#x7528;&#x7684;&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x5C55;&#x73B0;&#x5F62;&#x5F0F;&#xFF1A; &#x5B9E;&#x9A8C;&#x697C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5728;&#x5B9E;&#x9A8C;&#x697C;&#x7684;&#x8BFE;&#x7A0B;&#x641C;&#x7D22;&#x6846;&#x4E2D;&#x8F93;&#x5165; &#x201C;java&#x201D; &#x67E5;&#x8BE2;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x9762;&#xFF0C;&#x9875;&#x9762;&#x4E2D;&#x5927;&#x81F4;&#x4F1A;&#x6709; 15 &#x6761;&#x5DE6;&#x53F3;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#xFF0C;&#x5F53;&#x524D;&#x5C55;&#x793A;&#x7684;&#x662F;&#x7B2C; 1 &#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x770B;&#x540E;&#x9762;&#x7684;&#x641C;&#x7D22;&#x5185;&#x5BB9;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#xFF0C;&#x6BD4;&#x5982;&#x70B9;&#x51FB;&#x7B2C; 2 &#x9875;&#x6216;&#x8005;&#x4E0B;&#x4E00;&#x9875;&#x7684;&#x6309;&#x94AE;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x66F4;&#x591A;&#x7684;&#x5B9E;&#x9A8C;&#x697C;&#x8BFE;&#x7A0B;&#x4FE1;&#x606F;&#x4E86;&#x3002; &#x535A;&#x5BA2;&#x540E;&#x53F0;&#x5206;&#x9875;&#x535A;&#x5BA2;&#x540E;&#x53F0;&#x7684;&#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x4E5F;&#x5E76;&#x6CA1;&#x6709;&#x628A;&#x6240;&#x6709;&#x7684;&#x6587;&#x7AE0;&#x4FE1;&#x606F;&#x90FD;&#x5C55;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x800C;&#x662F;&#x901A;&#x8FC7;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5206;&#x522B;&#x5C55;&#x793A;&#x51FA;&#x6765;&#xFF1A; &#x767E;&#x5EA6;&#x5206;&#x9875;&#x5728;&#x767E;&#x5EA6;&#x9996;&#x9875;&#x641C;&#x7D22;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x201D;java&#x201D;&#x67E5;&#x8BE2;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x9762;&#xFF0C;&#x9875;&#x9762;&#x4E2D;&#x5927;&#x81F4;&#x4F1A;&#x6709; 10 &#x6761;&#x5DE6;&#x53F3;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#xFF0C;&#x6B64;&#x65F6;&#x5C55;&#x793A;&#x7684;&#x662F;&#x7B2C; 1 &#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x770B;&#x540E;&#x9762;&#x7684;&#x641C;&#x7D22;&#x5185;&#x5BB9;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#xFF0C;&#x6BD4;&#x5982;&#x70B9;&#x51FB;&#x7B2C; 6 &#x9875;&#x6216;&#x8005;&#x4E0B;&#x4E00;&#x9875;&#x7684;&#x6309;&#x94AE;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x66F4;&#x591A;&#x7684;&#x4FE1;&#x606F;&#x4E86;&#x3002; &#x5206;&#x9875;&#x7684;&#x4F5C;&#x7528;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x5E38;&#x89C1;&#xFF0C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5728;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#x4E5F;&#x662F;&#x4E0D;&#x53EF;&#x7F3A;&#x5C11;&#x7684;&#xFF0C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x4F5C;&#x7528;&#x5982;&#x4E0B;&#xFF1A; &#x51CF;&#x5C11;&#x7CFB;&#x7EDF;&#x8D44;&#x6E90;&#x7684;&#x6D88;&#x8017;&#xFF0C;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x540E;&#x662F;&#x653E;&#x5728;&#x5185;&#x5B58;&#x91CC;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5927;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x4E00;&#x6B21;&#x6027;&#x5C06;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x90FD;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#xFF0C;&#x4F1A;&#x5360;&#x7528;&#x8FC7;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x901A;&#x8FC7;&#x5206;&#x9875;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x8FD9;&#x79CD;&#x6D88;&#x8017;&#xFF1B; &#x63D0;&#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x5E94;&#x7528;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x95F4;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x6570;&#x636E;&#xFF0C;&#x4E00;&#x6B21;&#x4F20;&#x8F93; 10 &#x6761;&#x6570;&#x636E;&#x7ED3;&#x679C;&#x96C6;&#x4E0E;&#x4E00;&#x6B21;&#x4F20;&#x8F93; 20000 &#x6761;&#x6570;&#x636E;&#x7ED3;&#x679C;&#x96C6;&#x80AF;&#x5B9A;&#x662F;&#x4F20;&#x8F93; 10 &#x6761;&#x6D88;&#x8017;&#x66F4;&#x5C11;&#x7684;&#x7F51;&#x7EDC;&#x8D44;&#x6E90;&#xFF1B; &#x63D0;&#x5347;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#xFF0C;&#x6D4F;&#x89C8;&#x5668;&#x4E0E;&#x5E94;&#x7528;&#x95F4;&#x7684;&#x4F20;&#x8F93;&#x4E5F;&#x662F;&#x901A;&#x8FC7;&#x7F51;&#x7EDC;&#xFF0C;&#x8FD4;&#x56DE; 10 &#x6761;&#x6570;&#x636E;&#x660E;&#x663E;&#x90A3;&#x6BD4;&#x8FD4;&#x56DE; 20000 &#x6761;&#x6570;&#x636E;&#x901F;&#x5EA6;&#x66F4;&#x5FEB;&#xFF0C;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x5305;&#x7684;&#x5927;&#x5C0F;&#x6709;&#x5DEE;&#x522B;&#xFF1B; &#x7B26;&#x5408;&#x7528;&#x6237;&#x4E60;&#x60EF;&#xFF0C;&#x6BD4;&#x5982;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x6216;&#x8005;&#x5546;&#x54C1;&#x5C55;&#x793A;&#xFF0C;&#x901A;&#x5E38;&#x7528;&#x6237;&#x53EF;&#x80FD;&#x53EA;&#x770B;&#x6700;&#x8FD1;&#x524D; 30 &#x6761;&#xFF0C;&#x5C06;&#x6240;&#x6709;&#x6570;&#x636E;&#x90FD;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x6BD4;&#x8F83;&#x6D6A;&#x8D39;&#xFF1B; &#x57FA;&#x4E8E;&#x5C55;&#x73B0;&#x5C42;&#x9762;&#x7684;&#x8003;&#x8651;&#xFF0C;&#x7531;&#x4E8E;&#x8BBE;&#x5907;&#x5C4F;&#x5E55;&#x7684;&#x5927;&#x5C0F;&#x6BD4;&#x8F83;&#x56FA;&#x5B9A;&#xFF0C;&#x4E00;&#x4E2A;&#x5C4F;&#x5E55;&#x80FD;&#x591F;&#x5C55;&#x793A;&#x7684;&#x4FE1;&#x606F;&#x5E76;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x591A;&#xFF0C;&#x5982;&#x679C;&#x4E00;&#x6B21;&#x5C55;&#x73B0;&#x592A;&#x591A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x6392;&#x7248;&#x8FD8;&#x662F;&#x9875;&#x9762;&#x7F8E;&#x89C2;&#x5EA6;&#x90FD;&#x6709;&#x5F71;&#x54CD;&#xFF0C;&#x4E00;&#x4E2A;&#x5C4F;&#x5E55;&#x7684;&#x8303;&#x56F4;&#x5C31;&#x662F;&#x90A3;&#x4E48;&#x5927;&#xFF0C;&#x5C55;&#x793A;&#x4FE1;&#x606F;&#x6761;&#x6570;&#x6709;&#x9650;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x4F7F;&#x7528;&#x53EF;&#x4EE5;&#x63D0;&#x5347;&#x7CFB;&#x7EDF;&#x6027;&#x80FD;&#xFF0C;&#x4E5F;&#x6BD4;&#x8F83;&#x7B26;&#x5408;&#x7528;&#x6237;&#x4E60;&#x60EF;&#xFF0C;&#x7B26;&#x5408;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5927;&#x90E8;&#x5206;&#x7CFB;&#x7EDF;&#x90FD;&#x4F1A;&#x6709;&#x5206;&#x9875;&#x529F;&#x80FD;&#x3002; &#x5206;&#x9875;&#x8BBE;&#x8BA1;&#x5206;&#x9875;&#x53C2;&#x6570;&#x8BBE;&#x8BA1; &#x5206;&#x9875;&#x4FE1;&#x606F;&#x533A;&#x7684;&#x8BBE;&#x8BA1;&#x548C;&#x5C55;&#x793A;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x524D;&#x7AEF;&#x5206;&#x9875;&#x533A;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x51E0;&#x4E2A;&#x4FE1;&#x606F;&#x662F;&#xFF1A; &#x9875;&#x7801;&#x5C55;&#x793A; &#x5F53;&#x524D;&#x9875;&#x7801; &#x6BCF;&#x9875;&#x6761;&#x6570; &#x5F53;&#x7136;&#xFF0C;&#x6709;&#x4E9B;&#x9875;&#x9762;&#x4E5F;&#x4F1A;&#x52A0;&#x4E0A;&#x9996;&#x9875;&#x3001;&#x5C3E;&#x9875;&#x3001;&#x8DF3;&#x8F6C;&#x9875;&#x7801;&#x7B49;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x4E9B;&#x4FE1;&#x606F;&#x90FD;&#x6839;&#x636E;&#x529F;&#x80FD;&#x9700;&#x8981;&#x548C;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53BB;&#x505A;&#x589E;&#x52A0;&#x548C;&#x5220;&#x51CF;&#x3002; &#x540E;&#x7AEF;&#x529F;&#x80FD;&#x8BBE;&#x8BA1;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x7684;&#x5DE5;&#x4F5C;&#x662F;&#x6E32;&#x67D3;&#x6570;&#x636E;&#x548C;&#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#xFF0C;&#x800C;&#x540E;&#x7AEF;&#x5219;&#x9700;&#x8981;&#x6309;&#x7167;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x8BF7;&#x6C42;&#x5C06;&#x5206;&#x9875;&#x6240;&#x9700;&#x7684;&#x6570;&#x636E;&#x6B63;&#x786E;&#x7684;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#xFF0C;&#x4E24;&#x7AEF;&#x7684;&#x4FA7;&#x91CD;&#x70B9;&#x5E76;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x6BD4;&#x5982;&#x524D;&#x7AEF;&#x9700;&#x8981;&#x5C55;&#x793A;&#x6240;&#x6709;&#x9875;&#x7801;&#xFF0C;&#x800C;&#x540E;&#x7AEF;&#x5219;&#x53EA;&#x9700;&#x8981;&#x63D0;&#x4F9B;&#x603B;&#x9875;&#x6570;&#x5373;&#x53EF;&#xFF0C;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x5BF9;&#x8FD9;&#x4E2A;&#x603B;&#x9875;&#x7801;&#x8FDB;&#x884C;&#x5176;&#x4ED6;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982;&#x524D;&#x7AEF;&#x9700;&#x8981;&#x6839;&#x636E;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x8BB0;&#x5F55;&#x5F53;&#x524D;&#x9875;&#x7801;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x4EE5;&#x4FBF;&#x5BF9;&#x9875;&#x7801;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x8C03;&#x6574;&#x548C;&#x9650;&#x5236;&#xFF0C;&#x800C;&#x540E;&#x7AEF;&#x5219;&#x5E76;&#x4E0D;&#x662F;&#x8FD9;&#x4E48;&#x6CE8;&#x91CD;&#x5F53;&#x524D;&#x9875;&#x7801;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x9875;&#x7801;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x5224;&#x65AD;&#x548C;&#x67E5;&#x8BE2;&#x64CD;&#x4F5C;&#x5373;&#x53EF;&#x3002; &#x5BF9;&#x4E8E;&#x540E;&#x7AEF;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#x662F;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#xFF1A; &#x9875;&#x7801;(&#x9700;&#x8981;&#x7B2C;&#x51E0;&#x9875;&#x7684;&#x6570;&#x636E;) &#x6BCF;&#x9875;&#x6761;&#x6570;(&#x6BCF;&#x6B21;&#x67E5;&#x8BE2;&#x591A;&#x5C11;&#x6761;&#x6570;&#x636E;,&#x4E00;&#x822C;&#x9ED8;&#x8BA4; 10 &#x6761;&#x6216;&#x8005; 20 &#x6761;) &#x56E0;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF0C;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x5E93;&#x53EF;&#x80FD;&#x5173;&#x952E;&#x5B57;&#x6709;&#x4E9B;&#x5DEE;&#x522B;&#xFF0C;&#x6BD4;&#x5982; SQL Server &#x662F;&#x901A;&#x8FC7; top &#x5173;&#x952E;&#x5B57;&#x3001;Oracle &#x901A;&#x8FC7; rownum &#x5173;&#x952E;&#x5B57;&#xFF0C;MySQL &#x5B9E;&#x73B0;&#x5206;&#x9875;&#x529F;&#x80FD;&#x57FA;&#x672C;&#x90FD;&#x662F;&#x4F7F;&#x7528; limit &#x5173;&#x952E;&#x5B57;&#x3002; //&#x4E0B;&#x9762;&#x662F;mysql&#x7684;&#x5B9E;&#x73B0;&#x8BED;&#x53E5;&#xFF1A; select * from tb_xxxx limit 10,20&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x6700;&#x7EC8;&#x5B9E;&#x73B0;&#x65E2;&#x662F;&#x5982;&#x6B64;&#xFF0C;&#x901A;&#x8FC7;&#x9875;&#x7801;&#x548C;&#x6761;&#x6570;&#x786E;&#x5B9A;&#x6570;&#x636E;&#x5E93;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x662F;&#x4ECE;&#x7B2C;&#x51E0;&#x6761;&#x5230;&#x7B2C;&#x51E0;&#x6761;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6BD4;&#x5982;&#x67E5;&#x8BE2;&#x7B2C; 1 &#x9875;&#x6BCF;&#x9875; 20 &#x6761;&#x6570;&#x636E;&#x5C31;&#x662F;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x4ECE; 0 &#x5230; 20 &#x6761;&#x6570;&#x636E;&#xFF0C;&#x67E5;&#x8BE2;&#x7B2C; 4 &#x9875;&#x6BCF;&#x9875; 10 &#x6761;&#x6570;&#x636E;&#x5C31;&#x662F;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7B2C; 30 &#x5230; 40 &#x6761;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x4E8E;&#x540E;&#x7AEF;&#x6765;&#x8BF4;&#x9875;&#x7801;&#x548C;&#x6761;&#x6570;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x5C31;&#x663E;&#x5F97;&#x7279;&#x522B;&#x91CD;&#x8981;&#xFF0C;&#x7F3A;&#x5C11;&#x8FD9;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x6839;&#x672C;&#x65E0;&#x6CD5;&#x7EE7;&#x7EED;&#x4E4B;&#x540E;&#x7684;&#x67E5;&#x8BE2;&#x903B;&#x8F91;&#xFF0C;&#x5206;&#x9875;&#x6570;&#x636E;&#x4E5F;&#x5C31;&#x65E0;&#x4ECE;&#x67E5;&#x8D77;&#x3002; &#x867D;&#x7136;&#x5982;&#x6B64;&#xFF0C;&#x4E3A;&#x4E86;&#x524D;&#x7AEF;&#x5206;&#x9875;&#x533A;&#x5C55;&#x793A;&#x8FD8;&#x8981;&#x5C06;&#x6570;&#x636E;&#x603B;&#x91CF;&#x6216;&#x8005;&#x603B;&#x9875;&#x6570;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#xFF0C;&#x6570;&#x636E;&#x603B;&#x91CF;&#x662F;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x603B;&#x9875;&#x6570;&#x53EF;&#x4EE5;&#x8BA1;&#x7B97;&#x51FA;&#x6765;&#xFF0C;&#x5373;&#x6570;&#x636E;&#x603B;&#x91CF;&#x9664;&#x4EE5;&#x6BCF;&#x9875;&#x6761;&#x6570;&#xFF0C;&#x6570;&#x636E;&#x603B;&#x91CF;&#x7684;&#x83B7;&#x53D6;&#x65B9;&#x5F0F;&#xFF1A; select count(*) from tb_xxxx&#x4E4B;&#x540E;&#x5C06;&#x6570;&#x636E;&#x5C01;&#x88C5;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x5373;&#x53EF;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x8DF5;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x7ED3;&#x5408; tb_admin_user &#x8868;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x67E5;&#x8BE2;&#x5E76;&#x5206;&#x9875;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5728;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x6570;&#x65F6;&#x8FD4;&#x56DE;&#x90A3;&#x4E00;&#x9875;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x9879;&#x76EE;&#x7EDF;&#x4E00;&#x521B;&#x5EFA;&#x5728;/home/project/lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#x3002; &#x65B0;&#x589E;&#x6570;&#x636E;&#x4E3A;&#x4E86;&#x6F14;&#x793A;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8868;&#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x7136;&#x6F14;&#x793A;&#x6548;&#x679C;&#x4E0D;&#x592A;&#x597D;&#xFF0C;&#x6267;&#x884C;&#x5982;&#x4E0B; SQL&#xFF1A; USE `lou_springboot`; DROP TABLE IF EXISTS `tb_admin_user`; CREATE TABLE `tb_admin_user` ( `id` int(11) NOT NULL AUTO_INCREMENT, `user_name` varchar(50) NOT NULL, `password_md5` varchar(50) NOT NULL, `user_token` varchar(50) NOT NULL, `is_deleted` tinyint(4) DEFAULT &apos;0&apos;, `create_time` date NOT NULL, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; DELETE FROM tb_admin_user; INSERT INTO `tb_admin_user`(`id`,`user_name`,`password_md5`,`user_token`,`is_deleted`,`create_time`) VALUES (1,&apos;admin&apos;,&apos;e10adc3949ba59abbe56e057f20f883e&apos;,&apos;d87edfdd63674b9591602b26bfb7f93f&apos;,0,&apos;2018-07-04 11:21:14&apos;),(2,&apos;test2&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:28&apos;),(3,&apos;test3&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:32&apos;),(4,&apos;test4&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:32&apos;),(5,&apos;test5&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:33&apos;),(6,&apos;test6&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:34&apos;),(7,&apos;test7&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:35&apos;),(8,&apos;test8&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:35&apos;),(9,&apos;test9&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:36&apos;),(10,&apos;test10&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:37&apos;),(11,&apos;test11&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:38&apos;),(12,&apos;test12&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:38&apos;),(13,&apos;test13&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:39&apos;),(14,&apos;test14&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:40&apos;),(15,&apos;test15&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:40&apos;),(16,&apos;test16&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:41&apos;),(17,&apos;test17&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:41&apos;),(18,&apos;test18&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:42&apos;),(19,&apos;test19&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:46&apos;),(20,&apos;admin2&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:28&apos;),(21,&apos;admin3&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:32&apos;),(22,&apos;admin4&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:32&apos;),(23,&apos;admin5&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:33&apos;),(24,&apos;admin6&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:34&apos;),(25,&apos;admin7&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:35&apos;),(26,&apos;admin8&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:35&apos;),(27,&apos;admin9&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:36&apos;),(28,&apos;admin10&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:37&apos;),(29,&apos;admin11&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:38&apos;),(30,&apos;admin12&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:38&apos;),(31,&apos;admin13&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:39&apos;),(32,&apos;admin14&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:40&apos;),(33,&apos;admin15&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:40&apos;),(34,&apos;admin16&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:41&apos;),(35,&apos;admin17&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:41&apos;),(36,&apos;admin18&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:42&apos;),(37,&apos;admin19&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:46&apos;),(38,&apos;admin011&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:38&apos;),(39,&apos;admin02&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:28&apos;),(40,&apos;admin03&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:32&apos;),(41,&apos;admin04&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:32&apos;),(42,&apos;admin05&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:33&apos;),(43,&apos;admin06&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:34&apos;),(44,&apos;admin07&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:35&apos;),(45,&apos;admin08&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:35&apos;),(46,&apos;admin09&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:36&apos;),(47,&apos;admin010&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:37&apos;),(48,&apos;admin011&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:38&apos;),(49,&apos;admin012&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:38&apos;),(50,&apos;admin013&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:39&apos;),(51,&apos;admin014&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:40&apos;),(52,&apos;admin015&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:40&apos;),(53,&apos;admin016&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:41&apos;),(54,&apos;admin017&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:41&apos;),(55,&apos;admin018&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:42&apos;),(56,&apos;admin019&apos;,&apos;098f6bcd4621d373cade4e832627b4f6&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-09 17:22:46&apos;),(57,&apos;ZHENFENG13&apos;,&apos;77c9749b451ab8c713c48037ddfbb2c4&apos;,&apos;592e62069daf32211a71aa892ec1b8f5&apos;,0,&apos;2018-07-12 16:08:49&apos;),(58,&apos;213312&apos;,&apos;eqwfasdfa&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-12 16:10:14&apos;),(59,&apos;14415143&apos;,&apos;51435135&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-07-12 19:43:06&apos;),(60,&apos;shisan&apos;,&apos;e10adc3949ba59abbe56e057f20f883e&apos;,&apos;d9ab78a7c39f383e47b7c4ffbb407c87&apos;,0,&apos;2018-07-12 19:45:32&apos;),(61,&apos;zhangsan&apos;,&apos;fcea920f7412b5da7be0cf42b8c93759&apos;,&apos;&apos;,0,&apos;2018-07-12 20:20:22&apos;),(150,&apos;test-user1&apos;,&apos;3d0faa930d336ba748607ab7076ebce2&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-08-04 17:37:32&apos;),(151,&apos;3123213213&apos;,&apos;6fdce2f14f4baf2d666fa13dfd8d1945&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2018-08-15 20:43:42&apos;),(152,&apos;lou2&apos;,&apos;25f9e794323b453885f5181f1b624d0b&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2019-01-05 19:55:30&apos;),(153,&apos;lou3&apos;,&apos;e10adc3949ba59abbe56e057f20f883e&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2019-01-06 00:28:06&apos;),(154,&apos;lou1&apos;,&apos;e10adc3949ba59abbe56e057f20f883e&apos;,&apos;\&apos;\&apos;&apos;,0,&apos;2019-01-10 11:05:52&apos;);&#x540E;&#x7AEF;&#x5206;&#x9875;&#x529F;&#x80FD;&#x4EE3;&#x7801; AdminUserDao.xml&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E;resources/mapper/AdminUserDao.xml&#xFF09; &lt;!-- &#x67E5;&#x8BE2;&#x7528;&#x6237;&#x5217;&#x8868; --&gt; &lt;select id=&quot;findAdminUsers&quot; parameterType=&quot;Map&quot; resultMap=&quot;AdminUserResult&quot;&gt; select id,user_name,create_time from tb_admin_user where is_deleted=0 order by id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;!-- &#x67E5;&#x8BE2;&#x7528;&#x6237;&#x603B;&#x6570; --&gt; &lt;select id=&quot;getTotalAdminUser&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_admin_user where is_deleted=0 &lt;/select&gt; &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E;com.lou.springboot.service.impl.AdminUserServiceImpl&#xFF09; public PageResult getAdminUserPage(PageUtil pageUtil) { //&#x5F53;&#x524D;&#x9875;&#x7684;&#x7528;&#x6237;&#x5217;&#x8868; List&lt;AdminUser&gt; users = adminUserDao.findAdminUsers(pageUtil); //&#x7528;&#x6237;&#x603B;&#x6570; int total = adminUserDao.getTotalAdminUser(pageUtil); //&#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C01;&#x88C5; PageResult pageResult = new PageResult(users, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E;com.lou.springboot.controller.AdminUserControler&#xFF09; @RequestMapping(value = &quot;/list&quot;, method = RequestMethod.GET) public Result list(@RequestParam Map&lt;String, Object&gt; params) { //&#x68C0;&#x67E5;&#x53C2;&#x6570; if (StringUtils.isEmpty(params.get(&quot;page&quot;)) || StringUtils.isEmpty(params.get(&quot;limit&quot;))) { return ResultGenerator.genErrorResult(Constants.RESULT_CODE_PARAM_ERROR, &quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } //&#x67E5;&#x8BE2;&#x5217;&#x8868;&#x6570;&#x636E; PageUtil pageUtil = new PageUtil(params); return ResultGenerator.genSuccessResult(adminUserService.getAdminUserPage(pageUtil)); }&#x901A;&#x8FC7;&#x540E;&#x7AEF;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x4EA4;&#x4E92;&#x6D41;&#x7A0B;&#x662F;&#x524D;&#x7AEF;&#x5C06;&#x6240;&#x9700;&#x9875;&#x7801;&#x548C;&#x6761;&#x6570;&#x53C2;&#x6570;&#x4F20;&#x8F93;&#x7ED9;&#x540E;&#x7AEF;&#xFF0C;&#x800C;&#x540E;&#x7AEF;&#x5728;&#x63A5;&#x53D7;&#x5230;&#x5206;&#x9875;&#x8BF7;&#x6C42;&#x540E;&#x4F1A;&#x5BF9;&#x5206;&#x9875;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;&#xFF0C;&#x5E76;&#x5229;&#x7528; MySQL &#x7684; limit &#x5173;&#x952E;&#x5B57;&#x53BB;&#x67E5;&#x8BE2;&#x5BF9;&#x5E94;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x7406;&#x89E3;&#x548C;&#x5B66;&#x4E60;&#xFF0C;&#x7531;&#x4E8E;&#x7BC7;&#x5E45;&#x6240;&#x9650;&#xFF0C;&#x8FD9;&#x91CC;&#x4EC5;&#x8D34;&#x51FA;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#xFF0C;&#x8BE6;&#x7EC6;&#x7248;&#x672C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x6574;&#x4E2A;&#x5DE5;&#x7A0B;&#x4EE3;&#x7801;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/users/list?page=1&amp;limit=10 &#x4E4B;&#x540E;&#x901A;&#x8FC7;&#x6539;&#x53D8; page &#x53C2;&#x6570;&#x548C; limit &#x53C2;&#x6570;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x9996;&#x5148;&#x6211;&#x4EEC;&#x4EE5;&#x6BCF;&#x9875;&#x5341;&#x6761;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x7B2C;&#x4E00;&#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5206;&#x9875;&#x6570;&#x636E;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#xFF0C;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;&#x770B;&#x4E00;&#x4E0B;&#x683C;&#x5F0F;&#x5316;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E;&#x7ED3;&#x679C;&#xFF0C;currPage &#x8868;&#x793A;&#x5F53;&#x524D;&#x9875;&#xFF0C;&#x6570;&#x503C;&#x4E3A; 1&#xFF0C;data &#x4E2D;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#xFF0C;&#x540E;&#x7AEF;&#x5C01;&#x88C5;&#x7684;&#x7B2C;&#x4E00;&#x9875;&#x7684; 10 &#x6761;&#x6570;&#x636E;&#x90FD;&#x5728;&#x8FD9;&#x91CC;&#x3002; &#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x53C8;&#x67E5;&#x8BE2;&#x4E86;&#x7B2C;&#x4E8C;&#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6700;&#x540E;&#x53C8;&#x8BBE;&#x7F6E;&#x4E86;&#x6BCF;&#x9875; 30 &#x6761;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x529F;&#x80FD;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x3002; &#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x8BE5;&#x8FC7;&#x7A0B;&#x8FDB;&#x884C;&#x4EE3;&#x7801;&#x7684;&#x5B66;&#x4E60;&#x548C;&#x7406;&#x89E3;&#xFF0C;&#x5E76;&#x81EA;&#x884C;&#x5BF9;&#x6BD4;&#x4E0D;&#x540C;&#x53C2;&#x6570;&#x65F6;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x4E0D;&#x540C;&#x3002; JqGrid &#x5206;&#x9875;&#x63D2;&#x4EF6;&#x4ECB;&#x7ECD;JqGrid &#x662F;&#x4E00;&#x4E2A;&#x7528;&#x6765;&#x663E;&#x793A;&#x7F51;&#x683C;&#x6570;&#x636E;&#x7684; jQuery &#x63D2;&#x4EF6;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528; jqGrid &#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5B9E;&#x73B0;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4E0E;&#x540E;&#x53F0;&#x6570;&#x636E;&#x7684; Ajax &#x5F02;&#x6B65;&#x901A;&#x4FE1;&#x5E76;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;&#x7279;&#x70B9;&#x5982;&#x4E0B;&#xFF1A; &#x517C;&#x5BB9;&#x76EE;&#x524D;&#x6240;&#x6709;&#x6D41;&#x884C;&#x7684; web &#x6D4F;&#x89C8;&#x5668;&#xFF1B; &#x5B8C;&#x5584;&#x5F3A;&#x5927;&#x7684;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF1B; &#x652F;&#x6301;&#x591A;&#x79CD;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x89E3;&#x6790;&#xFF0C;XML&#x3001;JSON&#x3001;&#x6570;&#x7EC4;&#x7B49;&#x5F62;&#x5F0F;&#xFF1B; &#x63D0;&#x4F9B;&#x4E30;&#x5BCC;&#x7684;&#x9009;&#x9879;&#x914D;&#x7F6E;&#x53CA;&#x65B9;&#x6CD5;&#x4E8B;&#x4EF6;&#x63A5;&#x53E3;&#xFF1B; &#x652F;&#x6301;&#x8868;&#x683C;&#x6392;&#x5E8F;&#xFF0C;&#x652F;&#x6301;&#x62D6;&#x52A8;&#x5217;&#x3001;&#x9690;&#x85CF;&#x5217;&#xFF1B; &#x652F;&#x6301;&#x6EDA;&#x52A8;&#x52A0;&#x8F7D;&#x6570;&#x636E;&#xFF1B; &#x5F00;&#x6E90;&#x514D;&#x8D39; JqGrid in GitHub &#x4E0B;&#x8F7D;&#x5730;&#x5740; &#x672C;&#x6559;&#x7A0B;&#x9009;&#x62E9;&#x7684;&#x7248;&#x672C;&#x4E3A; 5.3.0&#xFF0C;&#x5C06;&#x4EE3;&#x7801;&#x538B;&#x7F29;&#x5305;&#x89E3;&#x538B;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230; JqGrid &#x6B63;&#x5F0F;&#x5305;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x4F7F;&#x7528; JqGrid &#x65F6;&#x5FC5;&#x8981;&#x7684;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; ## js&#x6587;&#x4EF6; jquery.jqGrid.js grid.locale-cn.js jquery.jqGrid.js ## &#x6837;&#x5F0F;&#x6587;&#x4EF6; ui.jqgrid-bootstrap-ui.css ui.jqgrid-bootstrap.css ui.jqgrid.css&#x4E3B;&#x8981;&#x662F; js &#x6587;&#x4EF6;&#x548C; css &#x6837;&#x5F0F;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x4F7F;&#x7528; JqGrid &#x5176;&#x4ED6;&#x7279;&#x6027;&#x7684;&#x8BDD;&#x5BF9;&#x5E94;&#x7684;&#x5F15;&#x5165;&#x5176; js &#x6587;&#x4EF6;&#x5373;&#x53EF;&#x3002; &#x672C;&#x8BFE;&#x7A0B;&#x7684;&#x5B9E;&#x6218; &#x6240;&#x6709;&#x6A21;&#x5757;&#x7684;&#x5206;&#x9875;&#x63D2;&#x4EF6;&#x90FD;&#x662F;&#x4F7F;&#x7528; JqGrid &#x63D2;&#x4EF6;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5B83;&#x7684;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5341;&#x5206;&#x5F3A;&#x5927;&#xFF0C;&#x800C;&#x4E14;&#x4F7F;&#x7528;&#x548C;&#x5B66;&#x4E60;&#x8D77;&#x6765;&#x90FD;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;JqGrid &#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x4F18;&#x79C0;&#x7684;&#x7279;&#x6027;&#xFF0C;&#x672C;&#x7CFB;&#x7EDF;&#x53EA;&#x4F7F;&#x7528;&#x4E86;&#x5176;&#x90E8;&#x5206;&#x7279;&#x6027;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x5B66;&#x4E60;&#x5176;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x3002; JqGrid &#x5206;&#x9875;&#x63D2;&#x4EF6;&#x6574;&#x5408;&#x6CE8;&#x610F;&#xFF1A;&#x9879;&#x76EE;&#x7EDF;&#x4E00;&#x521B;&#x5EFA;&#x5728; /home/project/lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#x3002; &#x8D44;&#x6E90;&#x5BFC;&#x5165;&#x6574;&#x5408;&#x8FC7;&#x7A0B;&#x5176;&#x5B9E;&#x662F;&#x6211;&#x4EEC;&#x628A; JqGrid &#x4EE3;&#x7801;&#x538B;&#x7F29;&#x5305;&#x4E2D;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x3001;js &#x6587;&#x4EF6;&#x3001;&#x56FE;&#x7247;&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x653E;&#x5165;&#x6211;&#x4EEC;&#x9879;&#x76EE;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6BD4;&#x5982; static &#x76EE;&#x5F55;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x76EE;&#x5F55;&#xFF0C;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x6587;&#x4EF6;&#x6211;&#x4EEC;&#x90FD;&#x5728;&#x4E0B;&#x56FE;&#x4E2D;&#x7528;&#x7EA2;&#x7EBF;&#x8FDB;&#x884C;&#x6807;&#x6CE8;&#x4E86;&#xFF0C;&#x76EE;&#x5F55;&#x5982;&#x4E0B;&#xFF1A; &#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x5404;&#x4E2A;&#x9700;&#x8981;&#x5206;&#x9875;&#x7684;&#x9875;&#x9762;&#x4E2D;&#x5F15;&#x7528;&#x8BE5;&#x63D2;&#x4EF6;&#x8D44;&#x6E90;&#x5E76;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x529F;&#x80FD;&#x4E86;&#x3002; &#x6574;&#x5408;&#x8FC7;&#x7A0B; &#x9996;&#x5148;&#x5728; html &#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5165; JqGrid &#x6240;&#x9700;&#x6587;&#x4EF6;&#xFF1A; &lt;link href=&quot;plugins/jqgrid-5.3.0/ui.jqgrid-bootstrap4.css&quot; rel=&quot;stylesheet&quot;/&gt; &lt;!-- JqGrid&#x4F9D;&#x8D56;jquery&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5148;&#x5F15;&#x5165;jquery.min.js&#x6587;&#x4EF6; --&gt; &lt;script src=&quot;plugins/jquery/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;plugins/jqgrid-5.3.0/grid.locale-cn.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;plugins/jqgrid-5.3.0/jquery.jqGrid.min.js&quot;&gt;&lt;/script&gt; &#x5728;&#x9875;&#x9762;&#x4E2D;&#x9700;&#x8981;&#x5C55;&#x793A;&#x5206;&#x9875;&#x6570;&#x636E;&#x7684;&#x533A;&#x57DF;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF0C;&#x7528;&#x4E8E; JqGrid &#x521D;&#x59CB;&#x5316;&#xFF1A; &lt;!-- JqGrid&#x5FC5;&#x8981;DOM,&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x8868;&#x683C;&#x5C55;&#x793A;&#x5217;&#x8868;&#x6570;&#x636E; --&gt; &lt;table id=&quot;jqGrid&quot; class=&quot;table table-bordered&quot;&gt;&lt;/table&gt; &lt;!-- JqGrid&#x5FC5;&#x8981;DOM,&#x5206;&#x9875;&#x4FE1;&#x606F;&#x533A;&#x57DF; --&gt; &lt;div id=&quot;jqGridPager&quot;&gt;&lt;/div&gt; &#x8C03;&#x7528; JqGrid &#x5206;&#x9875;&#x63D2;&#x4EF6;&#x7684; jqGrid() &#x65B9;&#x6CD5;&#x6E32;&#x67D3;&#x5206;&#x9875;&#x5C55;&#x793A;&#x533A;&#x57DF;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; $(&quot;#jqGrid&quot;).jqGrid({ url: &apos;users/list&apos;,// &#x8BF7;&#x6C42;&#x540E;&#x53F0;json&#x6570;&#x636E;&#x7684;url datatype: &quot;json&quot;,// &#x540E;&#x53F0;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F; colModel: [// &#x5217;&#x8868;&#x4FE1;&#x606F;&#xFF1A;&#x8868;&#x5934; &#x5BBD;&#x5EA6; &#x662F;&#x5426;&#x663E;&#x793A; &#x6E32;&#x67D3;&#x53C2;&#x6570; &#x7B49;&#x5C5E;&#x6027; {label: &apos;id&apos;, name: &apos;id&apos;, index: &apos;id&apos;, width: 50, hidden: true, key: true}, {label: &apos;&#x767B;&#x5F55;&#x540D;&apos;, name: &apos;userName&apos;, index: &apos;userName&apos;, sortable: false, width: 80}, {label: &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, name: &apos;createTime&apos;, index: &apos;createTime&apos;, sortable: false, width: 80} ], height: 485,// &#x8868;&#x683C;&#x9AD8;&#x5EA6; &#x53EF;&#x81EA;&#x884C;&#x8C03;&#x8282; rowNum: 10,// &#x9ED8;&#x8BA4;&#x4E00;&#x9875;&#x663E;&#x793A;&#x591A;&#x5C11;&#x6761;&#x6570;&#x636E; &#x53EF;&#x81EA;&#x884C;&#x8C03;&#x8282; rowList: [10, 30, 50],// &#x7FFB;&#x9875;&#x63A7;&#x5236;&#x6761;&#x4E2D; &#x6BCF;&#x9875;&#x663E;&#x793A;&#x8BB0;&#x5F55;&#x6570;&#x53EF;&#x9009;&#x96C6;&#x5408; styleUI: &apos;Bootstrap&apos;,// &#x4E3B;&#x9898; &#x8FD9;&#x91CC;&#x9009;&#x7528;&#x7684;&#x662F;Bootstrap&#x4E3B;&#x9898; loadtext: &apos;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x4E2D;...&apos;,// &#x6570;&#x636E;&#x52A0;&#x8F7D;&#x65F6;&#x663E;&#x793A;&#x7684;&#x63D0;&#x793A;&#x4FE1;&#x606F; rownumbers: true,// &#x662F;&#x5426;&#x663E;&#x793A;&#x884C;&#x53F7;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x662F;false&#xFF0C;&#x4E0D;&#x663E;&#x793A; rownumWidth: 35,// &#x884C;&#x53F7;&#x5217;&#x7684;&#x5BBD;&#x5EA6; autowidth: true,// &#x5BBD;&#x5EA6;&#x81EA;&#x9002;&#x5E94; multiselect: true,// &#x662F;&#x5426;&#x53EF;&#x4EE5;&#x591A;&#x9009; pager: &quot;#jqGridPager&quot;,// &#x5206;&#x9875;&#x4FE1;&#x606F;DOM jsonReader: { root: &quot;data.list&quot;, //&#x6570;&#x636E;&#x5217;&#x8868;&#x6A21;&#x578B; page: &quot;data.currPage&quot;, //&#x6570;&#x636E;&#x9875;&#x7801; total: &quot;data.totalPage&quot;, //&#x6570;&#x636E;&#x603B;&#x9875;&#x7801; records: &quot;data.totalCount&quot; //&#x6570;&#x636E;&#x603B;&#x8BB0;&#x5F55;&#x6570; }, // &#x5411;&#x540E;&#x53F0;&#x8BF7;&#x6C42;&#x7684;&#x53C2;&#x6570; prmNames: { page: &quot;page&quot;, rows: &quot;limit&quot;, order: &quot;order&quot; }, // &#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x5E76;&#x4E14;DOM&#x521B;&#x5EFA;&#x5B8C;&#x6BD5;&#x4E4B;&#x540E;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570; gridComplete: function () { //&#x9690;&#x85CF;grid&#x5E95;&#x90E8;&#x6EDA;&#x52A8;&#x6761; $(&quot;#jqGrid&quot;).closest(&quot;.ui-jqgrid-bdiv&quot;).css({&quot;overflow-x&quot;: &quot;hidden&quot;}); } });&#x5206;&#x9875;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x8BE6;&#x89E3;&#x5728; JqGrid &#x6574;&#x5408;&#x4E2D;&#x6709;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; jsonReader: { root: &quot;data.list&quot;, //&#x6570;&#x636E;&#x5217;&#x8868;&#x6A21;&#x578B; page: &quot;data.currPage&quot;, //&#x5F53;&#x524D;&#x9875;&#x7801; total: &quot;data.totalPage&quot;, //&#x6570;&#x636E;&#x603B;&#x9875;&#x7801; records: &quot;data.totalCount&quot; //&#x6570;&#x636E;&#x603B;&#x8BB0;&#x5F55;&#x6570; }&#x8FD9;&#x91CC;&#x5B9A;&#x4E49;&#x7684;&#x662F; jsonReader &#x5BF9;&#x8C61;&#x5982;&#x4F55;&#x5BF9;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684; json &#x6570;&#x636E;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x5217;&#x8868;&#x4E3A;&#x4F55;&#x8BFB;&#x53D6; &#x201C;data.list&#x201D;&#xFF0C;&#x5F53;&#x524D;&#x9875;&#x7801;&#x4E3A;&#x4F55;&#x8BFB;&#x53D6; &#x201C;data.currPage&#x201D;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x7531;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x6240;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x540E;&#x7AEF;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x5728;com.lou.springboot.common.Result &#x7C7B;&#x4E2D;&#xFF1A; public class Result&lt;T&gt; implements Serializable { //&#x54CD;&#x5E94;&#x7801; 200&#x4E3A;&#x6210;&#x529F; private int resultCode; //&#x54CD;&#x5E94;msg private String message; //&#x8FD4;&#x56DE;&#x6570;&#x636E; private T data; }&#x5373;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4F1A;&#x88AB;&#x8BBE;&#x7F6E;&#x5230; data &#x5C5E;&#x6027;&#x4E2D;&#xFF0C;&#x5206;&#x9875;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E;com.lou.springboot.util.PageResult&#xFF09;&#xFF1A; public class PageResult implements Serializable { //&#x603B;&#x8BB0;&#x5F55;&#x6570; private int totalCount; //&#x6BCF;&#x9875;&#x8BB0;&#x5F55;&#x6570; private int pageSize; //&#x603B;&#x9875;&#x6570; private int totalPage; //&#x5F53;&#x524D;&#x9875;&#x6570; private int currPage; //&#x5F53;&#x524D;&#x9875;&#x7684;&#x5217;&#x8868;&#x6570;&#x636E; private List&lt;?&gt; list; }&#x7531;&#x4E8E; JqGrid &#x5206;&#x9875;&#x63D2;&#x4EF6;&#x5728;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x529F;&#x80FD;&#x65F6;&#x5FC5;&#x987B;&#x4EE5;&#x4E0B;&#x56DB;&#x4E2A;&#x53C2;&#x6570;&#xFF1A;&#x5F53;&#x524D;&#x9875;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x5217;&#x8868;&#x3001;&#x5F53;&#x524D;&#x9875;&#x7684;&#x9875;&#x7801;&#x3001;&#x603B;&#x9875;&#x7801;&#x3001;&#x603B;&#x8BB0;&#x5F55;&#x6570;&#x91CF;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5C01;&#x88C5;&#x4E86; PageResult &#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x653E;&#x5165; Result &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684; data &#x5C5E;&#x6027;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x5728; JqGrid &#x8BFB;&#x53D6;&#x65F6;&#x76F4;&#x63A5;&#x8BFB;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x53C2;&#x6570;&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x5C31;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x65F6;&#x7684;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x7ED3;&#x5408;&#x4EE3;&#x7801;&#x4EE5;&#x53CA;&#x5B9E;&#x9645;&#x7684;&#x5206;&#x9875;&#x6548;&#x679C;&#x8FDB;&#x884C;&#x7406;&#x89E3;&#x548C;&#x5B66;&#x4E60;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x8DF5;&#x7531;&#x4E8E;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x5728;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x4E2D;&#x53EA;&#x9700;&#x8981;&#x5C06;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x5373;&#x53EF;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5728; resources/static &#x4E0B;&#x65B0;&#x5EFA; user.html&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;title&gt;lou.springboot | &#x7528;&#x6237;&#x7BA1;&#x7406;&#x9875;&lt;/title&gt; &lt;link href=&quot;plugins/jqgrid-5.3.0/ui.jqgrid-bootstrap4.css&quot; rel=&quot;stylesheet&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;plugins/bootstrap/css/bootstrap.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;plugins/sweetalert/sweetalert.css&quot;&gt; &lt;link href=&quot;plugins/bootstrap/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;/&gt; &lt;link href=&quot;dist/css/main.css&quot; rel=&quot;stylesheet&quot;/&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;plugins/font-awesome/css/font-awesome.min.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;dist/css/adminlte.min.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;plugins/sweetalert/sweetalert.css&quot;&gt; &lt;/head&gt; &lt;body class=&quot;hold-transition sidebar-mini&quot; onLoad=&quot;checkCookie();&quot;&gt; &lt;div class=&quot;wrapper&quot;&gt; &lt;nav class=&quot;main-header navbar navbar-expand bg-white navbar-light border-bottom&quot;&gt; &lt;ul class=&quot;navbar-nav&quot;&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a class=&quot;nav-link&quot; data-widget=&quot;pushmenu&quot; href=&quot;#&quot;&gt;&lt;i class=&quot;fa fa-bars&quot;&gt;&lt;/i&gt;&lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item d-none d-sm-inline-block&quot;&gt; &lt;a href=&quot;index.html&quot; class=&quot;nav-link&quot;&gt;Home&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;ul class=&quot;navbar-nav ml-auto&quot;&gt; &lt;li class=&quot;nav-item dropdown&quot;&gt; &lt;a class=&quot;nav-link&quot; data-toggle=&quot;dropdown&quot; href=&quot;https://github.com/ZHENFENG13&quot;&gt; &lt;i class=&quot;fa fa-home&quot;&gt;&amp;nbsp;&amp;nbsp;&#x6587;&#x6863;&lt;/i&gt; &lt;/a&gt; &lt;div class=&quot;dropdown-menu dropdown-donate-lg dropdown-menu-right&quot;&gt; &lt;a href=&quot;##&quot; class=&quot;dropdown-item&quot;&gt;&#x5B9E;&#x9A8C;&#x697C;&#x8BAD;&#x7EC3;&#x8425;&lt;/a&gt; &lt;/div&gt; &lt;/li&gt; &lt;li class=&quot;nav-item dropdown&quot;&gt; &lt;a class=&quot;nav-link&quot; data-toggle=&quot;dropdown&quot; href=&quot;#&quot;&gt; &lt;i class=&quot;fa fa-user&quot;&gt;&amp;nbsp;&amp;nbsp;&#x4F5C;&#x8005;&lt;/i&gt; &lt;/a&gt; &lt;div class=&quot;dropdown-menu dropdown-menu-lg dropdown-menu-right&quot;&gt; &lt;div class=&quot;dropdown-divider&quot;&gt;&lt;/div&gt; &lt;a href=&quot;#&quot; class=&quot;dropdown-item&quot;&gt; &lt;i class=&quot;fa fa-user-o mr-2&quot;&gt;&lt;/i&gt; &#x59D3;&#x540D; &lt;span class=&quot;float-right text-muted text-sm&quot;&gt;&#x5341;&#x4E09; / 13&lt;/span&gt; &lt;/a&gt; &lt;div class=&quot;dropdown-divider&quot;&gt;&lt;/div&gt; &lt;a href=&quot;#&quot; class=&quot;dropdown-item&quot;&gt; &lt;i class=&quot;fa fa-user-secret mr-2&quot;&gt;&lt;/i&gt; &#x8EAB;&#x4EFD; &lt;span class=&quot;float-right text-muted text-sm&quot;&gt;Java&#x5F00;&#x53D1;&#x5DE5;&#x7A0B;&#x5E08;&lt;/span&gt; &lt;/a&gt; &lt;div class=&quot;dropdown-divider&quot;&gt;&lt;/div&gt; &lt;a href=&quot;#&quot; class=&quot;dropdown-item&quot;&gt; &lt;i class=&quot;fa fa-address-card mr-2&quot;&gt;&lt;/i&gt; &#x90AE;&#x7BB1; &lt;span class=&quot;float-right text-muted text-sm&quot;&gt;2449207463@qq.com&lt;/span&gt; &lt;/a&gt; &lt;/div&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/nav&gt; &lt;aside class=&quot;main-sidebar sidebar-dark-primary elevation-4&quot;&gt; &lt;a href=&quot;index.html&quot; class=&quot;brand-link&quot;&gt; &lt;img src=&quot;dist/img/logo.jpg&quot; alt=&quot;ssm-cluster Logo&quot; class=&quot;brand-image img-circle elevation-3&quot; style=&quot;opacity: .8&quot;&gt; &lt;span class=&quot;brand-text font-weight-light&quot;&gt;lou.springboot&lt;/span&gt; &lt;/a&gt; &lt;div class=&quot;sidebar&quot;&gt; &lt;!-- Sidebar user panel (optional) --&gt; &lt;div class=&quot;user-panel mt-3 pb-3 mb-3 d-flex&quot;&gt; &lt;div class=&quot;image&quot;&gt; &lt;img src=&quot;dist/img/logo3.jpg&quot; class=&quot;img-circle elevation-2&quot; alt=&quot;User Image&quot;&gt; &lt;/div&gt; &lt;div class=&quot;info&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;d-block&quot;&gt;&#x5341;&#x4E09;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;nav class=&quot;mt-2&quot;&gt; &lt;ul class=&quot;nav nav-pills nav-sidebar flex-column&quot; data-widget=&quot;treeview&quot; role=&quot;menu&quot; data-accordion=&quot;false&quot;&gt; &lt;!-- Add icons to the links using the .nav-icon class with font-awesome or any other icon font library --&gt; &lt;li class=&quot;nav-header&quot;&gt;Dashboard&lt;/li&gt; &lt;li class=&quot;nav-item has-treeview&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;nav-link&quot;&gt; &lt;i class=&quot;nav-icon fa fa-dashboard&quot;&gt;&lt;/i&gt; &lt;p&gt; Dashboard &lt;i class=&quot;right fa fa-angle-left&quot;&gt;&lt;/i&gt; &lt;/p&gt; &lt;/a&gt; &lt;ul class=&quot;nav nav-treeview&quot;&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a href=&quot;./index.html&quot; class=&quot;nav-link active&quot;&gt; &lt;i class=&quot;fa fa-circle-o nav-icon&quot;&gt;&lt;/i&gt; &lt;p&gt;lou.springboot&#x4E3B;&#x9875;&lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a href=&quot;./index2.html&quot; class=&quot;nav-link&quot;&gt; &lt;i class=&quot;fa fa-circle-o nav-icon&quot;&gt;&lt;/i&gt; &lt;p&gt;adminLTE v3&lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li class=&quot;nav-header&quot;&gt;&#x7BA1;&#x7406;&#x6A21;&#x5757;&lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a href=&quot;user.html&quot; class=&quot;nav-link active&quot;&gt; &lt;i class=&quot;fa fa-user-circle nav-icon&quot;&gt;&lt;/i&gt; &lt;p&gt;&#x7528;&#x6237;&#x7BA1;&#x7406;&lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/nav&gt; &lt;/div&gt; &lt;/aside&gt; &lt;div class=&quot;content-wrapper&quot;&gt; &lt;!-- Content Header (Page header) --&gt; &lt;div class=&quot;content-header&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;row mb-2&quot;&gt; &lt;div class=&quot;col-sm-6&quot;&gt; &lt;h1 class=&quot;m-0 text-dark&quot;&gt;&#x7528;&#x6237;&#x7BA1;&#x7406;&#x9875;&lt;/h1&gt; &lt;/div&gt;&lt;!-- /.col --&gt; &lt;div class=&quot;col-sm-6&quot;&gt; &lt;ol class=&quot;breadcrumb float-sm-right&quot;&gt; &lt;li class=&quot;breadcrumb-item&quot;&gt;&lt;a href=&quot;index.html&quot;&gt;&#x4E3B;&#x9875;&lt;/a&gt;&lt;/li&gt; &lt;li class=&quot;breadcrumb-item active&quot;&gt;&#x7528;&#x6237;&#x7BA1;&#x7406;&#x9875;&lt;/li&gt; &lt;/ol&gt; &lt;/div&gt;&lt;!-- /.col --&gt; &lt;/div&gt;&lt;!-- /.row --&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/div&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-12&quot;&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;!-- &#x5206;&#x9875;&#x5C55;&#x793A;&#x533A;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x52A0; jqgrid &#x76F8;&#x5173; DOM --&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- /.content-wrapper --&gt; &lt;footer class=&quot;main-footer&quot;&gt; &lt;strong&gt;Copyright &amp;copy; 2019 &lt;a href=&quot;##&quot;&gt;13blog.site&lt;/a&gt;.&lt;/strong&gt; All rights reserved. &lt;div class=&quot;float-right d-none d-sm-inline-block&quot;&gt; &lt;b&gt;Version&lt;/b&gt; 2.0 &lt;/div&gt; &lt;/footer&gt; &lt;aside class=&quot;control-sidebar control-sidebar-dark&quot;&gt; &lt;/aside&gt; &lt;/div&gt; &lt;script src=&quot;plugins/jquery/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;!-- jQuery UI 1.11.4 --&gt; &lt;script src=&quot;plugins/jQueryUI/jquery-ui.min.js&quot;&gt;&lt;/script&gt; &lt;!-- sweet alert --&gt; &lt;script src=&quot;plugins/sweetalert/sweetalert.min.js&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap 4 --&gt; &lt;script src=&quot;plugins/bootstrap/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;plugins/jqgrid-5.3.0/grid.locale-cn.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;plugins/jqgrid-5.3.0/jquery.jqGrid.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;dist/js/public.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;dist/js/user.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;dist/js/adminlte.js&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86; AdminLTE3 &#x7684;&#x6837;&#x5F0F;&#x548C;&#x9875;&#x9762;&#x5E03;&#x5C40;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5F15;&#x5165; JqGrid &#x7684;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x6700;&#x540E;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x5206;&#x9875;&#x6570;&#x636E;&#x7684;&#x533A;&#x57DF;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &lt;!-- &#x6570;&#x636E;&#x5C55;&#x793A;&#x5217;&#x8868;&#xFF0C;id &#x4E3A; jqGrid --&gt; &lt;table id=&quot;jqGrid&quot; class=&quot;table table-bordered&quot;&gt; &lt;/table&gt; &lt;!-- &#x5206;&#x9875;&#x6309;&#x94AE;&#x5C55;&#x793A;&#x533A; --&gt; &lt;div id=&quot;jqGridPager&quot;&gt;&lt;/div&gt;JqGrid &#x521D;&#x59CB;&#x5316;&#x5728;resources/static/dist/js&#x4E0B;&#x65B0;&#x5EFA; user.js&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; $(function () { $(&quot;#jqGrid&quot;).jqGrid({ url: &apos;users/list&apos;, datatype: &quot;json&quot;, colModel: [ {label: &apos;id&apos;, name: &apos;id&apos;, index: &apos;id&apos;, width: 50, hidden: true, key: true}, {label: &apos;&#x767B;&#x5F55;&#x540D;&apos;, name: &apos;userName&apos;, index: &apos;userName&apos;, sortable: false, width: 80}, {label: &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, name: &apos;createTime&apos;, index: &apos;createTime&apos;, sortable: false, width: 80} ], height: 485, rowNum: 10, rowList: [10, 30, 50], styleUI: &apos;Bootstrap&apos;, loadtext: &apos;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x4E2D;...&apos;, rownumbers: true, rownumWidth: 35, autowidth: true, multiselect: true, pager: &quot;#jqGridPager&quot;, jsonReader: { root: &quot;data.list&quot;, page: &quot;data.currPage&quot;, total: &quot;data.totalPage&quot;, records: &quot;data.totalCount&quot; }, prmNames: { page: &quot;page&quot;, rows: &quot;limit&quot;, order: &quot;order&quot; }, gridComplete: function () { //&#x9690;&#x85CF;grid&#x5E95;&#x90E8;&#x6EDA;&#x52A8;&#x6761; $(&quot;#jqGrid&quot;).closest(&quot;.ui-jqgrid-bdiv&quot;).css({&quot;overflow-x&quot;: &quot;hidden&quot;}); } }); });&#x8BE5;&#x4EE3;&#x7801;&#x7684;&#x542B;&#x4E49;&#x4E3A;&#xFF1A;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x8C03;&#x7528; JqGrid &#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x9875;&#x9762;&#x4E2D; id &#x4E3A; jqGrid &#x7684; DOM &#x6E32;&#x67D3;&#x4E3A;&#x5206;&#x9875;&#x8868;&#x683C;&#xFF0C;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x4E4B;&#x540E;&#x6309;&#x7167;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684; json &#x6570;&#x636E;&#x586B;&#x5145;&#x8868;&#x683C;&#x4EE5;&#x53CA;&#x8868;&#x683C;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x7B2C;&#x4E00;&#x9875;&#x3001;&#x4E0B;&#x4E00;&#x9875;&#x3001;&#x6700;&#x540E;&#x4E00;&#x9875;&#x7B49;&#x7B49;&#x903B;&#x8F91;&#x90FD;&#x6709; JqGrid &#x5185;&#x90E8;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5C06;&#x5B83;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x6240;&#x9700;&#x8981;&#x7684;&#x51E0;&#x4E2A;&#x6570;&#x636E;&#x8BBE;&#x7F6E;&#x597D;&#x5373;&#x53EF;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x8FD4;&#x56DE;&#x683C;&#x5F0F;&#x8BBE;&#x7F6E;&#x4E3A; PageResult &#x7C7B;&#x6240;&#x5C01;&#x88C5;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x3002; &#x7531;&#x4E8E; user.html &#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5165;&#x4E86; user.js &#x6587;&#x4EF6;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x5B8C;&#x6210;&#x540E;&#x4F1A;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5217;&#x8868;&#x7684;&#x6E32;&#x67D3;&#x53CA;&#x5206;&#x9875;&#x63D2;&#x4EF6;&#x7684;&#x6E32;&#x67D3;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7FFB;&#x9875;&#x529F;&#x80FD;&#x4E86;&#xFF0C;&#x672C;&#x6765;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x81EA;&#x884C;&#x5B9E;&#x73B0;&#xFF0C;&#x4F46;&#x662F;&#x4F7F;&#x7528; JqGrid &#x540E;&#x8FD9;&#x4E9B;&#x90FD;&#x4E0D;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x518D;&#x53BB;&#x505A;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x8C03;&#x7528;&#x5176;&#x5206;&#x9875;&#x65B9;&#x6CD5;&#x5E76;&#x5C06;&#x6240;&#x9700;&#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x597D;&#x5373;&#x53EF;&#xFF0C;&#x5341;&#x5206;&#x65B9;&#x4FBF;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x9879;&#x76EE;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/user.html&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5206;&#x9875;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x6B63;&#x5E38;&#x663E;&#x793A;&#x3002; &#x9875;&#x9762;&#x52A0;&#x8F7D;&#x540E;&#xFF0C;&#x5206;&#x9875;&#x533A;&#x57DF;&#x4E5F;&#x88AB;&#x6E32;&#x67D3;&#x51FA;&#x4E86;&#x6570;&#x636E;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x65B9;&#x7684;&#x7FFB;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x4E00;&#x5207;&#x529F;&#x80FD;&#x90FD;&#x6B63;&#x5E38;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5206;&#x6790;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5BF9;&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x5B9E;&#x73B0;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x5206;&#x6790;&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x63A7;&#x5236;&#x53F0;&#xFF0C;&#x5E76;&#x8FDB;&#x5165; Network &#x9762;&#x677F;&#xFF0C;&#x5177;&#x4F53;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x5728;&#x7FFB;&#x9875;&#x65F6;&#x6267;&#x884C;&#x4E86;&#x54EA;&#x4E9B;&#x8BF7;&#x6C42;&#x3002; &#x901A;&#x8FC7;&#x8BE5;&#x8FC7;&#x7A0B;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#xFF0C;&#x5728;&#x6BCF;&#x6B21;&#x70B9;&#x51FB;&#x5206;&#x9875;&#x6309;&#x94AE;&#x65F6;&#x90FD;&#x4F1A;&#x5411;&#x540E;&#x7AEF;&#x7684; users/list &#x8BF7;&#x6C42;&#xFF0C;&#x53C2;&#x6570;&#x6709;&#xFF1A;_search&#x3001; nd&#x3001; limit&#x3001;page&#x3001;sidx&#xFF0C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x90FD;&#x662F; JqGrid &#x5185;&#x90E8;&#x5C01;&#x88C5;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x540E;&#x7AEF;&#x5728;&#x63A5;&#x53D7;&#x8BF7;&#x6C42;&#x65F6;&#x53EA;&#x5904;&#x7406;&#x4E86; limit &#x548C; page &#x53C2;&#x6570;&#xFF0C;&#x5176;&#x4ED6;&#x53C2;&#x6570;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x589E;&#x52A0;&#x5904;&#x7406;&#x903B;&#x8F91;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x7EE7;&#x7EED;&#x8BB2;&#x89E3;&#x3002; &#x800C;&#x4E14;&#x7FFB;&#x9875;&#x903B;&#x8F91;&#x4EE5;&#x53CA;&#x53C2;&#x6570;&#x7684;&#x5C01;&#x88C5; JqGrid &#x5185;&#x90E8;&#x90FD;&#x5DF2;&#x7ECF;&#x5B8C;&#x5584;&#x4E86;&#xFF0C;&#x6BD4;&#x5982;&#x7B2C;&#x4E00;&#x6B21;&#x6211;&#x4EEC;&#x662F;&#x4EE5;&#x6BCF;&#x9875; 10 &#x6761;&#x6570;&#x636E;&#x5411;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x8BF7;&#x6C42;&#xFF0C;&#x6B64;&#x65F6;&#x5171;&#x6709; 7 &#x9875;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x6539;&#x4E3A;&#x6BCF;&#x9875; 50 &#x6761;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x5206;&#x9875;&#x63D2;&#x4EF6;&#x4E2D;&#x53EA;&#x6709;&#x4E24;&#x9875;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x903B;&#x8F91;&#x4E5F;&#x7531; JqGrid &#x63D2;&#x4EF6;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5728;&#x6574;&#x5408;&#x8BE5;&#x63D2;&#x4EF6;&#x540E;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5904;&#x7406;&#x540E;&#x7AEF;&#x903B;&#x8F91;&#x5373;&#x53EF;&#xFF0C;&#x524D;&#x7AEF;&#x76F8;&#x5173;&#x7684;&#x5206;&#x9875;&#x903B;&#x8F91;&#x90FD;&#x7531;&#x5B83;&#x6765;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x5927;&#x5927;&#x51CF;&#x5C11;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x5DE5;&#x4F5C;&#x91CF;&#x3002; &#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x5B9E;&#x8DF5;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;&#xFF0C;&#x5927;&#x5BB6;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;&#x548C;&#x6211;&#x63D0;&#x4F9B;&#x7684;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x7EC3;&#x4E60;&#x548C;&#x7406;&#x89E3;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#x5E0C;&#x671B;&#x53EF;&#x4EE5;&#x53CA;&#x65F6;&#x53CD;&#x9988;&#xFF0C;&#x795D;&#x5927;&#x5BB6;&#x5B9E;&#x9A8C;&#x987A;&#x5229;&#xFF01; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-12-yan-zheng-ma.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x8FD9;&#x4E00;&#x8282;&#x5B66;&#x4E60;&#x5728;&#x7F51;&#x7AD9;&#x4E2D;&#x4F7F;&#x7528;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x4F7F;&#x7528; Spring Boot &#x751F;&#x6210;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x5E76;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x7684;&#x9A8C;&#x8BC1;&#x64CD;&#x4F5C;&#xFF0C;&#x751F;&#x6210;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x4EE5;&#x53CA;&#x6848;&#x4F8B;&#x6709;&#x5F88;&#x591A;&#xFF0C;&#x672C;&#x6559;&#x7A0B;&#x4E2D;&#x6240;&#x9009;&#x62E9;&#x7684;&#x65B9;&#x6848;&#x662F; Google &#x7684; kaptcha &#x6846;&#x67B6;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x8BA4;&#x8BC6;&#x9A8C;&#x8BC1;&#x7801; Spring Boot &#x6574;&#x5408; kaptcha &#x6B65;&#x9AA4; &#x751F;&#x6210;&#x9A8C;&#x8BC1;&#x7801;&#x64CD;&#x4F5C; &#x5BF9;&#x9A8C;&#x8BC1;&#x7801;&#x8FDB;&#x884C;&#x63D0;&#x4EA4;&#x9A8C;&#x8BC1; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x9A8C;&#x8BC1;&#x7801;&#x9A8C;&#x8BC1;&#x7801;&#x4ECB;&#x7ECD;&#x8C08;&#x8D77;&#x9A8C;&#x8BC1;&#x7801;&#x8FD9;&#x4E2A;&#x8BDD;&#x9898;&#xFF0C;&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x90FD;&#x5E94;&#x8BE5;&#x5F88;&#x719F;&#x6089;&#xFF0C;&#x5728;&#x65E5;&#x5E38;&#x4E0A;&#x7F51;&#x7684;&#x65F6;&#x5019;&#x7ECF;&#x5E38;&#x4F1A;&#x770B;&#x5230;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x903B;&#x8F91;&#x8BBE;&#x8BA1;&#xFF0C;&#x6BD4;&#x5982;&#x767B;&#x9646;&#x8D26;&#x53F7;&#x3001;&#x8BBA;&#x575B;&#x53D1;&#x5E16;&#x3001;&#x8D2D;&#x4E70;&#x5546;&#x54C1;&#x65F6;&#x7F51;&#x7AD9;&#x90FD;&#x4F1A;&#x8981;&#x6C42;&#x7528;&#x6237;&#x5728;&#x5B9E;&#x9645;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x53BB;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x751F;&#x6210;&#x89C4;&#x5219;&#x6216;&#x8005;&#x5C55;&#x73B0;&#x5F62;&#x5F0F;&#x4E5F;&#x5404;&#x4E0D;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x8BBE;&#x8BA1;&#x786E;&#x5B9E;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x4E8E;&#x5404;&#x5927;&#x7F51;&#x7AD9;&#x4E2D;&#xFF0C;&#x4EE5;&#x4E0B;&#x662F;&#x767E;&#x5EA6;&#x767E;&#x79D1;&#x4E2D;&#x5BF9;&#x5B83;&#x7684;&#x5B9A;&#x4E49;&#xFF1A; &#x9A8C;&#x8BC1;&#x7801;&#xFF08;CAPTCHA&#xFF09;&#x662F;&#x201C;Completely Automated Public Turing test to tell Computers and Humans Apart&#x201D;&#xFF08;&#x5168;&#x81EA;&#x52A8;&#x533A;&#x5206;&#x8BA1;&#x7B97;&#x673A;&#x548C;&#x4EBA;&#x7C7B;&#x7684;&#x56FE;&#x7075;&#x6D4B;&#x8BD5;&#xFF09;&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x533A;&#x5206;&#x7528;&#x6237;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#x8FD8;&#x662F;&#x4EBA;&#x7684;&#x516C;&#x5171;&#x5168;&#x81EA;&#x52A8;&#x7A0B;&#x5E8F;&#x3002;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#xFF1A;&#x6076;&#x610F;&#x7834;&#x89E3;&#x5BC6;&#x7801;&#x3001;&#x5237;&#x7968;&#x3001;&#x8BBA;&#x575B;&#x704C;&#x6C34;&#xFF0C;&#x6709;&#x6548;&#x9632;&#x6B62;&#x67D0;&#x4E2A;&#x9ED1;&#x5BA2;&#x5BF9;&#x67D0;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x7528;&#x7279;&#x5B9A;&#x7A0B;&#x5E8F;&#x66B4;&#x529B;&#x7834;&#x89E3;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x4E0D;&#x65AD;&#x7684;&#x767B;&#x9646;&#x5C1D;&#x8BD5;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x7528;&#x9A8C;&#x8BC1;&#x7801;&#x662F;&#x73B0;&#x5728;&#x5F88;&#x591A;&#x7F51;&#x7AD9;&#x901A;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x5229;&#x7528;&#x6BD4;&#x8F83;&#x7B80;&#x6613;&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x4E86;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x3002;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x7531;&#x8BA1;&#x7B97;&#x673A;&#x751F;&#x6210;&#x5E76;&#x8BC4;&#x5224;&#xFF0C;&#x4F46;&#x662F;&#x5FC5;&#x987B;&#x53EA;&#x6709;&#x4EBA;&#x7C7B;&#x624D;&#x80FD;&#x89E3;&#x7B54;&#x3002;&#x7531;&#x4E8E;&#x8BA1;&#x7B97;&#x673A;&#x65E0;&#x6CD5;&#x89E3;&#x7B54; CAPTCHA &#x7684;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x56DE;&#x7B54;&#x51FA;&#x95EE;&#x9898;&#x7684;&#x7528;&#x6237;&#x5C31;&#x53EF;&#x4EE5;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4EBA;&#x7C7B;&#x3002; &#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x4F5C;&#x7528;&#x7531;&#x4E8E;&#x5728;&#x540E;&#x9762;&#x7684;&#x5B9E;&#x6218;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#x4F1A;&#x7528;&#x5230;&#x9A8C;&#x8BC1;&#x7801;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x56E0;&#x6B64;&#x9009;&#x62E9;&#x5728;&#x8FD9;&#x7BC7;&#x6559;&#x7A0B;&#x4E2D;&#x8FDB;&#x884C;&#x4ECB;&#x7ECD;&#x548C;&#x529F;&#x80FD;&#x6F14;&#x793A;&#x3002;&#x5176;&#x5B9E;&#x9A8C;&#x8BC1;&#x7801;&#x8BBE;&#x8BA1;&#x7684;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x4EE5;&#x53CA;&#x5B83;&#x6700;&#x5927;&#x7684;&#x4F5C;&#x7528;&#x4E5F;&#x5C31;&#x662F;&#x9632;&#x6B62;&#x4E0D;&#x6CD5;&#x5206;&#x5B50;&#x5728;&#x77ED;&#x65F6;&#x95F4;&#x5185;&#x7528;&#x673A;&#x5668;&#x6279;&#x91CF;&#x7684;&#x91CD;&#x590D;&#x64CD;&#x4F5C;&#x3002; &#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x6765;&#x5F00;&#x53D1;&#x7684;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#x4F1A;&#x5728;&#x540E;&#x53F0;&#x767B;&#x9646;&#x4EE5;&#x53CA;&#x7528;&#x6237;&#x8BC4;&#x8BBA;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x4E2D;&#x4F7F;&#x7528;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x6709;&#x6548;&#x9632;&#x6B62;&#x6076;&#x610F;&#x7528;&#x6237;&#x5BF9;&#x7F51;&#x7AD9;&#x8FDB;&#x884C;&#x7834;&#x574F;&#xFF0C;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x7528;&#x9A8C;&#x8BC1;&#x7801;&#x662F;&#x73B0;&#x5728;&#x5F88;&#x591A;&#x7F51;&#x7AD9;&#x901A;&#x884C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x867D;&#x7136;&#x4F1A;&#x4F7F;&#x5F97;&#x67D0;&#x4E9B;&#x64CD;&#x4F5C;&#x53D8;&#x5F97;&#x9EBB;&#x70E6;&#x4E00;&#x70B9;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x5927;&#x90E8;&#x5206;&#x7684;&#x529F;&#x80FD;&#x573A;&#x666F;&#x6765;&#x8BF4;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x8FD8;&#x662F;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#xFF0C;&#x4E5F;&#x5F88;&#x91CD;&#x8981;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x8981;&#x89C9;&#x5F97;&#x5B83;&#x9EBB;&#x70E6;&#xFF0C;&#x5982;&#x679C;&#x589E;&#x52A0;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x53EF;&#x4EE5;&#x4F7F;&#x5F97;&#x7F51;&#x7AD9;&#x66F4;&#x52A0;&#x5B89;&#x5168;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x5341;&#x5206;&#x503C;&#x5F97;&#x7684;&#x3002; Spring Boot &#x6574;&#x5408; kaptcha&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x5B8C;&#x9A8C;&#x8BC1;&#x7801;&#x4E4B;&#x540E;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x6848;&#x4F8B;&#x6765;&#x8BB2;&#x89E3;&#x5982;&#x4F55;&#x4F7F;&#x7528; Spring Boot &#x6765;&#x751F;&#x6210;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x518D;&#x5BF9;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x663E;&#x793A;&#x4EE5;&#x53CA;&#x540E;&#x7AEF;&#x9A8C;&#x8BC1;&#x8FDB;&#x884C;&#x6848;&#x4F8B;&#x8BB2;&#x89E3;&#x3002; &#x4EE5;&#x4E0B;&#x4E3A;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#xFF1A; &#x6DFB;&#x52A0;&#x4F9D;&#x8D56;Spring Boot &#x6574;&#x5408; kaptcha &#x7684;&#x7B2C;&#x4E00;&#x6B65;&#x5C31;&#x662F;&#x589E;&#x52A0;&#x4F9D;&#x8D56;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x5176;&#x4F9D;&#x8D56;&#x914D;&#x7F6E;&#x589E;&#x52A0;&#x5230; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x6B64;&#x65F6;&#x7684; pom.xml &#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.0.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;groupId&gt;com.lou.springboot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-captcha&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;spring-boot-captcha&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- &#x9A8C;&#x8BC1;&#x7801; --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt;&#x5982;&#x679C;&#x662F;&#x5728;&#x672C;&#x5730;&#x5F00;&#x53D1;&#x7684;&#x8BDD;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x7B49;&#x5F85; jar &#x5305;&#x53CA;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x5373;&#x53EF;&#x3002; &#x914D;&#x7F6E;&#x6CE8;&#x518C; DefaultKaptcha &#x5230; IOC &#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x65B0;&#x5EFA; config &#x5305;&#xFF0C;&#x4E4B;&#x540E;&#x65B0;&#x5EFA; KaptchaConfig &#x7C7B;&#xFF0C;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.config; import com.google.code.kaptcha.impl.DefaultKaptcha; import org.springframework.context.annotation.Bean; import org.springframework.stereotype.Component; import com.google.code.kaptcha.util.Config; import java.util.Properties; @Component public class KaptchaConfig { @Bean public DefaultKaptcha getDefaultKaptcha(){ com.google.code.kaptcha.impl.DefaultKaptcha defaultKaptcha = new com.google.code.kaptcha.impl.DefaultKaptcha(); Properties properties = new Properties(); // &#x56FE;&#x7247;&#x8FB9;&#x6846; properties.put(&quot;kaptcha.border&quot;, &quot;no&quot;); // &#x5B57;&#x4F53;&#x989C;&#x8272; properties.put(&quot;kaptcha.textproducer.font.color&quot;, &quot;black&quot;); // &#x56FE;&#x7247;&#x5BBD; properties.put(&quot;kaptcha.image.width&quot;, &quot;160&quot;); // &#x56FE;&#x7247;&#x9AD8; properties.put(&quot;kaptcha.image.height&quot;, &quot;40&quot;); // &#x5B57;&#x4F53;&#x5927;&#x5C0F; properties.put(&quot;kaptcha.textproducer.font.size&quot;, &quot;30&quot;); // &#x9A8C;&#x8BC1;&#x7801;&#x957F;&#x5EA6; properties.put(&quot;kaptcha.textproducer.char.space&quot;, &quot;5&quot;); // &#x5B57;&#x4F53; properties.setProperty(&quot;kaptcha.textproducer.font.names&quot;, &quot;&#x5B8B;&#x4F53;,&#x6977;&#x4F53;,&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&quot;); Config config = new Config(properties); defaultKaptcha.setConfig(config); return defaultKaptcha; } }&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x5BF9;&#x751F;&#x6210;&#x7684;&#x56FE;&#x7247;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x89C4;&#x5219;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#x989C;&#x8272;&#x3001;&#x5BBD;&#x9AD8;&#x3001;&#x957F;&#x5EA6;&#x3001;&#x5B57;&#x4F53;&#x7B49;&#x7B49;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x9700;&#x6C42;&#x81EA;&#x884C;&#x4FEE;&#x6539;&#x8FD9;&#x4E9B;&#x89C4;&#x5219;&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x81EA;&#x5DF1;&#x60F3;&#x8981;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x4E86;&#x3002; &#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x751F;&#x6210;&#x4E0E;&#x663E;&#x793A;&#x540E;&#x7AEF;&#x5904;&#x7406;&#x5728; controller &#x5305;&#x4E2D;&#x65B0;&#x5EFA; KaptchaController&#xFF0C;&#x4E4B;&#x540E;&#x6CE8;&#x5165;&#x521A;&#x521A;&#x914D;&#x7F6E;&#x597D;&#x7684; DefaultKaptcha &#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x65B9;&#x6CD5;&#x91CC;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x9A8C;&#x8BC1;&#x7801;&#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4EE5;&#x56FE;&#x7247;&#x6D41;&#x7684;&#x65B9;&#x5F0F;&#x5199;&#x5230;&#x524D;&#x7AEF;&#x4EE5;&#x4F9B;&#x663E;&#x793A;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.controller; import com.google.code.kaptcha.impl.DefaultKaptcha; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Controller; import org.springframework.util.StringUtils; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestParam; import org.springframework.web.bind.annotation.ResponseBody; import javax.imageio.ImageIO; import javax.servlet.ServletOutputStream; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import javax.servlet.http.HttpSession; import java.awt.image.BufferedImage; import java.io.ByteArrayOutputStream; /** * @author 13 * @qq&#x4EA4;&#x6D41;&#x7FA4; 796794009 * @email 2449207463@qq.com * @link http://13blog.site */ @Controller public class KaptchaController { @Autowired private DefaultKaptcha captchaProducer; @GetMapping(&quot;/kaptcha&quot;) public void defaultKaptcha(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse) throws Exception { byte[] captchaOutputStream; ByteArrayOutputStream imgOutputStream = new ByteArrayOutputStream(); try { //&#x751F;&#x4EA7;&#x9A8C;&#x8BC1;&#x7801;&#x5B57;&#x7B26;&#x4E32;&#x5E76;&#x4FDD;&#x5B58;&#x5230;session&#x4E2D; String verifyCode = captchaProducer.createText(); httpServletRequest.getSession().setAttribute(&quot;verifyCode&quot;, verifyCode); BufferedImage challenge = captchaProducer.createImage(verifyCode); ImageIO.write(challenge, &quot;jpg&quot;, imgOutputStream); } catch (IllegalArgumentException e) { httpServletResponse.sendError(HttpServletResponse.SC_NOT_FOUND); return; } captchaOutputStream = imgOutputStream.toByteArray(); httpServletResponse.setHeader(&quot;Cache-Control&quot;, &quot;no-store&quot;); httpServletResponse.setHeader(&quot;Pragma&quot;, &quot;no-cache&quot;); httpServletResponse.setDateHeader(&quot;Expires&quot;, 0); httpServletResponse.setContentType(&quot;image/jpeg&quot;); ServletOutputStream responseOutputStream = httpServletResponse.getOutputStream(); responseOutputStream.write(captchaOutputStream); responseOutputStream.flush(); responseOutputStream.close(); } }&#x6211;&#x4EEC;&#x5728;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x65B0;&#x589E;&#x4E86; defaultKaptcha &#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x6240;&#x62E6;&#x622A;&#x5904;&#x7406;&#x7684;&#x8DEF;&#x5F84;&#x4E3A; /kaptcha&#xFF0C;&#x5728;&#x524D;&#x7AEF;&#x8BBF;&#x95EE;&#x8BE5;&#x8DEF;&#x5F84;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x63A5;&#x6536;&#x5230;&#x4E00;&#x4E2A;&#x56FE;&#x7247;&#x6D41;&#x5E76;&#x663E;&#x793A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x9875;&#x9762;&#x4E0A;&#x3002; &#x524D;&#x7AEF;&#x5904;&#x7406;&#x65B0;&#x5EFA; kaptcha.html&#xFF0C;&#x5728;&#x8BE5;&#x9875;&#x9762;&#x4E2D;&#x663E;&#x793A;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&#x9A8C;&#x8BC1;&#x7801;&#x663E;&#x793A;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;img src=&quot;/kaptcha&quot; onclick=&quot;this.src=&apos;/kaptcha?d=&apos;+new Date()*1&quot;&gt; &lt;/body&gt; &lt;/html&gt;&#x8BBF;&#x95EE;&#x540E;&#x7AEF;&#x9A8C;&#x8BC1;&#x7801;&#x8DEF;&#x5F84; /kaptcha&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x8FD4;&#x56DE;&#x663E;&#x793A;&#x5728; img &#x6807;&#x7B7E;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x5B9A;&#x4E49;&#x4E86; onclick &#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x70B9;&#x51FB;&#x8BE5; img &#x6807;&#x7B7E;&#x65F6;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x7684;&#x5207;&#x6362;&#x663E;&#x793A;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x70B9;&#x51FB;&#x65F6;&#x8BBF;&#x95EE;&#x7684;&#x8DEF;&#x5F84;&#x4E3A; /kaptcha?d=1565950414611&#xFF0C;&#x5373;&#x539F;&#x6765;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x8DEF;&#x5F84;&#x540E;&#x9762;&#x5E26;&#x4E0A;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233;&#x53C2;&#x6570;&#xFF0C;&#x65F6;&#x95F4;&#x6233;&#x662F;&#x4F1A;&#x53D8;&#x5316;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x6B21;&#x70B9;&#x51FB;&#x90FD;&#x4F1A;&#x662F;&#x4E00;&#x4E2A;&#x4E0E;&#x4E4B;&#x524D;&#x4E0D;&#x540C;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8FD9;&#x6837;&#x5904;&#x7406;&#x7684;&#x8BDD;&#xFF0C;&#x7531;&#x4E8E;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x673A;&#x5236;&#x53EF;&#x80FD;&#x5E76;&#x4E0D;&#x4F1A;&#x91CD;&#x65B0;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x3002; &#x529F;&#x80FD;&#x9A8C;&#x8BC1;&#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#x4EE3;&#x7801;&#x672C;&#x8282;&#x8BFE;&#x7A0B;&#x7684;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;&#xFF0C;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x81F3;&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x4E0B;&#x8F7D;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x89E3;&#x538B;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/spring-boot-captcha.zip unzip spring-boot-captcha.zip&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x80FD;&#x591F;&#x770B;&#x5230;&#x672C;&#x6B21;&#x4EE3;&#x7801;&#x7684;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x53CA;&#x76F8;&#x5173;&#x6587;&#x4EF6;&#x3002; &#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E2D;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; spring-boot-captcha &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002; &#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x5730;&#x5740; /kaptcha.html &#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x9875;&#x9762;&#x4E2D;&#x53EF;&#x4EE5;&#x6B63;&#x786E;&#x7684;&#x663E;&#x793A;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x4E86;&#x5BBD;&#x9AD8;&#x548C;&#x5B57;&#x7B26;&#x957F;&#x5EA6;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x6B21;&#x70B9;&#x51FB;&#x540E;&#x4E5F;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x7684;&#x5207;&#x6362;&#xFF0C;&#x8BE5;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x3002; &#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x663E;&#x793A;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x6765;&#x8981;&#x505A;&#x7684;&#x5C31;&#x662F;&#x5BF9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x8FDB;&#x884C;&#x6BD4;&#x5BF9;&#x548C;&#x9A8C;&#x8BC1;&#xFF0C;&#x56E0;&#x4E3A;&#x4E00;&#x822C;&#x7684;&#x505A;&#x6CD5;&#x5C31;&#x662F;&#x540E;&#x7AEF;&#x751F;&#x6210;&#x540E;&#x4F1A;&#x5BF9;&#x5F53;&#x524D;&#x751F;&#x6210;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x8FDB;&#x884C;&#x4FDD;&#x5B58;&#xFF08;&#x53EF;&#x80FD;&#x662F; session &#x4E2D;&#x3001;&#x6216;&#x8005;&#x7F13;&#x5B58;&#x4E2D;&#x3001;&#x6216;&#x8005;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF09;&#xFF0C;&#x4E4B;&#x540E;&#x663E;&#x793A;&#x5230;&#x524D;&#x7AEF;&#x9875;&#x9762;&#xFF0C;&#x7528;&#x6237;&#x5728;&#x770B;&#x5230;&#x9A8C;&#x8BC1;&#x7801;&#x4E4B;&#x540E;&#x5728;&#x9875;&#x9762;&#x5BF9;&#x5E94;&#x7684;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x586B;&#x5199;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x4E4B;&#x540E;&#x624D;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x800C;&#x540E;&#x7AEF;&#x518D;&#x63A5;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#x4F1A;&#x5BF9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5BF9;&#x7684;&#x8BDD;&#x5219;&#x4E0D;&#x4F1A;&#x8FDB;&#x884C;&#x540E;&#x7EED;&#x64CD;&#x4F5C;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x6D41;&#x7A0B;&#x3002; &#x540E;&#x7AEF;&#x5904;&#x7406;&#x5728; KaptchaController &#x7C7B;&#x4E2D;&#x65B0;&#x589E; verify &#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @GetMapping(&quot;/verify&quot;) @ResponseBody public String verify(@RequestParam(&quot;code&quot;) String code, HttpSession session) { if (StringUtils.isEmpty(code)) { return &quot;&#x9A8C;&#x8BC1;&#x7801;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;; } String kaptchaCode = session.getAttribute(&quot;verifyCode&quot;) + &quot;&quot;; if (StringUtils.isEmpty(kaptchaCode) || !code.equals(kaptchaCode)) { return &quot;&#x9A8C;&#x8BC1;&#x7801;&#x9519;&#x8BEF;&quot;; } return &quot;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&quot;; }&#x8BE5;&#x65B9;&#x6CD5;&#x6240;&#x62E6;&#x622A;&#x5904;&#x7406;&#x7684;&#x8DEF;&#x5F84;&#x4E3A; /kaptcha&#xFF0C;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x4E3A; code&#xFF0C;&#x5373;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x57FA;&#x672C;&#x7684;&#x975E;&#x7A7A;&#x9A8C;&#x8BC1;&#x540E;&#xFF0C;&#x4E0E;&#x4E4B;&#x524D;&#x4FDD;&#x5B58;&#x5728; session &#x4E2D;&#x7684; verifyCode &#x503C;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x4E0D;&#x540C;&#x5219;&#x8FD4;&#x56DE;&#x9A8C;&#x8BC1;&#x7801;&#x9519;&#x8BEF;&#xFF0C;&#x76F8;&#x540C;&#x5219;&#x8FD4;&#x56DE;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#x3002; &#x524D;&#x7AEF;&#x5904;&#x7406;&#x65B0;&#x5EFA; verify.html&#xFF0C;&#x8BE5;&#x9875;&#x9762;&#x4E2D;&#x663E;&#x793A;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x540C;&#x65F6;&#x6709;&#x53EF;&#x4EE5;&#x4F9B;&#x7528;&#x6237;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x8F93;&#x5165;&#x6846;&#x4EE5;&#x53CA;&#x63D0;&#x4EA4;&#x6309;&#x94AE;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;&#x9A8C;&#x8BC1;&#x7801;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;img src=&quot;/kaptcha&quot; onclick=&quot;this.src=&apos;/kaptcha?d=&apos;+new Date()*1&quot;&gt; &lt;input type=&quot;text&quot; maxlength=&quot;5&quot; id=&quot;code&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&quot;&gt; &lt;button id=&quot;verify&quot;&gt;&#x9A8C;&#x8BC1;&lt;/button&gt; &lt;/body&gt; &lt;script src=&quot;jquery.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; $(function () { $(&quot;#verify&quot;).click(function () { var code = $(&quot;#code&quot;).val(); $.ajax({ type: &apos;GET&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: &apos;/verify?code=&apos; + code, success: function (result) { alert(result); }, error: function () { alert(&quot;&#x8BF7;&#x6C42;&#x5931;&#x8D25;&quot;); } }); }) }); &lt;/script&gt; &lt;/html&gt;&#x7528;&#x6237;&#x5728;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#x540E;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x201C;&#x9A8C;&#x8BC1;&#x201D;&#x6309;&#x94AE;&#xFF0C;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x540E;&#x6267;&#x884C; js &#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x83B7;&#x53D6;&#x5230;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x503C;&#xFF0C;&#x5E76;&#x5C06;&#x5176;&#x4F5C;&#x4E3A;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#xFF0C;&#x4E4B;&#x540E;&#x8FDB;&#x884C; Ajax &#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x540E;&#x4F1A;&#x5728;&#x5F39;&#x6846;&#x4E2D;&#x663E;&#x793A;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x3002; &#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x7F16;&#x7801;&#x5B8C;&#x6210;&#x540E;&#x5207;&#x6362;&#x5230; spring-boot-captcha &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run&#xFF0C;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002; &#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x8F93;&#x5165;&#x5730;&#x5740; https://********.simplelab.cn/verify.html &#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&#x5E76;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x9A8C;&#x8BC1;&#xFF0C;&#x9A8C;&#x8BC1;&#x7ED3;&#x679C;&#x4E0E;&#x9884;&#x671F;&#x4E00;&#x81F4;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#x3002; &#x603B;&#x7ED3;&#x7F51;&#x7AD9;&#x4E2D;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x529F;&#x80FD;&#x903B;&#x8F91;&#x4E5F;&#x57FA;&#x672C;&#x5982;&#x6B64;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#xFF1A; &#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x751F;&#x6210; &#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x663E;&#x793A; &#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x6BD4;&#x5BF9; &#x672C;&#x5B9E;&#x9A8C;&#x4E2D;&#x5DF2;&#x7ECF;&#x5C06;&#x6240;&#x6709;&#x529F;&#x80FD;&#x4E00;&#x4E00;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x540E;&#x7EED;&#x5C06;&#x4F1A;&#x7ED3;&#x5408;&#x5B9E;&#x9645;&#x7684;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x5BF9;&#x8BE5;&#x529F;&#x80FD;&#x903B;&#x8F91;&#x8FDB;&#x884C;&#x5B8C;&#x5584;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x6587;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;&#x4EE5;&#x53CA;&#x63D0;&#x4F9B;&#x7684;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B9E;&#x9A8C;&#xFF0C;&#x6709;&#x4EFB;&#x4F55;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0E;&#x6211;&#x4EA4;&#x6D41;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-13-deng-lu-mo-kuai.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x4ECE;&#x672C;&#x7BC7;&#x5F00;&#x59CB;&#x5C06;&#x4E0D;&#x518D;&#x8FDB;&#x884C;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x7684;&#x8BB2;&#x89E3;&#xFF0C;&#x800C;&#x662F;&#x771F;&#x5B9E;&#x7684;&#x5F00;&#x59CB;&#x53BB;&#x5F00;&#x53D1;&#x4E00;&#x4E2A;&#x5B9E;&#x8DF5;&#x9879;&#x76EE;&#x4E86;&#xFF0C;&#x5B9E;&#x8DF5;&#x8BFE;&#x7A0B;&#x7684;&#x7B2C;&#x4E00;&#x7BC7;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x8BB2;&#x89E3;&#x4E24;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x4E00;&#x662F; AdminLTE3 web app &#x6A21;&#x677F;&#x6574;&#x5408;&#xFF0C;&#x4E8C;&#x662F;&#x767B;&#x5F55;&#x529F;&#x80FD;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x5305;&#x62EC;&#x9875;&#x9762;&#x548C;&#x540E;&#x53F0; api &#x7684;&#x5F00;&#x53D1;&#x3002; &#x5728;&#x8BFE;&#x7A0B;&#x4ECB;&#x7ECD;&#x65F6;&#x6211;&#x7ED9;&#x51FA;&#x4E86;&#x51E0;&#x5F20;&#x6700;&#x7EC8;&#x9879;&#x76EE;&#x7684;&#x9884;&#x89C8;&#x56FE;&#xFF0C;&#x7F51;&#x7AD9;&#x7684;&#x98CE;&#x683C;&#x6BD4;&#x8F83;&#x7F8E;&#x89C2;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x6700;&#x7EC8;&#x7684;&#x5B9E;&#x8DF5;&#x9879;&#x76EE;&#x7684;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x5C31;&#x662F;&#x57FA;&#x4E8E; AdminLTE3 &#x6A21;&#x677F;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#x7684;&#xFF0C;&#x672C;&#x6587;&#x4F1A;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x8FD9;&#x4E2A;&#x7F51;&#x9875;&#x6A21;&#x677F;&#x5E76;&#x5B9E;&#x9645;&#x7684;&#x6574;&#x5408;&#x8FDB;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x9875;&#x9762;&#x7684;&#x5F00;&#x53D1;&#x3002;&#x4E4B;&#x540E;&#x662F;&#x767B;&#x5F55;&#x529F;&#x80FD;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x662F;&#x4E92;&#x8054;&#x7F51;&#x8303;&#x7574;&#x7684;&#x767B;&#x5F55;&#xFF0C;&#x901A;&#x5E38;&#x4F9B;&#x591A;&#x4EBA;&#x4F7F;&#x7528;&#x7684;&#x7F51;&#x7AD9;&#x6216;&#x7A0B;&#x5E8F;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x4E3A;&#x6BCF;&#x4F4D;&#x7528;&#x6237;&#x914D;&#x7F6E;&#x4E86;&#x4E00;&#x5957;&#x72EC;&#x7279;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5404;&#x81EA;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#xFF0C;&#x4EE5;&#x4FBF;&#x7CFB;&#x7EDF;&#x80FD;&#x8BC6;&#x522B;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x4ECE;&#x800C;&#x4FDD;&#x6301;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x4F7F;&#x7528;&#x4E60;&#x60EF;&#x6216;&#x4F7F;&#x7528;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x90FD;&#x4E0D;&#x964C;&#x751F;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x628A;&#x5B83;&#x4F5C;&#x4E3A;&#x5B9E;&#x8DF5;&#x8BFE;&#x7A0B;&#x7684;&#x7B2C;&#x4E00;&#x6B65;&#x5427;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x767B;&#x5F55;&#x529F;&#x80FD;&#x7B80;&#x4ECB; AdminLTE3 &#x6A21;&#x677F;&#x6574;&#x5408; &#x767B;&#x5F55;&#x529F;&#x80FD;&#x5B9E;&#x73B0; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x767B;&#x5F55;&#x529F;&#x80FD;&#x7528;&#x6237;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x4EE5;&#x6211;&#x4EEC;&#x5C06;&#x8981;&#x5F00;&#x53D1;&#x7684;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#xFF0C;&#x8FD9;&#x4E2A;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x662F;&#x62E5;&#x6709;&#x591A;&#x4E2A;&#x9875;&#x9762;&#x7684;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#x8FC7;&#x7A0B;&#x4E2D;&#x548C;&#x901A;&#x8FC7;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x65F6;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053;&#x7528;&#x6237;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x7528;&#x6237;&#x767B;&#x5F55;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x4EE5;&#x4FBF;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x8FD9;&#x662F;&#x5426;&#x662F;&#x4E00;&#x4E2A;&#x6B63;&#x5E38;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x8FD9;&#x4E2A;&#x7528;&#x6237;&#x662F;&#x5426;&#x5904;&#x4E8E;&#x5408;&#x6CD5;&#x7684;&#x767B;&#x5F55;&#x72B6;&#x6001;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x5728;&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#x548C;&#x63A5;&#x53E3;&#x8BF7;&#x6C42;&#x65F6;&#x77E5;&#x9053;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x8BA9;&#x5F53;&#x524D;&#x7528;&#x6237;&#x6765;&#x64CD;&#x4F5C;&#x4E00;&#x4E9B;&#x529F;&#x80FD;&#x6216;&#x662F;&#x83B7;&#x53D6;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x3002; &#x56E0;&#x6B64;&#x9700;&#x8981;&#x5728;&#x6BCF;&#x4E2A;&#x9875;&#x9762;&#x5BF9;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x548C;&#x786E;&#x8BA4;&#xFF0C;&#x4F46;&#x73B0;&#x5B9E;&#x60C5;&#x51B5;&#x662F;&#xFF0C;&#x4E0D;&#x53EF;&#x80FD;&#x8BA9;&#x7528;&#x6237;&#x5728;&#x6BCF;&#x4E2A;&#x9875;&#x9762;&#x4E0A;&#x90FD;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x591A;&#x4E48;&#x53CD;&#x4EBA;&#x7C7B;&#x7684;&#x8BBE;&#x8BA1;&#x554A;&#xFF0C;&#x5E94;&#x8BE5;&#x4E0D;&#x4F1A;&#x6709;&#x7528;&#x6237;&#x60F3;&#x8981;&#x53BB;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x7CFB;&#x7EDF;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x8BBE;&#x8BA1;&#x65F6;&#xFF0C;&#x8981;&#x6C42;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x4E00;&#x6B21;&#x767B;&#x5F55;&#x64CD;&#x4F5C;&#x5373;&#x53EF;&#x3002;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x529F;&#x80FD;&#x5C31;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x8F85;&#x52A9;&#x6280;&#x672F;&#xFF0C;&#x7528;&#x5F97;&#x6700;&#x591A;&#x7684;&#x6280;&#x672F;&#x5C31;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x7684; Cookie&#xFF0C;&#x800C;&#x5728; Java Web &#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x7528;&#x7684;&#x6BD4;&#x8F83;&#x591A;&#x7684;&#x662F; Session&#xFF0C;&#x5C06;&#x7528;&#x6237;&#x767B;&#x5F55;&#x7684;&#x4FE1;&#x606F;&#x5B58;&#x653E;&#x5176;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BFB;&#x53D6; Cookie &#x6216;&#x8005; Session &#x4E2D;&#x7684;&#x6570;&#x636E;&#x83B7;&#x5F97;&#x7528;&#x6237;&#x7684;&#x767B;&#x5F55;&#x4FE1;&#x606F;&#xFF0C;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x8BB0;&#x5F55;&#x72B6;&#x6001;&#xFF0C;&#x9A8C;&#x8BC1;&#x7528;&#x6237;&#x8FD9;&#x4E00;&#x76EE;&#x7684;&#x3002; &#x767B;&#x5F55;&#x6D41;&#x7A0B;&#x8BBE;&#x8BA1;&#x901A;&#x8FC7;&#x524D;&#x6587;&#x7684;&#x53D9;&#x8FF0;&#x4E5F;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#x767B;&#x5F55;&#x7684;&#x672C;&#x8D28;&#xFF0C;&#x5373;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x548C;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x7684;&#x4FDD;&#x6301;&#xFF0C;&#x5728;&#x5B9E;&#x9645;&#x7F16;&#x7801;&#x4E2D;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7684;&#x5462;&#xFF1F; &#x9996;&#x5148;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x67E5;&#x8BE2;&#x8FD9;&#x6761;&#x7528;&#x6237;&#x8BB0;&#x5F55;&#xFF0C;&#x4F2A;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; select * from xxx_user where account_number = &apos;xxxx&apos;;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x8FD9;&#x6761;&#x8BB0;&#x5F55;&#x5219;&#x8868;&#x793A;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x5931;&#x8D25;&#xFF0C;&#x767B;&#x5F55;&#x6D41;&#x7A0B;&#x7EC8;&#x6B62;&#xFF1B;&#x5982;&#x679C;&#x5B58;&#x5728;&#x8FD9;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x6210;&#x529F;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5219;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x7684;&#x5B58;&#x50A8;&#x548C;&#x9A8C;&#x8BC1;&#x4E86;&#xFF0C;&#x5B58;&#x50A8;&#x4F2A;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x901A;&#x8FC7; Cookie &#x5B58;&#x50A8; Cookie cookie = new Cookie(&quot;userName&quot;,xxxxx); //&#x901A;&#x8FC7; Session &#x5B58;&#x50A8; session.setAttribute(&quot;userName&quot;,xxxxx);&#x9A8C;&#x8BC1;&#x903B;&#x8F91;&#x7684;&#x4F2A;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x901A;&#x8FC7; Cookie &#x83B7;&#x53D6;&#x9700;&#x8981;&#x9A8C;&#x8BC1;&#x7684;&#x6570;&#x636E;&#x5E76;&#x8FDB;&#x884C;&#x6BD4;&#x5BF9;&#x6821;&#x9A8C; Cookie cookies[] = request.getCookies(); if (cookies != null){ for (int i = 0; i &lt; cookies.length; i++) { Cookie cookie = cookies[i]; if (name.equals(cookie.getName())) { return cookie; } } } //&#x901A;&#x8FC7;session&#x83B7;&#x53D6;&#x9700;&#x8981;&#x9A8C;&#x8BC1;&#x7684;&#x6570;&#x636E;&#x5E76;&#x8FDB;&#x884C;&#x6BD4;&#x5BF9;&#x6821;&#x9A8C; session.getAttribute(&quot;userName&quot;);&#x672C;&#x6B21;&#x5B9E;&#x8DF5;&#x9879;&#x76EE;&#x7684;&#x767B;&#x5F55;&#x72B6;&#x6001;&#x6211;&#x4EEC;&#x662F;&#x901A;&#x8FC7; session &#x6765;&#x4FDD;&#x5B58;&#x7684;&#xFF0C;&#x7528;&#x6237;&#x767B;&#x5F55;&#x6210;&#x529F;&#x540E;&#x6211;&#x4EEC;&#x5C06;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x653E;&#x5230; session &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5728;&#x8BBF;&#x95EE;&#x9879;&#x76EE;&#x65F6;&#x5224;&#x65AD; session &#x4E2D;&#x662F;&#x5426;&#x6709;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x6709;&#x5219;&#x653E;&#x884C;&#x8BF7;&#x6C42;&#xFF0C;&#x6CA1;&#x6709;&#x5C31;&#x8DF3;&#x8F6C;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#x3002; AdminLTE3 &#x6A21;&#x677F;&#x6574;&#x5408;&#x6574;&#x5408;&#x8FC7;&#x7A0B;&#x5176;&#x5B9E;&#x662F;&#x6211;&#x4EEC;&#x628A; AdminLTE3 &#x4EE3;&#x7801;&#x538B;&#x7F29;&#x5305;&#x4E2D;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x3001;js &#x6587;&#x4EF6;&#x3001;&#x56FE;&#x7247;&#x7B49;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x653E;&#x5165;&#x6211;&#x4EEC; Spring Boot &#x9879;&#x76EE;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x6BD4;&#x5982; static &#x76EE;&#x5F55;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x6211;&#x4EEC;&#x8BBE;&#x7F6E;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x76EE;&#x5F55;&#xFF0C;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x6587;&#x4EF6;&#x6211;&#x4EEC;&#x90FD;&#x5728;&#x4E0B;&#x56FE;&#x4E2D;&#x7528;&#x7EA2;&#x7EBF;&#x8FDB;&#x884C;&#x6807;&#x6CE8;&#x4E86;&#xFF0C;&#x76EE;&#x5F55;&#x5982;&#x4E0B;&#xFF1A; &#x6709;&#x4E9B;&#x4EBA;&#x53EF;&#x80FD;&#x5BF9;&#x201C;&#x6574;&#x5408;&#x201D;&#x4E0D;&#x662F;&#x5F88;&#x7406;&#x89E3;&#xFF0C;&#x751A;&#x81F3;&#x4EE5;&#x4E3A;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x590D;&#x6742;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x5F00;&#x53D1;&#x7684;&#x662F;&#x4E00;&#x4E2A; web &#x9879;&#x76EE;&#xFF0C;&#x9879;&#x76EE;&#x4E2D;&#x5305;&#x62EC;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x548C;&#x540E;&#x7AEF;&#x5DE5;&#x7A0B;&#xFF0C;&#x540E;&#x7AEF;&#x5DE5;&#x7A0B;&#x6211;&#x4EEC;&#x662F;&#x6BD4;&#x8F83;&#x719F;&#x6089;&#x7684;&#xFF0C;&#x800C;&#x524D;&#x7AEF;&#x5DE5;&#x7A0B;&#x5C31;&#x5305;&#x62EC;&#x9875;&#x9762;&#x6587;&#x4EF6;&#x3001;&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x3001;js &#x6587;&#x4EF6;&#x7B49;&#x7B49;&#xFF0C;&#x7531;&#x4E8E;&#x540E;&#x7AEF;&#x7684;&#x5C0F;&#x4F19;&#x4F34;&#x53EF;&#x80FD;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x719F;&#x6089;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x5C31;&#x9009;&#x62E9;&#x4E86; AdminLTE &#x7F51;&#x7AD9;&#x6A21;&#x677F;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x534A;&#x6210;&#x54C1;&#x7F51;&#x7AD9;&#x6765;&#x8FDB;&#x884C;&#x6539;&#x9020;&#x548C;&#x5F00;&#x53D1;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x9875;&#x9762;&#x548C;&#x6837;&#x5F0F;&#x90FD;&#x5DF2;&#x7ECF;&#x7531;&#x6A21;&#x677F;&#x4F5C;&#x8005;&#x5F00;&#x53D1;&#x597D;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x9488;&#x5BF9;&#x6027;&#x7684;&#x4FEE;&#x6539;&#x4E00;&#x4E9B;&#x9875;&#x9762;&#x4F9B;&#x9879;&#x76EE;&#x4F7F;&#x7528;&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x4E2D;&#x80AF;&#x5B9A;&#x5C31;&#x5C11;&#x4E0D;&#x4E86;&#x8981;&#x628A;&#x5B83;&#x7684;&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x3001;js &#x6587;&#x4EF6;&#x7B49;&#x653E;&#x5230;&#x6211;&#x4EEC;&#x9879;&#x76EE;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x8FD9;&#x91CC;&#x6240;&#x8BF4;&#x7684;&#x201C;&#x6574;&#x5408;&#x201D;&#x4EC5;&#x4EC5;&#x662F;&#x628A;&#x4E00;&#x4E9B;&#x5FC5;&#x8981;&#x7684;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x4E0D;&#x8981;&#x628A;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x60F3;&#x590D;&#x6742;&#x4E86;&#x3002; &#x767B;&#x5F55;&#x529F;&#x80FD;&#x5B9E;&#x8DF5;&#x767B;&#x5F55;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x7531;&#x4E8E;&#x9009;&#x7528;&#x4E86; AdminLTE3 &#x4F5C;&#x4E3A;&#x6A21;&#x677F;&#xFF0C;&#x5C31;&#x76F4;&#x63A5;&#x6539;&#x9020;&#x5176;&#x767B;&#x5F55;&#x9875;&#x9762;&#x5373;&#x53EF;&#xFF0C;&#x5728; templates/admin &#x76EE;&#x5F55;&#x4E2D;&#x65B0;&#x5EFA; login.html &#x6A21;&#x677F;&#x9875;&#x9762;&#xFF0C;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x7684;&#x662F; Thymeleaf&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;title&gt;personal blog | Log in&lt;/title&gt; &lt;!-- Tell the browser to be responsive to screen width --&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt; &lt;link rel=&quot;shortcut icon&quot; th:href=&quot;@{/admin/dist/img/favicon.png}&quot;/&gt; &lt;!-- Font Awesome --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/admin/dist/css/font-awesome.min.css}&quot;&gt; &lt;!-- Ionicons --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/admin/dist/css/ionicons.min.css}&quot;&gt; &lt;!-- Theme style --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/admin/dist/css/adminlte.min.css}&quot;&gt; &lt;style&gt; canvas { display: block; vertical-align: bottom; } #particles { background-color: #F7FAFC; position: absolute; top: 0; width: 100%; height: 100%; z-index: -1; } &lt;/style&gt; &lt;/head&gt; &lt;body class=&quot;hold-transition login-page&quot;&gt; &lt;div id=&quot;particles&quot;&gt; &lt;/div&gt; &lt;div class=&quot;login-box&quot;&gt; &lt;div class=&quot;login-logo&quot; style=&quot;color: #007bff;&quot;&gt; &lt;h1&gt;personal blog&lt;/h1&gt; &lt;/div&gt; &lt;!-- /.login-logo --&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-body login-card-body&quot;&gt; &lt;p class=&quot;login-box-msg&quot;&gt;your personal blog , enjoy it&lt;/p&gt; &lt;form th:action=&quot;@{/admin/login}&quot; method=&quot;post&quot;&gt; &lt;div th:if=&quot;${not #strings.isEmpty(session.errorMsg)}&quot; class=&quot;form-group&quot;&gt; &lt;div class=&quot;alert alert-danger&quot; th:text=&quot;${session.errorMsg}&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;form-group has-feedback&quot;&gt; &lt;span class=&quot;fa fa-user form-control-feedback&quot;&gt;&lt;/span&gt; &lt;input type=&quot;text&quot; id=&quot;userName&quot; name=&quot;userName&quot; class=&quot;form-control&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x8D26;&#x53F7;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group has-feedback&quot;&gt; &lt;span class=&quot;fa fa-lock form-control-feedback&quot;&gt;&lt;/span&gt; &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x5BC6;&#x7801;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-6&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;verifyCode&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;col-6&quot;&gt; &lt;img alt=&quot;&#x5355;&#x51FB;&#x56FE;&#x7247;&#x5237;&#x65B0;&#xFF01;&quot; class=&quot;pointer&quot; th:src=&quot;@{/common/kaptcha}&quot; onclick=&quot;this.src=&apos;/common/kaptcha?d=&apos;+new Date()*1&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;form-group has-feedback&quot;&gt;&lt;/div&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-8&quot;&gt; &lt;/div&gt; &lt;div class=&quot;col-4&quot;&gt; &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block btn-flat&quot;&gt;&#x767B;&#x5F55; &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;script th:src=&quot;@{/admin/plugins/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap 4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/bootstrap/js/bootstrap.bundle.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/admin/dist/js/plugins/particles.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/admin/dist/js/plugins/login-bg-particles.js}&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x8BE5;&#x9875;&#x9762;&#x65F6;&#x76F4;&#x63A5;&#x4FEE;&#x6539;&#x7684; AdminLTE3 &#x6A21;&#x677F;&#x7684;&#x767B;&#x5F55;&#x9875;&#xFF0C;&#x5C06;&#x6587;&#x6848;&#x4FEE;&#x6539;&#x4E3A;&#x4E2D;&#x6587;&#xFF0C;&#x5E76;&#x5FAE;&#x8C03;&#x4E86;&#x4E00;&#x4E0B;&#x9875;&#x9762;&#x5E03;&#x5C40;&#xFF0C;&#x540C;&#x65F6;&#x589E;&#x52A0;&#x4E86;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x8BBE;&#x8BA1;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x7528;&#x6237;&#x5728;&#x8F93;&#x5165;&#x8D26;&#x53F7;&#x3001;&#x5BC6;&#x7801;&#x548C;&#x9A8C;&#x8BC1;&#x7801;&#x540E;&#xFF0C;&#x70B9;&#x51FB;&#x767B;&#x5F55;&#x6309;&#x94AE;&#x540E;&#x5C06;&#x4F1A;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x767B;&#x5F55;&#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; admin/login&#xFF0C;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x4E3A; post&#xFF0C;&#x5728; form &#x8868;&#x5355;&#x4E2D;&#x5DF2;&#x7ECF;&#x5B9A;&#x4E49;&#x4E86;&#x767B;&#x9646;&#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#xFF1A; &lt;form th:action=&quot;@{/admin/login}&quot; method=&quot;post&quot;&gt;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x5728;&#x524D;&#x9762;&#x7684;&#x8BFE;&#x7A0B;&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x4E00;&#x76F4;&#x5728;&#x4F7F;&#x7528;&#x4E00;&#x5F20; user &#x8868;&#x6765;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6F14;&#x793A;&#xFF0C;&#x4E0D;&#x8FC7;&#x90A3;&#x53EA;&#x662F;&#x4E00;&#x5F20;&#x6D4B;&#x8BD5;&#x8868;&#x7528;&#x6765;&#x8BB2;&#x89E3;&#x529F;&#x80FD;&#x7684;&#xFF0C;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x6B63;&#x5F0F;&#x7684;&#x7528;&#x6237;&#x6A21;&#x5757;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x5982;&#x4E0B;&#xFF0C;&#x5305;&#x62EC;&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;&#x4E5F;&#x505A;&#x4E86;&#x66F4;&#x6539;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#x6211;&#x4EEC;&#x4F1A;&#x4E00;&#x76F4;&#x4F7F;&#x7528; my_blog_db &#x6570;&#x636E;&#x5E93;&#xFF1A; CREATE DATABASE /*!32312 IF NOT EXISTS*/`my_blog_db` /*!40100 DEFAULT CHARACTER SET utf8 */; USE `my_blog_db`; /*Table structure for table `tb_admin_user` */ DROP TABLE IF EXISTS `tb_admin_user`; CREATE TABLE `tb_admin_user` ( `admin_user_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;&#x7BA1;&#x7406;&#x5458;id&apos;, `login_user_name` varchar(50) NOT NULL COMMENT &apos;&#x7BA1;&#x7406;&#x5458;&#x767B;&#x9646;&#x540D;&#x79F0;&apos;, `login_password` varchar(50) NOT NULL COMMENT &apos;&#x7BA1;&#x7406;&#x5458;&#x767B;&#x9646;&#x5BC6;&#x7801;&apos;, `nick_name` varchar(50) NOT NULL COMMENT &apos;&#x7BA1;&#x7406;&#x5458;&#x663E;&#x793A;&#x6635;&#x79F0;&apos;, `locked` tinyint(4) DEFAULT &apos;0&apos; COMMENT &apos;&#x662F;&#x5426;&#x9501;&#x5B9A; 0&#x672A;&#x9501;&#x5B9A; 1&#x5DF2;&#x9501;&#x5B9A;&#x65E0;&#x6CD5;&#x767B;&#x9646;&apos;, PRIMARY KEY (`admin_user_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; /*Data for the table `tb_admin_user` */ insert into `tb_admin_user`(`admin_user_id`,`login_user_name`,`login_password`,`nick_name`,`locked`) values (1,&apos;admin&apos;,&apos;e10adc3949ba59abbe56e057f20f883e&apos;,&apos;&#x5341;&#x4E09;&apos;,0);&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x5E76;&#x5728;&#x8868;&#x4E2D;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x6761;&#x7528;&#x6237;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5728;&#x6F14;&#x793A;&#x767B;&#x9646;&#x529F;&#x80FD;&#x65F6;&#x4F1A;&#x7528;&#x5230;&#x3002; &#x540E;&#x7AEF;&#x529F;&#x80FD;&#x5B9E;&#x73B0;AdminMapper.xml(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; src/main/resources/mapper/AdminMapper.xml)&#x901A;&#x8FC7;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x8BB0;&#x5F55;&#xFF1A; &lt;select id=&quot;login&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot; /&gt; from tb_admin_user where login_name = #{userName,jdbcType=VARCHAR} AND login_password=#{password,jdbcType=VARCHAR} AND locked = 0 &lt;/select&gt;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl &#x5305;&#x4E0B;&#x7684; AdminUserServiceImpl.java) public Admin login(String userName, String password) { String passwordMd5 = MD5Util.MD5Encode(password, &quot;UTF-8&quot;); return adminMapper.login(userName, passwordMd5); }&#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#x9996;&#x5148;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#xFF0C;&#x53C2;&#x6570;&#x4E2D;&#x5305;&#x62EC;&#x767B;&#x9646;&#x4FE1;&#x606F;&#x548C;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x9A8C;&#x8BC1;&#x7801;&#x7684;&#x6BD4;&#x5BF9;&#x5927;&#x5BB6;&#x5E94;&#x8BE5;&#x90FD;&#x4E86;&#x89E3;&#xFF0C;&#x62FF;&#x53C2;&#x6570;&#x4E0E;&#x5B58;&#x50A8;&#x5728; session &#x4E2D;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#x503C;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x4E4B;&#x540E;&#x8C03;&#x7528; adminUserService &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#xFF0C;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x9A8C;&#x8BC1;&#x7ED3;&#x679C;&#x6765;&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x767B;&#x9646;&#x6210;&#x529F;&#x5219;&#x8DF3;&#x8F6C;&#x5230;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x9996;&#x9875;&#xFF0C;&#x5931;&#x8D25;&#x7684;&#x8BDD;&#x5219;&#x5E26;&#x4E0A;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x8FD4;&#x56DE;&#x5230;&#x767B;&#x5F55;&#x9875;&#xFF0C;&#x767B;&#x5F55;&#x9875;&#x4E2D;&#x4F1A;&#x663E;&#x793A;&#x51FA;&#x767B;&#x9646;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin &#x5305;&#x4E0B;&#x7684; AdminController.java) @PostMapping(value = &quot;/login&quot;) public String login(@RequestParam(&quot;userName&quot;) String userName, @RequestParam(&quot;password&quot;) String password, @RequestParam(&quot;verifyCode&quot;) String verifyCode, HttpSession session) { if (StringUtils.isEmpty(verifyCode)) { session.setAttribute(&quot;errorMsg&quot;, &quot;&#x9A8C;&#x8BC1;&#x7801;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;); return &quot;admin/login&quot;; } if (StringUtils.isEmpty(userName) || StringUtils.isEmpty(password)) { session.setAttribute(&quot;errorMsg&quot;, &quot;&#x7528;&#x6237;&#x540D;&#x6216;&#x5BC6;&#x7801;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;); return &quot;admin/login&quot;; } String kaptchaCode = session.getAttribute(&quot;verifyCode&quot;) + &quot;&quot;; if (StringUtils.isEmpty(kaptchaCode) || !verifyCode.equals(kaptchaCode)) { session.setAttribute(&quot;errorMsg&quot;, &quot;&#x9A8C;&#x8BC1;&#x7801;&#x9519;&#x8BEF;&quot;); return &quot;admin/login&quot;; } Admin adminUser = adminService.login(userName, password); if (adminUser != null) { session.setAttribute(&quot;loginUser&quot;, adminUser.getAdminNickName()); session.setAttribute(&quot;loginUserId&quot;, adminUser.getAdminId()); //session&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x8BBE;&#x7F6E;&#x4E3A;7200&#x79D2; &#x5373;&#x4E24;&#x5C0F;&#x65F6; session.setMaxInactiveInterval(60 * 60 * 2); return &quot;redirect:/admin/index&quot;; } else { session.setAttribute(&quot;errorMsg&quot;, &quot;&#x767B;&#x9646;&#x5931;&#x8D25;&quot;); return &quot;admin/login&quot;; } }&#x767B;&#x9646;&#x529F;&#x80FD;&#x6F14;&#x793A;&#x542F;&#x52A8; MySQL &#x5E76;&#x65B0;&#x589E; tb_admin_user &#x8868;&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x8FDB;&#x5165;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x9996;&#x5148;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB; File -&gt; Open New Terminal &#x5373;&#x53EF;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; sudo service mysql start&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x6743;&#x9650;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x5728;&#x547D;&#x4EE4;&#x524D;&#x589E;&#x52A0; sudo &#x53D6;&#x5F97; root &#x6743;&#x9650;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4E4B;&#x540E;&#x7B49;&#x5F85; MySQL &#x6B63;&#x5E38;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002; &#x4E4B;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x767B;&#x9646; MySQL &#x6570;&#x636E;&#x5E93;&#xFF1A; sudo mysql -u root &#x56E0;&#x4E3A;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#x4E2D; MySQL &#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x5E76;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x4EE5;&#x4E0A;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x767B;&#x9646;&#xFF0C;&#x6700;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x6267;&#x884C;&#x524D;&#x6587;&#x7ED9;&#x51FA;&#x7684;&#x5EFA;&#x8868;&#x8BED;&#x53E5; SQL &#x5373;&#x53EF;&#x3002; &#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E2D;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x6E90;&#x7801;&#x5BF9;&#x6BD4;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x3002; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog.zip unzip My-Blog.zip&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x5DF2;&#x89E3;&#x538B;&#x7684; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.com/admin/login &#x5373;&#x53EF;&#x8FDB;&#x5165;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x4E86;&#xFF0C;&#x6F14;&#x793A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x8F93;&#x5165;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x4EE5;&#x53CA;&#x6B63;&#x786E;&#x7684;&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x4E4B;&#x540E;&#x70B9;&#x51FB;&#x767B;&#x9646;&#x6309;&#x94AE;&#x5C31;&#x53EF;&#x4EE5;&#x5B8C;&#x6210;&#x767B;&#x9646;&#x6D41;&#x7A0B;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x9664;&#x4E86;&#x6309;&#x7167;&#x4EE5;&#x4E0A;&#x6B65;&#x9AA4;&#x8FDB;&#x884C;&#x5B9E;&#x9A8C;&#x5916;&#xFF0C;&#x6709;&#x51E0;&#x70B9;&#x4E5F;&#x9700;&#x8981;&#x683C;&#x5916;&#x6CE8;&#x610F;&#xFF1A; &#x4E0B;&#x8F7D;&#x4EE3;&#x7801;&#x5E76;&#x89E3;&#x538B;&#xFF0C;&#x68C0;&#x67E5;&#x4EE3;&#x7801;&#x662F;&#x5426;&#x6B63;&#x786E; &#x542F;&#x52A8; MySQL &#x6570;&#x636E;&#x5E93;&#x5E76;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5305;&#x542B; tb_admin_user &#x8868; &#x7AEF;&#x53E3;&#x53F7;&#x548C;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x6B63;&#x786E; &#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x5728;&#x672C;&#x5730;&#x548C;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x90FD;&#x80FD;&#x591F;&#x987A;&#x5229;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x548C;&#x5B9E;&#x8DF5;&#xFF0C;&#x540E;&#x7EED;&#x8BD5;&#x9A8C;&#x4E2D;&#x6211;&#x4EEC;&#x4F1A;&#x5BF9;&#x6574;&#x4E2A;&#x767B;&#x9646;&#x6D41;&#x7A0B;&#x548C;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x6765;&#x5B8C;&#x5584;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-14-lan-jie-qi.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x524D;&#x6587;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;&#x4E86;&#x767B;&#x9646;&#x529F;&#x80FD;&#xFF0C;&#x672C;&#x6587;&#x5C06;&#x4F1A;&#x5BF9;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x5B8C;&#x5584;&#xFF0C;&#x5BF9;&#x540E;&#x53F0;&#x8D44;&#x6E90;&#x8BF7;&#x6C42;&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#xFF0C;&#x5373;&#x8BF7;&#x6C42;&#x62E6;&#x622A;&#x9A8C;&#x8BC1;&#xFF0C;&#x540C;&#x65F6;&#x5B8C;&#x6210;&#x7BA1;&#x7406;&#x5458;&#x4FE1;&#x606F;&#x4FEE;&#x6539;&#x3001;&#x5BC6;&#x7801;&#x4FEE;&#x6539;&#x3001;&#x767B;&#x9646;&#x9000;&#x51FA;&#x529F;&#x80FD;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; Spring Boot &#x4E2D;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#x5668; &#x767B;&#x5F55;&#x529F;&#x80FD;&#x5B8C;&#x5584; &#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x3001;&#x9000;&#x51FA;&#x529F;&#x80FD; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x767B;&#x9646;&#x62E6;&#x622A;&#x5668;&#x5728;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x4E86;&#x7BA1;&#x7406;&#x5458;&#x7684;&#x767B;&#x9646;&#x529F;&#x80FD;&#xFF0C;&#x8BE5;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF0C;&#x4F46;&#x662F;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x7684;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x5E76;&#x6CA1;&#x6709;&#x5B8C;&#x5584;&#xFF0C;&#x8BE5;&#x6D41;&#x7A0B;&#x4E2D;&#x5E94;&#x8BE5;&#x5305;&#x62EC;&#x767B;&#x9646;&#x529F;&#x80FD;&#x3001;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x3001;&#x8BBF;&#x95EE;&#x62E6;&#x622A;&#x3001;&#x9000;&#x51FA;&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x4EC5;&#x4EC5;&#x5B8C;&#x6210;&#x4E86;&#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x56E0;&#x6B64;&#x672C;&#x5B9E;&#x9A8C;&#x5C06;&#x4F1A;&#x5BF9;&#x8BE5;&#x6D41;&#x7A0B;&#x8FDB;&#x884C;&#x5B8C;&#x5584;&#xFF0C;&#x5C06;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x529F;&#x80FD;&#x70B9;&#x5B8C;&#x6210;&#x3002; &#x4E3E;&#x4E2A;&#x7B80;&#x5355;&#x70B9;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x767B;&#x9646;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x540E;&#x53F0;&#x9875;&#x9762;&#xFF08;&#x6BD4;&#x5982;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x9996;&#x9875;&#xFF0C;&#x8DEF;&#x5F84;&#x4E3A; /admin/index&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x8FD0;&#x884C;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x7684;&#x4EE3;&#x7801;&#x65F6;&#xFF0C;&#x5373;&#x4F7F;&#x6211;&#x4EEC;&#x4E0D;&#x8FDB;&#x884C;&#x767B;&#x9646;&#x64CD;&#x4F5C;&#x4E5F;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x8BE5;&#x9875;&#x9762;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5B9E;&#x9A8C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x6211;&#x4EEC;&#x5E76;&#x6CA1;&#x6709;&#x5728;&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x65F6;&#x8FDB;&#x884C;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x548C;&#x8BBF;&#x95EE;&#x62E6;&#x622A;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x628A;&#x8BBF;&#x95EE;&#x62E6;&#x622A;&#x7684;&#x529F;&#x80FD;&#x7ED9;&#x5B8C;&#x5584;&#x4E86;&#xFF0C;&#x5927;&#x5BB6;&#x4E5F;&#x90FD;&#x77E5;&#x9053;&#xFF0C;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x7684;&#x505A;&#x6CD5;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#x5427;&#xFF01; &#x62E6;&#x622A;&#x5668;&#x4ECB;&#x7ECD;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A; Interceptor &#x975E;&#x5E38;&#x7B80;&#x5355;&#x65B9;&#x5F0F;&#x4E5F;&#x6709;&#x51E0;&#x79CD;&#xFF0C;&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x5217;&#x4E3E;&#x4E24;&#x79CD;&#xFF1A; &#x65B0;&#x5EFA;&#x7C7B;&#x8981;&#x5B9E;&#x73B0; Spring &#x7684; HandlerInterceptor &#x63A5;&#x53E3; &#x65B0;&#x5EFA;&#x7C7B;&#x7EE7;&#x627F;&#x5B9E;&#x73B0;&#x4E86; HandlerInterceptor &#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4F8B;&#x5982;&#x5DF2;&#x7ECF;&#x63D0;&#x4F9B;&#x7684;&#x5B9E;&#x73B0;&#x4E86; HandlerInterceptor &#x63A5;&#x53E3;&#x7684;&#x62BD;&#x8C61;&#x7C7B; HandlerInterceptorAdapter HandlerInterceptor &#x65B9;&#x6CD5;&#x4ECB;&#x7ECD;&#xFF1A; boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception; void postHandle( HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception; void afterCompletion( HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception; preHandle&#xFF1A;&#x5728;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x4E4B;&#x524D;&#x88AB;&#x8C03;&#x7528;&#x3002;&#x9884;&#x5904;&#x7406;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x3001;&#x5B89;&#x5168;&#x63A7;&#x5236;&#x3001;&#x6743;&#x9650;&#x6821;&#x9A8C;&#x7B49;&#x5904;&#x7406;&#xFF1B; postHandle&#xFF1A;&#x5728;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x5668;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x751F;&#x6210;&#x89C6;&#x56FE;&#x4E4B;&#x524D;&#x6267;&#x884C;&#x3002; afterCompletion&#xFF1A;&#x5728; DispatcherServlet &#x5B8C;&#x5168;&#x5904;&#x7406;&#x5B8C;&#x8BF7;&#x6C42;&#x540E;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x6E05;&#x7406;&#x8D44;&#x6E90;&#x7B49;&#xFF0C;&#x8FD4;&#x56DE;&#x5904;&#x7406;&#xFF08;&#x5DF2;&#x7ECF;&#x6E32;&#x67D3;&#x4E86;&#x9875;&#x9762;&#xFF09;&#xFF1B; &#x5B9A;&#x4E49;&#x62E6;&#x622A;&#x5668;&#x65B0;&#x5EFA; interceptor &#x5305;&#xFF0C;&#x5728;&#x5305;&#x4E2D;&#x65B0;&#x5EFA; AdminLoginInterceptor &#x7C7B;&#xFF0C;&#x8BE5;&#x7C7B;&#x9700;&#x8981;&#x5B9E;&#x73B0; HandlerInterceptor &#x63A5;&#x53E3;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.site.blog.my.core.interceptor; import org.springframework.stereotype.Component; import org.springframework.web.servlet.HandlerInterceptor; import org.springframework.web.servlet.ModelAndView; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; /** * &#x540E;&#x53F0;&#x7CFB;&#x7EDF;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x62E6;&#x622A;&#x5668; */ @Component public class AdminLoginInterceptor implements HandlerInterceptor { @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object o) throws Exception { String uri = request.getRequestURI(); if (uri.startsWith(&quot;/admin&quot;) &amp;&amp; null == request.getSession().getAttribute(&quot;loginUser&quot;)) { request.getSession().setAttribute(&quot;errorMsg&quot;, &quot;&#x8BF7;&#x767B;&#x9646;&quot;); response.sendRedirect(request.getContextPath() + &quot;/admin/login&quot;); return false; } else { request.getSession().removeAttribute(&quot;errorMsg&quot;); return true; } } @Override public void postHandle(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, ModelAndView modelAndView) throws Exception { } @Override public void afterCompletion(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, Object o, Exception e) throws Exception { } }&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5B8C;&#x5584; preHandle &#x65B9;&#x6CD5;&#x5373;&#x53EF;&#xFF0C;&#x540C;&#x65F6;&#x5728;&#x7C7B;&#x58F0;&#x660E;&#x4E0A;&#x65B9;&#x6DFB;&#x52A0; @Component &#x6CE8;&#x89E3;&#x4F7F;&#x5176;&#x6CE8;&#x518C;&#x5230; IOC &#x5BB9;&#x5668;&#x4E2D;&#x3002;&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5728;&#x8BF7;&#x6C42;&#x7684;&#x9884;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#x4E2D;&#x8BFB;&#x53D6;&#x5F53;&#x524D; session &#x4E2D;&#x662F;&#x5426;&#x5B58;&#x5728; loginUser &#x5BF9;&#x8C61;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE; false &#x5E76;&#x8DF3;&#x8F6C;&#x81F3;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE; true&#xFF0C;&#x7EE7;&#x7EED;&#x505A;&#x540E;&#x7EED;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x3002; &#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x5728;&#x5B9E;&#x73B0;&#x62E6;&#x622A;&#x5668;&#x7684;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5BF9;&#x8BE5;&#x62E6;&#x622A;&#x5668;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x4EE5;&#x4F7F;&#x5176;&#x751F;&#x6548;&#xFF0C;&#x5728; Spring Boot 1.x &#x7248;&#x672C;&#x4E2D;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x4F1A;&#x7EE7;&#x627F; WebMvcConfigurerAdapter &#x7C7B;&#xFF0C;&#x4F46;&#x662F;&#x5728; Spring Boot 2.x &#x7248;&#x672C;&#x4E2D;&#xFF0C;WebMvcConfigurerAdapter &#x88AB;&#x5F03;&#x7528;&#xFF0C;&#x867D;&#x7136;&#x7EE7;&#x627F; WebMvcConfigurerAdapter &#x8FD9;&#x4E2A;&#x7C7B;&#x867D;&#x7136;&#x6709;&#x6B64;&#x4FBF;&#x5229;&#xFF0C;&#x4F46;&#x5728; Spring 5.0 &#x91CC;&#x9762;&#x5DF2;&#x7ECF;&#x88AB;&#x5F03;&#x7528;&#x4E86;&#xFF0C;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E5F;&#x8BF4;&#x4E86;&#xFF0C;WebMvcConfigurer &#x63A5;&#x53E3;&#x73B0;&#x5728;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#x9ED8;&#x8BA4;&#x7684;&#x7A7A;&#x767D;&#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x5728; Spring Boot 2.x &#x7248;&#x672C;&#x4E0B;&#x66F4;&#x597D;&#x7684;&#x505A;&#x6CD5;&#x8FD8;&#x662F;&#x5B9E;&#x73B0; WebMvcConfigurer &#x63A5;&#x53E3;&#x3002; &#x65B0;&#x5EFA; config &#x5305;&#xFF0C;&#x4E4B;&#x540E;&#x65B0;&#x5EFA; MyBlogWebMvcConfigurer &#x7C7B;&#x5E76;&#x5B9E;&#x73B0; WebMvcConfigurer &#x63A5;&#x53E3;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.site.blog.my.core.config; import com.site.blog.my.core.interceptor.AdminLoginInterceptor; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.context.annotation.Configuration; import org.springframework.web.servlet.config.annotation.InterceptorRegistry; import org.springframework.web.servlet.config.annotation.WebMvcConfigurer; @Configuration public class MyBlogWebMvcConfigurer implements WebMvcConfigurer { @Autowired private AdminLoginInterceptor adminLoginInterceptor; public void addInterceptors(InterceptorRegistry registry) { // &#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x62E6;&#x622A;&#x4EE5;/admin&#x4E3A;&#x524D;&#x7F00;&#x7684;url&#x8DEF;&#x5F84; registry.addInterceptor(adminLoginInterceptor).addPathPatterns(&quot;/admin/**&quot;).excludePathPatterns(&quot;/admin/login&quot;).excludePathPatterns(&quot;/admin/dist/**&quot;).excludePathPatterns(&quot;/admin/plugins/**&quot;); } }&#x5728;&#x8BE5;&#x914D;&#x7F6E;&#x7C7B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x6DFB;&#x52A0;&#x521A;&#x521A;&#x65B0;&#x589E;&#x7684; AdminLoginInterceptor &#x767B;&#x5F55;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x5E76;&#x5BF9;&#x8BE5;&#x62E6;&#x622A;&#x5668;&#x6240;&#x62E6;&#x622A;&#x7684;&#x8DEF;&#x5F84;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x7531;&#x4E8E;&#x540E;&#x7AEF;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x90FD;&#x4EE5; /admin &#x5F00;&#x5934;&#xFF0C;&#x6240;&#x4EE5;&#x62E6;&#x622A;&#x7684;&#x8DEF;&#x5F84;&#x4E3A; /admin/** &#xFF0C;&#x4F46;&#x662F;&#x767B;&#x9646;&#x9875;&#x9762;&#x4EE5;&#x53CA;&#x90E8;&#x5206;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x4E5F;&#x662F;&#x4EE5; /admin &#x5F00;&#x5934;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5C06;&#x8FD9;&#x4E9B;&#x8DEF;&#x5F84;&#x6392;&#x9664;&#xFF0C;&#x914D;&#x7F6E;&#x5982;&#x4E0A;&#x3002; &#x6B64;&#x65F6;&#xFF0C;&#x91CD;&#x542F;&#x9879;&#x76EE;&#xFF0C;&#x5E76;&#x4E14;&#x518D;&#x53BB;&#x8BBF;&#x95EE; index &#x9875;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x767B;&#x5F55;&#x7684;&#x8BDD;&#x5C31;&#x4F1A;&#x8DF3;&#x56DE;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#x4E86;&#xFF0C;&#x62E6;&#x622A;&#x5668;&#x751F;&#x6548;&#x4E86;&#x3002; &#x7528;&#x6237;&#x6A21;&#x5757;&#x5B8C;&#x5584;&#x7528;&#x6237;&#x6A21;&#x5757;&#x4E0D;&#x53EA;&#x662F;&#x767B;&#x5F55;&#x529F;&#x80FD;&#xFF0C;&#x8FD8;&#x5305;&#x62EC;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x4FEE;&#x6539;&#x3001;&#x5B89;&#x5168;&#x9000;&#x51FA;&#x7684;&#x529F;&#x80FD;&#xFF1A; &#x65B0;&#x5EFA; profile.html&#xFF0C;&#x524D;&#x7AEF;&#x6A21;&#x677F;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(resources/templates/admin/profile.html) &lt;!DOCTYPE html&gt; &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;header th:replace=&quot;admin/header::header-fragment&quot;&gt;&lt;/header&gt; &lt;body class=&quot;hold-transition sidebar-mini&quot;&gt; &lt;div class=&quot;wrapper&quot;&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x9762;&#x5934;header-fragment --&gt; &lt;div th:replace=&quot;admin/header::header-nav&quot;&gt;&lt;/div&gt; &lt;!-- &#x5F15;&#x5165;&#x5DE5;&#x5177;&#x680F;sidebar-fragment --&gt; &lt;aside th:fragment=&quot;sidebar-fragment(path)&quot; class=&quot;main-sidebar sidebar-dark-primary elevation-4&quot;&gt; &lt;!-- Brand Logo --&gt; &lt;a th:href=&quot;@{/admin/index}&quot; class=&quot;brand-link&quot;&gt; &lt;img th:src=&quot;@{/admin/dist/img/logo.png}&quot; alt=&quot;ssm-cluster Logo&quot; class=&quot;brand-image img-circle elevation-3&quot; style=&quot;opacity: .8&quot;&gt; &lt;span class=&quot;brand-text font-weight-light&quot;&gt;my blog&lt;/span&gt; &lt;/a&gt; &lt;!-- Sidebar --&gt; &lt;div class=&quot;sidebar&quot;&gt; &lt;!-- Sidebar user panel (optional) --&gt; &lt;div class=&quot;user-panel mt-3 pb-3 mb-3 d-flex&quot;&gt; &lt;div class=&quot;image&quot;&gt; &lt;img th:src=&quot;@{/admin/dist/img/avatar5.png}&quot; class=&quot;img-circle elevation-2&quot; alt=&quot;User Image&quot;&gt; &lt;/div&gt; &lt;div class=&quot;info&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;d-block&quot; th:text=&quot;${session.loginUser}&quot;&gt;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- Sidebar Menu --&gt; &lt;nav class=&quot;mt-2&quot;&gt; &lt;ul class=&quot;nav nav-pills nav-sidebar flex-column&quot; data-widget=&quot;treeview&quot; role=&quot;menu&quot; data-accordion=&quot;false&quot;&gt; &lt;!-- Add icons to the links using the .nav-icon class with font-awesome or any other icon font library --&gt; &lt;li class=&quot;nav-header&quot;&gt;&#x9996;&#x9875;&lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/index}&quot; class=&quot;nav-link&quot;&gt; &lt;i class=&quot;nav-icon fa fa-dashboard&quot;&gt;&lt;/i&gt; &lt;p&gt; &#x9996;&#x9875; &lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-header&quot;&gt;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/profile}&quot; class=&quot;nav-link active&quot;&gt; &lt;i class=&quot;fa fa-user-secret nav-icon&quot;&gt;&lt;/i&gt; &lt;p&gt;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/logout}&quot; class=&quot;nav-link&quot;&gt; &lt;i class=&quot;fa fa-sign-out nav-icon&quot;&gt;&lt;/i&gt; &lt;p&gt;&#x5B89;&#x5168;&#x9000;&#x51FA;&lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/nav&gt; &lt;!-- /.sidebar-menu --&gt; &lt;/div&gt; &lt;!-- /.sidebar --&gt; &lt;/aside&gt; &lt;!-- Content Wrapper. Contains page content --&gt; &lt;div class=&quot;content-wrapper&quot;&gt; &lt;!-- Content Header (Page header) --&gt; &lt;div class=&quot;content-header&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/div&gt; &lt;!-- Main content --&gt; &lt;section class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-6&quot;&gt; &lt;div class=&quot;card card-primary card-outline&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h3 class=&quot;card-title&quot;&gt;&#x57FA;&#x672C;&#x4FE1;&#x606F;&lt;/h3&gt; &lt;/div&gt; &lt;!-- /.card-body --&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;form role=&quot;form&quot; id=&quot;userNameForm&quot;&gt; &lt;div class=&quot;form-group col-sm-8&quot;&gt; &lt;div class=&quot;alert alert-danger&quot; id=&quot;updateUserName-info&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- text input --&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label&gt;&#x767B;&#x9646;&#x540D;&#x79F0;&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;loginUserName&quot; name=&quot;loginUserName&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x767B;&#x9646;&#x540D;&#x79F0;&quot; required=&quot;true&quot; th:value=&quot;${loginUserName}&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label&gt;&#x6635;&#x79F0;&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;nickName&quot; name=&quot;nickName&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x6635;&#x79F0;&quot; required=&quot;true&quot; th:value=&quot;${nickName}&quot;&gt; &lt;/div&gt; &lt;div class=&quot;card-footer&quot;&gt; &lt;button type=&quot;button&quot; id=&quot;updateUserNameButton&quot; onsubmit=&quot;return false;&quot; class=&quot;btn btn-danger float-right&quot;&gt;&#x786E;&#x8BA4;&#x4FEE;&#x6539; &lt;/button&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt;&lt;!-- /.card-body --&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6&quot;&gt; &lt;div class=&quot;card card-primary card-outline&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h3 class=&quot;card-title&quot;&gt;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&lt;/h3&gt; &lt;/div&gt; &lt;!-- /.card-body --&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;form role=&quot;form&quot; id=&quot;userPasswordForm&quot;&gt; &lt;div class=&quot;form-group col-sm-8&quot;&gt; &lt;div class=&quot;alert alert-danger updatePassword-info&quot; id=&quot;updatePassword-info&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- input states --&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label class=&quot;control-label&quot;&gt;&lt;i class=&quot;fa fa-key&quot;&gt;&lt;/i&gt; &#x539F;&#x5BC6;&#x7801;&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;originalPassword&quot; name=&quot;originalPassword&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x539F;&#x5BC6;&#x7801;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label class=&quot;control-label&quot;&gt;&lt;i class=&quot;fa fa-key&quot;&gt;&lt;/i&gt; &#x65B0;&#x5BC6;&#x7801;&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;newPassword&quot; name=&quot;newPassword&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x65B0;&#x5BC6;&#x7801;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;card-footer&quot;&gt; &lt;button type=&quot;button&quot; id=&quot;updatePasswordButton&quot; onsubmit=&quot;return false;&quot; class=&quot;btn btn-danger float-right&quot;&gt;&#x786E;&#x8BA4;&#x4FEE;&#x6539; &lt;/button&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt;&lt;!-- /.card-body --&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/section&gt; &lt;!-- /.content --&gt; &lt;/div&gt; &lt;!-- /.content-wrapper --&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x811A;footer-fragment --&gt; &lt;div th:replace=&quot;admin/footer::footer-fragment&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- jQuery --&gt; &lt;script th:src=&quot;@{/admin/plugins/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- jQuery UI 1.11.4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/jQueryUI/jquery-ui.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap 4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/bootstrap/js/bootstrap.bundle.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- AdminLTE App --&gt; &lt;script th:src=&quot;@{/admin/dist/js/adminlte.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- public.js --&gt; &lt;script th:src=&quot;@{/admin/dist/js/public.js}&quot;&gt;&lt;/script&gt; &lt;!-- profile --&gt; &lt;script th:src=&quot;@{/admin/dist/js/profile.js}&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x540E;&#x7AEF;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#x4E5F;&#x662F;&#x5728; AdminController &#x7C7B;&#x4E2D;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin &#x5305;&#x4E0B;) @GetMapping(&quot;/profile&quot;) public String profile(HttpServletRequest request) { Integer loginUserId = (int) request.getSession().getAttribute(&quot;loginUserId&quot;); AdminUser adminUser = adminUserService.getUserDetailById(loginUserId); if (adminUser == null) { return &quot;admin/login&quot;; } request.setAttribute(&quot;path&quot;, &quot;profile&quot;); request.setAttribute(&quot;loginUserName&quot;, adminUser.getLoginUserName()); request.setAttribute(&quot;nickName&quot;, adminUser.getNickName()); return &quot;admin/profile&quot;; } @PostMapping(&quot;/profile/password&quot;) @ResponseBody public String passwordUpdate(HttpServletRequest request, @RequestParam(&quot;originalPassword&quot;) String originalPassword, @RequestParam(&quot;newPassword&quot;) String newPassword) { if (StringUtils.isEmpty(originalPassword) || StringUtils.isEmpty(newPassword)) { return &quot;&#x53C2;&#x6570;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;; } Integer loginUserId = (int) request.getSession().getAttribute(&quot;loginUserId&quot;); if (adminUserService.updatePassword(loginUserId, originalPassword, newPassword)) { //&#x4FEE;&#x6539;&#x6210;&#x529F;&#x540E;&#x6E05;&#x7A7A;session&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x524D;&#x7AEF;&#x63A7;&#x5236;&#x8DF3;&#x8F6C;&#x81F3;&#x767B;&#x5F55;&#x9875; request.getSession().removeAttribute(&quot;loginUserId&quot;); request.getSession().removeAttribute(&quot;loginUser&quot;); request.getSession().removeAttribute(&quot;errorMsg&quot;); return &quot;success&quot;; } else { return &quot;&#x4FEE;&#x6539;&#x5931;&#x8D25;&quot;; } } @PostMapping(&quot;/profile/name&quot;) @ResponseBody public String nameUpdate(HttpServletRequest request, @RequestParam(&quot;loginUserName&quot;) String loginUserName, @RequestParam(&quot;nickName&quot;) String nickName) { if (StringUtils.isEmpty(loginUserName) || StringUtils.isEmpty(nickName)) { return &quot;&#x53C2;&#x6570;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;; } Integer loginUserId = (int) request.getSession().getAttribute(&quot;loginUserId&quot;); if (adminUserService.updateName(loginUserId, loginUserName, nickName)) { return &quot;success&quot;; } else { return &quot;&#x4FEE;&#x6539;&#x5931;&#x8D25;&quot;; } } @GetMapping(&quot;/logout&quot;) public String logout(HttpServletRequest request) { request.getSession().removeAttribute(&quot;loginUserId&quot;); request.getSession().removeAttribute(&quot;loginUser&quot;); request.getSession().removeAttribute(&quot;errorMsg&quot;); return &quot;admin/login&quot;; }&#x6E90;&#x7801;&#x5DF2;&#x7ECF;&#x63D0;&#x4F9B;&#x7ED9;&#x5927;&#x5BB6;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x9645;&#x7684;&#x64CD;&#x4F5C;&#x4E00;&#x4E0B;&#x7528;&#x6237;&#x6A21;&#x5757;&#x7684;&#x767B;&#x9646;&#x767B;&#x51FA;&#x3001;&#x4FE1;&#x606F;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x3002; &#x5B9E;&#x9A8C;&#x697C; web ide &#x4E2D;&#x64CD;&#x4F5C; Spring Boot &#x9879;&#x76EE;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x6E90;&#x7801;&#x5BF9;&#x6BD4;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x3002; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-18.zip unzip My-Blog-18.zip&#x542F;&#x52A8; MySQL&#x4E0E;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x6240;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x73AF;&#x5883;&#x4E00;&#x6837;&#xFF0C;&#x542F;&#x52A8; MySQL &#x6570;&#x636E;&#x5E93;&#x5E76;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5305;&#x542B; my_blog_db &#x6570;&#x636E;&#x5E93;&#x4EE5;&#x53CA; tb_admin_user &#x8868;&#xFF0C;&#x4E4B;&#x540E;&#x542F;&#x52A8; mysql &#x670D;&#x52A1;&#x5373;&#x53EF;&#x3002; &#x542F;&#x52A8;&#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x5DF2;&#x89E3;&#x538B;&#x7684; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/admin/login &#x5373;&#x53EF;&#x8FDB;&#x5165;&#x5230;&#x767B;&#x5F55;&#x9875;&#x9762;&#xFF0C;&#x767B;&#x9646;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x4E86;&#xFF0C;&#x6F14;&#x793A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x8FD9;&#x91CC;&#x6F14;&#x793A;&#x4E86;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x7684;&#x4FEE;&#x6539;&#x3001;&#x767B;&#x5F55;&#x548C;&#x9000;&#x51FA;&#x767B;&#x5F55;&#x7684;&#x529F;&#x80FD;&#x4EE5;&#x53CA;&#x57FA;&#x672C;&#x7684;&#x9875;&#x9762;&#x5C55;&#x793A;&#xFF0C;&#x5176;&#x4F59;&#x7684;&#x529F;&#x80FD;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x9A8C;&#x8BC1;&#x3002;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x7528;&#x6237;&#x7684;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x6D41;&#x7A0B;&#x4E2D;&#x5E94;&#x8BE5;&#x5305;&#x62EC;&#x767B;&#x9646;&#x529F;&#x80FD;&#x3001;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#x3001;&#x8BBF;&#x95EE;&#x62E6;&#x622A;&#x3001;&#x9000;&#x51FA;&#x529F;&#x80FD;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x5DF2;&#x7ECF;&#x5C06;&#x6D41;&#x7A0B;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x529F;&#x80FD;&#x90FD;&#x5B8C;&#x5584;&#x4E86;&#xFF0C;&#x5173;&#x4E8E;&#x7BA1;&#x7406;&#x5458;&#x6A21;&#x5757;&#x7684;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x6211;&#x4EEC;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C06;&#x4F1A;&#x662F;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x4E2D;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#x7684;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x3002; &#x672C;&#x5B9E;&#x9A8C;&#x4E2D;&#x6709;&#x51E0;&#x70B9;&#x4E5F;&#x9700;&#x8981;&#x683C;&#x5916;&#x6CE8;&#x610F;&#xFF1A; &#x4E0B;&#x8F7D;&#x4EE3;&#x7801;&#x5E76;&#x89E3;&#x538B;&#xFF0C;&#x68C0;&#x67E5;&#x4EE3;&#x7801;&#x662F;&#x5426;&#x6B63;&#x786E; &#x542F;&#x52A8; MySQL &#x6570;&#x636E;&#x5E93;&#x5E76;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5305;&#x542B; tb_admin_user &#x8868; &#x7AEF;&#x53E3;&#x53F7;&#x548C;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x6B63;&#x786E; &#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x5728;&#x672C;&#x5730;&#x548C;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x90FD;&#x80FD;&#x591F;&#x987A;&#x5229;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x548C;&#x5B9E;&#x8DF5;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-15-fen-lei.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x524D;&#x6587;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86;&#x7528;&#x6237;&#x7684;&#x767B;&#x9646;&#x53CA;&#x6743;&#x9650;&#x9A8C;&#x8BC1;&#x6A21;&#x5757;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C06;&#x4F1A;&#x7EE7;&#x7EED;&#x5B8C;&#x5584;&#x540E;&#x53F0;&#x529F;&#x80FD;&#xFF0C;&#x5F00;&#x53D1;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x7684;&#x6587;&#x7AE0;&#x76F8;&#x5173;&#x6A21;&#x5757;&#xFF0C;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5C06;&#x4F1A;&#x5BF9;&#x535A;&#x5BA2;&#x7684;&#x5206;&#x7C7B;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x4ECB;&#x7ECD;&#x548C;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x53CA;&#x5B8C;&#x5584;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x5206;&#x7C7B;&#x6A21;&#x5757;&#x4ECB;&#x7ECD; &#x5206;&#x7C7B;&#x6A21;&#x5757;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA;&#x63A5;&#x53E3;&#x5B9E;&#x73B0; &#x5206;&#x7C7B;&#x6A21;&#x5757;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53CA;&#x7F16;&#x7801; &#x5206;&#x7C7B;&#x529F;&#x80FD;&#x6D4B;&#x8BD5; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ 1.4 &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-19.zip unzip My-Blog-19.zip cd My-Blog&#x5206;&#x7C7B;&#x6A21;&#x5757;&#x7B80;&#x4ECB;&#x5728;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x5206;&#x7C7B;&#x6A21;&#x5757;&#x7684;&#x8BBE;&#x8BA1;&#x662F;&#x4E0D;&#x53EF;&#x7F3A;&#x5C11;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x5404;&#x5927;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#x4E2D;&#x90FD;&#x80FD;&#x591F;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x8BBE;&#x8BA1;&#xFF0C;&#x5728;&#x6D4F;&#x89C8;&#x6587;&#x7AE0;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x6311;&#x9009;&#x51FA;&#x6211;&#x4EEC;&#x611F;&#x5174;&#x8DA3;&#x7C7B;&#x522B;&#x4E2D;&#x7684;&#x6587;&#x7AE0;&#x8FDB;&#x884C;&#x9605;&#x8BFB;&#xFF0C;&#x6BD4;&#x5982;&#x770B;&#x4E86;&#x4E00;&#x7BC7;&#x67B6;&#x6784;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x89C9;&#x5F97;&#x4E0D;&#x9519;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x60F3;&#x63A5;&#x7740;&#x53BB;&#x770B;&#x8FD9;&#x4E2A;&#x7C7B;&#x522B;&#x4E0B;&#x7684;&#x5176;&#x4ED6;&#x6587;&#x7AE0;&#xFF0C;&#x6216;&#x8005;&#x4F60;&#x504F;&#x7231;&#x524D;&#x7AEF;&#x7C7B;&#x522B;&#x4E0B;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x90A3;&#x5C31;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x6027;&#x7684;&#x6D4F;&#x89C8;&#x6240;&#x6709;&#x524D;&#x7AEF;&#x7C7B;&#x522B;&#x4E0B;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x535A;&#x6587;&#x8FDB;&#x884C;&#x5F52;&#x7C7B;&#x662F;&#x5341;&#x5206;&#x5FC5;&#x8981;&#x7684;&#x3002; &#x5206;&#x7C7B;&#x662F;&#x901A;&#x8FC7;&#x6BD4;&#x8F83;&#x4E8B;&#x7269;&#x4E4B;&#x95F4;&#x7684;&#x76F8;&#x4F3C;&#x6027;&#xFF0C;&#x628A;&#x5177;&#x6709;&#x67D0;&#x4E9B;&#x5171;&#x540C;&#x70B9;&#x6216;&#x76F8;&#x4F3C;&#x7279;&#x5F81;&#x7684;&#x4E8B;&#x7269;&#x5F52;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x4E0D;&#x786E;&#x5B9A;&#x96C6;&#x5408;&#x7684;&#x903B;&#x8F91;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x5BF9;&#x5E94;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BF4;&#x5206;&#x7C7B;&#x522B;&#x7684;&#x4F5C;&#x7528;&#x662F;&#x4F7F;&#x4E00;&#x4E2A;&#x5927;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x6761;&#x7406;&#x6E05;&#x695A;&#xFF0C;&#x5C42;&#x6B21;&#x5206;&#x660E;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x7684;&#x8BB2;&#x89E3;&#x3002; &#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA; Mapper &#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x5728;&#x8FDB;&#x884C;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x548C;&#x5177;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x8868;&#x7ED3;&#x6784;&#x786E;&#x5B9A;&#x4E0B;&#x6765;&#xFF0C;&#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x90FD;&#x4F1A;&#x88AB;&#x5F52;&#x7C7B;&#x5230;&#x4E00;&#x4E2A;&#x7C7B;&#x522B;&#x4E0B;&#xFF0C;&#x4E00;&#x4E2A;&#x7C7B;&#x522B;&#x4E0B;&#x4F1A;&#x6709;&#x591A;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x5206;&#x7C7B;&#x5B9E;&#x4F53;&#x4E0E;&#x6587;&#x7AE0;&#x5B9E;&#x4F53;&#x7684;&#x5173;&#x7CFB;&#x662F;&#x4E00;&#x5BF9;&#x591A;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x65F6;&#xFF0C;&#x5728;&#x6587;&#x7AE0;&#x8868;&#x4E2D;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x5206;&#x7C7B;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x5373;&#x53EF;&#xFF0C;&#x5206;&#x7C7B;&#x8868;&#x53EA;&#x9700;&#x8981;&#x5C06;&#x5206;&#x7C7B;&#x76F8;&#x5173;&#x7684;&#x5B57;&#x6BB5;&#x5B9A;&#x4E49;&#x597D;&#xFF0C;&#x5206;&#x7C7B;&#x5B9E;&#x4F53;&#x4E0E;&#x6587;&#x7AE0;&#x5B9E;&#x4F53;&#x7684;&#x5173;&#x7CFB;&#x4EA4;&#x7ED9;&#x6587;&#x7AE0;&#x8868;&#x6765;&#x7EF4;&#x62A4;&#x5373;&#x53EF;&#xFF08;&#x540E;&#x7EED;&#x8BB2;&#x5230;&#x6587;&#x7AE0;&#x8868;&#x65F6;&#x518D;&#x4ECB;&#x7ECD;&#xFF09;&#xFF0C;&#x5206;&#x7C7B;&#x8868;&#x7684; SQL &#x8BBE;&#x8BA1;&#x5982;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x5982;&#x4E0B; SQL &#x8BED;&#x53E5;&#x5373;&#x53EF;&#xFF1A; USE `my_blog_db`; /*Table structure for table `tb_blog_category` */ CREATE TABLE `tb_blog_category` ( `category_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;&#x5206;&#x7C7B;&#x8868;&#x4E3B;&#x952E;&apos;, `category_name` varchar(50) NOT NULL COMMENT &apos;&#x5206;&#x7C7B;&#x7684;&#x540D;&#x79F0;&apos;, `category_icon` varchar(50) NOT NULL COMMENT &apos;&#x5206;&#x7C7B;&#x7684;&#x56FE;&#x6807;&apos;, `category_rank` int(11) NOT NULL DEFAULT &apos;1&apos; COMMENT &apos;&#x5206;&#x7C7B;&#x7684;&#x6392;&#x5E8F;&#x503C; &#x88AB;&#x4F7F;&#x7528;&#x7684;&#x8D8A;&#x591A;&#x6570;&#x503C;&#x8D8A;&#x5927;&apos;, `is_deleted` tinyint(4) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;&#x662F;&#x5426;&#x5220;&#x9664; 0=&#x5426; 1=&#x662F;&apos;, `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &apos;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&apos;, PRIMARY KEY (`category_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#x5206;&#x7C7B;&#x8868;&#x7684;&#x5B57;&#x6BB5;&#x4EE5;&#x53CA;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#x7684;&#x542B;&#x4E49;&#x90FD;&#x5728;&#x4E0A;&#x9762;&#x7684; SQL &#x4E2D;&#x6709;&#x4ECB;&#x7ECD;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x5BF9;&#x7167; SQL &#x8FDB;&#x884C;&#x7406;&#x89E3;&#xFF0C;&#x628A;&#x8868;&#x7ED3;&#x6784;&#x5BFC;&#x5165;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x5DE5;&#x4F5C;&#x3002; MyBatis-Generator &#x63D2;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210; Mapper &#x6587;&#x4EF6;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; MyBatis-Generator &#x63D2;&#x4EF6;&#x5C06;&#x8BE5;&#x8868;&#x5BF9;&#x5E94;&#x7684; Mapper &#x6587;&#x4EF6;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x548C; Dao &#x5C42;&#x63A5;&#x53E3;&#x751F;&#x6210;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x5C31;&#x4E0D;&#x8D34;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x4E86;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x6765;&#x67E5;&#x770B;&#x3002; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x540E;&#x9700;&#x8981;&#x5728; dao &#x5C42;&#x4E0B;&#x7684; BlogCategoryMapper &#x63A5;&#x53E3;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @Mapper &#x6CE8;&#x89E3;&#x4EE5;&#x5C06;&#x5176;&#x6CE8;&#x518C;&#x5230; IOC &#x5BB9;&#x5668;&#x4E2D;&#x4EE5;&#x4F9B;&#x540E;&#x7EED;&#x8C03;&#x7528;&#xFF08;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5728;&#x4E3B;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @MapperScan &#x6CE8;&#x89E3;&#x8FD9;&#x4E00;&#x6B65;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF09;&#x3002;&#x5176;&#x6B21;&#xFF0C;&#x5728; tb_blog_category &#x8868;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x4E86;&#x4E00;&#x4E2A; is_deleted &#x5B57;&#x6BB5;&#xFF0C;&#x7528;&#x4E8E;&#x903B;&#x8F91;&#x5220;&#x9664;&#x7684;&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x7531;&#x4E8E; is_deleted &#x7684;&#x5B57;&#x6BB5;&#x8BBE;&#x8BA1;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x5220;&#x9664;&#x90FD;&#x662F;&#x8F6F;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x53EA;&#x662F;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x5220;&#x9664;&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x5B57;&#x6BB5;&#x4E3A; 1 &#x5219;&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x88AB;&#x5220;&#x9664;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#xFF0C;&#x8FD9;&#x4E48;&#x505A;&#x7684;&#x76EE;&#x7684;&#x4E3B;&#x8981;&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x8BEF;&#x5220;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539; Mapper &#x6587;&#x4EF6;&#x4E2D;&#x7684; &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x548C;&#x5220;&#x9664;&#x8BED;&#x53E5;&#xFF0C;&#x5C06; is_deleted &#x6761;&#x4EF6;&#x5E26;&#x4E0A;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogCategoryMapper.xml) &lt;select id=&quot;findCategoryList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog_category where is_deleted=0 order by category_rank desc,create_time desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalCategories&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog_category where is_deleted=0 &lt;/select&gt; &lt;select id=&quot;selectByPrimaryKey&quot; parameterType=&quot;java.lang.Integer&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog_category where category_id = #{categoryId,jdbcType=INTEGER} AND is_deleted = 0 &lt;/select&gt; &lt;update id=&quot;deleteByPrimaryKey&quot; parameterType=&quot;java.lang.Integer&quot;&gt; UPDATE tb_blog_category SET is_deleted = 1 where category_id = #{categoryId,jdbcType=VARCHAR} AND is_deleted = 0 &lt;/update&gt;&#x901A;&#x8FC7;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5728;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x65F6;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x662F;&#x6267;&#x884C; delete &#x8BED;&#x53E5;&#xFF0C;&#x800C;&#x662F;&#x5C06;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x8FD9;&#x6761;&#x8BB0;&#x5F55;&#x7684; is_deleted &#x5B57;&#x6BB5;&#x4FEE;&#x6539;&#x4E3A; 1&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x8868;&#x793A;&#x8BE5;&#x884C;&#x8BB0;&#x5F55;&#x5DF2;&#x7ECF;&#x88AB;&#x6267;&#x884C;&#x4E86;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x7684; select &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x5C31;&#x9700;&#x8981;&#x5728;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; is_deleted = 0 &#x5C06;&#x201C;&#x88AB;&#x5220;&#x9664;&#x201D;&#x7684;&#x8BB0;&#x5F55;&#x7ED9;&#x8FC7;&#x6EE4;&#x51FA;&#x53BB;&#xFF0C;&#x8FD9;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x7406;&#x89E3;&#xFF0C;&#x5728;&#x540E;&#x7EED;&#x7684;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x4F7F;&#x7528;&#x8F6F;&#x5220;&#x9664;&#x7684;&#x8BBE;&#x8BA1;&#x3002; &#x5206;&#x7C7B;&#x6A21;&#x5757;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x53CA;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x4ECB;&#x7ECD;&#x4E3A;&#x4E86;&#x8BA9;&#x9875;&#x9762;&#x4F53;&#x9A8C;&#x66F4;&#x52A0;&#x53CB;&#x597D;&#xFF0C;&#x5C31;&#x4E0D;&#x91C7;&#x7528;&#x4F20;&#x7EDF;&#x7684; MVC &#x8DF3;&#x8F6C;&#x6A21;&#x5F0F;&#xFF0C;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x4E00;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x8FD9;&#x79CD;&#x4EA4;&#x4E92;&#x611F;&#x89C9;&#x6709;&#x4E9B;&#x6D6A;&#x8D39;&#xFF0C;&#x7FFB;&#x9875;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7FFB;&#x4E00;&#x9875;&#x8DF3;&#x8F6C;&#x4E00;&#x6B21;&#x4E5F;&#x6BD4;&#x8F83;&#x7E41;&#x7410;&#xFF0C;&#x6DFB;&#x52A0;&#x6216;&#x8005;&#x65B0;&#x589E;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x8981;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x7684;&#x5B9E;&#x73B0;&#x5C31;&#x91C7;&#x7528;&#x901A;&#x8FC7; Ajax &#x5F02;&#x6B65;&#x4E0E;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x6570;&#x636E;&#xFF0C;&#x5F53;&#x4F7F;&#x7528;&#x8005;&#x70B9;&#x51FB;&#x4E86;&#x9875;&#x9762;&#x4E0A;&#x7684;&#x5143;&#x7D20;&#xFF0C;&#x6B64;&#x65F6;&#x89E6;&#x53D1;&#x54CD;&#x5E94;&#x7684; js &#x4E8B;&#x4EF6;&#xFF0C;&#x8FDB;&#x800C;&#x901A;&#x8FC7; Ajax &#x7684;&#x65B9;&#x5F0F;&#x5411;&#x540E;&#x7AEF;&#x8BF7;&#x6C42;&#x6570;&#x636E;&#xFF0C;&#x524D;&#x7AEF;&#x518D;&#x6839;&#x636E;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x5185;&#x5BB9;&#x53BB;&#x8FDB;&#x884C;&#x54CD;&#x5E94;&#x7684;&#x5C55;&#x793A;&#x903B;&#x8F91;&#xFF0C;&#x5728;&#x524D;&#x9762;&#x7684;&#x4E2A;&#x4EBA;&#x4FE1;&#x606F;&#x4FEE;&#x6539;&#x4E2D;&#x5176;&#x5B9E;&#x7528;&#x5230;&#x7684;&#x5C31;&#x662F;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x3002; &#x5173;&#x4E8E;&#x63A5;&#x53E3;&#x7684;&#x8BBE;&#x8BA1;&#x4EE5;&#x53CA;&#x524D;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x6570;&#x636E;&#x7684;&#x8BBE;&#x8BA1;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E00;&#x4E0B;&#x7B2C; 10 &#x8BFE;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5206;&#x7C7B;&#x6A21;&#x5757;&#x5728;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x6709; 5 &#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5206;&#x522B;&#x662F;&#xFF1A; &#x5206;&#x7C7B;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3; &#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x63A5;&#x53E3; &#x6839;&#x636E; id &#x83B7;&#x53D6;&#x5355;&#x6761;&#x5206;&#x7C7B;&#x8BB0;&#x5F55;&#x63A5;&#x53E3; &#x4FEE;&#x6539;&#x5206;&#x7C7B;&#x63A5;&#x53E3; &#x5220;&#x9664;&#x5206;&#x7C7B;&#x63A5;&#x53E3; &#x63A5;&#x4E0B;&#x6765;&#x8BB2;&#x89E3;&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#xFF0C;&#x9996;&#x5148;&#x5728; controller/admin &#x5305;&#x4E0B;&#x65B0;&#x5EFA; CategoryController.java&#xFF0C;&#x5E76;&#x5728; service &#x5305;&#x4E0B;&#x65B0;&#x5EFA;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801; CategoryService.java &#x53CA;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4E4B;&#x540E;&#x53C2;&#x7167;&#x63A5;&#x53E3;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002; &#x5206;&#x7C7B;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x5217;&#x8868;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x4F20;&#x6765;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#xFF0C;&#x5982; page &#x3001;limit &#x7B49;&#x53C2;&#x6570;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x6570;&#x636E;&#x603B;&#x6570;&#x548C;&#x5BF9;&#x5E94;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x5C01;&#x88C5;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.CategoryController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /categories/list&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x5206;&#x7C7B;&#x5217;&#x8868; */ @RequestMapping(value = &quot;/categories/list&quot;, method = RequestMethod.GET) @ResponseBody public Result list(@RequestParam Map&lt;String, Object&gt; params) { if (StringUtils.isEmpty(params.get(&quot;page&quot;)) || StringUtils.isEmpty(params.get(&quot;limit&quot;))) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } PageQueryUtil pageUtil = new PageQueryUtil(params); return ResultGenerator.genSuccessResult(categoryService.getBlogCategoryPage(pageUtil)); } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.CategoryServiceImpl.java&#xFF09;&#xFF1A; public PageResult getBlogCategoryPage(PageQueryUtil pageUtil) { List&lt;BlogCategory&gt; categoryList = blogCategoryMapper.findCategoryList(pageUtil); int total = blogCategoryMapper.getTotalCategories(pageUtil); PageResult pageResult = new PageResult(categoryList, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } BlogCategoryMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogCategoryMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findCategoryList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog_category where is_deleted=0 order by category_rank desc,create_time desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalCategories&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog_category where is_deleted=0 &lt;/select&gt;SQL &#x8BED;&#x53E5;&#x5728; BlogCategoryMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x5206;&#x9875;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528; limit &#x5173;&#x952E;&#x5B57;&#x5B9E;&#x73B0;&#xFF0C;&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x6761;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x548C;&#x603B;&#x6570;&#x4E4B;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x6839;&#x636E;&#x524D;&#x7AEF;&#x4F20;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x5206;&#x9875;&#x6570;&#x636E;&#x4EE5;&#x4F9B;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x3002; &#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x63A5;&#x53E3;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684; POST &#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#x5176;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x63A5;&#x6536;&#x7684;&#x53C2;&#x6570;&#x4E3A; categoryName &#x5B57;&#x6BB5;&#x548C; categoryIcon &#x5B57;&#x6BB5;&#xFF0C;categoryName &#x4E3A;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#xFF0C;categoryIcon &#x5B57;&#x6BB5;&#x4E3A;&#x5206;&#x7C7B;&#x7684;&#x56FE;&#x6807;&#x5B57;&#x6BB5;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.CategoryController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /categories/save&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x5206;&#x7C7B;&#x6DFB;&#x52A0; */ @RequestMapping(value = &quot;/categories/save&quot;, method = RequestMethod.POST) @ResponseBody public Result save(@RequestParam(&quot;categoryName&quot;) String categoryName, @RequestParam(&quot;categoryIcon&quot;) String categoryIcon) { if (StringUtils.isEmpty(categoryName)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#xFF01;&quot;); } if (StringUtils.isEmpty(categoryIcon)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x9009;&#x62E9;&#x5206;&#x7C7B;&#x56FE;&#x6807;&#xFF01;&quot;); } if (categoryService.saveCategory(categoryName, categoryIcon)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x91CD;&#x590D;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.CategoryServiceImpl.java&#xFF09;&#xFF1A; public Boolean saveCategory(String categoryName, String categoryIcon) { BlogCategory temp = blogCategoryMapper.selectByCategoryName(categoryName); if (temp == null) { BlogCategory blogCategory = new BlogCategory(); blogCategory.setCategoryName(categoryName); blogCategory.setCategoryIcon(categoryIcon); return blogCategoryMapper.insertSelective(blogCategory) &gt; 0; } return false; }SQL &#x8BED;&#x53E5;&#x5728; BlogCategoryMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x662F;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684; SQL&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8D34;&#x4E86;&#x3002; &#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#xFF0C;&#x4E4B;&#x540E;&#x4EA4;&#x7ED9;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5728; saveCategory() &#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x6839;&#x636E;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x8BE5;&#x5206;&#x7C7B;&#xFF0C;&#x4E4B;&#x540E;&#x624D;&#x4F1A;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#x5E76;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93; insert &#x64CD;&#x4F5C;&#x3002; &#x5220;&#x9664;&#x5206;&#x7C7B;&#x63A5;&#x53E3;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684;&#x5206;&#x7C7B;&#x5220;&#x9664;&#x8BF7;&#x6C42;&#xFF0C;&#x5904;&#x7406;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x201C;&#x5220;&#x9664;&#x201D;&#x529F;&#x80FD;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x662F;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5220;&#x9664;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x524D;&#x7AEF;&#x5C06;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55; id &#x5C01;&#x88C5;&#x597D;&#x518D;&#x4F20;&#x53C2;&#x5230;&#x540E;&#x7AEF;&#x5373;&#x53EF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.CategoryController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /categories/delete&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x5206;&#x7C7B;&#x5220;&#x9664; */ @RequestMapping(value = &quot;/categories/delete&quot;, method = RequestMethod.POST) @ResponseBody public Result delete(@RequestBody Integer[] ids) { if (ids.length &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (categoryService.deleteBatch(ids)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x5220;&#x9664;&#x5931;&#x8D25;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.CategoryServiceImpl.java&#xFF09;&#xFF1A; public Boolean deleteBatch(Integer[] ids) { if (ids.length &lt; 1) { return false; } //&#x5220;&#x9664;&#x5206;&#x7C7B;&#x6570;&#x636E; return blogCategoryMapper.deleteBatch(ids) &gt; 0; } BlogCategoryMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogCategoryMapper.xml&#xFF09;&#xFF1A; &lt;update id=&quot;deleteBatch&quot;&gt; update tb_blog_category set is_deleted=1 where category_id in &lt;foreach item=&quot;id&quot; collection=&quot;array&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #{id} &lt;/foreach&gt; &lt;/update&gt;&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /categories/delete&#xFF0C;&#x5E76;&#x4F7F;&#x7528; @RequestBody &#x5C06;&#x524D;&#x7AEF;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x4E3A; id &#x6570;&#x7EC4;&#xFF0C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5219;&#x8C03;&#x7528; deleteBatch() &#x6279;&#x91CF;&#x5220;&#x9664;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5411;&#x524D;&#x7AEF;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; &#x5176;&#x5B83;&#x8FD8;&#x6709;&#x6839;&#x636E; id &#x83B7;&#x53D6;&#x8BE6;&#x60C5;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x8DEF;&#x5F84;&#x4E3A; categories/info/{id}&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF1B;&#x5206;&#x7C7B;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#xFF0C;&#x8DEF;&#x5F84;&#x4E3A; categories/update&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#x3002; &#x5728;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x548C;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x7ACB;&#x523B;&#x4FEE;&#x590D;&#xFF0C;&#x4EE5;&#x4E0A;&#x8FD9;&#x4E9B;&#x4EE3;&#x7801;&#x6211;&#x90FD;&#x5DF2;&#x7ECF;&#x7F16;&#x5199;&#x5B8C;&#x6210;&#x5E76;&#x5C06;&#x4EE3;&#x7801;&#x4EE5;&#x538B;&#x7F29;&#x5305;&#x7684;&#x5F62;&#x5F0F;&#x63D0;&#x4F9B;&#xFF0C;&#x5927;&#x5BB6;&#x5728;&#x5B66;&#x4E60;&#x65F6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6211;&#x7ED9;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x7EC3;&#x4E60;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B9E;&#x73B0;category.html&#x5728; resources/templates/admin &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; category.html&#xFF0C;&#x5E76;&#x5F15;&#x5165;&#x5BF9;&#x5E94;&#x7684; js &#x6587;&#x4EF6;&#x548C; css &#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x3002; &#x529F;&#x80FD;&#x6309;&#x94AE;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x6211;&#x4EEC;&#x4E5F;&#x8BBE;&#x8BA1;&#x4E86;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;&#x529F;&#x80FD;&#xFF1A;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x589E;&#x52A0;&#x3001;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x3001;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x5220;&#x9664;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x4EE5;&#x53CA;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;div class=&quot;grid-btn&quot;&gt; &lt;button class=&quot;btn btn-info&quot; onclick=&quot;categoryAdd()&quot;&gt;&lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x65B0;&#x589E; &lt;/button&gt; &lt;button class=&quot;btn btn-info&quot; onclick=&quot;categoryEdit()&quot;&gt;&lt;i class=&quot;fa fa-pencil-square-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x4FEE;&#x6539;&lt;/button&gt; &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;deleteCagegory()&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x5220;&#x9664;&lt;/button&gt; &lt;/div&gt;&#x5206;&#x522B;&#x662F;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; categoryAdd() &#x65B9;&#x6CD5;&#xFF0C;&#x4FEE;&#x6539;&#x6309;&#x94AE;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; categoryEdit() &#x65B9;&#x6CD5;&#xFF0C;&#x5220;&#x9664;&#x6309;&#x94AE;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; deleteCagegory() &#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x540E;&#x7EED;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E2D;&#x7ED9;&#x51FA;&#x3002; &#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x9875;&#x9762;&#x4E2D;&#x5DF2;&#x7ECF;&#x5F15;&#x5165; JqGrid &#x7684;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x5206;&#x9875;&#x6570;&#x636E;&#x7684;&#x533A;&#x57DF;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &lt;table id=&quot;jqGrid&quot; class=&quot;table table-bordered&quot;&gt;&lt;/table&gt; &lt;div id=&quot;jqGridPager&quot;&gt;&lt;/div&gt;&#x9875;&#x9762;&#x6548;&#x679C;&#x90A3;&#x4E48;&#x6700;&#x7EC8;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x6548;&#x679C;&#x5C55;&#x793A;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5305;&#x62EC;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x3001;&#x6570;&#x636E;&#x5217;&#x8868;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x4EE5;&#x53CA;&#x7FFB;&#x9875;&#x529F;&#x80FD;&#x533A;&#x57DF;&#xFF0C;&#x6B64;&#x65F6;&#x53EA;&#x662F;&#x9759;&#x6001;&#x6548;&#x679C;&#x5C55;&#x793A;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x4E0E;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x7ED3;&#x5408; Ajax &#x548C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x5177;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x3002; &#x5206;&#x7C7B;&#x6A21;&#x5757;&#x524D;&#x7AEF;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x4E86;&#x9875;&#x9762;&#x5C55;&#x793A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x63A5;&#x7740;&#x5B8C;&#x6210;&#x76F8;&#x5173;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x4E00;&#x5B9A;&#x81EA;&#x884C;&#x5BF9;&#x7167;&#x6E90;&#x7801;&#x5B8C;&#x6210;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5728; resources/static/admin/dist/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; category.js &#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; $(function () { $(&quot;#jqGrid&quot;).jqGrid({ url: &apos;/admin/categories/list&apos;, datatype: &quot;json&quot;, colModel: [ {label: &apos;id&apos;, name: &apos;categoryId&apos;, index: &apos;categoryId&apos;, width: 50, key: true, hidden: true}, {label: &apos;&#x5206;&#x7C7B;&#x540D;&#x79F0;&apos;, name: &apos;categoryName&apos;, index: &apos;categoryName&apos;, width: 240}, {label: &apos;&#x5206;&#x7C7B;&#x56FE;&#x6807;&apos;, name: &apos;categoryIcon&apos;, index: &apos;categoryIcon&apos;, width: 120, formatter: imgFormatter}, {label: &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, name: &apos;createTime&apos;, index: &apos;createTime&apos;, width: 120} ], height: 560, rowNum: 10, rowList: [10, 20, 50], styleUI: &apos;Bootstrap&apos;, loadtext: &apos;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x4E2D;...&apos;, rownumbers: false, rownumWidth: 20, autowidth: true, multiselect: true, pager: &quot;#jqGridPager&quot;, jsonReader: { root: &quot;data.list&quot;, page: &quot;data.currPage&quot;, total: &quot;data.totalPage&quot;, records: &quot;data.totalCount&quot; }, prmNames: { page: &quot;page&quot;, rows: &quot;limit&quot;, order: &quot;order&quot;, }, gridComplete: function () { //&#x9690;&#x85CF;grid&#x5E95;&#x90E8;&#x6EDA;&#x52A8;&#x6761; $(&quot;#jqGrid&quot;).closest(&quot;.ui-jqgrid-bdiv&quot;).css({&quot;overflow-x&quot;: &quot;hidden&quot;}); } }); $(window).resize(function () { $(&quot;#jqGrid&quot;).setGridWidth($(&quot;.card-body&quot;).width()); }); });&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x5C55;&#x793A;&#x3001;&#x5B57;&#x6BB5;&#x683C;&#x5F0F;&#x5316; jqGrid DOM &#x5BBD;&#x5EA6;&#x7684;&#x81EA;&#x9002;&#x5E94;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x8C03;&#x7528; JqGrid &#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x9875;&#x9762;&#x4E2D; id &#x4E3A; jqGrid &#x7684; DOM &#x6E32;&#x67D3;&#x4E3A;&#x5206;&#x9875;&#x8868;&#x683C;&#xFF0C;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x4E4B;&#x540E;&#x6309;&#x7167;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684; json &#x6570;&#x636E;&#x586B;&#x5145;&#x8868;&#x683C;&#x4EE5;&#x53CA;&#x8868;&#x683C;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7B2C; 15 &#x4E2A;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4E2D; jqgrid &#x5206;&#x9875;&#x529F;&#x80FD;&#x6574;&#x5408;&#x8FDB;&#x884C;&#x77E5;&#x8BC6;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x9A8C;&#x8BC1;&#x4E00;&#x4E0B;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x5206;&#x9875;&#x529F;&#x80FD;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002; &#x6309;&#x94AE;&#x4E8B;&#x4EF6;&#x53CA; Modal &#x6846;&#x5B9E;&#x73B0;&#x6DFB;&#x52A0;&#x548C;&#x4FEE;&#x6539;&#x4E24;&#x4E2A;&#x6309;&#x94AE;&#x5206;&#x522B;&#x7ED1;&#x5B9A;&#x4E86;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728; category.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E; categoryAdd() &#x65B9;&#x6CD5;&#x548C; categoryEdit() &#x65B9;&#x6CD5;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#x4E3A;&#x6253;&#x5F00;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x548C;&#x4E24;&#x4E2A;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/category.html) &lt;div class=&quot;content&quot;&gt; &lt;!-- &#x6A21;&#x6001;&#x6846;&#xFF08;Modal&#xFF09; --&gt; &lt;div class=&quot;modal fade&quot; id=&quot;categoryModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;categoryModalLabel&quot;&gt; &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt; &lt;div class=&quot;modal-content&quot;&gt; &lt;div class=&quot;modal-header&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;&lt;/button&gt; &lt;h6 class=&quot;modal-title&quot; id=&quot;categoryModalLabel&quot;&gt;Modal&lt;/h6&gt; &lt;/div&gt; &lt;div class=&quot;modal-body&quot;&gt; &lt;form id=&quot;categoryForm&quot; onsubmit=&quot;return false;&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;alert alert-danger&quot; id=&quot;edit-error-msg&quot; style=&quot;display: none;&quot;&gt; &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x680F;&#x3002; &lt;/div&gt; &lt;/div&gt; &lt;input type=&quot;hidden&quot; class=&quot;form-control&quot; id=&quot;categoryId&quot; name=&quot;categoryId&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;categoryName&quot; class=&quot;control-label&quot;&gt;&#x5206;&#x7C7B;&#x540D;&#x79F0;:&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;categoryName&quot; name=&quot;categoryName&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x5206;&#x7C7B;&#x540D;&#x79F0;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;categoryIcon&quot; class=&quot;control-label&quot;&gt;&#x5206;&#x7C7B;&#x56FE;&#x6807;:&lt;/label&gt; &lt;input type=&quot;hidden&quot; class=&quot;form-control&quot; id=&quot;categoryIcon&quot; name=&quot;categoryIcon&quot;&gt; &lt;div class=&quot;col-sm-4&quot;&gt; &lt;img id=&quot;categoryIconImg&quot; src=&quot;/admin/dist/img/img-upload.png&quot; style=&quot;height: 64px;width: 64px;&quot;&gt; &lt;button class=&quot;btn btn-secondary&quot; style=&quot;margin-top: 5px;margin-bottom: 5px;&quot; id=&quot;categoryIconButton&quot;&gt;&lt;i class=&quot;fa fa-random&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x56FE;&#x6807;&#x5207;&#x6362; &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; &lt;div class=&quot;modal-footer&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;&#x53D6;&#x6D88;&lt;/button&gt; &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&quot;saveButton&quot;&gt;&#x786E;&#x8BA4;&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;categoryAdd() &#x65B9;&#x6CD5;&#x548C; categoryEdit() &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/category.js) function categoryAdd() { reset(); $(&apos;.modal-title&apos;).html(&apos;&#x5206;&#x7C7B;&#x6DFB;&#x52A0;&apos;); $(&apos;#categoryModal&apos;).modal(&apos;show&apos;); } function categoryEdit() { reset(); var id = getSelectedRow(); if (id == null) { return; } $(&apos;.modal-title&apos;).html(&apos;&#x5206;&#x7C7B;&#x7F16;&#x8F91;&apos;); $(&apos;#categoryModal&apos;).modal(&apos;show&apos;); //&#x8BF7;&#x6C42;&#x6570;&#x636E; $.get(&quot;/admin/categories/info/&quot; + id, function (r) { if (r.resultCode == 200 &amp;&amp; r.data != null) { //&#x586B;&#x5145;&#x6570;&#x636E;&#x81F3;modal $(&quot;#categoryIconImg&quot;).attr(&quot;src&quot;, r.data.categoryIcon); $(&quot;#categoryIconImg&quot;).attr(&quot;style&quot;, &quot;width:64px ;height: 64px;display:block;&quot;); $(&quot;#categoryIcon&quot;).val(r.data.categoryIcon); $(&quot;#categoryName&quot;).val(r.data.categoryName); } }); $(&quot;#categoryId&quot;).val(id); }&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#x4EC5;&#x4EC5;&#x662F;&#x5C06; Modal &#x6846;&#x663E;&#x793A;&#xFF0C;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x5219;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55;&#x56DE;&#x663E;&#x5230;&#x7F16;&#x8F91;&#x6846;&#x4E2D;&#x4EE5;&#x4F9B;&#x4FEE;&#x6539;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x8BF7;&#x6C42; categories/info/{id} &#x8BE6;&#x60C5;&#x63A5;&#x53E3;&#x83B7;&#x53D6;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x4FE1;&#x606F;&#x3002; Modal &#x6846;&#x5B9E;&#x9645;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5728;&#x9879;&#x76EE;&#x4E2D;&#x5185;&#x7F6E;&#x4E86; 20 &#x4E2A;&#x5206;&#x7C7B;&#x56FE;&#x6807;&#xFF0C;&#x56FE;&#x6807;&#x5728; resources/static/admin/dist/img/category &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x70B9;&#x51FB;&#x4E0A;&#x56FE;&#x4E2D;&#x7684;&#x56FE;&#x6807;&#x5207;&#x6362;&#x53EF;&#x4EE5;&#x968F;&#x673A;&#x83B7;&#x53D6;&#x5230;&#x4E00;&#x4E2A;&#x56FE;&#x6807;&#xFF0C;&#x586B;&#x5199;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x5E76;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x56FE;&#x6807;&#x4FDD;&#x5B58;&#x5373;&#x53EF;&#x3002; &#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x548C;&#x7F16;&#x8F91;&#x529F;&#x80FD;&#x5728;&#x4FE1;&#x606F;&#x5F55;&#x5165;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x4E0B;&#x65B9;&#x7684;&#x786E;&#x8BA4;&#x6309;&#x94AE;&#xFF0C;&#x6B64;&#x65F6;&#x4F1A;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;js &#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/category.js) //&#x7ED1;&#x5B9A;modal&#x4E0A;&#x7684;&#x4FDD;&#x5B58;&#x6309;&#x94AE; $(&apos;#saveButton&apos;).click(function () { var categoryName = $(&quot;#categoryName&quot;).val(); if (!validCN_ENString2_18(categoryName)) { $(&apos;#edit-error-msg&apos;).css(&quot;display&quot;, &quot;block&quot;); $(&apos;#edit-error-msg&apos;).html(&quot;&#x8BF7;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#xFF01;&quot;); } else { var params = $(&quot;#categoryForm&quot;).serialize(); var url = &apos;/admin/categories/save&apos;; var id = getSelectedRowWithoutAlert(); if (id != null) { url = &apos;/admin/categories/update&apos;; } $.ajax({ type: &apos;POST&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: url, data: params, success: function (result) { if (result.resultCode == 200) { $(&apos;#categoryModal&apos;).modal(&apos;hide&apos;); swal(&quot;&#x4FDD;&#x5B58;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot; }); reload(); } else { $(&apos;#categoryModal&apos;).modal(&apos;hide&apos;); swal(result.message, { icon: &quot;error&quot; }); } }, error: function () { swal(&quot;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot; }); } }); } });&#x7531;&#x4E8E;&#x4F20;&#x53C2;&#x548C;&#x540E;&#x7EED;&#x5904;&#x7406;&#x903B;&#x8F91;&#x7C7B;&#x4F3C;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x592A;&#x591A;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x56E0;&#x6B64;&#x5C06;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x5199;&#x5728;&#x4E00;&#x8D77;&#x4E86;&#xFF0C;&#x901A;&#x8FC7; id &#x662F;&#x5426;&#x5927;&#x4E8E; 0 &#x6765;&#x786E;&#x5B9A;&#x662F;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x8FD8;&#x662F;&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;&#xFF0C;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; &#x524D;&#x7AEF;&#x5BF9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x6B63;&#x5219;&#x9A8C;&#x8BC1; &#x5C01;&#x88C5;&#x6570;&#x636E; &#x5411;&#x5BF9;&#x5E94;&#x7684;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42; &#x8BF7;&#x6C42;&#x6210;&#x529F;&#x540E;&#x63D0;&#x9192;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x5E76;&#x9690;&#x85CF;&#x5F53;&#x524D;&#x7684;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#xFF0C;&#x540C;&#x65F6;&#x5237;&#x65B0;&#x5217;&#x8868;&#x6570;&#x636E; &#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x5219;&#x63D0;&#x9192;&#x5BF9;&#x5E94;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F; &#x5220;&#x9664;&#x529F;&#x80FD;&#x5220;&#x9664;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4E3A; deleteCagegory()&#xFF0C;&#x5728; category.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/category.js) function deleteCagegory() { var ids = getSelectedRows(); if (ids == null) { return; } swal({ title: &quot;&#x786E;&#x8BA4;&#x5F39;&#x6846;&quot;, text: &quot;&#x786E;&#x8BA4;&#x8981;&#x5220;&#x9664;&#x6570;&#x636E;&#x5417;?&quot;, icon: &quot;warning&quot;, buttons: true, dangerMode: true, }).then((flag) =&gt; { if(flag) { $.ajax({ type: &quot;POST&quot;, url: &quot;/admin/categories/delete&quot;, contentType: &quot;application/json&quot;, data: JSON.stringify(ids), success: function (r) { if (r.resultCode == 200) { swal(&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); $(&quot;#jqGrid&quot;).trigger(&quot;reloadGrid&quot;); } else { swal(r.message, { icon: &quot;error&quot;, }); } } }); } }); }&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5728; jqgrid &#x8868;&#x683C;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684; id&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; categories/delete&#xFF0C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x6E90;&#x7801;&#x4EE5;&#x53CA;&#x5B9E;&#x9645;&#x7684;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x548C;&#x7406;&#x89E3;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x3002; &#x5B9E;&#x9A8C;&#x697C; web ide &#x4E2D;&#x64CD;&#x4F5C; Spring Boot &#x9879;&#x76EE;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x4E0B;&#x8F7D;&#x5E76;&#x53C2;&#x7167;&#x6E90;&#x7801;&#x5BF9;&#x6BD4;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x3002; &#x542F;&#x52A8; MySQL &#x5E76;&#x65B0;&#x589E; tb_blog_category &#x8868;&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x8FDB;&#x5165;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x9996;&#x5148;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB; File -&gt; Open New Terminal &#x5373;&#x53EF;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; sudo service mysql start&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x6743;&#x9650;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x5728;&#x547D;&#x4EE4;&#x524D;&#x589E;&#x52A0; sudo &#x53D6;&#x5F97; root &#x6743;&#x9650;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4E4B;&#x540E;&#x7B49;&#x5F85; MySQL &#x6B63;&#x5E38;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002; &#x4E4B;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x767B;&#x9646; MySQL &#x6570;&#x636E;&#x5E93;&#xFF1A; sudo mysql -u root &#x56E0;&#x4E3A;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#x4E2D; MySQL &#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x5E76;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x4EE5;&#x4E0A;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x767B;&#x9646;&#xFF0C;&#x6700;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x6267;&#x884C;&#x524D;&#x6587;&#x7ED9;&#x51FA;&#x7684;&#x5EFA;&#x8868;&#x8BED;&#x53E5; SQL &#x5373;&#x53EF;&#xFF0C;&#x6574;&#x4E2A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF0C;&#x518D;&#x6267;&#x884C;&#x5B8C;&#x65B0;&#x589E;&#x8868;&#x7684; SQL &#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x518D;&#x53BB;&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8868;&#xFF0C;&#x53EF;&#x4EE5;&#x53D1;&#x73B0; tb_blog_category &#x8868;&#x5DF2;&#x7ECF;&#x5728; my_blog_db &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x4E86;&#x3002; &#x542F;&#x52A8;&#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x5DF2;&#x89E3;&#x538B;&#x7684; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/admin/login &#x5E76;&#x767B;&#x9646;&#x81F3;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x9996;&#x9875;&#xFF0C;&#x4E4B;&#x540E;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x4E86;&#xFF0C;&#x6F14;&#x793A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#x3002; &#x6DFB;&#x52A0;&#x529F;&#x80FD;&#xFF1A; &#x4FEE;&#x6539;&#x529F;&#x80FD;&#xFF1A; &#x5220;&#x9664;&#x529F;&#x80FD;&#xFF1A; &#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-16-biao-qian.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x672C;&#x7BC7;&#x7EE7;&#x7EED;&#x6765;&#x5B8C;&#x5584;&#x540E;&#x53F0;&#x7684;&#x529F;&#x80FD;&#x6A21;&#x5757;&#xFF0C;&#x5728;&#x8BB2;&#x89E3;&#x548C;&#x5F00;&#x53D1;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x524D;&#xFF0C;&#x5148;&#x5C06;&#x5B83;&#x7684;&#x76F8;&#x5173;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x5FC5;&#x987B;&#x5173;&#x8054;&#x7684;&#x5173;&#x7CFB;&#x5B9E;&#x4F53;&#x8BB2;&#x89E3;&#x548C;&#x5F00;&#x53D1;&#x5B8C;&#xFF0C;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x6211;&#x4EEC;&#x5C06;&#x5206;&#x7C7B;&#x6A21;&#x5757;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5C06;&#x4F1A;&#x5BF9;&#x535A;&#x5BA2;&#x7684;&#x6807;&#x7B7E;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x4ECB;&#x7ECD;&#x548C;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x53CA;&#x5B8C;&#x5584;&#xFF0C;&#x4EE5;&#x4FBF;&#x63A5;&#x4E0B;&#x6765;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x7684;&#x8BB2;&#x89E3;&#x548C;&#x5F00;&#x53D1;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x4FA7;&#x8FB9;&#x5BFC;&#x822A;&#x680F;&#x62BD;&#x53D6; &#x6807;&#x7B7E;&#x6A21;&#x5757;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA;&#x63A5;&#x53E3;&#x5B9E;&#x73B0; &#x6807;&#x7B7E;&#x6A21;&#x5757;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53CA;&#x7F16;&#x7801; &#x6807;&#x7B7E;&#x6A21;&#x5757;&#x529F;&#x80FD;&#x6D4B;&#x8BD5; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-20.zip unzip My-Blog-20.zip cd My-Blog&#x4FA7;&#x8FB9;&#x680F;&#x62BD;&#x53D6;&#x90E8;&#x5206;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x5BF9; templates/admin &#x76EE;&#x5F55;&#x4E0B;&#x7684; sidebar.html &#x6587;&#x4EF6;&#x6709;&#x4E9B;&#x7591;&#x60D1;&#xFF0C;&#x7531;&#x4E8E;&#x7BC7;&#x5E45;&#x9650;&#x5236;&#xFF0C;&#x6240;&#x4EE5;&#x6CA1;&#x6709;&#x5728;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x5BF9;&#x8FD9;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#x505A;&#x4ECB;&#x7ECD;&#xFF0C;&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x7684;&#x7528;&#x4E00;&#x4E2A;&#x6BB5;&#x843D;&#x6765;&#x8BB2;&#x89E3;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x9996;&#x5148;&#x544A;&#x8BC9;&#x5927;&#x5BB6;&#x7684;&#x662F;&#xFF0C;&#x8FD9;&#x4E2A;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x662F;&#x62BD;&#x53D6;&#x51FA;&#x6765;&#x7684;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x6587;&#x4EF6;&#xFF0C;&#x7531;&#x4E8E;&#x6BCF;&#x4E2A;&#x9875;&#x9762;&#x90FD;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x4FA7;&#x8FB9;&#x5BFC;&#x822A;&#x680F;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4E3A;&#x4E86;&#x7CBE;&#x7B80;&#x4EE3;&#x7801;&#x5C31;&#x5C06;&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x4F5C;&#x4E3A;&#x516C;&#x5171;&#x4EE3;&#x7801;&#xFF0C;&#x4EE3;&#x7801;&#x7B80;&#x5316;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4E5F;&#x65B9;&#x4FBF;&#x7EF4;&#x62A4;&#x548C;&#x4FEE;&#x6539;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/sidebar.html) &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;aside th:fragment=&quot;sidebar-fragment(path)&quot; class=&quot;main-sidebar sidebar-dark-primary elevation-4&quot;&gt; &lt;a th:href=&quot;@{/admin/index}&quot; class=&quot;brand-link&quot;&gt; &lt;img th:src=&quot;@{/admin/dist/img/logo.png}&quot; alt=&quot;ssm-cluster Logo&quot; class=&quot;brand-image img-circle elevation-3&quot; style=&quot;opacity: .8&quot;&gt; &lt;span class=&quot;brand-text font-weight-light&quot;&gt;my blog&lt;/span&gt; &lt;/a&gt; &lt;!-- Sidebar --&gt; &lt;div class=&quot;sidebar&quot;&gt; &lt;!-- Sidebar user panel (optional) --&gt; &lt;div class=&quot;user-panel mt-3 pb-3 mb-3 d-flex&quot;&gt; &lt;div class=&quot;image&quot;&gt; &lt;img th:src=&quot;@{/admin/dist/img/avatar5.png}&quot; class=&quot;img-circle elevation-2&quot; alt=&quot;User Image&quot;&gt; &lt;/div&gt; &lt;div class=&quot;info&quot;&gt; &lt;a href=&quot;#&quot; class=&quot;d-block&quot; th:text=&quot;${session.loginUser}&quot;&gt;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;nav class=&quot;mt-2&quot;&gt; &lt;ul class=&quot;nav nav-pills nav-sidebar flex-column&quot; data-widget=&quot;treeview&quot; role=&quot;menu&quot; data-accordion=&quot;false&quot;&gt; &lt;!-- Add icons to the links using the .nav-icon class with font-awesome or any other icon font library --&gt; &lt;li class=&quot;nav-header&quot;&gt;Dashboard&lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/index}&quot; th:class=&quot;${path}==&apos;index&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt; &lt;i class=&quot;nav-icon fa fa-dashboard&quot;&gt;&lt;/i&gt; &lt;p&gt; Dashboard &lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-header&quot;&gt;&#x7BA1;&#x7406;&#x6A21;&#x5757;&lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/categories}&quot; th:class=&quot;${path}==&apos;categories&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt; &lt;i class=&quot;fa fa-bookmark nav-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; &lt;p&gt; &#x5206;&#x7C7B;&#x7BA1;&#x7406; &lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/tags}&quot; th:class=&quot;${path}==&apos;tags&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt; &lt;i class=&quot;fa fa-tags nav-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; &lt;p&gt; &#x6807;&#x7B7E;&#x7BA1;&#x7406; &lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-header&quot;&gt;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/profile}&quot; th:class=&quot;${path}==&apos;profile&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt; &lt;i class=&quot;fa fa-user-secret nav-icon&quot;&gt;&lt;/i&gt; &lt;p&gt;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/logout}&quot; class=&quot;nav-link&quot;&gt; &lt;i class=&quot;fa fa-sign-out nav-icon&quot;&gt;&lt;/i&gt; &lt;p&gt;&#x5B89;&#x5168;&#x9000;&#x51FA;&lt;/p&gt; &lt;/a&gt; &lt;/li&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/nav&gt; &lt;/div&gt; &lt;/aside&gt; &lt;/html&gt;&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x63A5;&#x4E0B;&#x6765;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#xFF0C;&#x9996;&#x5148;&#xFF0C;&#x4EE5;&#x4E0A;&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x5982;&#x679C;&#x4E0D;&#x8FDB;&#x884C;&#x62BD;&#x53D6;&#x7684;&#x8BDD;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x6DFB;&#x52A0;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x904D;&#xFF0C;&#x4F46;&#x662F;&#x57FA;&#x672C;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x662F;&#x91CD;&#x590D;&#x7684;&#xFF0C;&#x53EA;&#x6709;&#x4E00;&#x5904;&#x4E0D;&#x540C;&#xFF0C;&#x90A3;&#x5C31;&#x662F;&#x5BFC;&#x822A;&#x680F;&#x4E2D;&#x5F53;&#x524D;&#x6A21;&#x5757;&#x7684;&#x9009;&#x4E2D;&#x72B6;&#x6001;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x4E2D;&#x7684;&#x201C;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&#x201D;&#x5373;&#x4E3A;&#x9009;&#x4E2D;&#x72B6;&#x6001;&#xFF0C;&#x5176;&#x4ED6;&#x9875;&#x9762;&#x4E0E;&#x6B64;&#x76F8;&#x540C;&#x3002; &#x8FD9;&#x91CC;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x662F;&#x901A;&#x8FC7;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; path &#x53D8;&#x91CF;&#x6765;&#x63A7;&#x5236;&#x5F53;&#x524D;&#x5BFC;&#x822A;&#x680F;&#x4E2D;&#x7684;&#x9009;&#x4E2D;&#x72B6;&#x6001;&#xFF0C;&#x5728;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4E2D;&#x7684; Thymeleaf &#x5224;&#x65AD;&#x8BED;&#x53E5;&#x4E2D;&#x901A;&#x8FC7; path &#x5B57;&#x6BB5;&#x6765;&#x786E;&#x5B9A;&#x662F;&#x54EA;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#xFF0C;&#x5E76;&#x5BF9;&#x5E94;&#x7684;&#x5C06;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x4E0A;&#x5F53;&#x524D;&#x6A21;&#x5757;&#x7684; css &#x6837;&#x5F0F;&#x7ED9;&#x4FEE;&#x6539;&#x6389;&#xFF0C;&#x5224;&#x65AD;&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF1A; th:class=&quot;${path}==&apos;categories&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&#x5982;&#x679C;&#x5F53;&#x524D;&#x7684; path &#x5B57;&#x6BB5;&#x503C;&#x4E3A; &#x2018;categories&#x2019;&#xFF0C;&#x90A3;&#x4E48;&#x201C;&#x5206;&#x7C7B;&#x7BA1;&#x7406;&#x201D;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x7684; css &#x6837;&#x5F0F;&#x5C31;&#x4FEE;&#x6539;&#x4E3A;&#x9009;&#x4E2D;&#x72B6;&#x6001;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x7684; path &#x5B57;&#x6BB5;&#x503C;&#x4E3A; &#x2018;tags&#x2019;&#xFF0C;&#x90A3;&#x4E48;&#x201C;&#x6807;&#x7B7E;&#x7BA1;&#x7406;&#x201D;&#x8FD9;&#x4E2A;&#x9009;&#x9879;&#x7684; css &#x6837;&#x5F0F;&#x5C31;&#x4FEE;&#x6539;&#x4E3A;&#x9009;&#x4E2D;&#x72B6;&#x6001;&#xFF0C;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x4F9D;&#x6B21;&#x7C7B;&#x63A8;&#xFF0C;path &#x5B57;&#x6BB5;&#x7684;&#x503C;&#x662F;&#x5728;&#x54EA;&#x91CC;&#x8FDB;&#x884C;&#x8D4B;&#x503C;&#x7684;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x662F; admin &#x5305;&#x4E0B;&#x7684; Controller &#x7C7B;&#x4E2D;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#x65F6;&#xFF0C;&#x4F1A;&#x5206;&#x522B;&#x5C06;&#x5BF9;&#x5E94;&#x7684; path &#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8D4B;&#x503C;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; TagController(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.TagController.java) @GetMapping(&quot;/tags&quot;) public String tagPage(HttpServletRequest request) { request.setAttribute(&quot;path&quot;, &quot;tags&quot;); return &quot;admin/tag&quot;; } CategoryController (&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.CategoryController.java) @GetMapping(&quot;/categories&quot;) public String categoryPage(HttpServletRequest request) { request.setAttribute(&quot;path&quot;, &quot;categories&quot;); return &quot;admin/category&quot;; }&#x901A;&#x8FC7;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4EE5;&#x540E;&#x5982;&#x679C;&#x9700;&#x8981;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x65B0;&#x589E;&#x4E00;&#x4E2A;&#x6A21;&#x5757;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x5E94;&#x7684;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x5BFC;&#x822A;&#x680F;&#x6309;&#x94AE;&#x5728; sidebar.html &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5E76;&#x5728;&#x540E;&#x7AEF;&#x7684;&#x63A7;&#x5236;&#x5668;&#x65B9;&#x6CD5;&#x4E2D;&#x8D4B;&#x503C;&#x5BF9;&#x5E94;&#x7684; path &#x5B57;&#x6BB5;&#x5373;&#x53EF;&#xFF0C;&#x6BD4;&#x5982;&#x535A;&#x5BA2;&#x7BA1;&#x7406;&#x3001;&#x914D;&#x7F6E;&#x7BA1;&#x7406;&#x7B49;&#x4E4B;&#x540E;&#x7684;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x3002; &#x6807;&#x7B7E;&#x6A21;&#x5757;&#x7B80;&#x4ECB;&#x6807;&#x7B7E;&#x662F;&#x4E00;&#x79CD;&#x66F4;&#x4E3A;&#x7075;&#x6D3B;&#x3001;&#x66F4;&#x6709;&#x8DA3;&#x7684;&#x5206;&#x7C7B;&#x65B9;&#x5F0F;&#xFF0C;&#x5728;&#x4E66;&#x5199;&#x535A;&#x5BA2;&#x65F6;&#x53EF;&#x4EE5;&#x4E3A;&#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x6807;&#x7B7E;&#xFF0C;&#x5728;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x6587;&#x7AE0;&#x7684;&#x6807;&#x7B7E;&#x8BBE;&#x8BA1;&#x88AB;&#x5E7F;&#x6CDB;&#x5E94;&#x7528;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5927;&#x90E8;&#x5206;&#x7684;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#x4E2D;&#x90FD;&#x4F1A;&#x6709;&#x6807;&#x7B7E;&#x8BBE;&#x8BA1;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x5728;&#x8BBE;&#x8BA1; personal-blog &#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x65F6;&#xFF0C;&#x4E5F;&#x5C06;&#x6807;&#x7B7E;&#x8FD0;&#x7528;&#x4E86;&#x8FDB;&#x6765;&#x3002; &#x6807;&#x7B7E;&#x6700;&#x660E;&#x663E;&#x7684;&#x4F5C;&#x7528;&#x6709;&#x5982;&#x4E0B;&#x4E24;&#x70B9;&#xFF1A; &#x4E00;&#x662F;&#x4F20;&#x7EDF;&#x610F;&#x4E49;&#x4E0A;&#x5206;&#x7C7B;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x7C7B;&#x4F3C;&#x5206;&#x7C7B;&#x540D;&#x79F0; &#x4E8C;&#x662F;&#x5BF9;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x7684;&#x63CF;&#x8FF0;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x5173;&#x952E;&#x8BCD; &#x867D;&#x7136;&#x4E0E;&#x5206;&#x7C7B;&#x8BBE;&#x8BA1;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x6807;&#x7B7E;&#x548C;&#x5206;&#x7C7B;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x7EC6;&#x533A;&#x522B;&#xFF1A; &#x540C;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x7528;&#x591A;&#x4E2A;&#xFF0C;&#x4F46;&#x901A;&#x5E38;&#x53EA;&#x80FD;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x5206;&#x7C7B; &#x6807;&#x7B7E;&#x4E00;&#x822C;&#x662F;&#x5728;&#x5199;&#x4F5C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6839;&#x636E;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x81EA;&#x884C;&#x6DFB;&#x52A0;&#x7684;&#x5185;&#x5BB9; &#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x628A;&#x6587;&#x7AE0;&#x4E2D;&#x91CD;&#x70B9;&#x8BCD;&#x8BED;&#x63D0;&#x70BC;&#x51FA;&#x6765;&#xFF0C;&#x6709;&#x5173;&#x952E;&#x8BCD;&#x7684;&#x610F;&#x4E49;&#xFF0C;&#x4F46;&#x662F;&#x5206;&#x7C7B;&#x6CA1;&#x6709; &#x6807;&#x7B7E;&#x901A;&#x5E38;&#x66F4;&#x4E3A;&#x4E3B;&#x89C2;&#xFF0C;&#x5176;&#x5185;&#x5BB9;&#x76F8;&#x8F83;&#x4E8E;&#x5206;&#x7C7B;&#x6765;&#x8BF4;&#x66F4;&#x52A0;&#x5177;&#x4F53;&#x4E00;&#x4E9B; &#x4E0E;&#x5206;&#x7C7B;&#x7684;&#x529F;&#x80FD;&#x548C;&#x8BBE;&#x8BA1;&#x601D;&#x60F3;&#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x53C8;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x6807;&#x7B7E;&#x53EF;&#x4EE5;&#x7B97;&#x662F;&#x5206;&#x7C7B;&#x7684;&#x7EC6;&#x5316;&#x7248;&#x672C;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#x7684;&#x5206;&#x7C7B;&#x6700;&#x597D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x8BBE;&#x8BA1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#x7684;&#x6807;&#x7B7E;&#x662F;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x7684;&#xFF0C;&#x6807;&#x7B7E;&#x8BBE;&#x8BA1;&#x7684;&#x4ECB;&#x7ECD;&#x5C31;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x7684;&#x8BB2;&#x89E3;&#x3002; &#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA; Mapper &#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x6807;&#x7B7E;&#x4E0E;&#x6587;&#x7AE0;&#x7684;&#x5173;&#x7CFB;&#x901A;&#x8FC7;&#x524D;&#x6587;&#x4E2D;&#x6807;&#x7B7E;&#x8BBE;&#x8BA1;&#x7684;&#x4ECB;&#x7ECD;&#x6211;&#x4EEC;&#x4E5F;&#x5927;&#x81F4;&#x7684;&#x4E86;&#x89E3;&#x4E86;&#x6807;&#x7B7E;&#x4E0E;&#x6587;&#x7AE0;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x6807;&#x7B7E;&#x5B57;&#x6BB5;&#xFF0C;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x5B57;&#x6BB5;&#x4E5F;&#x53EF;&#x4EE5;&#x88AB;&#x6807;&#x6CE8;&#x5728;&#x591A;&#x4E2A;&#x6587;&#x7AE0;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x60C5;&#x51B5;&#x4E0E;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x5206;&#x7C7B;&#x8BBE;&#x8BA1;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x5DEE;&#x522B;&#x7684;&#xFF0C;&#x6807;&#x7B7E;&#x5B9E;&#x4F53;&#x4E0E;&#x6587;&#x7AE0;&#x5B9E;&#x4F53;&#x7684;&#x5173;&#x7CFB;&#x662F;&#x591A;&#x5BF9;&#x591A;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x65F6;&#x4E0D;&#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x6807;&#x7B7E;&#x5B9E;&#x4F53;&#x548C;&#x6587;&#x7AE0;&#x5B9E;&#x4F53;&#x7684;&#x5B57;&#x6BB5;&#x6620;&#x5C04;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x5B58;&#x50A8;&#x4E8C;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E;&#xFF0C;&#x672C;&#x7CFB;&#x7EDF;&#x91C7;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x65B0;&#x589E;&#x4E00;&#x5F20;&#x5173;&#x7CFB;&#x8868;&#x6765;&#x7EF4;&#x62A4;&#x4E8C;&#x8005;&#x591A;&#x5BF9;&#x591A;&#x7684;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x3002; &#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x6807;&#x7B7E;&#x8868;&#x4EE5;&#x53CA;&#x6807;&#x7B7E;&#x6587;&#x7AE0;&#x5173;&#x7CFB;&#x8868;&#x7684; SQL &#x8BBE;&#x8BA1;&#x5982;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x5982;&#x4E0B; SQL &#x8BED;&#x53E5;&#x5373;&#x53EF;&#xFF1A; USE `my_blog_db`; DROP TABLE IF EXISTS `tb_blog_tag`; CREATE TABLE `tb_blog_tag` ( `tag_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;&#x6807;&#x7B7E;&#x8868;&#x4E3B;&#x952E;id&apos;, `tag_name` varchar(100) NOT NULL COMMENT &apos;&#x6807;&#x7B7E;&#x540D;&#x79F0;&apos;, `is_deleted` tinyint(4) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;&#x662F;&#x5426;&#x5220;&#x9664; 0=&#x5426; 1=&#x662F;&apos;, `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &apos;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&apos;, PRIMARY KEY (`tag_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8; DROP TABLE IF EXISTS `tb_blog_tag_relation`; CREATE TABLE `tb_blog_tag_relation` ( `relation_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &apos;&#x5173;&#x7CFB;&#x8868;id&apos;, `blog_id` bigint(20) NOT NULL COMMENT &apos;&#x535A;&#x5BA2;id&apos;, `tag_id` int(11) NOT NULL COMMENT &apos;&#x6807;&#x7B7E;id&apos;, `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, PRIMARY KEY (`relation_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#x4E24;&#x5F20;&#x8868;&#x7684;&#x5B57;&#x6BB5;&#x4EE5;&#x53CA;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#x7684;&#x542B;&#x4E49;&#x90FD;&#x5728;&#x4E0A;&#x9762;&#x7684; SQL &#x4E2D;&#x6709;&#x4ECB;&#x7ECD;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x5BF9;&#x7167; SQL &#x8FDB;&#x884C;&#x7406;&#x89E3;&#xFF0C;&#x5728;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#x6709;&#x4E00;&#x4E2A; blog_id &#x5B57;&#x6BB5;&#xFF0C;&#x662F;&#x6587;&#x7AE0;&#x8868;&#x7684;&#x4E3B;&#x952E; id&#xFF0C;&#x867D;&#x7136;&#x6682;&#x65F6;&#x8FD8;&#x6CA1;&#x6709;&#x4ECB;&#x7ECD;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#xFF0C;&#x4F46;&#x662F;&#x5927;&#x5BB6;&#x5E94;&#x8BE5;&#x80FD;&#x591F;&#x7406;&#x89E3;&#x5173;&#x7CFB;&#x8868;&#x5B58;&#x653E;&#x7684;&#x5B57;&#x6BB5;&#x542B;&#x4E49;&#xFF0C;&#x8FD9;&#x5F20;&#x8868;&#x5B58;&#x50A8;&#x7684;&#x5C31;&#x662F;&#x6807;&#x7B7E;&#x8BB0;&#x5F55;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x7AE0;&#x8BB0;&#x5F55;&#xFF0C;&#x4EE5;&#x591A;&#x5BF9;&#x591A;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x8BB0;&#x5F55;&#x7684;&#xFF0C;&#x628A;&#x8868;&#x7ED3;&#x6784;&#x5BFC;&#x5165;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x5DE5;&#x4F5C;&#x3002; &#x53E6;&#x5916;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x8FD9;&#x91CC;&#x63D0;&#x9192;&#x5927;&#x5BB6;&#xFF0C;&#x6807;&#x7B7E;&#x8868;&#x4EE5;&#x53CA;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x5927;&#x90E8;&#x5206;&#x7684;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x662F;&#x5728;&#x540E;&#x7EED;&#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x4E2D;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x548C;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x4EC5;&#x4EC5;&#x4ECB;&#x7ECD;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x8981;&#x89C9;&#x5F97;&#x8FD9;&#x4E24;&#x5F20;&#x8868;&#x610F;&#x4E49;&#x4E0D;&#x5927;&#x3002; MyBatis-Generator &#x63D2;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210; Mapper &#x6587;&#x4EF6;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; MyBatis-Generator &#x63D2;&#x4EF6;&#x5C06;&#x4E24;&#x5F20;&#x8868;&#x5BF9;&#x5E94;&#x7684; Mapper &#x6587;&#x4EF6;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x548C; Dao &#x5C42;&#x63A5;&#x53E3;&#x751F;&#x6210;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x5C31;&#x4E0D;&#x8D34;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x4E86;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x6765;&#x67E5;&#x770B;&#x3002; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x540E;&#x9700;&#x8981;&#x5728; dao &#x5C42;&#x4E0B;&#x7684; BlogTagMapper&#x63A5;&#x53E3;&#x7C7B;&#x548C; BlogTagRelationMapper &#x63A5;&#x53E3;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @Mapper &#x6CE8;&#x89E3;&#x4EE5;&#x5C06;&#x5176;&#x6CE8;&#x518C;&#x5230; IOC &#x5BB9;&#x5668;&#x4E2D;&#x4EE5;&#x4F9B;&#x540E;&#x7EED;&#x8C03;&#x7528;&#xFF08;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5728;&#x4E3B;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @MapperScan &#x6CE8;&#x89E3;&#x8FD9;&#x4E00;&#x6B65;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF09;&#xFF0C;&#x751F;&#x6210;&#x7684; Mapper &#x6587;&#x4EF6;&#x4E5F;&#x9700;&#x8981;&#x5BF9;&#x5E94;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x7684;&#x662F;&#x8F6F;&#x5220;&#x9664;&#x8BBE;&#x8BA1;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5728;&#x751F;&#x6210;&#x7684; SQL &#x8BED;&#x53E5;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x52A0;&#x4E0A; is_deleted &#x5B57;&#x6BB5;&#x7684;&#x903B;&#x8F91;&#xFF0C;is_deleted &#x5B57;&#x6BB5;&#x5728;&#x524D;&#x6587;&#x4E2D;&#x4E5F;&#x5DF2;&#x7ECF;&#x6709;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x3002; &#x6807;&#x7B7E;&#x6A21;&#x5757;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x53CA;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x4ECB;&#x7ECD;&#x6807;&#x7B7E;&#x6A21;&#x5757;&#x7684;&#x5927;&#x90E8;&#x5206;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x662F;&#x5728;&#x7EF4;&#x62A4;&#x6587;&#x7AE0;&#x8868;&#x65F6;&#x5904;&#x7406;&#x7684;&#xFF0C;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x6807;&#x7B7E;&#x6A21;&#x5757;&#x7684;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x6807;&#x7B7E;&#x6A21;&#x5757;&#x5728;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x6709; 3 &#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5206;&#x522B;&#x662F;&#xFF1A; &#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3; &#x6DFB;&#x52A0;&#x6807;&#x7B7E;&#x63A5;&#x53E3; &#x5220;&#x9664;&#x6807;&#x7B7E;&#x63A5;&#x53E3; &#x63A5;&#x4E0B;&#x6765;&#x8BB2;&#x89E3;&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#xFF0C;&#x9996;&#x5148;&#x5728; controller/admin &#x5305;&#x4E0B;&#x65B0;&#x5EFA; TagController.java&#xFF0C;&#x5E76;&#x5728; service &#x5305;&#x4E0B;&#x65B0;&#x5EFA;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801; TagService.java &#x53CA;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4E4B;&#x540E;&#x53C2;&#x7167;&#x63A5;&#x53E3;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002; &#x6807;&#x7B7E;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x5217;&#x8868;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x4F20;&#x6765;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#xFF0C;&#x5982; page &#x3001;limit &#x7B49;&#x53C2;&#x6570;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x6570;&#x636E;&#x603B;&#x6570;&#x548C;&#x5BF9;&#x5E94;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x5C01;&#x88C5;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.TagController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /tags/list&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; public Result list(@RequestParam Map&lt;String, Object&gt; params) { if (StringUtils.isEmpty(params.get(&quot;page&quot;)) || StringUtils.isEmpty(params.get(&quot;limit&quot;))) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } PageQueryUtil pageUtil = new PageQueryUtil(params); return ResultGenerator.genSuccessResult(tagService.getBlogTagPage(pageUtil)); } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.TagServiceImpl.java&#xFF09;&#xFF1A; public PageResult getBlogTagPage(PageQueryUtil pageUtil) { List&lt;BlogTag&gt; tags = blogTagMapper.findTagList(pageUtil); int total = blogTagMapper.getTotalTags(pageUtil); PageResult pageResult = new PageResult(tags, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } BlogTagMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogTagMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findTagList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog_tag where is_deleted=0 order by tag_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalTags&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog_tag where is_deleted=0 &lt;/select&gt;SQL &#x8BED;&#x53E5;&#x5728; BlogTagMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C; SQL &#x8BED;&#x53E5;&#x662F;&#x5728;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684; SQL &#x8BED;&#x53E5;&#x4E2D;&#x589E;&#x52A0;&#x4E86; is_deleted &#x5B57;&#x6BB5;&#x7684;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x5206;&#x9875;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528; limit &#x5173;&#x952E;&#x5B57;&#x5B9E;&#x73B0;&#xFF0C;&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x6761;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x548C;&#x603B;&#x6570;&#x4E4B;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x6839;&#x636E;&#x524D;&#x7AEF;&#x4F20;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x5206;&#x9875;&#x6570;&#x636E;&#x4EE5;&#x4F9B;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x3002; &#x6DFB;&#x52A0;&#x6807;&#x7B7E;&#x63A5;&#x53E3;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684; POST &#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#x5176;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x63A5;&#x6536;&#x7684;&#x53C2;&#x6570;&#x4E3A; tagName &#x5B57;&#x6BB5;&#xFF0C;tagName &#x4E3A;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.TagController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /tags/save&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/tags/save&quot;) @ResponseBody public Result save(@RequestParam(&quot;tagName&quot;) String tagName) { if (StringUtils.isEmpty(tagName)) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (tagService.saveTag(tagName)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x91CD;&#x590D;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.TagServiceImpl.java&#xFF09;&#xFF1A; @Override public Boolean saveTag(String tagName) { BlogTag temp = blogTagMapper.selectByTagName(tagName); if (temp == null) { BlogTag blogTag = new BlogTag(); blogTag.setTagName(tagName); return blogTagMapper.insertSelective(blogTag) &gt; 0; } return false; }SQL &#x8BED;&#x53E5;&#x5728; BlogTagMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x662F;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684; SQL&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8D34;&#x4E86;&#xFF0C;&#x6807;&#x7B7E;&#x6DFB;&#x52A0;&#x7684;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#xFF0C;&#x4E4B;&#x540E;&#x4EA4;&#x7ED9;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5728; saveTag() &#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x6839;&#x636E;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x8BE5;&#x6807;&#x7B7E;&#x5BF9;&#x8C61;&#xFF0C;&#x4E4B;&#x540E;&#x624D;&#x4F1A;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#x5E76;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93; insert &#x64CD;&#x4F5C;&#x3002; &#x5220;&#x9664;&#x6807;&#x7B7E;&#x63A5;&#x53E3;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684;&#x6807;&#x7B7E;&#x5220;&#x9664;&#x8BF7;&#x6C42;&#xFF0C;&#x5904;&#x7406;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x201C;&#x5220;&#x9664;&#x201D;&#x529F;&#x80FD;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x662F;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5220;&#x9664;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x524D;&#x7AEF;&#x5C06;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55; id &#x5C01;&#x88C5;&#x597D;&#x518D;&#x4F20;&#x53C2;&#x5230;&#x540E;&#x7AEF;&#x5373;&#x53EF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.TagController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /tags/delete&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/tags/delete&quot;) @ResponseBody public Result delete(@RequestBody Integer[] ids) { if (ids.length &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (tagService.deleteBatch(ids)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x6709;&#x5173;&#x8054;&#x6570;&#x636E;&#x8BF7;&#x52FF;&#x5F3A;&#x884C;&#x5220;&#x9664;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.TagServiceImpl.java&#xFF09;&#xFF1A; @Override public Boolean deleteBatch(Integer[] ids) { //&#x5DF2;&#x5B58;&#x5728;&#x5173;&#x8054;&#x5173;&#x7CFB;&#x4E0D;&#x5220;&#x9664; List&lt;Long&gt; relations = relationMapper.selectDistinctTagIds(ids); if (!CollectionUtils.isEmpty(relations)) { return false; } //&#x5220;&#x9664;tag return blogTagMapper.deleteBatch(ids) &gt; 0; }&#x5728;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5224;&#x65AD;&#x8BE5;&#x6807;&#x7B7E;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x4E0E;&#x6587;&#x7AE0;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4E86;&#x5173;&#x8054;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5173;&#x8054;&#x5173;&#x7CFB;&#xFF0C;&#x5C31;&#x4E0D;&#x8FDB;&#x884C;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x662F;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x79CD;&#x5904;&#x7406;&#x65B9;&#x5F0F;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x6DFB;&#x52A0;&#x6587;&#x7AE0;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x4E5F;&#x4F1A;&#x5BF9;&#x5E94;&#x7684;&#x5411;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x65B0;&#x589E;&#x6807;&#x7B7E;&#x6570;&#x636E;&#x548C;&#x5173;&#x7CFB;&#x6570;&#x636E;&#xFF08;&#x540E;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x4E2D;&#x4F1A;&#x4ECB;&#x7ECD;&#x8FD9;&#x4E9B;&#x5185;&#x5BB9;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x6570;&#x636E;&#x5220;&#x9664;&#x65F6;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x786E;&#x8BA4;&#x4EE5;&#x514D;&#x9020;&#x6210;&#x6570;&#x636E;&#x6DF7;&#x4E71;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x5904;&#x7406;&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x662F;&#x5728;&#x5220;&#x9664;&#x6807;&#x7B7E;&#x8BB0;&#x5F55;&#x65F6;&#xFF0C;&#x5C06;&#x6807;&#x7B7E;&#x8BB0;&#x5F55;&#x4EE5;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#x6240;&#x6709;&#x4E0E;&#x6B64;&#x6807;&#x7B7E;&#x6709;&#x5173;&#x8054;&#x7684;&#x8BB0;&#x5F55;&#x5220;&#x9664;&#x6389;&#xFF0C;&#x8FD9;&#x6837;&#x4E5F;&#x662F;&#x53EF;&#x4EE5;&#x7684;&#xFF0C;&#x672C;&#x7CFB;&#x7EDF;&#x9009;&#x62E9;&#x7684;&#x662F;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x3002; BlogTagMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogTagMapper.xml&#xFF09;&#xFF1A; &lt;update id=&quot;deleteBatch&quot;&gt; update tb_blog_tag set is_deleted=1 where tag_id in &lt;foreach item=&quot;id&quot; collection=&quot;array&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #{id} &lt;/foreach&gt; &lt;/update&gt; BlogTagRelationMapper.xml&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogTagRelationMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;selectDistinctTagIds&quot; resultType=&quot;java.lang.Long&quot;&gt; select DISTINCT(tag_id) from tb_blog_tag_relation where tag_id in &lt;foreach item=&quot;id&quot; collection=&quot;array&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #{id} &lt;/foreach&gt; &lt;/select&gt;&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /tags/delete&#xFF0C;&#x5E76;&#x4F7F;&#x7528; @RequestBody &#x5C06;&#x524D;&#x7AEF;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x4E3A; id &#x6570;&#x7EC4;&#xFF0C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5219;&#x8C03;&#x7528; deleteBatch() &#x6279;&#x91CF;&#x5220;&#x9664;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5411;&#x524D;&#x7AEF;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B9E;&#x73B0;tag.html&#x5728; resources/templates/admin &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; tag.html&#xFF0C;&#x5E76;&#x5F15;&#x5165;&#x5BF9;&#x5E94;&#x7684; js &#x6587;&#x4EF6;&#x548C; css &#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x3002; &#x529F;&#x80FD;&#x6309;&#x94AE;&#x53CA;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x6807;&#x7B7E;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x6211;&#x4EEC;&#x4E5F;&#x8BBE;&#x8BA1;&#x4E86;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;&#x529F;&#x80FD;&#xFF1A;&#x6807;&#x7B7E;&#x4FE1;&#x606F;&#x589E;&#x52A0;&#x3001;&#x6807;&#x7B7E;&#x4FE1;&#x606F;&#x5220;&#x9664;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x4EE5;&#x53CA;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x7531;&#x4E8E;&#x6807;&#x7B7E;&#x4FE1;&#x606F;&#x7684;&#x5B57;&#x6BB5;&#x5E76;&#x4E0D;&#x591A;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x6309;&#x94AE;&#x533A;&#x65B0;&#x589E;&#x4E86;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x7684;&#x8F93;&#x5165;&#x6846;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/tag.html) &lt;div class=&quot;grid-btn&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control col-1&quot; id=&quot;tagName&quot; name=&quot;tagName&quot; placeholder=&quot;&#x6807;&#x7B7E;&#x540D;&#x79F0;&quot; required=&quot;true&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;button class=&quot;btn btn-info&quot; onclick=&quot;tagAdd()&quot;&gt;&lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x65B0;&#x589E; &lt;/button&gt; &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;deleteTag()&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x5220;&#x9664; &lt;/button&gt; &lt;/div&gt;&#x5206;&#x522B;&#x662F;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; tagAdd() &#x65B9;&#x6CD5;&#xFF0C;&#x5220;&#x9664;&#x6309;&#x94AE;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; deleteTag() &#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x540E;&#x7EED;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E2D;&#x7ED9;&#x51FA;&#x3002; &#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x9875;&#x9762;&#x4E2D;&#x5DF2;&#x7ECF;&#x5F15;&#x5165; JqGrid &#x7684;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x5206;&#x9875;&#x6570;&#x636E;&#x7684;&#x533A;&#x57DF;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &lt;table id=&quot;jqGrid&quot; class=&quot;table table-bordered&quot;&gt;&lt;/table&gt; &lt;div id=&quot;jqGridPager&quot;&gt;&lt;/div&gt;&#x9875;&#x9762;&#x6548;&#x679C;&#x90A3;&#x4E48;&#x6700;&#x7EC8;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x6548;&#x679C;&#x5C55;&#x793A;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5305;&#x62EC;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x3001;&#x6570;&#x636E;&#x5217;&#x8868;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x4EE5;&#x53CA;&#x7FFB;&#x9875;&#x529F;&#x80FD;&#x533A;&#x57DF;&#xFF0C;&#x6B64;&#x65F6;&#x53EA;&#x662F;&#x9759;&#x6001;&#x6548;&#x679C;&#x5C55;&#x793A;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x4E0E;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x7ED3;&#x5408; Ajax &#x548C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x5177;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x3002; &#x6807;&#x7B7E;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x524D;&#x7AEF;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x4E86;&#x9875;&#x9762;&#x5C55;&#x793A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x63A5;&#x7740;&#x5B8C;&#x6210;&#x76F8;&#x5173;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x4E00;&#x5B9A;&#x81EA;&#x884C;&#x5BF9;&#x7167;&#x6E90;&#x7801;&#x5B8C;&#x6210;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5728; resources/static/admin/dist/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; tag.js &#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; $(function () { $(&quot;#jqGrid&quot;).jqGrid({ url: &apos;/admin/tags/list&apos;, datatype: &quot;json&quot;, colModel: [ {label: &apos;id&apos;, name: &apos;tagId&apos;, index: &apos;tagId&apos;, width: 50, key: true, hidden: true}, {label: &apos;&#x6807;&#x7B7E;&#x540D;&#x79F0;&apos;, name: &apos;tagName&apos;, index: &apos;tagName&apos;, width: 240}, {label: &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, name: &apos;createTime&apos;, index: &apos;createTime&apos;, width: 120} ], height: 560, rowNum: 10, rowList: [10, 20, 50], styleUI: &apos;Bootstrap&apos;, loadtext: &apos;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x4E2D;...&apos;, rownumbers: false, rownumWidth: 20, autowidth: true, multiselect: true, pager: &quot;#jqGridPager&quot;, jsonReader: { root: &quot;data.list&quot;, page: &quot;data.currPage&quot;, total: &quot;data.totalPage&quot;, records: &quot;data.totalCount&quot; }, prmNames: { page: &quot;page&quot;, rows: &quot;limit&quot;, order: &quot;order&quot;, }, gridComplete: function () { //&#x9690;&#x85CF;grid&#x5E95;&#x90E8;&#x6EDA;&#x52A8;&#x6761; $(&quot;#jqGrid&quot;).closest(&quot;.ui-jqgrid-bdiv&quot;).css({&quot;overflow-x&quot;: &quot;hidden&quot;}); } }); $(window).resize(function () { $(&quot;#jqGrid&quot;).setGridWidth($(&quot;.card-body&quot;).width()); }); });&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x5C55;&#x793A;&#x3001;&#x5B57;&#x6BB5;&#x683C;&#x5F0F;&#x5316; jqGrid DOM &#x5BBD;&#x5EA6;&#x7684;&#x81EA;&#x9002;&#x5E94;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x8C03;&#x7528; JqGrid &#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x9875;&#x9762;&#x4E2D; id &#x4E3A; jqGrid &#x7684; DOM &#x6E32;&#x67D3;&#x4E3A;&#x5206;&#x9875;&#x8868;&#x683C;&#xFF0C;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x4E4B;&#x540E;&#x6309;&#x7167;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684; json &#x6570;&#x636E;&#x586B;&#x5145;&#x8868;&#x683C;&#x4EE5;&#x53CA;&#x8868;&#x683C;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7B2C; 15 &#x4E2A;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4E2D; jqgrid &#x5206;&#x9875;&#x529F;&#x80FD;&#x6574;&#x5408;&#x8FDB;&#x884C;&#x77E5;&#x8BC6;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x9A8C;&#x8BC1;&#x4E00;&#x4E0B;&#x6807;&#x7B7E;&#x4FE1;&#x606F;&#x5206;&#x9875;&#x529F;&#x80FD;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002; &#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x5728;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x53F3;&#x4FA7;&#x7684;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#xFF0C;&#x6B64;&#x65F6;&#x4F1A;&#x89E6;&#x53D1; tagAdd() &#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;js &#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/tag.js) function tagAdd() { var tagName = $(&quot;#tagName&quot;).val(); if (!validCN_ENString2_18(tagName)) { swal(&quot;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x4E0D;&#x89C4;&#x8303;&quot;, { icon: &quot;error&quot;, }); } else { var url = &apos;/admin/tags/save?tagName=&apos; + tagName; $.ajax({ type: &apos;POST&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: url, success: function (result) { if (result.resultCode == 200) { $(&quot;#tagName&quot;).val(&apos;&apos;) swal(&quot;&#x4FDD;&#x5B58;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); reload(); } else { $(&quot;#tagName&quot;).val(&apos;&apos;) swal(result.message, { icon: &quot;error&quot;, }); } ; }, error: function () { swal(&quot;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot;, }); } }); } }&#x6309;&#x94AE;&#x70B9;&#x51FB;&#x540E;&#x4F1A;&#x89E6;&#x53D1;&#x5BF9;&#x5E94;&#x7684; js &#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x8BE5;&#x65B9;&#x6CD5;&#x4E2D;&#x9996;&#x5148;&#x4F1A;&#x5BF9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x6B63;&#x5219;&#x9A8C;&#x8BC1;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5C01;&#x88C5;&#x6570;&#x636E;&#x5E76;&#x5411;&#x5BF9;&#x5E94;&#x7684;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#x6DFB;&#x52A0;&#x6807;&#x7B7E;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x63D0;&#x793A;&#x3002; &#x5220;&#x9664;&#x529F;&#x80FD;&#x5220;&#x9664;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4E3A; deleteTag()&#xFF0C;&#x5728; tag.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; function deleteTag() { var ids = getSelectedRows(); if (ids == null) { return; } swal({ title: &quot;&#x786E;&#x8BA4;&#x5F39;&#x6846;&quot;, text: &quot;&#x786E;&#x8BA4;&#x8981;&#x5220;&#x9664;&#x6570;&#x636E;&#x5417;?&quot;, icon: &quot;warning&quot;, buttons: true, dangerMode: true, }).then((flag) =&gt; { if (flag) { $.ajax({ type: &quot;POST&quot;, url: &quot;/admin/tags/delete&quot;, contentType: &quot;application/json&quot;, data: JSON.stringify(ids), success: function (r) { if (r.resultCode == 200) { swal(&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); $(&quot;#jqGrid&quot;).trigger(&quot;reloadGrid&quot;); } else { swal(r.message, { icon: &quot;error&quot;, }); } } }); } } ); }&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5728; jqgrid &#x8868;&#x683C;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684; id&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; tags/delete&#xFF0C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x6E90;&#x7801;&#x4EE5;&#x53CA;&#x5B9E;&#x9645;&#x7684;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x548C;&#x7406;&#x89E3;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x3002; &#x5B9E;&#x9A8C;&#x697C; web ide &#x4E2D;&#x64CD;&#x4F5C; Spring Boot &#x9879;&#x76EE;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x4E0B;&#x8F7D;&#x5E76;&#x53C2;&#x7167;&#x6E90;&#x7801;&#x5BF9;&#x6BD4;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x3002; &#x542F;&#x52A8; MySQL &#x5E76;&#x65B0;&#x589E; tb_blog_tag &#x8868;&#x548C; tb_blog_tag_relation &#x8868;&#x8BE6;&#x7EC6;&#x6B65;&#x9AA4;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5B9E;&#x9A8C; 15 &#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x518D;&#x6D6A;&#x8D39;&#x7BC7;&#x5E45;&#x53BB;&#x4ECB;&#x7ECD;&#x4E86;&#x3002; &#x542F;&#x52A8;&#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x5DF2;&#x89E3;&#x538B;&#x7684; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/admin/login &#x767B;&#x9646;&#x81F3;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x9996;&#x9875;&#xFF0C;&#x4E4B;&#x540E;&#x70B9;&#x51FB;&#x6807;&#x7B7E;&#x7BA1;&#x7406;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x4E86;&#xFF0C;&#x6F14;&#x793A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x6DFB;&#x52A0;&#x529F;&#x80FD;&#xFF1A; &#x5220;&#x9664;&#x529F;&#x80FD;&#xFF1A; &#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-17-wen-zhang-bian-ji.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x5668; Editor.md &#x7684;&#x6574;&#x5408;&#x548C;&#x4F7F;&#x7528;&#xFF0C;&#x4E00;&#x4E2A;&#x6613;&#x7528;&#x3001;&#x5408;&#x9002;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x5BF9;&#x4E8E;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#x662F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x5C24;&#x5176;&#x662F;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x5728; GitHub &#x4E0A;&#x7684;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#xFF0C;&#x56E0;&#x4E3A;&#x4F1A;&#x6709;&#x4E16;&#x754C;&#x5404;&#x5730;&#x7684; Java &#x5F00;&#x53D1;&#x8005;&#x53EF;&#x80FD;&#x4F1A;&#x7528;&#x5230;&#x5B83;&#xFF0C;&#x5982;&#x679C;&#x8FDE;&#x6700;&#x57FA;&#x7840;&#x7684;&#x7F16;&#x8F91;&#x5668;&#x90FD;&#x6CA1;&#x6709;&#x6574;&#x5408;&#x5B8C;&#x5584;&#x7684;&#x8BDD;&#xFF0C;&#x8FD9;&#x4E2A;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x80AF;&#x5B9A;&#x5F88;&#x4F4E;&#xFF0C;&#x56E0;&#x6B64;&#x82B1;&#x8D39;&#x4E86;&#x4E00;&#x4E2A;&#x7AE0;&#x8282;&#x6765;&#x4ECB;&#x7ECD;&#x548C;&#x5B9E;&#x9645;&#x7684;&#x6574;&#x5408;&#x3002;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x80AF;&#x5B9A;&#x4E0D;&#x6B62;&#x7F16;&#x8F91;&#x5668;&#x7684;&#x6574;&#x5408;&#xFF0C;&#x5305;&#x62EC;&#x6587;&#x7AE0;&#x8868;&#x4E5F;&#x4E0D;&#x6B62;&#x4E00;&#x4E2A;&#x5185;&#x5BB9;&#x5B57;&#x6BB5;&#xFF0C;&#x63A5;&#x4E0B;&#x53BB;&#x7684;&#x5B9E;&#x9A8C;&#x6211;&#x4EEC;&#x4F1A;&#x5BF9;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x5206;&#x6790;&#x5E76;&#x4F5C;&#x51FA;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#xFF0C;&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x7684;&#x5236;&#x4F5C;&#x548C;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x535A;&#x5BA2;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1; &#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5236;&#x4F5C; &#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x5B9E;&#x73B0; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-22.zip unzip My-Blog-22.zip cd My-Blog&#x535A;&#x5BA2;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x7B80;&#x4ECB;&#x535A;&#x5BA2; (blog) &#x4E00;&#x8BCD;&#x6E90;&#x4E8E; Web&#x2002;Log (&#x7F51;&#x7EDC;&#x65E5;&#x5FD7;)&#x7684;&#x7F29;&#x5199;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x5341;&#x5206;&#x7B80;&#x5355;&#x7684;&#x4E2A;&#x4EBA;&#x4FE1;&#x606F;&#x53D1;&#x5E03;&#x65B9;&#x5F0F;&#xFF0C;&#x4EFB;&#x4F55;&#x4EBA;&#x90FD;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x5B8C;&#x6210;&#x4E2A;&#x4EBA;&#x7F51;&#x9875;&#x7684;&#x521B;&#x5EFA;&#x3001;&#x53D1;&#x5E03;&#x548C;&#x66F4;&#x65B0;&#x3002;&#x535A;&#x5BA2;&#x5C31;&#x662F;&#x5F00;&#x653E;&#x7684;&#x79C1;&#x4EBA;&#x7A7A;&#x95F4;&#xFF0C;&#x53EF;&#x4EE5;&#x5145;&#x5206;&#x5229;&#x7528;&#x8D85;&#x6587;&#x672C;&#x94FE;&#x63A5;&#x3001;&#x7F51;&#x7EDC;&#x4E92;&#x52A8;&#x3001;&#x52A8;&#x6001;&#x66F4;&#x65B0;&#x7B49;&#x7279;&#x70B9;&#x5728;&#x7F51;&#x7EDC;&#x4E2D;&#xFF0C;&#x7CBE;&#x9009;&#x5E76;&#x94FE;&#x63A5;&#x5168;&#x7403;&#x4E92;&#x8054;&#x7F51;&#x4E2D;&#x6700;&#x6709;&#x4EF7;&#x503C;&#x7684;&#x4FE1;&#x606F;&#x3001;&#x77E5;&#x8BC6;&#x4E0E;&#x8D44;&#x6E90;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x4E2A;&#x4EBA;&#x5DE5;&#x4F5C;&#x8FC7;&#x7A0B;&#x3001;&#x751F;&#x6D3B;&#x6545;&#x4E8B;&#x3001;&#x601D;&#x60F3;&#x5386;&#x7A0B;&#x3001;&#x95EA;&#x73B0;&#x7684;&#x7075;&#x611F;&#x7B49;&#x53CA;&#x65F6;&#x8BB0;&#x5F55;&#x548C;&#x53D1;&#x5E03;&#xFF0C;&#x53D1;&#x6325;&#x4E2A;&#x4EBA;&#x65E0;&#x9650;&#x7684;&#x8868;&#x8FBE;&#x529B;&#x3002; &#x5199;&#x535A;&#x5BA2;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x8BB0;&#x5F55;&#x4EE5;&#x53CA;&#x5206;&#x4EAB;&#xFF0C;&#x76F8;&#x8F83;&#x4E8E;&#x5F53;&#x524D;&#x6D41;&#x884C;&#x7684;&#x4F20;&#x8F93;&#x5A92;&#x4ECB;&#x6765;&#x8BF4;&#xFF0C;&#x535A;&#x5BA2;&#x8FD9;&#x79CD;&#x5A92;&#x4ECB;&#x5F62;&#x5F0F;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x5386;&#x53F2;&#x60A0;&#x4E45;&#x4E86;&#xFF0C;&#x76EE;&#x524D;&#x5DF2;&#x7ECF;&#x5F88;&#x5C11;&#x6709;&#x4EBA;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x6765;&#x8BB0;&#x5F55;&#x548C;&#x5206;&#x4EAB;&#x81EA;&#x5DF1;&#x7684;&#x65E5;&#x5E38;&#xFF0C;&#x73B0;&#x5728;&#x65B0;&#x7684;&#x5A92;&#x4ECB;&#x5C42;&#x51FA;&#x4E0D;&#x7A77;&#xFF0C;&#x5FAE;&#x535A;&#x3001;&#x670B;&#x53CB;&#x5708;&#x3001;&#x6296;&#x97F3;&#x7B49;&#x66F4;&#x7B26;&#x5408;&#x5927;&#x90E8;&#x5206;&#x4EBA;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x535A;&#x5BA2;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x5DF2;&#x7ECF;&#x65E5;&#x6E10;&#x5F0F;&#x5FAE;&#xFF0C;&#x5199;&#x535A;&#x5BA2;&#x8FD9;&#x4E2A;&#x4E8B;&#x60C5;&#x8C8C;&#x4F3C;&#x53EA;&#x5728;&#x4E92;&#x8054;&#x7F51;&#x4ECE;&#x4E1A;&#x4EBA;&#x5458;&#x4E2D;&#x8FD8;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x5730;&#x4F4D;&#xFF0C;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x4E5F;&#x6BD4;&#x8F83;&#x559C;&#x6B22;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x53BB;&#x5206;&#x4EAB;&#x548C;&#x8BB0;&#x5F55;&#x81EA;&#x5DF1;&#x7684;&#x77E5;&#x8BC6;&#x548C;&#x7ECF;&#x5386;&#xFF0C;&#x5BF9;&#x4E8E;&#x5927;&#x90E8;&#x5206;&#x5F00;&#x53D1;&#x8005;&#x6765;&#x8BF4;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x81EA;&#x5DF1;&#x7684;&#x535A;&#x5BA2;&#x53EF;&#x4EE5;&#x53D1;&#x51FA;&#x81EA;&#x5DF1;&#x7684;&#x58F0;&#x97F3;&#x4E5F;&#x662F;&#x4E00;&#x4EF6;&#x5341;&#x5206;&#x4EE4;&#x4EBA;&#x5174;&#x594B;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x8FD9;&#x79CD;&#x535A;&#x5BA2;&#x6682;&#x4E14;&#x628A;&#x5B83;&#x53EB;&#x505A;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x5427;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x6B21;&#x5B9E;&#x8DF5;&#x5F00;&#x53D1;&#x7684;&#x9879;&#x76EE;&#x4E5F;&#x662F;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x7684;&#x642D;&#x5EFA;&#x3002; &#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x7684;&#x5217;&#x4E3E;&#x51E0;&#x4E2A;&#x5F00;&#x53D1;&#x8005;&#x4F7F;&#x7528;&#x9891;&#x7E41;&#x7684;&#x51E0;&#x4E2A;&#x535A;&#x5BA2;&#x5E73;&#x53F0;&#xFF1A; CSDN &#x535A;&#x5BA2;&#x56ED; &#x7B80;&#x4E66; &#x5F53;&#x7136;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x5C31;&#x4E0D;&#x4E00;&#x4E00;&#x5217;&#x4E3E;&#x4E86;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x53BB;&#x770B;&#x4E00;&#x4E0B;&#x5404;&#x4E2A;&#x535A;&#x5BA2;&#x5E73;&#x53F0;&#x7684;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x9875;&#xFF0C;&#x4E0D;&#x8BBA;&#x535A;&#x5BA2;&#x8FD9;&#x79CD;&#x5F62;&#x5F0F;&#x5DF2;&#x7ECF;&#x51FA;&#x73B0;&#x4E86;&#x591A;&#x5C11;&#x5E74;&#xFF0C;&#x4EA6;&#x6216;&#x8005;&#x662F;&#x4E0D;&#x540C;&#x7684;&#x535A;&#x5BA2;&#x5E73;&#x53F0;&#xFF0C;&#x535A;&#x5BA2;&#x8FD9;&#x79CD;&#x8868;&#x73B0;&#x5F62;&#x5F0F;&#x7684;&#x5E95;&#x5C42;&#x4F9D;&#x7136;&#x662F;&#x6587;&#x7AE0;&#xFF0C;&#x6BCF;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#x5176;&#x5B9E;&#x90FD;&#x662F;&#x6587;&#x7AE0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x5305;&#x62EC;&#x6587;&#x7AE0;&#x6807;&#x9898;&#x3001;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E24;&#x5757;&#x513F;&#x662F;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x5185;&#x5BB9;&#x53EF;&#x80FD;&#x56E0;&#x4E3A;&#x5E73;&#x53F0;&#x4E4B;&#x95F4;&#x7684;&#x5DEE;&#x5F02;&#x800C;&#x6709;&#x7EC6;&#x5FAE;&#x7684;&#x4E0D;&#x540C;&#x3002; &#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA; Mapper &#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x8FD9;&#x91CC;&#x4EE5; CSDN &#x5E73;&#x53F0;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x6A21;&#x5757;&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x786E;&#x5B9A;&#x4E00;&#x4E0B;&#x6587;&#x7AE0;&#x8868;&#x7684;&#x5B57;&#x6BB5;&#x8BBE;&#x8BA1;&#xFF0C;&#x7F16;&#x8F91;&#x6A21;&#x5757;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x901A;&#x8FC7;&#x4E0A;&#x56FE;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#x4EE5;&#x4E0B;&#x5B57;&#x6BB5;&#xFF1A; &#x6587;&#x7AE0;&#x6807;&#x9898; &#x6587;&#x7AE0;&#x5185;&#x5BB9; &#x6587;&#x7AE0;&#x6807;&#x7B7E; &#x6587;&#x7AE0;&#x5206;&#x7C7B; &#x53D1;&#x5E03;&#x72B6;&#x6001; &#x4EE5;&#x4E0A;&#x662F;&#x5B57;&#x6BB5;&#x662F;&#x535A;&#x5BA2;&#x6587;&#x7AE0;&#x5B9E;&#x4F53;&#x5E94;&#x8BE5;&#x5177;&#x6709;&#x7684;&#x57FA;&#x7840;&#x5B57;&#x6BB5;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x54EA;&#x4E2A;&#x535A;&#x5BA2;&#x5E73;&#x53F0;&#x90FD;&#x4F1A;&#x5B58;&#x5728;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#xFF0C;&#x6211;&#x4EEC;&#x7684;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x4E0A;&#x5728;&#x6B64;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;&#x4E86;&#x51E0;&#x4E2A;&#x5B57;&#x6BB5;&#xFF1A; &#x6587;&#x7AE0;&#x5C01;&#x9762;&#x56FE;(&#x4E3A;&#x4E86;&#x9875;&#x9762;&#x7F8E;&#x89C2;) &#x9605;&#x8BFB;&#x91CF;(&#x535A;&#x5BA2;&#x6587;&#x7AE0;&#x7684;&#x57FA;&#x672C;&#x5B57;&#x6BB5;) &#x662F;&#x5426;&#x5141;&#x8BB8;&#x8BC4;&#x8BBA;(&#x6709;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#xFF0C;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x7684;&#x5F00;&#x653E;&#x548C;&#x5173;&#x95ED;) &#x6587;&#x7AE0;&#x8868;&#x7684; SQL &#x8BBE;&#x8BA1;&#x5982;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x5982;&#x4E0B; SQL &#x8BED;&#x53E5;&#x5373;&#x53EF;&#xFF1A; USE `my_blog_db`; DROP TABLE IF EXISTS `tb_blog`; CREATE TABLE `tb_blog` ( `blog_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &apos;&#x535A;&#x5BA2;&#x8868;&#x4E3B;&#x952E;id&apos;, `blog_title` varchar(200) NOT NULL COMMENT &apos;&#x535A;&#x5BA2;&#x6807;&#x9898;&apos;, `blog_sub_url` varchar(200) NOT NULL COMMENT &apos;&#x535A;&#x5BA2;&#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84;url&apos;, `blog_cover_image` varchar(200) NOT NULL COMMENT &apos;&#x535A;&#x5BA2;&#x5C01;&#x9762;&#x56FE;&apos;, `blog_content` mediumtext NOT NULL COMMENT &apos;&#x535A;&#x5BA2;&#x5185;&#x5BB9;&apos;, `blog_category_id` int(11) NOT NULL COMMENT &apos;&#x535A;&#x5BA2;&#x5206;&#x7C7B;id&apos;, `blog_category_name` varchar(50) NOT NULL COMMENT &apos;&#x535A;&#x5BA2;&#x5206;&#x7C7B;(&#x5197;&#x4F59;&#x5B57;&#x6BB5;)&apos;, `blog_tags` varchar(200) NOT NULL COMMENT &apos;&#x535A;&#x5BA2;&#x6807;&#x7B7E;&apos;, `blog_status` tinyint(4) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;0-&#x8349;&#x7A3F; 1-&#x53D1;&#x5E03;&apos;, `blog_views` bigint(20) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;&#x9605;&#x8BFB;&#x91CF;&apos;, `enable_comment` tinyint(4) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;0-&#x5141;&#x8BB8;&#x8BC4;&#x8BBA; 1-&#x4E0D;&#x5141;&#x8BB8;&#x8BC4;&#x8BBA;&apos;, `is_deleted` tinyint(4) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;&#x662F;&#x5426;&#x5220;&#x9664; 0=&#x5426; 1=&#x662F;&apos;, `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, `update_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT &apos;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&apos;, PRIMARY KEY (`blog_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;MyBatis-Generator &#x63D2;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210; Mapper &#x6587;&#x4EF6;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; MyBatis-Generator &#x63D2;&#x4EF6;&#x5C06;&#x8BE5;&#x8868;&#x5BF9;&#x5E94;&#x7684; Mapper &#x6587;&#x4EF6;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x548C; Dao &#x5C42;&#x63A5;&#x53E3;&#x751F;&#x6210;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x5C31;&#x4E0D;&#x8D34;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x4E86;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x6765;&#x67E5;&#x770B;&#x3002; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x540E;&#x9700;&#x8981;&#x5728; dao &#x5C42;&#x4E0B;&#x7684; BlogMapper &#x63A5;&#x53E3;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @Mapper &#x6CE8;&#x89E3;&#x4EE5;&#x5C06;&#x5176;&#x6CE8;&#x518C;&#x5230; IOC &#x5BB9;&#x5668;&#x4E2D;&#x4EE5;&#x4F9B;&#x540E;&#x7EED;&#x8C03;&#x7528;&#xFF08;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5728;&#x4E3B;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @MapperScan &#x6CE8;&#x89E3;&#x8FD9;&#x4E00;&#x6B65;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF09;&#x3002;&#x5176;&#x6B21;&#xFF0C;&#x5728; tb_blog &#x8868;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x4E86;&#x4E00;&#x4E2A; is_deleted &#x5B57;&#x6BB5;&#xFF0C;&#x7528;&#x4E8E;&#x903B;&#x8F91;&#x5220;&#x9664;&#x7684;&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x7531;&#x4E8E; is_deleted &#x7684;&#x5B57;&#x6BB5;&#x8BBE;&#x8BA1;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x5220;&#x9664;&#x90FD;&#x662F;&#x8F6F;&#x5220;&#x9664;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#xFF0C;&#x8FD9;&#x4E48;&#x505A;&#x7684;&#x76EE;&#x7684;&#x4E3B;&#x8981;&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x8BEF;&#x5220;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539; Mapper &#x6587;&#x4EF6;&#x4E2D;&#x7684; &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x548C;&#x5220;&#x9664;&#x8BED;&#x53E5;&#xFF0C;&#x5C06; is_deleted &#x6761;&#x4EF6;&#x5E26;&#x4E0A;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml) &lt;select id=&quot;selectByPrimaryKey&quot; parameterType=&quot;java.lang.Long&quot; resultMap=&quot;ResultMapWithBLOBs&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; , &lt;include refid=&quot;Blob_Column_List&quot;/&gt; from tb_blog where blog_id = #{blogId,jdbcType=BIGINT} and is_deleted = 0 &lt;/select&gt; &lt;update id=&quot;deleteByPrimaryKey&quot; parameterType=&quot;java.lang.Long&quot;&gt; UPDATE tb_blog SET is_deleted = 1 where blog_id = #{blogId,jdbcType=BIGINT} and is_deleted = 0 &lt;/update&gt;&#x901A;&#x8FC7;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5728;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x65F6;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x662F;&#x6267;&#x884C; delete &#x8BED;&#x53E5;&#xFF0C;&#x800C;&#x662F;&#x5C06;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x6587;&#x7AE0;&#x8BB0;&#x5F55;&#x7684; is_deleted &#x5B57;&#x6BB5;&#x4FEE;&#x6539;&#x4E3A; 1&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x8868;&#x793A;&#x8BE5;&#x6587;&#x7AE0;&#x5DF2;&#x7ECF;&#x88AB;&#x6267;&#x884C;&#x4E86;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x7684; select &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x5C31;&#x9700;&#x8981;&#x5728;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; is_deleted = 0 &#x5C06;&#x201C;&#x88AB;&#x5220;&#x9664;&#x201D;&#x7684;&#x8BB0;&#x5F55;&#x7ED9;&#x8FC7;&#x6EE4;&#x51FA;&#x53BB;&#x3002; &#x7F16;&#x8F91;&#x9875;&#x9762;&#x5B8C;&#x5584;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x628A;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x6309;&#x7167;&#x5B57;&#x6BB5;&#x6765;&#x5B8C;&#x5584;&#x4E00;&#x4E0B;&#xFF0C;&#x4EE5;&#x524D;&#x6587;&#x4E2D; CSDN &#x5E73;&#x53F0;&#x7684;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4E3A;&#x4F8B;&#xFF0C;&#x5C06;&#x5176;&#x4ED6;&#x9700;&#x8981;&#x8F93;&#x5165;&#x5185;&#x5BB9;&#x7684;&#x5B57;&#x6BB5;&#x586B;&#x5145;&#x5230;&#x9875;&#x9762; DOM &#x4E2D;&#xFF0C;&#x76EE;&#x524D;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x7F16;&#x8F91;&#x6846;&#x6765;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x5B57;&#x6BB5;&#x3002;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x53EA;&#x9700;&#x8981;&#x4E00;&#x4E2A; input &#x6846;&#x5373;&#x53EF;&#xFF0C;&#x6BD4;&#x5982;&#x6587;&#x7AE0;&#x6807;&#x9898;&#x5B57;&#x6BB5;&#xFF0C;&#x800C;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x5B57;&#x6BB5;&#x7684;&#x8F93;&#x5165;&#x5219;&#x9700;&#x8981;&#x4E00;&#x4E9B;&#x524D;&#x7AEF;&#x63D2;&#x4EF6;&#x6765;&#x5B8C;&#x6210;&#xFF0C;&#x6BD4;&#x5982;&#x6807;&#x7B7E;&#x3001;&#x535A;&#x5BA2;&#x5C01;&#x9762;&#x56FE;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F; input &#x6846;&#x80AF;&#x5B9A;&#x662F;&#x65E0;&#x6CD5;&#x6EE1;&#x8DB3;&#x9700;&#x6C42;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x6807;&#x7B7E;&#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x6700;&#x7EC8;&#x6548;&#x679C;&#x662F;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#x7684;&#xFF1A; &#x6807;&#x7B7E;&#x5B57;&#x6BB5;&#x8F93;&#x5165; &#x5206;&#x7C7B;&#x9009;&#x62E9; &#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x628A;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5B8C;&#x5584;&#x4E00;&#x4E0B;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x628A;&#x8FD9;&#x4E9B;&#x5C0F;&#x63D2;&#x4EF6;&#x6574;&#x5408;&#x8FDB;&#x6765;&#x3002; &#x5F15;&#x5165;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4E2D;&#x6709;&#x5982;&#x4E0B;&#x5B57;&#x6BB5;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x63D2;&#x4EF6;&#x6765;&#x5B8C;&#x5584;&#x4EA4;&#x4E92;&#xFF1A; &#x6807;&#x7B7E;&#x5B57;&#x6BB5; &#x5206;&#x7C7B;&#x5B57;&#x6BB5; &#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x5B57;&#x6BB5;(&#x5DF2;&#x5B9E;&#x73B0;) &#x5C01;&#x9762;&#x56FE;&#x5B57;&#x6BB5; &#x4EE5;&#x4E0A;&#x5B57;&#x6BB5;&#x6240;&#x9700;&#x8981;&#x7684;&#x63D2;&#x4EF6;&#x4E5F;&#x662F;&#x4F7F;&#x7528;&#x7684;&#x6BD4;&#x8F83;&#x5E38;&#x7528;&#x7684;&#x5F00;&#x6E90;&#x63D2;&#x4EF6;&#xFF0C;&#x63D2;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; tagsinput&#xFF08;&#x6807;&#x7B7E;&#xFF09; select2&#xFF08;&#x5206;&#x7C7B;&#xFF09; Editor.md&#xFF08;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#xFF09; ajaxupload&#xFF08;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#xFF09; &#x5F15;&#x5165;&#x63D2;&#x4EF6;&#x9996;&#x5148;&#x9700;&#x8981;&#x628A;&#x8FD9;&#x4E9B;&#x4F9D;&#x8D56;&#x6587;&#x4EF6;&#x653E;&#x5230; resources/static/admin/plugins &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x4E4B;&#x540E;&#x5728; edit.html &#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5230;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/edit.html) CSS &#x6587;&#x4EF6; &lt;link th:href=&quot;@{/admin/plugins/editormd/css/editormd.css}&quot; rel=&quot;stylesheet&quot;/&gt; &lt;link th:href=&quot;@{/admin/plugins/tagsinput/jquery.tagsinput.css}&quot; rel=&quot;stylesheet&quot;/&gt; &lt;link th:href=&quot;@{/admin/plugins/select2/select2.css}&quot; rel=&quot;stylesheet&quot;/&gt; JS &#x6587;&#x4EF6; &lt;!-- editor.md --&gt; &lt;script th:src=&quot;@{/admin/plugins/editormd/editormd.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- tagsinput --&gt; &lt;script th:src=&quot;@{/admin/plugins/tagsinput/jquery.tagsinput.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- Select2 --&gt; &lt;script th:src=&quot;@{/admin/plugins/select2/select2.full.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- ajaxupload --&gt; &lt;script th:src=&quot;@{/admin/plugins/ajaxupload/ajaxupload.js}&quot;&gt;&lt;/script&gt;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x6839;&#x636E;&#x5B57;&#x6BB5;&#x65B0;&#x589E;&#x5BF9;&#x5E94;&#x7684;&#x8F93;&#x5165;&#x6846;&#x4EE5;&#x53CA; DOM &#x7EC4;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;div class=&quot;card-body&quot;&gt; &lt;!-- &#x51E0;&#x4E2A;&#x57FA;&#x7840;&#x7684;&#x8F93;&#x5165;&#x6846;&#xFF0C;&#x540D;&#x79F0;&#x3001;&#x5206;&#x7C7B;&#x7B49;&#x8F93;&#x5165;&#x6846; --&gt; &lt;form id=&quot;blogForm&quot; onsubmit=&quot;return false;&quot;&gt; &lt;div class=&quot;form-group&quot; style=&quot;display:flex;&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control col-sm-6&quot; id=&quot;blogName&quot; name=&quot;blogName&quot; placeholder=&quot;*&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;(&#x5FC5;&#x586B;)&quot;&gt; &amp;nbsp;&amp;nbsp; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;blogTags&quot; name=&quot;blogTags&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot; style=&quot;width: 100%;&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; style=&quot;display:flex;&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control col-sm-6&quot; id=&quot;blogSubUrl&quot; name=&quot;blogSubUrl&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84;,&#x5982;:springboot-mybatis,&#x9ED8;&#x8BA4;&#x4E3A;id&quot;&gt; &amp;nbsp;&amp;nbsp; &lt;select class=&quot;form-control select2&quot; style=&quot;width: 100%;&quot; id=&quot;blogCategoryId&quot; data-placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&#x5206;&#x7C7B;...&quot;&gt; &lt;th:block th:if=&quot;${null == categories}&quot;&gt; &lt;option value=&quot;0&quot; selected=&quot;selected&quot;&gt;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&lt;/option&gt; &lt;/th:block&gt; &lt;th:block th:unless=&quot;${null == categories}&quot;&gt; &lt;th:block th:each=&quot;c : ${categories}&quot;&gt; &lt;option th:value=&quot;${c.categoryId}&quot; th:text=&quot;${c.categoryName}&quot;&gt; &lt;/option&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; id=&quot;blog-editormd&quot;&gt; &lt;textarea style=&quot;display:none;&quot;&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;col-sm-4&quot;&gt; &lt;img id=&quot;blogCoverImage&quot; src=&quot;/admin/dist/img/img-upload.png&quot; style=&quot;height: 64px;width: 64px;&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;col-sm-4&quot;&gt; &lt;button class=&quot;btn btn-info&quot; style=&quot;margin-bottom: 5px;&quot; id=&quot;uploadCoverImage&quot;&gt; &lt;i class=&quot;fa fa-picture-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x4E0A;&#x4F20;&#x5C01;&#x9762; &lt;/button&gt; &lt;button class=&quot;btn btn-secondary&quot; style=&quot;margin-bottom: 5px;&quot; id=&quot;randomCoverImage&quot;&gt;&lt;i class=&quot;fa fa-random&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x968F;&#x673A;&#x5C01;&#x9762; &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label class=&quot;control-label&quot;&gt;&#x6587;&#x7AE0;&#x72B6;&#x6001;:&amp;nbsp;&lt;/label&gt; &lt;input name=&quot;blogStatus&quot; type=&quot;radio&quot; id=&quot;publish&quot; checked=true value=&quot;1&quot;/&gt;&amp;nbsp;&#x53D1;&#x5E03;&amp;nbsp; &lt;input name=&quot;blogStatus&quot; type=&quot;radio&quot; id=&quot;draft&quot; value=&quot;0&quot;/&gt;&amp;nbsp;&#x8349;&#x7A3F;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;label class=&quot;control-label&quot;&gt;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8BC4;&#x8BBA;:&amp;nbsp;&lt;/label&gt; &lt;input name=&quot;enableComment&quot; type=&quot;radio&quot; id=&quot;enableCommentTrue&quot; checked=true value=&quot;0&quot;/&gt;&amp;nbsp;&#x662F;&amp;nbsp; &lt;input name=&quot;enableComment&quot; type=&quot;radio&quot; id=&quot;enableCommentFalse&quot; value=&quot;1&quot;/&gt;&amp;nbsp;&#x5426;&amp;nbsp; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;!-- &#x6309;&#x94AE; --&gt; &amp;nbsp;&lt;button class=&quot;btn btn-info float-right&quot; style=&quot;margin-left: 5px;&quot; id=&quot;confirmButton&quot;&gt;&#x4FDD;&#x5B58;&#x6587;&#x7AE0; &lt;/button&gt;&amp;nbsp; &amp;nbsp;&lt;button class=&quot;btn btn-secondary float-right&quot; style=&quot;margin-left: 5px;&quot; id=&quot;cancelButton&quot;&gt;&#x8FD4;&#x56DE;&#x6587;&#x7AE0;&#x5217;&#x8868; &lt;/button&gt;&amp;nbsp; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt;&#x5176;&#x4E2D;&#x6587;&#x7AE0;&#x6807;&#x9898;&#x5B57;&#x6BB5;&#x548C;&#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84;&#x5B57;&#x6BB5;&#x662F;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x7684; input &#x6846;&#xFF0C;&#x6807;&#x7B7E;&#x5B57;&#x6BB5;&#x4F1A;&#x4F7F;&#x7528; tagsinput &#x63D2;&#x4EF6;&#xFF0C;&#x5206;&#x7C7B;&#x5B57;&#x6BB5;&#x4F1A;&#x4F7F;&#x7528; select2 &#x4E0B;&#x6765;&#x9009;&#x62E9;&#x6846;&#x63D2;&#x4EF6;&#xFF0C;&#x535A;&#x5BA2;&#x5C01;&#x9762;&#x56FE;&#x5219;&#x662F;&#x4F7F;&#x7528;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x63D2;&#x4EF6;&#xFF0C;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x7684;&#x8F93;&#x5165;&#x4F7F;&#x7528;&#x7684;&#x662F; Editor.md &#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x6587;&#x7AE0;&#x72B6;&#x6001;&#x5B57;&#x6BB5;&#x548C;&#x8BC4;&#x8BBA;&#x5F00;&#x5173;&#x5B57;&#x6BB5;&#x4F7F;&#x7528;&#x7684;&#x662F; radio &#x9009;&#x62E9;&#x6846;&#xFF0C;&#x6700;&#x4E0B;&#x9762;&#x662F;&#x4E24;&#x4E2A;&#x529F;&#x80FD;&#x6309;&#x94AE;&#xFF0C;&#x6587;&#x7AE0;&#x4FDD;&#x5B58;&#x548C;&#x8FD4;&#x56DE;&#x6309;&#x94AE;&#x3002; &#x521D;&#x59CB;&#x5316;&#x63D2;&#x4EF6;&#x5728; resources/static/admin/dist/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; edit.js &#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x539F;&#x6765;&#x5728; edit.html &#x6587;&#x4EF6;&#x4E2D;&#x5199;&#x7684; Editor.md &#x521D;&#x59CB;&#x5316; js &#x4EE3;&#x7801;&#x4E5F;&#x79FB;&#x5230; edit.js &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; var blogEditor; // Tags Input $(&apos;#blogTags&apos;).tagsInput({ width: &apos;100%&apos;, height: &apos;38px&apos;, defaultText: &apos;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&apos; }); //Initialize Select2 Elements $(&apos;.select2&apos;).select2() $(function () { blogEditor = editormd(&quot;blog-editormd&quot;, { width: &quot;100%&quot;, height: 640, syncScrolling: &quot;single&quot;, path: &quot;/admin/plugins/editormd/lib/&quot;, toolbarModes: &apos;full&apos;, /**&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x914D;&#x7F6E;*/ imageUpload: true, imageFormats: [&quot;jpg&quot;, &quot;jpeg&quot;, &quot;gif&quot;, &quot;png&quot;, &quot;bmp&quot;, &quot;webp&quot;], //&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x683C;&#x5F0F; imageUploadURL: &quot;/admin/blogs/md/uploadfile&quot;, onload: function (obj) { //&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x4E4B;&#x540E;&#x7684;&#x56DE;&#x8C03; } }); new AjaxUpload(&apos;#uploadCoverImage&apos;, { action: &apos;/admin/upload/file&apos;, name: &apos;file&apos;, autoSubmit: true, responseType: &quot;json&quot;, onSubmit: function (file, extension) { if (!(extension &amp;&amp; /^(jpg|jpeg|png|gif)$/.test(extension.toLowerCase()))) { alert(&apos;&#x53EA;&#x652F;&#x6301;jpg&#x3001;png&#x3001;gif&#x683C;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#xFF01;&apos;); return false; } }, onComplete: function (file, r) { if (r != null &amp;&amp; r.resultCode == 200) { $(&quot;#blogCoverImage&quot;).attr(&quot;src&quot;, r.data); $(&quot;#blogCoverImage&quot;).attr(&quot;style&quot;, &quot;width: 128px;height: 128px;display:block;&quot;); return false; } else { alert(&quot;error&quot;); } } }); }); /** * &#x968F;&#x673A;&#x5C01;&#x9762;&#x529F;&#x80FD; */ $(&apos;#randomCoverImage&apos;).click(function () { var rand = parseInt(Math.random() * 40 + 1); $(&quot;#blogCoverImage&quot;).attr(&quot;src&quot;, &apos;/admin/dist/img/rand/&apos; + rand + &quot;.jpg&quot;); $(&quot;#blogCoverImage&quot;).attr(&quot;style&quot;, &quot;width:160px ;height: 120px;display:block;&quot;); });&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x4E2D;&#x521D;&#x59CB;&#x5316;&#x4E86;&#x56DB;&#x4E2A;&#x5B57;&#x6BB5;&#x7684;&#x9875;&#x9762; DOM &#x5C5E;&#x6027;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x6807;&#x7B7E;&#x3001;&#x5206;&#x7C7B;&#x3001;&#x7F16;&#x8F91;&#x6846;&#x3001;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x6846;&#xFF0C;&#x5176;&#x4E2D;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x7F16;&#x8F91;&#x6846;&#x5728;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x5DF2;&#x7ECF;&#x8BB2;&#x89E3;&#xFF0C;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x7684;&#x529F;&#x80FD;&#x5728; &#x5B9E;&#x9A8C; 6&#xFF1A;Spring Boot &#x5904;&#x7406;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x53CA;&#x8DEF;&#x5F84;&#x56DE;&#x663E; &#x4E5F;&#x5DF2;&#x7ECF;&#x8BB2;&#x89E3;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x518D;&#x6D6A;&#x8D39;&#x7BC7;&#x5E45;&#xFF0C;&#x6709;&#x95EE;&#x9898;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x770B;&#x524D;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x8FDB;&#x884C;&#x590D;&#x4E60;&#xFF0C;&#x6807;&#x7B7E;&#x548C;&#x5206;&#x7C7B;&#x7684;&#x521D;&#x59CB;&#x5316;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x4ED6;&#x4EEC;&#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#x5373;&#x53EF;&#x3002; &#x9875;&#x9762;&#x9884;&#x89C8;&#x81F3;&#x6B64;&#xFF0C;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x7684;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x5927;&#x534A;&#xFF0C;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x770B;&#x4E00;&#x4E0B;&#x9884;&#x89C8;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x9875;&#x9762;&#x770B;&#x8D77;&#x6765;&#x590D;&#x6742;&#xFF0C;&#x4EA4;&#x4E92;&#x4E5F;&#x590D;&#x6742;&#xFF0C;&#x751A;&#x81F3;&#x53EF;&#x4EE5;&#x8BF4;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x6574;&#x5408;&#x4E86;&#x4E00;&#x4E2A;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x8BE5;&#x6709;&#x7684;&#x5168;&#x90E8;&#x5143;&#x7D20;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x62FF;&#x672C;&#x9875;&#x9762;&#x4E0E;&#x5176;&#x4ED6;&#x63A5;&#x89E6;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#x7684;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x5404;&#x79CD;&#x63D2;&#x4EF6;&#x548C;&#x529F;&#x80FD;&#x4E5F;&#x90FD;&#x6709;&#x4F7F;&#x7528;&#x5230;&#x3002;&#x867D;&#x7136;&#x590D;&#x6742;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x4E5F;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#xFF0C;&#x518D;&#x590D;&#x6742;&#x5B83;&#x4E5F;&#x662F;&#x4E00;&#x70B9;&#x70B9;&#x6574;&#x5408;&#x8D77;&#x6765;&#x7684;&#x3001;&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#x62FC;&#x8D77;&#x6765;&#x7684;&#xFF0C;&#x6211;&#x5DF2;&#x7ECF;&#x5C06;&#x8FD9;&#x4E9B;&#x77E5;&#x8BC6;&#x70B9;&#x8FDB;&#x884C;&#x4E86;&#x62C6;&#x89E3;&#x5E76;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x5B9E;&#x9A8C;&#x4E2D;&#x8BB2;&#x89E3;&#x548C;&#x6F14;&#x793A;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x8DDF;&#x7740;&#x5341;&#x4E09;&#x7684;&#x601D;&#x8DEF;&#x628A;&#x8FD9;&#x4E9B;&#x77E5;&#x8BC6;&#x70B9;&#x8FDB;&#x884C;&#x62C6;&#x89E3;&#x548C;&#x6574;&#x5408;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x591F;&#x66F4;&#x597D;&#x7684;&#x7406;&#x89E3;&#x4E86;&#x3002; &#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684; POST &#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#x5176;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x63A5;&#x6536;&#x7684;&#x53C2;&#x6570;&#x4E3A;&#x7528;&#x6237;&#x5728;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x8F93;&#x5165;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x5185;&#x5BB9;&#xFF0C;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x4E0E;&#x5BF9;&#x5E94;&#x7684;&#x542B;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; &#x201C;blogTitle&#x201C;: &#x6587;&#x7AE0;&#x6807;&#x9898; &#x201C;blogSubUrl&#x201C;: &#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84; &#x201C;blogCategoryId&#x201C;: &#x5206;&#x7C7B; id (&#x4E0B;&#x62C9;&#x6846;&#x4E2D;&#x9009;&#x62E9;) &#x201C;blogTags&#x201C;: &#x6807;&#x7B7E;&#x5B57;&#x6BB5;(&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;) &#x201C;blogContent&#x201C;: &#x6587;&#x7AE0;&#x5185;&#x5BB9;(&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x7684; md &#x6587;&#x6863;) &#x201C;blogCoverImage&#x201C;: &#x5C01;&#x9762;&#x56FE;(&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x6216;&#x8005;&#x968F;&#x673A;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84;) &#x201C;blogStatus&#x201C;: &#x6587;&#x7AE0;&#x72B6;&#x6001; &#x201C;enableComment&#x201C;: &#x8BC4;&#x8BBA;&#x5F00;&#x5173; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java&#xFF09; &#x5728; BlogController &#x4E2D;&#x65B0;&#x589E; save() &#x65B9;&#x6CD5;&#xFF0C;&#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /blogs/save&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/blogs/save&quot;) @ResponseBody public Result save(@RequestParam(&quot;blogTitle&quot;) String blogTitle, @RequestParam(name = &quot;blogSubUrl&quot;, required = false) String blogSubUrl, @RequestParam(&quot;blogCategoryId&quot;) Integer blogCategoryId, @RequestParam(&quot;blogTags&quot;) String blogTags, @RequestParam(&quot;blogContent&quot;) String blogContent, @RequestParam(&quot;blogCoverImage&quot;) String blogCoverImage, @RequestParam(&quot;blogStatus&quot;) Byte blogStatus, @RequestParam(&quot;enableComment&quot;) Byte enableComment) { if (StringUtils.isEmpty(blogTitle)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;&quot;); } if (blogTitle.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x6807;&#x9898;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogTags)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot;); } if (blogTags.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x6807;&#x7B7E;&#x8FC7;&#x957F;&quot;); } if (blogSubUrl.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x8DEF;&#x5F84;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogContent)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&quot;); } if (blogTags.trim().length() &gt; 100000) { return ResultGenerator.genFailResult(&quot;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogCoverImage)) { return ResultGenerator.genFailResult(&quot;&#x5C01;&#x9762;&#x56FE;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;); } Blog blog = new Blog(); blog.setBlogTitle(blogTitle); blog.setBlogSubUrl(blogSubUrl); blog.setBlogCategoryId(blogCategoryId); blog.setBlogTags(blogTags); blog.setBlogContent(blogContent); blog.setBlogCoverImage(blogCoverImage); blog.setBlogStatus(blogStatus); blog.setEnableComment(enableComment); String saveBlogResult = blogService.saveBlog(blog); if (&quot;success&quot;.equals(saveBlogResult)) { return ResultGenerator.genSuccessResult(&quot;&#x6DFB;&#x52A0;&#x6210;&#x529F;&quot;); } else { return ResultGenerator.genFailResult(saveBlogResult); } }&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#xFF0C;&#x4E4B;&#x540E;&#x4EA4;&#x7ED9;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002; &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09; &#x5728; service &#x5305;&#x4E2D;&#x65B0;&#x5EFA; BlogService &#x5E76;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x65B9;&#x6CD5; saveBlog()&#xFF0C;&#x4E0B;&#x9762;&#x4E3A;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#xFF1A; @Service public class BlogServiceImpl implements BlogService { @Autowired private BlogMapper blogMapper; @Autowired private BlogCategoryMapper categoryMapper; @Autowired private BlogTagMapper tagMapper; @Autowired private BlogTagRelationMapper blogTagRelationMapper; @Override @Transactional//&#x5F00;&#x542F;&#x4E8B;&#x52A1; public String saveBlog(Blog blog) { BlogCategory blogCategory = categoryMapper.selectByPrimaryKey(blog.getBlogCategoryId()); if (blogCategory == null) { blog.setBlogCategoryId(0); blog.setBlogCategoryName(&quot;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&quot;); } else { //&#x8BBE;&#x7F6E;&#x535A;&#x5BA2;&#x5206;&#x7C7B;&#x540D;&#x79F0; blog.setBlogCategoryName(blogCategory.getCategoryName()); //&#x5206;&#x7C7B;&#x7684;&#x6392;&#x5E8F;&#x503C;&#x52A0;1 blogCategory.setCategoryRank(blogCategory.getCategoryRank() + 1); } //&#x5904;&#x7406;&#x6807;&#x7B7E;&#x6570;&#x636E; String[] tags = blog.getBlogTags().split(&quot;,&quot;); if (tags.length &gt; 6) { return &quot;&#x6807;&#x7B7E;&#x6570;&#x91CF;&#x9650;&#x5236;&#x4E3A;6&quot;; } //&#x4FDD;&#x5B58;&#x6587;&#x7AE0; if (blogMapper.insertSelective(blog) &gt; 0) { //&#x65B0;&#x589E;&#x7684;tag&#x5BF9;&#x8C61; List&lt;BlogTag&gt; tagListForInsert = new ArrayList&lt;&gt;(); //&#x6240;&#x6709;&#x7684;tag&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x4E8E;&#x5EFA;&#x7ACB;&#x5173;&#x7CFB;&#x6570;&#x636E; List&lt;BlogTag&gt; allTagsList = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; tags.length; i++) { BlogTag tag = tagMapper.selectByTagName(tags[i]); if (tag == null) { //&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x65B0;&#x589E; BlogTag tempTag = new BlogTag(); tempTag.setTagName(tags[i]); tagListForInsert.add(tempTag); } else { allTagsList.add(tag); } } //&#x65B0;&#x589E;&#x6807;&#x7B7E;&#x6570;&#x636E;&#x5E76;&#x4FEE;&#x6539;&#x5206;&#x7C7B;&#x6392;&#x5E8F;&#x503C; if (!CollectionUtils.isEmpty(tagListForInsert)) { tagMapper.batchInsertBlogTag(tagListForInsert); } categoryMapper.updateByPrimaryKeySelective(blogCategory); List&lt;BlogTagRelation&gt; blogTagRelations = new ArrayList&lt;&gt;(); //&#x65B0;&#x589E;&#x5173;&#x7CFB;&#x6570;&#x636E; allTagsList.addAll(tagListForInsert); for (BlogTag tag : allTagsList) { BlogTagRelation blogTagRelation = new BlogTagRelation(); blogTagRelation.setBlogId(blog.getBlogId()); blogTagRelation.setTagId(tag.getTagId()); blogTagRelations.add(blogTagRelation); } if (blogTagRelationMapper.batchInsert(blogTagRelations) &gt; 0) { return &quot;success&quot;; } } return &quot;&#x4FDD;&#x5B58;&#x5931;&#x8D25;&quot;; } }&#x6587;&#x7AE0;&#x5B9E;&#x4F53;&#x7684;&#x65B0;&#x589E;&#x4E0E;&#x524D;&#x6587;&#x4E2D;&#x7684;&#x65B0;&#x589E;&#x65B9;&#x6CD5;&#x6BD4;&#x8F83;&#x8D77;&#x6765;&#x662F;&#x7565;&#x5FAE;&#x590D;&#x6742;&#x4E86;&#x4E00;&#x4E9B;&#xFF0C;&#x56E0;&#x4E3A;&#x524D;&#x9762;&#x7684;&#x90FD;&#x662F;&#x5355;&#x8868;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x4E0D;&#x6D89;&#x53CA;&#x5173;&#x7CFB;&#x8868;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x6587;&#x7AE0;&#x8868;&#x7531;&#x4E8E;&#x4E0E;&#x5206;&#x7C7B;&#x8868;&#x3001;&#x6807;&#x7B7E;&#x8868;&#x6709;&#x5173;&#x8054;&#x5173;&#x7CFB;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x65B0;&#x589E;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x65F6;&#x9700;&#x8981;&#x5BF9;&#x5176;&#x5B83;&#x8868;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x548C;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#xFF0C;&#x5BF9;&#x4E8E;&#x5206;&#x7C7B;&#x8868;&#x53EA;&#x662F;&#x67E5;&#x8BE2;&#x548C;&#x9A8C;&#x8BC1;&#xFF0C;&#x5BF9;&#x4E8E;&#x6807;&#x7B7E;&#x8868;&#x5219;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x548C;&#x65B0;&#x589E;&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x4E3A;&#x6807;&#x7B7E;&#x662F;&#x5728;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x8F93;&#x5165;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x67D0;&#x4E9B;&#x6807;&#x7B7E;&#x5185;&#x5BB9;&#x662F;&#x6807;&#x7B7E;&#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x7684;&#x5219;&#x9700;&#x8981;&#x65B0;&#x589E;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x64CD;&#x4F5C;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&#x5173;&#x7CFB;&#x8868;&#xFF0C;&#x5C06;&#x6587;&#x7AE0;&#x4E0E;&#x6807;&#x7B7E;&#x5173;&#x8054;&#x8D77;&#x6765;&#x5E76;&#x65B0;&#x589E;&#x81F3;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#xFF0C;&#x76F8;&#x5173;&#x903B;&#x8F91;&#x5DF2;&#x7ECF;&#x5728;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x5173;&#x952E;&#x6CE8;&#x91CA;&#x4E5F;&#x5DF2;&#x7ECF;&#x7ED9;&#x51FA;&#x3002; &#x5173;&#x952E; SQL &#x6839;&#x636E;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x67E5;&#x8BE2;&#x6807;&#x7B7E;&#x4EE5;&#x53CA;&#x6279;&#x91CF;&#x65B0;&#x589E;&#x6807;&#x7B7E; &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogTagMapper.xml&#xFF09; &lt;select id=&quot;selectByTagName&quot; parameterType=&quot;java.lang.String&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog_tag where tag_name = #{tagName,jdbcType=VARCHAR} AND is_deleted = 0 &lt;/select&gt; &lt;insert id=&quot;batchInsertBlogTag&quot; parameterType=&quot;java.util.List&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;tagId&quot;&gt; INSERT into tb_blog_tag(tag_name) VALUES &lt;foreach collection=&quot;list&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt; (#{item.tagName,jdbcType=VARCHAR}) &lt;/foreach&gt; &lt;/insert&gt;&#x6279;&#x91CF;&#x65B0;&#x589E;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&#x5173;&#x7CFB;&#x6570;&#x636E;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogTagRelationMapper.xml&#xFF09; &lt;insert id=&quot;batchInsert&quot; parameterType=&quot;java.util.List&quot;&gt; INSERT into tb_blog_tag_relation(blog_id,tag_id) VALUES &lt;foreach collection=&quot;relationList&quot; item=&quot;item&quot; separator=&quot;,&quot;&gt; (#{item.blogId,jdbcType=BIGINT},#{item.tagId,jdbcType=INTEGER}) &lt;/foreach&gt; &lt;/insert&gt;&#x4EE5;&#x4E0A;&#x90FD;&#x662F;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x65B0;&#x589E;&#x7684; DAO &#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x3002; Ajax &#x8C03;&#x7528;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x5728;&#x4FE1;&#x606F;&#x5F55;&#x5165;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x4E0B;&#x65B9;&#x7684;&#x4FDD;&#x5B58;&#x6587;&#x7AE0;&#x6309;&#x94AE;&#xFF0C;&#x6B64;&#x65F6;&#x4F1A;&#x8C03;&#x7528;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5E76;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;js &#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/edit.js) $(&apos;#confirmButton&apos;).click(function () { var blogTitle = $(&apos;#blogName&apos;).val(); var blogSubUrl = $(&apos;#blogSubUrl&apos;).val(); var blogCategoryId = $(&apos;#blogCategoryId&apos;).val(); var blogTags = $(&apos;#blogTags&apos;).val(); var blogContent = blogEditor.getMarkdown(); var blogCoverImage = $(&apos;#blogCoverImage&apos;)[0].src; var blogStatus = $(&quot;input[name=&apos;blogStatus&apos;]:checked&quot;).val(); var enableComment = $(&quot;input[name=&apos;enableComment&apos;]:checked&quot;).val(); if (isNull(blogTitle)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTitle, 150)) { swal(&quot;&#x6807;&#x9898;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogSubUrl, 150)) { swal(&quot;&#x8DEF;&#x5F84;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogCategoryId)) { swal(&quot;&#x8BF7;&#x9009;&#x62E9;&#x6587;&#x7AE0;&#x5206;&#x7C7B;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogTags)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTags, 150)) { swal(&quot;&#x6807;&#x7B7E;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogContent)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTags, 100000)) { swal(&quot;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogCoverImage) || blogCoverImage.indexOf(&apos;img-upload&apos;) != -1) { swal(&quot;&#x5C01;&#x9762;&#x56FE;&#x7247;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;, { icon: &quot;error&quot;, }); return; } var url = &apos;/admin/blogs/save&apos;; var data = { &quot;blogTitle&quot;: blogTitle, &quot;blogSubUrl&quot;: blogSubUrl, &quot;blogCategoryId&quot;: blogCategoryId, &quot;blogTags&quot;: blogTags, &quot;blogContent&quot;: blogContent, &quot;blogCoverImage&quot;: blogCoverImage, &quot;blogStatus&quot;: blogStatus, &quot;enableComment&quot;: enableComment }; console.log(data); $.ajax({ type: &apos;POST&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: url, data: data, success: function (result) { if (result.resultCode == 200) { swal(&quot;&#x4FDD;&#x5B58;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot; }); } else { swal(result.message, { icon: &quot;error&quot;, }); } ; }, error: function () { swal(&quot;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot;, }); } }); });&#x9996;&#x5148;&#x7ED1;&#x5B9A; #confirmButton &#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#xFF0C;&#x70B9;&#x51FB;&#x540E;&#x4F1A;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x7684;&#x8F93;&#x5165;&#x5185;&#x5BB9;&#x5E76;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x4E4B;&#x540E;&#x5C01;&#x88C5;&#x6570;&#x636E;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#x6DFB;&#x52A0;&#x6587;&#x7AE0;&#x3002; &#x529F;&#x80FD;&#x9A8C;&#x8BC1;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x672C;&#x5B9E;&#x9A8C;&#x6240;&#x9700;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x4E0B;&#x8F7D;&#x5E76;&#x53C2;&#x7167;&#x6E90;&#x7801;&#x5BF9;&#x6BD4;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x3002; &#x542F;&#x52A8; MySQL &#x5E76;&#x65B0;&#x589E; tb_blog &#x8868;&#x8BE6;&#x7EC6;&#x6B65;&#x9AA4;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x5B9E;&#x9A8C; 15 &#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x542F;&#x52A8; MySQL &#x670D;&#x52A1;&#x5E76;&#x767B;&#x9646;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x5EFA;&#x8868;&#x8BED;&#x53E5;&#x6267;&#x884C;&#x5373;&#x53EF;&#x3002; &#x542F;&#x52A8;&#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x5DF2;&#x89E3;&#x538B;&#x7684; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/admin/login &#x767B;&#x9646;&#x81F3;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x9996;&#x9875;&#xFF0C;&#x4E4B;&#x540E;&#x70B9;&#x51FB;&#x53D1;&#x5E03;&#x535A;&#x5BA2;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x4E86;&#xFF0C;&#x6F14;&#x793A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x5B58;&#x6587;&#x7AE0;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x6D4B;&#x8BD5;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x5BF9;&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x7684;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x548C;&#x5C01;&#x9762;&#x56FE;&#x4E0A;&#x4F20;&#x8FDB;&#x884C;&#x4E86;&#x6D4B;&#x8BD5;&#xFF0C;&#x70B9;&#x51FB;&#x4FDD;&#x5B58;&#x540E;&#x63D0;&#x793A;&#x4FDD;&#x5B58;&#x6210;&#x529F;&#xFF0C;&#x529F;&#x80FD;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x3002; &#x9A8C;&#x8BC1;&#x867D;&#x7136;&#x63D0;&#x793A;&#x4FDD;&#x5B58;&#x6210;&#x529F;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x4F9D;&#x7136;&#x9700;&#x8981;&#x9A8C;&#x8BC1;&#x4E00;&#x6B21; MySQL &#x4E2D;&#x662F;&#x5426;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x76F4;&#x63A5;&#x67E5;&#x8BE2; tb_blog &#x8868;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x5373;&#x53EF;&#xFF1A; &#x6F14;&#x793A;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0A;&#x4F20;&#x7684;&#x56FE;&#x7247;&#x4E5F;&#x90FD;&#x5728; upload &#x76EE;&#x5F55;&#x4E0B;&#xFF1A; &#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#xFF01;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x603B;&#x7ED3;&#x603B;&#x7ED3;&#x4E86;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF0C;&#x5927;&#x5BB6;&#x7559;&#x5FC3;&#x4E00;&#x4E9B;&#x3002; &#x7531;&#x4E8E;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#x3001;&#x77E5;&#x8BC6;&#x70B9;&#x7684;&#x6574;&#x5408;&#x8F83;&#x591A;&#xFF0C;&#x5EFA;&#x8BAE;&#x5927;&#x5BB6;&#x591A;&#x8054;&#x7CFB;&#x524D;&#x9762;&#x4E00;&#x4E9B;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#x8FDB;&#x884C;&#x7406;&#x89E3;&#x548C;&#x5B66;&#x4E60;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4E0D;&#x7406;&#x89E3;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x5C31;&#x5148;&#x628A;&#x77E5;&#x8BC6;&#x70B9;&#x62C6;&#x89E3;&#xFF0C;&#x5148;&#x5B66;&#x4F1A;&#x5355;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6574;&#x5408;&#xFF0C;&#x8FD9;&#x6837;&#x4F1A;&#x4E8B;&#x534A;&#x529F;&#x500D;&#x3002; &#x7531;&#x4E8E;&#x672C;&#x5B9E;&#x9A8C;&#x8F83;&#x590D;&#x6742;&#x6240;&#x4EE5;&#x4EE3;&#x7801;&#x4E5F;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x628A;&#x6240;&#x6709;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x8D34;&#x51FA;&#x6765;&#xFF0C;&#x6211;&#x6311;&#x9009;&#x4E86;&#x4E00;&#x4E9B;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x653E;&#x5728;&#x6587;&#x4E2D;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x4E0B;&#x8F7D;&#x672C;&#x5B9E;&#x9A8C;&#x5B8C;&#x6574;&#x7684;&#x6E90;&#x7801;&#x6765;&#x5B66;&#x4E60;&#x3002; &#x7F16;&#x7801;&#x5B8C;&#x6210;&#xFF0C;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x4E24;&#x70B9;&#xFF0C;&#x4E00;&#x662F;&#x6587;&#x7AE0;&#x6570;&#x636E;&#x662F;&#x5426;&#x88AB;&#x63D2;&#x5165;&#x5230;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#xFF0C;&#x4E8C;&#x662F;&#x56FE;&#x7247;&#x6709;&#x6CA1;&#x6709;&#x6B63;&#x786E;&#x4E0A;&#x4F20;&#xFF0C;&#x56E0;&#x4E3A;&#x5C01;&#x9762;&#x56FE;&#x4E0A;&#x4F20;&#x65F6;&#x4F7F;&#x7528;&#x5230;&#x4E86;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#x4E3A; /home/project/upload/ &#xFF0C;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x524D;&#x5148;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x521B;&#x5EFA;&#x4E86;&#x8BE5;&#x76EE;&#x5F55;&#xFF08;&#x6B64;&#x76EE;&#x5F55;&#x53EF;&#x6839;&#x636E;&#x90E8;&#x7F72;&#x60C5;&#x51B5;&#x81EA;&#x884C;&#x4FEE;&#x6539;&#xFF09;&#xFF0C;&#x4E4B;&#x540E;&#x9A8C;&#x8BC1;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002; &#x540E;&#x7EED;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x6765;&#x5B8C;&#x5584;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x7684;&#x9875;&#x9762;&#x3001;&#x4EA4;&#x4E92;&#x903B;&#x8F91;&#x4EE5;&#x53CA;&#x540E;&#x7AEF;&#x529F;&#x80FD;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-19-wen-zhang-kai-fa.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6587;&#x7AE0;&#x7684;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4EE5;&#x53CA;&#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF0C;&#x56E0;&#x4E3A;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x6240;&#x4EE5;&#x7528;&#x4E86;&#x4E24;&#x4E2A;&#x5B9E;&#x9A8C;&#x6765;&#x8BB2;&#x89E3;&#xFF0C;&#x56E0;&#x4E3A;&#x6587;&#x7AE0;&#x5B9E;&#x4F53;&#x53CA;&#x76F8;&#x5173;&#x8054;&#x7684;&#x5B9E;&#x4F53;&#x662F;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5728;&#x535A;&#x5BA2;&#x5C55;&#x793A;&#x7CFB;&#x7EDF;&#x4E2D;&#x4E5F;&#x4F1A;&#x7EE7;&#x7EED;&#x8BB2;&#x89E3;&#x3002;&#x8FD9;&#x4E2A;&#x5B9E;&#x9A8C;&#x6211;&#x4F1A;&#x7EE7;&#x7EED;&#x6765;&#x5B8C;&#x5584;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x7684;&#x76F8;&#x5173;&#x9875;&#x9762;&#x3001;&#x4EA4;&#x4E92;&#x903B;&#x8F91;&#x4EE5;&#x53CA;&#x540E;&#x7AEF;&#x529F;&#x80FD;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3001;&#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x548C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x6574;&#x4E2A;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x5C31;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#x4E86;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;(&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#x3001;&#x6570;&#x636E;&#x56DE;&#x663E;&#x3001;&#x4FEE;&#x6539;&#x903B;&#x8F91;&#x4EE3;&#x7801;&#x3001;Ajax &#x8C03;&#x7528;&#x63A5;&#x53E3;&#x903B;&#x8F91;) &#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#x5B9E;&#x73B0; &#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53CA;&#x7F16;&#x7801; &#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x6D4B;&#x8BD5; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-23.zip unzip My-Blog-23.zip cd My-Blog&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x8BB2;&#x89E3;&#x4E86;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x5305;&#x62EC;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x548C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x7EE7;&#x7EED;&#x6765;&#x8BB2;&#x89E3;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x7684;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x548C;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#x3002; &#x60F3;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x56DE;&#x663E;&#x5230;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x7528;&#x6237;&#x6839;&#x636E;&#x9700;&#x8981;&#x6765;&#x4FEE;&#x6539;&#x9875;&#x9762;&#x4E0A;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x70B9;&#x51FB;&#x4FDD;&#x5B58;&#x6309;&#x94AE;&#x540E;&#x4F1A;&#x60F3;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x8BF7;&#x6C42;&#xFF0C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x63A5;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#x4F1A;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x4EE5;&#x53CA;&#x76F8;&#x5E94;&#x7684;&#x903B;&#x8F91;&#x64CD;&#x4F5C;&#xFF0C;&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x5165;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x6574;&#x4E2A;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x6D41;&#x7A0B;&#x5B8C;&#x6210;&#x3002; &#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x6839;&#x636E;&#x6D41;&#x7A0B;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#xFF0C;&#x4F46;&#x662F;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x6CA1;&#x6709;&#x505A;&#x6210;&#x63A5;&#x53E3;&#x5F62;&#x5F0F;&#xFF0C;&#x800C;&#x662F;&#x91C7;&#x7528;&#x4E0E;&#x6DFB;&#x52A0;&#x6587;&#x7AE0;&#x65F6;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x7F16;&#x8F91;&#x9875;&#x5373;&#x53EF;&#xFF0C;&#x56E0;&#x4E3A;&#x8981;&#x83B7;&#x53D6;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x6839;&#x636E;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x6765;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x9009;&#x62E9; id &#x4F5C;&#x4E3A;&#x4F20;&#x53C2;&#x4E86;&#xFF0C;&#x5728; BlogController &#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java) @GetMapping(&quot;/blogs/edit/{blogId}&quot;) public String edit(HttpServletRequest request, @PathVariable(&quot;blogId&quot;) Long blogId) { request.setAttribute(&quot;path&quot;, &quot;edit&quot;); Blog blog = blogService.getBlogById(blogId); if (blog == null) { return &quot;error/error_400&quot;; } request.setAttribute(&quot;blog&quot;, blog); request.setAttribute(&quot;categories&quot;, categoryService.getAllCategories()); return &quot;admin/edit&quot;; }&#x5728;&#x8BBF;&#x95EE; /blogs/edit/{blogId} &#x65F6;&#xFF0C;&#x4F1A;&#x628A;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x6240;&#x9700;&#x7684;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x5185;&#x5BB9;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x8F6C;&#x53D1;&#x5230; edit &#x9875;&#x9762;&#x3002; &#x9875;&#x9762;&#x56DE;&#x663E;&#x6539;&#x9020;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762; edit.html &#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x5C06;&#x524D;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x643A;&#x5E26;&#x7684; blog &#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x8BFB;&#x53D6;&#x5E76;&#x663E;&#x793A;&#x5728;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5BF9;&#x5E94;&#x7684; DOM &#x4E2D;&#xFF0C;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/edit.html) &lt;form id=&quot;blogForm&quot; onsubmit=&quot;return false;&quot;&gt; &lt;div class=&quot;form-group&quot; style=&quot;display:flex;&quot;&gt; &lt;input type=&quot;hidden&quot; id=&quot;blogId&quot; name=&quot;blogId&quot; th:value=&quot;${blog!=null and blog.blogId!=null }?${blog.blogId}: 0&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control col-sm-6&quot; id=&quot;blogName&quot; name=&quot;blogName&quot; placeholder=&quot;*&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;(&#x5FC5;&#x586B;)&quot; th:value=&quot;${blog!=null and blog.blogTitle!=null }?${blog.blogTitle}: &apos;&apos;&quot; required=&quot;true&quot;&gt; &amp;nbsp;&amp;nbsp; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;blogTags&quot; name=&quot;blogTags&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot; th:value=&quot;${blog!=null and blog.blogTags!=null }?${blog.blogTags}: &apos;&apos;&quot; style=&quot;width: 100%;&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; style=&quot;display:flex;&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control col-sm-6&quot; id=&quot;blogSubUrl&quot; name=&quot;blogSubUrl&quot; th:value=&quot;${blog!=null and blog.blogSubUrl!=null }?${blog.blogSubUrl}: &apos;&apos;&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84;,&#x5982;:springboot-mybatis,&#x9ED8;&#x8BA4;&#x4E3A;id&quot;&gt; &amp;nbsp;&amp;nbsp; &lt;select class=&quot;form-control select2&quot; style=&quot;width: 100%;&quot; id=&quot;blogCategoryId&quot; data-placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&#x5206;&#x7C7B;...&quot;&gt; &lt;th:block th:if=&quot;${null == categories}&quot;&gt; &lt;option value=&quot;0&quot; selected=&quot;selected&quot;&gt;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&lt;/option&gt; &lt;/th:block&gt; &lt;th:block th:unless=&quot;${null == categories}&quot;&gt; &lt;th:block th:each=&quot;c : ${categories}&quot;&gt; &lt;option th:value=&quot;${c.categoryId}&quot; th:text=&quot;${c.categoryName}&quot; th:selected=&quot;${null !=blog and null !=blog.blogCategoryId and blog.blogCategoryId==c.categoryId} ?true:false&quot;&gt; &gt; &lt;/option&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; id=&quot;blog-editormd&quot;&gt; &lt;textarea style=&quot;display:none;&quot; th:utext=&quot;${blog!=null and blog.blogContent !=null}?${blog.blogContent}: &apos;&apos;&quot;&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;col-sm-4&quot;&gt; &lt;th:block th:if=&quot;${null == blog}&quot;&gt; &lt;img id=&quot;blogCoverImage&quot; src=&quot;/admin/dist/img/img-upload.png&quot; style=&quot;height: 64px;width: 64px;&quot;&gt; &lt;/th:block&gt; &lt;th:block th:unless=&quot;${null == blog}&quot;&gt; &lt;img id=&quot;blogCoverImage&quot; th:src=&quot;${blog.blogCoverImage}&quot; style=&quot;width:160px ;height: 120px;display:block;&quot;&gt; &lt;/th:block&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;col-sm-4&quot;&gt; &lt;button class=&quot;btn btn-info&quot; style=&quot;margin-bottom: 5px;&quot; id=&quot;uploadCoverImage&quot;&gt; &lt;i class=&quot;fa fa-picture-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x4E0A;&#x4F20;&#x5C01;&#x9762; &lt;/button&gt; &lt;button class=&quot;btn btn-secondary&quot; style=&quot;margin-bottom: 5px;&quot; id=&quot;randomCoverImage&quot;&gt;&lt;i class=&quot;fa fa-random&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x968F;&#x673A;&#x5C01;&#x9762; &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label class=&quot;control-label&quot;&gt;&#x6587;&#x7AE0;&#x72B6;&#x6001;:&amp;nbsp;&lt;/label&gt; &lt;input name=&quot;blogStatus&quot; type=&quot;radio&quot; id=&quot;publish&quot; checked=true th:checked=&quot;${null==blog||(null !=blog and null !=blog.blogStatus and blog.blogStatus==1)} ?true:false&quot; value=&quot;1&quot;/&gt;&amp;nbsp;&#x53D1;&#x5E03;&amp;nbsp; &lt;input name=&quot;blogStatus&quot; type=&quot;radio&quot; id=&quot;draft&quot; value=&quot;0&quot; th:checked=&quot;${null !=blog and null !=blog.blogStatus and blog.blogStatus==0} ?true:false&quot;/&gt;&amp;nbsp;&#x8349;&#x7A3F;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;label class=&quot;control-label&quot;&gt;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8BC4;&#x8BBA;:&amp;nbsp;&lt;/label&gt; &lt;input name=&quot;enableComment&quot; type=&quot;radio&quot; id=&quot;enableCommentTrue&quot; checked=true th:checked=&quot;${null==blog||(null !=blog and null !=blog.enableComment and blog.enableComment==0)} ?true:false&quot; value=&quot;0&quot;/&gt;&amp;nbsp;&#x662F;&amp;nbsp; &lt;input name=&quot;enableComment&quot; type=&quot;radio&quot; id=&quot;enableCommentFalse&quot; value=&quot;1&quot; th:checked=&quot;${null !=blog and null !=blog.enableComment and blog.enableComment==1} ?true:false&quot;/&gt;&amp;nbsp;&#x5426;&amp;nbsp; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;!-- &#x6309;&#x94AE; --&gt; &amp;nbsp;&lt;button class=&quot;btn btn-info float-right&quot; style=&quot;margin-left: 5px;&quot; id=&quot;confirmButton&quot;&gt;&#x4FDD;&#x5B58;&#x6587;&#x7AE0; &lt;/button&gt;&amp;nbsp; &amp;nbsp;&lt;button class=&quot;btn btn-secondary float-right&quot; style=&quot;margin-left: 5px;&quot; id=&quot;cancelButton&quot;&gt;&#x8FD4;&#x56DE;&#x6587;&#x7AE0;&#x5217;&#x8868; &lt;/button&gt;&amp;nbsp; &lt;/div&gt; &lt;/form&gt;&#x53EA;&#x662F;&#x5728;&#x539F;&#x6765;&#x7F16;&#x8F91; DOM &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x52A0;&#x4E0A; Thymeleaf &#x8BFB;&#x53D6;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x96BE;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x8FD9;&#x6837;&#x6539;&#x9020;&#x4E4B;&#x540E;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x7F16;&#x8F91;&#x529F;&#x80FD;&#x7684;&#x524D;&#x4E24;&#x6B65;&#xFF0C;&#x83B7;&#x53D6;&#x8BE6;&#x60C5;&#x5E76;&#x56DE;&#x663E;&#x5230;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4E2D;&#x3002; &#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x6211;&#x4EEC;&#x8BB2;&#x89E3;&#x4E86;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x800C;&#x5927;&#x90E8;&#x5206;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#xFF0C;&#x90FD;&#x4E0E;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x7C7B;&#x4F3C;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x4E0D;&#x540C;&#x70B9;&#x5C31;&#x662F;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x9700;&#x8981;&#x77E5;&#x9053;&#x4FEE;&#x6539;&#x7684;&#x662F;&#x54EA;&#x4E00;&#x6761;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x6A21;&#x4EFF;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x6765;&#x5B9E;&#x73B0;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#xFF0C;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684; POST &#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#x5176;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x63A5;&#x6536;&#x7684;&#x53C2;&#x6570;&#x4E3A;&#x7528;&#x6237;&#x5728;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x8F93;&#x5165;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x5185;&#x5BB9;&#x4EE5;&#x53CA;&#x6587;&#x7AE0;&#x7684;&#x4E3B;&#x952E; id&#xFF0C;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x4E0E;&#x5BF9;&#x5E94;&#x7684;&#x542B;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; &#x201C;blogId&#x201C;: &#x6587;&#x7AE0;&#x4E3B;&#x952E; &#x201C;blogTitle&#x201C;: &#x6587;&#x7AE0;&#x6807;&#x9898; &#x201C;blogSubUrl&#x201C;: &#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84; &#x201C;blogCategoryId&#x201C;: &#x5206;&#x7C7B; id (&#x4E0B;&#x62C9;&#x6846;&#x4E2D;&#x9009;&#x62E9;) &#x201C;blogTags&#x201C;: &#x6807;&#x7B7E;&#x5B57;&#x6BB5;(&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;) &#x201C;blogContent&#x201C;: &#x6587;&#x7AE0;&#x5185;&#x5BB9;(&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x7684; md &#x6587;&#x6863;) &#x201C;blogCoverImage&#x201C;: &#x5C01;&#x9762;&#x56FE;(&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x6216;&#x8005;&#x968F;&#x673A;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84;) &#x201C;blogStatus&#x201C;: &#x6587;&#x7AE0;&#x72B6;&#x6001; &#x201C;enableComment&#x201C;: &#x8BC4;&#x8BBA;&#x5F00;&#x5173; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java&#xFF09; &#x5728; BlogController &#x4E2D;&#x65B0;&#x589E; update() &#x65B9;&#x6CD5;&#xFF0C;&#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /blogs/update&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/blogs/update&quot;) @ResponseBody public Result update(@RequestParam(&quot;blogId&quot;) Long blogId, @RequestParam(&quot;blogTitle&quot;) String blogTitle, @RequestParam(name = &quot;blogSubUrl&quot;, required = false) String blogSubUrl, @RequestParam(&quot;blogCategoryId&quot;) Integer blogCategoryId, @RequestParam(&quot;blogTags&quot;) String blogTags, @RequestParam(&quot;blogContent&quot;) String blogContent, @RequestParam(&quot;blogCoverImage&quot;) String blogCoverImage, @RequestParam(&quot;blogStatus&quot;) Byte blogStatus, @RequestParam(&quot;enableComment&quot;) Byte enableComment) { if (StringUtils.isEmpty(blogTitle)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;&quot;); } if (blogTitle.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x6807;&#x9898;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogTags)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot;); } if (blogTags.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x6807;&#x7B7E;&#x8FC7;&#x957F;&quot;); } if (blogSubUrl.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x8DEF;&#x5F84;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogContent)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&quot;); } if (blogTags.trim().length() &gt; 100000) { return ResultGenerator.genFailResult(&quot;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogCoverImage)) { return ResultGenerator.genFailResult(&quot;&#x5C01;&#x9762;&#x56FE;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;); } Blog blog = new Blog(); blog.setBlogId(blogId); blog.setBlogTitle(blogTitle); blog.setBlogSubUrl(blogSubUrl); blog.setBlogCategoryId(blogCategoryId); blog.setBlogTags(blogTags); blog.setBlogContent(blogContent); blog.setBlogCoverImage(blogCoverImage); blog.setBlogStatus(blogStatus); blog.setEnableComment(enableComment); String updateBlogResult = blogService.updateBlog(blog); if (&quot;success&quot;.equals(updateBlogResult)) { return ResultGenerator.genSuccessResult(&quot;&#x4FEE;&#x6539;&#x6210;&#x529F;&quot;); } else { return ResultGenerator.genFailResult(updateBlogResult); } }&#x9996;&#x5148;&#x4F1A;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#xFF0C;&#x4E4B;&#x540E;&#x4EA4;&#x7ED9;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0E;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x4E0D;&#x540C;&#x7684;&#x662F;&#x4F20;&#x53C2;&#xFF0C;&#x591A;&#x4E86;&#x4E3B;&#x952E; id&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x54EA;&#x4E00;&#x6761;&#x6570;&#x636E;&#x3002; &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09; &#x5728; service &#x5305;&#x4E2D;&#x65B0;&#x5EFA; BlogService &#x5E76;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x65B9;&#x6CD5; updateBlog()&#xFF0C;&#x4E0B;&#x9762;&#x4E3A;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#xFF1A; @Override @Transactional public String updateBlog(Blog blog) { Blog blogForUpdate = blogMapper.selectByPrimaryKey(blog.getBlogId()); if (blogForUpdate == null) { return &quot;&#x6570;&#x636E;&#x4E0D;&#x5B58;&#x5728;&quot;; } blogForUpdate.setBlogTitle(blog.getBlogTitle()); blogForUpdate.setBlogSubUrl(blog.getBlogSubUrl()); blogForUpdate.setBlogContent(blog.getBlogContent()); blogForUpdate.setBlogCoverImage(blog.getBlogCoverImage()); blogForUpdate.setBlogStatus(blog.getBlogStatus()); blogForUpdate.setEnableComment(blog.getEnableComment()); BlogCategory blogCategory = categoryMapper.selectByPrimaryKey(blog.getBlogCategoryId()); if (blogCategory == null) { blogForUpdate.setBlogCategoryId(0); blogForUpdate.setBlogCategoryName(&quot;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&quot;); } else { //&#x8BBE;&#x7F6E;&#x535A;&#x5BA2;&#x5206;&#x7C7B;&#x540D;&#x79F0; blogForUpdate.setBlogCategoryName(blogCategory.getCategoryName()); blogForUpdate.setBlogCategoryId(blogCategory.getCategoryId()); //&#x5206;&#x7C7B;&#x7684;&#x6392;&#x5E8F;&#x503C;&#x52A0;1 blogCategory.setCategoryRank(blogCategory.getCategoryRank() + 1); } //&#x5904;&#x7406;&#x6807;&#x7B7E;&#x6570;&#x636E; String[] tags = blog.getBlogTags().split(&quot;,&quot;); if (tags.length &gt; 6) { return &quot;&#x6807;&#x7B7E;&#x6570;&#x91CF;&#x9650;&#x5236;&#x4E3A;6&quot;; } blogForUpdate.setBlogTags(blog.getBlogTags()); //&#x65B0;&#x589E;&#x7684;tag&#x5BF9;&#x8C61; List&lt;BlogTag&gt; tagListForInsert = new ArrayList&lt;&gt;(); //&#x6240;&#x6709;&#x7684;tag&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x4E8E;&#x5EFA;&#x7ACB;&#x5173;&#x7CFB;&#x6570;&#x636E; List&lt;BlogTag&gt; allTagsList = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; tags.length; i++) { BlogTag tag = tagMapper.selectByTagName(tags[i]); if (tag == null) { //&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x65B0;&#x589E; BlogTag tempTag = new BlogTag(); tempTag.setTagName(tags[i]); tagListForInsert.add(tempTag); } else { allTagsList.add(tag); } } //&#x65B0;&#x589E;&#x6807;&#x7B7E;&#x6570;&#x636E;&#x4E0D;&#x4E3A;&#x7A7A;-&gt;&#x65B0;&#x589E;&#x6807;&#x7B7E;&#x6570;&#x636E; if (!CollectionUtils.isEmpty(tagListForInsert)) { tagMapper.batchInsertBlogTag(tagListForInsert); } List&lt;BlogTagRelation&gt; blogTagRelations = new ArrayList&lt;&gt;(); //&#x65B0;&#x589E;&#x5173;&#x7CFB;&#x6570;&#x636E; allTagsList.addAll(tagListForInsert); for (BlogTag tag : allTagsList) { BlogTagRelation blogTagRelation = new BlogTagRelation(); blogTagRelation.setBlogId(blog.getBlogId()); blogTagRelation.setTagId(tag.getTagId()); blogTagRelations.add(blogTagRelation); } //&#x4FEE;&#x6539;blog&#x4FE1;&#x606F;-&gt;&#x4FEE;&#x6539;&#x5206;&#x7C7B;&#x6392;&#x5E8F;&#x503C;-&gt;&#x5220;&#x9664;&#x539F;&#x5173;&#x7CFB;&#x6570;&#x636E;-&gt;&#x4FDD;&#x5B58;&#x65B0;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E; categoryMapper.updateByPrimaryKeySelective(blogCategory); //&#x5220;&#x9664;&#x539F;&#x5173;&#x7CFB;&#x6570;&#x636E; blogTagRelationMapper.deleteByBlogId(blog.getBlogId()); blogTagRelationMapper.batchInsert(blogTagRelations); if (blogMapper.updateByPrimaryKeySelective(blogForUpdate) &gt; 0) { return &quot;success&quot;; } return &quot;&#x4FEE;&#x6539;&#x5931;&#x8D25;&quot;; }&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x7684;&#x4E1A;&#x52A1;&#x5C42;&#x65B9;&#x6CD5;&#x6765;&#x5B66;&#x4E60;&#xFF0C;&#x8FD9;&#x91CC;&#x4EC5;&#x4EC5;&#x8BB2;&#x4E00;&#x4E0B;&#x4E0D;&#x540C;&#x70B9;&#xFF0C;&#x9996;&#x5148;&#xFF0C;updateBlog() &#x65B9;&#x6CD5;&#x4F1A;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x5F53;&#x524D;&#x60F3;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x6807;&#x7B7E;&#x53CA;&#x6807;&#x7B7E;&#x5173;&#x7CFB;&#x5904;&#x7406;&#x903B;&#x8F91;&#x4E0E; saveBlog() &#x65B9;&#x6CD5;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x540C;&#x70B9;&#x662F;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x7684;&#x4FDD;&#x5B58;&#xFF0C;saveBlog() &#x65B9;&#x6CD5;&#x662F;&#x76F4;&#x63A5;&#x4FDD;&#x5B58;&#x5173;&#x7CFB;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x5168;&#x65B0;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E;&#xFF0C;&#x800C; updateBlog() &#x65B9;&#x6CD5;&#x7684;&#x5904;&#x7406;&#x5219;&#x9700;&#x8981;&#x4FEE;&#x6539;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x4FEE;&#x6539;&#x524D;&#x5C31;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5148;&#x628A;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5220;&#x6389;&#x518D;&#x4FDD;&#x5B58;&#x65B0;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x3002; &#x5173;&#x952E; SQL &#x6839;&#x636E;&#x6587;&#x7AE0; id &#x5220;&#x9664;&#x539F;&#x6765;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E; &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogTagRelationMapper.xml&#xFF09; &lt;delete id=&quot;deleteByBlogId&quot; parameterType=&quot;java.lang.Long&quot;&gt; delete from tb_blog_tag_relation where blog_id = #{blogId,jdbcType=BIGINT} &lt;/delete&gt;Ajax &#x8C03;&#x7528;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x5BF9;&#x6587;&#x7AE0;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x4E0B;&#x65B9;&#x7684;&#x4FDD;&#x5B58;&#x6587;&#x7AE0;&#x6309;&#x94AE;&#xFF0C;&#x6B64;&#x65F6;&#x4F1A;&#x8C03;&#x7528;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5E76;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;js &#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/edit.js) $(&apos;#confirmButton&apos;).click(function () { var blogId = $(&apos;#blogId&apos;).val(); var blogTitle = $(&apos;#blogName&apos;).val(); var blogSubUrl = $(&apos;#blogSubUrl&apos;).val(); var blogCategoryId = $(&apos;#blogCategoryId&apos;).val(); var blogTags = $(&apos;#blogTags&apos;).val(); var blogContent = blogEditor.getMarkdown(); var blogCoverImage = $(&apos;#blogCoverImage&apos;)[0].src; var blogStatus = $(&quot;input[name=&apos;blogStatus&apos;]:checked&quot;).val(); var enableComment = $(&quot;input[name=&apos;enableComment&apos;]:checked&quot;).val(); if (isNull(blogTitle)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTitle, 150)) { swal(&quot;&#x6807;&#x9898;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogSubUrl, 150)) { swal(&quot;&#x8DEF;&#x5F84;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogCategoryId)) { swal(&quot;&#x8BF7;&#x9009;&#x62E9;&#x6587;&#x7AE0;&#x5206;&#x7C7B;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogTags)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTags, 150)) { swal(&quot;&#x6807;&#x7B7E;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogContent)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTags, 100000)) { swal(&quot;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogCoverImage) || blogCoverImage.indexOf(&apos;img-upload&apos;) != -1) { swal(&quot;&#x5C01;&#x9762;&#x56FE;&#x7247;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;, { icon: &quot;error&quot;, }); return; } var url = &apos;/admin/blogs/save&apos;; var swlMessage = &apos;&#x4FDD;&#x5B58;&#x6210;&#x529F;&apos;; var data = { &quot;blogTitle&quot;: blogTitle, &quot;blogSubUrl&quot;: blogSubUrl, &quot;blogCategoryId&quot;: blogCategoryId, &quot;blogTags&quot;: blogTags, &quot;blogContent&quot;: blogContent, &quot;blogCoverImage&quot;: blogCoverImage, &quot;blogStatus&quot;: blogStatus, &quot;enableComment&quot;: enableComment }; //blogId&#x5927;&#x4E8E;0&#x5219;&#x4E3A;&#x4FEE;&#x6539;&#x64CD;&#x4F5C; if (blogId &gt; 0) { url = &apos;/admin/blogs/update&apos;; swlMessage = &apos;&#x4FEE;&#x6539;&#x6210;&#x529F;&apos;; data = { &quot;blogId&quot;: blogId, &quot;blogTitle&quot;: blogTitle, &quot;blogSubUrl&quot;: blogSubUrl, &quot;blogCategoryId&quot;: blogCategoryId, &quot;blogTags&quot;: blogTags, &quot;blogContent&quot;: blogContent, &quot;blogCoverImage&quot;: blogCoverImage, &quot;blogStatus&quot;: blogStatus, &quot;enableComment&quot;: enableComment }; } console.log(data); $.ajax({ type: &apos;POST&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: url, data: data, success: function (result) { if (result.resultCode == 200) { swal(swlMessage, { icon: &quot;success&quot; }); } else { swal(result.message, { icon: &quot;error&quot;, }); } ; }, error: function () { swal(&quot;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot;, }); } }); });&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x6539;&#x9020;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x4FDD;&#x5B58;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x5224;&#x65AD; blogId &#x662F;&#x5426;&#x5927;&#x4E8E; 0&#xFF0C;&#x5982;&#x679C;&#x5927;&#x4E8E; 0 &#x5219;&#x8BC1;&#x660E;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x8BF7;&#x6C42;&#xFF0C;&#x4E4B;&#x540E;&#x5C01;&#x88C5;&#x6570;&#x636E;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x3002; &#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x5BFC;&#x822A;&#x680F;&#x9996;&#x5148;&#x5728;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x4E2D;&#x65B0;&#x589E;&#x7F16;&#x8F91;&#x9875;&#x7684;&#x5BFC;&#x822A;&#x6309;&#x94AE;&#xFF0C;&#x5728; sidebar.html &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/sidebar.html) &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/blogs}&quot; th:class=&quot;${path}==&apos;blogs&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt; &lt;i class=&quot;fa fa-list-alt nav-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; &lt;p&gt; &#x535A;&#x5BA2;&#x7BA1;&#x7406; &lt;/p&gt; &lt;/a&gt; &lt;/li&gt;&#x70B9;&#x51FB;&#x540E;&#x7684;&#x8DF3;&#x8F6C;&#x8DEF;&#x5F84;&#x4E3A; /admin/blogs&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x65B0;&#x5EFA; Controller &#x6765;&#x5904;&#x7406;&#x8BE5;&#x8DEF;&#x5F84;&#x5E76;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#x3002; Controller &#x5904;&#x7406;&#x8DF3;&#x8F6C;&#x9996;&#x5148;&#x5728; controller/admin &#x5305;&#x4E0B;&#x65B0;&#x5EFA; BlogController.java&#xFF0C;&#x4E4B;&#x540E;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; @GetMapping(&quot;/blogs&quot;) public String list(HttpServletRequest request) { request.setAttribute(&quot;path&quot;, &quot;blogs&quot;); return &quot;admin/blog&quot;; }&#x8BE5;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5904;&#x7406; /admin/blogs &#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E; path &#x5B57;&#x6BB5;&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; admin &#x76EE;&#x5F55;&#x4E0B;&#x7684; blog.html &#x4E2D;&#x3002; blog.html &#x9875;&#x9762;&#x5236;&#x4F5C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x535A;&#x5BA2;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5236;&#x4F5C;&#x4E86;&#xFF0C;&#x5728; resources/templates/admin &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; blog.html&#xFF0C;&#x5E76;&#x5F15;&#x5165;&#x5BF9;&#x5E94;&#x7684; js &#x6587;&#x4EF6;&#x548C; css &#x6837;&#x5F0F;&#x6587;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;header th:replace=&quot;admin/header::header-fragment&quot;&gt;&lt;/header&gt; &lt;body class=&quot;hold-transition sidebar-mini&quot;&gt; &lt;div class=&quot;wrapper&quot;&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x9762;&#x5934;header-fragment --&gt; &lt;div th:replace=&quot;admin/header::header-nav&quot;&gt;&lt;/div&gt; &lt;!-- &#x5F15;&#x5165;&#x5DE5;&#x5177;&#x680F;sidebar-fragment --&gt; &lt;div th:replace=&quot;admin/sidebar::sidebar-fragment(${path})&quot;&gt;&lt;/div&gt; &lt;!-- Content Wrapper. Contains page content --&gt; &lt;div class=&quot;content-wrapper&quot;&gt; &lt;!-- Content Header (Page header) --&gt; &lt;div class=&quot;content-header&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/div&gt; &lt;!-- Main content --&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;card card-primary card-outline&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h3 class=&quot;card-title&quot;&gt;&#x535A;&#x5BA2;&#x7BA1;&#x7406;&lt;/h3&gt; &lt;/div&gt; &lt;!-- /.card-body --&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;/div&gt;&lt;!-- /.card-body --&gt; &lt;/div&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/div&gt; &lt;!-- /.content --&gt; &lt;/div&gt; &lt;!-- /.content-wrapper --&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x811A;footer-fragment --&gt; &lt;div th:replace=&quot;admin/footer::footer-fragment&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- jQuery --&gt; &lt;script th:src=&quot;@{/admin/plugins/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- jQuery UI 1.11.4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/jQueryUI/jquery-ui.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap 4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/bootstrap/js/bootstrap.bundle.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- AdminLTE App --&gt; &lt;script th:src=&quot;@{/admin/dist/js/adminlte.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- jqgrid --&gt; &lt;script th:src=&quot;@{/admin/plugins/jqgrid-5.3.0/jquery.jqGrid.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/admin/plugins/jqgrid-5.3.0/grid.locale-cn.js}&quot;&gt;&lt;/script&gt; &lt;!-- sweetalert --&gt; &lt;script th:src=&quot;@{/admin/plugins/sweetalert/sweetalert.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/admin/dist/js/public.js}&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x81F3;&#x6B64;&#xFF0C;&#x8DF3;&#x8F6C;&#x903B;&#x8F91;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#xFF0C;&#x6F14;&#x793A;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x535A;&#x5BA2;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x53CA;&#x5B9E;&#x73B0;&#x56E0;&#x4E3A;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x548C;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x90FD;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x4E2D;&#x4E5F;&#x4EC5;&#x4EC5;&#x53EA;&#x9700;&#x8981;&#x5217;&#x8868;&#x529F;&#x80FD;&#x548C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x4ECB;&#x7ECD;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x548C;&#x5220;&#x9664;&#x63A5;&#x53E3;&#xFF0C;&#x53E6;&#x5916;&#x4E24;&#x4E2A;&#x63A5;&#x53E3;&#x5728;&#x524D;&#x6587;&#x4E2D;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x4E86;&#x3002; &#x6587;&#x7AE0;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x5217;&#x8868;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x4F20;&#x6765;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#xFF0C;&#x5982; page &#x3001;limit &#x7B49;&#x53C2;&#x6570;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x6570;&#x636E;&#x603B;&#x6570;&#x548C;&#x5BF9;&#x5E94;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x5C01;&#x88C5;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /blogs/list&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @GetMapping(&quot;/blogs/list&quot;) @ResponseBody public Result list(@RequestParam Map&lt;String, Object&gt; params) { if (StringUtils.isEmpty(params.get(&quot;page&quot;)) || StringUtils.isEmpty(params.get(&quot;limit&quot;))) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } PageQueryUtil pageUtil = new PageQueryUtil(params); return ResultGenerator.genSuccessResult(blogService.getBlogsPage(pageUtil)); } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; public PageResult getBlogsPage(PageQueryUtil pageUtil) { List&lt;Blog&gt; blogList = blogMapper.findBlogList(pageUtil); int total = blogMapper.getTotalBlogs(pageUtil); PageResult pageResult = new PageResult(blogList, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } BlogCategoryMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findBlogList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog where is_deleted=0 order by blog_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalBlogs&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog where is_deleted=0 &lt;/select&gt;SQL &#x8BED;&#x53E5;&#x5728; BlogMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x5206;&#x9875;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528; limit &#x5173;&#x952E;&#x5B57;&#x5B9E;&#x73B0;&#xFF0C;&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x6761;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x548C;&#x603B;&#x6570;&#x4E4B;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x6839;&#x636E;&#x524D;&#x7AEF;&#x4F20;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x5206;&#x9875;&#x6570;&#x636E;&#x4EE5;&#x4F9B;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x3002; &#x5220;&#x9664;&#x63A5;&#x53E3;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684;&#x6587;&#x7AE0;&#x5220;&#x9664;&#x8BF7;&#x6C42;&#xFF0C;&#x5904;&#x7406;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x201C;&#x5220;&#x9664;&#x201D;&#x529F;&#x80FD;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x662F;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5220;&#x9664;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x524D;&#x7AEF;&#x5C06;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55; id &#x5C01;&#x88C5;&#x597D;&#x518D;&#x4F20;&#x53C2;&#x5230;&#x540E;&#x7AEF;&#x5373;&#x53EF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /blogs/delete&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/blogs/delete&quot;) @ResponseBody public Result delete(@RequestBody Integer[] ids) { if (ids.length &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (blogService.deleteBatch(ids)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x5220;&#x9664;&#x5931;&#x8D25;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; public Boolean deleteBatch(Integer[] ids) { if (ids.length &lt; 1) { return false; } return blogMapper.deleteBatch(ids) &gt; 0; } BlogMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;update id=&quot;deleteBatch&quot;&gt; update tb_blog set is_deleted=1 where blog_id in &lt;foreach item=&quot;id&quot; collection=&quot;array&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #{id} &lt;/foreach&gt; &lt;/update&gt;&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /blogs/delete&#xFF0C;&#x5E76;&#x4F7F;&#x7528; @RequestBody &#x5C06;&#x524D;&#x7AEF;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x4E3A; id &#x6570;&#x7EC4;&#xFF0C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5219;&#x8C03;&#x7528; deleteBatch() &#x6279;&#x91CF;&#x5220;&#x9664;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5411;&#x524D;&#x7AEF;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x4E2D;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x4E86;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;&#x529F;&#x80FD;&#x6309;&#x94AE;&#xFF1A;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x3001;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x6309;&#x94AE;&#x3001;&#x6587;&#x7AE0;&#x5220;&#x9664;&#x6309;&#x94AE;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x4EE5;&#x53CA;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/category.html) &lt;div class=&quot;grid-btn&quot;&gt; &lt;button class=&quot;btn btn-success&quot; onclick=&quot;addBlog()&quot;&gt;&lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x65B0;&#x589E; &lt;/button&gt; &lt;button class=&quot;btn btn-info&quot; onclick=&quot;editBlog()&quot;&gt;&lt;i class=&quot;fa fa-edit&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x4FEE;&#x6539; &lt;/button&gt; &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;deleteBlog()&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x5220;&#x9664; &lt;/button&gt; &lt;/div&gt;&#x5206;&#x522B;&#x662F;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; addBlog() &#x65B9;&#x6CD5;&#xFF0C;&#x4FEE;&#x6539;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; editBlog() &#x65B9;&#x6CD5;&#xFF0C;&#x5220;&#x9664;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; deleteBlog() &#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x540E;&#x7EED;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E2D;&#x7ED9;&#x51FA;&#x3002; &#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x9875;&#x9762;&#x4E2D;&#x5DF2;&#x7ECF;&#x5F15;&#x5165; JqGrid &#x7684;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x5206;&#x9875;&#x6570;&#x636E;&#x7684;&#x533A;&#x57DF;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/category.html) &lt;!-- JqGrid&#x5FC5;&#x8981;DOM,&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x8868;&#x683C;&#x5C55;&#x793A;&#x5217;&#x8868;&#x6570;&#x636E; --&gt; &lt;table id=&quot;jqGrid&quot; class=&quot;table table-bordered&quot;&gt;&lt;/table&gt; &lt;!-- JqGrid&#x5FC5;&#x8981;DOM,&#x5206;&#x9875;&#x4FE1;&#x606F;&#x533A;&#x57DF; --&gt; &lt;div id=&quot;jqGridPager&quot;&gt;&lt;/div&gt;&#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x524D;&#x7AEF;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x4E86;&#x9875;&#x9762;&#x5C55;&#x793A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x63A5;&#x7740;&#x5B8C;&#x6210;&#x76F8;&#x5173;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x4E00;&#x5B9A;&#x81EA;&#x884C;&#x5BF9;&#x7167;&#x6E90;&#x7801;&#x5B8C;&#x6210;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5728; resources/static/admin/dist/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; blog.js &#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; $(function () { $(&quot;#jqGrid&quot;).jqGrid({ url: &apos;/admin/blogs/list&apos;, datatype: &quot;json&quot;, colModel: [ {label: &apos;id&apos;, name: &apos;blogId&apos;, index: &apos;blogId&apos;, width: 50, key: true, hidden: true}, {label: &apos;&#x6807;&#x9898;&apos;, name: &apos;blogTitle&apos;, index: &apos;blogTitle&apos;, width: 140}, {label: &apos;&#x9884;&#x89C8;&#x56FE;&apos;, name: &apos;blogCoverImage&apos;, index: &apos;blogCoverImage&apos;, width: 120, formatter: coverImageFormatter}, {label: &apos;&#x6D4F;&#x89C8;&#x91CF;&apos;, name: &apos;blogViews&apos;, index: &apos;blogViews&apos;, width: 60}, {label: &apos;&#x72B6;&#x6001;&apos;, name: &apos;blogStatus&apos;, index: &apos;blogStatus&apos;, width: 60, formatter: statusFormatter}, {label: &apos;&#x535A;&#x5BA2;&#x5206;&#x7C7B;&apos;, name: &apos;blogCategoryName&apos;, index: &apos;blogCategoryName&apos;, width: 60}, {label: &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, name: &apos;createTime&apos;, index: &apos;createTime&apos;, width: 90} ], height: 700, rowNum: 10, rowList: [10, 20, 50], styleUI: &apos;Bootstrap&apos;, loadtext: &apos;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x4E2D;...&apos;, rownumbers: false, rownumWidth: 20, autowidth: true, multiselect: true, pager: &quot;#jqGridPager&quot;, jsonReader: { root: &quot;data.list&quot;, page: &quot;data.currPage&quot;, total: &quot;data.totalPage&quot;, records: &quot;data.totalCount&quot; }, prmNames: { page: &quot;page&quot;, rows: &quot;limit&quot;, order: &quot;order&quot;, }, gridComplete: function () { //&#x9690;&#x85CF;grid&#x5E95;&#x90E8;&#x6EDA;&#x52A8;&#x6761; $(&quot;#jqGrid&quot;).closest(&quot;.ui-jqgrid-bdiv&quot;).css({&quot;overflow-x&quot;: &quot;hidden&quot;}); } }); $(window).resize(function () { $(&quot;#jqGrid&quot;).setGridWidth($(&quot;.card-body&quot;).width()); }); function coverImageFormatter(cellvalue) { return &quot;&lt;img src=&apos;&quot; + cellvalue + &quot;&apos; height=\&quot;120\&quot; width=\&quot;160\&quot; alt=&apos;coverImage&apos;/&gt;&quot;; } function statusFormatter(cellvalue) { if (cellvalue == 0) { return &quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-block btn-secondary btn-sm\&quot; style=\&quot;width: 50%;\&quot;&gt;&#x8349;&#x7A3F;&lt;/button&gt;&quot;; } else if (cellvalue == 1) { return &quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-block btn-success btn-sm\&quot; style=\&quot;width: 50%;\&quot;&gt;&#x53D1;&#x5E03;&lt;/button&gt;&quot;; } } });&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x5C55;&#x793A;&#x3001;&#x5B57;&#x6BB5;&#x683C;&#x5F0F;&#x5316; jqGrid DOM &#x5BBD;&#x5EA6;&#x7684;&#x81EA;&#x9002;&#x5E94;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x8C03;&#x7528; JqGrid &#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x9875;&#x9762;&#x4E2D; id &#x4E3A; jqGrid &#x7684; DOM &#x6E32;&#x67D3;&#x4E3A;&#x5206;&#x9875;&#x8868;&#x683C;&#xFF0C;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x4E4B;&#x540E;&#x6309;&#x7167;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684; json &#x6570;&#x636E;&#x586B;&#x5145;&#x8868;&#x683C;&#x4EE5;&#x53CA;&#x8868;&#x683C;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7B2C; 15 &#x4E2A;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4E2D; jqgrid &#x5206;&#x9875;&#x529F;&#x80FD;&#x6574;&#x5408;&#x8FDB;&#x884C;&#x77E5;&#x8BC6;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x9A8C;&#x8BC1;&#x4E00;&#x4E0B;&#x5206;&#x9875;&#x529F;&#x80FD;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002; &#x6309;&#x94AE;&#x4E8B;&#x4EF6;&#x6DFB;&#x52A0;&#x548C;&#x4FEE;&#x6539;&#x4E24;&#x4E2A;&#x6309;&#x94AE;&#x5206;&#x522B;&#x7ED1;&#x5B9A;&#x4E86;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728; blog.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E; addBlog() &#x65B9;&#x6CD5;&#x548C; editBlog() &#x65B9;&#x6CD5;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#x5747;&#x4E3A;&#x8DF3;&#x8F6C;&#x81F3;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762;&#xFF0C;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/blog.js) function addBlog() { window.location.href = &quot;/admin/blogs/edit&quot;; } function editBlog() { var id = getSelectedRow(); if (id == null) { return; } window.location.href = &quot;/admin/blogs/edit/&quot; + id; }&#x70B9;&#x51FB;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x65F6;&#x662F;&#x76F4;&#x63A5;&#x8DF3;&#x8F6C;&#x5230;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#xFF0C;&#x70B9;&#x51FB;&#x4FEE;&#x6539;&#x65F6;&#x9996;&#x5148;&#x8981;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x6587;&#x7AE0; id&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x81F3;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#xFF0C;&#x6DFB;&#x52A0;&#x548C;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x5219;&#x662F;&#x5728;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5B8C;&#x6210;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x53EA;&#x662F;&#x8DF3;&#x8F6C;&#x3002; &#x5220;&#x9664;&#x529F;&#x80FD;&#x5220;&#x9664;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4E3A; deleteBlog()&#xFF0C;&#x5728; blog.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/blog.js) function deleteBlog() { var ids = getSelectedRows(); if (ids == null) { return; } swal({ title: &quot;&#x786E;&#x8BA4;&#x5F39;&#x6846;&quot;, text: &quot;&#x786E;&#x8BA4;&#x8981;&#x5220;&#x9664;&#x6570;&#x636E;&#x5417;?&quot;, icon: &quot;warning&quot;, buttons: true, dangerMode: true, }).then((flag) =&gt; { if (flag) { $.ajax({ type: &quot;POST&quot;, url: &quot;/admin/blogs/delete&quot;, contentType: &quot;application/json&quot;, data: JSON.stringify(ids), success: function (r) { if (r.resultCode == 200) { swal(&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); $(&quot;#jqGrid&quot;).trigger(&quot;reloadGrid&quot;); } else { swal(r.message, { icon: &quot;error&quot;, }); } } }); } } ); }&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5728; jqgrid &#x8868;&#x683C;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684; id&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; blogs/delete&#xFF0C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x6E90;&#x7801;&#x4EE5;&#x53CA;&#x5B9E;&#x9645;&#x7684;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x548C;&#x7406;&#x89E3;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x3002; &#x529F;&#x80FD;&#x9A8C;&#x8BC1;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x672C;&#x5B9E;&#x9A8C;&#x6240;&#x9700;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x4E0B;&#x8F7D;&#x5E76;&#x53C2;&#x7167;&#x6E90;&#x7801;&#x5BF9;&#x6BD4;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x3002; &#x542F;&#x52A8; MySQL&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x542F;&#x52A8;&#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x5DF2;&#x89E3;&#x538B;&#x7684; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://1423b0da00a8.simplelab.cn/admin/login &#x5E76;&#x767B;&#x9646;&#x81F3;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x9996;&#x9875;&#xFF0C;&#x4E4B;&#x540E;&#x70B9;&#x51FB;&#x535A;&#x5BA2;&#x7BA1;&#x7406;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x4E86;&#x3002; &#x6587;&#x7AE0;&#x5217;&#x8868; &#x6587;&#x7AE0;&#x4FEE;&#x6539; &#x6587;&#x7AE0;&#x5220;&#x9664; &#x9A8C;&#x8BC1;&#x4E0E;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x7684;&#x9A8C;&#x8BC1;&#x6B65;&#x9AA4;&#x4E00;&#x6837;&#xFF0C;&#x56E0;&#x4E3A;&#x90FD;&#x662F;&#x5173;&#x4E8E;&#x6587;&#x7AE0;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E3B;&#x8981;&#x662F;&#x4E24;&#x4E2A;&#x65B9;&#x9762;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5426;&#x6B63;&#x786E; &#x5982;&#x679C;&#x6709;&#x8FDB;&#x884C;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x7684;&#x8BDD; upload &#x76EE;&#x5F55;&#x4E0B;&#x662F;&#x5426;&#x6709;&#x6B63;&#x786E;&#x7684;&#x6587;&#x4EF6; &#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x603B;&#x7ED3;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x535A;&#x5BA2;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x5230;&#x8FD9;&#x91CC;&#x5C31;&#x6682;&#x65F6;&#x544A;&#x4E00;&#x6BB5;&#x843D;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x8BB2;&#x89E3;&#x603B;&#x5171;&#x7528;&#x4E86;&#x4E09;&#x4E2A;&#x5B9E;&#x9A8C;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x786E;&#x5B9E;&#x662F;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x5E0C;&#x671B;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6211;&#x7ED9;&#x7684;&#x601D;&#x8DEF;&#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x628A;&#x8FD9;&#x90E8;&#x5206;&#x77E5;&#x8BC6;&#x70B9;&#x5168;&#x90E8;&#x638C;&#x63E1;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x7684;&#x5F00;&#x53D1;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-18-wen-zhang-bian-ji-wan-shan.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6587;&#x7AE0;&#x7684;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4EE5;&#x53CA;&#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5B8C;&#x6210;&#xFF0C;&#x56E0;&#x4E3A;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x6240;&#x4EE5;&#x7528;&#x4E86;&#x4E24;&#x4E2A;&#x5B9E;&#x9A8C;&#x6765;&#x8BB2;&#x89E3;&#xFF0C;&#x56E0;&#x4E3A;&#x6587;&#x7AE0;&#x5B9E;&#x4F53;&#x53CA;&#x76F8;&#x5173;&#x8054;&#x7684;&#x5B9E;&#x4F53;&#x662F;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5728;&#x535A;&#x5BA2;&#x5C55;&#x793A;&#x7CFB;&#x7EDF;&#x4E2D;&#x4E5F;&#x4F1A;&#x7EE7;&#x7EED;&#x8BB2;&#x89E3;&#x3002;&#x8FD9;&#x4E2A;&#x5B9E;&#x9A8C;&#x6211;&#x4F1A;&#x7EE7;&#x7EED;&#x6765;&#x5B8C;&#x5584;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x7684;&#x76F8;&#x5173;&#x9875;&#x9762;&#x3001;&#x4EA4;&#x4E92;&#x903B;&#x8F91;&#x4EE5;&#x53CA;&#x540E;&#x7AEF;&#x529F;&#x80FD;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3001;&#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x548C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x6574;&#x4E2A;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x5C31;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#x4E86;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;(&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#x3001;&#x6570;&#x636E;&#x56DE;&#x663E;&#x3001;&#x4FEE;&#x6539;&#x903B;&#x8F91;&#x4EE3;&#x7801;&#x3001;Ajax &#x8C03;&#x7528;&#x63A5;&#x53E3;&#x903B;&#x8F91;) &#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x63A5;&#x53E3;&#x5B9E;&#x73B0; &#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53CA;&#x7F16;&#x7801; &#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x6D4B;&#x8BD5; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-23.zip unzip My-Blog-23.zip cd My-Blog&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x8BB2;&#x89E3;&#x4E86;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x5305;&#x62EC;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x548C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x7EE7;&#x7EED;&#x6765;&#x8BB2;&#x89E3;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x7684;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x548C;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#x3002; &#x60F3;&#x8981;&#x4FEE;&#x6539;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x56DE;&#x663E;&#x5230;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x7528;&#x6237;&#x6839;&#x636E;&#x9700;&#x8981;&#x6765;&#x4FEE;&#x6539;&#x9875;&#x9762;&#x4E0A;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x70B9;&#x51FB;&#x4FDD;&#x5B58;&#x6309;&#x94AE;&#x540E;&#x4F1A;&#x60F3;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x8BF7;&#x6C42;&#xFF0C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x63A5;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#x4F1A;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x4EE5;&#x53CA;&#x76F8;&#x5E94;&#x7684;&#x903B;&#x8F91;&#x64CD;&#x4F5C;&#xFF0C;&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x5165;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x6574;&#x4E2A;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x6D41;&#x7A0B;&#x5B8C;&#x6210;&#x3002; &#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x6839;&#x636E;&#x6D41;&#x7A0B;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x83B7;&#x53D6;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#xFF0C;&#x4F46;&#x662F;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x6709;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x6CA1;&#x6709;&#x505A;&#x6210;&#x63A5;&#x53E3;&#x5F62;&#x5F0F;&#xFF0C;&#x800C;&#x662F;&#x91C7;&#x7528;&#x4E0E;&#x6DFB;&#x52A0;&#x6587;&#x7AE0;&#x65F6;&#x76F8;&#x540C;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x5230;&#x7F16;&#x8F91;&#x9875;&#x5373;&#x53EF;&#xFF0C;&#x56E0;&#x4E3A;&#x8981;&#x83B7;&#x53D6;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x6839;&#x636E;&#x4E00;&#x4E2A;&#x5B57;&#x6BB5;&#x6765;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x9009;&#x62E9; id &#x4F5C;&#x4E3A;&#x4F20;&#x53C2;&#x4E86;&#xFF0C;&#x5728; BlogController &#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java) @GetMapping(&quot;/blogs/edit/{blogId}&quot;) public String edit(HttpServletRequest request, @PathVariable(&quot;blogId&quot;) Long blogId) { request.setAttribute(&quot;path&quot;, &quot;edit&quot;); Blog blog = blogService.getBlogById(blogId); if (blog == null) { return &quot;error/error_400&quot;; } request.setAttribute(&quot;blog&quot;, blog); request.setAttribute(&quot;categories&quot;, categoryService.getAllCategories()); return &quot;admin/edit&quot;; }&#x5728;&#x8BBF;&#x95EE; /blogs/edit/{blogId} &#x65F6;&#xFF0C;&#x4F1A;&#x628A;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x6240;&#x9700;&#x7684;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x5185;&#x5BB9;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x8F6C;&#x53D1;&#x5230; edit &#x9875;&#x9762;&#x3002; &#x9875;&#x9762;&#x56DE;&#x663E;&#x6539;&#x9020;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762; edit.html &#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x5C06;&#x524D;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x643A;&#x5E26;&#x7684; blog &#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x8BFB;&#x53D6;&#x5E76;&#x663E;&#x793A;&#x5728;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5BF9;&#x5E94;&#x7684; DOM &#x4E2D;&#xFF0C;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/edit.html) &lt;form id=&quot;blogForm&quot; onsubmit=&quot;return false;&quot;&gt; &lt;div class=&quot;form-group&quot; style=&quot;display:flex;&quot;&gt; &lt;input type=&quot;hidden&quot; id=&quot;blogId&quot; name=&quot;blogId&quot; th:value=&quot;${blog!=null and blog.blogId!=null }?${blog.blogId}: 0&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control col-sm-6&quot; id=&quot;blogName&quot; name=&quot;blogName&quot; placeholder=&quot;*&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;(&#x5FC5;&#x586B;)&quot; th:value=&quot;${blog!=null and blog.blogTitle!=null }?${blog.blogTitle}: &apos;&apos;&quot; required=&quot;true&quot;&gt; &amp;nbsp;&amp;nbsp; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;blogTags&quot; name=&quot;blogTags&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot; th:value=&quot;${blog!=null and blog.blogTags!=null }?${blog.blogTags}: &apos;&apos;&quot; style=&quot;width: 100%;&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; style=&quot;display:flex;&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control col-sm-6&quot; id=&quot;blogSubUrl&quot; name=&quot;blogSubUrl&quot; th:value=&quot;${blog!=null and blog.blogSubUrl!=null }?${blog.blogSubUrl}: &apos;&apos;&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84;,&#x5982;:springboot-mybatis,&#x9ED8;&#x8BA4;&#x4E3A;id&quot;&gt; &amp;nbsp;&amp;nbsp; &lt;select class=&quot;form-control select2&quot; style=&quot;width: 100%;&quot; id=&quot;blogCategoryId&quot; data-placeholder=&quot;&#x8BF7;&#x9009;&#x62E9;&#x5206;&#x7C7B;...&quot;&gt; &lt;th:block th:if=&quot;${null == categories}&quot;&gt; &lt;option value=&quot;0&quot; selected=&quot;selected&quot;&gt;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&lt;/option&gt; &lt;/th:block&gt; &lt;th:block th:unless=&quot;${null == categories}&quot;&gt; &lt;th:block th:each=&quot;c : ${categories}&quot;&gt; &lt;option th:value=&quot;${c.categoryId}&quot; th:text=&quot;${c.categoryName}&quot; th:selected=&quot;${null !=blog and null !=blog.blogCategoryId and blog.blogCategoryId==c.categoryId} ?true:false&quot;&gt; &gt; &lt;/option&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot; id=&quot;blog-editormd&quot;&gt; &lt;textarea style=&quot;display:none;&quot; th:utext=&quot;${blog!=null and blog.blogContent !=null}?${blog.blogContent}: &apos;&apos;&quot;&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;col-sm-4&quot;&gt; &lt;th:block th:if=&quot;${null == blog}&quot;&gt; &lt;img id=&quot;blogCoverImage&quot; src=&quot;/admin/dist/img/img-upload.png&quot; style=&quot;height: 64px;width: 64px;&quot;&gt; &lt;/th:block&gt; &lt;th:block th:unless=&quot;${null == blog}&quot;&gt; &lt;img id=&quot;blogCoverImage&quot; th:src=&quot;${blog.blogCoverImage}&quot; style=&quot;width:160px ;height: 120px;display:block;&quot;&gt; &lt;/th:block&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;col-sm-4&quot;&gt; &lt;button class=&quot;btn btn-info&quot; style=&quot;margin-bottom: 5px;&quot; id=&quot;uploadCoverImage&quot;&gt; &lt;i class=&quot;fa fa-picture-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x4E0A;&#x4F20;&#x5C01;&#x9762; &lt;/button&gt; &lt;button class=&quot;btn btn-secondary&quot; style=&quot;margin-bottom: 5px;&quot; id=&quot;randomCoverImage&quot;&gt;&lt;i class=&quot;fa fa-random&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x968F;&#x673A;&#x5C01;&#x9762; &lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label class=&quot;control-label&quot;&gt;&#x6587;&#x7AE0;&#x72B6;&#x6001;:&amp;nbsp;&lt;/label&gt; &lt;input name=&quot;blogStatus&quot; type=&quot;radio&quot; id=&quot;publish&quot; checked=true th:checked=&quot;${null==blog||(null !=blog and null !=blog.blogStatus and blog.blogStatus==1)} ?true:false&quot; value=&quot;1&quot;/&gt;&amp;nbsp;&#x53D1;&#x5E03;&amp;nbsp; &lt;input name=&quot;blogStatus&quot; type=&quot;radio&quot; id=&quot;draft&quot; value=&quot;0&quot; th:checked=&quot;${null !=blog and null !=blog.blogStatus and blog.blogStatus==0} ?true:false&quot;/&gt;&amp;nbsp;&#x8349;&#x7A3F;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;label class=&quot;control-label&quot;&gt;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8BC4;&#x8BBA;:&amp;nbsp;&lt;/label&gt; &lt;input name=&quot;enableComment&quot; type=&quot;radio&quot; id=&quot;enableCommentTrue&quot; checked=true th:checked=&quot;${null==blog||(null !=blog and null !=blog.enableComment and blog.enableComment==0)} ?true:false&quot; value=&quot;0&quot;/&gt;&amp;nbsp;&#x662F;&amp;nbsp; &lt;input name=&quot;enableComment&quot; type=&quot;radio&quot; id=&quot;enableCommentFalse&quot; value=&quot;1&quot; th:checked=&quot;${null !=blog and null !=blog.enableComment and blog.enableComment==1} ?true:false&quot;/&gt;&amp;nbsp;&#x5426;&amp;nbsp; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;!-- &#x6309;&#x94AE; --&gt; &amp;nbsp;&lt;button class=&quot;btn btn-info float-right&quot; style=&quot;margin-left: 5px;&quot; id=&quot;confirmButton&quot;&gt;&#x4FDD;&#x5B58;&#x6587;&#x7AE0; &lt;/button&gt;&amp;nbsp; &amp;nbsp;&lt;button class=&quot;btn btn-secondary float-right&quot; style=&quot;margin-left: 5px;&quot; id=&quot;cancelButton&quot;&gt;&#x8FD4;&#x56DE;&#x6587;&#x7AE0;&#x5217;&#x8868; &lt;/button&gt;&amp;nbsp; &lt;/div&gt; &lt;/form&gt;&#x53EA;&#x662F;&#x5728;&#x539F;&#x6765;&#x7F16;&#x8F91; DOM &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x52A0;&#x4E0A; Thymeleaf &#x8BFB;&#x53D6;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x96BE;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x8FD9;&#x6837;&#x6539;&#x9020;&#x4E4B;&#x540E;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x7F16;&#x8F91;&#x529F;&#x80FD;&#x7684;&#x524D;&#x4E24;&#x6B65;&#xFF0C;&#x83B7;&#x53D6;&#x8BE6;&#x60C5;&#x5E76;&#x56DE;&#x663E;&#x5230;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x4E2D;&#x3002; &#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x6211;&#x4EEC;&#x8BB2;&#x89E3;&#x4E86;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x800C;&#x5927;&#x90E8;&#x5206;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#xFF0C;&#x90FD;&#x4E0E;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x7C7B;&#x4F3C;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x4E0D;&#x540C;&#x70B9;&#x5C31;&#x662F;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x9700;&#x8981;&#x77E5;&#x9053;&#x4FEE;&#x6539;&#x7684;&#x662F;&#x54EA;&#x4E00;&#x6761;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x6A21;&#x4EFF;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x6765;&#x5B9E;&#x73B0;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#xFF0C;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684; POST &#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#x5176;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x63A5;&#x6536;&#x7684;&#x53C2;&#x6570;&#x4E3A;&#x7528;&#x6237;&#x5728;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x8F93;&#x5165;&#x7684;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x5185;&#x5BB9;&#x4EE5;&#x53CA;&#x6587;&#x7AE0;&#x7684;&#x4E3B;&#x952E; id&#xFF0C;&#x5B57;&#x6BB5;&#x540D;&#x79F0;&#x4E0E;&#x5BF9;&#x5E94;&#x7684;&#x542B;&#x4E49;&#x5982;&#x4E0B;&#xFF1A; &#x201C;blogId&#x201C;: &#x6587;&#x7AE0;&#x4E3B;&#x952E; &#x201C;blogTitle&#x201C;: &#x6587;&#x7AE0;&#x6807;&#x9898; &#x201C;blogSubUrl&#x201C;: &#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84; &#x201C;blogCategoryId&#x201C;: &#x5206;&#x7C7B; id (&#x4E0B;&#x62C9;&#x6846;&#x4E2D;&#x9009;&#x62E9;) &#x201C;blogTags&#x201C;: &#x6807;&#x7B7E;&#x5B57;&#x6BB5;(&#x4EE5;&#x9017;&#x53F7;&#x5206;&#x9694;) &#x201C;blogContent&#x201C;: &#x6587;&#x7AE0;&#x5185;&#x5BB9;(&#x7F16;&#x8F91;&#x5668;&#x4E2D;&#x7684; md &#x6587;&#x6863;) &#x201C;blogCoverImage&#x201C;: &#x5C01;&#x9762;&#x56FE;(&#x4E0A;&#x4F20;&#x56FE;&#x7247;&#x6216;&#x8005;&#x968F;&#x673A;&#x56FE;&#x7247;&#x7684;&#x8DEF;&#x5F84;) &#x201C;blogStatus&#x201C;: &#x6587;&#x7AE0;&#x72B6;&#x6001; &#x201C;enableComment&#x201C;: &#x8BC4;&#x8BBA;&#x5F00;&#x5173; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java&#xFF09; &#x5728; BlogController &#x4E2D;&#x65B0;&#x589E; update() &#x65B9;&#x6CD5;&#xFF0C;&#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /blogs/update&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/blogs/update&quot;) @ResponseBody public Result update(@RequestParam(&quot;blogId&quot;) Long blogId, @RequestParam(&quot;blogTitle&quot;) String blogTitle, @RequestParam(name = &quot;blogSubUrl&quot;, required = false) String blogSubUrl, @RequestParam(&quot;blogCategoryId&quot;) Integer blogCategoryId, @RequestParam(&quot;blogTags&quot;) String blogTags, @RequestParam(&quot;blogContent&quot;) String blogContent, @RequestParam(&quot;blogCoverImage&quot;) String blogCoverImage, @RequestParam(&quot;blogStatus&quot;) Byte blogStatus, @RequestParam(&quot;enableComment&quot;) Byte enableComment) { if (StringUtils.isEmpty(blogTitle)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;&quot;); } if (blogTitle.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x6807;&#x9898;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogTags)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot;); } if (blogTags.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x6807;&#x7B7E;&#x8FC7;&#x957F;&quot;); } if (blogSubUrl.trim().length() &gt; 150) { return ResultGenerator.genFailResult(&quot;&#x8DEF;&#x5F84;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogContent)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&quot;); } if (blogTags.trim().length() &gt; 100000) { return ResultGenerator.genFailResult(&quot;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x8FC7;&#x957F;&quot;); } if (StringUtils.isEmpty(blogCoverImage)) { return ResultGenerator.genFailResult(&quot;&#x5C01;&#x9762;&#x56FE;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;); } Blog blog = new Blog(); blog.setBlogId(blogId); blog.setBlogTitle(blogTitle); blog.setBlogSubUrl(blogSubUrl); blog.setBlogCategoryId(blogCategoryId); blog.setBlogTags(blogTags); blog.setBlogContent(blogContent); blog.setBlogCoverImage(blogCoverImage); blog.setBlogStatus(blogStatus); blog.setEnableComment(enableComment); String updateBlogResult = blogService.updateBlog(blog); if (&quot;success&quot;.equals(updateBlogResult)) { return ResultGenerator.genSuccessResult(&quot;&#x4FEE;&#x6539;&#x6210;&#x529F;&quot;); } else { return ResultGenerator.genFailResult(updateBlogResult); } }&#x9996;&#x5148;&#x4F1A;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#xFF0C;&#x4E4B;&#x540E;&#x4EA4;&#x7ED9;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x4E0E;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x4E0D;&#x540C;&#x7684;&#x662F;&#x4F20;&#x53C2;&#xFF0C;&#x591A;&#x4E86;&#x4E3B;&#x952E; id&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x54EA;&#x4E00;&#x6761;&#x6570;&#x636E;&#x3002; &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09; &#x5728; service &#x5305;&#x4E2D;&#x65B0;&#x5EFA; BlogService &#x5E76;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x65B9;&#x6CD5; updateBlog()&#xFF0C;&#x4E0B;&#x9762;&#x4E3A;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#xFF1A; @Override @Transactional public String updateBlog(Blog blog) { Blog blogForUpdate = blogMapper.selectByPrimaryKey(blog.getBlogId()); if (blogForUpdate == null) { return &quot;&#x6570;&#x636E;&#x4E0D;&#x5B58;&#x5728;&quot;; } blogForUpdate.setBlogTitle(blog.getBlogTitle()); blogForUpdate.setBlogSubUrl(blog.getBlogSubUrl()); blogForUpdate.setBlogContent(blog.getBlogContent()); blogForUpdate.setBlogCoverImage(blog.getBlogCoverImage()); blogForUpdate.setBlogStatus(blog.getBlogStatus()); blogForUpdate.setEnableComment(blog.getEnableComment()); BlogCategory blogCategory = categoryMapper.selectByPrimaryKey(blog.getBlogCategoryId()); if (blogCategory == null) { blogForUpdate.setBlogCategoryId(0); blogForUpdate.setBlogCategoryName(&quot;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&quot;); } else { //&#x8BBE;&#x7F6E;&#x535A;&#x5BA2;&#x5206;&#x7C7B;&#x540D;&#x79F0; blogForUpdate.setBlogCategoryName(blogCategory.getCategoryName()); blogForUpdate.setBlogCategoryId(blogCategory.getCategoryId()); //&#x5206;&#x7C7B;&#x7684;&#x6392;&#x5E8F;&#x503C;&#x52A0;1 blogCategory.setCategoryRank(blogCategory.getCategoryRank() + 1); } //&#x5904;&#x7406;&#x6807;&#x7B7E;&#x6570;&#x636E; String[] tags = blog.getBlogTags().split(&quot;,&quot;); if (tags.length &gt; 6) { return &quot;&#x6807;&#x7B7E;&#x6570;&#x91CF;&#x9650;&#x5236;&#x4E3A;6&quot;; } blogForUpdate.setBlogTags(blog.getBlogTags()); //&#x65B0;&#x589E;&#x7684;tag&#x5BF9;&#x8C61; List&lt;BlogTag&gt; tagListForInsert = new ArrayList&lt;&gt;(); //&#x6240;&#x6709;&#x7684;tag&#x5BF9;&#x8C61;&#xFF0C;&#x7528;&#x4E8E;&#x5EFA;&#x7ACB;&#x5173;&#x7CFB;&#x6570;&#x636E; List&lt;BlogTag&gt; allTagsList = new ArrayList&lt;&gt;(); for (int i = 0; i &lt; tags.length; i++) { BlogTag tag = tagMapper.selectByTagName(tags[i]); if (tag == null) { //&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x65B0;&#x589E; BlogTag tempTag = new BlogTag(); tempTag.setTagName(tags[i]); tagListForInsert.add(tempTag); } else { allTagsList.add(tag); } } //&#x65B0;&#x589E;&#x6807;&#x7B7E;&#x6570;&#x636E;&#x4E0D;&#x4E3A;&#x7A7A;-&gt;&#x65B0;&#x589E;&#x6807;&#x7B7E;&#x6570;&#x636E; if (!CollectionUtils.isEmpty(tagListForInsert)) { tagMapper.batchInsertBlogTag(tagListForInsert); } List&lt;BlogTagRelation&gt; blogTagRelations = new ArrayList&lt;&gt;(); //&#x65B0;&#x589E;&#x5173;&#x7CFB;&#x6570;&#x636E; allTagsList.addAll(tagListForInsert); for (BlogTag tag : allTagsList) { BlogTagRelation blogTagRelation = new BlogTagRelation(); blogTagRelation.setBlogId(blog.getBlogId()); blogTagRelation.setTagId(tag.getTagId()); blogTagRelations.add(blogTagRelation); } //&#x4FEE;&#x6539;blog&#x4FE1;&#x606F;-&gt;&#x4FEE;&#x6539;&#x5206;&#x7C7B;&#x6392;&#x5E8F;&#x503C;-&gt;&#x5220;&#x9664;&#x539F;&#x5173;&#x7CFB;&#x6570;&#x636E;-&gt;&#x4FDD;&#x5B58;&#x65B0;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E; categoryMapper.updateByPrimaryKeySelective(blogCategory); //&#x5220;&#x9664;&#x539F;&#x5173;&#x7CFB;&#x6570;&#x636E; blogTagRelationMapper.deleteByBlogId(blog.getBlogId()); blogTagRelationMapper.batchInsert(blogTagRelations); if (blogMapper.updateByPrimaryKeySelective(blogForUpdate) &gt; 0) { return &quot;success&quot;; } return &quot;&#x4FEE;&#x6539;&#x5931;&#x8D25;&quot;; }&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x7684;&#x4E1A;&#x52A1;&#x5C42;&#x65B9;&#x6CD5;&#x6765;&#x5B66;&#x4E60;&#xFF0C;&#x8FD9;&#x91CC;&#x4EC5;&#x4EC5;&#x8BB2;&#x4E00;&#x4E0B;&#x4E0D;&#x540C;&#x70B9;&#xFF0C;&#x9996;&#x5148;&#xFF0C;updateBlog() &#x65B9;&#x6CD5;&#x4F1A;&#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#x5F53;&#x524D;&#x60F3;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x6807;&#x7B7E;&#x53CA;&#x6807;&#x7B7E;&#x5173;&#x7CFB;&#x5904;&#x7406;&#x903B;&#x8F91;&#x4E0E; saveBlog() &#x65B9;&#x6CD5;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x540C;&#x70B9;&#x662F;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x7684;&#x4FDD;&#x5B58;&#xFF0C;saveBlog() &#x65B9;&#x6CD5;&#x662F;&#x76F4;&#x63A5;&#x4FDD;&#x5B58;&#x5173;&#x7CFB;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x5168;&#x65B0;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E;&#xFF0C;&#x800C; updateBlog() &#x65B9;&#x6CD5;&#x7684;&#x5904;&#x7406;&#x5219;&#x9700;&#x8981;&#x4FEE;&#x6539;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x4FEE;&#x6539;&#x524D;&#x5C31;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5148;&#x628A;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5220;&#x6389;&#x518D;&#x4FDD;&#x5B58;&#x65B0;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x3002; &#x5173;&#x952E; SQL &#x6839;&#x636E;&#x6587;&#x7AE0; id &#x5220;&#x9664;&#x539F;&#x6765;&#x7684;&#x5173;&#x7CFB;&#x6570;&#x636E; &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogTagRelationMapper.xml&#xFF09; &lt;delete id=&quot;deleteByBlogId&quot; parameterType=&quot;java.lang.Long&quot;&gt; delete from tb_blog_tag_relation where blog_id = #{blogId,jdbcType=BIGINT} &lt;/delete&gt;Ajax &#x8C03;&#x7528;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x5BF9;&#x6587;&#x7AE0;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x4E0B;&#x65B9;&#x7684;&#x4FDD;&#x5B58;&#x6587;&#x7AE0;&#x6309;&#x94AE;&#xFF0C;&#x6B64;&#x65F6;&#x4F1A;&#x8C03;&#x7528;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5E76;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;js &#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/edit.js) $(&apos;#confirmButton&apos;).click(function () { var blogId = $(&apos;#blogId&apos;).val(); var blogTitle = $(&apos;#blogName&apos;).val(); var blogSubUrl = $(&apos;#blogSubUrl&apos;).val(); var blogCategoryId = $(&apos;#blogCategoryId&apos;).val(); var blogTags = $(&apos;#blogTags&apos;).val(); var blogContent = blogEditor.getMarkdown(); var blogCoverImage = $(&apos;#blogCoverImage&apos;)[0].src; var blogStatus = $(&quot;input[name=&apos;blogStatus&apos;]:checked&quot;).val(); var enableComment = $(&quot;input[name=&apos;enableComment&apos;]:checked&quot;).val(); if (isNull(blogTitle)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x9898;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTitle, 150)) { swal(&quot;&#x6807;&#x9898;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogSubUrl, 150)) { swal(&quot;&#x8DEF;&#x5F84;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogCategoryId)) { swal(&quot;&#x8BF7;&#x9009;&#x62E9;&#x6587;&#x7AE0;&#x5206;&#x7C7B;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogTags)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x6807;&#x7B7E;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTags, 150)) { swal(&quot;&#x6807;&#x7B7E;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogContent)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&quot;, { icon: &quot;error&quot;, }); return; } if (!validLength(blogTags, 100000)) { swal(&quot;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x8FC7;&#x957F;&quot;, { icon: &quot;error&quot;, }); return; } if (isNull(blogCoverImage) || blogCoverImage.indexOf(&apos;img-upload&apos;) != -1) { swal(&quot;&#x5C01;&#x9762;&#x56FE;&#x7247;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;, { icon: &quot;error&quot;, }); return; } var url = &apos;/admin/blogs/save&apos;; var swlMessage = &apos;&#x4FDD;&#x5B58;&#x6210;&#x529F;&apos;; var data = { &quot;blogTitle&quot;: blogTitle, &quot;blogSubUrl&quot;: blogSubUrl, &quot;blogCategoryId&quot;: blogCategoryId, &quot;blogTags&quot;: blogTags, &quot;blogContent&quot;: blogContent, &quot;blogCoverImage&quot;: blogCoverImage, &quot;blogStatus&quot;: blogStatus, &quot;enableComment&quot;: enableComment }; //blogId&#x5927;&#x4E8E;0&#x5219;&#x4E3A;&#x4FEE;&#x6539;&#x64CD;&#x4F5C; if (blogId &gt; 0) { url = &apos;/admin/blogs/update&apos;; swlMessage = &apos;&#x4FEE;&#x6539;&#x6210;&#x529F;&apos;; data = { &quot;blogId&quot;: blogId, &quot;blogTitle&quot;: blogTitle, &quot;blogSubUrl&quot;: blogSubUrl, &quot;blogCategoryId&quot;: blogCategoryId, &quot;blogTags&quot;: blogTags, &quot;blogContent&quot;: blogContent, &quot;blogCoverImage&quot;: blogCoverImage, &quot;blogStatus&quot;: blogStatus, &quot;enableComment&quot;: enableComment }; } console.log(data); $.ajax({ type: &apos;POST&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: url, data: data, success: function (result) { if (result.resultCode == 200) { swal(swlMessage, { icon: &quot;success&quot; }); } else { swal(result.message, { icon: &quot;error&quot;, }); } ; }, error: function () { swal(&quot;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot;, }); } }); });&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x6539;&#x9020;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x4FDD;&#x5B58;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x5224;&#x65AD; blogId &#x662F;&#x5426;&#x5927;&#x4E8E; 0&#xFF0C;&#x5982;&#x679C;&#x5927;&#x4E8E; 0 &#x5219;&#x8BC1;&#x660E;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4FEE;&#x6539;&#x8BF7;&#x6C42;&#xFF0C;&#x4E4B;&#x540E;&#x5C01;&#x88C5;&#x6570;&#x636E;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#x4FEE;&#x6539;&#x6587;&#x7AE0;&#x3002; &#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x5BFC;&#x822A;&#x680F;&#x9996;&#x5148;&#x5728;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x4E2D;&#x65B0;&#x589E;&#x7F16;&#x8F91;&#x9875;&#x7684;&#x5BFC;&#x822A;&#x6309;&#x94AE;&#xFF0C;&#x5728; sidebar.html &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/sidebar.html) &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/blogs}&quot; th:class=&quot;${path}==&apos;blogs&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt; &lt;i class=&quot;fa fa-list-alt nav-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; &lt;p&gt; &#x535A;&#x5BA2;&#x7BA1;&#x7406; &lt;/p&gt; &lt;/a&gt; &lt;/li&gt;&#x70B9;&#x51FB;&#x540E;&#x7684;&#x8DF3;&#x8F6C;&#x8DEF;&#x5F84;&#x4E3A; /admin/blogs&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x65B0;&#x5EFA; Controller &#x6765;&#x5904;&#x7406;&#x8BE5;&#x8DEF;&#x5F84;&#x5E76;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#x3002; Controller &#x5904;&#x7406;&#x8DF3;&#x8F6C;&#x9996;&#x5148;&#x5728; controller/admin &#x5305;&#x4E0B;&#x65B0;&#x5EFA; BlogController.java&#xFF0C;&#x4E4B;&#x540E;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; @GetMapping(&quot;/blogs&quot;) public String list(HttpServletRequest request) { request.setAttribute(&quot;path&quot;, &quot;blogs&quot;); return &quot;admin/blog&quot;; }&#x8BE5;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5904;&#x7406; /admin/blogs &#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E; path &#x5B57;&#x6BB5;&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; admin &#x76EE;&#x5F55;&#x4E0B;&#x7684; blog.html &#x4E2D;&#x3002; blog.html &#x9875;&#x9762;&#x5236;&#x4F5C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x535A;&#x5BA2;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5236;&#x4F5C;&#x4E86;&#xFF0C;&#x5728; resources/templates/admin &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; blog.html&#xFF0C;&#x5E76;&#x5F15;&#x5165;&#x5BF9;&#x5E94;&#x7684; js &#x6587;&#x4EF6;&#x548C; css &#x6837;&#x5F0F;&#x6587;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;header th:replace=&quot;admin/header::header-fragment&quot;&gt;&lt;/header&gt; &lt;body class=&quot;hold-transition sidebar-mini&quot;&gt; &lt;div class=&quot;wrapper&quot;&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x9762;&#x5934;header-fragment --&gt; &lt;div th:replace=&quot;admin/header::header-nav&quot;&gt;&lt;/div&gt; &lt;!-- &#x5F15;&#x5165;&#x5DE5;&#x5177;&#x680F;sidebar-fragment --&gt; &lt;div th:replace=&quot;admin/sidebar::sidebar-fragment(${path})&quot;&gt;&lt;/div&gt; &lt;!-- Content Wrapper. Contains page content --&gt; &lt;div class=&quot;content-wrapper&quot;&gt; &lt;!-- Content Header (Page header) --&gt; &lt;div class=&quot;content-header&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/div&gt; &lt;!-- Main content --&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;card card-primary card-outline&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h3 class=&quot;card-title&quot;&gt;&#x535A;&#x5BA2;&#x7BA1;&#x7406;&lt;/h3&gt; &lt;/div&gt; &lt;!-- /.card-body --&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;/div&gt;&lt;!-- /.card-body --&gt; &lt;/div&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/div&gt; &lt;!-- /.content --&gt; &lt;/div&gt; &lt;!-- /.content-wrapper --&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x811A;footer-fragment --&gt; &lt;div th:replace=&quot;admin/footer::footer-fragment&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- jQuery --&gt; &lt;script th:src=&quot;@{/admin/plugins/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- jQuery UI 1.11.4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/jQueryUI/jquery-ui.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap 4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/bootstrap/js/bootstrap.bundle.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- AdminLTE App --&gt; &lt;script th:src=&quot;@{/admin/dist/js/adminlte.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- jqgrid --&gt; &lt;script th:src=&quot;@{/admin/plugins/jqgrid-5.3.0/jquery.jqGrid.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/admin/plugins/jqgrid-5.3.0/grid.locale-cn.js}&quot;&gt;&lt;/script&gt; &lt;!-- sweetalert --&gt; &lt;script th:src=&quot;@{/admin/plugins/sweetalert/sweetalert.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/admin/dist/js/public.js}&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x81F3;&#x6B64;&#xFF0C;&#x8DF3;&#x8F6C;&#x903B;&#x8F91;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#xFF0C;&#x6F14;&#x793A;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x535A;&#x5BA2;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x53CA;&#x5B9E;&#x73B0;&#x56E0;&#x4E3A;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x548C;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x90FD;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x4E2D;&#x4E5F;&#x4EC5;&#x4EC5;&#x53EA;&#x9700;&#x8981;&#x5217;&#x8868;&#x529F;&#x80FD;&#x548C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x4ECB;&#x7ECD;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x548C;&#x5220;&#x9664;&#x63A5;&#x53E3;&#xFF0C;&#x53E6;&#x5916;&#x4E24;&#x4E2A;&#x63A5;&#x53E3;&#x5728;&#x524D;&#x6587;&#x4E2D;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x4E86;&#x3002; &#x6587;&#x7AE0;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x5217;&#x8868;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x4F20;&#x6765;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#xFF0C;&#x5982; page &#x3001;limit &#x7B49;&#x53C2;&#x6570;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x6570;&#x636E;&#x603B;&#x6570;&#x548C;&#x5BF9;&#x5E94;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x5C01;&#x88C5;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /blogs/list&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @GetMapping(&quot;/blogs/list&quot;) @ResponseBody public Result list(@RequestParam Map&lt;String, Object&gt; params) { if (StringUtils.isEmpty(params.get(&quot;page&quot;)) || StringUtils.isEmpty(params.get(&quot;limit&quot;))) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } PageQueryUtil pageUtil = new PageQueryUtil(params); return ResultGenerator.genSuccessResult(blogService.getBlogsPage(pageUtil)); } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; public PageResult getBlogsPage(PageQueryUtil pageUtil) { List&lt;Blog&gt; blogList = blogMapper.findBlogList(pageUtil); int total = blogMapper.getTotalBlogs(pageUtil); PageResult pageResult = new PageResult(blogList, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } BlogCategoryMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findBlogList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog where is_deleted=0 order by blog_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalBlogs&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog where is_deleted=0 &lt;/select&gt;SQL &#x8BED;&#x53E5;&#x5728; BlogMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x5206;&#x9875;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528; limit &#x5173;&#x952E;&#x5B57;&#x5B9E;&#x73B0;&#xFF0C;&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x6761;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x548C;&#x603B;&#x6570;&#x4E4B;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x6839;&#x636E;&#x524D;&#x7AEF;&#x4F20;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x5206;&#x9875;&#x6570;&#x636E;&#x4EE5;&#x4F9B;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x3002; &#x5220;&#x9664;&#x63A5;&#x53E3;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684;&#x6587;&#x7AE0;&#x5220;&#x9664;&#x8BF7;&#x6C42;&#xFF0C;&#x5904;&#x7406;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x201C;&#x5220;&#x9664;&#x201D;&#x529F;&#x80FD;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x662F;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5220;&#x9664;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x524D;&#x7AEF;&#x5C06;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55; id &#x5C01;&#x88C5;&#x597D;&#x518D;&#x4F20;&#x53C2;&#x5230;&#x540E;&#x7AEF;&#x5373;&#x53EF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.BlogController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /blogs/delete&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/blogs/delete&quot;) @ResponseBody public Result delete(@RequestBody Integer[] ids) { if (ids.length &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (blogService.deleteBatch(ids)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x5220;&#x9664;&#x5931;&#x8D25;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; public Boolean deleteBatch(Integer[] ids) { if (ids.length &lt; 1) { return false; } return blogMapper.deleteBatch(ids) &gt; 0; } BlogMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;update id=&quot;deleteBatch&quot;&gt; update tb_blog set is_deleted=1 where blog_id in &lt;foreach item=&quot;id&quot; collection=&quot;array&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #{id} &lt;/foreach&gt; &lt;/update&gt;&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /blogs/delete&#xFF0C;&#x5E76;&#x4F7F;&#x7528; @RequestBody &#x5C06;&#x524D;&#x7AEF;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x4E3A; id &#x6570;&#x7EC4;&#xFF0C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5219;&#x8C03;&#x7528; deleteBatch() &#x6279;&#x91CF;&#x5220;&#x9664;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5411;&#x524D;&#x7AEF;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x4E2D;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x4E86;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;&#x529F;&#x80FD;&#x6309;&#x94AE;&#xFF1A;&#x6587;&#x7AE0;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x3001;&#x6587;&#x7AE0;&#x4FEE;&#x6539;&#x6309;&#x94AE;&#x3001;&#x6587;&#x7AE0;&#x5220;&#x9664;&#x6309;&#x94AE;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x4EE5;&#x53CA;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/category.html) &lt;div class=&quot;grid-btn&quot;&gt; &lt;button class=&quot;btn btn-success&quot; onclick=&quot;addBlog()&quot;&gt;&lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x65B0;&#x589E; &lt;/button&gt; &lt;button class=&quot;btn btn-info&quot; onclick=&quot;editBlog()&quot;&gt;&lt;i class=&quot;fa fa-edit&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x4FEE;&#x6539; &lt;/button&gt; &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;deleteBlog()&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x5220;&#x9664; &lt;/button&gt; &lt;/div&gt;&#x5206;&#x522B;&#x662F;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; addBlog() &#x65B9;&#x6CD5;&#xFF0C;&#x4FEE;&#x6539;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; editBlog() &#x65B9;&#x6CD5;&#xFF0C;&#x5220;&#x9664;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; deleteBlog() &#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x540E;&#x7EED;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E2D;&#x7ED9;&#x51FA;&#x3002; &#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x9875;&#x9762;&#x4E2D;&#x5DF2;&#x7ECF;&#x5F15;&#x5165; JqGrid &#x7684;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x5206;&#x9875;&#x6570;&#x636E;&#x7684;&#x533A;&#x57DF;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/category.html) &lt;!-- JqGrid&#x5FC5;&#x8981;DOM,&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x8868;&#x683C;&#x5C55;&#x793A;&#x5217;&#x8868;&#x6570;&#x636E; --&gt; &lt;table id=&quot;jqGrid&quot; class=&quot;table table-bordered&quot;&gt;&lt;/table&gt; &lt;!-- JqGrid&#x5FC5;&#x8981;DOM,&#x5206;&#x9875;&#x4FE1;&#x606F;&#x533A;&#x57DF; --&gt; &lt;div id=&quot;jqGridPager&quot;&gt;&lt;/div&gt;&#x6587;&#x7AE0;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x524D;&#x7AEF;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x4E86;&#x9875;&#x9762;&#x5C55;&#x793A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x63A5;&#x7740;&#x5B8C;&#x6210;&#x76F8;&#x5173;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x4E00;&#x5B9A;&#x81EA;&#x884C;&#x5BF9;&#x7167;&#x6E90;&#x7801;&#x5B8C;&#x6210;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5728; resources/static/admin/dist/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; blog.js &#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; $(function () { $(&quot;#jqGrid&quot;).jqGrid({ url: &apos;/admin/blogs/list&apos;, datatype: &quot;json&quot;, colModel: [ {label: &apos;id&apos;, name: &apos;blogId&apos;, index: &apos;blogId&apos;, width: 50, key: true, hidden: true}, {label: &apos;&#x6807;&#x9898;&apos;, name: &apos;blogTitle&apos;, index: &apos;blogTitle&apos;, width: 140}, {label: &apos;&#x9884;&#x89C8;&#x56FE;&apos;, name: &apos;blogCoverImage&apos;, index: &apos;blogCoverImage&apos;, width: 120, formatter: coverImageFormatter}, {label: &apos;&#x6D4F;&#x89C8;&#x91CF;&apos;, name: &apos;blogViews&apos;, index: &apos;blogViews&apos;, width: 60}, {label: &apos;&#x72B6;&#x6001;&apos;, name: &apos;blogStatus&apos;, index: &apos;blogStatus&apos;, width: 60, formatter: statusFormatter}, {label: &apos;&#x535A;&#x5BA2;&#x5206;&#x7C7B;&apos;, name: &apos;blogCategoryName&apos;, index: &apos;blogCategoryName&apos;, width: 60}, {label: &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, name: &apos;createTime&apos;, index: &apos;createTime&apos;, width: 90} ], height: 700, rowNum: 10, rowList: [10, 20, 50], styleUI: &apos;Bootstrap&apos;, loadtext: &apos;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x4E2D;...&apos;, rownumbers: false, rownumWidth: 20, autowidth: true, multiselect: true, pager: &quot;#jqGridPager&quot;, jsonReader: { root: &quot;data.list&quot;, page: &quot;data.currPage&quot;, total: &quot;data.totalPage&quot;, records: &quot;data.totalCount&quot; }, prmNames: { page: &quot;page&quot;, rows: &quot;limit&quot;, order: &quot;order&quot;, }, gridComplete: function () { //&#x9690;&#x85CF;grid&#x5E95;&#x90E8;&#x6EDA;&#x52A8;&#x6761; $(&quot;#jqGrid&quot;).closest(&quot;.ui-jqgrid-bdiv&quot;).css({&quot;overflow-x&quot;: &quot;hidden&quot;}); } }); $(window).resize(function () { $(&quot;#jqGrid&quot;).setGridWidth($(&quot;.card-body&quot;).width()); }); function coverImageFormatter(cellvalue) { return &quot;&lt;img src=&apos;&quot; + cellvalue + &quot;&apos; height=\&quot;120\&quot; width=\&quot;160\&quot; alt=&apos;coverImage&apos;/&gt;&quot;; } function statusFormatter(cellvalue) { if (cellvalue == 0) { return &quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-block btn-secondary btn-sm\&quot; style=\&quot;width: 50%;\&quot;&gt;&#x8349;&#x7A3F;&lt;/button&gt;&quot;; } else if (cellvalue == 1) { return &quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-block btn-success btn-sm\&quot; style=\&quot;width: 50%;\&quot;&gt;&#x53D1;&#x5E03;&lt;/button&gt;&quot;; } } });&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x5C55;&#x793A;&#x3001;&#x5B57;&#x6BB5;&#x683C;&#x5F0F;&#x5316; jqGrid DOM &#x5BBD;&#x5EA6;&#x7684;&#x81EA;&#x9002;&#x5E94;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x8C03;&#x7528; JqGrid &#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x9875;&#x9762;&#x4E2D; id &#x4E3A; jqGrid &#x7684; DOM &#x6E32;&#x67D3;&#x4E3A;&#x5206;&#x9875;&#x8868;&#x683C;&#xFF0C;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x4E4B;&#x540E;&#x6309;&#x7167;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684; json &#x6570;&#x636E;&#x586B;&#x5145;&#x8868;&#x683C;&#x4EE5;&#x53CA;&#x8868;&#x683C;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7B2C; 15 &#x4E2A;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4E2D; jqgrid &#x5206;&#x9875;&#x529F;&#x80FD;&#x6574;&#x5408;&#x8FDB;&#x884C;&#x77E5;&#x8BC6;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x9A8C;&#x8BC1;&#x4E00;&#x4E0B;&#x5206;&#x9875;&#x529F;&#x80FD;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002; &#x6309;&#x94AE;&#x4E8B;&#x4EF6;&#x6DFB;&#x52A0;&#x548C;&#x4FEE;&#x6539;&#x4E24;&#x4E2A;&#x6309;&#x94AE;&#x5206;&#x522B;&#x7ED1;&#x5B9A;&#x4E86;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728; blog.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E; addBlog() &#x65B9;&#x6CD5;&#x548C; editBlog() &#x65B9;&#x6CD5;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#x5747;&#x4E3A;&#x8DF3;&#x8F6C;&#x81F3;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#x9762;&#xFF0C;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/blog.js) function addBlog() { window.location.href = &quot;/admin/blogs/edit&quot;; } function editBlog() { var id = getSelectedRow(); if (id == null) { return; } window.location.href = &quot;/admin/blogs/edit/&quot; + id; }&#x70B9;&#x51FB;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x65F6;&#x662F;&#x76F4;&#x63A5;&#x8DF3;&#x8F6C;&#x5230;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#xFF0C;&#x70B9;&#x51FB;&#x4FEE;&#x6539;&#x65F6;&#x9996;&#x5148;&#x8981;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7684;&#x6587;&#x7AE0; id&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x81F3;&#x6587;&#x7AE0;&#x7F16;&#x8F91;&#x9875;&#xFF0C;&#x6DFB;&#x52A0;&#x548C;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x5219;&#x662F;&#x5728;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x5B8C;&#x6210;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x53EA;&#x662F;&#x8DF3;&#x8F6C;&#x3002; &#x5220;&#x9664;&#x529F;&#x80FD;&#x5220;&#x9664;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4E3A; deleteBlog()&#xFF0C;&#x5728; blog.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/blog.js) function deleteBlog() { var ids = getSelectedRows(); if (ids == null) { return; } swal({ title: &quot;&#x786E;&#x8BA4;&#x5F39;&#x6846;&quot;, text: &quot;&#x786E;&#x8BA4;&#x8981;&#x5220;&#x9664;&#x6570;&#x636E;&#x5417;?&quot;, icon: &quot;warning&quot;, buttons: true, dangerMode: true, }).then((flag) =&gt; { if (flag) { $.ajax({ type: &quot;POST&quot;, url: &quot;/admin/blogs/delete&quot;, contentType: &quot;application/json&quot;, data: JSON.stringify(ids), success: function (r) { if (r.resultCode == 200) { swal(&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); $(&quot;#jqGrid&quot;).trigger(&quot;reloadGrid&quot;); } else { swal(r.message, { icon: &quot;error&quot;, }); } } }); } } ); }&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5728; jqgrid &#x8868;&#x683C;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684; id&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; blogs/delete&#xFF0C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x6E90;&#x7801;&#x4EE5;&#x53CA;&#x5B9E;&#x9645;&#x7684;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x548C;&#x7406;&#x89E3;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x3002; &#x529F;&#x80FD;&#x9A8C;&#x8BC1;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86;&#x672C;&#x5B9E;&#x9A8C;&#x6240;&#x9700;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x4E0B;&#x8F7D;&#x5E76;&#x53C2;&#x7167;&#x6E90;&#x7801;&#x5BF9;&#x6BD4;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x3002; &#x542F;&#x52A8; MySQL&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x542F;&#x52A8;&#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x5DF2;&#x89E3;&#x538B;&#x7684; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://1423b0da00a8.simplelab.cn/admin/login &#x5E76;&#x767B;&#x9646;&#x81F3;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x9996;&#x9875;&#xFF0C;&#x4E4B;&#x540E;&#x70B9;&#x51FB;&#x535A;&#x5BA2;&#x7BA1;&#x7406;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x4E86;&#x3002; &#x6587;&#x7AE0;&#x5217;&#x8868; &#x6587;&#x7AE0;&#x4FEE;&#x6539; &#x6587;&#x7AE0;&#x5220;&#x9664; &#x9A8C;&#x8BC1;&#x4E0E;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x7684;&#x9A8C;&#x8BC1;&#x6B65;&#x9AA4;&#x4E00;&#x6837;&#xFF0C;&#x56E0;&#x4E3A;&#x90FD;&#x662F;&#x5173;&#x4E8E;&#x6587;&#x7AE0;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x4E3B;&#x8981;&#x662F;&#x4E24;&#x4E2A;&#x65B9;&#x9762;&#xFF1A; &#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#x662F;&#x5426;&#x6B63;&#x786E; &#x5982;&#x679C;&#x6709;&#x8FDB;&#x884C;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#x7684;&#x8BDD; upload &#x76EE;&#x5F55;&#x4E0B;&#x662F;&#x5426;&#x6709;&#x6B63;&#x786E;&#x7684;&#x6587;&#x4EF6; &#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x603B;&#x7ED3;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x535A;&#x5BA2;&#x6587;&#x7AE0;&#x6A21;&#x5757;&#x5230;&#x8FD9;&#x91CC;&#x5C31;&#x6682;&#x65F6;&#x544A;&#x4E00;&#x6BB5;&#x843D;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x7684;&#x8BB2;&#x89E3;&#x603B;&#x5171;&#x7528;&#x4E86;&#x4E09;&#x4E2A;&#x5B9E;&#x9A8C;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x786E;&#x5B9E;&#x662F;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x4E2D;&#x6700;&#x91CD;&#x8981;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x5E0C;&#x671B;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6211;&#x7ED9;&#x7684;&#x601D;&#x8DEF;&#x4EE5;&#x53CA;&#x6E90;&#x7801;&#x628A;&#x8FD9;&#x90E8;&#x5206;&#x77E5;&#x8BC6;&#x70B9;&#x5168;&#x90E8;&#x638C;&#x63E1;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x5176;&#x4ED6;&#x6A21;&#x5757;&#x7684;&#x5F00;&#x53D1;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-20-you-lian.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x7684;&#x5927;&#x90E8;&#x5206;&#x529F;&#x80FD;&#x53CA;&#x9875;&#x9762;&#x90FD;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x535A;&#x5BA2;&#x76F8;&#x5173;&#x9875;&#x9762;&#x7684;&#x5236;&#x4F5C;&#x548C;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x662F;&#x535A;&#x5BA2;&#x9996;&#x9875;&#x7684;&#x5236;&#x4F5C;&#x548C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002; &#x672C;&#x6B21;&#x8BAD;&#x7EC3;&#x8425;&#x7684;&#x5B9E;&#x8DF5;&#x9879;&#x76EE;&#x662F;&#x6211;&#x5728; GitHub &#x4E0A;&#x5F00;&#x6E90;&#x7684;&#x4E00;&#x4E2A;&#x4ED3;&#x5E93;&#xFF0C;&#x5730;&#x5740;&#x662F; https://github.com/ZHENFENG13/My-Blog&#xFF0C;&#x4ECE;&#x5199;&#x4E0B;&#x8BE5;&#x9879;&#x76EE;&#x7684;&#x7B2C;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#x5230;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#x5E76;&#x5F00;&#x6E90;&#x5230; GitHub &#x65AD;&#x65AD;&#x7EED;&#x7EED;&#x82B1;&#x8D39;&#x4E86;&#x534A;&#x5E74;&#x591A;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x540E;&#x7EED;&#x4E5F;&#x4E0D;&#x65AD;&#x7684;&#x4F18;&#x5316;&#x548C;&#x91CD;&#x6784;&#xFF0C;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x4E5F;&#x5448;&#x73B0;&#x5728;&#x5927;&#x5BB6;&#x7684;&#x773C;&#x524D;&#x3002; &#x76EE;&#x524D;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x5185;&#x7F6E;&#x4E86;&#x4E09;&#x5957;&#x535A;&#x5BA2;&#x4E3B;&#x9898;&#x6A21;&#x677F;&#x53EF;&#x4F9B;&#x5927;&#x5BB6;&#x9009;&#x62E9;&#x4F7F;&#x7528;&#xFF0C;&#x4E3B;&#x9898;&#x98CE;&#x683C;&#x5404;&#x6709;&#x5343;&#x79CB;&#xFF0C;&#x7531;&#x4E8E;&#x8BFE;&#x7A0B;&#x539F;&#x56E0;&#x672C;&#x6B21;&#x8BAD;&#x7EC3;&#x8425;&#x4E2D;&#x7684;&#x5F00;&#x53D1;&#x5B9E;&#x5F55;&#x53EA;&#x9009;&#x62E9;&#x4E86;&#x5176;&#x4E2D;&#x4E00;&#x5957;&#x4E3B;&#x9898;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#xFF0C;&#x56E0;&#x4E3A;&#x53E6;&#x5916;&#x4E24;&#x5957;&#x7684;&#x5B9E;&#x73B0;&#x4EC5;&#x4EC5;&#x662F;&#x9875;&#x9762;&#x5E03;&#x5C40;&#x548C; CSS &#x6587;&#x4EF6;&#x6709;&#x533A;&#x522B;&#xFF0C;&#x529F;&#x80FD;&#x548C;&#x903B;&#x8F91;&#x90FD;&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x535A;&#x5BA2;&#x9996;&#x9875;&#x7B80;&#x4ECB; &#x9875;&#x9762;&#x5E03;&#x5C40;&#x8BB2;&#x89E3; &#x535A;&#x5BA2;&#x9996;&#x9875;&#x5236;&#x4F5C; &#x516C;&#x5171;&#x4EE3;&#x7801;&#x62BD;&#x53D6; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/html.zip wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-25.zip unzip My-Blog-25.zip cd My-Blog&#x535A;&#x5BA2;&#x9996;&#x9875;&#x524D;&#x9762;&#x4E00;&#x4E9B;&#x5B9E;&#x9A8C;&#x8BB2;&#x89E3;&#x7684;&#x90FD;&#x662F;&#x535A;&#x5BA2;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x76F8;&#x5173;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x4E2A;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x901A;&#x5E38;&#x53EA;&#x662F;&#x7F51;&#x7AD9;&#x62E5;&#x6709;&#x8005;&#x53BB;&#x67E5;&#x770B;&#x548C;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x5219;&#x4E0E;&#x6B64;&#x6709;&#x8F83;&#x5927;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x535A;&#x5BA2;&#x76F8;&#x5173;&#x9875;&#x9762;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x7528;&#x6237;&#x64CD;&#x4F5C;&#x5927;&#x591A;&#x662F;&#x67E5;&#x770B;&#xFF0C;&#x5C31;&#x662F;&#x628A;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x6DFB;&#x52A0;&#x548C;&#x7F16;&#x8F91;&#x7684;&#x6570;&#x636E;&#x901A;&#x8FC7;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x5448;&#x73B0;&#x7ED9;&#x7528;&#x6237;&#xFF0C;&#x8FD9;&#x4E9B;&#x9875;&#x9762;&#x66F4;&#x591A;&#x7684;&#x504F;&#x91CD;&#x4E8E;&#x5C55;&#x793A;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&#x3001;&#x7F51;&#x7AD9;&#x4FE1;&#x606F;&#x3001;&#x6587;&#x7AE0;&#x5F52;&#x7C7B;&#x7B49;&#x7B49;&#x4FE1;&#x606F;&#x7684;&#x67E5;&#x770B;&#xFF0C;&#x76F8;&#x8F83;&#x4E8E;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x6765;&#x8BF4;&#xFF0C;&#x535A;&#x5BA2;&#x76F8;&#x5173;&#x9875;&#x9762;&#x7684;&#x5F00;&#x53D1;&#x548C;&#x5236;&#x4F5C;&#x5728;&#x7F16;&#x7801;&#x903B;&#x8F91;&#x3001;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x4E0A;&#x4F1A;&#x66F4;&#x7B80;&#x5355;&#x4E00;&#x4E9B;&#xFF0C;&#x56E0;&#x4E3A;&#x6D89;&#x53CA;&#x5230;&#x7684;&#x64CD;&#x4F5C;&#x53EA;&#x662F;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x548C;&#x6570;&#x636E;&#x805A;&#x5408;&#xFF0C;&#x8FD9;&#x4E0D;&#x4EE3;&#x8868;&#x5F00;&#x53D1;&#x96BE;&#x5EA6;&#x5C31;&#x964D;&#x4F4E;&#x4E86;&#xFF0C;&#x8FD9;&#x4E9B;&#x9875;&#x9762;&#x5F80;&#x5F80;&#x66F4;&#x52A0;&#x6CE8;&#x91CD;&#x9875;&#x9762;&#x89C2;&#x611F;&#x548C;&#x5143;&#x7D20;&#x8BBE;&#x8BA1;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x89C9;&#x5F97;&#x7B2C;&#x4E00;&#x773C;&#x4E4B;&#x540E;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#x770B;&#x4E0B;&#x53BB;&#x7684;&#x6B32;&#x671B;&#x4E5F;&#x662F;&#x4E0D;&#x884C;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x4E5F;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x505A;&#x7684;&#x8FC7;&#x4E8E;&#x7EDA;&#x4E3D;&#x591A;&#x59FF;&#xFF0C;&#x7B80;&#x6D01;&#x7F8E;&#x89C2;&#x5373;&#x53EF;&#x3002; &#x5728;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x9996;&#x9875;&#x662F;&#x6700;&#x5148;&#x88AB;&#x7528;&#x6237;&#x6D4F;&#x89C8;&#x5230;&#xFF0C;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x4E5F;&#x662F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#x5165;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x5728;&#x8BE5;&#x9875;&#x9762;&#x5C31;&#x840C;&#x751F;&#x9000;&#x610F;&#x90A3;&#x5C31;&#x8BC1;&#x660E;&#x9875;&#x9762;&#x7684;&#x8BBE;&#x8BA1;&#x8FD8;&#x9700;&#x8981;&#x5728;&#x4ED4;&#x7EC6;&#x659F;&#x914C;&#xFF0C;&#x56E0;&#x6B64;&#x535A;&#x5BA2;&#x7684;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x4E5F;&#x662F;&#x91CD;&#x4E2D;&#x4E4B;&#x91CD;&#xFF0C;&#x4E3A;&#x4E86;&#x6EE1;&#x8DB3;&#x5927;&#x5BB6;&#x4E0D;&#x540C;&#x7684;&#x5BA1;&#x7F8E;&#x548C;&#x9009;&#x62E9;&#xFF0C;&#x6211;&#x5728;&#x535A;&#x5BA2;&#x9879;&#x76EE;&#x6240;&#x6709;&#x7684;&#x529F;&#x80FD;&#x90FD;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x53C8;&#x589E;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x535A;&#x5BA2;&#x6A21;&#x677F;&#xFF0C;&#x540E;&#x7EED;&#x5982;&#x679C;&#x6709;&#x9700;&#x8981;&#x7684;&#x8BDD;&#x4E5F;&#x4F1A;&#x7EE7;&#x7EED;&#x589E;&#x52A0;&#xFF0C;&#x76EE;&#x524D;&#x662F;&#x6709;&#x4E09;&#x4E2A;&#x535A;&#x5BA2;&#x6A21;&#x677F;&#x4F9B;&#x5927;&#x5BB6;&#x9009;&#x62E9;&#xFF0C;&#x7531;&#x4E8E;&#x672C;&#x5B9E;&#x9A8C;&#x662F;&#x8BB2;&#x89E3;&#x535A;&#x5BA2;&#x9996;&#x9875;&#xFF0C;&#x5C31;&#x5148;&#x6765;&#x770B;&#x770B;&#x4E0D;&#x540C;&#x6A21;&#x677F;&#x4E2D;&#x535A;&#x5BA2;&#x9996;&#x9875;&#x7684;&#x6548;&#x679C;&#x5427;&#xFF01; &#x6A21;&#x677F;&#x4E00; &#x6A21;&#x677F;&#x4E8C; &#x6A21;&#x677F;&#x4E09; &#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x901A;&#x8FC7;&#x524D;&#x6587;&#x4E2D;&#x4E09;&#x4E2A;&#x9996;&#x9875;&#x7684;&#x9875;&#x9762;&#x5C55;&#x73B0;&#x6548;&#x679C;&#xFF0C;&#x6211;&#x4EEC;&#x5927;&#x81F4;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#x4E00;&#x4E2A;&#x535A;&#x5BA2;&#x9996;&#x9875;&#x5E03;&#x5C40;&#x7684;&#x901A;&#x7528;&#x6A21;&#x677F;&#xFF1A; &#x7531;&#x4E0A;&#x56FE;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x535A;&#x5BA2;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x7684;&#x6574;&#x4E2A;&#x8BBE;&#x8BA1;&#x7248;&#x9762;&#x88AB;&#x5207;&#x5206;&#x6210;&#x4E03;&#x4E2A;&#x90E8;&#x5206;&#xFF1A; &#x9876;&#x90E8;&#x5BFC;&#x822A;&#x680F;&#xFF1A;&#x53EF;&#x4EE5;&#x653E;&#x7F6E; Logo &#x56FE;&#x7247;&#x3001;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x540D;&#x79F0;&#x3001;&#x5176;&#x5B83;&#x9875;&#x9762;&#x7684;&#x540D;&#x79F0;&#x53CA;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x7B49;&#x4FE1;&#x606F;&#xFF1B; &#x641C;&#x7D22;&#x6846;&#xFF1A;&#x5B9E;&#x73B0;&#x6587;&#x7AE0;&#x641C;&#x7D22;&#x529F;&#x80FD;&#xFF1B; &#x6587;&#x7AE0;&#x5217;&#x8868;&#xFF1A;&#x7528;&#x4E8E;&#x5C55;&#x793A;&#x6587;&#x7AE0;&#x5217;&#x8868;&#xFF0C;&#x663E;&#x793A;&#x6587;&#x7AE0;&#x7684;&#x6982;&#x89C8;&#x4FE1;&#x606F;&#xFF1B; &#x535A;&#x5BA2;&#x7EDF;&#x8BA1;&#xFF1A;&#x6839;&#x636E;&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#x3001;&#x70B9;&#x51FB;&#x6B21;&#x6570;&#x7B49;&#x7EF4;&#x5EA6;&#x7B5B;&#x9009;&#x51FA;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#xFF1B; &#x6807;&#x7B7E;&#x7EDF;&#x8BA1;&#xFF1A;&#x7B5B;&#x9009;&#x51FA;&#x4F7F;&#x7528;&#x9891;&#x6B21;&#x9AD8;&#x7684;&#x6807;&#x7B7E;&#x6216;&#x8005;&#x5206;&#x7C7B;&#x6570;&#x636E;&#xFF1B; &#x5206;&#x9875;&#x5BFC;&#x822A;&#xFF1A;&#x653E;&#x7F6E;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x7528;&#x4E8E;&#x5206;&#x9875;&#x8DF3;&#x8F6C;&#x529F;&#x80FD;&#xFF1B; &#x9875;&#x811A;&#x533A;&#x57DF;&#xFF1A;&#x653E;&#x7F6E;&#x535A;&#x5BA2;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x3002; &#x5F53;&#x7136;&#xFF0C;&#x4EE5;&#x4E0A;&#x7248;&#x9762;&#x8BBE;&#x8BA1;&#x7684;&#x5206;&#x6790;&#x53EA;&#x662F;&#x5BF9;&#x4E8E;&#x6211;&#x7684;&#x535A;&#x5BA2;&#x6A21;&#x677F;&#x6765;&#x8BF4;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x793E;&#x533A;&#x4E2D;&#x8FD8;&#x6709;&#x8BB8;&#x591A;&#x5176;&#x4ED6;&#x7684;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x9879;&#x76EE;&#xFF0C;&#x7531;&#x4E8E;&#x524D;&#x7AEF;&#x7684;&#x8BBE;&#x8BA1;&#x548C;&#x5B9E;&#x73B0;&#x975E;&#x5E38;&#x7075;&#x6D3B;&#x4E14;&#x591A;&#x53D8;&#xFF0C;&#x8FD9;&#x4E9B;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x53EF;&#x80FD;&#x53C8;&#x662F;&#x53E6;&#x5916;&#x4E00;&#x4E9B;&#x9875;&#x9762;&#x6837;&#x5F0F;&#x548C;&#x9875;&#x9762;&#x5E03;&#x5C40;&#xFF0C;&#x4F46;&#x662F;&#x9875;&#x9762;&#x4E0A;&#x6240;&#x5C55;&#x73B0;&#x7684;&#x6570;&#x636E;&#x548C;&#x57FA;&#x7840;&#x7684;&#x9875;&#x9762;&#x5E03;&#x5C40;&#x53EF;&#x80FD;&#x4E0D;&#x4F1A;&#x5927;&#x6539;&#xFF0C;&#x57FA;&#x7840;&#x5E03;&#x5C40;&#x5305;&#x62EC;&#x4EE5;&#x4E0B;&#x56DB;&#x4E2A;&#x90E8;&#x5206;&#xFF1A; &#x9876;&#x90E8;&#x5BFC;&#x822A;&#x680F;&#x533A;&#x57DF;&#xFF1A;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#x5904;&#x4E8E;&#x9875;&#x9762;&#x9876;&#x90E8;&#x6216;&#x8005;&#x5DE6;&#x4FA7;&#x533A;&#x57DF;&#x4E14;&#x5360;&#x7528;&#x9875;&#x9762;&#x7684;&#x9762;&#x79EF;&#x8F83;&#x5C0F;&#xFF0C;&#x7528;&#x4E8E;&#x653E;&#x7F6E; Logo &#x56FE;&#x3001;&#x7CFB;&#x7EDF;&#x540D;&#x79F0;&#x3001;&#x5176;&#x5B83;&#x9875;&#x9762;&#x7684;&#x540D;&#x79F0;&#x53CA;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x7B49;&#x5BFC;&#x822A;&#x4FE1;&#x606F;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#x7684;&#x7BA1;&#x7406;&#x3002; &#x4FA7;&#x8FB9;&#x5DE5;&#x5177;&#x680F;&#x533A;&#x57DF;&#xFF1A;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#x4E2D;&#x5305;&#x62EC;&#x641C;&#x7D22;&#x6846;&#x3001;&#x535A;&#x5BA2;&#x7EDF;&#x8BA1;&#x3001;&#x6807;&#x7B7E;&#x7EDF;&#x8BA1;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x4F1A;&#x5C55;&#x793A;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x4F46;&#x5E76;&#x4E0D;&#x662F;&#x6700;&#x4E3B;&#x8981;&#x7684;&#x90E8;&#x5206;&#xFF0C;&#x751A;&#x81F3;&#x6709;&#x5F88;&#x591A;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x4E2D;&#x5E76;&#x4E0D;&#x4F1A;&#x6709;&#x4FA7;&#x8FB9;&#x5DE5;&#x5177;&#x680F;&#x533A;&#x57DF;&#xFF0C;&#x8BE5;&#x533A;&#x57DF;&#x4F1A;&#x88AB;&#x6587;&#x7AE0;&#x5217;&#x8868;&#x533A;&#x6240;&#x5360;&#x7528;&#x3002; &#x6587;&#x7AE0;&#x5217;&#x8868;&#x533A;&#x57DF;&#xFF1A;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#x4F1A;&#x5360;&#x7528;&#x6574;&#x4E2A;&#x7248;&#x9762;&#x7684;&#x5927;&#x90E8;&#x5206;&#x9762;&#x79EF;&#xFF0C;&#x5305;&#x62EC;&#x524D;&#x6587;&#x4E2D;&#x63D0;&#x5230;&#x7684;&#x6587;&#x7AE0;&#x5217;&#x8868;&#x548C;&#x5206;&#x9875;&#x5BFC;&#x822A;&#xFF0C;&#x56E0;&#x6B64;&#x662F;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x6700;&#x91CD;&#x8981;&#x7684;&#x90E8;&#x5206;&#x3002; &#x5E95;&#x90E8;&#x9875;&#x811A;&#x533A;&#x57DF;&#xFF1A;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#x5360;&#x7528;&#x7684;&#x9762;&#x79EF;&#x8F83;&#x5C0F;&#xFF0C;&#x901A;&#x5E38;&#x4F1A;&#x5728;&#x6574;&#x4E2A;&#x7248;&#x9762;&#x7684;&#x5E95;&#x90E8;&#x4E00;&#x5C0F;&#x90E8;&#x5206;&#x533A;&#x57DF;&#xFF0C;&#x7528;&#x6765;&#x5C55;&#x793A;&#x8F85;&#x52A9;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x7248;&#x6743;&#x4FE1;&#x606F;&#x3001;&#x7CFB;&#x7EDF;&#x4FE1;&#x606F;&#x3001;&#x9879;&#x76EE;&#x7248;&#x672C;&#x53F7;&#x7B49;&#x7B49;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#x5E76;&#x4E0D;&#x662F;&#x5FC5;&#x987B;&#x7684;&#x3002; &#x4EE5;&#x4E0A;&#x662F;&#x5BF9;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x9996;&#x5C4F;&#x5E03;&#x5C40;&#x7684;&#x5927;&#x81F4;&#x5207;&#x5206;&#x548C;&#x8BB2;&#x89E3;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x5177;&#x4F53;&#x7684;&#x7CFB;&#x7EDF;&#x7F16;&#x7801;&#x5B9E;&#x73B0;&#x3002; &#x9996;&#x9875;&#x5236;&#x4F5C;&#x9759;&#x6001;&#x9875;&#x9762;&#x9996;&#x9875;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;&#xFF0C;&#x6587;&#x4EF6;&#x540D;&#x662F; html.zip&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x5E76;&#x67E5;&#x770B;&#xFF0C;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; html &#x251C;&#x2500;&#x2500; css &#x251C;&#x2500;&#x2500; img &#x251C;&#x2500;&#x2500; js &#x2514;&#x2500;&#x2500; index.html&#x5206;&#x522B;&#x662F;&#x6837;&#x5F0F;&#x6587;&#x4EF6;&#x3001;&#x57FA;&#x7840;&#x7684;&#x5C55;&#x793A;&#x56FE;&#x7247;&#x3001;&#x811A;&#x672C;&#x6587;&#x4EF6;&#x53CA;&#x9996;&#x9875;&#x7684;&#x4EE3;&#x7801;&#xFF0C;html &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;&#x4E3B;&#x9875;&lt;/title&gt; &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;css/bootstrap.min.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;css/font-awesome/css/font-awesome.min.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot;&gt; &lt;!--[if lt IE 9]&gt; &lt;script src=&quot;js/respond.js&quot;&gt;&lt;/script&gt; &lt;![endif]--&gt; &lt;/head&gt; &lt;body&gt; &lt;header&gt; &lt;div class=&quot;widewrapper masthead&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;a href=&quot;index.html&quot; id=&quot;logo&quot;&gt; &lt;img src=&quot;img/logo.png&quot; class=&quot;logo-img&quot; alt=&quot;personal-blog&quot;&gt; &lt;/a&gt; &lt;div id=&quot;mobile-nav-toggle&quot; class=&quot;pull-right&quot;&gt; &lt;a href=&quot;#&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.clean-nav .navbar-collapse&quot;&gt; &lt;i class=&quot;fa fa-bars&quot;&gt;&lt;/i&gt; &lt;/a&gt; &lt;/div&gt; &lt;nav class=&quot;pull-right clean-nav&quot;&gt; &lt;div class=&quot;collapse navbar-collapse&quot;&gt; &lt;ul class=&quot;nav nav-pills navbar-nav&quot;&gt; &lt;li&gt; &lt;a href=&quot;index.html&quot;&gt;&#x4E3B;&#x9875;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;##&quot;&gt;&#x5173;&#x4E8E;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;##&quot;&gt;&#x8054;&#x7CFB;&#x6211;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/nav&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;widewrapper subheader&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;clean-breadcrumb&quot;&gt; &lt;a href=&quot;#&quot;&gt;&#x9996;&#x9875;&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;clean-searchbox&quot;&gt; &lt;form action=&quot;#&quot; method=&quot;get&quot; accept-charset=&quot;utf-8&quot;&gt; &lt;input class=&quot;searchfield&quot; id=&quot;searchbox&quot; type=&quot;text&quot; placeholder=&quot;&#x641C;&#x7D22;&quot;&gt; &lt;button class=&quot;searchbutton&quot; type=&quot;submit&quot;&gt; &lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt; &lt;/button&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/header&gt; &lt;div class=&quot;widewrapper main&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-8 blog-main&quot;&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot; blog-summary&quot;&gt; &lt;header&gt; &lt;img src=&quot;img/photo1.png&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;14&#x8BFE;&#xFF1A;SweetAlert &#x63D2;&#x4EF6;&#x6574;&#x5408;&#x53CA;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot;blog-summary&quot;&gt; &lt;header&gt; &lt;img src=&quot;img/photo2.png&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;13&#x8BFE;&#xFF1A;&#x5BCC;&#x6587;&#x672C;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x6A21;&#x5757;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot;blog-summary&quot;&gt; &lt;header&gt; &lt;img src=&quot;img/photo1.png&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;12&#x8BFE;&#xFF1A;&#x6587;&#x4EF6;&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x529F;&#x80FD;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot;blog-summary&quot;&gt; &lt;header&gt; &lt;img src=&quot;img/photo1.png&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;11&#x8BFE;&#xFF1A;&#x591A;&#x56FE;&#x4E0A;&#x4F20;&#x4E0E;&#x5927;&#x6587;&#x4EF6;&#x5206;&#x7247;&#x4E0A;&#x4F20;&#x3001;&#x65AD;&#x70B9;&#x7EED;&#x4F20;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot;blog-summary&quot;&gt; &lt;header&gt; &lt;img src=&quot;img/photo1.png&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;10&#x8BFE;&#xFF1A;&#x56FE;&#x7247;&#x7BA1;&#x7406;&#x6A21;&#x5757;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot; blog-summary&quot;&gt; &lt;header&gt; &lt;img src=&quot;img/photo2.png&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;09&#x8BFE;&#xFF1A;&#x5F39;&#x6846;&#x7EC4;&#x4EF6;&#x6574;&#x5408;&#x2014;&#x2014;&#x5B8C;&#x5584;&#x6DFB;&#x52A0;&#x548C;&#x4FEE;&#x6539;&#x529F;&#x80FD;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;ul class=&quot;blog-pagination&quot;&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;&amp;laquo;&lt;/a&gt;&lt;/li&gt; &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot;&gt; 1 &lt;/a&gt;&lt;/li&gt; &lt;li class=&quot;disabled&quot;&gt;&lt;a href=&quot;#&quot;&gt; 2 &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt; 3 &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt; 4 &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt; 5 &lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;&amp;raquo;&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;aside class=&quot;col-md-4 blog-aside&quot;&gt; &lt;div class=&quot;aside-widget&quot;&gt; &lt;header&gt; &lt;h3&gt;&#x70B9;&#x51FB;&#x6700;&#x591A;&lt;/h3&gt; &lt;/header&gt; &lt;div class=&quot;body&quot;&gt; &lt;ul class=&quot;clean-list&quot;&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;&#x5173;&#x4E8E;personal-blog&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;&#x5173;&#x4E8E;personal-blog&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;&#x5173;&#x4E8E;personal-blog&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;&#x5173;&#x4E8E;personal-blog&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;&#x5173;&#x4E8E;personal-blog&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;aside-widget&quot;&gt; &lt;header&gt; &lt;h3&gt;&#x6700;&#x65B0;&#x53D1;&#x5E03;&lt;/h3&gt; &lt;/header&gt; &lt;div class=&quot;body&quot;&gt; &lt;ul class=&quot;clean-list&quot;&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;SpringBoot&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;SpringBoot&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;SpringBoot&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;SpringBoot&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;SpringBoot&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;&quot;&gt;SpringBoot&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;aside-widget&quot;&gt; &lt;header&gt; &lt;h3&gt;&#x6807;&#x7B7E;&#x680F;&lt;/h3&gt; &lt;/header&gt; &lt;div class=&quot;body clearfix&quot;&gt; &lt;ul class=&quot;tags&quot;&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;HTML5&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;CSS3&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;COMPONENTS&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;TEMPLATE&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;PLUGIN&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;BOOTSTRAP&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;TUTORIAL&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#&quot;&gt;UI/UX&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;/aside&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;footer&gt; &lt;div class=&quot;widewrapper footer&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-4 footer-widget&quot;&gt; &lt;h3&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;About&lt;/h3&gt; &lt;p&gt;your singal blog.&lt;/p&gt; &lt;p&gt;have fun.&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;col-md-4 footer-widget&quot;&gt; &lt;h3&gt;&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;&#x5907;&#x6848;&lt;/h3&gt; &lt;p&gt;&#x6D59;ICP&#x5907; xxxxxx-x&#x53F7;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;col-md-4 footer-widget&quot;&gt; &lt;h3&gt;&lt;i class=&quot;fa fa-copyright&quot;&gt;&lt;/i&gt;Copy Right&lt;/h3&gt; &lt;p&gt;My Blog&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/footer&gt; &lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;js/bootstrap.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;js/modernizr.js&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x8FD9;&#x4E2A; html &#x4EE3;&#x7801;&#x662F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x672C;&#x5730;&#x6253;&#x5F00;&#x7684;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x67E5;&#x770B;&#x5176;&#x9875;&#x9762;&#x6548;&#x679C;&#xFF0C;&#x5E76;&#x7ED3;&#x5408;&#x524D;&#x6587;&#x4E2D;&#x5206;&#x6790;&#x7684;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x548C;&#x6392;&#x7248;&#x7406;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x662F;&#x5C06;&#x9875;&#x9762;&#x6574;&#x5408;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#x5E76;&#x8FDB;&#x884C;&#x5B9E;&#x9645;&#x7684;&#x529F;&#x80FD;&#x7F16;&#x7801;&#x3002; &#x9996;&#x9875;&#x6574;&#x5408;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x505A;&#x7684;&#x90FD;&#x662F;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x76F8;&#x5173;&#x9875;&#x9762;&#x548C;&#x529F;&#x80FD;&#xFF0C;&#x4E3A;&#x4E86;&#x4E0E;&#x540E;&#x7AEF;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x76F8;&#x533A;&#x522B;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x4F1A;&#x65B0;&#x5EFA;&#x5305;&#x548C;&#x76EE;&#x5F55;&#x3002;&#x5728; resources/templates &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; blog &#x76EE;&#x5F55;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x9875;&#x9762;,&#x4E4B;&#x540E;&#x5E76;&#x653E;&#x5165; index.html &#x9875;&#x9762;&#xFF0C;&#x5728; resources/static &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; blog &#x76EE;&#x5F55;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x7684;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x524D;&#x6587;&#x4E2D;&#x63D0;&#x5230;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x90FD;&#x79FB;&#x52A8;&#x5230;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x3002; &#x7136;&#x540E;&#x6253;&#x5F00; index.html &#x6587;&#x4EF6;&#x5E76;&#x5728;&#x8BE5;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x7684; &#x6807;&#x7B7E;&#x4E2D;&#x5BFC;&#x5165; Thymeleaf &#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF1A; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#x5BFC;&#x5165;&#x8BE5;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86; Thymeleaf &#x7684;&#x8BED;&#x6CD5;&#x63D0;&#x793A;&#x548C; Thymeleaf &#x6807;&#x7B7E;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x63A5;&#x7740;&#x6211;&#x4EEC;&#x5728;&#x6A21;&#x677F;&#x4E2D;&#x4F7F;&#x7528; th &#x6807;&#x7B7E;&#x6765;&#x4FEE;&#x6539;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x7684;&#x5F15;&#x7528;&#x8DEF;&#x5F84;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title&gt;&#x4E3B;&#x9875;&lt;/title&gt; &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt; &lt;!-- Bootstrap styles --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/blog/css/bootstrap.min.css}&quot;&gt; &lt;!-- Font-Awesome --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/blog/css/font-awesome/css/font-awesome.min.css}&quot;&gt; &lt;!-- Styles --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/blog/css/style.css}&quot; id=&quot;theme-styles&quot;&gt; &lt;!--[if lt IE 9]&gt; &lt;script th:src=&quot;@{/blog/js/respond.js}&quot;&gt;&lt;/script&gt; &lt;![endif]--&gt; &lt;/head&gt; &lt;body&gt; &lt;header&gt; &lt;div class=&quot;widewrapper masthead&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;a href=&quot;index.html&quot; id=&quot;logo&quot;&gt; &lt;img th:src=&quot;@{/blog/img/logo.png}&quot; class=&quot;logo-img&quot; alt=&quot;My Blog&quot;&gt; &lt;/a&gt; &lt;div id=&quot;mobile-nav-toggle&quot; class=&quot;pull-right&quot;&gt; &lt;a href=&quot;#&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.clean-nav .navbar-collapse&quot;&gt; &lt;i class=&quot;fa fa-bars&quot;&gt;&lt;/i&gt; &lt;/a&gt; &lt;/div&gt; &lt;nav class=&quot;pull-right clean-nav&quot;&gt; &lt;div class=&quot;collapse navbar-collapse&quot;&gt; &lt;ul class=&quot;nav nav-pills navbar-nav&quot;&gt; &lt;li&gt; &lt;a href=&quot;index.html&quot;&gt;&#x4E3B;&#x9875;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;##&quot;&gt;&#x5173;&#x4E8E;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a href=&quot;##&quot;&gt;&#x8054;&#x7CFB;&#x6211;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/nav&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;widewrapper subheader&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;clean-breadcrumb&quot;&gt; &lt;a href=&quot;#&quot;&gt;&#x9996;&#x9875;&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;clean-searchbox&quot;&gt; &lt;form action=&quot;#&quot; method=&quot;get&quot; accept-charset=&quot;utf-8&quot;&gt; &lt;input class=&quot;searchfield&quot; id=&quot;searchbox&quot; type=&quot;text&quot; placeholder=&quot;&#x641C;&#x7D22;&quot;&gt; &lt;button class=&quot;searchbutton&quot; type=&quot;submit&quot;&gt; &lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt; &lt;/button&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/header&gt; &lt;div class=&quot;widewrapper main&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-8 blog-main&quot;&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot; blog-summary&quot;&gt; &lt;header&gt; &lt;img th:src=&quot;@{/blog/img/photo1.png}&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;14&#x8BFE;&#xFF1A;SweetAlert &#x63D2;&#x4EF6;&#x6574;&#x5408;&#x53CA;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot;blog-summary&quot;&gt; &lt;header&gt; &lt;img th:src=&quot;@{/blog/img/photo2.png}&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;13&#x8BFE;&#xFF1A;&#x5BCC;&#x6587;&#x672C;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x6A21;&#x5757;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card &quot;&gt; &lt;article class=&quot;blog-summary&quot;&gt; &lt;header&gt; &lt;img th:src=&quot;@{/blog/img/photo1.png}&quot; alt=&quot;&quot;&gt; &lt;h3&gt;&lt;a href=&quot;##&quot;&gt;&#x7B2C;12&#x8BFE;&#xFF1A;&#x6587;&#x4EF6;&#x5BFC;&#x5165;&#x5BFC;&#x51FA;&#x529F;&#x80FD;&lt;/a&gt;&lt;/h3&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; ...&#x7701;&#x7565;&#x90E8;&#x5206;&#x4EE3;&#x7801; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; ...&#x7701;&#x7565;&#x90E8;&#x5206;&#x4EE3;&#x7801; &lt;script th:src=&quot;@{/blog/js/jquery.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/blog/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/blog/js/modernizr.js}&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x524D;&#x7AEF;&#x6587;&#x4EF6;&#x5236;&#x4F5C;&#x5B8C;&#x6BD5;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x65B0;&#x5EFA; Controller &#x6765;&#x5904;&#x7406;&#x9996;&#x9875;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x5E76;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#x3002; Controller &#x5904;&#x7406;&#x8DF3;&#x8F6C;&#x9996;&#x5148;&#x5728; controller &#x5305;&#x4E0B;&#x65B0;&#x5EFA; blog &#x5305;&#xFF0C;&#x5E76;&#x65B0;&#x5EFA; MyBlogController.java&#xFF0C;&#x4E4B;&#x540E;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; package com.site.blog.my.core.controller.blog; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; @Controller public class MyBlogController { /** * &#x9996;&#x9875; * * @return */ @GetMapping({&quot;/&quot;, &quot;/index&quot;, &quot;index.html&quot;}) public String index() { return &quot;blog/index&quot;; } }&#x8BE5;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5904;&#x7406; &#x201C;/&#x201C;, &#x201C;/index&#x201D;, &#x201C;index.html&#x201D; &#x7B49;&#x8BF7;&#x6C42;&#xFF0C;&#x8FD9;&#x79CD;&#x8DEF;&#x5F84;&#x7684;&#x8BF7;&#x6C42;&#x4E00;&#x822C;&#x4E3A;&#x9996;&#x9875;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x89C9;&#x5F97;&#x8FD8;&#x9700;&#x8981;&#x52A0;&#x5176;&#x4ED6;&#x8DEF;&#x5F84;&#x7684;&#x8BDD;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; Mapping &#x914D;&#x7F6E;&#x4E2D;&#x52A0;&#x4E0A;&#xFF0C;&#x65B9;&#x6CD5;&#x7684;&#x6700;&#x540E;&#x8FD4;&#x56DE; &#x201C;blog/index&#x201D; &#xFF0C;&#x5373;&#x8BBF;&#x95EE;&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230; blog &#x76EE;&#x5F55;&#x4E0B;&#x7684; index.html &#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4E2D;&#x3002; &#x81F3;&#x6B64;&#xFF0C;&#x8DF3;&#x8F6C;&#x903B;&#x8F91;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#xFF0C;&#x6F14;&#x793A;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x9875;&#x9762;&#x62BD;&#x53D6;&#x524D;&#x6587;&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x63D0;&#x5230;&#x4E86;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x4EE5;&#x53CA;&#x51E0;&#x4E2A;&#x57FA;&#x672C;&#x7684;&#x9875;&#x9762;&#x533A;&#x57DF;&#xFF0C;&#x9875;&#x9762;&#x9876;&#x90E8;&#x548C;&#x9875;&#x9762;&#x5E95;&#x90E8;&#x4E24;&#x4E2A;&#x533A;&#x57DF;&#x5728;&#x6211;&#x4EEC;&#x672C;&#x6B21;&#x7684;&#x5B9E;&#x8DF5;&#x7CFB;&#x7EDF;&#x4E2D;&#x90FD;&#x662F;&#x76F8;&#x4F3C;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5BF9;&#x8FD9;&#x4E24;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x516C;&#x5171;&#x4EE3;&#x7801;&#x62BD;&#x53D6;&#x51CF;&#x5C11;&#x91CD;&#x590D;&#x7F16;&#x7801;&#xFF0C;&#x5728; resources/templates &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; header.html &#x548C; footer.html &#x4E24;&#x4E2A;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; header.html &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head th:fragment=&quot;head-fragment&quot;&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;title th:text=&quot;${pageName}&quot;&gt;&#x4E3B;&#x9875;&lt;/title&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width&quot;&gt; &lt;!-- Bootstrap styles --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/blog/css/bootstrap.min.css}&quot;&gt; &lt;!-- Font-Awesome --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/blog/css/font-awesome/css/font-awesome.min.css}&quot;&gt; &lt;!-- Styles --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/blog/css/style.css}&quot; id=&quot;theme-styles&quot;&gt; &lt;!--[if lt IE 9]&gt; &lt;script th:src=&quot;@{/blog/default/js/respond.js}&quot;&gt;&lt;/script&gt; &lt;![endif]--&gt; &lt;/head&gt; &lt;header th:fragment=&quot;header-fragment&quot;&gt; &lt;div class=&quot;widewrapper masthead&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;a th:href=&quot;@{/index}&quot; id=&quot;logo&quot;&gt; &lt;img th:src=&quot;@{/blog/img/logo.png}&quot; class=&quot;logo-img&quot; alt=&quot;my personal blog&quot;&gt; &lt;/a&gt; &lt;div id=&quot;mobile-nav-toggle&quot; class=&quot;pull-right&quot;&gt; &lt;a href=&quot;#&quot; data-toggle=&quot;collapse&quot; data-target=&quot;.clean-nav .navbar-collapse&quot;&gt; &lt;i class=&quot;fa fa-bars&quot;&gt;&lt;/i&gt; &lt;/a&gt; &lt;/div&gt; &lt;nav class=&quot;pull-right clean-nav&quot;&gt; &lt;div class=&quot;collapse navbar-collapse&quot;&gt; &lt;ul class=&quot;nav nav-pills navbar-nav&quot;&gt; &lt;li&gt; &lt;a th:href=&quot;@{/index}&quot;&gt;&#x4E3B;&#x9875;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:href=&quot;@{/link}&quot;&gt;&#x53CB;&#x94FE;&lt;/a&gt; &lt;/li&gt; &lt;li&gt; &lt;a th:href=&quot;@{/about}&quot;&gt;&#x5173;&#x4E8E;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/nav&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;widewrapper subheader&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;clean-breadcrumb&quot;&gt; &lt;th:block th:text=&quot;${pageName}&quot;&gt;&lt;/th:block&gt; &lt;/div&gt; &lt;div class=&quot;clean-searchbox&quot;&gt; &lt;form method=&quot;get&quot; accept-charset=&quot;utf-8&quot;&gt; &lt;input class=&quot;searchfield&quot; id=&quot;searchbox&quot; type=&quot;text&quot; placeholder=&quot; &#x641C;&#x7D22;&quot;&gt; &lt;button class=&quot;searchbutton&quot; id=&quot;searchbutton&quot;&gt; &lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt; &lt;/button&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/header&gt; &lt;!-- /.header --&gt; &lt;/html&gt; footer.html &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;footer th:fragment=&quot;footer-fragment&quot;&gt; &lt;div class=&quot;widewrapper footer&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-3 footer-widget&quot;&gt; &lt;h3&gt;&lt;i class=&quot;fa fa-user&quot;&gt;&lt;/i&gt;About&lt;/h3&gt; &lt;p&gt;your singal blog.&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;col-md-3 footer-widget&quot;&gt; &lt;h3&gt;&lt;i class=&quot;fa fa-info-circle&quot;&gt;&lt;/i&gt;ICP&lt;/h3&gt; &lt;p&gt;&#x6D59;ICP&#x5907; xxxxxx-x&#x53F7;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;col-md-3 footer-widget&quot;&gt; &lt;h3&gt;&lt;i class=&quot;fa fa-copyright&quot;&gt;&lt;/i&gt;Copy Right&lt;/h3&gt; &lt;p&gt;2018 &#x5341;&#x4E09;&lt;/p&gt; &lt;/div&gt; &lt;div class=&quot;col-md-3 footer-widget&quot;&gt; &lt;h3&gt;&lt;i class=&quot;fa fa-arrow-circle-o-up&quot;&gt;&lt;/i&gt;Powered By&lt;/h3&gt; zhenfeng13 &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/footer&gt; &lt;/html&gt;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x4FEE;&#x6539; index.html&#xFF0C;&#x9875;&#x9762;&#x7684;&#x5934;&#x90E8;&#x533A;&#x57DF;&#x548C;&#x5E95;&#x90E8;&#x533A;&#x57DF;&#x901A;&#x8FC7; th:replace &#x6807;&#x7B7E; &#x5F15;&#x5165;&#x8FDB;&#x6765;&#xFF0C;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!-- &#x5F15;&#x5165;&#x5BFC;&#x822A;&#x680F;&#x548C;&#x641C;&#x7D22;&#x680F; --&gt; &lt;head th:replace=&quot;blog/header::head-fragment&quot;&gt;&lt;/head&gt; &lt;body&gt; &lt;header th:replace=&quot;blog/header::header-fragment&quot;&gt;&lt;/header&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x811A;footer-fragment --&gt; &lt;footer th:replace=&quot;blog/footer::footer-fragment&quot;&gt;&lt;/footer&gt;&#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x67E5;&#x770B;&#x9875;&#x9762;&#x6548;&#x679C;&#xFF0C;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x5219;&#x8BC1;&#x660E;&#x7F16;&#x7801;&#x6B63;&#x5E38;&#x3002; &#x603B;&#x7ED3;&#x7531;&#x4E8E;&#x7BC7;&#x5E45;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x4E2D;&#x7ED9;&#x51FA;&#x7684;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x505A;&#x4E86;&#x5220;&#x51CF;&#xFF0C;&#x5B8C;&#x6574;&#x7684;&#x4EE3;&#x7801;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x6211;&#x63D0;&#x4F9B;&#x7684;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x4E0B;&#x8F7D;&#x3002; &#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5BF9;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x548C;&#x8BB2;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x8BB2;&#x89E3;&#x4E86;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x7684;&#x5236;&#x4F5C;&#x8FC7;&#x7A0B;&#x4EE5;&#x53CA;&#x9875;&#x9762;&#x516C;&#x5171;&#x4EE3;&#x7801;&#x62BD;&#x53D6;&#xFF0C;&#x76EE;&#x524D;&#x53EA;&#x662F;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x7684;&#x5236;&#x4F5C;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x6570;&#x636E;&#x7684;&#x8BFB;&#x53D6;&#x548C;&#x6E32;&#x67D3;&#xFF0C;&#x4E0B;&#x4E00;&#x8282;&#x5B9E;&#x9A8C;&#x5C06;&#x4F1A;&#x8BB2;&#x89E3;&#x6570;&#x636E;&#x7684;&#x67E5;&#x8BE2;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x586B;&#x5145;&#x5230;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5230;&#x6B64;&#x7ED3;&#x675F;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-21-shou-ye.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5C06;&#x4F1A;&#x5BF9;&#x535A;&#x5BA2;&#x7684;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x4ECB;&#x7ECD;&#x548C;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x53CA;&#x5B8C;&#x5584;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x6A21;&#x5757;&#x4ECB;&#x7ECD; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x6A21;&#x5757;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA;&#x63A5;&#x53E3;&#x5B9E;&#x73B0; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x6A21;&#x5757;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53CA;&#x7F16;&#x7801; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x529F;&#x80FD;&#x6D4B;&#x8BD5; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-24.zip unzip My-Blog-24.zip cd My-Blog&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x6A21;&#x5757;&#x7B80;&#x4ECB;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x662F;&#x5177;&#x6709;&#x4E00;&#x5B9A;&#x8D44;&#x6E90;&#x4E92;&#x8865;&#x4F18;&#x52BF;&#x7684;&#x7F51;&#x7AD9;&#x4E4B;&#x95F4;&#x7684;&#x7B80;&#x5355;&#x5408;&#x4F5C;&#x5F62;&#x5F0F;&#xFF0C;&#x5373;&#x5206;&#x522B;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7AD9;&#x4E0A;&#x653E;&#x7F6E;&#x5BF9;&#x65B9;&#x7F51;&#x7AD9;&#x7684; LOGO &#x56FE;&#x7247;&#x6216;&#x6587;&#x5B57;&#x7684;&#x7F51;&#x7AD9;&#x540D;&#x79F0;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E;&#x5BF9;&#x65B9;&#x7F51;&#x7AD9;&#x7684;&#x8D85;&#x94FE;&#x63A5;&#x4F7F;&#x5F97;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4ECE;&#x5408;&#x4F5C;&#x7F51;&#x7AD9;&#x4E2D;&#x53D1;&#x73B0;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7AD9;&#xFF0C;&#x8FBE;&#x5230;&#x4E92;&#x76F8;&#x63A8;&#x5E7F;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x5E38;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x7F51;&#x7AD9;&#x63A8;&#x5E7F;&#x57FA;&#x672C;&#x624B;&#x6BB5;&#x3002;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x662F;&#x6307;&#x4E92;&#x76F8;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7AD9;&#x4E0A;&#x653E;&#x5BF9;&#x65B9;&#x7F51;&#x7AD9;&#x7684;&#x94FE;&#x63A5;&#x3002;&#x5FC5;&#x987B;&#x8981;&#x80FD;&#x5728;&#x7F51;&#x9875;&#x4EE3;&#x7801;&#x4E2D;&#x627E;&#x5230;&#x7F51;&#x5740;&#x548C;&#x7F51;&#x7AD9;&#x540D;&#x79F0;&#xFF0C;&#x800C;&#x4E14;&#x6D4F;&#x89C8;&#x7F51;&#x9875;&#x7684;&#x65F6;&#x5019;&#x80FD;&#x663E;&#x793A;&#x7F51;&#x7AD9;&#x540D;&#x79F0;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x53EB;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x3002; &#x4EE5;&#x4E0B;&#x4E3A;&#x90E8;&#x5206;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#x7684;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x6A21;&#x5757;&#xFF1A; &#x901A;&#x5E38;&#x6765;&#x8BF4;&#xFF0C;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x4EA4;&#x6362;&#x7684;&#x610F;&#x4E49;&#x4E3B;&#x8981;&#x4F53;&#x73B0;&#x5728;&#x5982;&#x4E0B;&#x51E0;&#x65B9;&#x9762;&#xFF1A; &#x63D0;&#x5347;&#x7F51;&#x7AD9;&#x6D41;&#x91CF; &#x5B8C;&#x5584;&#x7528;&#x6237;&#x4F53;&#x9A8C; &#x589E;&#x52A0;&#x7F51;&#x7AD9;&#x5916;&#x94FE; &#x63D0;&#x9AD8;&#x5173;&#x952E;&#x5B57;&#x6392;&#x540D; &#x63D0;&#x9AD8;&#x7F51;&#x7AD9;&#x6743;&#x91CD; &#x63D0;&#x9AD8;&#x77E5;&#x540D;&#x5EA6; &#x81EA;&#x5EFA;&#x7684;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#x6BD5;&#x7ADF;&#x662F;&#x79C1;&#x4EBA;&#x7F51;&#x7AD9;&#xFF0C;&#x6D41;&#x91CF;&#x548C;&#x5173;&#x6CE8;&#x5EA6;&#x80AF;&#x5B9A;&#x4E0D;&#x4F1A;&#x7279;&#x522B;&#x9AD8;&#xFF0C;&#x901A;&#x8FC7;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7684;&#x8BBE;&#x7F6E;&#x53EF;&#x4EE5;&#x589E;&#x52A0;&#x4E00;&#x4E9B;&#x6D41;&#x91CF;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x5927;&#x90E8;&#x5206;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x4E2D;&#x4E0D;&#x53EF;&#x7F3A;&#x5C11;&#x7684;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x6BCF;&#x4E2A;&#x535A;&#x4E3B;&#x90FD;&#x4F1A;&#x8BBE;&#x7F6E;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x3002; &#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA; Mapper &#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x5728;&#x8FDB;&#x884C;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x548C;&#x5177;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x8868;&#x7ED3;&#x6784;&#x786E;&#x5B9A;&#x4E0B;&#x6765;&#xFF0C;&#x6839;&#x636E;&#x524D;&#x6587;&#x4E2D;&#x51E0;&#x5F20;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x6A21;&#x5757;&#x7684;&#x56FE;&#x7247;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x4E5F;&#x53EA;&#x662F;&#x7528;&#x4F5C;&#x5C55;&#x793A;&#x4F7F;&#x7528;&#xFF0C;&#x5176;&#x4E2D;&#x6709;&#x4E09;&#x4E2A;&#x5B57;&#x6BB5;&#x662F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x4F9D;&#x6B21;&#x4E3A;&#xFF1A; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7684;&#x540D;&#x79F0; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7684;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7684;&#x7B80;&#x5355;&#x63CF;&#x8FF0; &#x57FA;&#x4E8E;&#x6B64;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x8868;&#x7684; SQL &#x8BBE;&#x8BA1;&#x5982;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x5982;&#x4E0B; SQL &#x8BED;&#x53E5;&#x5373;&#x53EF;&#xFF1A; USE `my_blog_db`; DROP TABLE IF EXISTS `tb_link`; CREATE TABLE `tb_link` ( `link_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;&#x53CB;&#x94FE;&#x8868;&#x4E3B;&#x952E;id&apos;, `link_type` tinyint(4) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;&#x53CB;&#x94FE;&#x7C7B;&#x522B; 0-&#x53CB;&#x94FE; 1-&#x63A8;&#x8350; 2-&#x4E2A;&#x4EBA;&#x7F51;&#x7AD9;&apos;, `link_name` varchar(50) NOT NULL COMMENT &apos;&#x7F51;&#x7AD9;&#x540D;&#x79F0;&apos;, `link_url` varchar(100) NOT NULL COMMENT &apos;&#x7F51;&#x7AD9;&#x94FE;&#x63A5;&apos;, `link_description` varchar(100) NOT NULL COMMENT &apos;&#x7F51;&#x7AD9;&#x63CF;&#x8FF0;&apos;, `link_rank` int(11) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;&#x7528;&#x4E8E;&#x5217;&#x8868;&#x6392;&#x5E8F;&apos;, `is_deleted` tinyint(4) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;&#x662F;&#x5426;&#x5220;&#x9664; 0-&#x672A;&#x5220;&#x9664; 1-&#x5DF2;&#x5220;&#x9664;&apos;, `create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, PRIMARY KEY (`link_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x8868;&#x7684;&#x5B57;&#x6BB5;&#x4EE5;&#x53CA;&#x6BCF;&#x4E2A;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#x7684;&#x542B;&#x4E49;&#x90FD;&#x5728;&#x4E0A;&#x9762;&#x7684; SQL &#x4E2D;&#x6709;&#x4ECB;&#x7ECD;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x5BF9;&#x7167; SQL &#x8FDB;&#x884C;&#x7406;&#x89E3;&#xFF0C;&#x5728;&#x4E09;&#x4E2A;&#x57FA;&#x7840;&#x5B57;&#x6BB5;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x53C8;&#x6DFB;&#x52A0;&#x4E86;&#x53CB;&#x94FE;&#x7C7B;&#x522B; link_type &#x5B57;&#x6BB5;&#xFF0C;&#x56E0;&#x4E3A;&#x6709;&#x4E9B;&#x94FE;&#x63A5;&#x662F;&#x4E2A;&#x4EBA;&#x7F51;&#x7AD9;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x533A;&#x5206;&#x53CB;&#x94FE;&#x5C31;&#x52A0;&#x4E86;&#x6B64;&#x5B57;&#x6BB5;&#xFF0C;&#x628A;&#x8868;&#x7ED3;&#x6784;&#x5BFC;&#x5165;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x5DE5;&#x4F5C;&#x3002; MyBatis-Generator &#x63D2;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210; Mapper &#x6587;&#x4EF6;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528; MyBatis-Generator &#x63D2;&#x4EF6;&#x5C06;&#x8BE5;&#x8868;&#x5BF9;&#x5E94;&#x7684; Mapper &#x6587;&#x4EF6;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x548C; Dao &#x5C42;&#x63A5;&#x53E3;&#x751F;&#x6210;&#x51FA;&#x6765;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x4EE3;&#x7801;&#x5C31;&#x4E0D;&#x8D34;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x4E86;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x6765;&#x67E5;&#x770B;&#x3002; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x540E;&#x9700;&#x8981;&#x5728; dao &#x5C42;&#x4E0B;&#x7684; BlogLinkMapper &#x63A5;&#x53E3;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @Mapper &#x6CE8;&#x89E3;&#x4EE5;&#x5C06;&#x5176;&#x6CE8;&#x518C;&#x5230; IOC &#x5BB9;&#x5668;&#x4E2D;&#x4EE5;&#x4F9B;&#x540E;&#x7EED;&#x8C03;&#x7528;&#xFF08;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5728;&#x4E3B;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @MapperScan &#x6CE8;&#x89E3;&#x8FD9;&#x4E00;&#x6B65;&#x53EF;&#x4EE5;&#x7701;&#x7565;&#xFF09;&#x3002;&#x5176;&#x6B21;&#xFF0C;&#x5728; tb_link &#x8868;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x8BBE;&#x8BA1;&#x4E86;&#x4E00;&#x4E2A; is_deleted &#x5B57;&#x6BB5;&#xFF0C;&#x7528;&#x4E8E;&#x903B;&#x8F91;&#x5220;&#x9664;&#x7684;&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x7531;&#x4E8E; is_deleted &#x7684;&#x5B57;&#x6BB5;&#x8BBE;&#x8BA1;&#xFF0C;&#x6211;&#x4EEC;&#x5BF9;&#x8868;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x5220;&#x9664;&#x90FD;&#x662F;&#x8F6F;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x53EA;&#x662F;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x5220;&#x9664;&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x5B57;&#x6BB5;&#x4E3A; 1 &#x5219;&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x88AB;&#x5220;&#x9664;&#x4E0D;&#x518D;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x4E3A;&#x662F;&#x4E2A;&#x4EBA;&#x535A;&#x5BA2;&#xFF0C;&#x8FD9;&#x4E48;&#x505A;&#x7684;&#x76EE;&#x7684;&#x4E3B;&#x8981;&#x4E5F;&#x662F;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x8BEF;&#x5220;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539; Mapper &#x6587;&#x4EF6;&#x4E2D;&#x7684; &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x548C;&#x5220;&#x9664;&#x8BED;&#x53E5;&#xFF0C;&#x5C06; is_deleted &#x6761;&#x4EF6;&#x5E26;&#x4E0A;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogLinkMapper.xml) &lt;select id=&quot;selectByPrimaryKey&quot; parameterType=&quot;java.lang.Integer&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_link where link_id = #{linkId,jdbcType=INTEGER} AND is_deleted = 0 &lt;/select&gt; &lt;update id=&quot;deleteByPrimaryKey&quot; parameterType=&quot;java.lang.Integer&quot;&gt; UPDATE tb_link SET is_deleted = 1 where link_id = #{linkId,jdbcType=INTEGER} AND is_deleted = 0 &lt;/update&gt;&#x901A;&#x8FC7;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#xFF0C;&#x5728;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x65F6;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x662F;&#x6267;&#x884C; delete &#x8BED;&#x53E5;&#xFF0C;&#x800C;&#x662F;&#x5C06;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x8FD9;&#x6761;&#x8BB0;&#x5F55;&#x7684; is_deleted &#x5B57;&#x6BB5;&#x4FEE;&#x6539;&#x4E3A; 1&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x8868;&#x793A;&#x8BE5;&#x884C;&#x8BB0;&#x5F55;&#x5DF2;&#x7ECF;&#x88AB;&#x6267;&#x884C;&#x4E86;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x90A3;&#x4E48;&#x5176;&#x4ED6;&#x7684; select &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x5C31;&#x9700;&#x8981;&#x5728;&#x67E5;&#x8BE2;&#x6761;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; is_deleted = 0 &#x5C06;&#x201C;&#x88AB;&#x5220;&#x9664;&#x201D;&#x7684;&#x8BB0;&#x5F55;&#x7ED9;&#x8FC7;&#x6EE4;&#x51FA;&#x53BB;&#xFF0C;&#x8FD9;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x7406;&#x89E3;&#xFF0C;&#x5728;&#x540E;&#x7EED;&#x7684;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x4F7F;&#x7528;&#x8F6F;&#x5220;&#x9664;&#x7684;&#x8BBE;&#x8BA1;&#x3002; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x5BFC;&#x822A;&#x680F;&#x9996;&#x5148;&#x5728;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x4E2D;&#x65B0;&#x589E;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7BA1;&#x7406;&#x9875;&#x7684;&#x5BFC;&#x822A;&#x6309;&#x94AE;&#xFF0C;&#x5728; sidebar.html &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/sidebar.html) &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/links}&quot; th:class=&quot;${path}==&apos;links&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt; &lt;i class=&quot;fa fa-heart nav-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; &lt;p&gt; &#x53CB;&#x60C5;&#x94FE;&#x63A5; &lt;/p&gt; &lt;/a&gt; &lt;/li&gt;&#x70B9;&#x51FB;&#x540E;&#x7684;&#x8DF3;&#x8F6C;&#x8DEF;&#x5F84;&#x4E3A; /admin/links&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x65B0;&#x5EFA; Controller &#x6765;&#x5904;&#x7406;&#x8BE5;&#x8DEF;&#x5F84;&#x5E76;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#x3002; Controller &#x5904;&#x7406;&#x8DF3;&#x8F6C;&#x9996;&#x5148;&#x5728; controller/admin &#x5305;&#x4E0B;&#x65B0;&#x5EFA; LinkController.java&#xFF0C;&#x4E4B;&#x540E;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; package com.site.blog.my.core.controller.admin; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestMapping; import javax.servlet.http.HttpServletRequest; @Controller @RequestMapping(&quot;/admin&quot;) public class LinkController { @GetMapping(&quot;/links&quot;) public String linkPage(HttpServletRequest request) { request.setAttribute(&quot;path&quot;, &quot;links&quot;); return &quot;admin/link&quot;; } }&#x8BE5;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5904;&#x7406; /admin/links &#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E; path &#x5B57;&#x6BB5;&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; admin &#x76EE;&#x5F55;&#x4E0B;&#x7684; link.html &#x4E2D;&#x3002; link.html &#x9875;&#x9762;&#x5236;&#x4F5C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5236;&#x4F5C;&#x4E86;&#xFF0C;&#x5728; resources/templates/admin &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; link.html&#xFF0C;&#x5E76;&#x5F15;&#x5165;&#x5BF9;&#x5E94;&#x7684; js &#x6587;&#x4EF6;&#x548C; css &#x6837;&#x5F0F;&#x6587;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;header th:replace=&quot;admin/header::header-fragment&quot;&gt;&lt;/header&gt; &lt;body class=&quot;hold-transition sidebar-mini&quot;&gt; &lt;div class=&quot;wrapper&quot;&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x9762;&#x5934;header-fragment --&gt; &lt;div th:replace=&quot;admin/header::header-nav&quot;&gt;&lt;/div&gt; &lt;!-- &#x5F15;&#x5165;&#x5DE5;&#x5177;&#x680F;sidebar-fragment --&gt; &lt;div th:replace=&quot;admin/sidebar::sidebar-fragment(${path})&quot;&gt;&lt;/div&gt; &lt;!-- Content Wrapper. Contains page content --&gt; &lt;div class=&quot;content-wrapper&quot;&gt; &lt;!-- Content Header (Page header) --&gt; &lt;div class=&quot;content-header&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/div&gt; &lt;!-- Main content --&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;card card-primary card-outline&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h3 class=&quot;card-title&quot;&gt;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7BA1;&#x7406;&lt;/h3&gt; &lt;/div&gt; &lt;!-- /.card-body --&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div th:replace=&quot;admin/footer::footer-fragment&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- jQuery --&gt; &lt;script th:src=&quot;@{/admin/plugins/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- jQuery UI 1.11.4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/jQueryUI/jquery-ui.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap 4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/bootstrap/js/bootstrap.bundle.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- AdminLTE App --&gt; &lt;script th:src=&quot;@{/admin/dist/js/adminlte.min.js}&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x81F3;&#x6B64;&#xFF0C;&#x8DF3;&#x8F6C;&#x903B;&#x8F91;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#xFF0C;&#x6F14;&#x793A;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x6A21;&#x5757;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x53CA;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x4ECB;&#x7ECD;&#x5173;&#x4E8E;&#x63A5;&#x53E3;&#x7684;&#x8BBE;&#x8BA1;&#x4EE5;&#x53CA;&#x524D;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x6570;&#x636E;&#x7684;&#x8BBE;&#x8BA1;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E00;&#x4E0B;&#x7B2C; 10 &#x8BFE;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x53CB;&#x94FE;&#x6A21;&#x5757;&#x5728;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x6709; 5 &#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5206;&#x522B;&#x662F;&#xFF1A; &#x53CB;&#x94FE;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3; &#x6DFB;&#x52A0;&#x53CB;&#x94FE;&#x63A5;&#x53E3; &#x6839;&#x636E; id &#x83B7;&#x53D6;&#x5355;&#x6761;&#x53CB;&#x94FE;&#x8BB0;&#x5F55;&#x63A5;&#x53E3; &#x4FEE;&#x6539;&#x53CB;&#x94FE;&#x63A5;&#x53E3; &#x5220;&#x9664;&#x53CB;&#x94FE;&#x63A5;&#x53E3; &#x63A5;&#x4E0B;&#x6765;&#x8BB2;&#x89E3;&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#xFF0C;&#x9996;&#x5148;&#x5728; controller/admin &#x5305;&#x4E0B;&#x65B0;&#x5EFA; LinkController.java&#xFF0C;&#x5E76;&#x5728; service &#x5305;&#x4E0B;&#x65B0;&#x5EFA;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801; LinkService.java &#x53CA;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4E4B;&#x540E;&#x53C2;&#x7167;&#x63A5;&#x53E3;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x5217;&#x8868;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x4F20;&#x6765;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#xFF0C;&#x5982; page &#x3001;limit &#x7B49;&#x53C2;&#x6570;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x6570;&#x636E;&#x603B;&#x6570;&#x548C;&#x5BF9;&#x5E94;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x5C01;&#x88C5;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.LinkController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /links/list&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x53CB;&#x94FE;&#x5217;&#x8868; */ @GetMapping(&quot;/links/list&quot;) @ResponseBody public Result list(@RequestParam Map&lt;String, Object&gt; params) { if (StringUtils.isEmpty(params.get(&quot;page&quot;)) || StringUtils.isEmpty(params.get(&quot;limit&quot;))) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } PageQueryUtil pageUtil = new PageQueryUtil(params); return ResultGenerator.genSuccessResult(linkService.getBlogLinkPage(pageUtil)); } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.LinkServiceImpl.java&#xFF09;&#xFF1A; public PageResult getBlogLinkPage(PageQueryUtil pageUtil) { List&lt;BlogLink&gt; links = blogLinkMapper.findLinkList(pageUtil); int total = blogLinkMapper.getTotalLinks(pageUtil); PageResult pageResult = new PageResult(links, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } BlogLinkMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogLinkMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findLinkList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_link where is_deleted=0 order by link_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalLinks&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_link where is_deleted=0 &lt;/select&gt;SQL &#x8BED;&#x53E5;&#x5728; BlogLinkMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x5206;&#x9875;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528; limit &#x5173;&#x952E;&#x5B57;&#x5B9E;&#x73B0;&#xFF0C;&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x6761;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x548C;&#x603B;&#x6570;&#x4E4B;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x6839;&#x636E;&#x524D;&#x7AEF;&#x4F20;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x5206;&#x9875;&#x6570;&#x636E;&#x4EE5;&#x4F9B;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x3002; &#x6DFB;&#x52A0;&#x53CB;&#x94FE;&#x63A5;&#x53E3;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684; POST &#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#x5176;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x63A5;&#x6536;&#x7684;&#x53C2;&#x6570;&#x4F9D;&#x6B21;&#x4E3A;&#xFF1A; linkType &#x5B57;&#x6BB5;(&#x53CB;&#x94FE;&#x7C7B;&#x578B;) linkName &#x5B57;&#x6BB5;(&#x53CB;&#x94FE;&#x540D;&#x79F0;) linkUrl &#x5B57;&#x6BB5;(&#x53CB;&#x94FE;&#x7684;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;) linkRank &#x5B57;&#x6BB5;(&#x6392;&#x5E8F;&#x503C;) linkDescription &#x5B57;&#x6BB5;(&#x53CB;&#x94FE;&#x7B80;&#x4ECB;) &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.LinkController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /links/save&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x53CB;&#x94FE;&#x6DFB;&#x52A0; */ @RequestMapping(value = &quot;/links/save&quot;, method = RequestMethod.POST) @ResponseBody public Result save(@RequestParam(&quot;linkType&quot;) Integer linkType, @RequestParam(&quot;linkName&quot;) String linkName, @RequestParam(&quot;linkUrl&quot;) String linkUrl, @RequestParam(&quot;linkRank&quot;) Integer linkRank, @RequestParam(&quot;linkDescription&quot;) String linkDescription) { if (linkType == null || linkType &lt; 0 || linkRank == null || linkRank &lt; 0 || StringUtils.isEmpty(linkName) || StringUtils.isEmpty(linkName) || StringUtils.isEmpty(linkUrl) || StringUtils.isEmpty(linkDescription)) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } BlogLink link = new BlogLink(); link.setLinkType(linkType.byteValue()); link.setLinkRank(linkRank); link.setLinkName(linkName); link.setLinkUrl(linkUrl); link.setLinkDescription(linkDescription); return ResultGenerator.genSuccessResult(linkService.saveLink(link)); } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.LinkServiceImpl.java&#xFF09;&#xFF1A; public Boolean saveLink(BlogLink link) { return blogLinkMapper.insertSelective(link) &gt; 0; }SQL &#x8BED;&#x53E5;&#x5728; BlogLinkMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x662F;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684; SQL&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8D34;&#x4E86;&#x3002;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#xFF0C;&#x4E4B;&#x540E;&#x4EA4;&#x7ED9;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002; &#x5220;&#x9664;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x63A5;&#x53E3;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x5220;&#x9664;&#x8BF7;&#x6C42;&#xFF0C;&#x5904;&#x7406;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x201C;&#x5220;&#x9664;&#x201D;&#x529F;&#x80FD;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x662F;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5220;&#x9664;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x524D;&#x7AEF;&#x5C06;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55; id &#x5C01;&#x88C5;&#x597D;&#x518D;&#x4F20;&#x53C2;&#x5230;&#x540E;&#x7AEF;&#x5373;&#x53EF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.LinkController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /links/delete&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x53CB;&#x94FE;&#x5220;&#x9664; */ @RequestMapping(value = &quot;/links/delete&quot;, method = RequestMethod.POST) @ResponseBody public Result delete(@RequestBody Integer[] ids) { if (ids.length &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (linkService.deleteBatch(ids)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x5220;&#x9664;&#x5931;&#x8D25;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.LinkServiceImpl.java&#xFF09;&#xFF1A; public Boolean deleteBatch(Integer[] ids) { return blogLinkMapper.deleteBatch(ids) &gt; 0; } BlogLinkMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogLinkMapper.xml&#xFF09;&#xFF1A; &lt;update id=&quot;deleteBatch&quot;&gt; update tb_link set is_deleted=1 where link_id in &lt;foreach item=&quot;id&quot; collection=&quot;array&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #{id} &lt;/foreach&gt; &lt;/update&gt;&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /links/delete&#xFF0C;&#x5E76;&#x4F7F;&#x7528; @RequestBody &#x5C06;&#x524D;&#x7AEF;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x4E3A; id &#x6570;&#x7EC4;&#xFF0C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5219;&#x8C03;&#x7528; deleteBatch() &#x6279;&#x91CF;&#x5220;&#x9664;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5411;&#x524D;&#x7AEF;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; &#x5176;&#x5B83;&#x8FD8;&#x6709;&#x6839;&#x636E; id &#x83B7;&#x53D6;&#x8BE6;&#x60C5;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x8DEF;&#x5F84;&#x4E3A; links/info/{id}&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF1B;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#xFF0C;&#x8DEF;&#x5F84;&#x4E3A; links/update&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#x3002;&#x5728;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x548C;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x7ACB;&#x523B;&#x4FEE;&#x590D;&#xFF0C;&#x4EE5;&#x4E0A;&#x8FD9;&#x4E9B;&#x4EE3;&#x7801;&#x6211;&#x90FD;&#x5DF2;&#x7ECF;&#x7F16;&#x5199;&#x5B8C;&#x6210;&#x5E76;&#x5C06;&#x4EE3;&#x7801;&#x4EE5;&#x538B;&#x7F29;&#x5305;&#x7684;&#x5F62;&#x5F0F;&#x63D0;&#x4F9B;&#xFF0C;&#x5927;&#x5BB6;&#x5728;&#x5B66;&#x4E60;&#x65F6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6211;&#x7ED9;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x7EC3;&#x4E60;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x6211;&#x4EEC;&#x4E5F;&#x8BBE;&#x8BA1;&#x4E86;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;&#x529F;&#x80FD;&#xFF1A;&#x53CB;&#x94FE;&#x4FE1;&#x606F;&#x589E;&#x52A0;&#x3001;&#x53CB;&#x94FE;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x3001;&#x53CB;&#x94FE;&#x4FE1;&#x606F;&#x5220;&#x9664;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x4EE5;&#x53CA;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/link.html) &lt;div class=&quot;grid-btn&quot;&gt; &lt;button class=&quot;btn btn-info&quot; onclick=&quot;linkAdd()&quot;&gt;&lt;i class=&quot;fa fa-plus&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x65B0;&#x589E; &lt;/button&gt; &lt;button class=&quot;btn btn-info&quot; onclick=&quot;linkEdit()&quot;&gt;&lt;i class=&quot;fa fa-pencil-square-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x4FEE;&#x6539;&lt;/button&gt; &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;deleteLink()&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x5220;&#x9664;&lt;/button&gt; &lt;/div&gt;&#x5206;&#x522B;&#x662F;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; linkAdd() &#x65B9;&#x6CD5;&#xFF0C;&#x4FEE;&#x6539;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; linkEdit() &#x65B9;&#x6CD5;&#xFF0C;&#x5220;&#x9664;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; deleteLink() &#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x540E;&#x7EED;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E2D;&#x7ED9;&#x51FA;&#x3002; &#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x9875;&#x9762;&#x4E2D;&#x5DF2;&#x7ECF;&#x5F15;&#x5165; JqGrid &#x7684;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x5206;&#x9875;&#x6570;&#x636E;&#x7684;&#x533A;&#x57DF;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &lt;table id=&quot;jqGrid&quot; class=&quot;table table-bordered&quot;&gt;&lt;/table&gt; &lt;div id=&quot;jqGridPager&quot;&gt;&lt;/div&gt;&#x9875;&#x9762;&#x6548;&#x679C;&#x90A3;&#x4E48;&#x6700;&#x7EC8;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x6548;&#x679C;&#x5C55;&#x793A;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5305;&#x62EC;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x3001;&#x6570;&#x636E;&#x5217;&#x8868;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x4EE5;&#x53CA;&#x7FFB;&#x9875;&#x529F;&#x80FD;&#x533A;&#x57DF;&#xFF0C;&#x6B64;&#x65F6;&#x53EA;&#x662F;&#x9759;&#x6001;&#x6548;&#x679C;&#x5C55;&#x793A;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x4E0E;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x7ED3;&#x5408; Ajax &#x548C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x5177;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x3002; &#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x524D;&#x7AEF;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x4E86;&#x9875;&#x9762;&#x5C55;&#x793A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x63A5;&#x7740;&#x5B8C;&#x6210;&#x76F8;&#x5173;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x4E00;&#x5B9A;&#x81EA;&#x884C;&#x5BF9;&#x7167;&#x6E90;&#x7801;&#x5B8C;&#x6210;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5728; resources/static/admin/dist/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; link.js &#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; $(function () { $(&quot;#jqGrid&quot;).jqGrid({ url: &apos;/admin/links/list&apos;, datatype: &quot;json&quot;, colModel: [ {label: &apos;id&apos;, name: &apos;linkId&apos;, index: &apos;linkId&apos;, width: 50, key: true, hidden: true}, {label: &apos;&#x7F51;&#x7AD9;&#x540D;&#x79F0;&apos;, name: &apos;linkName&apos;, index: &apos;linkName&apos;, width: 100}, {label: &apos;&#x7F51;&#x7AD9;&#x94FE;&#x63A5;&apos;, name: &apos;linkUrl&apos;, index: &apos;linkUrl&apos;, width: 120}, {label: &apos;&#x7F51;&#x7AD9;&#x63CF;&#x8FF0;&apos;, name: &apos;linkDescription&apos;, index: &apos;linkDescription&apos;, width: 120}, {label: &apos;&#x6392;&#x5E8F;&#x503C;&apos;, name: &apos;linkRank&apos;, index: &apos;linkRank&apos;, width: 30}, {label: &apos;&#x6DFB;&#x52A0;&#x65F6;&#x95F4;&apos;, name: &apos;createTime&apos;, index: &apos;createTime&apos;, width: 100} ], height: 560, rowNum: 10, rowList: [10, 20, 50], styleUI: &apos;Bootstrap&apos;, loadtext: &apos;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x4E2D;...&apos;, rownumbers: false, rownumWidth: 20, autowidth: true, multiselect: true, pager: &quot;#jqGridPager&quot;, jsonReader: { root: &quot;data.list&quot;, page: &quot;data.currPage&quot;, total: &quot;data.totalPage&quot;, records: &quot;data.totalCount&quot; }, prmNames: { page: &quot;page&quot;, rows: &quot;limit&quot;, order: &quot;order&quot;, }, gridComplete: function () { //&#x9690;&#x85CF;grid&#x5E95;&#x90E8;&#x6EDA;&#x52A8;&#x6761; $(&quot;#jqGrid&quot;).closest(&quot;.ui-jqgrid-bdiv&quot;).css({&quot;overflow-x&quot;: &quot;hidden&quot;}); } }); $(window).resize(function () { $(&quot;#jqGrid&quot;).setGridWidth($(&quot;.card-body&quot;).width()); }); });&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x5C55;&#x793A;&#x3001;&#x5B57;&#x6BB5;&#x683C;&#x5F0F;&#x5316; jqGrid DOM &#x5BBD;&#x5EA6;&#x7684;&#x81EA;&#x9002;&#x5E94;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x8C03;&#x7528; JqGrid &#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x9875;&#x9762;&#x4E2D; id &#x4E3A; jqGrid &#x7684; DOM &#x6E32;&#x67D3;&#x4E3A;&#x5206;&#x9875;&#x8868;&#x683C;&#xFF0C;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /admin/links/list&#xFF0C;&#x8BE5;&#x8DEF;&#x5F84;&#x5373;&#x53CB;&#x94FE;&#x5206;&#x9875;&#x5217;&#x8868;&#x63A5;&#x53E3;&#xFF0C;&#x4E4B;&#x540E;&#x6309;&#x7167;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684; json &#x6570;&#x636E;&#x586B;&#x5145;&#x8868;&#x683C;&#x4EE5;&#x53CA;&#x8868;&#x683C;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7B2C; 15 &#x4E2A;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4E2D; jqgrid &#x5206;&#x9875;&#x529F;&#x80FD;&#x6574;&#x5408;&#x8FDB;&#x884C;&#x77E5;&#x8BC6;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x9A8C;&#x8BC1;&#x4E00;&#x4E0B;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x4FE1;&#x606F;&#x5206;&#x9875;&#x529F;&#x80FD;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002; &#x6309;&#x94AE;&#x4E8B;&#x4EF6;&#x53CA; Modal &#x6846;&#x5B9E;&#x73B0;&#x6DFB;&#x52A0;&#x548C;&#x4FEE;&#x6539;&#x4E24;&#x4E2A;&#x6309;&#x94AE;&#x5206;&#x522B;&#x7ED1;&#x5B9A;&#x4E86;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728; link.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E; linkAdd() &#x65B9;&#x6CD5;&#x548C; linkEdit() &#x65B9;&#x6CD5;&#xFF0C;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#x4E3A;&#x6253;&#x5F00;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x548C;&#x4E24;&#x4E2A;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/link.js) &lt;div class=&quot;content&quot;&gt; &lt;!-- &#x6A21;&#x6001;&#x6846;&#xFF08;Modal&#xFF09; --&gt; &lt;div class=&quot;modal fade&quot; id=&quot;linkModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;linkModalLabel&quot;&gt; &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt; &lt;div class=&quot;modal-content&quot;&gt; &lt;div class=&quot;modal-header&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;&lt;/button&gt; &lt;h6 class=&quot;modal-title&quot; id=&quot;linkModalLabel&quot;&gt;Modal&lt;/h6&gt; &lt;/div&gt; &lt;div class=&quot;modal-body&quot;&gt; &lt;form id=&quot;linkForm&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;div class=&quot;alert alert-danger&quot; id=&quot;edit-error-msg&quot; style=&quot;display: none;&quot;&gt; &#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x680F;&#x3002; &lt;/div&gt; &lt;/div&gt; &lt;input type=&quot;hidden&quot; class=&quot;form-control&quot; id=&quot;linkId&quot; name=&quot;linkId&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;linkType&quot; class=&quot;control-label&quot;&gt;&#x53CB;&#x94FE;&#x7C7B;&#x578B;:&lt;/label&gt; &lt;select class=&quot;form-control&quot; id=&quot;linkType&quot; name=&quot;linkType&quot;&gt; &lt;option selected=&quot;selected&quot; value=&quot;0&quot;&gt;&#x53CB;&#x94FE;&lt;/option&gt; &lt;option value=&quot;1&quot;&gt;&#x63A8;&#x8350;&#x7F51;&#x7AD9;&lt;/option&gt; &lt;option value=&quot;2&quot;&gt;&#x4E2A;&#x4EBA;&#x94FE;&#x63A5;&lt;/option&gt; &lt;/select&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;linkName&quot; class=&quot;control-label&quot;&gt;&#x7F51;&#x7AD9;&#x540D;&#x79F0;:&lt;/label&gt; &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;linkName&quot; name=&quot;linkName&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x7F51;&#x7AD9;&#x540D;&#x79F0;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;linkUrl&quot; class=&quot;control-label&quot;&gt;&#x7F51;&#x7AD9;&#x94FE;&#x63A5;:&lt;/label&gt; &lt;input type=&quot;url&quot; class=&quot;form-control&quot; id=&quot;linkUrl&quot; name=&quot;linkUrl&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x7F51;&#x7AD9;&#x94FE;&#x63A5;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;linkDescription&quot; class=&quot;control-label&quot;&gt;&#x7F51;&#x7AD9;&#x63CF;&#x8FF0;:&lt;/label&gt; &lt;input type=&quot;url&quot; class=&quot;form-control&quot; id=&quot;linkDescription&quot; name=&quot;linkDescription&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x7F51;&#x7AD9;&#x63CF;&#x8FF0;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;linkRank&quot; class=&quot;control-label&quot;&gt;&#x6392;&#x5E8F;&#x503C;:&lt;/label&gt; &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;linkRank&quot; name=&quot;linkRank&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x6392;&#x5E8F;&#x503C;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; &lt;div class=&quot;modal-footer&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;&#x53D6;&#x6D88;&lt;/button&gt; &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&quot;saveButton&quot;&gt;&#x786E;&#x8BA4;&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- /.modal --&gt; &lt;/div&gt;linkAdd() &#x65B9;&#x6CD5;&#x548C; linkEdit() &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/link.js) function linkAdd() { reset(); $(&apos;.modal-title&apos;).html(&apos;&#x53CB;&#x94FE;&#x6DFB;&#x52A0;&apos;); $(&apos;#linkModal&apos;).modal(&apos;show&apos;); } function linkEdit() { var id = getSelectedRow(); if (id == null) { return; } reset(); //&#x8BF7;&#x6C42;&#x6570;&#x636E; $.get(&quot;/admin/links/info/&quot; + id, function (r) { if (r.resultCode == 200 &amp;&amp; r.data != null) { //&#x586B;&#x5145;&#x6570;&#x636E;&#x81F3;modal $(&quot;#linkName&quot;).val(r.data.linkName); $(&quot;#linkUrl&quot;).val(r.data.linkUrl); $(&quot;#linkDescription&quot;).val(r.data.linkDescription); $(&quot;#linkRank&quot;).val(r.data.linkRank); //&#x6839;&#x636E;&#x539F;linkType&#x503C;&#x8BBE;&#x7F6E;select&#x9009;&#x62E9;&#x5668;&#x4E3A;&#x9009;&#x4E2D;&#x72B6;&#x6001; if (r.data.linkType == 1) { $(&quot;#linkType option:eq(1)&quot;).prop(&quot;selected&quot;, &apos;selected&apos;); } if (r.data.linkType == 2) { $(&quot;#linkType option:eq(2)&quot;).prop(&quot;selected&quot;, &apos;selected&apos;); } } }); $(&apos;.modal-title&apos;).html(&apos;&#x53CB;&#x94FE;&#x4FEE;&#x6539;&apos;); $(&apos;#linkModal&apos;).modal(&apos;show&apos;); $(&quot;#linkId&quot;).val(id); }&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#x4EC5;&#x4EC5;&#x662F;&#x5C06; Modal &#x6846;&#x663E;&#x793A;&#xFF0C;&#x4FEE;&#x6539;&#x529F;&#x80FD;&#x5219;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x9700;&#x8981;&#x5C06;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55;&#x56DE;&#x663E;&#x5230;&#x7F16;&#x8F91;&#x6846;&#x4E2D;&#x4EE5;&#x4F9B;&#x4FEE;&#x6539;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x8BF7;&#x6C42; links/info/{id} &#x8BE6;&#x60C5;&#x63A5;&#x53E3;&#x83B7;&#x53D6;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x6570;&#x636E;&#x4FE1;&#x606F;&#x3002; Modal &#x6846;&#x5B9E;&#x9645;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5C06;&#x6240;&#x6709;&#x4FE1;&#x606F;&#x6B63;&#x786E;&#x586B;&#x5199;&#x540E;&#x70B9;&#x51FB;&#x786E;&#x8BA4;&#x6309;&#x94AE;&#x5373;&#x53EF;&#x3002; &#x6DFB;&#x52A0;&#x529F;&#x80FD;&#x548C;&#x7F16;&#x8F91;&#x529F;&#x80FD;&#x5728;&#x4FE1;&#x606F;&#x5F55;&#x5165;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x4E0B;&#x65B9;&#x7684;&#x786E;&#x8BA4;&#x6309;&#x94AE;&#xFF0C;&#x6B64;&#x65F6;&#x4F1A;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;js &#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/link.js) //&#x7ED1;&#x5B9A;modal&#x4E0A;&#x7684;&#x4FDD;&#x5B58;&#x6309;&#x94AE; $(&apos;#saveButton&apos;).click(function () { var linkId = $(&quot;#linkId&quot;).val(); var linkName = $(&quot;#linkName&quot;).val(); var linkUrl = $(&quot;#linkUrl&quot;).val(); var linkDescription = $(&quot;#linkDescription&quot;).val(); var linkRank = $(&quot;#linkRank&quot;).val(); if (!validCN_ENString2_18(linkName)) { $(&apos;#edit-error-msg&apos;).css(&quot;display&quot;, &quot;block&quot;); $(&apos;#edit-error-msg&apos;).html(&quot;&#x8BF7;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x540D;&#x79F0;&#xFF01;&quot;); return; } if (!isURL(linkUrl)) { $(&apos;#edit-error-msg&apos;).css(&quot;display&quot;, &quot;block&quot;); $(&apos;#edit-error-msg&apos;).html(&quot;&#x8BF7;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x7F51;&#x5740;&#xFF01;&quot;); return; } if (!validCN_ENString2_100(linkDescription)) { $(&apos;#edit-error-msg&apos;).css(&quot;display&quot;, &quot;block&quot;); $(&apos;#edit-error-msg&apos;).html(&quot;&#x8BF7;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x63CF;&#x8FF0;&#xFF01;&quot;); return; } if (isNull(linkRank) || linkRank &lt; 0) { $(&apos;#edit-error-msg&apos;).css(&quot;display&quot;, &quot;block&quot;); $(&apos;#edit-error-msg&apos;).html(&quot;&#x8BF7;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x6392;&#x5E8F;&#x503C;&#xFF01;&quot;); return; } var params = $(&quot;#linkForm&quot;).serialize(); var url = &apos;/admin/links/save&apos;; if (linkId != null &amp;&amp; linkId &gt; 0) { url = &apos;/admin/links/update&apos;; } $.ajax({ type: &apos;POST&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: url, data: params, success: function (result) { if (result.resultCode == 200 &amp;&amp; result.data) { $(&apos;#linkModal&apos;).modal(&apos;hide&apos;); swal(&quot;&#x4FDD;&#x5B58;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); reload(); } else { $(&apos;#linkModal&apos;).modal(&apos;hide&apos;); swal(&quot;&#x4FDD;&#x5B58;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot;, }); } ; }, error: function () { swal(&quot;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot;, }); } }); });&#x7531;&#x4E8E;&#x4F20;&#x53C2;&#x548C;&#x540E;&#x7EED;&#x5904;&#x7406;&#x903B;&#x8F91;&#x7C7B;&#x4F3C;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x592A;&#x591A;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x56E0;&#x6B64;&#x5C06;&#x4FEE;&#x6539;&#x53CB;&#x94FE;&#x4FE1;&#x606F;&#x548C;&#x6DFB;&#x52A0;&#x53CB;&#x94FE;&#x4FE1;&#x606F;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x5199;&#x5728;&#x4E00;&#x8D77;&#x4E86;&#xFF0C;&#x901A;&#x8FC7; id &#x662F;&#x5426;&#x5927;&#x4E8E; 0 &#x6765;&#x786E;&#x5B9A;&#x662F;&#x4FEE;&#x6539;&#x64CD;&#x4F5C;&#x8FD8;&#x662F;&#x6DFB;&#x52A0;&#x64CD;&#x4F5C;&#xFF0C;&#x65B9;&#x6CD5;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; &#x524D;&#x7AEF;&#x5BF9;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x6B63;&#x5219;&#x9A8C;&#x8BC1; &#x5C01;&#x88C5;&#x6570;&#x636E; &#x5411;&#x5BF9;&#x5E94;&#x7684;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42; &#x8BF7;&#x6C42;&#x6210;&#x529F;&#x540E;&#x63D0;&#x9192;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x5E76;&#x9690;&#x85CF;&#x5F53;&#x524D;&#x7684;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#xFF0C;&#x540C;&#x65F6;&#x5237;&#x65B0;&#x5217;&#x8868;&#x6570;&#x636E; &#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x5219;&#x63D0;&#x9192;&#x5BF9;&#x5E94;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F; &#x5220;&#x9664;&#x529F;&#x80FD;&#x5220;&#x9664;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4E3A; deleteLink()&#xFF0C;&#x5728; link.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/static/admin/dist/js/link.js) function deleteLink() { var ids = getSelectedRows(); if (ids == null) { return; } swal({ title: &quot;&#x786E;&#x8BA4;&#x5F39;&#x6846;&quot;, text: &quot;&#x786E;&#x8BA4;&#x8981;&#x5220;&#x9664;&#x6570;&#x636E;&#x5417;?&quot;, icon: &quot;warning&quot;, buttons: true, dangerMode: true, }).then((flag) =&gt; { if (flag) { $.ajax({ type: &quot;POST&quot;, url: &quot;/admin/links/delete&quot;, contentType: &quot;application/json&quot;, data: JSON.stringify(ids), success: function (r) { if (r.resultCode == 200) { swal(&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); $(&quot;#jqGrid&quot;).trigger(&quot;reloadGrid&quot;); } else { swal(r.message, { icon: &quot;error&quot;, }); } } }); } } ); }&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5728; jqgrid &#x8868;&#x683C;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684; id&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; links/delete&#xFF0C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x6E90;&#x7801;&#x4EE5;&#x53CA;&#x5B9E;&#x9645;&#x7684;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x548C;&#x7406;&#x89E3;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x3002; &#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x7684;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x4E0B;&#x8F7D;&#x5E76;&#x53C2;&#x7167;&#x6E90;&#x7801;&#x5BF9;&#x6BD4;&#x5B66;&#x4E60;&#x4E86;&#x89E3;&#x5404;&#x4E2A;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x3002; &#x542F;&#x52A8; MySQL &#x5E76;&#x65B0;&#x589E; tb_link &#x8868;&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x8FDB;&#x5165;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x9996;&#x5148;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB; File -&gt; Open New Terminal &#x5373;&#x53EF;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; sudo service mysql start&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x6743;&#x9650;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x5728;&#x547D;&#x4EE4;&#x524D;&#x589E;&#x52A0; sudo &#x53D6;&#x5F97; root &#x6743;&#x9650;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4E4B;&#x540E;&#x7B49;&#x5F85; MySQL &#x6B63;&#x5E38;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002; &#x4E4B;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x767B;&#x9646; MySQL &#x6570;&#x636E;&#x5E93;&#xFF1A; sudo mysql -u root &#x56E0;&#x4E3A;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#x4E2D; MySQL &#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x5E76;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x4EE5;&#x4E0A;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x767B;&#x9646;&#xFF0C;&#x6700;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x6267;&#x884C;&#x524D;&#x6587;&#x7ED9;&#x51FA;&#x7684;&#x5EFA;&#x8868;&#x8BED;&#x53E5; SQL &#x5373;&#x53EF;&#x3002; &#x542F;&#x52A8;&#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230;&#x5DF2;&#x89E3;&#x538B;&#x7684; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x8BBF;&#x95EE;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/admin/login &#x5E76;&#x767B;&#x9646;&#x81F3;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x9996;&#x9875;&#xFF0C;&#x4E4B;&#x540E;&#x70B9;&#x51FB;&#x53CB;&#x60C5;&#x94FE;&#x63A5;&#x7BA1;&#x7406;&#x5C31;&#x53EF;&#x4EE5;&#x5BF9;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x4E86;&#xFF0C;&#x6F14;&#x793A;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#x3002; &#x6DFB;&#x52A0;&#x529F;&#x80FD;&#xFF1A; &#x4FEE;&#x6539;&#x529F;&#x80FD;&#xFF1A; &#x5220;&#x9664;&#x529F;&#x80FD;&#xFF1A; &#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-22-ce-bian-lan.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x9996;&#x9875;&#x7684;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x7F16;&#x7801;&#x5B8C;&#x6210;&#xFF0C;&#x4F46;&#x662F;&#x9875;&#x9762;&#x4E0A;&#x90FD;&#x662F;&#x9759;&#x6001;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x4E0E;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x8FDB;&#x884C;&#x5B9E;&#x9645;&#x6570;&#x636E;&#x7684;&#x8BFB;&#x53D6;&#x548C;&#x6E32;&#x67D3;&#xFF0C;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5C06;&#x4F1A;&#x8BB2;&#x89E3;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x4E0A;&#x6570;&#x636E;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x5C06;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x586B;&#x5145;&#x5230;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x524D;&#x9762;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x66F4;&#x591A;&#x7684;&#x504F;&#x91CD;&#x4E8E;&#x9875;&#x9762;&#x5236;&#x4F5C;&#xFF0C;&#x672C;&#x6587;&#x5219;&#x662F;&#x6570;&#x636E;&#x586B;&#x5145;&#x548C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x6570;&#x636E;&#x4E3B;&#x8981;&#x6709;&#x5DE6;&#x4FA7;&#x529F;&#x80FD;&#x680F;&#x4E2D;&#x7684;&#x535A;&#x5BA2;&#x7EDF;&#x8BA1;&#x5217;&#x8868;&#x6570;&#x636E;&#x3001;&#x6807;&#x7B7E;&#x680F;&#x6570;&#x636E;&#x3001;&#x9996;&#x9875;&#x6587;&#x7AE0;&#x5217;&#x8868;&#x6570;&#x636E;&#x4EE5;&#x53CA;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x6700;&#x65B0;&#x53D1;&#x5E03; &#x70B9;&#x51FB;&#x6700;&#x591A; &#x6587;&#x7AE0;&#x5217;&#x8868; &#x5206;&#x9875;&#x529F;&#x80FD; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-26.zip unzip My-Blog-26.zip cd My-Blog&#x70B9;&#x51FB;&#x6700;&#x591A;&#x3001;&#x6700;&#x65B0;&#x53D1;&#x5E03;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x4FA7;&#x8FB9;&#x680F;&#x4E2D;&#x70B9;&#x51FB;&#x6700;&#x591A;&#x548C;&#x6700;&#x65B0;&#x53D1;&#x5E03;&#x4E24;&#x4E2A;&#x680F;&#x76EE;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x586B;&#x5145;&#x5B8C;&#x6210;&#xFF0C;&#x6570;&#x636E;&#x586B;&#x5145;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x786E;&#x8BA4;&#x4E00;&#x4E0B;&#x8FD9;&#x4E24;&#x4E2A;&#x680F;&#x76EE;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x4E2D;&#x7B2C;&#x56DB;&#x90E8;&#x5206;&#xFF0C;&#x8FD9;&#x91CC;&#x4EE5;&#x70B9;&#x51FB;&#x6700;&#x591A;&#x4E3A;&#x4F8B;&#xFF0C;&#x901A;&#x8FC7;&#x56FE;&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x535A;&#x5BA2;&#x5217;&#x8868;&#xFF0C;&#x6240;&#x4EE5;&#x540E;&#x7AEF;&#x80AF;&#x5B9A;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; List &#x683C;&#x5F0F;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5C55;&#x793A;&#x7684;&#x6570;&#x636E;&#x4EC5;&#x4EC5;&#x4E3A;&#x535A;&#x5BA2;&#x6807;&#x9898;&#xFF0C;&#x5373;&#x54EA;&#x4E9B;&#x535A;&#x5BA2;&#x662F;&#x70B9;&#x51FB;&#x91CF;&#x6BD4;&#x8F83;&#x9AD8;&#x7684;&#xFF0C;&#x540C;&#x7406;&#xFF0C;&#x6700;&#x65B0;&#x53D1;&#x5E03;&#x680F;&#x76EE;&#x4E2D;&#x5373;&#x4E3A;&#x54EA;&#x4E9B;&#x535A;&#x5BA2;&#x662F;&#x53D1;&#x5E03;&#x65F6;&#x95F4;&#x8F83;&#x65B0;&#x7684;&#x3002; &#x867D;&#x7136;&#x901A;&#x8FC7;&#x56FE;&#x7247;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x770B;&#x51FA;&#x4E00;&#x4E2A;&#x535A;&#x5BA2;&#x6807;&#x9898;&#x5B57;&#x6BB5;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#x901A;&#x5E38;&#x4F1A;&#x8BBE;&#x8BA1;&#x6210;&#x53EF;&#x8DF3;&#x8F6C;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5373;&#x70B9;&#x51FB;&#x6807;&#x9898;&#x540E;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x8FD8;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x535A;&#x5BA2;&#x5B9E;&#x4F53;&#x7684; id &#x5B57;&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7684;&#x683C;&#x5F0F;&#x5C31;&#x5F97;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x7F16;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.site.blog.my.core.controller.vo; import java.io.Serializable; public class SimpleBlogListVO implements Serializable { private Long blogId; private String blogTitle; public Long getBlogId() { return blogId; } public void setBlogId(Long blogId) { this.blogId = blogId; } public String getBlogTitle() { return blogTitle; } public void setBlogTitle(String blogTitle) { this.blogTitle = blogTitle; } }&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x5B9E;&#x73B0;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0A;&#x8FF0;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x67E5;&#x8BE2; tb_blog &#x6587;&#x7AE0;&#x8868;&#x6765;&#x83B7;&#x53D6;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x67E5;&#x8BE2;&#x65F6;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x5B57;&#x6BB5;&#x4E0D;&#x540C;&#xFF0C;&#x4E00;&#x4E2A;&#x4F1A;&#x4F7F;&#x7528;&#x5230;&#x6D4F;&#x89C8;&#x91CF;&#x5B57;&#x6BB5;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x4F7F;&#x7528;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#xFF0C;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49; service &#x65B9;&#x6CD5;&#xFF0C;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; /** * &#x9996;&#x9875;&#x4FA7;&#x8FB9;&#x680F;&#x6570;&#x636E;&#x5217;&#x8868; * 0-&#x70B9;&#x51FB;&#x6700;&#x591A; 1-&#x6700;&#x65B0;&#x53D1;&#x5E03; * * @param type * @return */ public List&lt;SimpleBlogListVO&gt; getBlogListForIndexPage(int type) { List&lt;SimpleBlogListVO&gt; simpleBlogListVOS = new ArrayList&lt;&gt;(); List&lt;Blog&gt; blogs = blogMapper.findBlogListByType(type, 9); if (!CollectionUtils.isEmpty(blogs)) { for (Blog blog : blogs) { SimpleBlogListVO simpleBlogListVO = new SimpleBlogListVO(); BeanUtils.copyProperties(blog, simpleBlogListVO); simpleBlogListVOS.add(simpleBlogListVO); } } return simpleBlogListVOS; }&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86; getBlogListForIndexPage() &#x65B9;&#x6CD5;&#x5E76;&#x5B9A;&#x4E49; type &#x53C2;&#x6570;&#xFF0C;type &#x7B49;&#x4E8E; 0 &#x65F6;&#x4E3A;&#x67E5;&#x8BE2;&#x70B9;&#x51FB;&#x6700;&#x591A;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#xFF0C;type &#x7B49;&#x4E8E; 1 &#x65F6;&#x4E3A;&#x67E5;&#x8BE2;&#x6700;&#x65B0;&#x53D1;&#x5E03;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x4E3A; SimpleBlogListVO&#xFF0C;&#x65B9;&#x6CD5;&#x903B;&#x8F91;&#x5B9E;&#x73B0;&#x4E3A;&#xFF1A;&#x9996;&#x5148;&#x6839;&#x636E; type &#x5B57;&#x6BB5;&#x7684;&#x4E0D;&#x540C;&#x53BB;&#x67E5;&#x8BE2;&#x5BF9;&#x5E94;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#xFF0C;&#x4F46;&#x662F;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E3A; Blog&#xFF0C;&#x4E4B;&#x540E;&#x5C06; Blog &#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x8F6C;&#x6362;&#x4E3A; SimpleBlogListVO &#x5E76;&#x8FD4;&#x56DE;&#x5373;&#x53EF;&#x3002; &#x5177;&#x4F53;&#x7684; SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findBlogListByType&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog where is_deleted=0 AND blog_status = 1&lt;!-- &#x53D1;&#x5E03;&#x72B6;&#x6001;&#x7684;&#x6587;&#x7AE0; --&gt; &lt;if test=&quot;type!=null and type==0&quot;&gt; order by blog_views desc &lt;/if&gt; &lt;if test=&quot;type!=null and type==1&quot;&gt; order by blog_id desc &lt;/if&gt; limit #{limit} &lt;/select&gt;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x60F3;&#x8981;&#x5C06;&#x6570;&#x636E;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x6E32;&#x67D3;&#x5230;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4E0A;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x5E26;&#x8FC7;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x9996;&#x9875;&#x8BF7;&#x6C42;&#x7684; Controller &#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x67E5;&#x8BE2;&#x5230;&#x7684;&#x6570;&#x636E;&#x653E;&#x5165; request &#x57DF;&#x4E2D;&#xFF0C;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.blog.MyBlogController.java) @GetMapping({&quot;/&quot;, &quot;/index&quot;, &quot;index.html&quot;}) public String index(HttpServletRequest request) { request.setAttribute(&quot;newBlogs&quot;, blogService.getBlogListForIndexPage(1)); request.setAttribute(&quot;hotBlogs&quot;, blogService.getBlogListForIndexPage(0)); request.setAttribute(&quot;pageName&quot;, &quot;&#x9996;&#x9875;&quot;); return &quot;blog/index&quot;; }&#x5206;&#x522B;&#x67E5;&#x51FA;&#x6700;&#x65B0;&#x53D1;&#x5E03;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x548C;&#x70B9;&#x51FB;&#x6700;&#x591A;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x5E76;&#x653E;&#x5165;&#x5230; request &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x5206;&#x522B;&#x53D6;&#x540D;&#x4E3A; newBlogs &#x548C; hotBlogs&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; index &#x6A21;&#x677F;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x3002; index.html &#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/blog/index.html) &lt;div class=&quot;aside-widget&quot;&gt; &lt;header&gt; &lt;h3&gt;&#x70B9;&#x51FB;&#x6700;&#x591A;&lt;/h3&gt; &lt;/header&gt; &lt;div class=&quot;body&quot;&gt; &lt;ul class=&quot;clean-list&quot;&gt; &lt;th:block th:if=&quot;${null != hotBlogs}&quot;&gt; &lt;th:block th:each=&quot;hotBlog : ${hotBlogs}&quot;&gt; &lt;li&gt;&lt;a&gt; &lt;th:block th:text=&quot;${hotBlog.blogTitle}&quot;&gt;&lt;/th:block&gt; &lt;/a&gt;&lt;/li&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;aside-widget&quot;&gt; &lt;header&gt; &lt;h3&gt;&#x6700;&#x65B0;&#x53D1;&#x5E03;&lt;/h3&gt; &lt;/header&gt; &lt;div class=&quot;body&quot;&gt; &lt;ul class=&quot;clean-list&quot;&gt; &lt;th:block th:if=&quot;${null != newBlogs}&quot;&gt; &lt;th:block th:each=&quot;newBlog : ${newBlogs}&quot;&gt; &lt;li&gt;&lt;a&gt; &lt;th:block th:text=&quot;${newBlog.blogTitle}&quot;&gt;&lt;/th:block&gt; &lt;/a&gt;&lt;/li&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt;&#x5728;&#x70B9;&#x51FB;&#x6700;&#x591A;&#x680F;&#x76EE;&#x548C;&#x6700;&#x65B0;&#x53D1;&#x5E03;&#x680F;&#x76EE;&#x5BF9;&#x5E94;&#x7684;&#x4F4D;&#x7F6E;&#x8BFB;&#x53D6; hotBlogs &#x548C; newBlogs&#xFF0C;&#x5E76;&#x4F7F;&#x7528; th:each &#x5FAA;&#x73AF;&#x8BED;&#x6CD5;&#x5C06;&#x6807;&#x9898;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x7531;&#x4E8E;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x8FD8;&#x6CA1;&#x505A;&#xFF0C;a &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x8BE6;&#x60C5;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x6682;&#x65F6;&#x5C31;&#x4E0D;&#x5199;&#x4E86;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x529F;&#x80FD;&#x5B8C;&#x5584;&#x540E;&#x8865;&#x4E0A;&#x3002; &#x4E4B;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x67E5;&#x770B;&#x6570;&#x636E;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5373;&#x4E3A;&#x6B63;&#x786E;&#x7684;&#x4FA7;&#x8FB9;&#x680F;&#x6570;&#x636E;&#x5C55;&#x793A;&#xFF1A; &#x6807;&#x7B7E;&#x680F;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x6570;&#x636E;&#x586B;&#x5145;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x786E;&#x8BA4;&#x4E00;&#x4E0B;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x4E2D;&#x7B2C;&#x4E94;&#x90E8;&#x5206;&#xFF0C;&#x901A;&#x8FC7;&#x56FE;&#x4E2D;&#x7684;&#x4FE1;&#x606F;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x7684;&#x5217;&#x8868;&#xFF0C;&#x5C55;&#x793A;&#x7684;&#x6570;&#x636E;&#x4E3A;&#x6807;&#x7B7E;&#x7684;&#x540D;&#x79F0;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x6570;&#x636E;&#x6709;&#x4E9B;&#x5355;&#x8584;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x8FD9;&#x4E2A;&#x539F;&#x578B;&#x56FE;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x6211;&#x53C8;&#x52A0;&#x4E0A;&#x4E86;&#x6BCF;&#x4E2A;&#x6807;&#x7B7E;&#x5BF9;&#x5E94;&#x7684;&#x6709;&#x591A;&#x5C11;&#x7BC7;&#x6587;&#x7AE0;&#x5728;&#x4F7F;&#x7528;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x91CC;&#x663E;&#x793A;&#x7684;&#x4F1A;&#x662F;&#x6807;&#x7B7E;&#x7684;&#x540D;&#x79F0;&#x548C;&#x5BF9;&#x5E94;&#x7684;&#x535A;&#x5BA2;&#x6570;&#x91CF;&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;&#x3002; &#x5F53;&#x7136;&#x8FD9;&#x91CC;&#x901A;&#x5E38;&#x4E5F;&#x4F1A;&#x8BBE;&#x8BA1;&#x6210;&#x53EF;&#x8DF3;&#x8F6C;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5373;&#x70B9;&#x51FB;&#x6807;&#x7B7E;&#x540E;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x8BE5;&#x6807;&#x7B7E;&#x4E0B;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x8FD8;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#x7684;&#x4E3B;&#x952E;&#x5B57;&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7684;&#x683C;&#x5F0F;&#x5C31;&#x5F97;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x7F16;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.site.blog.my.core.entity; public class BlogTagCount { private Integer tagId; private String tagName; private Integer tagCount; public Integer getTagId() { return tagId; } public void setTagId(Integer tagId) { this.tagId = tagId; } public String getTagName() { return tagName; } public void setTagName(String tagName) { this.tagName = tagName; } public Integer getTagCount() { return tagCount; } public void setTagCount(Integer tagCount) { this.tagCount = tagCount; } }&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x5B9E;&#x73B0;&#x901A;&#x8FC7;&#x524D;&#x6587;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x6211;&#x4EEC;&#x4E5F;&#x5927;&#x81F4;&#x7684;&#x6E05;&#x695A;&#x4E86;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x67E5;&#x8BE2;&#x7684;&#x662F;&#x4EC0;&#x4E48;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x4E5F;&#x4E0D;&#x53EF;&#x80FD;&#x628A;&#x6240;&#x6709;&#x7684;&#x6807;&#x7B7E;&#x6570;&#x636E;&#x90FD;&#x67E5;&#x51FA;&#x6765;&#xFF0C;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x91CF;&#x592A;&#x5927;&#x7684;&#x8BDD;&#x5168;&#x90E8;&#x663E;&#x793A;&#x5728;&#x9875;&#x9762;&#x4F1A;&#x6709;&#x4E9B;&#x602A;&#xFF0C;&#x6240;&#x4EE5;&#x6807;&#x7B7E;&#x680F;&#x7684;&#x6570;&#x636E;&#x6211;&#x8BBE;&#x8BA1;&#x6210;&#x4E86;&#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x4F7F;&#x7528;&#x6700;&#x591A;&#x7684; 20 &#x4E2A;&#x6807;&#x7B7E;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x7684;&#x83B7;&#x53D6;&#x4F1A;&#x6BD4;&#x8F83;&#x590D;&#x6742;&#xFF0C;&#x56E0;&#x4E3A;&#x6807;&#x7B7E;&#x548C;&#x6587;&#x7AE0;&#x4F1A;&#x6D89;&#x53CA;&#x5230;&#x4E09;&#x5F20;&#x8868;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;tb_blog &#x8868;&#x3001;tb_blog_tag &#x8868;&#x4EE5;&#x53CA; tb_blog_tag_relation &#x8868;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49; service &#x65B9;&#x6CD5;&#xFF0C;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.TagServiceImpl.java&#xFF09;&#xFF1A; public List&lt;BlogTagCount&gt; getBlogTagCountForIndex() { return blogTagMapper.getTagCount(); }&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86; getBlogTagCountForIndex() &#x65B9;&#x6CD5;&#xFF0C;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x662F;&#x76F4;&#x63A5;&#x8FD4;&#x56DE; blogTagMapper.getTagCount() &#x6267;&#x884C;&#x540E;&#x7684;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x5176;&#x5B9E;&#x5E76;&#x6CA1;&#x6709;&#x505A;&#x4EC0;&#x4E48;&#x903B;&#x8F91;&#xFF0C;&#x5B9E;&#x73B0;&#x7684;&#x96BE;&#x70B9;&#x90FD;&#x5728; SQL &#x8BED;&#x53E5;&#x3002; &#x5177;&#x4F53;&#x7684; SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogTagMapper.xml&#xFF09;&#xFF1A; &#x9996;&#x5148;&#x5728; Mapper &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; ResultMap&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;resultMap id=&quot;BaseCountResultMap&quot; type=&quot;com.site.blog.my.core.entity.BlogTagCount&quot;&gt; &lt;id column=&quot;tag_id&quot; jdbcType=&quot;INTEGER&quot; property=&quot;tagId&quot;/&gt; &lt;result column=&quot;tag_count&quot; jdbcType=&quot;INTEGER&quot; property=&quot;tagCount&quot;/&gt; &lt;result column=&quot;tag_name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;tagName&quot;/&gt; &lt;/resultMap&gt;&#x4E4B;&#x540E;&#x662F; getTagCount() &#x65B9;&#x6CD5;&#x7684; SQL &#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;select id=&quot;getTagCount&quot; resultMap=&quot;BaseCountResultMap&quot;&gt; SELECT t_r.*,t.tag_name FROM (SELECT r.tag_id,r.tag_count FROM (SELECT tag_id ,COUNT(*) AS tag_count FROM (SELECT tr.tag_id FROM tb_blog_tag_relation tr LEFT JOIN tb_blog b ON tr.blog_id = b.blog_id WHERE b.is_deleted=0) trb GROUP BY tag_id) r ORDER BY tag_count DESC LIMIT 20 ) AS t_r LEFT JOIN tb_blog_tag t ON t_r.tag_id = t.tag_id WHERE t.is_deleted=0 &lt;/select&gt;&#x4EE5;&#x4E0A;&#x5C31;&#x662F;&#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x4F7F;&#x7528;&#x6700;&#x591A;&#x7684; 20 &#x4E2A;&#x6807;&#x7B7E;&#x6570;&#x636E;&#x7684; SQL &#x8BED;&#x53E5;&#xFF0C;&#x7528;&#x5230;&#x4E86;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#x4EE5;&#x53CA;&#x805A;&#x5408;&#x65B9;&#x6CD5;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x6709;&#x4E9B;&#x590D;&#x6742;&#xFF0C;&#x67E5;&#x8BE2;&#x7684;&#x5C42;&#x7EA7;&#x4E5F;&#x6DF1;&#xFF0C;&#x8FD9;&#x91CC;&#x544A;&#x8BC9;&#x5927;&#x5BB6;&#x8BE5;&#x600E;&#x4E48;&#x66F4;&#x597D;&#x7684;&#x7406;&#x89E3;&#x8BE5; SQL&#xFF0C;&#x867D;&#x7136;&#x67E5;&#x8BE2;&#x5C42;&#x7EA7;&#x6DF1;&#xFF0C;&#x5728;&#x5B66;&#x4E60;&#x65F6;&#x4E5F;&#x8981;&#x4E00;&#x5C42;&#x4E00;&#x5C42;&#x7684;&#x53BB;&#x6267;&#x884C;&#x548C;&#x7406;&#x89E3;&#x3002; &#x7B2C;&#x4E00;&#x5C42; SQL&#xFF1A; SELECT tr.tag_id FROM tb_blog_tag_relation tr LEFT JOIN tb_blog b ON tr.blog_id = b.blog_id WHERE b.is_deleted=0 tb_blog_tag_relation &#x8868;&#x548C; tb_blog &#x8868;&#x901A;&#x8FC7; blog_id &#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x5DE6;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x8FC7;&#x6EE4;&#x6389;&#x5DF2;&#x5220;&#x9664;&#x535A;&#x5BA2;&#x8BB0;&#x5F55;&#x7684;&#x5173;&#x8054;&#x6570;&#x636E;&#x3002; &#x7B2C;&#x4E8C;&#x5C42; SQL&#xFF1A; SELECT tag_id ,COUNT(*) AS tag_count FROM (SELECT tr.tag_id FROM tb_blog_tag_relation tr LEFT JOIN tb_blog b ON tr.blog_id = b.blog_id WHERE b.is_deleted=0) trb GROUP BY tag_id &#x76F4;&#x63A5;&#x6839;&#x636E;&#x7B2C;&#x4E00;&#x5C42;&#x67E5;&#x8BE2;&#x540E;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x4F7F;&#x7528; GROUP BY tag_id &#x6765;&#x8FDB;&#x884C;&#x6570;&#x91CF;&#x7EDF;&#x8BA1;&#xFF0C;&#x8FD9;&#x4E00;&#x5C42; SQL &#x6267;&#x884C;&#x540E;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x662F;&#x6807;&#x7B7E;&#x7684;&#x4E3B;&#x952E; tag_id &#x4EE5;&#x53CA;&#x8BE5;&#x4E3B;&#x952E;&#x4E0B;&#x5171;&#x6709;&#x591A;&#x5C11;&#x6761;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x3002; &#x7B2C;&#x4E09;&#x5C42; SQL&#xFF1A; SELECT r.tag_id,r.tag_count FROM (SELECT tag_id ,COUNT(*) AS tag_count FROM (SELECT tr.tag_id FROM tb_blog_tag_relation tr LEFT JOIN tb_blog b ON tr.blog_id = b.blog_id WHERE b.is_deleted=0) trb GROUP BY tag_id) r ORDER BY tag_count DESC LIMIT 20 &#x76F4;&#x63A5;&#x6839;&#x636E;&#x7B2C;&#x4E8C;&#x5C42;&#x67E5;&#x8BE2;&#x540E;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x6839;&#x636E; tag_count &#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x540C;&#x65F6;&#x53D6;&#x51FA;&#x6570;&#x91CF;&#x6700;&#x591A;&#x7684; 20 &#x6761;&#x6570;&#x636E;&#x3002; &#x7B2C;&#x56DB;&#x5C42; SQL&#xFF1A; &#x5373;&#x662F;&#x524D;&#x6587;&#x4E2D;&#x5199;&#x5728; Mapper &#x6587;&#x4EF6;&#x4E2D;&#x7684; SQL &#x8BED;&#x53E5;&#xFF0C;&#x8FD9;&#x4E00;&#x5C42;&#x4E3B;&#x8981;&#x662F;&#x5BF9;&#x7B2C;&#x4E09;&#x5C42;&#x67E5;&#x8BE2;&#x540E;&#x7684;&#x6570;&#x636E;&#x4E0E; tb_blog_tag &#x6807;&#x7B7E;&#x8868;&#x505A;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#xFF0C;&#x628A;&#x524D;&#x4E00;&#x6B65;&#x67E5;&#x8BE2;&#x51FA;&#x7684; 20 &#x6761;&#x8BB0;&#x5F55;&#x7684;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x67E5;&#x51FA;&#x3002; &#x5982;&#x679C;&#x6709;&#x540C;&#x5B66;&#x5BF9;&#x8FD9;&#x4E2A; SQL &#x6050;&#x60E7;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x5341;&#x4E09;&#x7ED9;&#x51FA;&#x7684;&#x6B65;&#x9AA4;&#x53BB;&#x7406;&#x89E3;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x6700;&#x597D;&#x662F;&#x6309;&#x7167;&#x5341;&#x4E09;&#x7ED9;&#x51FA;&#x7684;&#x6BCF;&#x4E00;&#x5C42;&#x7684; SQL &#x53BB;&#x5B9E;&#x9645;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x66F4;&#x597D;&#x7684;&#x7406;&#x89E3;&#x8FD9;&#x4E9B;&#x67E5;&#x8BE2;&#x7684;&#x542B;&#x4E49;&#x3002; &#x6570;&#x636E;&#x6E32;&#x67D3;&#x9996;&#x5148;&#x8981;&#x5728;&#x9996;&#x9875;&#x8BF7;&#x6C42;&#x7684; Controller &#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x67E5;&#x8BE2;&#x5230;&#x7684;&#x6570;&#x636E;&#x653E;&#x5165; request &#x57DF;&#x4E2D;&#xFF0C;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.blog.MyBlogController.java) @GetMapping({&quot;/&quot;, &quot;/index&quot;, &quot;index.html&quot;}) public String index(HttpServletRequest request) { request.setAttribute(&quot;newBlogs&quot;, blogService.getBlogListForIndexPage(1)); request.setAttribute(&quot;hotBlogs&quot;, blogService.getBlogListForIndexPage(0)); request.setAttribute(&quot;hotTags&quot;, tagService.getBlogTagCountForIndex()); request.setAttribute(&quot;pageName&quot;, &quot;&#x9996;&#x9875;&quot;); return &quot;blog/index&quot;; }&#x67E5;&#x51FA;&#x6807;&#x7B7E;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x5E76;&#x653E;&#x5165;&#x5230; request &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x5BF9;&#x8C61;&#x547D;&#x540D;&#x4E3A; hotTags&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; index &#x6A21;&#x677F;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x3002; index.html &#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/blog/index.html) &lt;div class=&quot;aside-widget&quot;&gt; &lt;header&gt; &lt;h3&gt;&#x6807;&#x7B7E;&#x680F;&lt;/h3&gt; &lt;/header&gt; &lt;div class=&quot;body clearfix&quot;&gt; &lt;ul class=&quot;tags&quot;&gt; &lt;th:block th:if=&quot;${null != hotTags}&quot;&gt; &lt;th:block th:each=&quot;hotTag : ${hotTags}&quot;&gt; &lt;li&gt; &lt;a&gt; &lt;th:block th:text=&quot;${hotTag.tagName}+&apos;(&apos;+${hotTag.tagCount}+&apos;)&apos;&quot;&gt;&lt;/th:block&gt; &lt;/a&gt; &lt;/li&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/ul&gt; &lt;/div&gt; &lt;/div&gt;&#x5728;&#x6807;&#x7B7E;&#x680F;&#x680F;&#x76EE;&#x5BF9;&#x5E94;&#x7684;&#x4F4D;&#x7F6E;&#x8BFB;&#x53D6; hotTags &#x5BF9;&#x8C61;&#xFF0C;&#x5E76;&#x4F7F;&#x7528; th:each &#x5FAA;&#x73AF;&#x8BED;&#x6CD5;&#x5C06;&#x8868;&#x60C5;&#x7684;&#x540D;&#x79F0;&#x548C;&#x6570;&#x91CF;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;a &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x6682;&#x65F6;&#x5C31;&#x4E0D;&#x5199;&#x4E86;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x535A;&#x5BA2;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5B8C;&#x5584;&#x540E;&#x8865;&#x4E0A;&#x3002; &#x4E4B;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x67E5;&#x770B;&#x6570;&#x636E;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5373;&#x4E3A;&#x6B63;&#x786E;&#x7684;&#x4FA7;&#x8FB9;&#x680F;&#x6570;&#x636E;&#x5C55;&#x793A;&#xFF1A; &#x535A;&#x5BA2;&#x5217;&#x8868;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x4E5F;&#x662F;&#x8F83;&#x4E3A;&#x590D;&#x6742;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x2013;&#x9996;&#x9875;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x548C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x8FD9;&#x4E24;&#x90E8;&#x5206;&#x9700;&#x8981;&#x586B;&#x5145;&#x7684;&#x6570;&#x636E;&#x5C31;&#x662F;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x548C;&#x5206;&#x9875;&#x6309;&#x94AE;&#x4EE5;&#x53CA;&#x8DF3;&#x8F6C;&#x903B;&#x8F91;&#xFF0C;&#x5206;&#x9875;&#x6309;&#x94AE;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#xFF0C;&#x53EA;&#x662F;&#x628A;&#x9875;&#x7801;&#x653E;&#x4E0A;&#x53BB;&#x5373;&#x53EF;&#xFF0C;&#x6211;&#x4EEC;&#x4E3B;&#x8981;&#x786E;&#x8BA4;&#x4E00;&#x4E0B;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5373;&#x4E3A;&#x9996;&#x9875;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#x9700;&#x8981;&#x6E32;&#x67D3;&#x7684;&#x5185;&#x5BB9;&#x3002; &#x9996;&#x5148;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x80AF;&#x5B9A;&#x662F;&#x4E00;&#x4E2A; List &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x6709;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x5206;&#x9875;&#x5B57;&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x6700;&#x7EC8;&#x63A5;&#x6536;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x683C;&#x5F0F;&#x4E3A; PageResult &#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5355;&#x9879;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x5219;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4E0B;&#x56FE;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x786E;&#x8BA4;&#x3002; &#x901A;&#x8FC7;&#x56FE;&#x7247;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x535A;&#x5BA2;&#x6807;&#x9898;&#x5B57;&#x6BB5;&#x3001;&#x9884;&#x89C8;&#x56FE;&#x5B57;&#x6BB5;&#x3001;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x5B57;&#x6BB5;&#x3001;&#x5206;&#x7C7B;&#x56FE;&#x7247;&#x5B57;&#x6BB5;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x91CC;&#x901A;&#x5E38;&#x4F1A;&#x8BBE;&#x8BA1;&#x6210;&#x53EF;&#x8DF3;&#x8F6C;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5373;&#x70B9;&#x51FB;&#x6807;&#x9898;&#x6216;&#x8005;&#x9884;&#x89C8;&#x56FE;&#x540E;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x6216;&#x8005;&#x5206;&#x7C7B;&#x56FE;&#x7247;&#x4E5F;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x535A;&#x5BA2;&#x5206;&#x7C7B;&#x9875;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x8FD8;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x535A;&#x5BA2;&#x5B9E;&#x4F53;&#x7684; id &#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B9E;&#x4F53;&#x7684; id &#x5B57;&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7684;&#x683C;&#x5F0F;&#x5C31;&#x5F97;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x7F16;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.site.blog.my.core.controller.vo; import java.io.Serializable; public class BlogListVO implements Serializable { private Long blogId; private String blogTitle; private String blogCoverImage; private Integer blogCategoryId; private String blogCategoryIcon; private String blogCategoryName; public Long getBlogId() { return blogId; } public void setBlogId(Long blogId) { this.blogId = blogId; } public String getBlogTitle() { return blogTitle; } public void setBlogTitle(String blogTitle) { this.blogTitle = blogTitle; } public String getBlogCoverImage() { return blogCoverImage; } public void setBlogCoverImage(String blogCoverImage) { this.blogCoverImage = blogCoverImage; } public Integer getBlogCategoryId() { return blogCategoryId; } public void setBlogCategoryId(Integer blogCategoryId) { this.blogCategoryId = blogCategoryId; } public String getBlogCategoryName() { return blogCategoryName; } public void setBlogCategoryName(String blogCategoryName) { this.blogCategoryName = blogCategoryName; } public String getBlogCategoryIcon() { return blogCategoryIcon; } public void setBlogCategoryIcon(String blogCategoryIcon) { this.blogCategoryIcon = blogCategoryIcon; } }&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x5B9E;&#x73B0;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0A;&#x8FF0;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x67E5;&#x8BE2; tb_blog &#x6587;&#x7AE0;&#x8868;&#x548C; tb_blog_category &#x8868;&#x6765;&#x83B7;&#x53D6;&#xFF0C;&#x540C;&#x65F6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4F20;&#x53C2;&#x65F6;&#x4E5F;&#x9700;&#x8981;&#x4F20;&#x4E0A;&#x6B64;&#x65F6;&#x7684;&#x9875;&#x7801;&#xFF0C;&#x9996;&#x9875;&#x9ED8;&#x8BA4;&#x662F;&#x7B2C; 1 &#x9875;&#xFF0C;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49; service &#x65B9;&#x6CD5;&#xFF0C;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; /** * &#x83B7;&#x53D6;&#x9996;&#x9875;&#x6587;&#x7AE0;&#x5217;&#x8868; * * @param page * @return */ public PageResult getBlogsForIndexPage(int page) { Map params = new HashMap(); params.put(&quot;page&quot;, page); //&#x6BCF;&#x9875;8&#x6761; params.put(&quot;limit&quot;, 8); params.put(&quot;blogStatus&quot;, 1);//&#x8FC7;&#x6EE4;&#x53D1;&#x5E03;&#x72B6;&#x6001;&#x4E0B;&#x7684;&#x6570;&#x636E; PageQueryUtil pageUtil = new PageQueryUtil(params); List&lt;Blog&gt; blogList = blogMapper.findBlogList(pageUtil); List&lt;BlogListVO&gt; blogListVOS = getBlogListVOsByBlogs(blogList); int total = blogMapper.getTotalBlogs(pageUtil); PageResult pageResult = new PageResult(blogListVOS, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } /** * &#x6570;&#x636E;&#x586B;&#x5145; */ private List&lt;BlogListVO&gt; getBlogListVOsByBlogs(List&lt;Blog&gt; blogList) { List&lt;BlogListVO&gt; blogListVOS = new ArrayList&lt;&gt;(); if (!CollectionUtils.isEmpty(blogList)) { List&lt;Integer&gt; categoryIds = blogList.stream().map(Blog::getBlogCategoryId).collect(Collectors.toList()); Map&lt;Integer, String&gt; blogCategoryMap = new HashMap&lt;&gt;(); if (!CollectionUtils.isEmpty(categoryIds)) { List&lt;BlogCategory&gt; blogCategories = categoryMapper.selectByCategoryIds(categoryIds); if (!CollectionUtils.isEmpty(blogCategories)) { blogCategoryMap = blogCategories.stream().collect(Collectors.toMap(BlogCategory::getCategoryId, BlogCategory::getCategoryIcon, (key1, key2) -&gt; key2)); } } for (Blog blog : blogList) { BlogListVO blogListVO = new BlogListVO(); BeanUtils.copyProperties(blog, blogListVO); if (blogCategoryMap.containsKey(blog.getBlogCategoryId())) { blogListVO.setBlogCategoryIcon(blogCategoryMap.get(blog.getBlogCategoryId())); } else { blogListVO.setBlogCategoryId(0); blogListVO.setBlogCategoryName(&quot;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&quot;); blogListVO.setBlogCategoryIcon(&quot;/admin/dist/img/category/1.png&quot;); } blogListVOS.add(blogListVO); } } return blogListVOS; }&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86; getBlogsForIndexPage() &#x65B9;&#x6CD5;&#x5E76;&#x5B9A;&#x4E49; page &#x53C2;&#x6570;&#x6765;&#x786E;&#x5B9A;&#x67E5;&#x8BE2;&#x7B2C;&#x51E0;&#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x901A;&#x8FC7; SQL &#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E;&#xFF0C;&#x518D;&#x4E4B;&#x540E;&#x662F;&#x586B;&#x5145;&#x6570;&#x636E;&#xFF0C;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x662F; tb_blog &#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x518D;&#x53BB;&#x5206;&#x7C7B;&#x8868;&#x4E2D;&#x67E5;&#x8BE2;&#x5E76;&#x8BBE;&#x7F6E;&#x5230; BlogListVO &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x6700;&#x7EC8;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x662F; PageResult &#x5BF9;&#x8C61;&#x3002; &#x5177;&#x4F53;&#x7684; SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findBlogList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog where is_deleted=0 &lt;if test=&quot;blogStatus!=null&quot;&gt; AND blog_status = #{blogStatus} &lt;/if&gt; order by blog_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalBlogs&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog where is_deleted=0 &lt;if test=&quot;blogStatus!=null&quot;&gt; AND blog_status = #{blogStatus} &lt;/if&gt; &lt;/select&gt;&#x5728;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x535A;&#x5BA2;&#x5217;&#x8868; SQL &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x4E8E; blog_status &#x5B57;&#x6BB5;&#x7684;&#x8FC7;&#x6EE4;&#xFF0C;&#x56E0;&#x4E3A;&#x9996;&#x9875;&#x80AF;&#x5B9A;&#x663E;&#x793A;&#x5DF2;&#x53D1;&#x5E03;&#x72B6;&#x6001;&#x7684;&#x535A;&#x5BA2;&#x3002; &#x6570;&#x636E;&#x6E32;&#x67D3;&#x60F3;&#x8981;&#x5C06;&#x6570;&#x636E;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x6E32;&#x67D3;&#x5230;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4E0A;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x5E26;&#x8FC7;&#x6765;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x9996;&#x9875;&#x8BF7;&#x6C42;&#x7684; Controller &#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x67E5;&#x8BE2;&#x5230;&#x7684;&#x6570;&#x636E;&#x653E;&#x5165; request &#x57DF;&#x4E2D;&#xFF0C;&#x56E0;&#x4E3A;&#x6709;&#x5206;&#x9875;&#x903B;&#x8F91;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5BF9;&#x539F;&#x9996;&#x9875;&#x8DF3;&#x8F6C;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.blog.MyBlogController.java) /** * &#x9996;&#x9875;(&#x53D6;&#x7B2C;&#x4E00;&#x9875;&#x6570;&#x636E;) * * @return */ @GetMapping({&quot;/&quot;, &quot;/index&quot;, &quot;index.html&quot;}) public String index(HttpServletRequest request) { return this.page(request, 1); } /** * &#x9996;&#x9875; &#x5206;&#x9875;&#x6570;&#x636E; * * @return */ @GetMapping({&quot;/page/{pageNum}&quot;}) public String page(HttpServletRequest request, @PathVariable(&quot;pageNum&quot;) int pageNum) { PageResult blogPageResult = blogService.getBlogsForIndexPage(pageNum); if (blogPageResult == null) { return &quot;error/error_404&quot;; } request.setAttribute(&quot;blogPageResult&quot;, blogPageResult); request.setAttribute(&quot;newBlogs&quot;, blogService.getBlogListForIndexPage(1)); request.setAttribute(&quot;hotBlogs&quot;, blogService.getBlogListForIndexPage(0)); request.setAttribute(&quot;hotTags&quot;, tagService.getBlogTagCountForIndex()); request.setAttribute(&quot;pageName&quot;, &quot;&#x9996;&#x9875;&quot;); return &quot;blog/index&quot;; }&#x6DFB;&#x52A0;&#x4E86; page() &#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5904;&#x7406;&#x5206;&#x9875;&#x903B;&#x8F91;&#xFF0C;&#x539F;&#x6765;&#x7684;&#x903B;&#x8F91;&#x5904;&#x7406;&#x90FD;&#x653E;&#x5728;&#x4E86;&#x8BE5;&#x65B9;&#x6CD5;&#x4E2D;&#xFF0C;&#x9996;&#x9875;&#x65B9;&#x6CD5;&#x662F;&#x7B2C; 1 &#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x9ED8;&#x8BA4;&#x8C03;&#x7528; page() &#x65B9;&#x6CD5;&#x7684;&#x7B2C; 1 &#x9875;&#x5373;&#x53EF;&#xFF0C;&#x6839;&#x636E;&#x9875;&#x7801;&#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E; blogPageResult &#x5E76;&#x653E;&#x5165;&#x5230; request &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; index &#x6A21;&#x677F;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x3002; index.html &#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/blog/index.html) &lt;div class=&quot;col-md-8 blog-main&quot;&gt; &lt;th:block th:if=&quot;${null != blogPageResult}&quot;&gt; &lt;th:block th:each=&quot;blog,iterStat : ${blogPageResult.list}&quot;&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card&quot;&gt; &lt;article class=&quot;blog-summary&quot;&gt; &lt;header&gt; &lt;a&gt; &lt;img th:src=&quot;@{${blog.blogCoverImage}}&quot; alt=&quot;&quot;&gt; &lt;h3&gt; &lt;th:block th:text=&quot;${blog.blogTitle}&quot;&gt;&lt;/th:block&gt; &lt;/h3&gt; &lt;/a&gt; &lt;div class=&quot;blog-category&quot;&gt; &lt;a&gt; &lt;div class=&quot;blog-category-icon&quot;&gt; &lt;img th:src=&quot;@{${blog.blogCategoryIcon}}&quot; alt=&quot;&quot;&gt; &lt;/div&gt; &lt;div class=&quot;blog-category&quot; th:utext=&quot;${blog.blogCategoryName}&quot;&gt; &lt;/div&gt; &lt;/a&gt; &lt;/div&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;th:block th:if=&quot;${iterStat.last and iterStat.count%2==1}&quot;&gt; &lt;div class=&quot;col-md-6 col-sm-6 blog-main-card&quot;&gt; &lt;/div&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;th:block th:if=&quot;${null != blogPageResult}&quot;&gt; &lt;ul class=&quot;blog-pagination&quot;&gt; &lt;li th:class=&quot;${blogPageResult.currPage==1}?&apos;disabled&apos; : &apos;&apos;&quot;&gt;&lt;a th:href=&quot;@{${blogPageResult.currPage==1}?&apos;##&apos;:&apos;/page/&apos; + ${blogPageResult.currPage-1}}&quot;&gt;&amp;laquo;&lt;/a&gt; &lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage-3 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/page/&apos; + ${blogPageResult.currPage-3}}&quot; th:text=&quot;${blogPageResult.currPage -3}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage-2 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/page/&apos; + ${blogPageResult.currPage-2}}&quot; th:text=&quot;${blogPageResult.currPage -2}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage-1 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/page/&apos; + ${blogPageResult.currPage-1}}&quot; th:text=&quot;${blogPageResult.currPage -1}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot; th:text=&quot;${blogPageResult.currPage}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage+1 &lt;=blogPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/page/&apos; + ${blogPageResult.currPage+1}}&quot; th:text=&quot;${blogPageResult.currPage +1}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage+2 &lt;=blogPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/page/&apos; + ${blogPageResult.currPage+2}}&quot; th:text=&quot;${blogPageResult.currPage +2}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage+3 &lt;=blogPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/page/&apos; + ${blogPageResult.currPage+3}}&quot; th:text=&quot;${blogPageResult.currPage +3}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:class=&quot;${blogPageResult.currPage==blogPageResult.totalPage}?&apos;disabled&apos; : &apos;&apos;&quot;&gt;&lt;a th:href=&quot;@{${blogPageResult.currPage==blogPageResult.totalPage}?&apos;##&apos; : &apos;/page/&apos; + ${blogPageResult.currPage+1}}&quot;&gt;&amp;raquo;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/th:block&gt; &lt;/div&gt;&#x5728;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x533A;&#x57DF;&#x548C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x533A;&#x57DF;&#x5BF9;&#x5E94;&#x7684;&#x4F4D;&#x7F6E;&#x8BFB;&#x53D6; blogPageResult &#x5BF9;&#x8C61;&#x4E2D;&#x7684; list &#x6570;&#x636E;&#x548C;&#x5206;&#x9875;&#x6570;&#x636E;&#xFF0C;list &#x6570;&#x636E;&#x4E3A;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528; th:each &#x5FAA;&#x73AF;&#x8BED;&#x6CD5;&#x5C06;&#x6807;&#x9898;&#x3001;&#x9884;&#x89C8;&#x56FE;&#x3001;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x8FD8;&#x6CA1;&#x505A;&#xFF0C;a &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x8BE6;&#x60C5;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x4F1A;&#x5728;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x529F;&#x80FD;&#x5B8C;&#x5584;&#x540E;&#x8865;&#x4E0A;&#xFF0C;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x5206;&#x9875;&#x5B57;&#x6BB5; currPage(&#x5F53;&#x524D;&#x9875;&#x7801;)&#x548C; totalPage(&#x603B;&#x9875;&#x7801;)&#x5C06;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#x3002; &#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x67E5;&#x770B;&#x6570;&#x636E;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5373;&#x4E3A;&#x6B63;&#x786E;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x548C;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x70B9;&#x51FB;&#x5206;&#x9875;&#x6309;&#x94AE;&#x5219;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x5206;&#x9875;&#x6570;&#x636E;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x529F;&#x80FD;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x3002; &#x603B;&#x7ED3;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5C06;&#x4F1A;&#x8BB2;&#x89E3;&#x6570;&#x636E;&#x7684;&#x67E5;&#x8BE2;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x586B;&#x5145;&#x5230;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x5E76;&#x5206;&#x6210;&#x4E09;&#x4E2A;&#x90E8;&#x5206;&#x5206;&#x522B;&#x8BB2;&#x89E3;&#x4E86;&#x4FA7;&#x8FB9;&#x680F;&#x3001;&#x6807;&#x7B7E;&#x680F;&#x3001;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x3001;&#x5206;&#x9875;&#x6309;&#x94AE;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x7684;&#x67E5;&#x8BE2;&#x4EE5;&#x53CA;&#x9875;&#x9762;&#x6E32;&#x67D3;&#xFF0C;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x96BE;&#x70B9;&#x6587;&#x4E2D;&#x4E5F;&#x90FD;&#x4E00;&#x4E00;&#x4F5C;&#x51FA;&#x4E86;&#x89E3;&#x91CA;&#xFF0C;&#x5E0C;&#x671B;&#x4E0D;&#x7406;&#x89E3;&#x7684;&#x540C;&#x5B66;&#x591A;&#x770B;&#x51E0;&#x904D;&#xFF0C;&#x6700;&#x91CD;&#x8981;&#x7684;&#x529F;&#x80FD;&#x662F;&#x5206;&#x9875;&#xFF0C;&#x4E0E;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x4F7F;&#x7528; JqGrid &#x63D2;&#x4EF6;&#x5B9E;&#x73B0;&#x5206;&#x9875;&#x4E0D;&#x540C;&#xFF0C;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x7684;&#x5206;&#x9875;&#x5E76;&#x6CA1;&#x6709;&#x501F;&#x52A9;&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#xFF0C;&#x800C;&#x662F;&#x4F7F;&#x7528; Thymeleaf &#x6807;&#x7B7E;&#x4EE5;&#x53CA;&#x5224;&#x65AD;&#x8BED;&#x53E5;&#x6839;&#x636E;&#x9875;&#x7801;&#x5B57;&#x6BB5;&#x6E32;&#x67D3;&#x51FA;&#x5206;&#x9875;&#x6309;&#x94AE;&#x3002;&#x6700;&#x540E;&#x63D0;&#x9192;&#x4E00;&#x4E0B;&#xFF0C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x6700;&#x597D;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x589E;&#x52A0;&#x4E00;&#x4E9B;&#x535A;&#x5BA2;&#x8BB0;&#x5F55;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x4F1A;&#x66F4;&#x597D;&#x7684;&#x6D4B;&#x8BD5;&#x8BE5;&#x529F;&#x80FD;&#x3002; &#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5230;&#x6B64;&#x7ED3;&#x675F;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-25-cuo-wu-ye-mian.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x5728; SSM &#x6216;&#x8005; SSH &#x7EC4;&#x5408;&#x6846;&#x67B6;&#x5F00;&#x53D1; web &#x9879;&#x76EE;&#x65F6;&#xFF0C;&#x60F3;&#x8981;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x7684;&#x8BDD;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728; web.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x5373;&#x53EF;&#xFF0C;&#x4F46;&#x662F;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x672C;&#x5B9E;&#x9A8C;&#x5C06;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x8FDB;&#x884C;&#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x7684;&#x914D;&#x7F6E;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x9875;&#x9762; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x4E3A;&#x4E86;&#x4F7F;&#x5F97;&#x7528;&#x6237;&#x83B7;&#x5F97;&#x66F4;&#x53CB;&#x597D;&#x7684;&#x4EA4;&#x4E92;&#x4F53;&#x9A8C;&#xFF0C;&#x5BF9;&#x4E8E;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x5E38;&#x5E38;&#x4F1A;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x8FD9;&#x4E9B;&#x9875;&#x9762;&#x901A;&#x5E38;&#x4F1A;&#x5355;&#x72EC;&#x8BBE;&#x8BA1;&#x548C;&#x5B9E;&#x73B0;&#xFF0C;&#x9875;&#x9762;&#x7684;&#x89C6;&#x89C9;&#x6548;&#x679C;&#x548C;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x5F80;&#x5F80;&#x4F1A;&#x66F4;&#x52A0;&#x4E30;&#x5BCC;&#x3002; &#x5728; SSM &#x6216;&#x8005; SSH &#x7EC4;&#x5408;&#x6846;&#x67B6;&#x5F00;&#x53D1; web &#x9879;&#x76EE;&#x65F6;&#xFF0C;&#x60F3;&#x8981;&#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x901A;&#x5E38;&#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x62E6;&#x622A;&#x6216;&#x8005;&#x5728; web.xml &#x4E2D;&#x8BBE;&#x7F6E;&#x5BF9;&#x4E8E;&#x9519;&#x8BEF;&#x7801;&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x5373;&#x53EF;&#xFF0C;&#x7136;&#x800C;&#x5230;&#x4E86; Spring Boot &#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x5DF2;&#x7ECF;&#x6CA1;&#x6709;&#x4E86;&#x4E4B;&#x524D;&#x7684; web.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;SpringBootServletInitializer &#x521D;&#x59CB;&#x5316; Servlet &#x4EE3;&#x66FF;&#x4E86; web.xml&#xFF0C;&#x867D;&#x7136; Spring Boot &#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x80FD;&#x4E0D;&#x592A;&#x80FD;&#x591F;&#x6EE1;&#x8DB3;&#x5B9E;&#x9645;&#x5EFA;&#x7AD9;&#x65F6;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x7B80;&#x5355;&#x7684;&#x6574;&#x7406;&#x4E86;&#x4E24;&#x4E2A;&#x7F3A;&#x70B9;&#x3002; &#x9996;&#x5148;&#x662F;&#x9875;&#x9762;&#x6548;&#x679C;&#x8F83;&#x4E3A;&#x5355;&#x8C03;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x5BF9;&#x4E8E;&#x6211;&#x4EEC;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x5927;&#x90E8;&#x5206;&#x9875;&#x9762;&#x90FD;&#x6709;&#x5370;&#x8C61;&#xFF0C;&#x867D;&#x7136;&#x8FD9;&#x4E2A;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x7684;&#x9875;&#x9762;&#x6548;&#x679C;&#x4E0D;&#x81F3;&#x4E8E;&#x8BF4;&#x662F;&#x7F8E;&#x8F6E;&#x7F8E;&#x5942;&#xFF0C;&#x4F46;&#x662F;&#x89C6;&#x89C9;&#x6548;&#x679C;&#x4E5F;&#x8FD8;&#x662F;&#x6BD4;&#x8F83;&#x7B80;&#x6D01;&#x7F8E;&#x89C2;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x7528;&#x6237;&#x5728;&#x6D4F;&#x89C8;&#x535A;&#x5BA2;&#x7684;&#x65F6;&#x5019;&#x5FFD;&#x7136;&#x770B;&#x5230;&#x4E86;&#x4E0A;&#x9762;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x89C9;&#x5F97;&#x6709;&#x70B9;&#x4E0D;&#x81EA;&#x7136;&#xFF0C;Spring Boot &#x63D0;&#x4F9B;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x592A;&#x8FC7;&#x4E8E;&#x7B80;&#x5355;&#xFF0C;&#x4E0E;&#x6211;&#x4EEC;&#x7CFB;&#x7EDF;&#x7684;&#x9875;&#x9762;&#x6548;&#x679C;&#x5BF9;&#x6BD4;&#x8D77;&#x6765;&#x663E;&#x5F97;&#x8FC7;&#x4E8E;&#x5355;&#x8C03;&#x3002; &#x7B2C;&#x4E8C;&#x4E2A;&#x95EE;&#x9898;&#x5C31;&#x662F;&#x5BB9;&#x6613;&#x66B4;&#x9732;&#x4E1A;&#x52A1;&#x4FE1;&#x606F;&#xFF0C;&#x62A5;&#x9519;&#x5982;&#x4E0B;&#xFF1A; &#x4EE5;&#x4E0A;&#x9875;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x7801;&#x4E3A; 500 &#x800C;&#x5BFC;&#x81F4;&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x6548;&#x679C;&#xFF0C;&#x4E0B;&#x65B9;&#x7684;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x4E5F;&#x76F4;&#x63A5;&#x5C06;&#x771F;&#x5B9E;&#x539F;&#x56E0;&#x66B4;&#x9732;&#x4E86;&#x51FA;&#x6765;&#xFF0C;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x5BFC;&#x81F4;&#x7684;&#x8BE5;&#x9519;&#x8BEF;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x53EA;&#x662F;&#x4E3E;&#x4E86;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#x800C;&#x5DF2;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5176;&#x4ED6;&#x539F;&#x56E0;&#x5BFC;&#x81F4;&#x4E86; 500 &#x9519;&#x8BEF;&#xFF0C;&#x53EF;&#x80FD;&#x4E5F;&#x4F1A;&#x66B4;&#x9732;&#x51FA;&#x76F8;&#x5E94;&#x7684;&#x4E1A;&#x52A1;&#x4FE1;&#x606F;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x592A;&#x5EFA;&#x8BAE;&#x76F4;&#x63A5;&#x4F7F;&#x7528; Spring Boot &#x63D0;&#x4F9B;&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x3002; &#x57FA;&#x4E8E;&#x4EE5;&#x4E0A;&#x4E24;&#x4E2A;&#x539F;&#x56E0;&#xFF0C;&#x90E8;&#x5206;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x4F1A;&#x60F3;&#x8981;&#x4FEE;&#x6539;&#x8FD9;&#x79CD;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x4F46;&#x662F;&#x628A; web.xml &#x91CD;&#x65B0;&#x52A0;&#x56DE;&#x5230; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x867D;&#x7136;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#xFF0C;&#x4F46;&#x662F;&#x6781;&#x4E0D;&#x5408;&#x7406;&#xFF0C;&#x4E5F;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x63D0;&#x5021;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5B9E;&#x8DF5;&#x6848;&#x4F8B;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x5B9E;&#x73B0;&#x81EA;&#x5B9A;&#x4E49;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x7684;&#x914D;&#x7F6E;&#x548C;&#x663E;&#x793A;&#x3002; &#x5B9E;&#x73B0;&#x6B65;&#x9AA4;ErrorControllerErrorController &#x662F; Spring Boot &#x63D0;&#x4F9B;&#x7684;&#x4E00;&#x79CD;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x914D;&#x7F6E;&#x65B9;&#x6848;&#xFF0C;&#x4F7F;&#x7528; ErrorController &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x662F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x6848;&#xFF0C;&#x5728; controller.common &#x5305;&#x4E2D;&#x65B0;&#x589E; ErrorPageController.java &#x5E76;&#x5B9E;&#x73B0; ErrorController &#x7C7B;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.controller; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.web.servlet.error.ErrorAttributes; import org.springframework.boot.web.servlet.error.ErrorController; import org.springframework.http.HttpStatus; import org.springframework.http.ResponseEntity; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.ResponseBody; import org.springframework.web.context.request.ServletWebRequest; import org.springframework.web.context.request.WebRequest; import org.springframework.web.servlet.ModelAndView; import javax.servlet.http.HttpServletRequest; import java.util.Map; @Controller public class ErrorPageController implements ErrorController { private static ErrorPageController errorPageController; @Autowired private ErrorAttributes errorAttributes; private final static String ERROR_PATH = &quot;/error&quot;; public ErrorPageController(ErrorAttributes errorAttributes) { this.errorAttributes = errorAttributes; } public ErrorPageController() { if (errorPageController == null) { errorPageController = new ErrorPageController(errorAttributes); } } @RequestMapping(value = ERROR_PATH, produces = &quot;text/html&quot;) public ModelAndView errorHtml(HttpServletRequest request) { HttpStatus status = getStatus(request); if (HttpStatus.BAD_REQUEST == status) { return new ModelAndView(&quot;error/error_400&quot;); } else if (HttpStatus.NOT_FOUND == status) { return new ModelAndView(&quot;error/error_404&quot;); } else { return new ModelAndView(&quot;error/error_5xx&quot;); } } @RequestMapping(value = ERROR_PATH) @ResponseBody public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) { Map&lt;String, Object&gt; body = getErrorAttributes(request, getTraceParameter(request)); HttpStatus status = getStatus(request); return new ResponseEntity&lt;Map&lt;String, Object&gt;&gt;(body, status); } @Override public String getErrorPath() { return ERROR_PATH; } private boolean getTraceParameter(HttpServletRequest request) { String parameter = request.getParameter(&quot;trace&quot;); if (parameter == null) { return false; } return !&quot;false&quot;.equals(parameter.toLowerCase()); } protected Map&lt;String, Object&gt; getErrorAttributes(HttpServletRequest request, boolean includeStackTrace) { WebRequest webRequest = new ServletWebRequest(request); return this.errorAttributes.getErrorAttributes(webRequest, includeStackTrace); } private HttpStatus getStatus(HttpServletRequest request) { Integer statusCode = (Integer) request .getAttribute(&quot;javax.servlet.error.status_code&quot;); if (statusCode != null) { try { return HttpStatus.valueOf(statusCode); } catch (Exception ex) { } } return HttpStatus.INTERNAL_SERVER_ERROR; } }&#x9519;&#x8BEF;&#x9875;&#x9762;&#x7684;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x4E3B;&#x8981;&#x5728; errorHtml() &#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x4E2D;&#x6839;&#x636E;&#x5F53;&#x524D;&#x7684;&#x9519;&#x8BEF;&#x7801;&#x6765;&#x8F6C;&#x53D1;&#x5230;&#x6211;&#x4EEC;&#x914D;&#x7F6E;&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x53EA;&#x505A;&#x4E86; 3 &#x4E2A;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x5206;&#x522B;&#x662F; 400 &#x3001;404 &#x548C; 5xx &#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x901A;&#x8FC7;&#x5224;&#x65AD;&#x8FD9;&#x4E9B;&#x9519;&#x8BEF;&#x7801;&#x5C06;&#x9875;&#x9762;&#x8F6C;&#x53D1;&#x5230; error &#x76EE;&#x5F55;&#x4E0B;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x65B0;&#x589E;&#x8FD9;&#x51E0;&#x4E2A;&#x9875;&#x9762;&#x7684; html &#x4EE3;&#x7801;&#x3002; &#x9519;&#x8BEF;&#x9875;&#x9762;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5728; templates &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; error &#x76EE;&#x5F55;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA;&#x5BF9;&#x5E94;&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x5206;&#x522B;&#x662F; 400.html&#x3001;404.html&#x3001;5xx.html&#xFF0C;&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; 400 404 5xx &#x7531;&#x4E8E;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x592A;&#x591A;&#x5C31;&#x4E0D;&#x8D34;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x4E86;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x5728;&#x5B9E;&#x9A8C;&#x65F6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x672C;&#x8282;&#x8BFE;&#x7A0B;&#x7684;&#x4EE3;&#x7801;&#x3002; &#x6B64;&#x65F6;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x76EE;&#x524D;&#x6211;&#x4EEC;&#x53EA;&#x6DFB;&#x52A0;&#x4E86; 3 &#x4E2A;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x66F4;&#x591A;&#x7684;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x4E5F;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x589E;&#x52A0;&#xFF0C;&#x589E;&#x52A0;&#x540E;&#x4E5F;&#x9700;&#x8981;&#x5BF9;&#x5E94;&#x7684;&#x4FEE;&#x6539; ErrorPageController.java &#x7C7B;&#x4E2D;&#x7684; errorHtml() &#x65B9;&#x6CD5;&#x4EE5;&#x4F7F;&#x5F97;&#x80FD;&#x591F;&#x8F6C;&#x53D1;&#x5230;&#x8FD9;&#x4E9B;&#x9875;&#x9762;&#x3002; &#x56E0;&#x4E3A;&#x8BE5;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x5728; GitHub &#x4E0A;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x53C8;&#x5728;&#x4E0B;&#x65B9;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x63D0;&#x4EA4;&#x9519;&#x8BEF;&#x7684;&#x6309;&#x94AE;&#xFF0C;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x540E;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728; My-Blog &#x4ED3;&#x5E93;&#x4E2D;&#x63D0; issue&#x3002; &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &lt;p&gt;&#x62A5;&#x544A;&#x95EE;&#x9898; &lt;a href=&quot;https://github.com/ZHENFENG13/My-Blog/issues/new&quot; target=&quot;_blank&quot;&gt;New Issues&lt;/a&gt;&lt;/p&gt;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x70B9;&#x51FB;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x63D0;&#x4EA4;&#x95EE;&#x9898;&#x4E86;&#x3002; &#x6D4B;&#x8BD5;&#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#x4EE3;&#x7801;&#x672C;&#x8BFE;&#x7A0B;&#x4E2D;&#x6240;&#x5B9E;&#x73B0;&#x7684;&#x6E90;&#x7801;&#x5DF2;&#x7ECF;&#x63D0;&#x4F9B;&#xFF0C;&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x5230;&#x54B1;&#x4EEC;&#x5B9E;&#x9A8C;&#x697C;&#x7684;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x4E0B;&#x8F7D;&#x6210;&#x529F;&#x540E;&#x6267;&#x884C; unzip &#x547D;&#x4EE4;&#x5C06;&#x9879;&#x76EE;&#x89E3;&#x538B;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-29.zip unzip My-Blog-29.zip&#x4E4B;&#x540E;&#x5C31;&#x80FD;&#x591F;&#x770B;&#x5230;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x4E86;&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E2D;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; My-Blog &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002; &#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x968F;&#x4FBF;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x9519;&#x8BEF;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x5728;&#x8BBF;&#x95EE;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x65F6;&#x6545;&#x610F;&#x5C06;&#x5730;&#x5740;&#x680F;&#x4E2D;&#x7684; id &#x8F93;&#x9519;&#xFF0C;&#x679C;&#x7136;&#x5F97;&#x5230;&#x4E86;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-23-sou-suo.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x9996;&#x9875;&#x6240;&#x6709;&#x7684;&#x529F;&#x80FD;&#x57FA;&#x672C;&#x90FD;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x4E0A;&#x5927;&#x90E8;&#x5206;&#x663E;&#x793A;&#x533A;&#x57DF;&#x90FD;&#x5B9E;&#x73B0;&#x4E86;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x7EC6;&#x5FC3;&#x7684;&#x540C;&#x5B66;&#x4E5F;&#x4F1A;&#x53D1;&#x73B0;&#x6211;&#x4EEC;&#x8FD8;&#x6709;&#x4E00;&#x5904;&#x641C;&#x7D22;&#x6846;&#x6CA1;&#x6709;&#x505A;&#x4EFB;&#x4F55;&#x7684;&#x66F4;&#x6539;&#x4E5F;&#x6CA1;&#x6709;&#x505A;&#x4EFB;&#x4F55;&#x7684;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x641C;&#x7D22;&#x6846;&#x5373;&#x662F;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x4E2D;&#x6F0F;&#x6389;&#x7684;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x641C;&#x7D22;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x4E00;&#x8282;&#x4F1A;&#x5B9E;&#x73B0;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x6240;&#x6709;&#x7684;&#x641C;&#x7D22;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC;&#x641C;&#x7D22;&#x6846;&#x641C;&#x7D22;(&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;)&#x3001;&#x6309;&#x7167;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x3001;&#x6309;&#x7167;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x529F;&#x80FD; &#x641C;&#x7D22;&#x9875;&#x9762;&#x5236;&#x4F5C; &#x5206;&#x7C7B;&#x641C;&#x7D22;&#x529F;&#x80FD; &#x6807;&#x7B7E;&#x641C;&#x7D22;&#x529F;&#x80FD; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-27.zip unzip My-Blog-27.zip cd My-Blog&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x90E8;&#x5206;&#x2013;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x9996;&#x5148;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x6700;&#x7EC8;&#x7684;&#x641C;&#x7D22;&#x9875;&#x5C55;&#x73B0;&#x6548;&#x679C;&#x6765;&#x786E;&#x8BA4;&#x8BE5;&#x9875;&#x9762;&#x7684;&#x5E03;&#x5C40;&#x8BBE;&#x8BA1;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x8BE5;&#x9875;&#x9762;&#x4E0E;&#x9996;&#x9875;&#x6781;&#x5EA6;&#x76F8;&#x4F3C;&#xFF0C;&#x4E5F;&#x5305;&#x62EC;&#x9876;&#x90E8;&#x5BFC;&#x822A;&#x680F;&#x3001;&#x6587;&#x7AE0;&#x5217;&#x8868;&#x533A;&#x57DF;&#x3001;&#x5E95;&#x90E8;&#x9875;&#x811A;&#x533A;&#x57DF;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x662F;&#x7F3A;&#x5C11;&#x4E86;&#x4FA7;&#x8FB9;&#x5DE5;&#x5177;&#x680F;&#x533A;&#x57DF;&#xFF0C;&#x9876;&#x90E8;&#x533A;&#x57DF;&#x548C;&#x5E95;&#x90E8;&#x533A;&#x57DF;&#x662F;&#x516C;&#x5171;&#x533A;&#x57DF;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#xFF0C;&#x91CD;&#x70B9;&#x5173;&#x6CE8;&#x4E00;&#x4E0B;&#x56FE;&#x4E2D;&#x6807;&#x6CE8;&#x7684;&#x4E09;&#x4E2A;&#x5730;&#x65B9;,&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5206;&#x522B;&#x6807;&#x6CE8;&#x4E86;&#x4E09;&#x4E2A;&#x533A;&#x57DF;&#xFF1A; &#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x533A;&#x57DF;&#xFF1A;&#x8FD9;&#x4E2A;&#x533A;&#x57DF;&#x5904;&#x4E8E;&#x6574;&#x4E2A;&#x641C;&#x7D22;&#x9875;&#x9762;&#x529F;&#x80FD;&#x533A;&#x7684;&#x9876;&#x90E8;&#xFF0C;&#x7528;&#x4E8E;&#x663E;&#x793A;&#x641C;&#x7D22;&#x4FE1;&#x606F;,&#x56E0;&#x4E3A;&#x540E;&#x7EED;&#x6839;&#x636E;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x548C;&#x6839;&#x636E;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x4E5F;&#x4F1A;&#x7528;&#x5230;&#x8BE5;&#x9875;&#x9762;&#xFF0C;&#x5728;&#x663E;&#x793A;&#x641C;&#x7D22;&#x4FE1;&#x606F;&#x7684;&#x540C;&#x65F6;&#x4E5F;&#x5BF9;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x533A;&#x5206;&#xFF1B; &#x6587;&#x7AE0;&#x5217;&#x8868;&#x533A;&#x57DF;&#xFF1A;&#x7528;&#x4E8E;&#x5C55;&#x793A;&#x6587;&#x7AE0;&#x5217;&#x8868;&#xFF0C;&#x663E;&#x793A;&#x6587;&#x7AE0;&#x7684;&#x6982;&#x89C8;&#x4FE1;&#x606F;&#xFF0C;&#x4E0E;&#x9996;&#x9875;&#x4E0D;&#x540C;&#x7684;&#x662F;&#x8BE5;&#x9875;&#x9762;&#x6CA1;&#x6709;&#x4FA7;&#x8FB9;&#x5DE5;&#x5177;&#x680F;&#x533A;&#x57DF;&#x6240;&#x4EE5;&#x6587;&#x7AE0;&#x5217;&#x8868;&#x533A;&#x57DF;&#x4F1A;&#x66F4;&#x5927;&#x4E00;&#x4E9B;&#xFF1B; &#x5206;&#x9875;&#x5BFC;&#x822A;&#x533A;&#x57DF;&#xFF1A;&#x653E;&#x7F6E;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x7528;&#x4E8E;&#x5206;&#x9875;&#x8DF3;&#x8F6C;&#x529F;&#x80FD;&#x3002; &#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5373;&#x4E3A;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#x9700;&#x8981;&#x6E32;&#x67D3;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x9996;&#x5148;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x80AF;&#x5B9A;&#x662F;&#x4E00;&#x4E2A; List &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x56E0;&#x4E3A;&#x6709;&#x5206;&#x9875;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x5206;&#x9875;&#x5B57;&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x6700;&#x7EC8;&#x63A5;&#x6536;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x683C;&#x5F0F;&#x4E3A; PageResult &#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5355;&#x9879;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x5219;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x4E0B;&#x56FE;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x786E;&#x8BA4;&#x3002; &#x901A;&#x8FC7;&#x56FE;&#x7247;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x535A;&#x5BA2;&#x6807;&#x9898;&#x5B57;&#x6BB5;&#x3001;&#x9884;&#x89C8;&#x56FE;&#x5B57;&#x6BB5;&#x3001;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x5B57;&#x6BB5;&#x3001;&#x5206;&#x7C7B;&#x56FE;&#x7247;&#x5B57;&#x6BB5;&#xFF0C;&#x5F53;&#x7136;&#x8FD9;&#x91CC;&#x901A;&#x5E38;&#x4F1A;&#x8BBE;&#x8BA1;&#x6210;&#x53EF;&#x8DF3;&#x8F6C;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x5373;&#x70B9;&#x51FB;&#x6807;&#x9898;&#x6216;&#x8005;&#x9884;&#x89C8;&#x56FE;&#x540E;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x6216;&#x8005;&#x5206;&#x7C7B;&#x56FE;&#x7247;&#x4E5F;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x535A;&#x5BA2;&#x5206;&#x7C7B;&#x9875;&#x9762;&#xFF0C;&#x56E0;&#x6B64;&#x8FD8;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x535A;&#x5BA2;&#x5B9E;&#x4F53;&#x7684; id &#x5B57;&#x6BB5;&#x548C;&#x5206;&#x7C7B;&#x5B9E;&#x4F53;&#x7684; id &#x5B57;&#x6BB5;&#xFF0C;&#x56E0;&#x6B64;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x7684;&#x683C;&#x5F0F;&#x5C31;&#x5F97;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x4E0E;&#x9996;&#x9875;&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x4E00;&#x6837;&#x4E5F;&#x662F;&#x4F7F;&#x7528; BlogListVO &#x5BF9;&#x8C61;&#x3002; &#x53D1;&#x8D77;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x8BB2;&#x89E3;&#x4E00;&#x4E0B;&#x6574;&#x4E2A;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x7684;&#x7B2C;&#x4E00;&#x6B65;&#x2013;&#x53D1;&#x8D77;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#xFF0C;&#x8BE5;&#x64CD;&#x4F5C;&#x901A;&#x8FC7;&#x63D0;&#x4EA4;&#x641C;&#x7D22;&#x6846;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x6765;&#x5B9E;&#x73B0;&#x3002; &#x9996;&#x5148;&#x9700;&#x8981;&#x5BF9;&#x641C;&#x7D22;&#x6846;&#x6240;&#x5728;&#x7684; form &#x8868;&#x5355;&#x8FDB;&#x884C;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x5728; header.html&#xFF0C;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/blog/header.html) &lt;form method=&quot;get&quot; onsubmit=&quot;return false;&quot; accept-charset=&quot;utf-8&quot;&gt; &lt;input class=&quot;searchfield&quot; id=&quot;searchbox&quot; type=&quot;text&quot; placeholder=&quot; &#x641C;&#x7D22;&quot;&gt; &lt;button class=&quot;searchbutton&quot; id=&quot;searchbutton&quot; onclick=&quot;search()&quot;&gt; &lt;i class=&quot;fa fa-search&quot;&gt;&lt;/i&gt; &lt;/button&gt; &lt;/form&gt;&#x4FEE;&#x6539; form &#x8868;&#x5355;&#x7684; onsubmit &#x4E8B;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x589E;&#x52A0;&#x641C;&#x7D22;&#x6309;&#x94AE;&#x7684; onclick() &#x4E8B;&#x4EF6;&#xFF0C;&#x5728;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x641C;&#x7D22;&#x6309;&#x94AE;&#x540E;&#x6267;&#x884C; search() &#x65B9;&#x6CD5;&#x3002; &#x5728; resources/static/blog/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; search.js&#xFF0C;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; $(function () { $(&apos;#searchbox&apos;).keypress(function (e) { var key = e.which; //e.which&#x662F;&#x6309;&#x952E;&#x7684;&#x503C; if (key == 13) { var q = $(this).val(); if (q &amp;&amp; q != &apos;&apos;) { window.location.href = &apos;/search/&apos; + q; } } }); }); function search() { var q = $(&apos;#searchbox&apos;).val(); if (q &amp;&amp; q != &apos;&apos;) { window.location.href = &apos;/search/&apos; + q; } }&#x8BE5; js &#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#x4E86; search() &#x65B9;&#x6CD5;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x5728;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x641C;&#x7D22;&#x6309;&#x94AE;&#x540E;&#x4F1A;&#x5C06;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x5B57;&#x6BB5;&#x53D6;&#x51FA;&#x6765;&#x5E76;&#x653E;&#x5165;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x7684;&#x8DEF;&#x5F84;&#x4E2D;&#x8FDB;&#x884C;&#x8BF7;&#x6C42;&#xFF0C;&#x540C;&#x65F6;&#x4E5F;&#x5B9A;&#x4E49;&#x4E86;&#x8F93;&#x5165;&#x6846;&#x7684; keypress() &#x4E8B;&#x4EF6;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x5728;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x9700;&#x8981;&#x641C;&#x7D22;&#x7684;&#x5B57;&#x6BB5;&#x540E;&#x6572;&#x4E0B; Enter &#x56DE;&#x8F66;&#x952E;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x53D1;&#x8D77;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x3002; &#x6700;&#x540E;&#x4FEE;&#x6539; blog/index.html &#xFF0C;&#x589E;&#x52A0; search.js &#x7684;&#x5F15;&#x7528;&#x4EE3;&#x7801;&#xFF1A; &lt;script th:src=&quot;@{/blog/js/search.js}&quot;&gt;&lt;/script&gt;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x5B9E;&#x73B0;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0A;&#x8FF0;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x67E5;&#x8BE2; tb_blog &#x6587;&#x7AE0;&#x8868;&#x548C; tb_blog_category &#x8868;&#x6765;&#x83B7;&#x53D6;&#xFF0C;&#x540C;&#x65F6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4F20;&#x53C2;&#x65F6;&#x9700;&#x8981;&#x4F20;&#x5165;&#x5173;&#x952E;&#x5B57;&#x548C;&#x9875;&#x7801;&#xFF0C;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49; service &#x65B9;&#x6CD5;&#xFF0C;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; /** * &#x6839;&#x636E;&#x641C;&#x7D22;&#x5173;&#x952E;&#x5B57;&#x83B7;&#x53D6;&#x9996;&#x9875;&#x6587;&#x7AE0;&#x5217;&#x8868; * * @param page * @return */ public PageResult getBlogsPageBySearch(String keyword, int page) { if (page &gt; 0 &amp;&amp; PatternUtil.validKeyword(keyword)) { Map param = new HashMap(); param.put(&quot;page&quot;, page); param.put(&quot;limit&quot;, 9); param.put(&quot;keyword&quot;, keyword); param.put(&quot;blogStatus&quot;, 1);//&#x8FC7;&#x6EE4;&#x53D1;&#x5E03;&#x72B6;&#x6001;&#x4E0B;&#x7684;&#x6570;&#x636E; PageQueryUtil pageUtil = new PageQueryUtil(param); List&lt;Blog&gt; blogList = blogMapper.findBlogList(pageUtil); List&lt;BlogListVO&gt; blogListVOS = getBlogListVOsByBlogs(blogList); int total = blogMapper.getTotalBlogs(pageUtil); PageResult pageResult = new PageResult(blogListVOS, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } return null; } /** * &#x6570;&#x636E;&#x586B;&#x5145; */ private List&lt;BlogListVO&gt; getBlogListVOsByBlogs(List&lt;Blog&gt; blogList) { List&lt;BlogListVO&gt; blogListVOS = new ArrayList&lt;&gt;(); if (!CollectionUtils.isEmpty(blogList)) { List&lt;Integer&gt; categoryIds = blogList.stream().map(Blog::getBlogCategoryId).collect(Collectors.toList()); Map&lt;Integer, String&gt; blogCategoryMap = new HashMap&lt;&gt;(); if (!CollectionUtils.isEmpty(categoryIds)) { List&lt;BlogCategory&gt; blogCategories = categoryMapper.selectByCategoryIds(categoryIds); if (!CollectionUtils.isEmpty(blogCategories)) { blogCategoryMap = blogCategories.stream().collect(Collectors.toMap(BlogCategory::getCategoryId, BlogCategory::getCategoryIcon, (key1, key2) -&gt; key2)); } } for (Blog blog : blogList) { BlogListVO blogListVO = new BlogListVO(); BeanUtils.copyProperties(blog, blogListVO); if (blogCategoryMap.containsKey(blog.getBlogCategoryId())) { blogListVO.setBlogCategoryIcon(blogCategoryMap.get(blog.getBlogCategoryId())); } else { blogListVO.setBlogCategoryId(0); blogListVO.setBlogCategoryName(&quot;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&quot;); blogListVO.setBlogCategoryIcon(&quot;/admin/dist/img/category/1.png&quot;); } blogListVOS.add(blogListVO); } } return blogListVOS; }&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86; getBlogsPageBySearch() &#x65B9;&#x6CD5;&#x5E76;&#x4F20;&#x5165; keyword &#x548C; page &#x53C2;&#x6570;&#xFF0C;keyword &#x7528;&#x6765;&#x8FC7;&#x6EE4;&#x60F3;&#x8981;&#x7684;&#x6587;&#x7AE0;&#x5217;&#x8868;&#xFF0C;page &#x7528;&#x4E8E;&#x786E;&#x5B9A;&#x67E5;&#x8BE2;&#x7B2C;&#x51E0;&#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x901A;&#x8FC7; SQL &#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E;&#xFF0C;&#x518D;&#x4E4B;&#x540E;&#x662F;&#x586B;&#x5145;&#x6570;&#x636E;&#xFF0C;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x662F; tb_blog &#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x518D;&#x53BB;&#x5206;&#x7C7B;&#x8868;&#x4E2D;&#x67E5;&#x8BE2;&#x5E76;&#x8BBE;&#x7F6E;&#x5230; BlogListVO &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x6700;&#x7EC8;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x662F; PageResult &#x5BF9;&#x8C61;&#x3002; &#x5177;&#x4F53;&#x7684; SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findBlogList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog where is_deleted=0 &lt;if test=&quot;keyword!=null&quot;&gt; AND (blog_title like CONCAT(&apos;%&apos;,&apos;${keyword}&apos;,&apos;%&apos; ) or blog_category_name like CONCAT(&apos;%&apos;,&apos;${keyword}&apos;,&apos;%&apos; )) &lt;/if&gt; &lt;if test=&quot;blogStatus!=null&quot;&gt; AND blog_status = #{blogStatus} &lt;/if&gt; order by blog_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalBlogs&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog where is_deleted=0 &lt;if test=&quot;keyword!=null&quot;&gt; AND (blog_title like CONCAT(&apos;%&apos;,&apos;${keyword}&apos;,&apos;%&apos; ) or blog_category_name like CONCAT(&apos;%&apos;,&apos;${keyword}&apos;,&apos;%&apos; )) &lt;/if&gt; &lt;if test=&quot;blogStatus!=null&quot;&gt; AND blog_status = #{blogStatus} &lt;/if&gt; &lt;/select&gt;&#x5728;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x535A;&#x5BA2;&#x5217;&#x8868; SQL &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x4E8E; blog_title &#x5B57;&#x6BB5;&#x548C; blog_category_name &#x7684;&#x8FC7;&#x6EE4;&#xFF0C;&#x4F7F;&#x7528; LIKE &#x8BED;&#x6CD5;&#x5BF9;&#x535A;&#x5BA2;&#x8BB0;&#x5F55;&#x8FDB;&#x884C;&#x68C0;&#x7D22;&#x3002; &#x6570;&#x636E;&#x6E32;&#x67D3;&#x60F3;&#x8981;&#x5C06;&#x6570;&#x636E;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x6E32;&#x67D3;&#x5230;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4E0A;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x83B7;&#x53D6;&#x5E76;&#x8F6C;&#x53D1;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x6A21;&#x677F;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x5728; Controller &#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x67E5;&#x8BE2;&#x5230;&#x7684;&#x6570;&#x636E;&#x653E;&#x5165; request &#x57DF;&#x4E2D;&#xFF0C;&#x65B0;&#x589E; search() &#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.blog.MyBlogController) /** * &#x641C;&#x7D22;&#x5217;&#x8868;&#x9875; * * @return */ @GetMapping({&quot;/search/{keyword}&quot;}) public String search(HttpServletRequest request, @PathVariable(&quot;keyword&quot;) String keyword) { return search(request, keyword, 1); } /** * &#x641C;&#x7D22;&#x5217;&#x8868;&#x9875; * * @return */ @GetMapping({&quot;/search/{keyword}/{page}&quot;}) public String search(HttpServletRequest request, @PathVariable(&quot;keyword&quot;) String keyword, @PathVariable(&quot;page&quot;) Integer page) { PageResult blogPageResult = blogService.getBlogsPageBySearch(keyword, page); request.setAttribute(&quot;blogPageResult&quot;, blogPageResult); request.setAttribute(&quot;pageName&quot;, &quot;&#x641C;&#x7D22;&quot;); request.setAttribute(&quot;pageUrl&quot;, &quot;search&quot;); request.setAttribute(&quot;keyword&quot;, keyword); return &quot;blog/list&quot;; }&#x8DEF;&#x5F84;&#x6620;&#x5C04;&#x4E3A; /search/{keyword}/{page}&#xFF0C;page &#x53C2;&#x6570;&#x4E0D;&#x4F20;&#x7684;&#x8BDD;&#x9ED8;&#x8BA4;&#x4E3A;&#x7B2C; 1 &#x9875;&#xFF0C;&#x6839;&#x636E;&#x9875;&#x7801;&#x548C;&#x5173;&#x952E;&#x5B57;&#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E; blogPageResult &#x5E76;&#x653E;&#x5165;&#x5230; request &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; list &#x6A21;&#x677F;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F; pageName &#x5B57;&#x6BB5;&#x3001; pageUrl &#x5B57;&#x6BB5;&#x548C; keyword &#x5B57;&#x6BB5;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x533A;&#x57DF;&#x7684;&#x663E;&#x793A;&#x548C;&#x7FFB;&#x9875;&#x94FE;&#x63A5;&#x7684;&#x62FC;&#x63A5;&#x3002; &#x65B0;&#x589E;&#x641C;&#x7D22;&#x9875; list.html &#xFF0C;&#x6A21;&#x677F;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/blog/list.html) &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head th:replace=&quot;blog/header::head-fragment&quot;&gt;&lt;/head&gt; &lt;body&gt; &lt;header th:replace=&quot;blog/header::header-fragment&quot;&gt;&lt;/header&gt; &lt;div class=&quot;widewrapper main&quot;&gt; &lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-12 blog-main&quot;&gt; &lt;th:block th:if=&quot;${null != blogPageResult}&quot;&gt; &lt;th:block th:each=&quot;blog,iterStat : ${blogPageResult.list}&quot;&gt; &lt;div class=&quot;col-md-4 col-sm-4 blog-main-card&quot;&gt; &lt;article class=&quot;blog-summary&quot;&gt; &lt;header&gt; &lt;a th:href=&quot;@{&apos;/blog/&apos; + ${blog.blogId}}&quot;&gt; &lt;img th:src=&quot;@{${blog.blogCoverImage}}&quot; alt=&quot;&quot;&gt; &lt;h3&gt; &lt;th:block th:text=&quot;${blog.blogTitle}&quot;&gt;&lt;/th:block&gt; &lt;/h3&gt; &lt;/a&gt; &lt;div class=&quot;blog-category&quot;&gt; &lt;a th:href=&quot;@{&apos;/category/&apos; + ${blog.blogCategoryName}}&quot;&gt; &lt;div class=&quot;blog-category-icon&quot;&gt; &lt;img th:src=&quot;@{${blog.blogCategoryIcon}}&quot; alt=&quot;&quot;&gt; &lt;/div&gt; &lt;div class=&quot;blog-category&quot; th:utext=&quot;${blog.blogCategoryName}&quot;&gt; &lt;/div&gt; &lt;/a&gt; &lt;/div&gt; &lt;/header&gt; &lt;/article&gt; &lt;/div&gt; &lt;th:block th:if=&quot;${iterStat.last and iterStat.count%3==1}&quot;&gt; &lt;div class=&quot;col-md-4 col-sm-4 blog-main-card&quot;&gt;&lt;/div&gt; &lt;div class=&quot;col-md-4 col-sm-4 blog-main-card&quot;&gt;&lt;/div&gt; &lt;/th:block&gt; &lt;th:block th:if=&quot;${iterStat.last and iterStat.count%3==2}&quot;&gt; &lt;div class=&quot;col-md-4 col-sm-4 blog-main-card&quot;&gt;&lt;/div&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;th:block th:if=&quot;${null != blogPageResult}&quot;&gt; &lt;ul class=&quot;blog-pagination&quot;&gt; &lt;li th:class=&quot;${blogPageResult.currPage==1}?&apos;disabled&apos; : &apos;&apos;&quot;&gt;&lt;a th:href=&quot;@{${blogPageResult.currPage==1}?&apos;##&apos;:&apos;/&apos;+${pageUrl}+&apos;/&apos;+${keyword}+&apos;/&apos; + ${blogPageResult.currPage-1}}&quot;&gt;&amp;laquo;&lt;/a&gt; &lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage-3 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/&apos;+${pageUrl}+&apos;/&apos;+${keyword}+&apos;/&apos; + ${blogPageResult.currPage-3}}&quot; th:text=&quot;${blogPageResult.currPage -3}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage-2 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/&apos;+${pageUrl}+&apos;/&apos;+${keyword}+&apos;/&apos; + ${blogPageResult.currPage-2}}&quot; th:text=&quot;${blogPageResult.currPage -2}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage-1 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/&apos;+${pageUrl}+&apos;/&apos;+${keyword}+&apos;/&apos; + ${blogPageResult.currPage-1}}&quot; th:text=&quot;${blogPageResult.currPage -1}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot; th:text=&quot;${blogPageResult.currPage}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage+1 &lt;=blogPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/&apos;+${pageUrl}+&apos;/&apos;+${keyword}+&apos;/&apos; + ${blogPageResult.currPage+1}}&quot; th:text=&quot;${blogPageResult.currPage +1}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage+2 &lt;=blogPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/&apos;+${pageUrl}+&apos;/&apos;+${keyword}+&apos;/&apos; + ${blogPageResult.currPage+2}}&quot; th:text=&quot;${blogPageResult.currPage +2}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${blogPageResult.currPage+3 &lt;=blogPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/&apos;+${pageUrl}+&apos;/&apos;+${keyword}+&apos;/&apos; + ${blogPageResult.currPage+3}}&quot; th:text=&quot;${blogPageResult.currPage +3}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:class=&quot;${blogPageResult.currPage==blogPageResult.totalPage}?&apos;disabled&apos; : &apos;&apos;&quot;&gt;&lt;a th:href=&quot;@{${blogPageResult.currPage==blogPageResult.totalPage}?&apos;##&apos; : &apos;/&apos;+${pageUrl}+&apos;/&apos;+${keyword}+&apos;/&apos; + ${blogPageResult.currPage+1}}&quot;&gt;&amp;raquo;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/th:block&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x811A;footer-fragment --&gt; &lt;footer th:replace=&quot;blog/footer::footer-fragment&quot;&gt;&lt;/footer&gt; &lt;script th:src=&quot;@{/blog/js/jquery.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/blog/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/blog/js/modernizr.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/blog/js/search.js}&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x5728;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x533A;&#x57DF;&#x548C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x533A;&#x57DF;&#x5BF9;&#x5E94;&#x7684;&#x4F4D;&#x7F6E;&#x8BFB;&#x53D6; blogPageResult &#x5BF9;&#x8C61;&#x4E2D;&#x7684; list &#x6570;&#x636E;&#x548C;&#x5206;&#x9875;&#x6570;&#x636E;&#xFF0C;list &#x6570;&#x636E;&#x4E3A;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528; th:each &#x5FAA;&#x73AF;&#x8BED;&#x6CD5;&#x5C06;&#x6807;&#x9898;&#x3001;&#x9884;&#x89C8;&#x56FE;&#x3001;&#x5206;&#x7C7B;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x8FD8;&#x6CA1;&#x505A;&#xFF0C;a &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x8BE6;&#x60C5;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x4F1A;&#x5728;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x529F;&#x80FD;&#x5B8C;&#x5584;&#x540E;&#x8865;&#x4E0A;&#xFF0C;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x5206;&#x9875;&#x5B57;&#x6BB5; currPage(&#x5F53;&#x524D;&#x9875;&#x7801;)&#x3001; totalPage(&#x603B;&#x9875;&#x7801;)&#x4EE5;&#x53CA; pageUrl &#x5B57;&#x6BB5;&#x5C06;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x5217;&#x8868;&#x7684;&#x6E32;&#x67D3;&#x4E0E;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x76F8;&#x540C;&#xFF0C;&#x552F;&#x4E00;&#x4E0D;&#x540C;&#x7684;&#x5730;&#x65B9;&#x5728;&#x4E8E;&#x4E0B;&#x65B9;&#x5206;&#x9875;&#x6309;&#x94AE;&#x94FE;&#x63A5;&#x7684;&#x62FC;&#x63A5;&#xFF0C;&#x7531;&#x4E8E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x3001;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x3001;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x8BE5;&#x9875;&#x9762;&#x7528;&#x6765;&#x5C55;&#x793A;&#x6570;&#x636E;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x8DF3;&#x8F6C;&#x4E71;&#x6389;&#x5C31;&#x589E;&#x52A0;&#x4E86; pageUrl &#x5B57;&#x6BB5;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x4ED6;&#x4EEC;&#x5206;&#x522B;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x641C;&#x7D22;&#x94FE;&#x63A5;&#xFF0C;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x9519;&#x4E71;&#x3002; &#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x67E5;&#x770B;&#x6570;&#x636E;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5373;&#x4E3A;&#x6B63;&#x786E;&#x7684;&#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x3001;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x548C;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x8F93;&#x5165;&#x4E0D;&#x540C;&#x7684;&#x641C;&#x7D22;&#x5173;&#x952E;&#x5B57;&#x4F1A;&#x83B7;&#x5F97;&#x4E0D;&#x540C;&#x7684;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x591A;&#x9875;&#x6570;&#x636E;&#x7684;&#x8BDD;&#xFF0C;&#x70B9;&#x51FB;&#x5206;&#x9875;&#x6309;&#x94AE;&#x5219;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x5206;&#x9875;&#x6570;&#x636E;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x529F;&#x80FD;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x3002; &#x5206;&#x7C7B;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53CA;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x7ED3;&#x679C;&#x9875;&#x9762;&#x4E0E;&#x641C;&#x7D22;&#x9875;&#x9762;&#x5171;&#x7528;&#x4E00;&#x4E2A;&#x6A21;&#x677F;&#x9875;&#x9762;&#xFF0C;&#x4E3A;&#x4E86;&#x533A;&#x5206;&#x662F;&#x54EA;&#x79CD;&#x641C;&#x7D22;&#x65B9;&#x5F0F;&#x4F1A;&#x5728;&#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x533A;&#x57DF;&#x663E;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x4E5F;&#x76F8;&#x540C;&#xFF0C;&#x53EA;&#x662F;&#x90E8;&#x5206;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4F1A;&#x6709;&#x533A;&#x522B;&#xFF0C;&#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x65F6;&#x6211;&#x4EEC;&#x4F1A;&#x663E;&#x793A;&#x641C;&#x7D22;&#xFF1A;{keyword}&#xFF0C;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x65F6;&#x6211;&#x4EEC;&#x4F1A;&#x663E;&#x793A;&#x5206;&#x7C7B;&#xFF1A;{keyword}&#xFF0C;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#x65F6;&#x6211;&#x4EEC;&#x4F1A;&#x663E;&#x793A;&#x6807;&#x7B7E;&#xFF1A;{keyword}&#x3002; &#x53D1;&#x8D77;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x5728;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x6211;&#x4EEC;&#x5728;&#x4ECB;&#x7ECD;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x5FAA;&#x73AF;&#x6E32;&#x67D3;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x6709;&#x4ECB;&#x7ECD;&#x5230;&#x6839;&#x636E;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x535A;&#x5BA2;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5373;&#x70B9;&#x51FB;&#x5217;&#x8868;&#x4E2D;&#x5355;&#x4E2A;&#x5361;&#x7247;&#x7684;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x6216;&#x8005;&#x5206;&#x7C7B;&#x56FE;&#x7247;&#x5219;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x9875;&#xFF0C;&#x6839;&#x636E;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x5206;&#x7C7B;&#x4E0B;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x3002; &#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x70B9;&#x51FB;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x533A;&#x57DF;&#x5219;&#x4F1A;&#x8FDB;&#x884C;&#x8DF3;&#x8F6C;&#xFF0C;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x548C;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#x9875;&#x9762;&#x6211;&#x4EEC;&#x90FD;&#x7528;&#x5230;&#x4E86;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E24;&#x4E2A;&#x9875;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x90FD;&#x9700;&#x8981;&#x4FEE;&#x6539;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x539F;&#x6765;&#x7684; a &#x6807;&#x7B7E;&#x5373;&#x53EF;&#xFF0C;&#x6DFB;&#x52A0;&#x5206;&#x7C7B;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &lt;div class=&quot;blog-category&quot;&gt; &lt;a th:href=&quot;@{&apos;/category/&apos; + ${blog.blogCategoryName}}&quot;&gt;&lt;!-- &#x5206;&#x7C7B;&#x641C;&#x7D22;&#x94FE;&#x63A5; --&gt; &lt;div class=&quot;blog-category-icon&quot;&gt; &lt;img th:src=&quot;@{${blog.blogCategoryIcon}}&quot; alt=&quot;&quot;&gt; &lt;/div&gt; &lt;div class=&quot;blog-category&quot; th:utext=&quot;${blog.blogCategoryName}&quot;&gt;&lt;/div&gt; &lt;/a&gt; &lt;/div&gt;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x5B9E;&#x73B0;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4E0A;&#x8FF0;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x76F4;&#x63A5;&#x67E5;&#x8BE2; tb_blog &#x6587;&#x7AE0;&#x8868;&#x548C; tb_blog_category &#x8868;&#x6765;&#x83B7;&#x53D6;&#xFF0C;&#x540C;&#x65F6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4F20;&#x53C2;&#x65F6;&#x9700;&#x8981;&#x4F20;&#x5165;&#x5173;&#x952E;&#x5B57;&#x548C;&#x9875;&#x7801;&#xFF0C;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49; service &#x65B9;&#x6CD5;&#xFF0C;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; /** * &#x6839;&#x636E;&#x5206;&#x7C7B;&#x83B7;&#x53D6;&#x9996;&#x9875;&#x6587;&#x7AE0;&#x5217;&#x8868; * * @param page * @return */ public PageResult getBlogsPageByCategory(String categoryName, int page) { if (PatternUtil.validKeyword(categoryName)) { BlogCategory blogCategory = categoryMapper.selectByCategoryName(categoryName); if (&quot;&#x9ED8;&#x8BA4;&#x5206;&#x7C7B;&quot;.equals(categoryName) &amp;&amp; blogCategory == null) { blogCategory = new BlogCategory(); blogCategory.setCategoryId(0); } if (blogCategory != null &amp;&amp; page &gt; 0) { Map param = new HashMap(); param.put(&quot;page&quot;, page); param.put(&quot;limit&quot;, 9); param.put(&quot;blogCategoryId&quot;, blogCategory.getCategoryId()); param.put(&quot;blogStatus&quot;, 1);//&#x8FC7;&#x6EE4;&#x53D1;&#x5E03;&#x72B6;&#x6001;&#x4E0B;&#x7684;&#x6570;&#x636E; PageQueryUtil pageUtil = new PageQueryUtil(param); List&lt;Blog&gt; blogList = blogMapper.findBlogList(pageUtil); List&lt;BlogListVO&gt; blogListVOS = getBlogListVOsByBlogs(blogList); int total = blogMapper.getTotalBlogs(pageUtil); PageResult pageResult = new PageResult(blogListVOS, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } } return null; }&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86; getBlogsPageByCategory() &#x65B9;&#x6CD5;&#x5E76;&#x4F20;&#x5165; categoryName &#x548C; page &#x53C2;&#x6570;&#xFF0C;categoryName &#x662F;&#x5206;&#x7C7B;&#x540D;&#x79F0;&#x7528;&#x6765;&#x8FC7;&#x6EE4;&#x60F3;&#x8981;&#x7684;&#x6587;&#x7AE0;&#x5217;&#x8868;&#xFF0C;page &#x7528;&#x4E8E;&#x786E;&#x5B9A;&#x67E5;&#x8BE2;&#x7B2C;&#x51E0;&#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x901A;&#x8FC7; SQL &#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E;&#xFF0C;&#x518D;&#x4E4B;&#x540E;&#x662F;&#x586B;&#x5145;&#x6570;&#x636E;&#xFF0C;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x662F; tb_blog &#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x518D;&#x53BB;&#x5206;&#x7C7B;&#x8868;&#x4E2D;&#x67E5;&#x8BE2;&#x5E76;&#x8BBE;&#x7F6E;&#x5230; BlogListVO &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x6700;&#x7EC8;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x662F; PageResult &#x5BF9;&#x8C61;&#x3002; &#x5177;&#x4F53;&#x7684; SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findBlogList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog where is_deleted=0 &lt;if test=&quot;keyword!=null&quot;&gt; AND (blog_title like CONCAT(&apos;%&apos;,&apos;${keyword}&apos;,&apos;%&apos; ) or blog_category_name like CONCAT(&apos;%&apos;,&apos;${keyword}&apos;,&apos;%&apos; )) &lt;/if&gt; &lt;if test=&quot;blogStatus!=null&quot;&gt; AND blog_status = #{blogStatus} &lt;/if&gt; &lt;if test=&quot;blogCategoryId!=null&quot;&gt; AND blog_category_id = #{blogCategoryId} &lt;/if&gt; order by blog_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalBlogs&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog where is_deleted=0 &lt;if test=&quot;keyword!=null&quot;&gt; AND (blog_title like CONCAT(&apos;%&apos;,&apos;${keyword}&apos;,&apos;%&apos; ) or blog_category_name like CONCAT(&apos;%&apos;,&apos;${keyword}&apos;,&apos;%&apos; )) &lt;/if&gt; &lt;if test=&quot;blogStatus!=null&quot;&gt; AND blog_status = #{blogStatus} &lt;/if&gt; &lt;if test=&quot;blogCategoryId!=null&quot;&gt; AND blog_category_id = #{blogCategoryId} &lt;/if&gt; &lt;/select&gt;&#x5728;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x535A;&#x5BA2;&#x5217;&#x8868; SQL &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x4E8E; blogCategoryId &#x7684;&#x8FC7;&#x6EE4;&#x6761;&#x4EF6;&#xFF0C;&#x7B5B;&#x9009;&#x51FA;&#x5F53;&#x524D;&#x5206;&#x7C7B;&#x4E0B;&#x7684;&#x6587;&#x7AE0;&#x5217;&#x8868;&#x3002; &#x6570;&#x636E;&#x6E32;&#x67D3;&#x60F3;&#x8981;&#x5C06;&#x6570;&#x636E;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x6E32;&#x67D3;&#x5230;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4E0A;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x83B7;&#x53D6;&#x5E76;&#x8F6C;&#x53D1;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x6A21;&#x677F;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x5728; Controller &#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x67E5;&#x8BE2;&#x5230;&#x7684;&#x6570;&#x636E;&#x653E;&#x5165; request &#x57DF;&#x4E2D;&#xFF0C;&#x65B0;&#x589E; category() &#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.blog.MyBlogController.java) /** * &#x5206;&#x7C7B;&#x5217;&#x8868;&#x9875; * * @return */ @GetMapping({&quot;/category/{categoryName}&quot;}) public String category(HttpServletRequest request, @PathVariable(&quot;categoryName&quot;) String categoryName) { return category(request, categoryName, 1); } /** * &#x5206;&#x7C7B;&#x5217;&#x8868;&#x9875; * * @return */ @GetMapping({&quot;/category/{categoryName}/{page}&quot;}) public String category(HttpServletRequest request, @PathVariable(&quot;categoryName&quot;) String categoryName, @PathVariable(&quot;page&quot;) Integer page) { PageResult blogPageResult = blogService.getBlogsPageByCategory(categoryName, page); request.setAttribute(&quot;blogPageResult&quot;, blogPageResult); request.setAttribute(&quot;pageName&quot;, &quot;&#x5206;&#x7C7B;&quot;); request.setAttribute(&quot;pageUrl&quot;, &quot;category&quot;); request.setAttribute(&quot;keyword&quot;, categoryName); return &quot;blog/list&quot;; }&#x8DEF;&#x5F84;&#x6620;&#x5C04;&#x4E3A; /category/{categoryName}/{page}&#xFF0C;page &#x53C2;&#x6570;&#x4E0D;&#x4F20;&#x7684;&#x8BDD;&#x9ED8;&#x8BA4;&#x4E3A;&#x7B2C; 1 &#x9875;&#xFF0C;&#x6839;&#x636E;&#x9875;&#x7801;&#x548C;&#x5173;&#x952E;&#x5B57;&#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E; blogPageResult &#x5E76;&#x653E;&#x5165;&#x5230; request &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; list &#x6A21;&#x677F;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F; pageName &#x5B57;&#x6BB5;&#x3001; pageUrl &#x5B57;&#x6BB5;&#x548C; keyword &#x5B57;&#x6BB5;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x533A;&#x57DF;&#x7684;&#x663E;&#x793A;&#x548C;&#x7FFB;&#x9875;&#x94FE;&#x63A5;&#x7684;&#x62FC;&#x63A5;&#x3002;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4E0E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x65F6;&#x7684;&#x503C;&#x76F8;&#x6BD4;&#x8F83;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x4E2D; pageName &#x7684;&#x503C;&#x4E3A;&#x641C;&#x7D22;&#xFF0C;&#x800C;&#x6B64;&#x65F6; pageName &#x7684;&#x503C;&#x4E3A;&#x5206;&#x7C7B;&#xFF0C;pageUrl &#x53C2;&#x6570;&#x7684;&#x503C;&#x4E5F;&#x7531; search &#x53D8;&#x6210;&#x4E86; category&#xFF0C;pageUrl &#x53C2;&#x6570;&#x7684;&#x503C;&#x90FD;&#x4E0E;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x6620;&#x5C04;&#x7684;&#x7B2C;&#x4E00;&#x7EA7;&#x76EE;&#x5F55;&#x76F8;&#x540C;&#xFF0C;pageUrl &#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x4E0B;&#x65B9;&#x5206;&#x9875;&#x6309;&#x94AE;&#x7684;&#x8DEF;&#x5F84;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x7684;&#x751F;&#x6210;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x51FA;&#x7684;&#x5206;&#x9875;&#x7ED3;&#x679C;&#x4E2D;&#x5206;&#x9875;&#x6309;&#x94AE;&#x4F1A;&#x8DF3;&#x8F6C;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x7684;&#x94FE;&#x63A5; /search/{keyword}/{page}&#xFF0C;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x51FA;&#x7684;&#x5206;&#x9875;&#x7ED3;&#x679C;&#x4E2D;&#x5206;&#x9875;&#x6309;&#x94AE;&#x4F1A;&#x8DF3;&#x8F6C;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x7684;&#x94FE;&#x63A5; /category/{categoryName}/{page} &#x3002; &#x524D;&#x7AEF;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4E3A; list.html&#xFF0C;&#x5C31;&#x4E0D;&#x591A;&#x505A;&#x4ECB;&#x7ECD;&#x4E86;&#xFF0C;&#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x67E5;&#x770B;&#x6570;&#x636E;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5373;&#x4E3A;&#x6B63;&#x786E;&#x7684;&#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x3001;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x548C;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x70B9;&#x51FB;&#x4E0D;&#x540C;&#x7684;&#x5206;&#x7C7B;&#x4FE1;&#x606F;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x641C;&#x7D22;&#x9875;&#x9762;&#x540C;&#x65F6;&#x4E5F;&#x4F1A;&#x83B7;&#x5F97;&#x4E0D;&#x540C;&#x7684;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x591A;&#x9875;&#x6570;&#x636E;&#x7684;&#x8BDD;&#xFF0C;&#x70B9;&#x51FB;&#x5206;&#x9875;&#x6309;&#x94AE;&#x5219;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x5206;&#x9875;&#x6570;&#x636E;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x529F;&#x80FD;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x3002; &#x6807;&#x7B7E;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53CA;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5B9A;&#x4E49;&#x7ED3;&#x679C;&#x9875;&#x9762;&#x4E0E;&#x641C;&#x7D22;&#x9875;&#x9762;&#x5171;&#x7528;&#x4E00;&#x4E2A;&#x6A21;&#x677F;&#x9875;&#x9762;&#xFF0C;&#x4E3A;&#x4E86;&#x533A;&#x5206;&#x662F;&#x54EA;&#x79CD;&#x641C;&#x7D22;&#x65B9;&#x5F0F;&#x4F1A;&#x5728;&#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x533A;&#x57DF;&#x663E;&#x793A;&#x4E0D;&#x540C;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x4E5F;&#x76F8;&#x540C;&#xFF0C;&#x53EA;&#x662F;&#x90E8;&#x5206;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4F1A;&#x6709;&#x533A;&#x522B;&#xFF0C;&#x6839;&#x636E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x65F6;&#x6211;&#x4EEC;&#x4F1A;&#x663E;&#x793A;&#x641C;&#x7D22;&#xFF1A;{keyword}&#xFF0C;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x65F6;&#x6211;&#x4EEC;&#x4F1A;&#x663E;&#x793A;&#x5206;&#x7C7B;&#xFF1A;{keyword}&#xFF0C;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#x65F6;&#x6211;&#x4EEC;&#x4F1A;&#x663E;&#x793A;&#x6807;&#x7B7E;&#xFF1A;{keyword}&#x3002; &#x53D1;&#x8D77;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x5728;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x6211;&#x4EEC;&#x5728;&#x4ECB;&#x7ECD;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x5FAA;&#x73AF;&#x6E32;&#x67D3;&#x6807;&#x7B7E;&#x680F;&#x4E2D;&#x7684;&#x6807;&#x7B7E;&#x5185;&#x5BB9;&#x65F6;&#xFF0C;&#x6709;&#x4ECB;&#x7ECD;&#x5230;&#x6839;&#x636E;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#x535A;&#x5BA2;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5373;&#x70B9;&#x51FB;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x5219;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#x9875;&#x9762;&#xFF0C;&#x6839;&#x636E;&#x6807;&#x7B7E;&#x4FE1;&#x606F;&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x4F7F;&#x7528;&#x8BE5;&#x6807;&#x7B7E;&#x7684;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x3002; &#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x70B9;&#x51FB;&#x6BCF;&#x4E2A;&#x6807;&#x7B7E;&#x65F6;&#x5219;&#x4F1A;&#x8FDB;&#x884C;&#x8DF3;&#x8F6C;&#xFF0C;&#x9664;&#x4E86;&#x9996;&#x9875;&#x7684;&#x6807;&#x7B7E;&#x680F;&#x4E4B;&#x5916;&#xFF0C;&#x5728;&#x540E;&#x9762;&#x7684;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x5C55;&#x793A;&#x6807;&#x7B7E;&#x4FE1;&#x606F;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x4E5F;&#x4F1A;&#x6709;&#x8DF3;&#x8F6C;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x539F;&#x6765;&#x7684; a &#x6807;&#x7B7E;&#x5373;&#x53EF;&#xFF0C;&#x6DFB;&#x52A0;&#x6807;&#x7B7E;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &lt;ul class=&quot;tags&quot;&gt; &lt;th:block th:if=&quot;${null != hotTags}&quot;&gt; &lt;th:block th:each=&quot;hotTag : ${hotTags}&quot;&gt; &lt;li&gt;&lt;a th:href=&quot;@{&apos;/tag/&apos; + ${hotTag.tagName}}&quot;&gt;&lt;!-- &#x6807;&#x7B7E;&#x641C;&#x7D22;&#x94FE;&#x63A5; --&gt; &lt;th:block th:text=&quot;${hotTag.tagName}+&apos;(&apos;+${hotTag.tagCount}+&apos;)&apos;&quot;&gt;&lt;/th:block&gt; &lt;/a&gt; &lt;/li&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/ul&gt;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x5B9E;&#x73B0;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x7531;&#x4E8E;&#x535A;&#x5BA2;&#x8868;&#x4E0E;&#x6807;&#x7B7E;&#x8868;&#x7684;&#x8BBE;&#x8BA1;&#x539F;&#x56E0;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x65F6;&#x4F1A;&#x9996;&#x5148;&#x67E5;&#x8BE2;&#x6807;&#x7B7E;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x6B63;&#x786E;&#xFF0C;&#x4E4B;&#x540E;&#x8FDB;&#x884C; tb_blog &#x535A;&#x5BA2;&#x8868;&#x548C; tb_blog_tag_relation &#x5173;&#x7CFB;&#x8868;&#x7684;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#x5C06;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x535A;&#x5BA2;&#x8BB0;&#x5F55;&#x8FC7;&#x6EE4;&#x51FA;&#x6765;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x586B;&#x5145;&#xFF0C;&#x8BE5;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x4F1A;&#x6D89;&#x53CA;&#x5230; 4 &#x5F20;&#x8868;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x540C;&#x65F6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x5206;&#x9875;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x4F20;&#x53C2;&#x65F6;&#x9700;&#x8981;&#x4F20;&#x5165;&#x5173;&#x952E;&#x5B57;&#x548C;&#x9875;&#x7801;&#xFF0C;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x5982;&#x4E0B;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49; service &#x65B9;&#x6CD5;&#xFF0C;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.BlogServiceImpl.java&#xFF09;&#xFF1A; /** * &#x6839;&#x636E;&#x6807;&#x7B7E;&#x83B7;&#x53D6;&#x9996;&#x9875;&#x6587;&#x7AE0;&#x5217;&#x8868; * * @param page * @return */ public PageResult getBlogsPageByTag(String tagName, int page) { if (PatternUtil.validKeyword(tagName)) { BlogTag tag = tagMapper.selectByTagName(tagName); if (tag != null &amp;&amp; page &gt; 0) { Map param = new HashMap(); param.put(&quot;page&quot;, page); param.put(&quot;limit&quot;, 9); param.put(&quot;tagId&quot;, tag.getTagId()); PageQueryUtil pageUtil = new PageQueryUtil(param); List&lt;Blog&gt; blogList = blogMapper.getBlogsPageByTagId(pageUtil); List&lt;BlogListVO&gt; blogListVOS = getBlogListVOsByBlogs(blogList); int total = blogMapper.getTotalBlogsByTagId(pageUtil); PageResult pageResult = new PageResult(blogListVOS, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } } return null; }&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86; getBlogsPageByTag() &#x65B9;&#x6CD5;&#x5E76;&#x4F20;&#x5165; tagName &#x548C; page &#x53C2;&#x6570;&#xFF0C;tagName &#x662F;&#x6807;&#x7B7E;&#x540D;&#x79F0;&#x7528;&#x6765;&#x8FC7;&#x6EE4;&#x60F3;&#x8981;&#x7684;&#x6587;&#x7AE0;&#x5217;&#x8868;&#xFF0C;page &#x7528;&#x4E8E;&#x786E;&#x5B9A;&#x67E5;&#x8BE2;&#x7B2C;&#x51E0;&#x9875;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x901A;&#x8FC7; SQL &#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E;&#xFF0C;&#x518D;&#x4E4B;&#x540E;&#x662F;&#x586B;&#x5145;&#x6570;&#x636E;&#xFF0C;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x662F; tb_blog &#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x518D;&#x53BB;&#x5206;&#x7C7B;&#x8868;&#x4E2D;&#x67E5;&#x8BE2;&#x5E76;&#x8BBE;&#x7F6E;&#x5230; BlogListVO &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x6700;&#x7EC8;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x662F; PageResult &#x5BF9;&#x8C61;&#x3002; &#x5177;&#x4F53;&#x7684; SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;getBlogsPageByTagId&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog where blog_id IN (SELECT blog_id FROM tb_blog_tag_relation WHERE tag_id = #{tagId}) AND blog_status =1 AND is_deleted=0 order by blog_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalBlogsByTagId&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog where blog_id IN (SELECT blog_id FROM tb_blog_tag_relation WHERE tag_id = #{tagId}) AND blog_status =1 AND is_deleted=0 &lt;/select&gt;&#x9996;&#x5148;&#x6839;&#x636E; tag_id &#x5728;&#x5173;&#x7CFB;&#x8868;&#x4E2D;&#x8FC7;&#x6EE4;&#x51FA;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684; blog_id &#x96C6;&#x5408;&#xFF0C;&#x4E4B;&#x540E;&#x4F7F;&#x7528; IN &#x5173;&#x952E;&#x5B57;&#x518D;&#x6B21;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x7B5B;&#x9009;&#x51FA;&#x5F53;&#x524D;&#x6807;&#x7B7E;&#x4E0B;&#x7684;&#x6587;&#x7AE0;&#x5217;&#x8868;&#x3002; &#x6570;&#x636E;&#x6E32;&#x67D3;&#x60F3;&#x8981;&#x5C06;&#x6570;&#x636E;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x6E32;&#x67D3;&#x5230;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x4E0A;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x83B7;&#x53D6;&#x5E76;&#x8F6C;&#x53D1;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x6A21;&#x677F;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x5728; Controller &#x65B9;&#x6CD5;&#x4E2D;&#x5C06;&#x67E5;&#x8BE2;&#x5230;&#x7684;&#x6570;&#x636E;&#x653E;&#x5165; request &#x57DF;&#x4E2D;&#xFF0C;&#x65B0;&#x589E; tag() &#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.blog.MyBlogController) /** * &#x6807;&#x7B7E;&#x5217;&#x8868;&#x9875; * * @return */ @GetMapping({&quot;/tag/{tagName}&quot;}) public String tag(HttpServletRequest request, @PathVariable(&quot;tagName&quot;) String tagName) { return tag(request, tagName, 1); } /** * &#x6807;&#x7B7E;&#x5217;&#x8868;&#x9875; * * @return */ @GetMapping({&quot;/tag/{tagName}/{page}&quot;}) public String tag(HttpServletRequest request, @PathVariable(&quot;tagName&quot;) String tagName, @PathVariable(&quot;page&quot;) Integer page) { PageResult blogPageResult = blogService.getBlogsPageByTag(tagName, page); request.setAttribute(&quot;blogPageResult&quot;, blogPageResult); request.setAttribute(&quot;pageName&quot;, &quot;&#x6807;&#x7B7E;&quot;); request.setAttribute(&quot;pageUrl&quot;, &quot;tag&quot;); request.setAttribute(&quot;keyword&quot;, tagName); return &quot;blog/list&quot;; }&#x8DEF;&#x5F84;&#x6620;&#x5C04;&#x4E3A; /tag/{tagName}/{page}&#xFF0C;page &#x53C2;&#x6570;&#x4E0D;&#x4F20;&#x7684;&#x8BDD;&#x9ED8;&#x8BA4;&#x4E3A;&#x7B2C; 1 &#x9875;&#xFF0C;&#x6839;&#x636E;&#x9875;&#x7801;&#x548C;&#x5173;&#x952E;&#x5B57;&#x67E5;&#x8BE2;&#x51FA;&#x5BF9;&#x5E94;&#x7684;&#x5206;&#x9875;&#x6570;&#x636E; blogPageResult &#x5E76;&#x653E;&#x5165;&#x5230; request &#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; list &#x6A21;&#x677F;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F; pageName &#x5B57;&#x6BB5;&#x3001; pageUrl &#x5B57;&#x6BB5;&#x548C; keyword &#x5B57;&#x6BB5;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x533A;&#x57DF;&#x7684;&#x663E;&#x793A;&#x548C;&#x7FFB;&#x9875;&#x94FE;&#x63A5;&#x7684;&#x62FC;&#x63A5;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x4E0E;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x65F6;&#x7684;&#x503C;&#x76F8;&#x6BD4;&#x8F83;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x4E2D; pageName &#x7684;&#x503C;&#x4E3A;&#x641C;&#x7D22;&#xFF0C;&#x800C;&#x6B64;&#x65F6; pageName &#x7684;&#x503C;&#x4E3A;&#x6807;&#x7B7E;&#xFF0C;pageUrl &#x53C2;&#x6570;&#x7684;&#x503C;&#x4E5F;&#x7531; search &#x53D8;&#x6210;&#x4E86; tag&#xFF0C;pageUrl &#x53C2;&#x6570;&#x7684;&#x503C;&#x90FD;&#x4E0E;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x6620;&#x5C04;&#x7684;&#x7B2C;&#x4E00;&#x7EA7;&#x76EE;&#x5F55;&#x76F8;&#x540C;&#xFF0C;pageUrl &#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x4E0B;&#x65B9;&#x5206;&#x9875;&#x6309;&#x94AE;&#x7684;&#x8DEF;&#x5F84;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x7684;&#x751F;&#x6210;&#xFF0C;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x51FA;&#x7684;&#x5206;&#x9875;&#x7ED3;&#x679C;&#x4E2D;&#x5206;&#x9875;&#x6309;&#x94AE;&#x4F1A;&#x8DF3;&#x8F6C;&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;&#x7684;&#x94FE;&#x63A5; /search/{keyword}/{page}&#xFF0C;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#x51FA;&#x7684;&#x5206;&#x9875;&#x7ED3;&#x679C;&#x4E2D;&#x5206;&#x9875;&#x6309;&#x94AE;&#x4F1A;&#x8DF3;&#x8F6C;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x7684;&#x94FE;&#x63A5; /tag/{tagName}/{page} &#x3002; &#x524D;&#x7AEF;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4E3A; list.html&#xFF0C;&#x5C31;&#x4E0D;&#x591A;&#x505A;&#x4ECB;&#x7ECD;&#x4E86;&#xFF0C;&#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x67E5;&#x770B;&#x6570;&#x636E;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#x5373;&#x4E3A;&#x6B63;&#x786E;&#x7684;&#x641C;&#x7D22;&#x9875;&#x526F;&#x6807;&#x9898;&#x3001;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x548C;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x70B9;&#x51FB;&#x4E0D;&#x540C;&#x7684;&#x6807;&#x7B7E;&#x4FE1;&#x606F;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x641C;&#x7D22;&#x9875;&#x9762;&#x540C;&#x65F6;&#x4E5F;&#x4F1A;&#x83B7;&#x5F97;&#x4E0D;&#x540C;&#x7684;&#x641C;&#x7D22;&#x7ED3;&#x679C;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x591A;&#x9875;&#x6570;&#x636E;&#x7684;&#x8BDD;&#xFF0C;&#x70B9;&#x51FB;&#x5206;&#x9875;&#x6309;&#x94AE;&#x5219;&#x4F1A;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#xFF0C;&#x5206;&#x9875;&#x6570;&#x636E;&#x4E5F;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#xFF0C;&#x529F;&#x80FD;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x3002; &#x603B;&#x7ED3;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x6240;&#x6709;&#x7684;&#x641C;&#x7D22;&#x529F;&#x80FD;&#xFF0C;&#x5305;&#x62EC;&#x641C;&#x7D22;&#x6846;&#x641C;&#x7D22;(&#x5173;&#x952E;&#x5B57;&#x641C;&#x7D22;)&#x3001;&#x6309;&#x7167;&#x5206;&#x7C7B;&#x641C;&#x7D22;&#x3001;&#x6309;&#x7167;&#x6807;&#x7B7E;&#x641C;&#x7D22;&#xFF0C;&#x9996;&#x5148;&#x8BB2;&#x5230;&#x4E86;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x4E4B;&#x540E;&#x53C8;&#x5206;&#x522B;&#x8BB2;&#x8FF0;&#x5982;&#x4F55;&#x53D1;&#x8D77;&#x8FD9;&#x4E9B;&#x641C;&#x7D22;&#x8BF7;&#x6C42;&#x5E76;&#x5B8C;&#x5584;&#x4E86;&#x4E4B;&#x524D;&#x7684;&#x9996;&#x5C4F;&#x9875;&#x9762;&#x903B;&#x8F91;&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x662F; SQL &#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x7684;&#x4ECB;&#x7ECD;&#x4EE5;&#x53CA;&#x4E09;&#x4E2A;&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x7684;&#x5165;&#x53C2;&#x548C;&#x7ED3;&#x679C;&#x8FD4;&#x56DE;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x662F;&#x4E00;&#x4E2A;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x4E0D;&#x53EF;&#x7F3A;&#x5C11;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x672C;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x641C;&#x7D22;&#x529F;&#x80FD;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#x3002; &#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x5230;&#x6B64;&#x7ED3;&#x675F;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-26-ping-lun.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x5728;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x7684;&#x90A3;&#x8282;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x5230;&#x4E86;&#x6587;&#x7AE0;&#x8BE6;&#x60C5;&#x9875;&#x7684;&#x9875;&#x9762;&#x4E2D;&#x8FD8;&#x4F1A;&#x6709;&#x6587;&#x7AE0;&#x7684;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x533A;&#x57DF;&#x548C;&#x6587;&#x7AE0;&#x8BC4;&#x8BBA;&#x7684;&#x8F93;&#x5165;&#x533A;&#x57DF;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x90A3;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x8BB2;&#x89E3;&#x548C;&#x4ECB;&#x7ECD;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x8003;&#x8651;&#x5230;&#x7BC7;&#x5E45;&#x7684;&#x7F18;&#x6545;&#xFF0C;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x8BE6;&#x60C5;&#x9875;&#x7684;&#x8BC4;&#x8BBA;&#x6DFB;&#x52A0;&#x548C;&#x5217;&#x8868;&#xFF0C;&#x8FD8;&#x6709;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x529F;&#x80FD;&#x6A21;&#x5757;&#xFF0C;&#x56E0;&#x6B64;&#x5C31;&#x9009;&#x62E9;&#x5355;&#x72EC;&#x7528;&#x4E00;&#x4E2A;&#x7AE0;&#x8282;&#x6765;&#x8BB2;&#x89E3;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x7684;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#xFF0C;&#x5305;&#x62EC;&#x8BE6;&#x60C5;&#x9875;&#x7684;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x548C;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x548C;&#x76F8;&#x5173;&#x63A5;&#x53E3;&#x7684;&#x5F00;&#x53D1;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x4ECB;&#x7ECD; &#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA;&#x63A5;&#x53E3;&#x5B9E;&#x73B0; &#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x9875;&#x9762;&#x8BBE;&#x8BA1;&#x53CA;&#x7F16;&#x7801; &#x8BC4;&#x8BBA;&#x529F;&#x80FD;&#x6D4B;&#x8BD5; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x6587;&#x7AE0;&#x4E2D;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x53C2;&#x7167;&#x5B8C;&#x6574;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/My-Blog-30.zip unzip My-Blog-30.zip cd My-Blog&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x7B80;&#x4ECB;&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x5BF9;&#x4E8E;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x5E76;&#x4E0D;&#x964C;&#x751F;&#xFF0C;&#x4E0D;&#x7BA1;&#x662F;&#x7535;&#x5546;&#x7F51;&#x7AD9;&#x8FD8;&#x662F;&#x89C6;&#x9891;&#x53CA;&#x97F3;&#x4E50;&#x7F51;&#x7AD9;&#xFF0C;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x90FD;&#x662F;&#x4E0D;&#x53EF;&#x6216;&#x7F3A;&#x7684;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x8BC4;&#x8BBA;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5927;&#x5BB6;&#x5BF9;&#x4E8E;&#x4E00;&#x4E2A;&#x5F53;&#x524D;&#x8FD9;&#x4E2A;&#x4E8B;&#x7269;&#x7684;&#x8BC4;&#x4EF7;&#x548C;&#x5EFA;&#x8BAE;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x8BC4;&#x8BBA;&#x53EF;&#x4EE5;&#x5927;&#x81F4;&#x7684;&#x4E86;&#x89E3;&#x8BE5;&#x4E8B;&#x7269;&#x7684;&#x4E00;&#x4E9B;&#x5C5E;&#x6027;&#xFF0C;&#x751A;&#x81F3;&#x4F60;&#x4F1A;&#x89C9;&#x5F97;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x4E5F;&#x548C;&#x8BE6;&#x60C5;&#x6A21;&#x5757;&#x4E00;&#x6837;&#xFF0C;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x66F4;&#x52A0;&#x6E05;&#x6670;&#x7684;&#x4E86;&#x89E3;&#x5230;&#x773C;&#x524D;&#x7684;&#x8FD9;&#x4E2A;&#x4E8B;&#x7269;&#xFF0C;&#x4F46;&#x662F;&#x4E8C;&#x8005;&#x7684;&#x533A;&#x522B;&#x8FD8;&#x662F;&#x5F88;&#x5927;&#x7684;&#xFF0C;&#x8BE6;&#x60C5;&#x6A21;&#x5757;&#x662F;&#x8FD0;&#x8425;&#x4EBA;&#x5458;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x800C;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x5219;&#x662F;&#x7528;&#x6237;&#x7559;&#x4E0B;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E8C;&#x8005;&#x7684;&#x6765;&#x6E90;&#x5C31;&#x6709;&#x5F88;&#x5927;&#x7684;&#x4E0D;&#x540C;&#x3002;&#x56DE;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x4E2D;&#x6765;&#xFF0C;&#x8BBA;&#x575B;&#x3001;&#x535A;&#x5BA2;&#x3001;&#x516C;&#x4F17;&#x53F7;&#x7B49;&#x4E5F;&#x90FD;&#x4F1A;&#x6709;&#x7684;&#x6A21;&#x5757;&#xFF0C;&#x7528;&#x6237;&#x5728;&#x6587;&#x7AE0;&#x4E0B;&#x901A;&#x8FC7;&#x6587;&#x5B57;&#x6216;&#x8005;&#x56FE;&#x7247;&#x6765;&#x7559;&#x4E0B;&#x81EA;&#x5DF1;&#x7684;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x6587;&#x6848;&#x6765;&#x8868;&#x8FBE;&#x81EA;&#x5DF1;&#x7684;&#x95EE;&#x9898;&#x548C;&#x5EFA;&#x8BAE;&#xFF0C;&#x751A;&#x81F3;&#x5BF9;&#x6587;&#x7AE0;&#x4E2D;&#x63D0;&#x5230;&#x7684;&#x5185;&#x5BB9;&#x8FDB;&#x884C;&#x62D3;&#x5C55;&#x548C;&#x5B8C;&#x5584;&#xFF0C;&#x56E0;&#x6B64;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x7684;&#x5F00;&#x53D1;&#x4E5F;&#x662F;&#x5FC5;&#x987B;&#x7684;&#x3002; &#x5728;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x4E86;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E00;&#x4E0B;&#x672C;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x8BC4;&#x8BBA;&#x9875;&#x9762;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF0C;&#x8BC4;&#x8BBA;&#x7684;&#x76F8;&#x5173;&#x529F;&#x80FD;&#x6A21;&#x5757;&#x4E3B;&#x8981;&#x51FA;&#x73B0;&#x5728;&#x4E24;&#x4E2A;&#x5730;&#x65B9;&#xFF1A; &#x5176;&#x4E00;&#x662F;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x4E2D;&#x4F1A;&#x5C55;&#x793A;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x8BC4;&#x8BBA;&#x7684;&#x5217;&#x8868;&#x5C55;&#x793A;&#x548C;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#xFF1B; &#x8BC4;&#x8BBA;&#x5217;&#x8868;&#xFF1A; &#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#xFF1A; &#x5176;&#x4E8C;&#x662F;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x4F1A;&#x6709;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x7684;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x3001;&#x8BC4;&#x8BBA;&#x5BA1;&#x6838;&#x548C;&#x8BC4;&#x8BBA;&#x56DE;&#x590D;&#x7684;&#x529F;&#x80FD;&#x3002; &#x8868;&#x7ED3;&#x6784;&#x8BBE;&#x8BA1;&#x53CA; Mapper &#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x5728;&#x8FDB;&#x884C;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x548C;&#x5177;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x8868;&#x7ED3;&#x6784;&#x786E;&#x5B9A;&#x4E0B;&#x6765;&#xFF0C;&#x4E3B;&#x8981;&#x901A;&#x8FC7;&#x89C2;&#x5BDF;&#x524D;&#x6587;&#x4E2D;&#x51E0;&#x5F20;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x7684;&#x56FE;&#x7247;&#x6765;&#x786E;&#x8BA4;&#x4E00;&#x4E9B;&#x5B57;&#x6BB5;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x9996;&#x5148;&#x662F;&#x8BE6;&#x60C5;&#x9875;&#x4E2D;&#x7684;&#x8BC4;&#x8BBA;&#x5C55;&#x793A;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#x662F;&#x5728;&#x67D0;&#x4E00;&#x7BC7;&#x535A;&#x5BA2;&#x4E0B;&#x8BC4;&#x8BBA;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x5173;&#x8054;&#x535A;&#x5BA2;&#x4E3B;&#x952E; id&#xFF0C; &#x540C;&#x65F6;&#x8BE5;&#x7CFB;&#x7EDF;&#x5E76;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x7528;&#x6237;&#x4F53;&#x7CFB;&#xFF0C;&#x800C;&#x662F;&#x8C01;&#x90FD;&#x53EF;&#x4EE5;&#x8BC4;&#x8BBA;&#xFF0C;&#x7528;&#x6237;&#x8BC4;&#x8BBA;&#x65F6;&#x9700;&#x8981;&#x586B;&#x5199;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x548C;&#x9A8C;&#x8BC1;&#xFF0C;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x5C31;&#x662F;&#x666E;&#x901A;&#x5B57;&#x7B26;&#x4E32;&#x4FE1;&#x606F;&#x63D0;&#x4EA4;&#xFF0C;&#x5305;&#x62EC;&#x4E00;&#x4E9B;&#x57FA;&#x7840;&#x7684;&#x5B57;&#x6BB5;&#x586B;&#x5199;&#xFF0C;&#x4E4B;&#x540E;&#x662F;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#x7BA1;&#x7406;&#x9875;&#x9762;&#xFF0C;&#x6709;&#x5BA1;&#x6838;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x5E94;&#x8BE5;&#x6709;&#x72B6;&#x6001;&#x5B57;&#x6BB5;&#xFF0C;&#x6709;&#x56DE;&#x590D;&#x529F;&#x80FD;&#x4F46;&#x662F;&#x5E76;&#x6CA1;&#x6709;&#x5F00;&#x53D1;&#x591A;&#x7EA7;&#x56DE;&#x590D;&#xFF0C;&#x6240;&#x4EE5;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x56DE;&#x590D;&#x5185;&#x5BB9;&#x5B57;&#x6BB5;&#x3002; &#x603B;&#x7ED3;&#x4E0B;&#x6765;&#xFF0C;&#x8BC4;&#x8BBA;&#x8868;&#x4E2D;&#x91CD;&#x8981;&#x7684;&#x5B57;&#x6BB5;&#x5982;&#x4E0B;&#xFF1A; &#x5173;&#x8054;&#x7684;&#x6587;&#x7AE0;&#x4E3B;&#x952E; blogId &#x8BC4;&#x8BBA;&#x8005;&#x540D;&#x79F0; &#x8BC4;&#x8BBA;&#x4EBA;&#x7684;&#x90AE;&#x7BB1; &#x8BC4;&#x8BBA;&#x5185;&#x5BB9; &#x56DE;&#x590D;&#x5185;&#x5BB9; &#x5BA1;&#x6838;&#x72B6;&#x6001; &#x57FA;&#x4E8E;&#x4EE5;&#x4E0A;&#x5206;&#x6790;&#x8BBE;&#x8BA1;&#x7684;&#x8BC4;&#x8BBA;&#x8868;&#x7684; SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF0C;&#x76F4;&#x63A5;&#x6267;&#x884C;&#x5982;&#x4E0B; SQL &#x8BED;&#x53E5;&#x5373;&#x53EF;&#xFF1A; USE `my_blog_db`; DROP TABLE IF EXISTS `tb_blog_comment`; CREATE TABLE `tb_blog_comment` ( `comment_id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &apos;&#x4E3B;&#x952E;id&apos;, `blog_id` bigint(20) NOT NULL DEFAULT 0 COMMENT &apos;&#x5173;&#x8054;&#x7684;blog&#x4E3B;&#x952E;&apos;, `commentator` varchar(50) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;&#x8BC4;&#x8BBA;&#x8005;&#x540D;&#x79F0;&apos;, `email` varchar(100) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;&#x8BC4;&#x8BBA;&#x4EBA;&#x7684;&#x90AE;&#x7BB1;&apos;, `website_url` varchar(50) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;&#x7F51;&#x5740;&apos;, `comment_body` varchar(200) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;&apos;, `comment_create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &apos;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x65F6;&#x95F4;&apos;, `commentator_ip` varchar(20) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;&#x8BC4;&#x8BBA;&#x65F6;&#x7684;ip&#x5730;&#x5740;&apos;, `reply_body` varchar(200) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;&#x56DE;&#x590D;&#x5185;&#x5BB9;&apos;, `reply_create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT &apos;&#x56DE;&#x590D;&#x65F6;&#x95F4;&apos;, `comment_status` tinyint(4) NOT NULL DEFAULT &apos;0&apos; COMMENT &apos;&#x662F;&#x5426;&#x5BA1;&#x6838;&#x901A;&#x8FC7; 0-&#x672A;&#x5BA1;&#x6838; 1-&#x5BA1;&#x6838;&#x901A;&#x8FC7;&apos;, `is_deleted` tinyint(4) DEFAULT &apos;0&apos; COMMENT &apos;&#x662F;&#x5426;&#x5220;&#x9664; 0-&#x672A;&#x5220;&#x9664; 1-&#x5DF2;&#x5220;&#x9664;&apos;, PRIMARY KEY (`comment_id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x65F6;&#x95F4;&#x5B57;&#x6BB5;&#x548C;&#x4E00;&#x4E9B;&#x56FA;&#x5B9A;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x628A;&#x8868;&#x7ED3;&#x6784;&#x5BFC;&#x5165;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x4F7F;&#x7528; MyBatis-Generator &#x63D2;&#x4EF6;&#x5C06;&#x8BE5;&#x8868;&#x5BF9;&#x5E94;&#x7684; Mapper &#x6587;&#x4EF6;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x548C; Dao &#x5C42;&#x63A5;&#x53E3;&#x751F;&#x6210;&#x51FA;&#x6765;&#x5E76;&#x9488;&#x5BF9; is_deleted &#x5B57;&#x6BB5;&#x5BF9;&#x90E8;&#x5206; SQL &#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x5373;&#x53EF;&#xFF0C;&#x53EF;&#x53C2;&#x8003;&#x524D;&#x6587;&#x4E2D;&#x7684;&#x77E5;&#x8BC6;&#x70B9;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002; &#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x5236;&#x4F5C;&#x5BFC;&#x822A;&#x680F;&#x9996;&#x5148;&#x5728;&#x5DE6;&#x4FA7;&#x5BFC;&#x822A;&#x680F;&#x4E2D;&#x65B0;&#x589E;&#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x9875;&#x7684;&#x5BFC;&#x822A;&#x6309;&#x94AE;&#xFF0C;&#x5728; sidebar.html &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/sidebar.html) &lt;li class=&quot;nav-item&quot;&gt; &lt;a th:href=&quot;@{/admin/comments}&quot; th:class=&quot;${path}==&apos;comments&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt; &lt;i class=&quot;fa fa-comments nav-icon&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt; &lt;p&gt; &#x8BC4;&#x8BBA;&#x7BA1;&#x7406; &lt;/p&gt; &lt;/a&gt; &lt;/li&gt;&#x70B9;&#x51FB;&#x540E;&#x7684;&#x8DF3;&#x8F6C;&#x8DEF;&#x5F84;&#x4E3A; /admin/comments&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x65B0;&#x5EFA; Controller &#x6765;&#x5904;&#x7406;&#x8BE5;&#x8DEF;&#x5F84;&#x5E76;&#x8DF3;&#x8F6C;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9875;&#x9762;&#x3002; Controller &#x5904;&#x7406;&#x8DF3;&#x8F6C;&#x9996;&#x5148;&#x5728; controller/admin &#x5305;&#x4E0B;&#x65B0;&#x5EFA; CommentController.java&#xFF0C;&#x4E4B;&#x540E;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; package com.site.blog.my.core.controller.admin; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestMapping; import javax.servlet.http.HttpServletRequest; @Controller @RequestMapping(&quot;/admin&quot;) public class CommentController { @GetMapping(&quot;/comments&quot;) public String list(HttpServletRequest request) { request.setAttribute(&quot;path&quot;, &quot;comments&quot;); return &quot;admin/comment&quot;; } }&#x8BE5;&#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5904;&#x7406; /admin/comments &#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x8BBE;&#x7F6E; path &#x5B57;&#x6BB5;&#xFF0C;&#x4E4B;&#x540E;&#x8DF3;&#x8F6C;&#x5230; admin &#x76EE;&#x5F55;&#x4E0B;&#x7684; comment.html &#x4E2D;&#x3002; comment.html &#x9875;&#x9762;&#x5236;&#x4F5C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x535A;&#x5BA2;&#x7F16;&#x8F91;&#x9875;&#x9762;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5236;&#x4F5C;&#x4E86;&#xFF0C;&#x5728; resources/templates/admin &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; comment.html&#xFF0C;&#x5E76;&#x5F15;&#x5165;&#x5BF9;&#x5E94;&#x7684; js &#x6587;&#x4EF6;&#x548C; css &#x6837;&#x5F0F;&#x6587;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;header th:replace=&quot;admin/header::header-fragment&quot;&gt;&lt;/header&gt; &lt;body class=&quot;hold-transition sidebar-mini&quot;&gt; &lt;div class=&quot;wrapper&quot;&gt; &lt;!-- &#x5F15;&#x5165;&#x9875;&#x9762;&#x5934;header-fragment --&gt; &lt;div th:replace=&quot;admin/header::header-nav&quot;&gt;&lt;/div&gt; &lt;!-- &#x5F15;&#x5165;&#x5DE5;&#x5177;&#x680F;sidebar-fragment --&gt; &lt;div th:replace=&quot;admin/sidebar::sidebar-fragment(${path})&quot;&gt;&lt;/div&gt; &lt;!-- Content Wrapper. Contains page content --&gt; &lt;div class=&quot;content-wrapper&quot;&gt; &lt;!-- Content Header (Page header) --&gt; &lt;div class=&quot;content-header&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;/div&gt;&lt;!-- /.container-fluid --&gt; &lt;/div&gt; &lt;!-- Main content --&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;card card-primary card-outline&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h3 class=&quot;card-title&quot;&gt;&#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&lt;/h3&gt; &lt;/div&gt; &lt;!-- /.card-body --&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div th:replace=&quot;admin/footer::footer-fragment&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;!-- jQuery --&gt; &lt;script th:src=&quot;@{/admin/plugins/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- jQuery UI 1.11.4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/jQueryUI/jquery-ui.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- Bootstrap 4 --&gt; &lt;script th:src=&quot;@{/admin/plugins/bootstrap/js/bootstrap.bundle.min.js}&quot;&gt;&lt;/script&gt; &lt;!-- AdminLTE App --&gt; &lt;script th:src=&quot;@{/admin/dist/js/adminlte.min.js}&quot;&gt;&lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x81F3;&#x6B64;&#xFF0C;&#x8DF3;&#x8F6C;&#x903B;&#x8F91;&#x5904;&#x7406;&#x5B8C;&#x6BD5;&#xFF0C;&#x6F14;&#x793A;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x53CA;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x4ECB;&#x7ECD;&#x5173;&#x4E8E;&#x63A5;&#x53E3;&#x7684;&#x8BBE;&#x8BA1;&#x4EE5;&#x53CA;&#x524D;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x6570;&#x636E;&#x7684;&#x8BBE;&#x8BA1;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E00;&#x4E0B;&#x7B2C; 12 &#x8BFE;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x53CB;&#x94FE;&#x6A21;&#x5757;&#x5728;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x6709; 4 &#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x5206;&#x522B;&#x662F;&#xFF1A; &#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3; &#x8BC4;&#x8BBA;&#x5BA1;&#x6838;&#x63A5;&#x53E3; &#x8BC4;&#x8BBA;&#x56DE;&#x590D;&#x63A5;&#x53E3; &#x5220;&#x9664;&#x8BC4;&#x8BBA;&#x63A5;&#x53E3; &#x63A5;&#x4E0B;&#x6765;&#x8BB2;&#x89E3;&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#xFF0C;&#x9996;&#x5148;&#x5728; controller/admin &#x5305;&#x4E0B;&#x65B0;&#x5EFA; CommentController.java&#xFF0C;&#x5E76;&#x5728; service &#x5305;&#x4E0B;&#x65B0;&#x5EFA;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801; CommentService.java &#x53CA;&#x5B9E;&#x73B0;&#x7C7B;&#xFF0C;&#x4E4B;&#x540E;&#x53C2;&#x7167;&#x63A5;&#x53E3;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002; &#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x5206;&#x9875;&#x63A5;&#x53E3;&#x5217;&#x8868;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x4F20;&#x6765;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#xFF0C;&#x5982; page &#x3001;limit &#x7B49;&#x53C2;&#x6570;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x6570;&#x636E;&#x603B;&#x6570;&#x548C;&#x5BF9;&#x5E94;&#x9875;&#x9762;&#x7684;&#x6570;&#x636E;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x51FA;&#x6765;&#x5E76;&#x5C01;&#x88C5;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.CommentController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /comments/list&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; /** * &#x8BC4;&#x8BBA;&#x5217;&#x8868; */ @GetMapping(&quot;/comments/list&quot;) @ResponseBody public Result list(@RequestParam Map&lt;String, Object&gt; params) { if (StringUtils.isEmpty(params.get(&quot;page&quot;)) || StringUtils.isEmpty(params.get(&quot;limit&quot;))) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } PageQueryUtil pageUtil = new PageQueryUtil(params); return ResultGenerator.genSuccessResult(commentService.getCommentsPage(pageUtil)); } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.CommentServiceImpl.java&#xFF09;&#xFF1A; public PageResult getCommentsPage(PageQueryUtil pageUtil) { List&lt;BlogComment&gt; comments = blogCommentMapper.findBlogCommentList(pageUtil); int total = blogCommentMapper.getTotalBlogComments(pageUtil); PageResult pageResult = new PageResult(comments, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } BlogCommentMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogCommentMapper.xml&#xFF09;&#xFF1A; &lt;select id=&quot;findBlogCommentList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog_comment where is_deleted=0 order by comment_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalBlogComments&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog_comment where is_deleted=0 &lt;/select&gt;SQL &#x8BED;&#x53E5;&#x5728; BlogCommentMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x4E00;&#x822C;&#x7684;&#x5206;&#x9875;&#x4E5F;&#x5C31;&#x662F;&#x4F7F;&#x7528; limit &#x5173;&#x952E;&#x5B57;&#x5B9E;&#x73B0;&#xFF0C;&#x83B7;&#x53D6;&#x54CD;&#x5E94;&#x6761;&#x6570;&#x7684;&#x8BB0;&#x5F55;&#x548C;&#x603B;&#x6570;&#x4E4B;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#xFF0C;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#x5C31;&#x662F;&#x6839;&#x636E;&#x524D;&#x7AEF;&#x4F20;&#x7684;&#x5206;&#x9875;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x5E76;&#x8FD4;&#x56DE;&#x5206;&#x9875;&#x6570;&#x636E;&#x4EE5;&#x4F9B;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E32;&#x67D3;&#xFF0C;&#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x7684;&#x5217;&#x8868;&#x662F;&#x83B7;&#x53D6;&#x5168;&#x90E8;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E0D;&#x4F1A;&#x6839;&#x636E; blog_id &#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002; &#x8BC4;&#x8BBA;&#x5BA1;&#x6838;&#x63A5;&#x53E3;&#x5BA1;&#x6838;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684;&#x5BA1;&#x6838;&#x8BF7;&#x6C42;&#xFF0C;&#x5904;&#x7406;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x8BC4;&#x8BBA;&#x7684;&#x72B6;&#x6001;&#x503C;&#x6539;&#x4E3A;&#x5DF2;&#x5BA1;&#x6838;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5BA1;&#x6838;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x524D;&#x7AEF;&#x5C06;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55; id &#x5C01;&#x88C5;&#x597D;&#x518D;&#x4F20;&#x53C2;&#x5230;&#x540E;&#x7AEF;&#x5373;&#x53EF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.CommentController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /comments/checkDone &#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/comments/checkDone&quot;) @ResponseBody public Result checkDone(@RequestBody Integer[] ids) { if (ids.length &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (commentService.checkDone(ids)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x5BA1;&#x6838;&#x5931;&#x8D25;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.CommentServiceImpl.java&#xFF09;&#xFF1A; public Boolean checkDone(Integer[] ids) { return blogCommentMapper.checkDone(ids) &gt; 0; } BlogCommentMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogCommentMapper.xml&#xFF09;&#xFF1A; &lt;update id=&quot;checkDone&quot;&gt; update tb_blog_comment set comment_status=1 where comment_id in &lt;foreach item=&quot;id&quot; collection=&quot;array&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #{id} &lt;/foreach&gt; and comment_status = 0 &lt;/update&gt;&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /comments/checkDone&#xFF0C;&#x5E76;&#x4F7F;&#x7528; @RequestBody &#x5C06;&#x524D;&#x7AEF;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x4E3A; id &#x6570;&#x7EC4;&#xFF0C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5219;&#x8C03;&#x7528; checkDone() &#x6279;&#x91CF;&#x5BA1;&#x6838;&#x65B9;&#x6CD5;&#x4FEE;&#x6539;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#x7684;&#x5BA1;&#x6838;&#x72B6;&#x6001;&#x5B57;&#x6BB5;&#x3002; &#x8BC4;&#x8BBA;&#x56DE;&#x590D;&#x63A5;&#x53E3;&#x8BC4;&#x8BBA;&#x56DE;&#x590D;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x5728;&#x8BC4;&#x8BBA;&#x5BA1;&#x6838;&#x901A;&#x8FC7;&#x4E4B;&#x540E;&#x8C03;&#x7528;&#xFF0C;&#x76EE;&#x7684;&#x5C31;&#x662F;&#x7ED9;&#x9700;&#x8981;&#x56DE;&#x590D;&#x7684;&#x8BC4;&#x8BBA;&#x6DFB;&#x52A0;&#x56DE;&#x590D;&#x5B57;&#x6BB5;&#x5185;&#x5BB9;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.CommentController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /comments/checkDone &#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/comments/reply&quot;) @ResponseBody public Result checkDone(@RequestParam(&quot;commentId&quot;) Long commentId, @RequestParam(&quot;replyBody&quot;) String replyBody) { if (commentId == null || commentId &lt; 1 || StringUtils.isEmpty(replyBody)) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (commentService.reply(commentId, replyBody)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x56DE;&#x590D;&#x5931;&#x8D25;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.CommentServiceImpl.java&#xFF09;&#xFF1A; public Boolean reply(Long commentId, String replyBody) { BlogComment blogComment = blogCommentMapper.selectByPrimaryKey(commentId); //blogComment&#x4E0D;&#x4E3A;&#x7A7A;&#x4E14;&#x72B6;&#x6001;&#x4E3A;&#x5DF2;&#x5BA1;&#x6838;&#xFF0C;&#x5219;&#x7EE7;&#x7EED;&#x540E;&#x7EED;&#x64CD;&#x4F5C; if (blogComment != null &amp;&amp; blogComment.getCommentStatus().intValue() == 1) { blogComment.setReplyBody(replyBody); blogComment.setReplyCreateTime(new Date()); return blogCommentMapper.updateByPrimaryKeySelective(blogComment) &gt; 0; } return false; }&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /comments/reply&#xFF0C;&#x5165;&#x53C2;&#x8BBE;&#x7F6E;&#x4E3A;&#x9009;&#x4E2D;&#x7684;&#x8BC4;&#x8BBA;&#x8BB0;&#x5F55; id &#x4EE5;&#x53CA;&#x9700;&#x8981;&#x56DE;&#x590D;&#x7684;&#x5185;&#x5BB9;&#x5B57;&#x6BB5;&#xFF0C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5219;&#x8C03;&#x7528; reply() &#x5BF9;&#x8868;&#x4E2D;&#x7684;&#x56DE;&#x590D;&#x76F8;&#x5173;&#x5B57;&#x6BB5;&#x505A;&#x4FEE;&#x6539;&#xFF0C;&#x8FD9;&#x91CC;&#x662F;&#x505A;&#x6210;&#x4E86;&#x5355;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x56DE;&#x590D;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x9700;&#x8981;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x9002;&#x5F53;&#x7684;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6269;&#x5C55;&#x3002; &#x5220;&#x9664;&#x8BC4;&#x8BBA;&#x63A5;&#x53E3;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684;&#x8BC4;&#x8BBA;&#x5220;&#x9664;&#x8BF7;&#x6C42;&#xFF0C;&#x5904;&#x7406;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x8FC7;&#x6765;&#x7684;&#x6570;&#x636E;&#x540E;&#xFF0C;&#x5C06;&#x8FD9;&#x4E9B;&#x8BB0;&#x5F55;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x201C;&#x5220;&#x9664;&#x201D;&#x529F;&#x80FD;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x610F;&#x4E49;&#x4E0A;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x800C;&#x662F;&#x903B;&#x8F91;&#x5220;&#x9664;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x5220;&#x9664;&#x591A;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x524D;&#x7AEF;&#x5C06;&#x7528;&#x6237;&#x9009;&#x62E9;&#x7684;&#x8BB0;&#x5F55; id &#x5C01;&#x88C5;&#x597D;&#x518D;&#x4F20;&#x53C2;&#x5230;&#x540E;&#x7AEF;&#x5373;&#x53EF;&#x3002; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.admin.CommentController.java&#xFF09;&#xFF1A; &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /comments/delete&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @PostMapping(&quot;/comments/delete&quot;) @ResponseBody public Result delete(@RequestBody Integer[] ids) { if (ids.length &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&#xFF01;&quot;); } if (commentService.deleteBatch(ids)) { return ResultGenerator.genSuccessResult(); } else { return ResultGenerator.genFailResult(&quot;&#x522A;&#x9664;&#x5931;&#x8D25;&quot;); } } &#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.CommentServiceImpl.java&#xFF09;&#xFF1A; public Boolean deleteBatch(Integer[] ids) { return blogCommentMapper.deleteBatch(ids) &gt; 0; } BlogCommentMapper.xml &#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogCommentMapper.xml&#xFF09;&#xFF1A; &lt;update id=&quot;deleteBatch&quot;&gt; update tb_blog_comment set is_deleted=1 where comment_id in &lt;foreach item=&quot;id&quot; collection=&quot;array&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt; #{id} &lt;/foreach&gt; &lt;/update&gt;&#x4F7F;&#x7528; @RequestBody &#x5C06;&#x524D;&#x7AEF;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x4E3A; id &#x6570;&#x7EC4;&#xFF0C;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5219;&#x8C03;&#x7528; deleteBatch() &#x6279;&#x91CF;&#x5220;&#x9664;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x5411;&#x524D;&#x7AEF;&#x8FD4;&#x56DE;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x6211;&#x4EEC;&#x4E5F;&#x8BBE;&#x8BA1;&#x4E86;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A;&#x529F;&#x80FD;&#xFF1A;&#x8BC4;&#x8BBA;&#x5BA1;&#x6838;&#x3001;&#x8BC4;&#x8BBA;&#x56DE;&#x590D;&#x3001;&#x8BC4;&#x8BBA;&#x5220;&#x9664;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x4EE5;&#x53CA;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/templates/admin/comment.html) &lt;div class=&quot;grid-btn&quot;&gt; &lt;button class=&quot;btn btn-success&quot; onclick=&quot;checkDoneComments()&quot;&gt;&lt;i class=&quot;fa fa-check&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x6279;&#x91CF;&#x5BA1;&#x6838; &lt;/button&gt; &lt;button class=&quot;btn btn-info&quot; onclick=&quot;reply()&quot;&gt;&lt;i class=&quot;fa fa-reply&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x56DE;&#x590D; &lt;/button&gt; &lt;button class=&quot;btn btn-danger&quot; onclick=&quot;deleteComments()&quot;&gt;&lt;i class=&quot;fa fa-trash-o&quot;&gt;&lt;/i&gt;&amp;nbsp;&#x6279;&#x91CF;&#x5220;&#x9664; &lt;/button&gt; &lt;/div&gt;&#x5206;&#x522B;&#x662F;&#x6279;&#x91CF;&#x5BA1;&#x6838;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; checkDoneComments() &#x65B9;&#x6CD5;&#xFF0C;&#x56DE;&#x590D;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; reply() &#x65B9;&#x6CD5;&#xFF0C;&#x5220;&#x9664;&#x6309;&#x94AE;&#x5BF9;&#x5E94;&#x7684;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x662F; deleteComments() &#x65B9;&#x6CD5;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x540E;&#x7EED;&#x7684;&#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E2D;&#x7ED9;&#x51FA;&#x3002; &#x5206;&#x9875;&#x4FE1;&#x606F;&#x5C55;&#x793A;&#x533A;&#x57DF;&#x9875;&#x9762;&#x4E2D;&#x5DF2;&#x7ECF;&#x5F15;&#x5165; JqGrid &#x7684;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x5C55;&#x793A;&#x5206;&#x9875;&#x6570;&#x636E;&#x7684;&#x533A;&#x57DF;&#x589E;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &lt;table id=&quot;jqGrid&quot; class=&quot;table table-bordered&quot;&gt;&lt;/table&gt; &lt;div id=&quot;jqGridPager&quot;&gt;&lt;/div&gt;&#x9875;&#x9762;&#x6548;&#x679C;&#x90A3;&#x4E48;&#x6700;&#x7EC8;&#x7684;&#x9759;&#x6001;&#x9875;&#x9762;&#x6548;&#x679C;&#x5C55;&#x793A;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5305;&#x62EC;&#x529F;&#x80FD;&#x6309;&#x94AE;&#x3001;&#x6570;&#x636E;&#x5217;&#x8868;&#x5C55;&#x793A;&#x533A;&#x57DF;&#xFF0C;&#x6B64;&#x65F6;&#x53EA;&#x662F;&#x9759;&#x6001;&#x6548;&#x679C;&#x5C55;&#x793A;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x4E0E;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x7ED3;&#x5408; Ajax &#x548C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x5177;&#x4F53;&#x7684;&#x529F;&#x80FD;&#x3002; &#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x524D;&#x7AEF;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x5B8C;&#x6210;&#x4E86;&#x9875;&#x9762;&#x5C55;&#x793A;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x63A5;&#x7740;&#x5B8C;&#x6210;&#x76F8;&#x5173;&#x7684;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x3002;&#x8BF7;&#x5927;&#x5BB6;&#x4E00;&#x5B9A;&#x81EA;&#x884C;&#x5BF9;&#x7167;&#x6E90;&#x7801;&#x5B8C;&#x6210;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x3002; &#x5206;&#x9875;&#x529F;&#x80FD;&#x5728; resources/static/admin/dist/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; comment.js &#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; $(function () { $(&quot;#jqGrid&quot;).jqGrid({ url: &apos;/admin/comments/list&apos;, datatype: &quot;json&quot;, colModel: [ {label: &apos;id&apos;, name: &apos;commentId&apos;, index: &apos;commentId&apos;, width: 50, key: true, hidden: true}, {label: &apos;&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;&apos;, name: &apos;commentBody&apos;, index: &apos;commentBody&apos;, width: 120}, {label: &apos;&#x8BC4;&#x8BBA;&#x65F6;&#x95F4;&apos;, name: &apos;commentCreateTime&apos;, index: &apos;commentCreateTime&apos;, width: 60}, {label: &apos;&#x8BC4;&#x8BBA;&#x4EBA;&#x540D;&#x79F0;&apos;, name: &apos;commentator&apos;, index: &apos;commentator&apos;, width: 60}, {label: &apos;&#x8BC4;&#x8BBA;&#x4EBA;&#x90AE;&#x7BB1;&apos;, name: &apos;email&apos;, index: &apos;email&apos;, width: 90}, {label: &apos;&#x72B6;&#x6001;&apos;, name: &apos;commentStatus&apos;, index: &apos;commentStatus&apos;, width: 60, formatter: statusFormatter}, {label: &apos;&#x56DE;&#x590D;&#x5185;&#x5BB9;&apos;, name: &apos;replyBody&apos;, index: &apos;replyBody&apos;, width: 120}, ], height: 700, rowNum: 10, rowList: [10, 20, 50], styleUI: &apos;Bootstrap&apos;, loadtext: &apos;&#x4FE1;&#x606F;&#x8BFB;&#x53D6;&#x4E2D;...&apos;, rownumbers: false, rownumWidth: 20, autowidth: true, multiselect: true, pager: &quot;#jqGridPager&quot;, jsonReader: { root: &quot;data.list&quot;, page: &quot;data.currPage&quot;, total: &quot;data.totalPage&quot;, records: &quot;data.totalCount&quot; }, prmNames: { page: &quot;page&quot;, rows: &quot;limit&quot;, order: &quot;order&quot;, }, gridComplete: function () { //&#x9690;&#x85CF;grid&#x5E95;&#x90E8;&#x6EDA;&#x52A8;&#x6761; $(&quot;#jqGrid&quot;).closest(&quot;.ui-jqgrid-bdiv&quot;).css({&quot;overflow-x&quot;: &quot;hidden&quot;}); } }); $(window).resize(function () { $(&quot;#jqGrid&quot;).setGridWidth($(&quot;.card-body&quot;).width()); }); function statusFormatter(cellvalue) { if (cellvalue == 0) { return &quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-block btn-secondary btn-sm\&quot; style=\&quot;width: 80%;\&quot;&gt;&#x5F85;&#x5BA1;&#x6838;&lt;/button&gt;&quot;; } else if (cellvalue == 1) { return &quot;&lt;button type=\&quot;button\&quot; class=\&quot;btn btn-block btn-success btn-sm\&quot; style=\&quot;width: 80%;\&quot;&gt;&#x5DF2;&#x5BA1;&#x6838;&lt;/button&gt;&quot;; } } });&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x7684;&#x4E3B;&#x8981;&#x529F;&#x80FD;&#x4E3A;&#x5206;&#x9875;&#x6570;&#x636E;&#x5C55;&#x793A;&#x3001;&#x5B57;&#x6BB5;&#x683C;&#x5F0F;&#x5316; jqGrid DOM &#x5BBD;&#x5EA6;&#x7684;&#x81EA;&#x9002;&#x5E94;&#xFF0C;&#x5728;&#x9875;&#x9762;&#x52A0;&#x8F7D;&#x65F6;&#xFF0C;&#x8C03;&#x7528; JqGrid &#x7684;&#x521D;&#x59CB;&#x5316;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x9875;&#x9762;&#x4E2D; id &#x4E3A; jqGrid &#x7684; DOM &#x6E32;&#x67D3;&#x4E3A;&#x5206;&#x9875;&#x8868;&#x683C;&#xFF0C;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /admin/comments/list&#xFF0C;&#x8BE5;&#x8DEF;&#x5F84;&#x5373;&#x53CB;&#x94FE;&#x5206;&#x9875;&#x5217;&#x8868;&#x63A5;&#x53E3;&#xFF0C;&#x4E4B;&#x540E;&#x6309;&#x7167;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684; json &#x6570;&#x636E;&#x586B;&#x5145;&#x8868;&#x683C;&#x4EE5;&#x53CA;&#x8868;&#x683C;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7B2C; 15 &#x4E2A;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4E2D; jqgrid &#x5206;&#x9875;&#x529F;&#x80FD;&#x6574;&#x5408;&#x8FDB;&#x884C;&#x77E5;&#x8BC6;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x9A8C;&#x8BC1;&#x4E00;&#x4E0B;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#x5206;&#x9875;&#x529F;&#x80FD;&#x662F;&#x5426;&#x6B63;&#x5E38;&#x3002; &#x6279;&#x91CF;&#x5BA1;&#x6838;&#x529F;&#x80FD;&#x6E38;&#x5BA2;&#x5728;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x63D0;&#x4EA4;&#x7684;&#x8BC4;&#x8BBA;&#x521D;&#x59CB;&#x72B6;&#x6001;&#x4E3A;&#x672A;&#x5BA1;&#x6838;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x6E38;&#x5BA2;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x6709;&#x4E9B;&#x53EF;&#x80FD;&#x662F;&#x65E0;&#x610F;&#x4E49;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x8005;&#x4E00;&#x4E9B;&#x4E0D;&#x9002;&#x5408;&#x663E;&#x793A;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x8FD9;&#x79CD;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x663E;&#x793A;&#x5728;&#x535A;&#x5BA2;&#x9875;&#x9762;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x505A;&#x4E86;&#x5BA1;&#x6838;&#x8FD9;&#x4E2A;&#x529F;&#x80FD;&#x3002; &#x6279;&#x91CF;&#x5BA1;&#x6838;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4E3A; checkDoneComments()&#xFF0C;&#x5728; comment.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; /** * &#x6279;&#x91CF;&#x5BA1;&#x6838; */ function checkDoneComments() { var ids = getSelectedRows(); if (ids == null) { return; } swal({ title: &quot;&#x786E;&#x8BA4;&#x5F39;&#x6846;&quot;, text: &quot;&#x786E;&#x8BA4;&#x5BA1;&#x6838;&#x901A;&#x8FC7;&#x5417;?&quot;, icon: &quot;warning&quot;, buttons: true, dangerMode: true, }).then((flag) =&gt; { if (flag) { $.ajax({ type: &quot;POST&quot;, url: &quot;/admin/comments/checkDone&quot;, contentType: &quot;application/json&quot;, data: JSON.stringify(ids), success: function (r) { if (r.resultCode == 200) { swal(&quot;&#x5BA1;&#x6838;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); $(&quot;#jqGrid&quot;).trigger(&quot;reloadGrid&quot;); } else { swal(r.message, { icon: &quot;error&quot;, }); } } }); } } ); }&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5728; jqgrid &#x8868;&#x683C;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x5BA1;&#x6838;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684; id&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; comments/checkDone&#x3002; &#x56DE;&#x590D;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x56DE;&#x590D;&#x6309;&#x94AE;&#x7ED1;&#x5B9A;&#x4E86;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728; comment.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E; reply() &#x65B9;&#x6CD5;&#xFF0C;&#x65B9;&#x6CD5;&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#x4E3A;&#x6253;&#x5F00;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#xFF0C;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x4FE1;&#x606F;&#x7F16;&#x8F91;&#x6846;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;div class=&quot;content&quot;&gt; &lt;!-- &#x6A21;&#x6001;&#x6846;&#xFF08;Modal&#xFF09; --&gt; &lt;div class=&quot;modal fade&quot; id=&quot;replyModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;replyModalLabel&quot;&gt; &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt; &lt;div class=&quot;modal-content&quot;&gt; &lt;div class=&quot;modal-header&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;&lt;/button&gt; &lt;h6 class=&quot;modal-title&quot; id=&quot;replyModalLabel&quot;&gt;&#x8BC4;&#x8BBA;&#x56DE;&#x590D;&lt;/h6&gt; &lt;/div&gt; &lt;div class=&quot;modal-body&quot;&gt; &lt;form id=&quot;replyForm&quot;&gt; &lt;input type=&quot;hidden&quot; class=&quot;form-control&quot; id=&quot;categoryId&quot; name=&quot;categoryId&quot;&gt; &lt;div class=&quot;form-group&quot;&gt; &lt;label for=&quot;replyBody&quot; class=&quot;control-label&quot;&gt;&#x56DE;&#x590D;&#x5185;&#x5BB9;:&lt;/label&gt; &lt;textarea type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;replyBody&quot; name=&quot;replyBody&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;&#x56DE;&#x590D;&#x5185;&#x5BB9;&quot; required=&quot;true&quot;&gt;&lt;/textarea&gt; &lt;/div&gt; &lt;/form&gt; &lt;/div&gt; &lt;div class=&quot;modal-footer&quot;&gt; &lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;&#x53D6;&#x6D88;&lt;/button&gt; &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&quot;saveButton&quot;&gt;&#x786E;&#x8BA4;&lt;/button&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- /.modal --&gt; &lt;/div&gt;&#x56DE;&#x590D;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A; function reply() { var id = getSelectedRow(); if (id == null) { return; } var rowData = $(&quot;#jqGrid&quot;).jqGrid(&apos;getRowData&apos;, id); if (rowData.commentStatus.indexOf(&apos;&#x5F85;&#x5BA1;&#x6838;&apos;) &gt; -1) { swal(&quot;&#x8BF7;&#x5148;&#x5BA1;&#x6838;&#x8BE5;&#x8BC4;&#x8BBA;&#x518D;&#x8FDB;&#x884C;&#x56DE;&#x590D;!&quot;, { icon: &quot;warning&quot;, }); return; } $(&quot;#replyBody&quot;).val(&apos;&apos;); $(&apos;#replyModal&apos;).modal(&apos;show&apos;); }&#x5728; Modal &#x6846;&#x663E;&#x793A;&#x4E4B;&#x524D;&#x9996;&#x5148;&#x4F1A;&#x5224;&#x65AD;&#x5F53;&#x524D;&#x6240;&#x9009;&#x62E9;&#x7684;&#x8BC4;&#x8BBA;&#x8BB0;&#x5F55;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5982;&#x679C;&#x672A;&#x5BA1;&#x6838;&#x662F;&#x4E0D;&#x4F1A;&#x663E;&#x793A;&#x56DE;&#x590D;&#x7F16;&#x8F91;&#x6846;&#x7684;&#xFF0C;&#x5BA1;&#x6838;&#x901A;&#x8FC7;&#x5219;&#x663E;&#x793A;&#x56DE;&#x590D;&#x6846;&#x8BA9;&#x7BA1;&#x7406;&#x5458;&#x6DFB;&#x52A0;&#x56DE;&#x590D;&#x4FE1;&#x606F;&#x3002; Modal &#x6846;&#x5B9E;&#x9645;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5C06;&#x56DE;&#x590D;&#x5185;&#x5BB9;&#x586B;&#x5199;&#x540E;&#x70B9;&#x51FB;&#x786E;&#x8BA4;&#x6309;&#x94AE;&#x5373;&#x53EF;&#xFF0C;&#x6B64;&#x65F6;&#x4F1A;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x4EA4;&#x4E92;&#xFF0C;js &#x5B9E;&#x73B0;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x7ED1;&#x5B9A;modal&#x4E0A;&#x7684;&#x4FDD;&#x5B58;&#x6309;&#x94AE; $(&apos;#saveButton&apos;).click(function () { var replyBody = $(&quot;#replyBody&quot;).val(); if (!validCN_ENString2_100(replyBody)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x56DE;&#x590D;&#x4FE1;&#x606F;!&quot;, { icon: &quot;warning&quot;, }); return; } else { var url = &apos;/admin/comments/reply&apos;; var id = getSelectedRow(); var params = {&quot;commentId&quot;: id, &quot;replyBody&quot;: replyBody} $.ajax({ type: &apos;POST&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: url, data: params, success: function (result) { if (result.resultCode == 200) { $(&apos;#replyModal&apos;).modal(&apos;hide&apos;); swal(&quot;&#x56DE;&#x590D;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); reload(); } else { $(&apos;#replyModal&apos;).modal(&apos;hide&apos;); swal(result.message, { icon: &quot;error&quot;, }); } ; }, error: function () { swal(&quot;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot;, }); } }); } });&#x83B7;&#x53D6;&#x56DE;&#x590D;&#x5185;&#x5BB9;&#x5B57;&#x7B26;&#x4E32;&#x4EE5;&#x53CA;&#x9700;&#x8981;&#x6DFB;&#x52A0;&#x56DE;&#x590D;&#x7684;&#x8BC4;&#x8BBA;&#x4E3B;&#x952E; id &#xFF0C;&#x4E4B;&#x540E;&#x8C03;&#x7528;&#x56DE;&#x590D;&#x63A5;&#x53E3;&#x5373;&#x53EF;&#x3002; &#x5220;&#x9664;&#x529F;&#x80FD;&#x5220;&#x9664;&#x6309;&#x94AE;&#x7684;&#x70B9;&#x51FB;&#x89E6;&#x53D1;&#x4E8B;&#x4EF6;&#x4E3A; deleteComments()&#xFF0C;&#x5728; comment.js &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; /** * &#x6279;&#x91CF;&#x5220;&#x9664; */ function deleteComments() { var ids = getSelectedRows(); if (ids == null) { return; } swal({ title: &quot;&#x786E;&#x8BA4;&#x5F39;&#x6846;&quot;, text: &quot;&#x786E;&#x8BA4;&#x5220;&#x9664;&#x8FD9;&#x4E9B;&#x8BC4;&#x8BBA;&#x5417;?&quot;, icon: &quot;warning&quot;, buttons: true, dangerMode: true, }).then((flag) =&gt; { if (flag) { $.ajax({ type: &quot;POST&quot;, url: &quot;/admin/comments/delete&quot;, contentType: &quot;application/json&quot;, data: JSON.stringify(ids), success: function (r) { if (r.resultCode == 200) { swal(&quot;&#x5220;&#x9664;&#x6210;&#x529F;&quot;, { icon: &quot;success&quot;, }); $(&quot;#jqGrid&quot;).trigger(&quot;reloadGrid&quot;); } else { swal(r.message, { icon: &quot;error&quot;, }); } } }); } } ); }&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5728; jqgrid &#x8868;&#x683C;&#x4E2D;&#x9009;&#x62E9;&#x7684;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#x7684; id&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x5E76;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; comments/delete&#xFF0C;&#x5220;&#x9664;&#x529F;&#x80FD;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x5BF9;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x662F;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x5173;&#x4E8E;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x4EE5;&#x53CA;&#x8BC4;&#x8BBA;&#x5C55;&#x793A;&#x7684;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x3002; &#x8BC4;&#x8BBA;&#x63D0;&#x4EA4; &#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x63A5;&#x53E3;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x63A5;&#x53E3;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x5904;&#x7406;&#x4E0A;&#x56FE;&#x4E2D;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x7528;&#x6237;&#x5728;&#x770B;&#x5B8C;&#x535A;&#x5BA2;&#x540E;&#x60F3;&#x8981;&#x7559;&#x4E0B;&#x4E00;&#x4E9B;&#x611F;&#x60F3;&#x6216;&#x8005;&#x5EFA;&#x8BAE;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x6A21;&#x5757;&#x6765;&#x5904;&#x7406;&#x7684;&#xFF0C;&#x8BE5;&#x63A5;&#x53E3;&#x4E3B;&#x8981;&#x8D1F;&#x8D23;&#x63A5;&#x6536;&#x524D;&#x7AEF;&#x7684; POST &#x8BF7;&#x6C42;&#x5E76;&#x5904;&#x7406;&#x5176;&#x4E2D;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x63A5;&#x6536;&#x7684;&#x53C2;&#x6570;&#x4F9D;&#x6B21;&#x4E3A;&#xFF1A; blogId &#x5B57;&#x6BB5;(&#x5F53;&#x524D;&#x535A;&#x5BA2;&#x7684;&#x4E3B;&#x952E;) verifyCode &#x5B57;&#x6BB5;(&#x9A8C;&#x8BC1;&#x7801;&#xFF0C;&#x9632;&#x6B62;&#x6076;&#x610F;&#x63D0;&#x4EA4;) commentator &#x5B57;&#x6BB5;(&#x79F0;&#x547C;) email &#x5B57;&#x6BB5;(&#x90AE;&#x7BB1;&#x5730;&#x5740;) websiteUrl &#x5B57;&#x6BB5;(&#x7F51;&#x7AD9;&#x5730;&#x5740;&#xFF0C;&#x53EF;&#x4E0D;&#x586B;) commentBody &#x5B57;&#x6BB5;(&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;) &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x4E3A; /blog/comment&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x63A7;&#x5236;&#x5C42;&#x4EE3;&#x7801;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.blog.MyBlogController.java&#xFF09;&#xFF1A; /** * &#x8BC4;&#x8BBA;&#x64CD;&#x4F5C; */ @PostMapping(value = &quot;/blog/comment&quot;) @ResponseBody public Result comment(HttpServletRequest request, HttpSession session,@RequestParam Long blogId, @RequestParam String verifyCode,@RequestParam String commentator, @RequestParam String email,@RequestParam String websiteUrl, @RequestParam String commentBody) { if (StringUtils.isEmpty(verifyCode)) { return ResultGenerator.genFailResult(&quot;&#x9A8C;&#x8BC1;&#x7801;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&quot;); } String kaptchaCode = session.getAttribute(&quot;verifyCode&quot;) + &quot;&quot;; if (StringUtils.isEmpty(kaptchaCode)) { return ResultGenerator.genFailResult(&quot;&#x975E;&#x6CD5;&#x8BF7;&#x6C42;&quot;); } if (!verifyCode.equals(kaptchaCode)) { return ResultGenerator.genFailResult(&quot;&#x9A8C;&#x8BC1;&#x7801;&#x9519;&#x8BEF;&quot;); } String ref = request.getHeader(&quot;Referer&quot;); if (StringUtils.isEmpty(ref)) { return ResultGenerator.genFailResult(&quot;&#x975E;&#x6CD5;&#x8BF7;&#x6C42;&quot;); } if (null == blogId || blogId &lt; 0) { return ResultGenerator.genFailResult(&quot;&#x975E;&#x6CD5;&#x8BF7;&#x6C42;&quot;); } if (StringUtils.isEmpty(commentator)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x79F0;&#x547C;&quot;); } if (StringUtils.isEmpty(email)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x90AE;&#x7BB1;&#x5730;&#x5740;&quot;); } if (!PatternUtil.isEmail(email)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x6B63;&#x786E;&#x7684;&#x90AE;&#x7BB1;&#x5730;&#x5740;&quot;); } if (StringUtils.isEmpty(commentBody)) { return ResultGenerator.genFailResult(&quot;&#x8BF7;&#x8F93;&#x5165;&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;&quot;); } if (commentBody.trim().length() &gt; 200) { return ResultGenerator.genFailResult(&quot;&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;&#x8FC7;&#x957F;&quot;); } BlogComment comment = new BlogComment(); comment.setBlogId(blogId); comment.setCommentator(MyBlogUtils.cleanString(commentator)); comment.setEmail(email); if (PatternUtil.isURL(websiteUrl)) { comment.setWebsiteUrl(websiteUrl); } comment.setCommentBody(MyBlogUtils.cleanString(commentBody)); return ResultGenerator.genSuccessResult(commentService.addComment(comment)); } com.site.blog.my.core.service.impl.CommentServiceImpl.java&#xFF09;&#xFF1A; public Boolean addComment(BlogComment blogComment) { return blogCommentMapper.insertSelective(blogComment) &gt; 0; } SQL &#x8BED;&#x53E5;&#x5728; BlogMapper.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x662F;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684; SQL&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x8D34;&#x4E86;&#xFF0C;&#x8BC4;&#x8BBA;&#x63A5;&#x53E3;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x5BF9;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x6821;&#x9A8C;&#xFF0C;&#x4E4B;&#x540E;&#x4EA4;&#x7ED9;&#x4E1A;&#x52A1;&#x5C42;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x6700;&#x540E;&#x5C06;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x5B58;&#x5165;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002; &#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x529F;&#x80FD;&#x5236;&#x4F5C;&#x9996;&#x5148;&#x662F;&#x5728;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875; detail.html &#x6DFB;&#x52A0;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x7684; DOM &#x5143;&#x7D20;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;th:block th:if=&quot;${blogDetailVO.enableComment==0}&quot;&gt; &lt;aside class=&quot;create-comment&quot; id=&quot;create-comment&quot;&gt; &lt;hr&gt; &lt;h2&gt;&lt;i class=&quot;fa fa-pencil&quot;&gt;&lt;/i&gt; &#x6DFB;&#x52A0;&#x8BC4;&#x8BBA;&lt;/h2&gt; &lt;form action=&quot;#&quot; method=&quot;get&quot; onsubmit=&quot;return false;&quot; accept-charset=&quot;utf-8&quot;&gt; &lt;input type=&quot;hidden&quot; id=&quot;blogId&quot; name=&quot;blogId&quot; th:value=&quot;${blogDetailVO.blogId}&quot;&gt;&lt;/input&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-6&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;commentator&quot; id=&quot;commentator&quot; placeholder=&quot;(*&#x5FC5;&#x586B;)&#x600E;&#x4E48;&#x79F0;&#x547C;&#x4F60;?&quot; class=&quot;form-control input-lg&quot;&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6&quot;&gt; &lt;input type=&quot;email&quot; name=&quot;email&quot; id=&quot;email&quot; placeholder=&quot;(*&#x5FC5;&#x586B;)&#x4F60;&#x7684;&#x8054;&#x7CFB;&#x90AE;&#x7BB1;&quot; class=&quot;form-control input-lg&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-md-6&quot;&gt; &lt;input type=&quot;text&quot; name=&quot;websiteUrl&quot; id=&quot;websiteUrl&quot; placeholder=&quot;&#x4F60;&#x7684;&#x7F51;&#x7AD9;&#x5730;&#x5740;(&#x53EF;&#x4E0D;&#x586B;)&quot; class=&quot;form-control input-lg&quot;&gt; &lt;/div&gt; &lt;div class=&quot;col-md-6&quot;&gt; &lt;div class=&quot;col-md-4&quot;&gt; &lt;img alt=&quot;&#x5355;&#x51FB;&#x56FE;&#x7247;&#x5237;&#x65B0;&#xFF01;&quot; class=&quot;pointer&quot; style=&quot;margin-top: 15px; border-radius: 25px;&quot; th:src=&quot;@{/common/kaptcha}&quot; onclick=&quot;this.src=&apos;/common/kaptcha?d=&apos;+new Date()*1&quot;&gt; &lt;/div&gt; &lt;div class=&quot;col-md-8&quot;&gt; &lt;input type=&quot;text&quot; class=&quot;form-control input-lg&quot; name=&quot;verifyCode&quot; id=&quot;verifyCode&quot; placeholder=&quot;(*&#x5FC5;&#x586B;)&#x8BF7;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&quot; required=&quot;true&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;textarea rows=&quot;10&quot; name=&quot;commentBody&quot; id=&quot;commentBody&quot; placeholder=&quot;(*&#x5FC5;&#x586B;)&#x8BF7;&#x8F93;&#x5165;&#x4F60;&#x7684;&#x8BC4;&#x8BBA;&quot; class=&quot;form-control input-lg&quot;&gt;&lt;/textarea&gt; &lt;div class=&quot;buttons clearfix&quot;&gt; &lt;button type=&quot;submit&quot; id=&quot;commentSubmit&quot; class=&quot;btn btn-xlarge btn-clean-one&quot;&gt;&#x63D0;&#x4EA4;&lt;/button&gt; &lt;/div&gt; &lt;/form&gt; &lt;/aside&gt; &lt;/th:block&gt;&#x9996;&#x5148;&#x662F;&#x5224;&#x65AD;&#x5F53;&#x524D;&#x535A;&#x5BA2;&#x662F;&#x5426;&#x5141;&#x8BB8;&#x8BC4;&#x8BBA;&#xFF0C;&#x5982;&#x679C;&#x5141;&#x8BB8;&#x5219;&#x663E;&#x793A;&#x4E0B;&#x65B9;&#x6DFB;&#x52A0;&#x8BC4;&#x8BBA;&#x7684;&#x9875;&#x9762;&#x5143;&#x7D20;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x663E;&#x793A;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F; js &#x5B9E;&#x73B0;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x63D0;&#x4EA4;&#x7684;&#x529F;&#x80FD;&#x4ECB;&#x7ECD;&#x3002; &#x5728; resources/static/blog/js &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E; comment &#x76EE;&#x5F55;&#xFF0C;&#x4E4B;&#x540E;&#x65B0;&#x5EFA; comment.js &#x548C; valid.js&#xFF0C;valid.js &#x4E2D;&#x662F;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x6B63;&#x5219;&#x9A8C;&#x8BC1;&#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x4E0D;&#x8D34;&#x5728;&#x6587;&#x4E2D;&#x4E86;&#xFF0C;&#x4E4B;&#x540E;&#x5728; detail.html &#x9875;&#x9762;&#x4E2D;&#x6DFB;&#x52A0;&#x4EE5;&#x4E0B;&#x4EE3;&#x7801;&#x5F15;&#x5165;&#x76F8;&#x5173;&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF1A; &lt;!-- sweetalert --&gt; &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/admin/plugins/sweetalert/sweetalert.css}&quot;/&gt; &lt;script th:src=&quot;@{/blog/js/comment/valid.js}&quot;&gt;&lt;/script&gt; &lt;script th:src=&quot;@{/blog/js/comment/comment.js}&quot;&gt;&lt;/script&gt;comment.js &#x6E90;&#x7801;&#x5982;&#x4E0B;&#xFF1A; $(&apos;#commentSubmit&apos;).click(function () { var blogId = $(&apos;#blogId&apos;).val(); var verifyCode = $(&apos;#verifyCode&apos;).val(); var commentator = $(&apos;#commentator&apos;).val(); var email = $(&apos;#email&apos;).val(); var websiteUrl = $(&apos;#websiteUrl&apos;).val(); var commentBody = $(&apos;#commentBody&apos;).val(); if (isNull(blogId)) { swal(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&quot;, { icon: &quot;warning&quot;, }); return; } if (isNull(commentator)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x4F60;&#x7684;&#x79F0;&#x547C;&quot;, { icon: &quot;warning&quot;, }); return; } if (isNull(email)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x4F60;&#x7684;&#x90AE;&#x7BB1;&quot;, { icon: &quot;warning&quot;, }); return; } if (isNull(verifyCode)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x9A8C;&#x8BC1;&#x7801;&quot;, { icon: &quot;warning&quot;, }); return; } if (!validCN_ENString2_100(commentator)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x540D;&#x79F0;(&#x4E0D;&#x8981;&#x8F93;&#x5165;&#x7279;&#x6B8A;&#x5B57;&#x7B26;)&quot;, { icon: &quot;warning&quot;, }); return; } if (!validCN_ENString2_100(commentBody)) { swal(&quot;&#x8BF7;&#x8F93;&#x5165;&#x7B26;&#x5408;&#x89C4;&#x8303;&#x7684;&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;(&#x4E0D;&#x8981;&#x8F93;&#x5165;&#x7279;&#x6B8A;&#x5B57;&#x7B26;)&quot;, { icon: &quot;warning&quot;, }); return; } var data = { &quot;blogId&quot;: blogId, &quot;verifyCode&quot;: verifyCode, &quot;commentator&quot;: commentator, &quot;email&quot;: email, &quot;websiteUrl&quot;: websiteUrl, &quot;commentBody&quot;: commentBody }; $.ajax({ type: &apos;POST&apos;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; url: &apos;/blog/comment&apos;, data: data, success: function (result) { if (result.resultCode == 200) { swal(&quot;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x6210;&#x529F;&#x8BF7;&#x7B49;&#x5F85;&#x535A;&#x4E3B;&#x5BA1;&#x6838;&quot;, { icon: &quot;success&quot;, }); $(&apos;#commentBody&apos;).val(&apos;&apos;); $(&apos;#verifyCode&apos;).val(&apos;&apos;); } else { swal(result.message, { icon: &quot;error&quot;, }); } ; }, error: function () { swal(&quot;&#x64CD;&#x4F5C;&#x5931;&#x8D25;&quot;, { icon: &quot;error&quot;, }); } }); });&#x4E3B;&#x8981;&#x662F;&#x76D1;&#x542C;&#x8BC4;&#x8BBA;&#x7684;&#x63D0;&#x4EA4;&#x4E8B;&#x4EF6;&#xFF0C;&#x5F53;&#x7528;&#x6237;&#x8F93;&#x5165;&#x5B8C;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#x540E;&#x4F1A;&#x70B9;&#x51FB;&#x63D0;&#x4EA4;&#x6309;&#x94AE;&#xFF0C;&#x6B64;&#x65F6;&#x8BE5; js &#x5C31;&#x5F00;&#x59CB;&#x8D77;&#x4F5C;&#x7528;&#x4E86;&#xFF0C;&#x5982;&#x4E0A;&#x4EE3;&#x7801;&#x6240;&#x793A;&#xFF0C;&#x9996;&#x5148;&#x662F;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x4E4B;&#x540E;&#x5BF9;&#x8FD9;&#x4E9B;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x6821;&#x9A8C;&#xFF0C;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x540E;&#x5C01;&#x88C5;&#x6570;&#x636E;&#x5E76;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BC4;&#x8BBA;&#x63D0;&#x4EA4;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x63A5;&#x53E3;&#x5730;&#x5740;&#x4E3A; /blog/comment&#xFF0C;&#x4E4B;&#x540E;&#x5F39;&#x51FA;&#x63D0;&#x9192;&#x6846;&#x544A;&#x77E5;&#x7528;&#x6237;&#x3002; &#x529F;&#x80FD;&#x6F14;&#x793A;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#x7684;&#x8BDD;&#x8FD9;&#x6761;&#x8BC4;&#x8BBA;&#x4FE1;&#x606F;&#x5E94;&#x8BE5;&#x4F1A;&#x5B58;&#x50A8;&#x5230;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x5927;&#x5BB6;&#x5728;&#x6D4B;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x53EF;&#x4EE5;&#x770B;&#x4E00;&#x4E0B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x770B;&#x4E00;&#x4E0B;&#x540E;&#x5929;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x8BC4;&#x8BBA;&#x7BA1;&#x7406;&#x9875;&#x9762;&#x4E2D;&#x662F;&#x5426;&#x6709;&#x8FD9;&#x6761;&#x8BB0;&#x5F55;&#x3002; &#x8BC4;&#x8BBA;&#x5C55;&#x793A; &#x8BE6;&#x60C5;&#x529F;&#x80FD;&#x4FEE;&#x6539;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x533A;&#x57DF;&#x6E32;&#x67D3;&#x7684;&#x6570;&#x636E;&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x4E2A; List &#x5BF9;&#x8C61;&#xFF0C;&#x540C;&#x65F6;&#x4E0B;&#x65B9;&#x53C8;&#x6709;&#x5206;&#x9875;&#x6309;&#x94AE;&#x5219;&#x8BF4;&#x660E;&#x540E;&#x7AEF;&#x9700;&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x662F;&#x4E00;&#x4E2A; PageResult &#x5BF9;&#x8C61;&#xFF0C;&#x56E0;&#x4E3A;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x662F;&#x5728;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x5BF9;&#x8BE6;&#x60C5;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x6DFB;&#x52A0;&#x5206;&#x9875;&#x4F20;&#x53C2;&#xFF0C;&#x540C;&#x65F6;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x4E2D;&#x589E;&#x52A0;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#xFF0C;MyBlogController &#x4E2D;&#x7684; detail() &#x65B9;&#x6CD5;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.controller.blog.MyBlogController) /** * &#x8BE6;&#x60C5;&#x9875; * * @return */ @GetMapping(&quot;/blog/{blogId}&quot;) public String detail(HttpServletRequest request, @PathVariable(&quot;blogId&quot;) Long blogId, @RequestParam(value = &quot;commentPage&quot;, required = false, defaultValue = &quot;1&quot;) Integer commentPage) { BlogDetailVO blogDetailVO = blogService.getBlogDetail(blogId); if (blogDetailVO != null) { request.setAttribute(&quot;blogDetailVO&quot;, blogDetailVO); request.setAttribute(&quot;commentPageResult&quot;, commentService.getCommentPageByBlogIdAndPageNum(blogId, commentPage)); } request.setAttribute(&quot;pageName&quot;, &quot;&#x8BE6;&#x60C5;&quot;); return &quot;blog/detail&quot;; }service &#x5C42;&#x4E5F;&#x9700;&#x8981;&#x4FEE;&#x6539;&#xFF0C;&#x5728; CommentService &#x4E2D;&#x65B0;&#x589E; getCommentPageByBlogIdAndPageNum() &#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x535A;&#x5BA2;&#x4E0B;&#x7684;&#x8BC4;&#x8BBA;&#x5206;&#x9875;&#x6570;&#x636E;&#xFF0C;&#x4F20;&#x53C2;&#x4E3A; blogId &#x548C; pageNum&#xFF0C;&#x6E90;&#x7801;&#x5982;&#x4E0B;&#xFF1A;(&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.site.blog.my.core.service.impl.CommentServiceImpl.java) public PageResult getCommentPageByBlogIdAndPageNum(Long blogId, int page) { if (page &lt; 1) { return null; } Map params = new HashMap(); params.put(&quot;page&quot;, page); //&#x6BCF;&#x9875;8&#x6761; params.put(&quot;limit&quot;, 8); params.put(&quot;blogId&quot;, blogId);//&#x8FC7;&#x6EE4;&#x5F53;&#x524D;&#x535A;&#x5BA2;&#x4E0B;&#x7684;&#x8BC4;&#x8BBA;&#x6570;&#x636E; params.put(&quot;commentStatus&quot;, 1);//&#x8FC7;&#x6EE4;&#x5BA1;&#x6838;&#x901A;&#x8FC7;&#x7684;&#x6570;&#x636E; PageQueryUtil pageUtil = new PageQueryUtil(params); List&lt;BlogComment&gt; comments = blogCommentMapper.findBlogCommentList(pageUtil); if (!CollectionUtils.isEmpty(comments)) { int total = blogCommentMapper.getTotalBlogComments(pageUtil); PageResult pageResult = new PageResult(comments, total, pageUtil.getLimit(), pageUtil.getPage()); return pageResult; } return null; }&#x5177;&#x4F53;&#x7684; SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; resources/mapper/BlogCommentMapper.xml&#xFF09;&#xFF1A;**** &lt;select id=&quot;findBlogCommentList&quot; parameterType=&quot;Map&quot; resultMap=&quot;BaseResultMap&quot;&gt; select &lt;include refid=&quot;Base_Column_List&quot;/&gt; from tb_blog_comment where is_deleted=0 &lt;if test=&quot;blogId!=null&quot;&gt; AND blog_id = #{blogId} &lt;/if&gt; &lt;if test=&quot;commentStatus!=null&quot;&gt; AND comment_status = #{commentStatus} &lt;/if&gt; order by comment_id desc &lt;if test=&quot;start!=null and limit!=null&quot;&gt; limit #{start},#{limit} &lt;/if&gt; &lt;/select&gt; &lt;select id=&quot;getTotalBlogComments&quot; parameterType=&quot;Map&quot; resultType=&quot;int&quot;&gt; select count(*) from tb_blog_comment where is_deleted=0 &lt;if test=&quot;blogId!=null&quot;&gt; AND blog_id = #{blogId} &lt;/if&gt; &lt;if test=&quot;commentStatus!=null&quot;&gt; AND comment_status = #{commentStatus} &lt;/if&gt; &lt;/select&gt;&#x5728;&#x539F;&#x6765;&#x67E5;&#x8BE2;&#x8BC4;&#x8BBA;&#x5217;&#x8868; SQL &#x7684;&#x57FA;&#x7840;&#x4E0A;&#x589E;&#x52A0;&#x4E86;&#x5BF9;&#x4E8E; blog_id &#x5B57;&#x6BB5;&#x548C; comment_status &#x7684;&#x8FC7;&#x6EE4;&#xFF0C;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x7CFB;&#x7EDF;&#x4E2D;&#x662F;&#x5C06;&#x6240;&#x6709;&#x72B6;&#x6001;&#x548C;&#x6240;&#x6709;&#x535A;&#x5BA2;&#x4E0B;&#x7684;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#x90FD;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x800C;&#x8BE6;&#x60C5;&#x9875;&#x5219;&#x662F;&#x5F53;&#x524D;&#x535A;&#x5BA2;&#x4E0B;&#x7684;&#x4E14;&#x5DF2;&#x7ECF;&#x88AB;&#x5BA1;&#x6838;&#x901A;&#x8FC7;&#x7684;&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;&#x624D;&#x4F1A;&#x88AB;&#x663E;&#x793A;&#x5728;&#x9875;&#x9762;&#x4E2D;&#xFF0C;&#x6240;&#x4EE5;&#x9700;&#x8981;&#x5BF9;&#x8FD9;&#x4E24;&#x4E2A;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x8FC7;&#x6EE4;&#x3002; &#x9875;&#x9762;&#x5C55;&#x793A;&#x6700;&#x540E;&#x662F;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x4E2D;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x7684;&#x6E32;&#x67D3;&#xFF0C;&#x5728; detail.html &#x65B0;&#x589E;&#x5982;&#x4E0B;&#x4EE3;&#x7801;&#xFF1A; &lt;aside class=&quot;comments&quot; id=&quot;comments&quot;&gt; &lt;th:block th:if=&quot;${null != commentPageResult}&quot;&gt; &lt;th:block th:each=&quot;comment,iterStat : ${commentPageResult.list}&quot;&gt; &lt;article class=&quot;comment&quot;&gt; &lt;header class=&quot;clearfix&quot;&gt; &lt;img th:src=&quot;@{/blog/img/avatar.png}&quot; class=&quot;avatar&quot;&gt; &lt;div class=&quot;meta&quot;&gt; &lt;h3 th:text=&quot;${comment.commentator}&quot;&gt;&lt;/h3&gt; &lt;span class=&quot;date&quot;&gt; &#x8BC4;&#x8BBA;&#x65F6;&#x95F4;&#xFF1A;&lt;th:block th:text=&quot;${#dates.format(comment.commentCreateTime, &apos;yyyy-MM-dd HH:mm:ss&apos;)}&quot;&gt;&lt;/th:block&gt; &lt;/span&gt; &lt;/div&gt; &lt;/header&gt; &lt;div class=&quot;body&quot;&gt; &lt;th:block th:text=&quot;${comment.commentBody}&quot;&gt;&lt;/th:block&gt; &lt;/div&gt; &lt;/article&gt; &lt;th:block th:unless=&quot;${#strings.isEmpty(comment.replyBody)}&quot;&gt; &lt;article class=&quot;comment reply&quot;&gt; &lt;header class=&quot;clearfix&quot;&gt; &lt;img th:src=&quot;@{/blog/img/avatar.png}&quot; style=&quot;float: left;border-radius: 100px;width: 50px;&quot;&gt; &lt;div class=&quot;meta2&quot;&gt; &lt;h3&gt;&#x5341;&#x4E09;&lt;/h3&gt; &lt;span class=&quot;date&quot;&gt; &#x56DE;&#x590D;&#x65F6;&#x95F4;&#xFF1A; &lt;th:block th:text=&quot;${#dates.format(comment.replyCreateTime, &apos;yyyy-MM-dd HH:mm:ss&apos;)}&quot;&gt;&lt;/th:block&gt; &lt;/span&gt; &lt;/div&gt; &lt;/header&gt; &lt;div class=&quot;reply-body&quot;&gt; &lt;th:block th:text=&quot;${comment.replyBody}&quot;&gt;&lt;/th:block&gt; &lt;/div&gt; &lt;/article&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;/th:block&gt; &lt;th:block th:if=&quot;${null != commentPageResult}&quot;&gt; &lt;ul class=&quot;blog-pagination&quot; style=&quot;margin-left: 40%;margin-top:40px;&quot;&gt; &lt;li th:class=&quot;${commentPageResult.currPage==1}?&apos;disabled&apos; : &apos;&apos;&quot;&gt;&lt;a th:href=&quot;@{${commentPageResult.currPage==1}?&apos;##&apos;:&apos;/blog/&apos;+${blogDetailVO.blogId}+&apos;?commentPage=&apos; + ${commentPageResult.currPage-1}+&apos;#comments&apos;}&quot;&gt;&amp;laquo;&lt;/a&gt; &lt;/li&gt; &lt;li th:if=&quot;${commentPageResult.currPage-3 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/blog/&apos;+${blogDetailVO.blogId}+&apos;?commentPage=&apos; + ${commentPageResult.currPage-3}+&apos;#comments&apos;}&quot; th:text=&quot;${commentPageResult.currPage -3}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${commentPageResult.currPage-2 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/blog/&apos;+${blogDetailVO.blogId}+&apos;?commentPage=&apos; + ${commentPageResult.currPage-2}+&apos;#comments&apos;}&quot; th:text=&quot;${commentPageResult.currPage -2}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${commentPageResult.currPage-1 &gt;=1}&quot;&gt;&lt;a th:href=&quot;@{&apos;/blog/&apos;+${blogDetailVO.blogId}+&apos;?commentPage=&apos; + ${commentPageResult.currPage-1}}&quot; th:text=&quot;${commentPageResult.currPage -1}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#&quot; th:text=&quot;${commentPageResult.currPage}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${commentPageResult.currPage+1 &lt;=commentPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/blog/&apos;+${blogDetailVO.blogId}+&apos;?commentPage=&apos; + ${commentPageResult.currPage+1}+&apos;#comments&apos;}&quot; th:text=&quot;${commentPageResult.currPage +1}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${commentPageResult.currPage+2 &lt;=commentPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/blog/&apos;+${blogDetailVO.blogId}+&apos;?commentPage=&apos; + ${commentPageResult.currPage+2}+&apos;#comments&apos;}&quot; th:text=&quot;${commentPageResult.currPage +2}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:if=&quot;${commentPageResult.currPage+3 &lt;=commentPageResult.totalPage}&quot;&gt;&lt;a th:href=&quot;@{&apos;/blog/&apos;+${blogDetailVO.blogId}+&apos;?commentPage=&apos; + ${commentPageResult.currPage+3}+&apos;#comments&apos;}&quot; th:text=&quot;${commentPageResult.currPage +3}&quot;&gt;1&lt;/a&gt;&lt;/li&gt; &lt;li th:class=&quot;${commentPageResult.currPage==commentPageResult.totalPage}?&apos;disabled&apos; : &apos;&apos;&quot;&gt;&lt;a th:href=&quot;@{${commentPageResult.currPage==commentPageResult.totalPage}?&apos;##&apos; : &apos;/blog/&apos;+${blogDetailVO.blogId}+&apos;?commentPage=&apos; + ${commentPageResult.currPage+1}+&apos;#comments&apos;}&quot;&gt;&amp;raquo;&lt;/a&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/th:block&gt; &lt;/aside&gt;&#x5728;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x533A;&#x57DF;&#x548C;&#x5206;&#x9875;&#x529F;&#x80FD;&#x533A;&#x57DF;&#x5BF9;&#x5E94;&#x7684;&#x4F4D;&#x7F6E;&#x8BFB;&#x53D6; commentPageResult &#x5BF9;&#x8C61;&#x4E2D;&#x7684; list &#x6570;&#x636E;&#x548C;&#x5206;&#x9875;&#x6570;&#x636E;&#xFF0C;list &#x6570;&#x636E;&#x4E3A;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x6570;&#x636E;&#xFF0C;&#x4F7F;&#x7528; th:each &#x5FAA;&#x73AF;&#x8BED;&#x6CD5;&#x5C06;&#x8BC4;&#x8BBA;&#x5185;&#x5BB9;&#x3001;&#x8BC4;&#x8BBA;&#x65F6;&#x95F4;&#x3001;&#x56DE;&#x590D;&#x5185;&#x5BB9;&#x3001;&#x56DE;&#x590D;&#x65F6;&#x95F4;&#x7B49;&#x5B57;&#x6BB5;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x5206;&#x9875;&#x5B57;&#x6BB5; currPage(&#x5F53;&#x524D;&#x9875;&#x7801;)&#x3001; totalPage(&#x603B;&#x9875;&#x7801;)&#x5C06;&#x4E0B;&#x65B9;&#x7684;&#x5206;&#x9875;&#x6309;&#x94AE;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#xFF0C;&#x5206;&#x9875;&#x6309;&#x94AE;&#x751F;&#x6210;&#x7684;&#x903B;&#x8F91;&#x4E0E;&#x524D;&#x51E0;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x9996;&#x9875;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x548C;&#x641C;&#x7D22;&#x9875;&#x535A;&#x5BA2;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x903B;&#x8F91;&#x7C7B;&#x4F3C;&#xFF0C;&#x533A;&#x522B;&#x5728;&#x4E8E;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x7684;&#x6700;&#x540E;&#x52A0;&#x4E0A;&#x4E86; #comments&#x3002; &#x8FD9;&#x91CC;&#x89E3;&#x91CA;&#x4E00;&#x4E0B;&#x8FD9;&#x4E48;&#x505A;&#x7684;&#x542B;&#x4E49;&#xFF0C;&#x9996;&#x5148;&#xFF0C;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x662F;&#x5728;&#x535A;&#x5BA2;&#x8BE6;&#x60C5;&#x9875;&#x4E2D;&#x4E14;&#x4F4D;&#x7F6E;&#x4E00;&#x822C;&#x662F;&#x5728;&#x9875;&#x9762;&#x4E0B;&#x65B9;&#xFF0C;&#x5982;&#x679C;&#x6587;&#x5B57;&#x8FC7;&#x591A;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x5F80;&#x4E0B;&#x62C9;&#x5F88;&#x591A;&#x5C4F; &#x624D;&#x80FD;&#x770B;&#x5230;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x7FFB;&#x9875;&#x7684; URL &#x8FD8;&#x662F; /blog/{blogId}&#xFF0C;&#x6240;&#x4EE5;&#x6BCF;&#x6B21;&#x8DF3;&#x8F6C;&#x90FD;&#x662F;&#x5230;&#x8BE6;&#x60C5;&#x9875;&#xFF0C;&#x672C;&#x6765;&#x662F;&#x60F3;&#x770B;&#x7B2C;&#x4E8C;&#x9875;&#x6216;&#x8005;&#x7B2C;&#x4E09;&#x9875;&#x7684;&#x8BC4;&#x8BBA;&#x6570;&#x636E;&#xFF0C;&#x7ED3;&#x679C;&#x70B9;&#x51FB;&#x5206;&#x9875;&#x6309;&#x94AE;&#x540E;&#x8DF3;&#x5230;&#x4E86;&#x8BE6;&#x60C5;&#x9875;&#x7684;&#x4E0A;&#x65B9;&#xFF0C;&#x867D;&#x7136;&#x7B2C;&#x4E09;&#x9875;&#x8BC4;&#x8BBA;&#x7684;&#x6570;&#x636E;&#x6E32;&#x67D3;&#x51FA;&#x6765;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x9700;&#x8981;&#x518D;&#x5F80;&#x4E0B;&#x62C9;&#x4E2A;&#x51E0;&#x5C4F;&#x624D;&#x884C;&#xFF0C;&#x56E0;&#x6B64;&#x5C31;&#x5C06;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x7684; DOM &#x5BF9;&#x8C61;&#x8BBE;&#x7F6E;&#x4E86; comments &#x4F5C;&#x4E3A; DOM id&#xFF0C;&#x8DF3;&#x8F6C;&#x94FE;&#x63A5;&#x7684;&#x6700;&#x540E;&#x52A0;&#x4E0A; #comments &#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x951A;&#x70B9;&#x7684;&#x65B9;&#x5F0F;&#x8DF3;&#x5230;&#x8BC4;&#x8BBA;&#x5217;&#x8868;&#x533A;&#x57DF;&#x3002; &#x603B;&#x7ED3;&#x8FD9;&#x8282;&#x5B9E;&#x9A8C;&#x7684;&#x5185;&#x5BB9;&#x6709;&#x4E9B;&#x591A;&#xFF0C;&#x770B;&#x4E86;&#x4E00;&#x4E0B;&#x5185;&#x5BB9;&#x957F;&#x5EA6;&#x5927;&#x6982;&#x662F;&#x5E73;&#x65F6;&#x4E24;&#x4E2A;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x7684;&#x957F;&#x5EA6;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x5206;&#x6210;&#x4E24;&#x4E2A;&#x5B9E;&#x9A8C;&#x6765;&#x5B66;&#x4E60;&#x4E5F;&#x53EF;&#x4EE5;&#xFF0C;&#x56E0;&#x4E3A;&#x8BFE;&#x7A0B;&#x5B89;&#x6392;&#x5982;&#x6B64;&#x4E0D;&#x597D;&#x518D;&#x66F4;&#x6539;&#xFF0C;&#x56E0;&#x6B64;&#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x7684;&#x6240;&#x6709;&#x77E5;&#x8BC6;&#x70B9;&#x90FD;&#x653E;&#x5728;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#x4E86;&#x3002;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x601D;&#x8DEF;&#x548C;&#x8FC7;&#x7A0B;&#x81EA;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x8BC4;&#x8BBA;&#x6A21;&#x5757;&#x7684;&#x5F00;&#x53D1;&#x662F;&#x6574;&#x4E2A;&#x9879;&#x76EE;&#x7684;&#x6700;&#x540E;&#x4E00;&#x90E8;&#x5206;&#x4E86;&#xFF0C;&#x81F3;&#x6B64;&#xFF0C;&#x535A;&#x5BA2;&#x7CFB;&#x7EDF;&#x7684;&#x6240;&#x6709;&#x4E3B;&#x8981;&#x6A21;&#x5757;&#x90FD;&#x5DF2;&#x7ECF;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#xFF0C;&#x5305;&#x62EC;&#x5176;&#x4E2D;&#x7684;&#x529F;&#x80FD;&#x548C;&#x9875;&#x9762;&#x90FD;&#x5728;&#x5404;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x8BB2;&#x89E3;&#x548C;&#x5F00;&#x53D1;&#xFF0C;&#x5269;&#x4E0B;&#x7684;&#x4E00;&#x4E9B;&#x5C0F;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#x5C31;&#x4E0D;&#x518D;&#x6D6A;&#x8D39;&#x7BC7;&#x5E45;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E9B;&#x5185;&#x5BB9;&#x90FD;&#x662F;&#x67E5;&#x8BE2;&#x529F;&#x80FD;&#x5E76;&#x6CA1;&#x6709;&#x7279;&#x522B;&#x590D;&#x6742;&#x7684;&#x903B;&#x8F91;&#x3002; &#x53E6;&#x5916;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x70B9;&#x9700;&#x8981;&#x63D0;&#x9192;&#x540C;&#x5B66;&#x4EEC;&#xFF0C;&#x76EE;&#x524D;&#x6240;&#x6709;&#x8BFE;&#x7A0B;&#x4E2D;&#x7684;&#x6E90;&#x7801;&#x90FD;&#x662F;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x662F;&#x4F9B;&#x5927;&#x5BB6;&#x7EC3;&#x4E60;&#x548C;&#x7406;&#x89E3;&#x8BFE;&#x7A0B;&#x5185;&#x5BB9;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8981;&#x53EF;&#x4EE5;&#x771F;&#x5B9E;&#x4E0A;&#x7EBF;&#x7684;&#x4EE3;&#x7801;&#x53EF;&#x4EE5;&#x5230;&#x6211;&#x7684; GitHub &#x4ED3;&#x5E93;&#x4E2D;&#x83B7;&#x53D6;&#xFF0C;&#x5730;&#x5740;&#x662F; https://github.com/ZHENFENG13/My-Blog&#xFF0C;&#x5907;&#x7528;&#x5730;&#x5740;&#x662F; https://gitee.com/zhenfeng13/My-Blog&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6253;&#x5305;&#x4E0A;&#x7EBF;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x8BE5;&#x535A;&#x5BA2;&#x9879;&#x76EE;&#x4E5F;&#x5728;&#x6301;&#x7EED;&#x66F4;&#x65B0;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5927;&#x5BB6;&#x6709;&#x4EC0;&#x4E48;&#x5EFA;&#x8BAE;&#x90FD;&#x53EF;&#x4EE5;&#x544A;&#x8BC9;&#x6211;&#xFF0C;&#x6211;&#x4F1A;&#x7EE7;&#x7EED;&#x5BF9;&#x8FD9;&#x4E2A;&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x8FED;&#x4EE3;&#x548C;&#x5B8C;&#x5584;&#xFF0C;&#x8BB0;&#x4F4F;&#x4E0A;&#x65B9;&#x4E24;&#x4E2A;&#x4ED3;&#x5E93;&#x5730;&#x5740;&#xFF0C;&#x53EF;&#x4E0A;&#x7EBF;&#x7684;&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x6211;&#x90FD;&#x4F1A;&#x7B2C;&#x4E00;&#x65F6;&#x95F4;&#x66F4;&#x65B0;&#x4E0A;&#x53BB;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x6709;&#x5176;&#x4ED6;&#x8BFE;&#x7A0B;&#x95EE;&#x9898;&#x4E5F;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x8BFE;&#x7A0B; QQ &#x7FA4; 796794009&#xFF0C;&#x6211;&#x4F1A;&#x5728;&#x91CC;&#x9762;&#x8FDB;&#x884C;&#x89E3;&#x7B54;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-27-da-bao-bu-shu.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x7531;&#x4E8E;&#x5B9E;&#x9A8C;&#x697C;&#x73AF;&#x5883;&#x4E0A;&#x5F00;&#x53D1;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x4E00;&#x76F4;&#x4F7F;&#x7528;&#x7684;&#x662F; maven &#x63D2;&#x4EF6;&#x8FD0;&#x884C;&#xFF0C;&#x4E0D;&#x8FC7;&#x5F00;&#x53D1;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6B63;&#x5F0F;&#x7684;&#x9879;&#x76EE;&#x4E0A;&#x7EBF;&#x6216;&#x8005;&#x7248;&#x672C;&#x66F4;&#x65B0;&#x4E00;&#x822C;&#x662F;&#x76F4;&#x63A5;&#x4F7F;&#x7528; jar &#x5305;&#x6216;&#x8005; war &#x5305;&#x6765;&#x90E8;&#x7F72;&#xFF0C;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x8FD9;&#x4E24;&#x79CD;&#x90E8;&#x7F72;&#x65B9;&#x5F0F;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; Spring Boot &#x9879;&#x76EE; jar &#x5305;&#x90E8;&#x7F72; Spring Boot &#x9879;&#x76EE; war &#x5305;&#x751F;&#x6210; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ Spring Boot &#x9879;&#x76EE; jar &#x5305;&#x90E8;&#x7F72;&#x8FD9;&#x91CC;&#x5C31;&#x4EE5;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x7684;&#x4EE3;&#x7801;&#x4E3A;&#x4F8B;&#xFF0C;&#x5927;&#x5BB6;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x524D;&#x9762;&#x7684;&#x6E90;&#x7801;&#x5373;&#x53EF;&#x3002; &#x751F;&#x6210; jar &#x5305;Spring Boot &#x9879;&#x76EE;&#x9ED8;&#x8BA4;&#x662F;&#x4F7F;&#x7528;&#x7684; jar &#x5305;&#x90E8;&#x7F72;&#xFF0C;&#x5728;&#x4F7F;&#x7528; Maven &#x6784;&#x5EFA;&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x9879;&#x76EE;&#x6253;&#x5305;&#x65F6;&#x4E00;&#x822C;&#x4E5F;&#x662F;&#x6784;&#x5EFA;&#x6210; jar &#x5305;&#xFF0C;&#x6784;&#x5EFA;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; &#x8FDB;&#x5165;&#x9879;&#x76EE;&#x4E3B;&#x76EE;&#x5F55; &#x6BD4;&#x5982;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x662F; My-Blog&#xFF0C;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x9879;&#x76EE;&#x5373;&#x53EF;&#x5207;&#x6362;&#x76EE;&#x5F55;&#xFF1A; cd My-Blog &#x6784;&#x5EFA;&#x9879;&#x76EE; &#x8FDB;&#x5165;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x540E;&#xFF0C;&#x8FD0;&#x884C; mvn &#x6784;&#x5EFA;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5C06;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x6784;&#x5EFA;&#x4E3A; jar &#x5305;&#xFF0C;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A; mvn clean package -Dmaven.test.skip=true&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x6784;&#x5EFA;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728; target &#x76EE;&#x5F55;&#x4E0B;&#x51FA;&#x73B0;&#x4E86;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE; jar &#x5305;&#x3002; &#x90E8;&#x7F72; jar &#x5305;jar &#x5305;&#x751F;&#x6210;&#x540E;&#x5C31;&#x80FD;&#x591F;&#x8FD0;&#x884C;&#x9879;&#x76EE;&#x4E86;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x4E3A; java -jar &#x9879;&#x76EE;&#x540D;&#x79F0;.jar&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x9996;&#x5148;&#x662F;&#x8FDB;&#x5165;&#x5230; jar &#x5305;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x63A5;&#x7740;&#x8FD0;&#x884C; java -jar My-Blog.jar &#x5373;&#x53EF;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x4E0E; mvn &#x63D2;&#x4EF6;&#x65B9;&#x5F0F;&#x8FD0;&#x884C;&#x9879;&#x76EE;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x5728;&#x9879;&#x76EE;&#x6B63;&#x5E38;&#x542F;&#x52A8;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x6253;&#x5F00; web &#x9879;&#x76EE;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x4E86;&#x3002; &#x540E;&#x53F0;&#x8FD0;&#x884C;&#x5982;&#x679C;&#x662F;&#x76F4;&#x63A5;&#x8FD0;&#x884C; java -jar my-blog-4.0.0-SNAPSHOT.jar &#x542F;&#x52A8;&#x547D;&#x4EE4;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x7ED3;&#x675F;&#x5F53;&#x524D;&#x7EC8;&#x7AEF;&#x7684;&#x65F6;&#x5019;&#xFF08;&#x6BD4;&#x5982; ctrl+c &#x6216;&#x8005;&#x5173;&#x95ED;&#x7EC8;&#x7AEF;&#xFF09;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x7684;&#x8FD0;&#x884C;&#x8FDB;&#x7A0B;&#x4E5F;&#x4F1A;&#x88AB;&#x5173;&#x95ED;&#xFF0C;&#x6240;&#x4EE5;&#x9879;&#x76EE;&#x76F8;&#x5F53;&#x4E8E;&#x7ED3;&#x675F;&#x6389;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE; web &#x8D44;&#x6E90;&#x4E86;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x6211;&#x4EEC;&#x80AF;&#x5B9A;&#x4E0D;&#x5E0C;&#x671B;&#x51FA;&#x73B0;&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x822C;&#x4F1A;&#x5C06;&#x5176;&#x8BBE;&#x7F6E;&#x4E3A;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x521A;&#x521A;&#x7684;&#x547D;&#x4EE4;&#x540E;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; &amp; &#x7B26;&#x53F7;&#x5373;&#x53EF;&#xFF0C;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A; java -jar my-blog-4.0.0-SNAPSHOT.jar &amp;&#x6B64;&#x65F6;&#x9879;&#x76EE;&#x5C31;&#x4F1A;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x4E86;&#xFF0C;&#x7ED3;&#x675F;&#x5F53;&#x524D;&#x7EC8;&#x7AEF;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x9879;&#x76EE;&#x7684;&#x8FD0;&#x884C;&#x3002; &#x5173;&#x95ED;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x9879;&#x76EE;&#x6709;&#x542F;&#x52A8;&#x5C31;&#x8981;&#x6709;&#x5173;&#x95ED;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8981;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x6216;&#x8005;&#x90E8;&#x7F72;&#x4E00;&#x4E2A;&#x65B0;&#x7248;&#x672C;&#x7684;&#x9879;&#x76EE;&#x5C31;&#x9700;&#x8981;&#x5173;&#x95ED;&#x5F53;&#x524D;&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x5173;&#x95ED;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;: &#x627E;&#x5230;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x7684;&#x8FDB;&#x7A0B;&#x53F7;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A; ps -ef |grep my-blog-4.0.0-SNAPSHOT.jar&#x4E4B;&#x540E;&#x4F1A;&#x51FA;&#x73B0;&#x5B83;&#x7684;&#x8FDB;&#x7A0B;&#x53F7;&#x3002; &#x5173;&#x95ED;&#x8FDB;&#x7A0B; &#x627E;&#x5230;&#x8FDB;&#x7A0B;&#x53F7;&#x540E;&#x8FD0;&#x884C; kill &#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5173;&#x95ED;&#x5F53;&#x524D;&#x9879;&#x76EE;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x5982;&#x4E0B;&#xFF1A; kill -9 818&#x547D;&#x4EE4;&#x6700;&#x540E;&#x7684; 818 &#x5C31;&#x662F;&#x9879;&#x76EE;&#x7684;&#x8FDB;&#x7A0B;&#x53F7;(&#x5047;&#x8BBE;)&#xFF0C;&#x4F60;&#x5728;&#x64CD;&#x4F5C;&#x65F6;&#x53EF;&#x80FD;&#x662F;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x53F7;&#x7801;&#xFF0C;&#x66FF;&#x6362;&#x6389; 818 &#x5373;&#x53EF;&#xFF0C;&#x6B64;&#x65F6;&#x5C31;&#x4F1A;&#x6740;&#x6389;&#x9879;&#x76EE;&#x8FDB;&#x7A0B;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x91CD;&#x65B0;&#x90E8;&#x7F72;&#x8BE5;&#x9879;&#x76EE;&#x4E86;&#x3002; Spring Boot &#x9879;&#x76EE;&#x6253;&#x6210; war &#x5305; &#x6709;&#x4E9B;&#x5F00;&#x53D1;&#x8005;&#x6216;&#x8005;&#x9879;&#x76EE;&#x56E2;&#x961F;&#x5728;&#x90E8;&#x7F72;&#x65F6;&#x66F4;&#x503E;&#x5411;&#x4E8E; Tomcat&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x9700;&#x8981;&#x628A; Spring Boot &#x6253;&#x6210; war &#x5305;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x4FEE;&#x6539;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x4EE3;&#x7801;&#x5E76;&#x4E14;&#x5B9E;&#x9645;&#x7684;&#x64CD;&#x4F5C;&#x5C06;&#x5176;&#x6253;&#x6210; war &#x5305;&#x3002; &#x4FEE;&#x6539; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6253;&#x5305;&#x65B9;&#x5F0F;&#x4FEE;&#x6539; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6253;&#x5305;&#x65B9;&#x5F0F;&#xFF0C;&#x5C06;&#x9ED8;&#x8BA4;&#x7684; jar &#x65B9;&#x5F0F;&#x6539;&#x4E3A; war&#xFF0C;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A; &lt;!--&#x6539;&#x4E3A;war&#x65B9;&#x5F0F;--&gt; &lt;packaging&gt;war&lt;/packaging&gt;&#x6392;&#x9664;&#x5185;&#x7F6E;&#x7684; Tomcat &#x5BB9;&#x5668;&#x79FB;&#x9664;&#x5D4C;&#x5165;&#x5F0F; Tomcat &#x63D2;&#x4EF6; &#x5728; pom.xml &#x91CC;&#x627E;&#x5230; spring-boot-starter-web &#x4F9D;&#x8D56;&#x8282;&#x70B9;,&#x5728;&#x5176;&#x4E2D;&#x8FDB;&#x884C;&#x5982;&#x4E0B;&#x4FEE;&#x6539;&#xFF1A; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt;&#x6DFB;&#x52A0;&#x672C;&#x5730;&#x8C03;&#x8BD5; Tomcat &#x4F9D;&#x8D56;&#xFF0C;&#x4E3A;&#x4E86;&#x672C;&#x5730;&#x8C03;&#x8BD5;&#x65B9;&#x4FBF;&#xFF0C;&#x5728; pom.xml &#x6587;&#x4EF6;&#x4E2D; dependencies &#x8282;&#x70B9;&#x4E0B;&#x9762;&#x6DFB;&#x52A0;&#xFF1A; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;&#x8FD9;&#x6837;&#xFF0C;pom.xml &#x6587;&#x4EF6;&#x5C31;&#x4FEE;&#x6539;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;com.site.blog.my.core&lt;/groupId&gt; &lt;artifactId&gt;my-blog&lt;/artifactId&gt; &lt;version&gt;4.0.0-SNAPSHOT&lt;/version&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;name&gt;my-blog&lt;/name&gt; &lt;description&gt;your personal blog&lt;/description&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.0.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;/parent&gt; &lt;properties&gt; &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt; &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;exclusions&gt; &lt;exclusion&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt; &lt;/exclusion&gt; &lt;/exclusions&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.session&lt;/groupId&gt; &lt;artifactId&gt;spring-session-core&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- &#x9A8C;&#x8BC1;&#x7801; --&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.penggle&lt;/groupId&gt; &lt;artifactId&gt;kaptcha&lt;/artifactId&gt; &lt;version&gt;2.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- commonmark core --&gt; &lt;dependency&gt; &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt; &lt;artifactId&gt;commonmark&lt;/artifactId&gt; &lt;version&gt;0.8.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- commonmark table --&gt; &lt;dependency&gt; &lt;groupId&gt;com.atlassian.commonmark&lt;/groupId&gt; &lt;artifactId&gt;commonmark-ext-gfm-tables&lt;/artifactId&gt; &lt;version&gt;0.8.0&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt;&#x6211;&#x4EEC;&#x662F;&#x5728;&#x524D;&#x4E00;&#x8282;&#x5B9E;&#x9A8C;&#x8BFE;&#x7684;&#x9879;&#x76EE;&#x57FA;&#x7840;&#x4E0A;&#x4FEE;&#x6539;&#x7684;&#x3002; &#x4FEE;&#x6539;&#x4E3B;&#x7C7B;&#x7EE7;&#x627F; SpringBootServletInitializer&#x4FEE;&#x6539;&#x542F;&#x52A8;&#x7C7B;&#xFF0C;&#x54B1;&#x4EEC;&#x7684;&#x4E3B;&#x7C7B;&#x540D;&#x79F0;&#x662F; Application.jar&#xFF0C;&#x4FEE;&#x6539;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x7EE7;&#x627F; SpringBootServletInitializer &#x5E76;&#x5B9E;&#x73B0; configure() &#x65B9;&#x6CD5;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.site.blog.my.core; import org.mybatis.spring.annotation.MapperScan; import org.springframework.boot.SpringApplication; import org.springframework.boot.autoconfigure.SpringBootApplication; import org.springframework.boot.builder.SpringApplicationBuilder; import org.springframework.boot.web.servlet.support.SpringBootServletInitializer; @MapperScan(&quot;com.site.blog.my.core.dao&quot;) @SpringBootApplication public class MyBlogApplication extends SpringBootServletInitializer { public static void main(String[] args) { SpringApplication.run(MyBlogApplication.class, args); } @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) { return builder.sources(MyBlogApplication.class); } }&#x751F;&#x6210; war &#x5305;&#x76F4;&#x63A5;&#x4F7F;&#x7528; Maven &#x6784;&#x5EFA;&#x5DE5;&#x5177;&#x5373;&#x53EF;&#xFF0C;&#x5927;&#x5BB6;&#x90FD;&#x4E0D;&#x964C;&#x751F;&#xFF0C;&#x6784;&#x5EFA;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF1A; &#x8FDB;&#x5165;&#x9879;&#x76EE;&#x4E3B;&#x76EE;&#x5F55; &#x6BD4;&#x5982;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x540D;&#x79F0;&#x662F; My-Blog&#xFF0C;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x9879;&#x76EE;&#x5373;&#x53EF;&#x5207;&#x6362;&#x76EE;&#x5F55;&#xFF1A; cd My-Blog &#x6784;&#x5EFA;&#x9879;&#x76EE; &#x8FDB;&#x5165;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x540E;&#xFF0C;&#x8FD0;&#x884C; mvn &#x6784;&#x5EFA;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5C06;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#x6784;&#x5EFA;&#xFF0C;&#x6784;&#x5EFA;&#x547D;&#x4EE4;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF1A; mvn clean package -Dmaven.test.skip=true&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x6784;&#x5EFA;&#x5B8C;&#x6210;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728; target &#x76EE;&#x5F55;&#x4E0B;&#x51FA;&#x73B0;&#x4E86;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE; war &#x5305;&#xFF0C;&#x62FF;&#x5230; war &#x5305;&#x540E;&#x5C06;&#x5176;&#x90E8;&#x7F72;&#x5230; Tomcat &#x670D;&#x52A1;&#x5668;&#x4E2D;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002; &#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x4F7F;&#x7528;&#x5916;&#x90E8;Tomcat&#x90E8;&#x7F72;&#x8BBF;&#x95EE;&#x7684;&#x65F6;&#x5019;&#xFF0C;application.properties (&#x6216;&#x8005; application.yml ) &#x4E2D;&#x914D;&#x7F6E;&#x7684; server.port &#x548C; server.servlet.context-path &#x5C06;&#x4F1A;&#x5931;&#x6548;&#xFF0C;&#x8BF7;&#x4F7F;&#x7528; Tomcat &#x7684;&#x7AEF;&#x53E3;&#x4EE5;&#x53CA;&#x5F53;&#x524D; Tomcat &#x4E2D;&#x7684;&#x9879;&#x76EE;&#x8DEF;&#x5F84;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x3002; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x672C;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x4E86; Spring Boot &#x9879;&#x76EE;&#x7684;&#x4E24;&#x79CD;&#x6253;&#x5305;&#x65B9;&#x5F0F;&#xFF0C;jar &#x5305;&#x65B9;&#x5F0F;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#xFF0C;war &#x5305;&#x65B9;&#x5F0F;&#x4E5F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x4FEE;&#x6539; pom.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x548C;&#x4E3B;&#x542F;&#x52A8;&#x7C7B;&#x5373;&#x53EF;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x90FD;&#x53EF;&#x4EE5;&#x638C;&#x63E1;&#xFF0C;&#x81F3;&#x4E8E;&#x4F7F;&#x7528;&#x54EA;&#x79CD;&#x6784;&#x5EFA;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4E2A;&#x4EBA;&#x559C;&#x597D;&#x4EE5;&#x53CA;&#x516C;&#x53F8;&#x8981;&#x6C42;&#x6765;&#x9009;&#x62E9;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-01-spingboot-chu-shi-hua.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x8FD9;&#x4E00;&#x8282;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x5FEB;&#x901F;&#x6784;&#x5EFA;&#x4E00;&#x4E2A; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5BF9; Spring Boot &#x9879;&#x76EE;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x6700;&#x540E;&#x662F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x7684;&#x65B9;&#x6CD5;&#x4ECB;&#x7ECD;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x5982;&#x4F55;&#x5FEB;&#x901F;&#x6784;&#x5EFA;&#x4E00;&#x4E2A; Spring Boot &#x9879;&#x76EE; Spring Boot &#x9879;&#x76EE;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x4ECB;&#x7ECD; Spring Boot &#x9879;&#x76EE;&#x542F;&#x52A8; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ Spring Boot &#x9879;&#x76EE;&#x6784;&#x5EFA;&#x4F7F;&#x7528; Spring Initializr &#x6784;&#x5EFA; &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5916;&#x90E8;&#x7F51;&#x7EDC;&#xFF0C;&#x5B9E;&#x9A8C;&#x697C;&#x5728;&#x7EBF;&#x73AF;&#x5883;&#x4E2D;&#x65E0;&#x6CD5;&#x6F14;&#x793A;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5728;&#x672C;&#x5730;&#x73AF;&#x5883;&#x8FDB;&#x884C;&#x5C1D;&#x8BD5;&#x3002; Spring &#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x4E86; Spring Initializr &#x6765;&#x8FDB;&#x884C; Spring Boot &#x7684;&#x5FEB;&#x901F;&#x6784;&#x5EFA;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5728;&#x7EBF;&#x751F;&#x6210; Spring Boot &#x57FA;&#x7840;&#x9879;&#x76EE;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x7406;&#x89E3;&#x4E3A; Spring Boot &#x7684;&#x201C;&#x521B;&#x5EFA;&#x5411;&#x5BFC;&#x201D;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x5728;&#x7EBF;&#x5411;&#x5BFC;&#x6765;&#x5FEB;&#x901F;&#x7684;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; Spring Boot &#x9AA8;&#x67B6;&#x5DE5;&#x7A0B;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x6253;&#x5F00;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; Spring Initializr &#x7684;&#x7F51;&#x7AD9;&#x5730;&#x5740;&#xFF1A;https://start.spring.io &#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x9875;&#x9762;&#x4E0A;&#x9700;&#x8981;&#x6211;&#x4EEC;&#x586B;&#x5199;&#x548C;&#x9009;&#x62E9;&#x9879;&#x76EE;&#x7684;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#xFF0C;&#x4F9D;&#x6B21;&#x586B;&#x5199;&#x5373;&#x53EF; &#x6700;&#x540E;&#x70B9;&#x51FB;&#x201C;Generate Project&#x201D;&#x6309;&#x94AE;&#x5373;&#x53EF;&#x83B7;&#x53D6;&#x5230;&#x4E00;&#x4E2A; Spring Boot &#x57FA;&#x7840;&#x9879;&#x76EE;&#x7684;&#x4EE3;&#x7801;&#x538B;&#x7F29;&#x5305; &#x5982;&#x56FE;&#x6240;&#x793A;&#xFF0C;Spring Boot &#x7248;&#x672C;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x7684;&#x662F;&#x6700;&#x65B0;&#x7A33;&#x5B9A;&#x7248;&#x672C; 2.1.0 &#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5176;&#x4ED6;&#x7A33;&#x5B9A;&#x7248;&#x672C;&#xFF0C;&#x89C6;&#x9879;&#x76EE;&#x8981;&#x6C42;&#x800C;&#x5B9A;&#xFF0C;&#x201C; dependencies &#x201D; &#x8868;&#x793A;&#x6DFB;&#x52A0;&#x5230;&#x9879;&#x76EE;&#x6240;&#x4F9D;&#x8D56;&#x7684; Spring Boot &#x7EC4;&#x4EF6;&#xFF0C;&#x6839;&#x636E;&#x9879;&#x76EE;`&#x8981;&#x6C42;&#x6765;&#x9009;&#x62E9;&#xFF0C;&#x9700;&#x8981;&#x54EA;&#x4E9B;&#x573A;&#x666F;&#x5C31;&#x76F4;&#x63A5;&#x9009;&#x62E9;&#x76F8;&#x5E94;&#x6A21;&#x5757;&#x5373;&#x53EF;&#xFF0C;&#x4E0E; SpringBoot Initializr &#x6784;&#x5EFA;&#x65B9;&#x5F0F;&#x7C7B;&#x4F3C;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x591A;&#x9009;&#xFF0C;&#x672C;&#x6B21;&#x6F14;&#x793A;&#x9009;&#x62E9;&#x4E86; Web &#x6A21;&#x5757;&#x3002; mvn &#x547D;&#x4EE4;&#x884C;&#x521B;&#x5EFA; Spring Boot &#x9879;&#x76EE;&#x6253;&#x5F00;&#x547D;&#x4EE4;&#x884C;&#x5E76;&#x5C06;&#x76EE;&#x5F55;&#x5207;&#x6362;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x8FD0;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; mvn archetype:generate -DinteractiveMode=false -DgroupId=com.lou.springboot -DartifactId=springboot-demo -Dversion=0.0.1-SNAPSHOT&#x5728;&#x6784;&#x5EFA;&#x6210;&#x529F;&#x540E;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x9AA8;&#x67B6;&#x9879;&#x76EE;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;&#x751F;&#x6210;&#x7684;&#x9879;&#x76EE;&#x4EC5;&#x4EC5;&#x662F;&#x9AA8;&#x67B6;&#x9879;&#x76EE;&#xFF0C;&#x56E0;&#x6B64; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&#xFF0C;&#x4E3B;&#x65B9;&#x6CD5;&#x542F;&#x52A8;&#x7C7B;&#x4E5F;&#x9700;&#x8981;&#x81EA;&#x884C;&#x6DFB;&#x52A0;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x662F;&#x7279;&#x522B;&#x63A8;&#x8350;&#x3002; &#x76F4;&#x63A5;&#x6253;&#x5F00;&#x6700;&#x540E;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x662F;&#x76F4;&#x63A5;&#x5BFC;&#x5165; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x5982;&#x679C;&#x5DF2;&#x7ECF;&#x5B58;&#x5728; Spring Boot &#x9879;&#x76EE;&#x5219;&#x76F4;&#x63A5;&#x6253;&#x5F00;&#xFF0C;&#x4E0E;&#x5F15;&#x5165;&#x666E;&#x901A;&#x7684; Maven &#x5DE5;&#x7A0B;&#x7C7B;&#x4F3C;&#xFF0C;&#x89E3;&#x538B;&#x5E76;&#x901A;&#x8FC7; IDE &#x6253;&#x5F00;&#x9879;&#x76EE;&#x5373;&#x53EF;(&#x6BD4;&#x5982; Eclipse&#x3001;IDEA &#x6216;&#x8005;&#x5B9E;&#x9A8C;&#x697C;&#x7684; WebIDE )&#xFF0C;&#x5BFC;&#x5165;&#x6210;&#x529F;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C; Spring Boot &#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E86;&#x3002; &#x5173;&#x4E8E;&#x5B9E;&#x9A8C;&#x697C;&#x7684; WebIDE&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x94FE;&#x63A5;&#x4E86;&#x89E3;&#x8BE6;&#x60C5;&#xFF1A;https://www.shiyanlou.com/library/shiyanlou-docs/feature/webide &#x3002;&#x540E;&#x7EED;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#xFF0C;&#x90FD;&#x662F;&#x57FA;&#x4E8E;&#x5B9E;&#x9A8C;&#x697C;&#x7684; WebIDE &#x8FDB;&#x884C;&#x7684;&#x3002; &#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x8BE6;&#x89E3;&#x6253;&#x5F00;&#x9879;&#x76EE;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x770B;&#x5230; Spring Boot &#x9879;&#x76EE;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;Spring Boot &#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x4E3B;&#x8981;&#x7531;&#x4EE5;&#x4E0B;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#xFF1A; lou-springboot &#x251C;&#x2500;&#x2500; src/main/java &#x251C;&#x2500;&#x2500; src/main/resources &#x251C;&#x2500;&#x2500; src/test/java &#x2514;&#x2500;&#x2500; pom.xml&#x5176;&#x4E2D; src/main/java &#x8868;&#x793A; Java &#x7A0B;&#x5E8F;&#x5F00;&#x53D1;&#x76EE;&#x5F55;&#xFF0C;&#x8FD9;&#x4E2A;&#x76EE;&#x5F55;&#x5927;&#x5BB6;&#x5E94;&#x8BE5;&#x90FD;&#x6BD4;&#x8F83;&#x719F;&#x6089;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x662F; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x7A0B;&#x5E8F;&#x7C7B;&#x3002; src/main/resources &#x8868;&#x793A;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#xFF0C;&#x4E0E;&#x666E;&#x901A;&#x7684; Spring &#x9879;&#x76EE;&#x76F8;&#x6BD4;&#x6709;&#x4E9B;&#x533A;&#x522B;&#xFF0C;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#x8BE5;&#x76EE;&#x5F55;&#x4E0B;&#x6709; static &#x548C; templates &#x4E24;&#x4E2A;&#x76EE;&#x5F55;&#xFF0C;&#x662F; Spring Boot &#x9879;&#x76EE;&#x9ED8;&#x8BA4;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x548C;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#xFF0C;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x662F;&#x6CA1;&#x6709; webapp &#x76EE;&#x5F55;&#x7684;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x4F7F;&#x7528; static &#x548C; templates &#x4E24;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x3002; src/test/java &#x8868;&#x793A;&#x6D4B;&#x8BD5;&#x7C7B;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x4E0E;&#x666E;&#x901A;&#x7684; Spring &#x9879;&#x76EE;&#x5DEE;&#x522B;&#x4E0D;&#x5927;&#x3002; pom.xml &#x7528;&#x4E8E;&#x914D;&#x7F6E;&#x9879;&#x76EE;&#x4F9D;&#x8D56;&#x3002; &#x4EE5;&#x4E0A;&#x5373;&#x4E3A; Spring Boot &#x9879;&#x76EE;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#xFF0C;&#x4E0E;&#x666E;&#x901A;&#x7684; Spring &#x9879;&#x76EE;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x5DEE;&#x5F02;&#xFF0C;&#x4E0D;&#x8FC7;&#x5728;&#x5E73;&#x5E38;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x8FD9;&#x4E2A;&#x5DEE;&#x5F02;&#x7684;&#x5F71;&#x54CD;&#x5E76;&#x4E0D;&#x5927;&#xFF0C;&#x8BF4;&#x5230;&#x5DEE;&#x522B;&#x8F83;&#x5927;&#x7684;&#x5730;&#x65B9;&#x53EF;&#x80FD;&#x662F;&#x90E8;&#x7F72;&#x548C;&#x542F;&#x52A8;&#x65B9;&#x5F0F;&#x7684;&#x5DEE;&#x5F02;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5341;&#x4E09;&#x8BB2;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; Spring Boot &#x9879;&#x76EE;&#x7684;&#x542F;&#x52A8;&#x65B9;&#x5F0F;&#x3002; Spring Boot &#x9879;&#x76EE;&#x542F;&#x52A8; &#x9996;&#x5148;&#xFF0C;&#x70B9;&#x51FB;&#x4E0B;&#x65B9;&#x5DE5;&#x5177;&#x680F;&#x4E2D;&#x7684; Terminal &#x6253;&#x5F00;&#x547D;&#x4EE4;&#x884C;&#x7A97;&#x53E3; &#x4E4B;&#x540E;&#x4F7F;&#x7528; Maven &#x547D;&#x4EE4;&#x5C06;&#x9879;&#x76EE;&#x6253;&#x5305;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x4E3A;:mvn clean package -Dmaven.test.skip=true&#xFF0C;&#x7B49;&#x5F85;&#x6253;&#x5305;&#x7ED3;&#x679C;&#x5373;&#x53EF; &#x6253;&#x5305;&#x6210;&#x529F;&#x540E;&#x8FDB;&#x5165; target &#x76EE;&#x5F55;&#xFF0C;cd target &#x6700;&#x540E;&#x5C31;&#x662F;&#x542F;&#x52A8;&#x5DF2;&#x7ECF;&#x751F;&#x6210;&#x7684; Jar &#x5305;&#xFF0C;&#x6267;&#x884C;&#x547D;&#x4EE4;&#x4E3A;java -jar springboot-demo-0.0.1-SNAPSHOT.jar &#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x4E5F;&#x662F; Spring Boot &#x4E0A;&#x7EBF;&#x65F6;&#x5E38;&#x7528;&#x7684;&#x542F;&#x52A8;&#x6D41;&#x7A0B;&#xFF0C;&#x5E0C;&#x671B;&#x4E0D;&#x719F;&#x6089;&#x7684;&#x670B;&#x53CB;&#x90FD;&#x6309;&#x7167;&#x4EE5;&#x4E0A;&#x8FC7;&#x7A0B;&#x7EC3;&#x4E60;&#x51E0;&#x6B21;&#x3002; &#x5B9E;&#x9A8C;&#x697C; WebIDE &#x4E2D;&#x64CD;&#x4F5C; Spring Boot &#x9879;&#x76EE;&#x4E0B;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x6F14;&#x793A;&#x5728;&#x5B9E;&#x9A8C;&#x697C; WebIDE &#x4E2D;&#x64CD;&#x4F5C; Spring Boot &#x9879;&#x76EE;&#x3002;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x5C06;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x7684;&#x6E90;&#x7801;&#x4E0A;&#x4F20;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x4F7F;&#x7528;&#x3002; &#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#x4EE3;&#x7801;&#x4E0B;&#x8F7D;&#x4EE3;&#x7801;&#x538B;&#x7F29;&#x5305; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot.zip&#x89E3;&#x538B;&#x538B;&#x7F29;&#x5305; unzip lou-springboot.zip&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x5728; WebIDE &#x4E2D;&#x6253;&#x5F00;&#xFF0C;&#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x7EBF;&#x4E0A;&#x7F16;&#x8F91;&#x3002; &#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E2D;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x901A;&#x8FC7;cd lou-springboot&#x5207;&#x6362;&#x5230; lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x4E86;&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x9879;&#x76EE;&#x6210;&#x529F;&#x542F;&#x52A8;&#x540E;&#xFF0C;&#x70B9;&#x51FB;&#x5B9E;&#x9A8C;&#x697C;&#x4FA7;&#x680F;&#x4E2D;&#x7684; Web &#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E00;&#x4E2A; white label error &#x9875;&#x9762;&#xFF0C;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x662F; Spring Boot &#x7684;&#x9ED8;&#x8BA4;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x7531;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x770B;&#x51FA;&#x62A5;&#x9519;&#x4E3A; 404 &#xFF0C;&#x8BBF;&#x95EE;&#x5176;&#x4ED6;&#x5730;&#x5740;&#x4E5F;&#x90FD;&#x4F1A;&#x662F;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#xFF0C;&#x6B64;&#x65F6;&#x7684; web &#x670D;&#x52A1;&#x4E2D;&#x5E76;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x53EF;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5E76;&#x6CA1;&#x6709;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x589E;&#x52A0;&#x4EFB;&#x4F55;&#x4E00;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x6CA1;&#x6709;&#x63A5;&#x53E3;&#xFF0C;&#x4E5F;&#x6CA1;&#x6709;&#x9875;&#x9762;&#x3002; &#x867D;&#x7136;&#x662F;&#x9519;&#x8BEF;&#x9875;&#x9762;&#xFF0C;&#x4E0D;&#x8FC7;&#x80FD;&#x591F;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x9875;&#x9762;&#x5DF2;&#x7ECF;&#x8BC1;&#x660E;&#x54B1;&#x4EEC;&#x7684; Spring Boot &#x9879;&#x76EE;&#x642D;&#x5EFA;&#x548C;&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#x90FD;&#x5DF2;&#x7ECF;&#x6B63;&#x786E;&#x6267;&#x884C;&#x4E86;&#xFF0C;&#x5173;&#x4E8E;&#x4F7F;&#x7528; Spring Boot &#x8FDB;&#x884C; web &#x76F8;&#x5173;&#x529F;&#x80FD;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x6309;&#x7167;&#x6211;&#x7684;&#x6559;&#x7A0B;&#x5728;&#x672C;&#x5730;&#x548C;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x90FD;&#x52A8;&#x624B;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE5;&#x638C;&#x63E1; Spring Boot &#x7684;&#x57FA;&#x672C;&#x6784;&#x5EFA;&#x548C;&#x542F;&#x52A8;&#x64CD;&#x4F5C;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-02-controller-kai-fa.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x8FD9;&#x4E00;&#x8282;&#x5B66;&#x4E60; Spring Boot &#x4E2D;&#x5982;&#x4F55;&#x8FDB;&#x884C; web &#x76F8;&#x5173;&#x529F;&#x80FD;&#x7684;&#x5F00;&#x53D1;&#xFF0C;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x5E38;&#x7528;&#x7684;&#x63A5;&#x53E3;&#x5F00;&#x53D1;&#x548C; Spring Boot &#x5BF9;&#x4E8E;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x5904;&#x7406;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; DispatchServlet &#x914D;&#x7F6E; Spring Boot &#x5982;&#x4F55;&#x5904;&#x7406;&#x9759;&#x6001; web &#x8D44;&#x6E90; &#x6D88;&#x606F;&#x8F6C;&#x6362;&#x5668; HttpMessageConverter &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-03.zip unzip lou-springboot-03.zip cd lou-springboot&#x63A5;&#x53E3;&#x5F00;&#x53D1;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x8FDB;&#x884C;&#x63A5;&#x53E3;&#x5F00;&#x53D1;&#xFF0C;&#x8BF7;&#x5927;&#x5BB6;&#x52A1;&#x5FC5;&#x8DDF;&#x968F;&#x6587;&#x6863;&#x5B8C;&#x6210;&#x76F8;&#x5173;&#x4EE3;&#x7801;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x9879;&#x76EE;&#x7EDF;&#x4E00;&#x521B;&#x5EFA;&#x5728; /home/project/lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#x3002; hello shiyanlou&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x81EA;&#x884C;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A; Controller &#x6765;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B; Spring Boot &#x5982;&#x4F55;&#x5904;&#x7406; web &#x8BF7;&#x6C42;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x4F7F;&#x7528; Spring Boot &#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x3002;&#x5728; src/main/java &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; com.lou.springboot.controller &#x5305;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x5305;&#x91CC;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A; HelloController &#x7C7B;&#xFF0C;&#x7F16;&#x7801;&#x5982;&#x4E0B;: package com.lou.springboot.controller; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.ResponseBody; @Controller public class HelloController { @GetMapping(&quot;/hello&quot;) @ResponseBody public String hello() { return &quot;hello,shiyanlou&quot;; } }&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5927;&#x5BB6;&#x5E94;&#x8BE5;&#x5F88;&#x719F;&#x6089;&#xFF0C;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x5927;&#x90E8;&#x5206;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x7684;&#x5199;&#x6CD5;&#x4E0E; Spring &#x9879;&#x76EE;&#x5F00;&#x53D1;&#x7684;&#x5199;&#x6CD5;&#x662F;&#x76F8;&#x540C;&#x7684;&#xFF0C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x7684;&#x542B;&#x4E49;&#x5C31;&#x662F;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E3A; /hello &#x7684; get &#x8BF7;&#x6C42;&#xFF0C;&#x4E4B;&#x540E;&#x8FD4;&#x56DE;&#x4E00;&#x6BB5;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#x7F16;&#x7801;&#x5B8C;&#x6210;&#x540E;&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x70B9;&#x51FB; WEB &#x670D;&#x52A1;&#x6309;&#x94AE;&#xFF0C;&#x5E76;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x5730;&#x5740;&#x672B;&#x5C3E;&#x4E2D;&#x6DFB;&#x52A0; /hello&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x54B1;&#x4EEC;&#x7684;&#x7B2C;&#x4E00;&#x4E2A; Spring Boot &#x9879;&#x76EE;&#x5B9E;&#x4F8B;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#xFF01; DispatchServlet &#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x5728;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x4E86; web &#x6A21;&#x5757;(&#x5373;&#x5728; pom &#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5165;&#x4E86; spring-boot-starter-web &#x4F9D;&#x8D56;)&#xFF0C;&#x8BE5;&#x6A21;&#x5757;&#x4E2D;&#x5305;&#x542B;&#x4E86; SpringMVC &#x76F8;&#x5173;&#x4F9D;&#x8D56;&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5F00;&#x53D1;&#x4E86;&#x7B2C;&#x4E00;&#x4E2A; web &#x529F;&#x80FD;&#xFF0C;&#x4EC5;&#x4EC5;&#x662F;&#x5728;&#x63A7;&#x5236;&#x5668;&#x7C7B;&#x4E2D;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x8FD4;&#x56DE;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5BF9;&#x8BE5;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x4E86;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x6620;&#x5C04;&#x8BBE;&#x7F6E;&#xFF0C;&#x4E4B;&#x540E;&#x6CA1;&#x6709;&#x505A;&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x64CD;&#x4F5C;&#xFF0C;&#x4F46;&#x662F;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x540E;&#x5C31;&#x80FD;&#x591F;&#x8FDB;&#x884C;&#x6B63;&#x5E38;&#x7684; web &#x8BF7;&#x6C42;&#x5E76;&#x6B63;&#x5E38;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x3002; &#x54B1;&#x4EEC;&#x6765;&#x56DE;&#x60F3;&#x4E00;&#x4E0B;&#x5728;&#x672A;&#x4F7F;&#x7528; Spring Boot &#x5F00;&#x53D1; web &#x5E94;&#x7528;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x5728;&#x5E73;&#x65F6;&#x7684; Spring web &#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x4F7F;&#x7528; SpringMVC &#x6A21;&#x5757;&#x65F6;&#x9700;&#x8981;&#x5728;&#x5BB9;&#x5668;&#x4E2D; SpringMVC &#x76F8;&#x5173;&#x7684;&#x914D;&#x7F6E; bean&#xFF0C;&#x5E76;&#x4E14;&#x5728; web.xml &#x4E2D;&#x914D;&#x7F6E; DispatcherServlet &#x4EE5;&#x53CA;&#x5B83;&#x7684; &#x8FDB;&#x884C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;: &lt;!--Start spring mvc Servlet--&gt; &lt;servlet&gt; &lt;servlet-name&gt;Spring&lt;/Servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.Servlet.DispatcherServlet&lt;/Servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:spring-mvc.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;!--End spring mvc Servlet--&gt; &lt;!--Start Servlet-mapping --&gt; &lt;servlet-mapping&gt; &lt;Servlet-name&gt;Spring&lt;/Servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;!--End Servlet-mapping --&gt;&#x6700;&#x540E;&#x542F;&#x52A8; Tomcat &#x670D;&#x52A1;&#x5668;&#x88C5;&#x8F7D; DispatcherServlet&#xFF0C;&#x63A5;&#x7740;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x57FA;&#x4E8E; SpringMVC &#x6846;&#x67B6;&#x7684; web &#x9879;&#x76EE;&#x5F00;&#x53D1;&#x548C;&#x4F7F;&#x7528;&#xFF0C;&#x4F46;&#x662F; Spring Boot &#x5F00;&#x53D1; web &#x9879;&#x76EE;&#x65F6;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EA;&#x9700;&#x5BFC;&#x5165; spring-boot-starter-web &#x573A;&#x666F;&#x542F;&#x52A8;&#x5668;&#x5373;&#x53EF;&#xFF0C;&#x6839;&#x672C;&#x65E0;&#x9700;&#x518D;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x914D;&#x7F6E;&#x5C31;&#x80FD;&#x591F;&#x4F7F;&#x5F97; DispatherServlet &#x6B63;&#x5E38;&#x52A0;&#x8F7D;&#x5E76;&#x4F7F;&#x7528;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A; Spring Boot &#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x65F6;&#x5DF2;&#x7ECF;&#x5C06; DispatherServlet &#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#x4E86;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x65E0;&#x9700;&#x505A;&#x591A;&#x4F59;&#x7684;&#x914D;&#x7F6E;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x63A5;&#x53E3;&#x7684;&#x5F00;&#x53D1;&#x3002; &#x4E0D;&#x8FC7;&#x5462;&#xFF0C;&#x4F7F;&#x7528; Spring Boot &#x5F00;&#x53D1; web &#x5E94;&#x7528;&#x65F6;&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x914D;&#x7F6E;&#x9879;&#xFF1A; server.port &#x8868;&#x793A;&#x542F;&#x52A8;&#x540E;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F; 8080 server.servlet.context-path &#x9879;&#x76EE;&#x8DEF;&#x5F84;&#xFF0C;&#x662F;&#x6784;&#x6210; url &#x5730;&#x5740;&#x7684;&#x4E00;&#x90E8;&#x5206; &#x5982;&#x679C;&#x60F3;&#x8981;&#x4FEE;&#x6539;&#x8FD9;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; application.properties &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x4FEE;&#x6539;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A; server.port=8082 server.servlet.context-path=/shiyanlou/&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x542F;&#x52A8;&#x540E;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x5C31;&#x4E0D;&#x518D;&#x662F; 8080 &#x800C;&#x662F; 8082 &#x4E86;&#xFF0C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#x65F6;&#x4E5F;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x8BBE;&#x7F6E;&#x7684;&#x9879;&#x76EE;&#x8DEF;&#x5F84;&#xFF0C;&#x6BD4;&#x5982;&#x524D;&#x9762;&#x7684; hello &#x8BF7;&#x6C42;&#xFF0C;&#x8DEF;&#x5F84;&#x5C31;&#x53D8;&#x6210;&#x4E86; http://localhost:8082/shiyanlou/hello &#xFF0C;&#x8FD9;&#x4E00;&#x70B9;&#x5927;&#x5BB6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8981;&#x5BF9;&#x7AEF;&#x53E3;&#x548C;&#x9879;&#x76EE;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&#x505A;&#x4FEE;&#x6539;&#x7684;&#x8BDD;&#xFF0C;&#x4FEE;&#x6539;&#x8FD9;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#xFF0C;&#x7531;&#x4E8E;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x53EA;&#x80FD;&#x8BBF;&#x95EE; 8080 &#x7AEF;&#x53E3;&#xFF0C;&#x56E0;&#x6B64;&#x7AEF;&#x53E3;&#x4FEE;&#x6539;&#x6D4B;&#x8BD5;&#x7684;&#x8BBF;&#x95EE;&#x9700;&#x8981;&#x5728;&#x4F60;&#x672C;&#x673A;&#x4E0A;&#x8FDB;&#x884C;&#x3002; &#x9759;&#x6001;&#x8D44;&#x6E90;&#x5904;&#x7406;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x5728; B/S &#x67B6;&#x6784;&#x4E2D;&#xFF0C;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x4E00;&#x822C;&#x6307; Web &#x670D;&#x52A1;&#x5668;&#x5BF9;&#x5E94;&#x76EE;&#x5F55;&#x4E2D;&#x7684;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x5230; Web &#x670D;&#x52A1;&#x5668;&#x540E;&#xFF0C;Web &#x670D;&#x52A1;&#x5668;&#xFF08;&#x6BD4;&#x5982; Tomcat&#xFF09;&#x76F4;&#x63A5;&#x4ECE;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x4E2D;&#x83B7;&#x53D6;&#x6587;&#x4EF6;&#x5E76;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x89E3;&#x6790;&#x5E76;&#x6E32;&#x67D3;&#x663E;&#x793A;&#x51FA;&#x6765;&#xFF0C;&#x6BD4;&#x5982; HTML&#x3001;CSS&#x3001;JavaScript&#x3001;&#x56FE;&#x7247;&#x7B49;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x539F;&#x6837;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x5E76;&#x4E0D;&#x4F1A;&#x5728; Web &#x670D;&#x52A1;&#x5668;&#x7AEF;&#x6709;&#x6240;&#x6539;&#x53D8;&#xFF0C;&#x5728;&#x8FDB;&#x884C; web &#x9879;&#x76EE;&#x5F00;&#x53D1;&#x65F6;&#xFF0C;&#x5BF9;&#x4E8E;&#x8FD9;&#x4E9B;&#x8D44;&#x6E90;&#x7684;&#x5904;&#x7406;&#x4E5F;&#x662F;&#x5341;&#x5206;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x8FD9;&#x4E00;&#x5C0F;&#x8282;&#x6211;&#x4EEC;&#x5C06;&#x4F1A;&#x8BB2;&#x89E3; Spring Boot &#x662F;&#x5982;&#x4F55;&#x5904;&#x7406;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x7684;&#x3002; &#x901A;&#x8FC7;&#x67E5;&#x770B;&#x6E90;&#x7801;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;Spring Boot &#x9ED8;&#x8BA4;&#x5B58;&#x653E;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x7684;&#x76EE;&#x5F55;&#x6709;&#x56DB;&#x4E2A;&#xFF0C;&#x8FD9;&#x4E9B;&#x76EE;&#x5F55;&#x90FD;&#x5728;&#x7C7B;&#x8DEF;&#x5F84;&#x4E0B;&#xFF0C;&#x5B83;&#x4EEC;&#x5206;&#x522B;&#x662F;&#xFF1A; /META-INF/resources/ /resources/ /static/ /public/ &#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728;&#x8FDB;&#x884C; web &#x529F;&#x80FD;&#x5F00;&#x53D1;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x9879;&#x76EE;&#x4E2D;&#x5B58;&#x5728;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x5982; HTML&#x3001;CSS&#x3001;JavaScript&#x3001;&#x56FE;&#x7247;&#x7B49;&#x6587;&#x4EF6;&#xFF0C;&#x53EA;&#x8981;&#x5C06;&#x8FD9;&#x4E9B;&#x6587;&#x4EF6;&#x653E;&#x5230;&#x4EE5;&#x4E0A;&#x56DB;&#x4E2A;&#x6587;&#x4EF6;&#x76EE;&#x5F55;&#x5373;&#x53EF;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x5230;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x65B0;&#x5EFA;&#x56DB;&#x4E2A;&#x76EE;&#x5F55;&#x5E76;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x7C7B;&#x8DEF;&#x5F84;&#x5BF9;&#x5E94;&#x5230;&#x9879;&#x76EE;&#x8DEF;&#x5F84;&#x4E2D;&#x5C31;&#x662F; src/main/resources &#xFF0C;&#x65B0;&#x7684;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; src/main/resources &#x251C;&#x2500;&#x2500; application.properties &#x251C;&#x2500;&#x2500; META-INF &#x2502; &#x2514;&#x2500;&#x2500; resources &#x251C;&#x2500;&#x2500; public &#x251C;&#x2500;&#x2500; resources &#x251C;&#x2500;&#x2500; static &#x2514;&#x2500;&#x2500; templates&#x4E3A;&#x4E86;&#x9A8C;&#x8BC1;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x5206;&#x522B;&#x5728;&#x6BCF;&#x4E2A;&#x76EE;&#x5F55;&#x4E2D;&#x65B0;&#x589E;&#x4E00;&#x4E2A;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x5206;&#x522B;&#x662F; /META-INF/resources/test.html &#x3001;/resources/shiyanlou.png &#x3001;/static/test.css &#x3001;/public/test.js : &#x4E3A; test.html &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;test&lt;/title&gt; &lt;/head&gt; &lt;body&gt; resource - html &lt;/body&gt; &lt;/html&gt;&#x4E0B;&#x8F7D; shiyanlou.png &#x5230;&#x5BF9;&#x5E94;&#x76EE;&#x5F55;&#x3002; wget http://labfile.oss.aliyuncs.com/courses/1274/shiyanlou.png&#x4E3A; test.css &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A; . test { font-size: 14px; }&#x4E3A; test.js &#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A; function test() { console.log(&apos;resource - js&apos;); }&#x63A5;&#x4E0B;&#x6765;&#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002; mvn spring-boot:run&#x4E4B;&#x540E;&#x70B9;&#x51FB; Web &#x670D;&#x52A1;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x8DEF;&#x5F84;&#x4E2D;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x63A5;&#x53E3;&#x7684;&#x8BBF;&#x95EE;&#x548C;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x770B;&#x4E00;&#x4E0B;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&#x4E3A;&#xFF1A; /test.html /test.css /test.js /shiyanlou.png &#x7ED3;&#x679C;&#x90FD;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x6587;&#x4EF6;&#x867D;&#x7136;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x8DEF;&#x5F84;&#x4E2D;&#xFF0C;&#x4F46;&#x662F;&#x56DB;&#x4E2A;&#x8DEF;&#x5F84;&#x90FD;&#x662F;&#x9ED8;&#x8BA4;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x76EE;&#x5F55;&#xFF0C;&#x56E0;&#x6B64;&#x90FD;&#x80FD;&#x591F;&#x88AB;&#x8BBF;&#x95EE;&#x5230;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x6709;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x80FD;&#x4F1A;&#x8BF4;&#x4E86;&#xFF0C;&#x6211;&#x5C31;&#x60F3;&#x8981;&#x8BBF;&#x95EE; shiyanlou &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#x5462;&#xFF1F;&#x5176;&#x5B9E;&#xFF0C;&#x524D;&#x9762;&#x56DB;&#x4E2A;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x76EE;&#x5F55;&#x662F; Spring Boot &#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x60F3;&#x8981;&#x66F4;&#x6539;&#xFF0C;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684; spring.resources.static-locations &#x53C2;&#x6570;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x8BBF;&#x95EE; shiyanlou &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5728;src/main/resources&#x4E0B;&#x65B0;&#x5EFA; shiyanlou &#x76EE;&#x5F55;&#xFF0C;&#x5C06;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x590D;&#x5236;&#x5230;&#x8BE5;&#x76EE;&#x5F55;&#x4E2D;&#xFF1A; shiyanlou &#x251C;&#x2500;&#x2500; shiyanlou.png &#x251C;&#x2500;&#x2500; test.css &#x2514;&#x2500;&#x2500; test.html&#x6211;&#x4EEC;&#x590D;&#x5236;&#x4E86;&#x4E09;&#x4E2A;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#xFF0C;test.js &#x4F9D;&#x7136;&#x653E;&#x5728; static &#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x8BBE;&#x7F6E;&#xFF1A; spring.resources.static-locations=classpath:/shiyanlou/&#x91CD;&#x542F;&#x540E;&#xFF0C;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x518D;&#x6B21;&#x5206;&#x522B;&#x8BBF;&#x95EE;&#x8FD9;&#x4E9B;&#x9759;&#x6001;&#x8D44;&#x6E90;&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0; shiyanlou &#x76EE;&#x5F55;&#x4E0B;&#x7684;&#x4E09;&#x4E2A;&#x6587;&#x4EF6;&#x90FD;&#x80FD;&#x591F;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#xFF0C;&#x4F46;&#x662F; test.js &#x8BBF;&#x95EE;&#x65F6;&#x62A5;&#x9519; 404 &#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;&#x5E76;&#x6CA1;&#x6709;&#x5305;&#x542B; static &#x76EE;&#x5F55;&#xFF0C;shiyanlou &#x76EE;&#x5F55;&#x4E0B;&#x4E5F;&#x6CA1;&#x6709; test.js&#x3002;&#x5982;&#x679C;&#x60F3;&#x8981;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x5230;&#x8BE5;&#x6587;&#x4EF6;&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x529E;&#x6CD5;&#xFF0C;&#x4E00;&#x662F;&#x5C06; test.js &#x6587;&#x4EF6;&#x653E;&#x5230; shiyanlou &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E8C;&#x662F;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E3A; &#xFF1A; spring.resources.static-locations=classpath:/shiyanlou/,classpath:/static/spring.resources.static-locations &#x7684;&#x53C2;&#x6570;&#x503C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x3002;&#x8FD9;&#x6837;&#x4FEE;&#x6539;&#x540E;&#xFF0C;&#x91CD;&#x542F;&#x540E;&#x53C8;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x6240;&#x6709;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x4E86;&#x3002; &#x6D88;&#x606F;&#x8F6C;&#x6362;&#x5668; HttpMessageConverter&#x4EE5;&#x5F80;&#x5728;&#x4F7F;&#x7528; SpringMVC &#x6846;&#x67B6;&#x5F00;&#x53D1;&#x9879;&#x76EE;&#x65F6;&#xFF0C;&#x5927;&#x5BB6;&#x5E94;&#x8BE5;&#x90FD;&#x4F7F;&#x7528;&#x8FC7; @RequestBody&#x3001;@ResponseBody &#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x8BF7;&#x6C42;&#x5B9E;&#x4F53;&#x7684;&#x8F6C;&#x6362;&#x548C;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x7684;&#x683C;&#x5F0F;&#x5316;&#x8F93;&#x51FA;&#xFF0C;&#x4EE5;&#x666E;&#x904D;&#x4F7F;&#x7528;&#x7684; json &#x6570;&#x636E;&#x4E3A;&#x4F8B;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x6CE8;&#x89E3;&#x7684;&#x4F5C;&#x7528;&#x5206;&#x522B;&#x53EF;&#x4EE5;&#x5C06;&#x8BF7;&#x6C42;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x89E3;&#x6790;&#x6210; json &#x5E76;&#x7ED1;&#x5B9A;&#x4E3A;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;&#x4EE5;&#x53CA;&#x5C06;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x4EE5; json &#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#x7ED9;&#x8BF7;&#x6C42;&#x53D1;&#x8D77;&#x8005;&#xFF0C;&#x4F46; Http &#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x662F;&#x57FA;&#x4E8E;&#x6587;&#x672C;&#x7684;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5728; SpringMVC &#x5185;&#x90E8;&#x7EF4;&#x62A4;&#x4E86;&#x4E00;&#x5957;&#x8F6C;&#x6362;&#x673A;&#x5236;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x6240;&#x8BF4;&#x7684;&#x201C;&#x5C06; json &#x683C;&#x5F0F;&#x7684;&#x8BF7;&#x6C42;&#x4FE1;&#x606F;&#x8F6C;&#x6362;&#x4E3A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#xFF0C;&#x5C06;&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x4E3A; json &#x683C;&#x5F0F;&#x5E76;&#x8F93;&#x51FA;&#x4E3A;&#x54CD;&#x5E94;&#x4FE1;&#x606F; &#x201D;&#xFF0C;&#x8FD9;&#x4E9B;&#x5C31;&#x662F; HttpMessageConverter &#x7684;&#x4F5C;&#x7528;&#x3002; &#x4E3E;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x4F8B;&#x5B50;&#xFF0C;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x7C7B;&#xFF0C;&#x5E76;&#x901A;&#x8FC7; @RequestBody&#x3001;@ResponseBody &#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x53C2;&#x6570;&#x7684;&#x8BFB;&#x53D6;&#x548C;&#x54CD;&#x5E94;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &#x5728; com.lou.springboot &#x4E0B;&#x521B;&#x5EFA;&#x5982;&#x4E0B;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#xFF1A; com.lou.springboot &#x251C;&#x2500;&#x2500; Application.java &#x251C;&#x2500;&#x2500; controller &#x2502; &#x251C;&#x2500;&#x2500; HelloController.java &#x2502; &#x2514;&#x2500;&#x2500; TestController.java &#x251C;&#x2500;&#x2500; entity &#x2502; &#x2514;&#x2500;&#x2500; SaleGoods.java &#x2514;&#x2500;&#x2500; service &#x2514;&#x2500;&#x2500; HelloService.javaSaleGoods.java &#x7684;&#x4EE3;&#x7801;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A; // &#x5B9E;&#x4F53;&#x7C7B; package com.lou.springboot.entity; public class SaleGoods { private Integer id; private String goodsName; private float weight; private int type; private Boolean onSale; public Integer getId() { return id; } public void setId(Integer id) { this.id = id; } public String getGoodsName() { return goodsName; } public void setGoodsName(String goodsName) { this.goodsName = goodsName; } public float getWeight() { return weight; } public void setWeight(float weight) { this.weight = weight; } public Boolean getOnSale() { return onSale; } public void setOnSale(Boolean onSale) { this.onSale = onSale; } public int getType() { return type; } public void setType(int type) { this.type = type; } @Override public String toString() { return &quot;SaleGoods{&quot; + &quot;id=&quot; + id + &quot;, goodsName=&apos;&quot; + goodsName + &apos;\&apos;&apos; + &quot;, weight=&quot; + weight + &quot;, type=&quot; + type + &quot;, onSale=&quot; + onSale + &apos;}&apos;; } }TestController.java &#x63A7;&#x5236;&#x5668;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF0C;&#x62FF;&#x5230;&#x53C2;&#x6570;&#x6570;&#x503C;&#x540E;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x4FEE;&#x6539;&#x5E76;&#x5C06;&#x5BF9;&#x8C61;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#xFF1A; package com.lou.springboot.controller; import com.lou.springboot.entity.SaleGoods; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.*; @Controller public class TestController { @RequestMapping(value = &quot;/get/httpmessageconverter&quot;, method = RequestMethod.GET) @ResponseBody public SaleGoods httpMessageConverterTest() { SaleGoods saleGoods = new SaleGoods(); saleGoods.setGoodsName(&quot;&#x534E;&#x4E3A;&#x624B;&#x673A;&quot;); saleGoods.setId(1); saleGoods.setOnSale(true); saleGoods.setType(1); saleGoods.setWeight(300); return saleGoods; } }&#x7F16;&#x7801;&#x5B8C;&#x6210;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#xFF0C;&#x70B9;&#x51FB; WEB &#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x5728;&#x5730;&#x5740;&#x680F;&#x5730;&#x5740;&#x672B;&#x5C3E;&#x6DFB;&#x52A0; /get/httpmessageconverter &#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A; { &quot;id&quot;: 1, &quot;goodsName&quot;: &quot;&#x534E;&#x4E3A;&#x624B;&#x673A;&quot;, &quot;weight&quot;: 300.0, &quot;type&quot;: 1, &quot;onSale&quot;: true }&#x6DFB;&#x52A0; @ResponseBody &#x6CE8;&#x89E3;&#x540E;&#xFF0C;Spring Boot &#x4F1A;&#x76F4;&#x63A5;&#x5C06;&#x5BF9;&#x8C61;&#x8F6C;&#x6362;&#x4E3A; json &#x683C;&#x5F0F;&#x5E76;&#x8F93;&#x51FA;&#x4E3A;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x662F;&#x5C06;&#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x76F8;&#x5E94;&#x6570;&#x636E;&#x7684;&#x4F8B;&#x5B50;&#x3002; &#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x518D;&#x5199;&#x4E00;&#x4E2A;&#x6848;&#x4F8B;&#xFF0C;&#x4F7F;&#x7528; @RequestBody &#x63A5;&#x6536;&#x524D;&#x7AEF;&#x8BF7;&#x6C42;&#x5E76;&#x5C06;&#x53C2;&#x6570;&#x8F6C;&#x6362;&#x4E3A;&#x540E;&#x7AEF;&#x5B9A;&#x4E49;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5728; TestController &#x7C7B;&#x4E2D;&#x6DFB;&#x52A0;&#x7684;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST&#xFF0C;&#x5E76;&#x4F7F;&#x7528; @RequestBody &#x6CE8;&#x89E3;&#x5C06;&#x524D;&#x7AEF;&#x4F20;&#x8F93;&#x7684;&#x53C2;&#x6570;&#x76F4;&#x63A5;&#x8F6C;&#x6362;&#x4E3A; SaleGoods &#x5BF9;&#x8C61;&#x3002; @RequestMapping(value = &quot;/test/httpmessageconverter&quot;, method = RequestMethod.POST) @ResponseBody public SaleGoods httpMessageConverterTest2(@RequestBody SaleGoods saleGoods) { System.out.println(saleGoods.toString()); saleGoods.setType(saleGoods.getType() + 1); saleGoods.setGoodsName(&quot;&#x5546;&#x54C1;&#x540D;&#xFF1A;&quot; + saleGoods.getGoodsName()); return saleGoods; }&#x7531;&#x4E8E;&#x662F; POST &#x8BF7;&#x6C42;&#xFF0C;&#x56E0;&#x6B64;&#x6CA1;&#x6709;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x6D4F;&#x89C8;&#x5668;&#x8BBF;&#x95EE;&#xFF0C;&#x800C;&#x662F;&#x5728; static &#x4E2D;&#x65B0;&#x589E;&#x4E86; api-test.html &#x9875;&#x9762;&#x8FDB;&#x884C;&#x6A21;&#x62DF;&#x8BF7;&#x6C42;,&#x9875;&#x9762;&#x5F53;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x662F; applicaiton/json &#x683C;&#x5F0F;&#x8FDB;&#x884C; ajax &#x8BF7;&#x6C42;&#xFF0C;resources/static/api-test.html &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;title&gt;lou.SpringBoot | &#x8BF7;&#x6C42;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body class=&quot;hold-transition login-page&quot;&gt; &lt;div style=&quot;width:720px;margin:7% auto&quot;&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-lg-6&quot;&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h5 class=&quot;m-0&quot;&gt;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&lt;/h5&gt; &lt;/div&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;input id=&quot;id&quot; type=&quot;text&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;id&#x5B57;&#x6BB5;&quot;&gt; &lt;input id=&quot;goodsName&quot; type=&quot;text&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;goodsName&#x5B57;&#x6BB5;&quot;&gt; &lt;input id=&quot;weight&quot; type=&quot;number&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;weight&#x5B57;&#x6BB5;&quot;&gt; &lt;input id=&quot;type&quot; type=&quot;number&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;type&#x5B57;&#x6BB5;&quot;&gt; &lt;input id=&quot;onSale&quot; type=&quot;number&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;onSale&#x5B57;&#x6BB5;(0&#x6216;1)&quot;&gt; &lt;h6 class=&quot;card-title&quot;&gt;&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;&lt;/h6&gt; &lt;p class=&quot;card-text&quot; id=&quot;result2&quot;&gt;&lt;/p&gt; &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; onclick=&quot;requestPostTest()&quot;&gt;&#x53D1;&#x9001;Post&#x8BF7;&#x6C42;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;!-- jQuery --&gt; &lt;script src=&quot;https://cdn.staticfile.org/jquery/1.12.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; function requestPostTest() { var onSale = true; var id = $(&quot;#id&quot;).val(); var weight = $(&quot;#weight&quot;).val(); var type = $(&quot;#type&quot;).val(); var goodsName = $(&quot;#goodsName&quot;).val(); var onSaleValue = $(&quot;#onSale&quot;).val(); if(onSaleValue !== 1){ onSale = false; } var data = {&quot;id&quot;: id, &quot;goodsName&quot;: goodsName, &quot;weight&quot;:weight, &quot;type&quot;:type, &quot;onSale&quot;:onSale}; $.ajax({ type: &quot;POST&quot;, //&#x65B9;&#x6CD5;&#x7C7B;&#x578B; dataType: &quot;json&quot;, //&#x9884;&#x671F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; url: &quot;/test/httpmessageconverter&quot;, contentType: &quot;application/json; charset=utf-8&quot;, data: JSON.stringify(data), success: function (result) { $(&quot;#result2&quot;).html(JSON.stringify(result)); }, error: function () { $(&quot;#result2&quot;).html(&quot;&#x63A5;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#xFF01;&quot;); } }); } &lt;/script&gt; &lt;/body&gt; &lt;/html&gt;&#x91CD;&#x542F;&#x9879;&#x76EE;&#xFF0C;&#x5728;&#x5730;&#x5740;&#x680F;&#x8BBF;&#x95EE; /api-test.html &#x9875;&#x9762;&#xFF0C;&#x5E76;&#x5728;&#x9875;&#x9762;&#x8F93;&#x5165;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x5BF9;&#x5E94;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x70B9;&#x51FB;&#x8BF7;&#x6C42;&#x6309;&#x94AE;&#xFF0C;&#x6700;&#x7EC8;&#x83B7;&#x5F97;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x524D;&#x7AEF; ajax &#x4F20;&#x8F93;&#x7684;&#x6570;&#x636E;&#x662F; 5 &#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x5230;&#x8FBE;&#x540E;&#x7AEF;&#x540E;&#x76F4;&#x63A5;&#x8F6C;&#x6362;&#x4E3A; SaleGoods &#x5BF9;&#x8C61;&#x3002;&#x7531;&#x4E8E;&#x6D88;&#x606F;&#x8F6C;&#x6362;&#x5668;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x5BF9;&#x8C61;&#x6570;&#x636E;&#x7684;&#x8BFB;&#x53D6;&#x4E0D;&#x4EC5;&#x7B80;&#x5355;&#x800C;&#x4E14;&#x5B8C;&#x5168;&#x6B63;&#x786E;&#xFF0C;&#x54CD;&#x5E94;&#x65F6;&#x4E5F;&#x4E0D;&#x7528;&#x81EA;&#x884C;&#x5C01;&#x88C5;&#x5DE5;&#x5177;&#x7C7B;&#xFF0C;&#x4F7F;&#x5F97;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x7075;&#x6D3B;&#x548C;&#x9AD8;&#x6548;&#x3002; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3; &#x901A;&#x8FC7;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x7684;&#x4ECB;&#x7ECD;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#xFF0C;Spring Boot &#x8FD8;&#x505A;&#x4E86;&#x5982;&#x4E0B;&#x7684;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#xFF1A; &#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x4E86; ViewResolver &#x89C6;&#x56FE;&#x89E3;&#x6790;&#x5668; &#x9759;&#x6001;&#x8D44;&#x6E90;&#x6587;&#x4EF6;&#x5939;&#x5904;&#x7406; &#x81EA;&#x52A8;&#x6CE8;&#x518C;&#x4E86;&#x5927;&#x91CF;&#x7684;&#x8F6C;&#x6362;&#x5668;&#x548C;&#x683C;&#x5F0F;&#x5316;&#x5668; &#x63D0;&#x4F9B;&#x4E86; HttpMessageConverter &#x5BF9;&#x8BF7;&#x6C42;&#x53C2;&#x6570;&#x548C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x5904;&#x7406; &#x81EA;&#x52A8;&#x6CE8;&#x518C;&#x4E86; MessageCodesResolver &#x9ED8;&#x8BA4;&#x6B22;&#x8FCE;&#x9875;&#x914D;&#x7F6E; favicon &#x81EA;&#x52A8;&#x914D;&#x7F6E; &#x4EE5;&#x4E0A;&#x8FD9;&#x4E9B;&#x7279;&#x6027;&#x4E2D;&#xFF0C;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x5185;&#x5BB9;&#x6211;&#x4EEC;&#x90FD;&#x5728;&#x6587;&#x7AE0;&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x8BB2;&#x89E3;&#x548C;&#x5B9E;&#x9A8C;&#xFF0C;&#x4E3A;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x638C;&#x63E1;&#x5230;&#x8FD9;&#x4E9B;&#x5185;&#x5BB9;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x6587;&#x7AE0;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5BF9;&#x63A5;&#x53E3;&#x6216;&#x8005;&#x914D;&#x7F6E;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x4E4B;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x770B;&#x4E00;&#x4E0B;&#x8BBF;&#x95EE;&#x6548;&#x679C;&#x662F;&#x5426;&#x6709;&#x66F4;&#x6539;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-03-thymeleaf.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x8FD9;&#x4E00;&#x8282;&#x5B66;&#x4E60; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x6280;&#x672F;&#xFF0C;&#x9996;&#x5148;&#x4F1A;&#x4ECB;&#x7ECD; Thymeleaf &#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x7684;&#x5C5E;&#x6027;&#x548C;&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x6CD5;&#xFF0C;&#x5E76;&#x7ED3;&#x5408;&#x5B9E;&#x9645;&#x7684;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; Thymeleaf &#x6A21;&#x677F;&#x89E3;&#x8BFB;&#x8BED;&#x6CD5;&#x4ECB;&#x7ECD; Thymeleaf &#x6A21;&#x677F;&#x6807;&#x7B7E;&#x5C5E;&#x6027; Thymeleaf &#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x4ECB;&#x7ECD;&#x53CA;&#x5B9E;&#x9645;&#x529F;&#x80FD;&#x5F00;&#x53D1; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x8BA4;&#x8BC6; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;Thymeleaf&#x672C;&#x6B21;&#x6559;&#x7A0B;&#x5C06;&#x5BF9; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x8FDB;&#x884C;&#x5B8C;&#x6574;&#x7684;&#x4ECB;&#x7ECD;&#x548C;&#x5B9E;&#x8DF5;&#x7EC3;&#x4E60;&#xFF0C;&#x8BA9;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x771F;&#x6B63;&#x7684;&#x638C;&#x63E1;&#x8FD9;&#x4E2A;&#x6280;&#x672F;&#x8FDB;&#x884C;&#x9879;&#x76EE;&#x7684;&#x5F00;&#x53D1;&#x5DE5;&#x4F5C;&#x3002; Thymeleaf &#x5E94;&#x8BE5;&#x662F;&#x76EE;&#x524D;&#x6700;&#x53D7;&#x6B22;&#x8FCE;&#x7684;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x6280;&#x672F;&#x4E86;&#xFF0C;Spring Boot &#x5B98;&#x65B9;&#x4E5F;&#x63A8;&#x8350; Java web &#x5F00;&#x53D1;&#x4E2D;&#x4F7F;&#x7528;&#x8BE5;&#x6280;&#x672F;&#x6765;&#x66FF;&#x4EE3; JSP &#x6280;&#x672F;&#xFF0C;&#x4E3B;&#x8981;&#x7531;&#x4E8E;&#x5176;&#x201C;&#x539F;&#x578B;&#x5373;&#x9875;&#x9762;&#x201D;&#x7684;&#x7406;&#x5FF5;&#x4E0E; Spring Boot &#x5021;&#x5BFC;&#x7684;&#x5FEB;&#x901F;&#x5F00;&#x53D1;&#x975E;&#x5E38;&#x5951;&#x5408;&#xFF0C;&#x540C;&#x65F6; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x6280;&#x672F;&#x4E5F;&#x786E;&#x5B9E;&#x62E5;&#x6709;&#x5176;&#x4ED6;&#x6280;&#x672F;&#x6240;&#x4E0D;&#x5177;&#x5907;&#x7684;&#x4F18;&#x70B9;&#x3002; Thymeleaf 3 &#x7684;&#x6838;&#x5FC3;&#x7279;&#x6027;Thymeleaf &#x4E8E; 2016 &#x5E74; 5 &#x6708; 8 &#x65E5;&#x6B63;&#x5F0F;&#x53D1;&#x5E03;&#x4E86; thymeleaf-3.0.0.RELEASE &#x7248;&#x672C;&#xFF0C;&#x76EE;&#x524D;&#x7684;&#x5927;&#x90E8;&#x5206;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E5F;&#x662F;&#x4F7F;&#x7528; Thymeleaf 3.0 &#x53CA;&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x8FD9;&#x91CC;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B; Thymeleaf 3 &#x7684;&#x7279;&#x6027;&#x3002; &#x5B8C;&#x6574;&#x7684; HTML5 &#x6807;&#x8BB0;&#x652F;&#x6301;&#xFF0C;&#x5168;&#x65B0;&#x7684;&#x89E3;&#x6790;&#x5668; &#x81EA;&#x5E26;&#x591A;&#x79CD;&#x6A21;&#x677F;&#x6A21;&#x5F0F;&#xFF0C;&#x4E5F;&#x53EF;&#x6269;&#x5C55;&#x652F;&#x6301;&#x5176;&#x4ED6;&#x6A21;&#x677F;&#x683C;&#x5F0F;&#x3002; &#x5728; web &#x548C;&#x975E; web &#x73AF;&#x5883;&#xFF08;&#x79BB;&#x7EBF;&#xFF09;&#x4E0B;&#x90FD;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C; &#x5BF9; Spring web &#x5F00;&#x53D1;&#x7684;&#x652F;&#x6301;&#x975E;&#x5E38;&#x5B8C;&#x5584; &#x72EC;&#x7ACB;&#x4E8E; Servlet API &#x5176;&#x4ED6;&#x7279;&#x6027;: Thymeleaf 3.0 &#x5F15;&#x5165;&#x4E86;&#x4E00;&#x79CD;&#x65B0;&#x578B;&#x8868;&#x8FBE;&#x5F0F;&#x4F5C;&#x4E3A;&#x4E00;&#x822C; Thymeleaf &#x6807;&#x51C6;&#x8868;&#x8FBE;&#x7CFB;&#x7EDF;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF1A;&#x7247;&#x6BB5;&#x8868;&#x8FBE;&#x5F0F;&#xFF1B;&#x3002; Thymeleaf 3.0 &#x4E2D; Thymeleaf &#x6807;&#x51C6;&#x8868;&#x8FBE;&#x5F0F; &#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x65B0;&#x7279;&#x6027;&#x662F; NO-OP&#xFF08;&#x65E0;&#x64CD;&#x4F5C;&#xFF09;&#x4EE4;&#x724C;&#xFF0C;&#x7531;&#x4E0B;&#x5212;&#x7EBF;&#x7B26;&#x53F7;&#xFF08;_&#xFF09;&#x8868;&#x793A;&#x3002; Thymeleaf 3.0 &#x5141;&#x8BB8;&#x5728;&#x6A21;&#x677F;&#x548C;&#x6A21;&#x677F;&#x6A21;&#x5F0F;&#x4E0B;&#x5B8C;&#x5168;&#xFF08;&#x548C;&#x53EF;&#x9009;&#xFF09;&#x5C06;&#x6A21;&#x677F;&#x903B;&#x8F91;&#x4E0E;&#x6A21;&#x677F;&#x672C;&#x8EAB;&#x89E3;&#x8026;&#xFF0C;&#x4ECE;&#x800C;&#x5B9E;&#x73B0; 100&#xFF05;-Thymeleaf-free &#x65E0;&#x903B;&#x8F91;&#x6A21;&#x677F;&#x3002; Thymeleaf 3.0 &#x91C7;&#x7528;&#x5168;&#x65B0;&#x7684;&#x65B9;&#x8A00;&#x7CFB;&#x7EDF;&#x3002; Thymeleaf 3.0 &#x5B8C;&#x6210;&#x4E86;&#x6838;&#x5FC3; API &#x7684;&#x91CD;&#x6784;&#x3002; Thymeleaf &#x662F;&#x9AD8;&#x7EA7;&#x8BED;&#x8A00;&#x7684;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#xFF0C;&#x8BED;&#x6CD5;&#x66F4;&#x7B80;&#x5355;&#xFF0C;&#x529F;&#x80FD;&#x4E5F;&#x66F4;&#x5F3A;&#x5927;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x5185;&#x5BB9;&#x5C06;&#x662F; Thymeleaf &#x4E0E; Spring Boot &#x7684;&#x6574;&#x5408;&#x8FC7;&#x7A0B;&#xFF0C;&#x4EE5;&#x53CA; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x7684;&#x8BED;&#x6CD5;&#x4ECB;&#x7ECD;&#x3002; Spring Boot &#x6574;&#x5408; Thymeleaf&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5C0F;&#x6848;&#x4F8B;&#x6765;&#x4F7F;&#x7528;&#x4E00;&#x4E0B; Thymeleaf&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x5BF9; Thymeleaf &#x8FDB;&#x884C;&#x8BE6;&#x7EC6;&#x8BB2;&#x89E3;&#x3002;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#xFF0C;&#x8FDB;&#x884C;&#x5BF9;&#x7167;&#x5B66;&#x4E60;&#x3002; &#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x5E76;&#x89E3;&#x538B;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-04.zip unzip lou-springboot-04.zip&#x5207;&#x6362;&#x5DE5;&#x4F5C;&#x7A7A;&#x95F4;&#x5230; lou-springboot&#xFF0C;&#x8FDB;&#x884C;&#x8BE6;&#x7EC6;&#x7684;&#x4EE3;&#x7801;&#x5BF9;&#x7167;&#x3002; &#x5F15;&#x5165; Thymeleaf &#x4F9D;&#x8D56;&#x56E0;&#x4E3A; Spring Boot &#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x4E86; Thymeleaf &#x7684;&#x573A;&#x666F;&#x542F;&#x52A8;&#x5668; spring-boot-starter-thymeleaf &#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x8BE5;&#x573A;&#x666F;&#x542F;&#x52A8;&#x5668;&#xFF0C;&#x6700;&#x7EC8;&#x7684; pom.xml &#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; &lt;?xml version="1.0" encoding="UTF-8"?> &lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"> &lt;modelVersion>4.0.0&lt;/modelVersion> &lt;parent> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-parent&lt;/artifactId> &lt;version>2.1.0.RELEASE&lt;/version> &lt;relativePath/> &lt;!-- lookup parent from repository --> &lt;/parent> &lt;groupId>com.lou.springboot&lt;/groupId> &lt;artifactId>springboot-demo&lt;/artifactId> &lt;version>0.0.1-SNAPSHOT&lt;/version> &lt;name>springboot-demo&lt;/name> &lt;description>Demo project for Spring Boot&lt;/description> &lt;properties> &lt;java.version>1.8&lt;/java.version> &lt;/properties> &lt;dependencies> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-web&lt;/artifactId> &lt;/dependency> &lt;!-- Thymeleaf &amp;#x6A21;&amp;#x677F;&amp;#x5F15;&amp;#x64CE;&amp;#x4F9D;&amp;#x8D56; --> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-thymeleaf&lt;/artifactId> &lt;/dependency> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-test&lt;/artifactId> &lt;scope>test&lt;/scope> &lt;/dependency> &lt;/dependencies> &lt;build> &lt;plugins> &lt;plugin> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-maven-plugin&lt;/artifactId> &lt;/plugin> &lt;/plugins> &lt;/build> &lt;/project> &#x521B;&#x5EFA;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5728; resources/templates &#x76EE;&#x5F55;&#x65B0;&#x5EFA;&#x6A21;&#x677F;&#x6587;&#x4EF6; thymeleaf.html &#xFF0C;Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x7684;&#x9ED8;&#x8BA4;&#x540E;&#x7F00;&#x540D;&#x5373;&#x4E3A; html&#xFF0C;&#x65B0;&#x589E;&#x6587;&#x4EF6;&#x540E;&#xFF0C;&#x9996;&#x5148;&#x5728;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x7684; &lt;html&gt; &#x6807;&#x7B7E;&#x4E2D;&#x5BFC;&#x5165; Thymeleaf &#x7684;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF1A; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#x5BFC;&#x5165;&#x8BE5;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86; Thymeleaf &#x7684;&#x8BED;&#x6CD5;&#x63D0;&#x793A;&#x548C; Thymeleaf &#x6807;&#x7B7E;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x5728;&#x6A21;&#x677F;&#x4E2D;&#x589E;&#x52A0;&#x5982;&#x524D;&#x6587; JSP &#x4E2D;&#x76F8;&#x540C;&#x7684;&#x663E;&#x793A;&#x5185;&#x5BB9;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html> &lt;html lang="en" xmlns:th="http://www.thymeleaf.org"> &lt;head> &lt;title>Thymeleaf demo&lt;/title> &lt;/head> &lt;body> &lt;p>description&amp;#x5B57;&amp;#x6BB5;&amp;#x503C;&amp;#x4E3A;&amp;#xFF1A;&lt;/p> &lt;p th:text="${description}">&amp;#x8FD9;&amp;#x91CC;&amp;#x663E;&amp;#x793A;&amp;#x7684;&amp;#x662F; description &amp;#x5B57;&amp;#x6BB5;&amp;#x5185;&amp;#x5BB9;&lt;/p> &lt;/body> &lt;/html> &#x7F16;&#x8F91; Controller &#x4EE3;&#x7801;&#x5728; controller &#x5305;&#x4E0B;&#x65B0;&#x589E; ThymeleafController.java &#x6587;&#x4EF6;&#xFF0C;&#x5C06;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x6240;&#x9700;&#x7684; description &#x5B57;&#x6BB5;&#x8D4B;&#x503C;&#x5E76;&#x8F6C;&#x53D1;&#x81F3;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#xFF0C;&#x7F16;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.controller; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RequestParam; import javax.servlet.http.HttpServletRequest; @Controller public class ThymeleafController { @GetMapping(&quot;/thymeleaf&quot;) public String hello(HttpServletRequest request, @RequestParam(value = &quot;description&quot;, required = false, defaultValue = &quot;springboot-thymeleaf&quot;) String description) { request.setAttribute(&quot;description&quot;, description); return &quot;thymeleaf&quot;; } }&#x6700;&#x7EC8;&#x7684;&#x4EE3;&#x7801;&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; &#x542F;&#x52A8;&#x5E76;&#x8BBF;&#x95EE;&#x5728;&#x7F16;&#x7801;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x8BBF;&#x95EE; /thymeleaf&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x539F;&#x6765;&#x9759;&#x6001; html &#x6587;&#x4EF6; &lt;p&gt; &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5DF2;&#x7ECF;&#x66FF;&#x6362;&#x4E3A; &#x201C;springboot-thymeleaf&#x201D; &#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x800C;&#x4E0D;&#x518D;&#x662F;&#x9ED8;&#x8BA4;&#x5185;&#x5BB9;&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; Thymeleaf &#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x503C;&#x901A;&#x8FC7;&#x4E0A;&#x9762;&#x7684;&#x5C0F;&#x6848;&#x4F8B;&#xFF0C;&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x5DF2;&#x7ECF;&#x5BF9; Thymeleaf &#x6709;&#x4E86;&#x4E00;&#x4E2A;&#x521D;&#x6B65;&#x7684;&#x8BA4;&#x8BC6;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECB;&#x7ECD;&#x4E00;&#x4E9B;&#x5173;&#x4E8E; Thymeleaf &#x8BBE;&#x7F6E;&#x5C5E;&#x6027;&#x503C; &#x7684;&#x5185;&#x5BB9;&#x3002; th:* &#x5C5E;&#x6027;th:text &#x5BF9;&#x5E94;&#x7684;&#x662F; HTML5 &#x4E2D;&#x7684; text &#x5C5E;&#x6027;&#xFF0C;&#x9664; th:text &#x5C5E;&#x6027;&#x5916;&#xFF0C;Thymeleaf &#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x5176;&#x4ED6;&#x7684;&#x6807;&#x7B7E;&#x5C5E;&#x6027;&#x6765;&#x66FF;&#x6362; HTML5 &#x539F;&#x751F;&#x5C5E;&#x6027;&#x7684;&#x503C;&#xFF0C;&#x5C5E;&#x6027;&#x8282;&#x9009;&#x5982;&#x4E0B;&#xFF1A; th:background &#x5BF9;&#x5E94; HTML5 &#x4E2D;&#x7684;&#x80CC;&#x666F;&#x5C5E;&#x6027; th:class &#x5BF9;&#x5E94; HTML5 &#x4E2D;&#x7684; class &#x5C5E;&#x6027; th:href &#x5BF9;&#x5E94; HTML5 &#x4E2D;&#x7684;&#x94FE;&#x63A5;&#x5730;&#x5740;&#x5C5E;&#x6027; th:id &#x548C; th:name &#x5206;&#x522B;&#x5BF9;&#x5E94; HTML5 &#x4E2D;&#x7684; id &#x548C; name &#x5C5E;&#x6027;&#x2026; th:block &#x6BD4;&#x8F83;&#x7279;&#x6B8A;&#xFF0C;&#x5B83;&#x662F; Thymeleaf &#x63D0;&#x4F9B;&#x7684;&#x552F;&#x4E00;&#x7684;&#x4E00;&#x4E2A; Thymeleaf &#x5757;&#x7EA7;&#x5143;&#x7D20;&#xFF0C;&#x5176;&#x7279;&#x6B8A;&#x6027;&#x5728;&#x4E8E; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x5728;&#x5904;&#x7406;&lt;th:block&gt;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5220;&#x6389;&#x5B83;&#x672C;&#x8EAB;&#xFF0C;&#x800C;&#x4FDD;&#x7559;&#x5176;&#x5185;&#x5BB9;&#x3002; &#x8FD9;&#x91CC;&#x53EA;&#x5217;&#x4E3E;&#x4E86;&#x90E8;&#x5206;&#x5C5E;&#x6027;&#xFF0C;&#x5B8C;&#x6574;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x67E5;&#x770B; thymeleaf-attributes&#x3002; &#x4FEE;&#x6539;&#x5C5E;&#x6027;&#x503C;&#x5B9E;&#x8DF5;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x7F16;&#x7801;&#x5B9E;&#x8DF5;&#x6765;&#x7406;&#x89E3;&#x4EE5;&#x4E0A;&#x5185;&#x5BB9;&#xFF0C;&#x540C;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x4F9B;&#x6E90;&#x7801;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#xFF0C;&#x5BF9;&#x7167;&#x6E90;&#x7801;&#x6765;&#x7406;&#x89E3;&#x4EE5;&#x4E0A;&#x5185;&#x5BB9;&#x3002;&#x91CD;&#x70B9;&#x5173;&#x6CE8; attributes.html &#x6A21;&#x677F;&#x9875;&#x9762;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-05.zip unzip lou-springboot-05.zip&#x5207;&#x6362;&#x5DE5;&#x4F5C;&#x7A7A;&#x95F4;&#x5230; lou-springboot&#x3002; &#x9879;&#x76EE;&#x5B8C;&#x6574;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; lou-springboot &#x2514;&#x2500;&#x2500; src &#x251C;&#x2500;&#x2500; main &#x2502; &#x251C;&#x2500;&#x2500; java &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; com &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; lou &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; springboot &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; Application.java &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; controller &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; ThymeleafController.java &#x2502; &#x2514;&#x2500;&#x2500; resources &#x2502; &#x251C;&#x2500;&#x2500; application.properties &#x2502; &#x251C;&#x2500;&#x2500; static &#x2502; &#x2514;&#x2500;&#x2500; templates &#x2502; &#x251C;&#x2500;&#x2500; attributes.html &#x2502; &#x251C;&#x2500;&#x2500; simple.html &#x2502; &#x251C;&#x2500;&#x2500; test.html &#x2502; &#x2514;&#x2500;&#x2500; thymeleaf.html &#x2514;&#x2500;&#x2500; test &#x2514;&#x2500;&#x2500; java &#x2514;&#x2500;&#x2500; com &#x2514;&#x2500;&#x2500; lou &#x2514;&#x2500;&#x2500; springbootattributes.html &#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head&gt; &lt;title&gt;Thymeleaf setting-value-to-specific-attributes&lt;/title&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;/head&gt; &lt;!-- background &#x6807;&#x7B7E;--&gt; &lt;body th:background=&quot;${th_background}&quot; background=&quot;#D0D0D0&quot;&gt; &lt;!-- text &#x6807;&#x7B7E;--&gt; &lt;h1 th:text=&quot;${title}&quot;&gt;html&#x6807;&#x7B7E;&#x6F14;&#x793A;&lt;/h1&gt; &lt;div&gt; &lt;h5&gt;id&#x3001;name&#x3001;value&#x6807;&#x7B7E;:&lt;/h5&gt; &lt;!-- id&#x3001;name&#x3001;value&#x6807;&#x7B7E;--&gt; &lt;input id=&quot;input1&quot; name=&quot;input1&quot; value=&quot;1&quot; th:id=&quot;${th_id}&quot; th:name=&quot;${th_name}&quot; th:value=&quot;${th_value}&quot;/&gt; &lt;/div&gt; &lt;br/&gt; &lt;div class=&quot;div1&quot; th:class=&quot;${th_class}&quot;&gt; &lt;h5&gt;class&#x3001;href&#x6807;&#x7B7E;:&lt;/h5&gt; &lt;!-- class&#x3001;href&#x6807;&#x7B7E;--&gt; &lt;a th:href=&quot;${th_href}&quot; href=&quot;##/&quot;&gt;&#x94FE;&#x63A5;&#x5730;&#x5740;&lt;/a&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;&#x5176;&#x4E2D;&#x5305;&#x542B; background &#x3001;id &#x3001;name &#x3001;class &#x7B49; html &#x6807;&#x7B7E;&#xFF0C;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x5E76;&#x5728;&#x6BCF;&#x4E2A;&#x6807;&#x7B7E;&#x4F53;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9;&#x5E94;&#x7684; th &#x6807;&#x7B7E;&#x8BFB;&#x53D6;&#x52A8;&#x6001;&#x6570;&#x636E;&#xFF0C;&#x76F4;&#x63A5;&#x9009;&#x62E9;&#x8BE5;&#x6587;&#x4EF6;&#xFF0C;&#x53F3;&#x952E;&#x9009;&#x62E9; open with -&gt; Mini Browser &#x53EF;&#x67E5;&#x770B;&#x9875;&#x9762;&#x6548;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5F53;&#x524D;&#x662F;&#x76F4;&#x63A5;&#x6253;&#x5F00;&#x8BE5; html &#x6587;&#x4EF6;&#x5E76;&#x6CA1;&#x6709;&#x901A;&#x8FC7; web &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6B64;&#x65F6;&#x9875;&#x9762;&#x80FD;&#x591F;&#x76F4;&#x63A5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE;&#x4E14;&#x9875;&#x9762;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x548C;&#x5143;&#x7D20;&#x7684;&#x5C5E;&#x6027;&#x503C;&#x90FD;&#x662F;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x4E4B;&#x540E;&#xFF0C;&#x5728; controller &#x5305;&#x4E0B;&#x65B0;&#x589E;&#x5BF9;&#x5E94;&#x7684; Controller &#x65B9;&#x6CD5;&#x5E76;&#x5C06;&#x8BF7;&#x6C42;&#x8F6C;&#x53D1;&#x81F3;&#x8BE5;&#x6A21;&#x677F;&#x9875;&#x9762;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; // ThymeleafController.java package com.lou.springboot.controller; import org.springframework.stereotype.Controller; import org.springframework.ui.ModelMap; import org.springframework.web.bind.annotation.GetMapping; @Controller public class ThymeleafController { @GetMapping(&quot;/attributes&quot;) public String attributes(ModelMap map) { // &#x66F4;&#x6539; h1 &#x5185;&#x5BB9; map.put(&quot;title&quot;, &quot;Thymeleaf &#x6807;&#x7B7E;&#x6F14;&#x793A;&quot;); // &#x66F4;&#x6539; id&#x3001;name&#x3001;value map.put(&quot;th_id&quot;, &quot;thymeleaf-input&quot;); map.put(&quot;th_name&quot;, &quot;thymeleaf-input&quot;); map.put(&quot;th_value&quot;, &quot;13&quot;); // &#x66F4;&#x6539; class&#x3001;href map.put(&quot;th_class&quot;, &quot;thymeleaf-class&quot;); map.put(&quot;th_href&quot;, &quot;http://13blog.site&quot;); return &quot;attributes&quot;; } }&#x5728;&#x7F16;&#x7801;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x542F;&#x52A8;&#x9879;&#x76EE;&#xFF0C;&#x5207;&#x6362;&#x5230; lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x8BBF;&#x95EE; /attributes&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x7531;&#x4E8E; th &#x6807;&#x7B7E;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x9875;&#x9762;&#x901A;&#x8FC7; Thymeleaf &#x6E32;&#x67D3;&#x540E;&#xFF0C;&#x4E0E;&#x9759;&#x6001;&#x9875;&#x9762;&#x76F8;&#x6BD4;&#x8F83;&#xFF0C;&#x5185;&#x5BB9;&#x548C;&#x5143;&#x7D20;&#x5C5E;&#x6027;&#x5DF2;&#x7ECF;&#x52A8;&#x6001;&#x7684;&#x5207;&#x6362;&#x4E86;&#xFF0C;&#x8FD9;&#x90E8;&#x5206;&#x5185;&#x5BB9;&#x53EF;&#x4EE5;&#x7ED3;&#x5408;&#x5341;&#x4E09;&#x63D0;&#x4F9B;&#x7684;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x7406;&#x89E3;&#xFF0C;&#x79C1;&#x4E0B;&#x7EC3;&#x4E60;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x53EF;&#x4EE5;&#x591A;&#x5C1D;&#x8BD5;&#x51E0;&#x4E2A;&#x5176;&#x4ED6;&#x7684;&#x5E38;&#x7528;&#x6807;&#x7B7E;&#x3002; Thymeleaf &#x8BED;&#x6CD5;&#x89C4;&#x5219;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B; Thymeleaf &#x5B98;&#x65B9;&#x5BF9;&#x4E8E;&#x6807;&#x51C6;&#x8868;&#x8FBE;&#x5F0F;&#x7279;&#x6027;&#x7684;&#x603B;&#x7ED3;&#xFF1A; &#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x6CD5; &#x53D8;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A; ${...} &#x9009;&#x62E9;&#x53D8;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A; *{...} &#x4FE1;&#x606F;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A; #{...} &#x94FE;&#x63A5; URL &#x8868;&#x8FBE;&#x5F0F;&#xFF1A; @{...} &#x5206;&#x6BB5;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A; ~{...} &#x5B57;&#x9762;&#x91CF; &#x5B57;&#x7B26;&#x4E32;&#xFF1A; &#x2018;one text&#x2019;, &#x2018;Another one!&#x2019; &#x2026; &#x6570;&#x5B57;&#xFF1A; 0, 34, 3.0, 12.3 &#x2026; &#x5E03;&#x5C14;&#x503C;&#xFF1A; true, false Null &#x503C;&#xFF1A; null &#x5B57;&#x9762;&#x91CF;&#x6807;&#x8BB0;&#xFF1A;one, sometext, main &#x2026; &#x6587;&#x672C;&#x8FD0;&#x7B97; &#x5B57;&#x7B26;&#x4E32;&#x62FC;&#x63A5;&#xFF1A; + &#x5B57;&#x9762;&#x91CF;&#x7F6E;&#x6362;: |The name is ${name}| &#x7B97;&#x672F;&#x8FD0;&#x7B97; &#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF1A; +, -, *, /, % &#x8D1F;&#x53F7;&#xFF08;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF09;&#xFF1A; (unary operator): - &#x5E03;&#x5C14;&#x8FD0;&#x7B97; &#x4E8C;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF1A; and, or &#x5E03;&#x5C14;&#x975E;&#xFF08;&#x4E00;&#x5143;&#x8FD0;&#x7B97;&#x7B26;&#xFF09;&#xFF1A; !, not &#x6BD4;&#x8F83;&#x8FD0;&#x7B97; &#x6BD4;&#x8F83;&#xFF1A; &gt;, &lt;, &gt;=, &lt;= (gt, lt, ge, le) &#x76F8;&#x7B49;&#x8FD0;&#x7B97;&#x7B26;&#xFF1A; ==, != (eq, ne) &#x6BD4;&#x8F83;&#x8FD0;&#x7B97;&#x7B26;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8F6C;&#x4E49;&#x5B57;&#x7B26;&#xFF0C;&#x6BD4;&#x5982;&#x5927;&#x4E8E;&#x53F7;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Thymeleaf &#x8BED;&#x6CD5; gt &#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8F6C;&#x4E49;&#x5B57;&#x7B26;&amp;gt; &#x6761;&#x4EF6;&#x8FD0;&#x7B97;&#x7B26; If-then: (if) ? (then) If-then-else: (if) ? (then) : (else) Default: (value) ?: (defaultvalue) &#x7279;&#x6B8A;&#x8BED;&#x6CD5; &#x65E0;&#x64CD;&#x4F5C;&#xFF1A; _ &#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x901A;&#x8FC7;&#x7F16;&#x7801;&#x7684;&#x65B9;&#x5F0F;&#x5C06;&#x8FD9;&#x4E9B;&#x77E5;&#x8BC6;&#x70B9;&#x8FDB;&#x884C;&#x5B9E;&#x8DF5;&#xFF0C;&#x5E76;&#x5C06;&#x77E5;&#x8BC6;&#x70B9;&#x8FDB;&#x884C;&#x4E32;&#x8054;&#x4EE5;&#x66F4;&#x63A5;&#x8FD1;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x800C;&#x4E0D;&#x662F;&#x7B80;&#x5355;&#x7684; demo &#x4ECB;&#x7ECD;&#x3002; &#x7B80;&#x5355;&#x8BED;&#x6CD5;&#x65B0;&#x5EFA; simple.html &#x6A21;&#x677F;&#x9875;&#x9762;&#xFF0C;&#x8BE5;&#x6848;&#x4F8B;&#x4E3B;&#x8981;&#x4ECB;&#x7ECD;&#x5B57;&#x9762;&#x91CF;&#x53CA;&#x7B80;&#x5355;&#x7684;&#x8FD0;&#x7B97;&#x64CD;&#x4F5C;&#xFF0C;&#x5305;&#x62EC;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6570;&#x5B57;&#x3001;&#x5E03;&#x5C14;&#x503C;&#x7B49;&#x5E38;&#x7528;&#x7684;&#x5B57;&#x9762;&#x91CF;&#x53CA;&#x5E38;&#x7528;&#x7684;&#x8FD0;&#x7B97;&#x548C;&#x62FC;&#x63A5;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head&gt; &lt;title&gt;Thymeleaf simple syntax&lt;/title&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;/head&gt; &lt;body&gt; &lt;h1&gt;Thymeleaf&#x7B80;&#x5355;&#x8BED;&#x6CD5;&lt;/h1&gt; &lt;div&gt; &lt;h5&gt;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x64CD;&#x4F5C;(&#x5B57;&#x7B26;&#x4E32;):&lt;/h5&gt; &lt;p&gt;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF1A;&lt;span th:text=&quot;&apos;thymeleaf text&apos;&quot;&gt;default text&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x5B57;&#x7B26;&#x4E32;&#x8FDE;&#x63A5;&#xFF1A;&lt;span th:text=&quot;&apos;thymeleaf text concat,&apos;+${thymeleafText}&quot;&gt;default text&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x5B57;&#x7B26;&#x4E32;&#x8FDE;&#x63A5;&#xFF1A;&lt;span th:text=&quot;|thymeleaf text concat,${thymeleafText}|&quot;&gt;default text&lt;/span&gt;.&lt;/p&gt; &lt;/div&gt; &lt;div&gt; &lt;h5&gt;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x64CD;&#x4F5C;(&#x6570;&#x5B57;):&lt;/h5&gt; &lt;p&gt;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x795E;&#x5947;&#x7684;&#x6570;&#x5B57;&#xFF1A;&lt;span th:text=&quot;2019&quot;&gt;1000&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#xFF1A; 2019+1=&lt;span th:text=&quot;${number1}+1&quot;&gt;0&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#xFF1A; 14-1=&lt;span th:text=&quot;14-1&quot;&gt;0&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#xFF1A; 673 * 3=&lt;span th:text=&quot;673*${number2}&quot;&gt;0&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#xFF1A; 39 &#xF7; 3=&lt;span th:text=&quot;39/3&quot;&gt;0&lt;/span&gt;.&lt;/p&gt; &lt;/div&gt; &lt;div&gt; &lt;h5&gt;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x64CD;&#x4F5C;(&#x5E03;&#x5C14;&#x503C;):&lt;/h5&gt; &lt;p&gt;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6570;&#x5B57;&#x6BD4;&#x8F83;&#xFF1A;2019 &gt; 2018=&lt;span th:text=&quot;2019&amp;gt;2018&quot;&gt; &lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x5B57;&#x7B26;&#x4E32;&#x6BD4;&#x8F83;&#xFF1A;thymeleafText == &apos;shiyanlou&apos;&#xFF0C;&#x7ED3;&#x679C;&#x4E3A;&lt;span th:text=&quot;${thymeleafText} == &apos;shiyanlou&apos;&quot;&gt;0&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x6570;&#x5B57;&#x6BD4;&#x8F83;&#xFF1A;13 == 39/3 &#x7ED3;&#x679C;&#x4E3A;&#xFF1A; &lt;span th:text=&quot;13 == 39/3&quot;&gt;0&lt;/span&gt;.&lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;&#x5176;&#x4E2D;&#x4E5F;&#x6709;&#x90E8;&#x5206;&#x53D8;&#x91CF;&#x4E3A;&#x540E;&#x53F0;&#x8BBE;&#x7F6E;&#x7684;&#x503C;&#xFF0C;&#x4E0E;&#x5B57;&#x9762;&#x91CF;&#x7ED3;&#x5408;&#x8FDB;&#x884C;&#x5B9E;&#x8DF5;&#x6F14;&#x793A;&#xFF0C;&#x65B0;&#x589E; Controller &#x65B9;&#x6CD5;&#xFF1A; @GetMapping(&quot;/simple&quot;) public String simple(ModelMap map) { map.put(&quot;thymeleafText&quot;, &quot;shiyanlou&quot;); map.put(&quot;number1&quot;, 2018); map.put(&quot;number2&quot;, 3); return &quot;simple&quot;; }&#x4E4B;&#x540E;&#x53EF;&#x91CD;&#x542F;&#x5E76;&#x67E5;&#x770B;&#x6548;&#x679C;&#xFF0C;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x7684;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5DE6;&#x4FA7;&#x4E3A;&#x9759;&#x6001; html &#x7ED3;&#x679C;&#xFF0C;&#x53F3;&#x4FA7;&#x4E3A; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x6E32;&#x67D3;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5B57;&#x9762;&#x91CF;&#x7684;&#x5C55;&#x793A;&#x53CA;&#x8FD0;&#x7B97;&#x7ED3;&#x679C;&#x3002;&#x4EE5;&#x4E0A;&#x4E3A; Thymeleaf &#x8BED;&#x6CD5;&#x4E2D;&#x7684;&#x53D8;&#x91CF;&#x4F7F;&#x7528;&#x65B9;&#x6CD5;&#x548C;&#x7B80;&#x5355;&#x7684;&#x8FD0;&#x7B97;&#x64CD;&#x4F5C;&#xFF0C;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4EE5;&#x4E0A;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#x5E76;&#x9002;&#x5F53;&#x7684;&#x4FEE;&#x6539;&#x6570;&#x503C;&#x4EE5;&#x5C3D;&#x5FEB;&#x638C;&#x63E1;&#x8BE5;&#x77E5;&#x8BC6;&#x70B9;&#x3002; &#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x6CD5;&#x8868;&#x8FBE;&#x5F0F;&#x5305;&#x62EC;&#xFF1A;&#x53D8;&#x91CF;&#x8868;&#x8FBE;&#x5F0F; ${...}&#x3001;&#x9009;&#x62E9;&#x53D8;&#x91CF;&#x8868;&#x8FBE;&#x5F0F; *{...}&#x3001;&#x4FE1;&#x606F;&#x8868;&#x8FBE;&#x5F0F; #{...}&#x3001;&#x94FE;&#x63A5; URL &#x8868;&#x8FBE;&#x5F0F;&#xFF1A;@{...}&#x3001;&#x5206;&#x6BB5;&#x8868;&#x8FBE;&#x5F0F;&#xFF1A; ~{...}&#xFF0C;&#x8FD9;&#x4E9B;&#x8868;&#x8FBE;&#x5F0F;&#x4E00;&#x822C;&#x53EA;&#x80FD;&#x5199;&#x5728; Thymeleaf &#x6A21;&#x677F;&#x6587;&#x4EF6;&#x7684; th &#x6807;&#x7B7E;&#x5185;&#xFF0C;&#x4E0D;&#x7136;&#x4E0D;&#x4F1A;&#x751F;&#x6548;&#xFF0C;&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x6CD5;&#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x83B7;&#x53D6;&#x53D8;&#x91CF;&#x503C;&#x3001;&#x83B7;&#x53D6;&#x7ED1;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x53D8;&#x91CF;&#x503C;&#x3001;&#x56FD;&#x9645;&#x5316;&#x53D8;&#x91CF;&#x53D6;&#x503C;&#x3001;URL &#x62FC;&#x63A5;&#x4E0E;&#x751F;&#x6210;&#x3001; Thymeleaf &#x6A21;&#x677F;&#x5E03;&#x5C40;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x9009;&#x62E9;&#x4E00;&#x4E9B;&#x5E38;&#x7528;&#x7684;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x4ECB;&#x7ECD;&#x548C;&#x5B9E;&#x8DF5;&#x3002; &#x53D8;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x53D8;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x5373; OGNL &#x8868;&#x8FBE;&#x5F0F;&#x6216; Spring EL &#x8868;&#x8FBE;&#x5F0F;,&#x4F5C;&#x7528;&#x662F;&#x83B7;&#x53D6;&#x6A21;&#x677F;&#x4E2D;&#x4E0E;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x6240;&#x7ED1;&#x5B9A;&#x5BF9;&#x8C61;&#x7684;&#x503C;&#xFF0C;&#x5199;&#x6CD5;&#x4E3A; ${...}&#xFF0C;&#x8FD9;&#x662F;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x4E00;&#x4E2A;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x5728;&#x53D6;&#x503C;&#x8D4B;&#x503C;&#x3001;&#x903B;&#x8F91;&#x5224;&#x65AD;&#x3001;&#x5FAA;&#x73AF;&#x8BED;&#x53E5;&#x4E2D;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A; &lt;!-- &#x8BFB;&#x53D6;&#x53C2;&#x6570; --&gt; &lt;p&gt;&#x7B97;&#x672F;&#x8FD0;&#x7B97;&#xFF1A; 2018+1=&lt;span th:text=&quot;${number1}+1&quot;&gt;0&lt;/span&gt;.&lt;/p&gt; &lt;!-- &#x8BFB;&#x53D6;&#x53C2;&#x6570;&#x5E76;&#x8FD0;&#x7B97; --&gt; &lt;div th:class=&quot;${path}==&apos;links&apos;?&apos;nav-link active&apos;:&apos;nav-link&apos;&quot;&gt;&lt;/div&gt; &lt;!-- &#x8BFB;&#x53D6;&#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5C5E;&#x6027; --&gt; &lt;p&gt;&#x8BFB;&#x53D6;blog&#x5BF9;&#x8C61;&#x4E2D;title&#x5B57;&#x6BB5;&#xFF1A;&lt;span th:text=&quot;${blog.blogTitle}&quot;&gt;default text&lt;/span&gt;.&lt;/p&gt; &lt;!-- &#x5FAA;&#x73AF;&#x904D;&#x5386; --&gt; &lt;li th:each=&quot;blog : ${blogs}&quot;&gt;&#x53D8;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5185;&#x7F6E;&#x7684;&#x57FA;&#x672C;&#x5BF9;&#x8C61;&#xFF1A; ctx : the context object. vars : the context variables. locale : the context locale. request : web &#x73AF;&#x5883;&#x4E0B;&#x7684; HttpServletRequest &#x5BF9;&#x8C61;. response :web &#x73AF;&#x5883;&#x4E0B;&#x7684; HttpServletResponse &#x5BF9;&#x8C61; . session : web &#x73AF;&#x5883;&#x4E0B;&#x7684; HttpSession &#x5BF9;&#x8C61;. servletContext : web &#x73AF;&#x5883;&#x4E0B;&#x7684; ServletContext &#x5BF9;&#x8C61;. &#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A; &lt;p&gt;&#x8BFB;&#x53D6;&#x5185;&#x7F6E;&#x5BF9;&#x8C61;&#x4E2D; request &#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF1A;&lt;span th:text=&quot;${#request.getAttribute(&apos;requestObject&apos;)}&quot;&gt;default text&lt;/span&gt;.&lt;/p&gt; &lt;p&gt;&#x8BFB;&#x53D6;&#x5185;&#x7F6E;&#x5BF9;&#x8C61;&#x4E2D; session &#x4E2D;&#x7684;&#x5185;&#x5BB9;&#xFF1A;&lt;span th:text=&quot;${#session.getAttribute(&apos;sessionObject&apos;)}&quot;&gt;default text&lt;/span&gt;.&lt;/p&gt;&#x540C;&#x65F6;&#xFF0C;Thymeleaf &#x8FD8;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7CFB;&#x5217; Utility &#x5DE5;&#x5177;&#x5BF9;&#x8C61;&#xFF08;&#x5185;&#x7F6E;&#x4E8E; Context &#x4E2D;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; # &#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#xFF0C;&#x5DE5;&#x5177;&#x7C7B;&#x5982;&#x4E0B;&#xFF1A; dates &#xFF1A; java.util.Date &#x7684;&#x529F;&#x80FD;&#x65B9;&#x6CD5;&#x7C7B;&#x3002; calendars : &#x7C7B;&#x4F3C; #dates&#xFF0C;&#x9762;&#x5411; java.util.Calendar numbers : &#x683C;&#x5F0F;&#x5316;&#x6570;&#x5B57;&#x7684;&#x5DE5;&#x5177;&#x65B9;&#x6CD5;&#x7C7B; strings : &#x5B57;&#x7B26;&#x4E32;&#x5BF9;&#x8C61;&#x7684;&#x5DE5;&#x5177;&#x65B9;&#x6CD5;&#x7C7B;&#xFF0C;contains,startWiths,prepending/appending &#x7B49;&#x7B49;&#x3002; bools&#xFF1A;&#x5BF9;&#x5E03;&#x5C14;&#x503C;&#x6C42;&#x503C;&#x7684;&#x5DE5;&#x5177;&#x65B9;&#x6CD5;&#x3002; arrays&#xFF1A;&#x5BF9;&#x6570;&#x7EC4;&#x7684;&#x5DE5;&#x5177;&#x65B9;&#x6CD5;&#x3002; lists&#xFF1A;&#x5BF9; java.util.List &#x7684;&#x5DE5;&#x5177;&#x65B9;&#x6CD5; sets&#xFF1A;&#x5BF9; java.util.Set &#x7684;&#x5DE5;&#x5177;&#x65B9;&#x6CD5; maps&#xFF1A;&#x5BF9; java.util.Map &#x7684;&#x5DE5;&#x5177;&#x65B9;&#x6CD5; &#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x89C6;&#x4E3A;&#x5DE5;&#x5177;&#x7C7B;&#xFF0C;&#x901A;&#x8FC7;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4F7F;&#x5F97; Thymeleaf &#x5728;&#x64CD;&#x4F5C;&#x53D8;&#x91CF;&#x65F6;&#x66F4;&#x52A0;&#x65B9;&#x4FBF;&#x3002; &#x9009;&#x62E9;(&#x661F;&#x53F7;)&#x8868;&#x8FBE;&#x5F0F;&#x9009;&#x62E9;&#x8868;&#x8FBE;&#x5F0F;&#x4E0E;&#x53D8;&#x91CF;&#x8868;&#x8FBE;&#x5F0F;&#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x8FC7;&#x5B83;&#x4F1A;&#x7528;&#x4E00;&#x4E2A;&#x9884;&#x5148;&#x9009;&#x62E9;&#x7684;&#x5BF9;&#x8C61;&#x6765;&#x4EE3;&#x66FF;&#x4E0A;&#x4E0B;&#x6587;&#x53D8;&#x91CF;&#x5BB9;&#x5668;(map)&#x6765;&#x6267;&#x884C;&#xFF0C;&#x8BED;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; *{blog.blogId}&#xFF0C;&#x88AB;&#x6307;&#x5B9A;&#x7684;&#x5BF9;&#x8C61;&#x7531; th:object &#x6807;&#x7B7E;&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x5B9A;&#x4E49;&#xFF0C;&#x524D;&#x6587;&#x4E2D;&#x8BFB;&#x53D6; blog &#x5BF9;&#x8C61;&#x7684; title &#x5B57;&#x6BB5;&#x53EF;&#x4EE5;&#x66FF;&#x6362;&#x4E3A;&#xFF1A; &lt;p th:object=&quot;${blog}&quot;&gt;&#x8BFB;&#x53D6;blog&#x5BF9;&#x8C61;&#x4E2D;title&#x5B57;&#x6BB5;&#xFF1A;&lt;span th:text=&quot;*{blogTitle}&quot;&gt;text&lt;/span&gt;.&lt;/p&gt;&#x5982;&#x679C;&#x4E0D;&#x8003;&#x8651;&#x4E0A;&#x4E0B;&#x6587;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E24;&#x8005;&#x6CA1;&#x6709;&#x533A;&#x522B;&#xFF0C;&#x4F7F;&#x7528; ${...}&#x8BFB;&#x53D6;&#x7684;&#x5185;&#x5BB9;&#x4E5F;&#x5B8C;&#x5168;&#x53EF;&#x4EE5;&#x66FF;&#x6362;&#x4E3A;&#x4F7F;&#x7528;*{...}&#x8FDB;&#x884C;&#x8BFB;&#x53D6;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x662F;&#x4F7F;&#x7528;*{...}&#x524D;&#x53EF;&#x4EE5;&#x9884;&#x5148;&#x5728;&#x7236;&#x6807;&#x7B7E;&#x4E2D;&#x901A;&#x8FC7; th:object &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x5E76;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x3002; &lt;p&gt;&#x8BFB;&#x53D6;blog&#x5BF9;&#x8C61;&#x4E2D;title&#x5B57;&#x6BB5;&#xFF1A;&lt;span th:text=&quot;*{blog.blogTitle}&quot;&gt;default text&lt;/span&gt;&lt;/p&gt; &lt;p&gt;&#x8BFB;&#x53D6;text&#x5B57;&#x6BB5;&#xFF1A;&lt;span th:text=&quot;*{text}&quot;&gt;default text&lt;/span&gt;.&lt;/p&gt;URL &#x8868;&#x8FBE;&#x5F0F;th:href &#x5BF9;&#x5E94;&#x7684;&#x662F; html &#x4E2D;&#x7684; href &#x6807;&#x7B7E;&#xFF0C;&#x5B83;&#x5C06;&#x8BA1;&#x7B97;&#x5E76;&#x66FF;&#x6362; href &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x94FE;&#x63A5; URL &#x5730;&#x5740;&#xFF0C;th:href &#x4E2D;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8BBE;&#x7F6E;&#x4E3A;&#x9759;&#x6001;&#x5730;&#x5740;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x6CD5;&#x8BFB;&#x53D6;&#x5230;&#x7684;&#x53D8;&#x91CF;&#x503C;&#x8FDB;&#x884C;&#x52A8;&#x6001;&#x62FC;&#x63A5; URL &#x5730;&#x5740;&#x3002; &#x6BD4;&#x5982;&#x4E00;&#x4E2A;&#x8BE6;&#x60C5;&#x9875; URL &#x5730;&#x5740;&#xFF1A;http://localhost:8080/blog/1&#xFF0C;&#x5F53;&#x4F7F;&#x7528; URL &#x8868;&#x8FBE;&#x5F0F;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#x8FD9;&#x6837;&#xFF1A; &lt;a th:href=&quot;@{&apos;http://localhost:8080/blog/1&apos;}&quot;&gt;&#x8BE6;&#x60C5;&#x9875;&lt;/a&gt;&#x4E5F;&#x53EF;&#x4EE5;&#x6839;&#x636E; id &#x503C;&#x8FDB;&#x884C;&#x66FF;&#x6362;&#xFF0C;&#x5199;&#x6CD5;&#x4E3A;&#xFF1A; &lt;a th:href=&quot;@{&apos;/blog/&apos;+${blog.blogId}}&quot;&gt;&#x8BE6;&#x60C5;&#x9875;&lt;/a&gt;&#x6216;&#x8005;&#x4E5F;&#x53EF;&#x4EE5;&#x5199;&#x6210;&#x8FD9;&#x6837;&#xFF1A; &lt;a th:href=&quot;@{/blog/{blogId}(blogId=${blog.blogId})&quot;&gt;&#x8BE6;&#x60C5;&#x9875;&lt;/a&gt;&#x4EE5;&#x4E0A;&#x4E09;&#x79CD;&#x8868;&#x8FBE;&#x5F0F;&#x5199;&#x6CD5;&#x751F;&#x6210; URL &#x7684;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x90FD;&#x662F;&#x76F8;&#x540C;&#x7684;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x4F7F;&#x7528;&#x5B57;&#x7B26;&#x4E32;&#x62FC;&#x63A5;&#x7684;&#x65B9;&#x6CD5;&#x7EC4;&#x88C5; URL (&#x7B2C;&#x4E8C;&#x79CD;&#x5199;&#x6CD5;)&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; URL &#x8868;&#x8FBE;&#x5F0F;&#x63D0;&#x4F9B;&#x7684;&#x8BED;&#x6CD5;&#x8FDB;&#x884C; URL &#x7EC4;&#x88C5;&#xFF08;&#x7B2C;&#x4E09;&#x79CD;&#x5199;&#x6CD5;&#xFF09;&#x3002;&#x5982;&#x679C;&#x6709;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x62FC;&#x88C5;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x6216;&#x8005;&#x4F7F;&#x7528;&#x9017;&#x53F7;&#x8FDB;&#x884C;&#x5206;&#x9694;&#xFF0C;&#x5199;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; &lt;a th:href=&quot;@{/blog/{blogId}(blogId=${blog.blogId},title=${blog.blogTitle},tag=&apos;java&apos;)}&quot;&gt;&#x8BE6;&#x60C5;&#x9875;&lt;/a&gt;&#x6700;&#x7EC8;&#x751F;&#x6210;&#x7684; URL &#x4E3A; http://localhost:8080/blog/1?title=lou-springboot&amp;tag=java &#x53E6;&#x5916;&#xFF0C;URL &#x4E2D;&#x4EE5; &#x201C;/&#x201C; &#x5F00;&#x5934;&#x7684;&#x8DEF;&#x5F84;(&#x6BD4;&#x5982; /blog/1 )&#xFF0C;&#x9ED8;&#x8BA4;&#x751F;&#x6210;&#x7684; URL &#x4F1A;&#x52A0;&#x4E0A;&#x9879;&#x76EE;&#x7684;&#x5F53;&#x524D;&#x5730;&#x5740;&#x5F62;&#x6210;&#x5B8C;&#x6574;&#x7684; URL &#x3002; &#x590D;&#x6742;&#x8BED;&#x6CD5;&#x5728;&#x8FD9;&#x4E00;&#x5C0F;&#x8282;&#x91CC;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x7ED3;&#x5408;&#x524D;&#x6587;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x77E5;&#x8BC6;&#x70B9;&#x8FDB;&#x884C;&#x66F4;&#x52A0;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#x7684;&#x8BED;&#x6CD5;&#x5B9E;&#x8DF5;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x540E;&#x7EED;&#x6559;&#x7A0B;&#x4E2D;&#x4F1A;&#x51FA;&#x73B0;&#x7684;&#x4E00;&#x4E9B;&#x65B9;&#x6CD5;&#xFF0C;&#x6BD4;&#x5982;&#x5224;&#x65AD;&#x8BED;&#x53E5;&#x3001;&#x5FAA;&#x73AF;&#x8BED;&#x53E5;&#x3001;&#x5DE5;&#x5177;&#x7C7B;&#x4F7F;&#x7528;&#x7B49;&#x7B49;&#x3002; test.html &#x6A21;&#x677F;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title th:text=&quot;${title}&quot;&gt;&#x8BED;&#x6CD5;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;h3&gt;#strings &#x5DE5;&#x5177;&#x7C7B;&#x6D4B;&#x8BD5; &lt;/h3&gt; &lt;div th:if=&quot;${not #strings.isEmpty(testString)}&quot; &gt; &lt;p&gt;testString&#x521D;&#x59CB;&#x503C; : &lt;span th:text=&quot;${testString}&quot;/&gt;&lt;/p&gt; &lt;p&gt;toUpperCase : &lt;span th:text=&quot;${#strings.toUpperCase(testString)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;toLowerCase : &lt;span th:text=&quot;${#strings.toLowerCase(testString)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;equalsIgnoreCase : &lt;span th:text=&quot;${#strings.equalsIgnoreCase(testString, &apos;13&apos;)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;indexOf : &lt;span th:text=&quot;${#strings.indexOf(testString, &apos;r&apos;)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;substring : &lt;span th:text=&quot;${#strings.substring(testString, 5, 9)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;startsWith : &lt;span th:text=&quot;${#strings.startsWith(testString, &apos;Spring&apos;)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;contains : &lt;span th:text=&quot;${#strings.contains(testString, &apos;Boot&apos;)}&quot;/&gt;&lt;/p&gt; &lt;/div&gt; &lt;h3&gt;#bools &#x5DE5;&#x5177;&#x7C7B;&#x6D4B;&#x8BD5;&lt;/h3&gt; &lt;!-- &#x5982;&#x679C; bool &#x7684;&#x503C;&#x4E3A;false&#x7684;&#x8BDD;&#xFF0C;&#x8BE5;div&#x5C06;&#x4E0D;&#x4F1A;&#x663E;&#x793A;--&gt; &lt;div th:if=&quot;${#bools.isTrue(bool)}&quot;&gt; &lt;p th:text=&quot;${bool}&quot;&gt;&lt;/p&gt; &lt;/div&gt; &lt;h3&gt;#arrays &#x5DE5;&#x5177;&#x7C7B;&#x6D4B;&#x8BD5;&lt;/h3&gt; &lt;div th:if=&quot;${not #arrays.isEmpty(testArray)}&quot;&gt; &lt;p&gt;length : &lt;span th:text=&quot;${#arrays.length(testArray)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;contains : &lt;span th:text=&quot;${#arrays.contains(testArray, 5)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;containsAll : &lt;span th:text=&quot;${#arrays.containsAll(testArray, testArray)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;&#x5FAA;&#x73AF;&#x8BFB;&#x53D6; : &lt;span th:each=&quot;i:${testArray}&quot; th:text=&quot;${i+&apos; &apos;}&quot;/&gt;&lt;/p&gt; &lt;/div&gt; &lt;h3&gt;#lists &#x5DE5;&#x5177;&#x7C7B;&#x6D4B;&#x8BD5;&lt;/h3&gt; &lt;div th:unless=&quot;${#lists.isEmpty(testList)}&quot;&gt; &lt;p&gt;size : &lt;span th:text=&quot;${#lists.size(testList)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;contains : &lt;span th:text=&quot;${#lists.contains(testList, 0)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;sort : &lt;span th:text=&quot;${#lists.sort(testList)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;&#x5FAA;&#x73AF;&#x8BFB;&#x53D6; : &lt;span th:each=&quot;i:${testList}&quot; th:text=&quot;${i+&apos; &apos;}&quot;/&gt;&lt;/p&gt; &lt;/div&gt; &lt;h3&gt;#maps &#x5DE5;&#x5177;&#x7C7B;&#x6D4B;&#x8BD5;&lt;/h3&gt; &lt;div th:if=&quot;${not #maps.isEmpty(testMap)}&quot;&gt; &lt;p&gt;size : &lt;span th:text=&quot;${#maps.size(testMap)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;containsKey : &lt;span th:text=&quot;${#maps.containsKey(testMap, &apos;platform&apos;)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;containsValue : &lt;span th:text=&quot;${#maps.containsValue(testMap, &apos;13&apos;)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;&#x8BFB;&#x53D6;map&#x4E2D;&#x952E;&#x4E3A;title&#x7684;&#x503C; : &lt;span th:if=&quot;${#maps.containsKey(testMap,&apos;title&apos;)}&quot; th:text=&quot;${testMap.get(&apos;title&apos;)}&quot;/&gt;&lt;/p&gt; &lt;/div&gt; &lt;h3&gt;#dates &#x5DE5;&#x5177;&#x7C7B;&#x6D4B;&#x8BD5;&lt;/h3&gt; &lt;div&gt; &lt;p&gt;year : &lt;span th:text=&quot;${#dates.year(testDate)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;month : &lt;span th:text=&quot;${#dates.month(testDate)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;day : &lt;span th:text=&quot;${#dates.day(testDate)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;hour : &lt;span th:text=&quot;${#dates.hour(testDate)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;minute : &lt;span th:text=&quot;${#dates.minute(testDate)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;second : &lt;span th:text=&quot;${#dates.second(testDate)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;&#x683C;&#x5F0F;&#x5316;: &lt;span th:text=&quot;${#dates.format(testDate)}&quot;/&gt;&lt;/p&gt; &lt;p&gt;yyyy-MM-dd HH:mm:ss &#x683C;&#x5F0F;&#x5316;: &lt;span th:text=&quot;${#dates.format(testDate, &apos;yyyy-MM-dd HH:mm:ss&apos;)}&quot;/&gt;&lt;/p&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;&#x589E;&#x52A0; Controller &#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; @GetMapping(&quot;/test&quot;) public String test(ModelMap map) { map.put(&quot;title&quot;, &quot;Thymeleaf &#x8BED;&#x6CD5;&#x6D4B;&#x8BD5;&quot;); map.put(&quot;testString&quot;, &quot;&#x73A9;&#x8F6C; Spring Boot&quot;); map.put(&quot;bool&quot;, true); map.put(&quot;testArray&quot;, new Integer[]{2018,2019,2020,2021}); map.put(&quot;testList&quot;, Arrays.asList(&quot;Spring&quot;, &quot;Spring Boot&quot;, &quot;Thymeleaf&quot;, &quot;MyBatis&quot;, &quot;Java&quot;)); Map testMap = new HashMap(); testMap.put(&quot;platform&quot;, &quot;shiyanlou&quot;); testMap.put(&quot;title&quot;, &quot;&#x73A9;&#x8F6C; Spring Boot&quot;); testMap.put(&quot;author&quot;, &quot;&#x5341;&#x4E09;&quot;); map.put(&quot;testMap&quot;, testMap); map.put(&quot;testDate&quot;, new Date()); return &quot;test&quot;; }&#x4E4B;&#x540E;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x5E76;&#x8BBF;&#x95EE; /test &#x5373;&#x53EF;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x5728; strings &#x5DE5;&#x5177;&#x7C7B;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x4F7F;&#x7528;&#x4E86; th:if &#x6807;&#x7B7E;&#x8FDB;&#x884C;&#x903B;&#x8F91;&#x5224;&#x65AD;&#xFF0C;th:if=&quot;${not #strings.isEmpty(testString)}&quot;&#x5373;&#x4E3A;&#x4E00;&#x6761;&#x5224;&#x65AD;&#x8BED;&#x53E5;&#xFF0C;${...} &#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x5E03;&#x5C14;&#x503C;&#x7ED3;&#x679C;&#xFF0C;&#x5982;&#x679C;&#x4E3A; true &#x5219;&#x8BE5; div &#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x4F1A;&#x7EE7;&#x7EED;&#x663E;&#x793A;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x4E0D;&#x4F1A;&#x663E;&#x793A; th:if &#x6240;&#x5728;&#x7684;&#x4E3B;&#x6807;&#x7B7E;&#x3002; #strings.isEmpty &#x7684;&#x4F5C;&#x7528;&#x4E3A;&#x5B57;&#x7B26;&#x4E32;&#x5224;&#x7A7A;&#xFF0C;&#x5982;&#x679C; testString &#x4E3A;&#x7A7A;&#x5219;&#x4F1A;&#x8FD4;&#x56DE; true&#xFF0C;&#x800C;&#x8868;&#x8FBE;&#x5F0F;&#x524D;&#x9762;&#x7684; not &#x5219;&#x8868;&#x793A;&#x903B;&#x8F91;&#x975E;&#x8FD0;&#x7B97;&#xFF0C;&#x5373;&#x5982;&#x679C; testString &#x4E0D;&#x4E3A;&#x7A7A;&#x5219;&#x7EE7;&#x7EED;&#x5C55;&#x793A;&#x8BE5; div &#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x3002; &#x4E0E; th:if &#x7C7B;&#x4F3C;&#x7684;&#x5224;&#x65AD;&#x6807;&#x7B7E;&#x4E3A; th:unless &#xFF0C;&#x5B83;&#x4E0E; th:if &#x521A;&#x597D;&#x76F8;&#x53CD;&#xFF0C;&#x5F53;&#x8868;&#x8FBE;&#x5F0F;&#x4E2D;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x4E3A; false &#x65F6;&#xFF0C;&#x5B83;&#x6240;&#x5728;&#x6807;&#x7B7E;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x624D;&#x4F1A;&#x7EE7;&#x7EED;&#x663E;&#x793A;&#xFF0C;&#x5728; #lists &#x5DE5;&#x5177;&#x7C7B;&#x6D4B;&#x8BD5;&#x4E2D;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86; th:unless &#xFF0C;&#x5927;&#x5BB6;&#x5728;&#x8C03;&#x8BD5;&#x4EE3;&#x7801;&#x65F6;&#x53EF;&#x4EE5;&#x6BD4;&#x8F83;&#x4E8C;&#x8005;&#x7684;&#x533A;&#x522B;&#x3002; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x4E2D;&#x7684;&#x5FAA;&#x73AF;&#x8BED;&#x53E5;&#x8BED;&#x6CD5;&#x4E3A; th:each=&quot;i:${testList}&quot; &#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E; JSP &#x4E2D;&#x7684; c:foreach &#x8868;&#x8FBE;&#x5F0F;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x505A;&#x5FAA;&#x73AF;&#x7684;&#x903B;&#x8F91;&#xFF0C;&#x5F88;&#x591A;&#x9875;&#x9762;&#x903B;&#x8F91;&#x5728;&#x751F;&#x6210;&#x65F6;&#x4F1A;&#x4F7F;&#x7528;&#x5230;&#x8BE5;&#x8BED;&#x6CD5;&#x3002; &#x8FD8;&#x6709;&#x8BFB;&#x53D6; Map &#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F;&#x4E3A; ${testMap.get(&apos;title&apos;)} &#xFF0C;&#x4E0E; Java &#x8BED;&#x8A00;&#x4E2D;&#x4E5F;&#x5F88;&#x7C7B;&#x4F3C;&#x3002;&#x903B;&#x8F91;&#x5224;&#x65AD;&#x3001;&#x5FAA;&#x73AF;&#x8BED;&#x53E5;&#x8FD9;&#x4E24;&#x4E2A;&#x77E5;&#x8BC6;&#x70B9;&#x662F;&#x7CFB;&#x7EDF;&#x5F00;&#x53D1;&#x4E2D;&#x6BD4;&#x8F83;&#x5E38;&#x7528;&#x4E5F;&#x6BD4;&#x8F83;&#x91CD;&#x8981;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x7ED3;&#x5408;&#x4EE3;&#x7801;&#x7EC3;&#x4E60;&#x5E76;&#x7262;&#x7262;&#x638C;&#x63E1;&#x3002; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x4F7F;&#x7528;&#x6CE8;&#x610F;&#x4E8B;&#x9879; &#x5FC5;&#x987B;&#x5F15;&#x5165;&#x540D;&#x79F0;&#x7A7A;&#x95F4; &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&#x5373;&#x4F7F;&#x4E0D;&#x5F15;&#x5165;&#x4EE5;&#x4E0A;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x8BBF;&#x95EE;&#x4EE5;&#x53CA;&#x6A21;&#x677F;&#x52A8;&#x6001;&#x8BBF;&#x95EE;&#x90FD;&#x4E0D;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x56E0;&#x6B64;&#x6709;&#x4E9B;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x80FD;&#x4F1A;&#x5FFD;&#x7565;&#x8FD9;&#x4E2A;&#x4E8B;&#x60C5;&#x3002;&#x4F46;&#x662F;&#x5EFA;&#x8BAE;&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x6700;&#x597D;&#x5F15;&#x5165;&#x8BE5;&#x540D;&#x79F0;&#x7A7A;&#x95F4;&#xFF0C;&#x56E0;&#x4E3A;&#x5F15;&#x5165;&#x4E4B;&#x540E;&#x4F1A;&#x6709; Thymeleaf &#x4EE3;&#x7801;&#x7684;&#x8BED;&#x6CD5;&#x63D0;&#x793A;&#xFF0C;&#x80FD;&#x591F;&#x63D0;&#x5347;&#x5F00;&#x53D1;&#x6548;&#x7387;&#xFF0C;&#x4E5F;&#x51CF;&#x5C11;&#x4EBA;&#x4E3A;&#x9020;&#x6210;&#x7684;&#x4F4E;&#x7EA7;&#x9519;&#x8BEF;&#x3002; &#x8FD9;&#x91CC;&#x5F15;&#x5165;&#x7A7A;&#x95F4;&#x540D;&#x662F;&#x9700;&#x8981;&#x8BBF;&#x95EE;&#x5916;&#x7F51;&#x7684;&#xFF0C;&#x6240;&#x6709;&#x5982;&#x679C;&#x975E;&#x4F1A;&#x5458;&#x7528;&#x6237;&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#x6548;&#x679C;&#x663E;&#x793A;&#x4E0D;&#x51FA;&#x6765;&#xFF0C;&#x8BF7;&#x81EA;&#x884C;&#x5728;&#x672C;&#x5730;&#x5C1D;&#x8BD5;&#x3002; &#x7981;&#x7528;&#x6A21;&#x677F;&#x7F13;&#x5B58; Thymeleaf &#x7684;&#x9ED8;&#x8BA4;&#x7F13;&#x5B58;&#x8BBE;&#x7F6E;&#x662F;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684; spring.thymeleaf.cache &#x914D;&#x7F6E;&#x5C5E;&#x6027;&#x51B3;&#x5B9A;&#x7684;&#xFF0C;&#x901A;&#x8FC7;&#x5982;&#x4E0A; Thymeleaf &#x6A21;&#x677F;&#x7684;&#x914D;&#x7F6E;&#x5C5E;&#x6027;&#x7C7B; ThymeleafProperties &#x53EF;&#x4EE5;&#x53D1;&#x73B0;&#x8BE5;&#x5C5E;&#x6027;&#x9ED8;&#x8BA4;&#x4E3A; true&#xFF0C;&#x56E0;&#x6B64; Thymeleaf &#x9ED8;&#x8BA4;&#x662F;&#x4F7F;&#x7528;&#x6A21;&#x677F;&#x7F13;&#x5B58;&#x7684;&#xFF0C;&#x8BE5;&#x8BBE;&#x7F6E;&#x6709;&#x52A9;&#x4E8E;&#x6539;&#x5584;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x56E0;&#x4E3A;&#x6A21;&#x677F;&#x53EA;&#x9700;&#x7F16;&#x8BD1;&#x4E00;&#x6B21;&#x5373;&#x53EF;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x5F00;&#x53D1;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0D;&#x80FD;&#x5B9E;&#x65F6;&#x770B;&#x5230;&#x9875;&#x9762;&#x53D8;&#x66F4;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x9664;&#x975E;&#x91CD;&#x542F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x56E0;&#x6B64;&#x5EFA;&#x8BAE;&#x5C06;&#x8BE5;&#x5C5E;&#x6027;&#x8BBE;&#x7F6E;&#x4E3A; false&#xFF0C;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A; spring.thymeleaf.cache=false IDEA &#x4E2D;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x8BFB;&#x53D6;&#x53D8;&#x91CF;&#x65F6;&#x7206;&#x7EA2;&#x8272;&#x6CE2;&#x6D6A;&#x7EBF;&#x95EE;&#x9898; &#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5728;&#x521A;&#x5F00;&#x59CB;&#x4F7F;&#x7528; Thymeleaf &#x5F00;&#x53D1;&#x65F6;&#x53EF;&#x80FD;&#x4F1A;&#x78B0;&#x5230;&#x8FD9;&#x79CD;&#x95EE;&#x9898;&#xFF0C;&#x5728;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x4E2D;&#x901A;&#x8FC7; Thymeleaf &#x8BED;&#x6CD5;&#x8BFB;&#x53D6;&#x53D8;&#x91CF;&#x65F6;&#xFF0C;&#x8BE5;&#x53D8;&#x91CF;&#x540D;&#x79F0;&#x4E0B;&#x4F1A;&#x51FA;&#x73B0;&#x7EA2;&#x8272;&#x6CE2;&#x6D6A;&#x7EBF;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x9519;&#x8BEF;&#x7684;&#x6807;&#x5FD7;&#x3002; &#x5982;&#x679C;&#x4E0D;&#x719F;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x80FD;&#x4F1A;&#x4EBA;&#x4E3A;&#x81EA;&#x5DF1;&#x7684;&#x6A21;&#x677F;&#x6587;&#x4EF6;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x5176;&#x5B9E;&#x5E76;&#x4E0D;&#x662F;&#x90A3;&#x4E48;&#x4E25;&#x91CD;&#xFF0C;&#x53EA;&#x662F;&#x7531;&#x4E8E; IDEA &#x4E2D;&#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#x4E86;&#x8868;&#x8FBE;&#x5F0F;&#x53C2;&#x6570;&#x9A8C;&#x8BC1;&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x540E;&#x7AEF;&#x7684; model &#x6570;&#x636E;&#x4E2D;&#x6DFB;&#x52A0;&#x4E86;&#x8BE5;&#x53D8;&#x91CF;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x524D;&#x7AEF;&#x6587;&#x4EF6;&#x662F;&#x65E0;&#x6CD5;&#x611F;&#x77E5;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x62A5;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; IDEA &#x4E2D;&#x9ED8;&#x8BA4;&#x5C06;&#x9A8C;&#x8BC1;&#x5173;&#x95ED;&#x6216;&#x8005;&#x5C06;&#x63D0;&#x793A;&#x7EA7;&#x522B;&#x4FEE;&#x6539;&#x6389;&#x4E5F;&#x53EF;&#x4EE5;&#x3002; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x672C;&#x6587;&#x8BE6;&#x7EC6;&#x7684;&#x4E3A;&#x5927;&#x5BB6;&#x4ECB;&#x7ECD;&#x4E86; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x6280;&#x672F;&#xFF0C;&#x4E5F;&#x8FDB;&#x884C;&#x4E86; Spring Boot &#x548C; Thymeleaf &#x7684;&#x6574;&#x5408;&#x64CD;&#x4F5C;&#x3002;&#x6700;&#x540E;&#x6574;&#x7406;&#x4E86;&#x51E0;&#x9879;&#x5728;&#x4F7F;&#x7528; Thymeleaf &#x6A21;&#x677F;&#x5F15;&#x64CE;&#x5F00;&#x53D1;&#x65F6;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x70B9;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x521A;&#x63A5;&#x89E6; Thymeleaf &#x7684;&#x8BDD;&#xFF0C;&#x9047;&#x5230;&#x7C7B;&#x4F3C;&#x95EE;&#x9898;&#x4E0D;&#x8981;&#x56F0;&#x6270;&#xFF0C;&#x8FD9;&#x4E9B;&#x5751;&#x5DF2;&#x7ECF;&#x6709;&#x4EBA;&#x5E2E;&#x4F60;&#x8E29;&#x8FC7;&#x4E86;&#x3002;&#x540E;&#x7EED;&#x518D;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#x7684;&#x8BDD;&#x5C31;&#x662F;&#x5728;&#x5B9E;&#x8DF5;&#x8BFE;&#x7A0B;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x518D;&#x8FDB;&#x884C;&#x5355;&#x72EC;&#x4ECB;&#x7ECD;&#x4E86;&#xFF0C;&#x4E3A;&#x4E86;&#x540E;&#x7EED;&#x8BFE;&#x7A0B;&#x80FD;&#x591F;&#x5B66;&#x4E60;&#x7684;&#x66F4;&#x987A;&#x7545;&#xFF0C;&#x8FD8;&#x662F;&#x8981;&#x591A;&#x7EC3;&#x4E60;&#x4E00;&#x4E0B;&#x57FA;&#x7840;&#x8BED;&#x6CD5;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-04-wen-jian-shang-chuan.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x662F;&#x6BD4;&#x8F83;&#x5E38;&#x89C1;&#x548C;&#x88AB;&#x7528;&#x6237;&#x719F;&#x77E5;&#x7684;&#x529F;&#x80FD;&#x6A21;&#x5757;&#xFF0C;&#x5E38;&#x7528;&#x573A;&#x666F;&#x6709;&#x5934;&#x50CF;&#x8BBE;&#x7F6E;&#x3001;&#x4EA7;&#x54C1;&#x9884;&#x89C8;&#x56FE;&#x3001;&#x62A5;&#x8868;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x7B49;&#x7B49;&#xFF0C;&#x5728;&#x8FD9;&#x4E9B;&#x573A;&#x666F;&#x4E2D;&#x90FD;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x5230;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#xFF0C;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x5C06;&#x4F1A;&#x5BF9;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7684;&#x5927;&#x81F4;&#x6D41;&#x7A0B;&#x53CA;&#x529F;&#x80FD;&#x8BBE;&#x8BA1;&#x8FDB;&#x884C;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x5E76;&#x7ED3;&#x5408;&#x5B9E;&#x8DF5;&#x6848;&#x4F8B;&#x8BB2;&#x89E3;&#x5982;&#x4F55;&#x4F7F;&#x7528; Spring Boot &#x5B9E;&#x73B0;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x53CA;&#x76F8;&#x5173;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF0C;&#x5BF9;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7684;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x8FDB;&#x884C;&#x95ED;&#x73AF;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; Spring MVC &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6D41;&#x7A0B; Spring Boot &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#x5B9E;&#x73B0; Spring Boot &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#x56DE;&#x663E; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ Spring MVC &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6D41;&#x7A0B;&#x4EE5;&#x5F80;&#x5728;&#x4F7F;&#x7528; Spring &#x7684; web &#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x4F1A;&#x4F7F;&#x7528; Spring MVC &#x6846;&#x67B6;&#x63D0;&#x4F9B;&#x7684;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5DE5;&#x5177;&#x7C7B;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; MultipartResolver &#xFF0C;&#x5229;&#x7528; SpringMVC &#x5B9E;&#x73B0;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#xFF0C;&#x79BB;&#x4E0D;&#x5F00;&#x5BF9; MultipartResolver &#x7684;&#x8BBE;&#x7F6E;&#x3002; MultipartResolver &#x8FD9;&#x4E2A;&#x7C7B;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x89C6;&#x4E3A; SpringMVC &#x5B9E;&#x73B0;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#x65F6;&#x7684;&#x5DE5;&#x5177;&#x7C7B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x4E5F;&#x53EA;&#x4F1A;&#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4E2D;&#x53D1;&#x6325;&#x4F5C;&#x7528;&#xFF0C;&#x5728;&#x914D;&#x7F6E;&#x4E86;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x7C7B;&#x4E4B;&#x540E;&#xFF0C;SpringMVC &#x4E2D;&#x7684; DispatcherServlet &#x5728;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x65F6;&#x4F1A;&#x8C03;&#x7528; MultipartResolver &#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x5224;&#x65AD;&#x6B64;&#x8BF7;&#x6C42;&#x662F;&#x4E0D;&#x662F;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x7684;&#x8BDD; Dispatche rServlet &#x5C06;&#x8C03;&#x7528; MultipartResolver &#x7684; resolveMultipart(request) &#x65B9;&#x6CD5;&#x5BF9;&#x8BE5;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x88C5;&#x9970;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684; MultipartHttpServletRequest &#x4F9B;&#x540E;&#x7EE7;&#x5904;&#x7406;&#x6D41;&#x7A0B;&#x4F7F;&#x7528;&#x3002; &#x6CE8;&#x610F;&#xFF01;&#x6B64;&#x65F6;&#x7684;&#x8BF7;&#x6C42;&#x5BF9;&#x8C61;&#x4F1A;&#x7531; HttpServletRequest &#x7C7B;&#x578B;&#x8F6C;&#x6362;&#x6210; MultipartHttpServletRequest &#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x4E2A;&#x7C7B;&#x4E2D;&#x4F1A;&#x5305;&#x542B;&#x6240;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x5BF9;&#x8C61;&#x53EF;&#x4F9B;&#x540E;&#x7EED;&#x6D41;&#x7A0B;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x81EA;&#x884C;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x5B9E;&#x73B0;&#x5BF9;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x7684;&#x8BFB;&#x53D6;&#x548C;&#x5BF9;&#x8C61;&#x5C01;&#x88C5;&#x7684;&#x903B;&#x8F91;&#x3002; &#x5728; Spring Boot &#x4E2D;&#x4E5F;&#x662F;&#x901A;&#x8FC7;&#x8BE5;&#x5DE5;&#x5177;&#x7C7B;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#xFF0C;&#x4E0E;&#x666E;&#x901A;&#x7684; Spring web &#x9879;&#x76EE;&#x4E0D;&#x540C;&#x7684;&#x662F;&#xFF0C;Spring Boot &#x5728;&#x81EA;&#x52A8;&#x914D;&#x7F6E; DispatcherServlet &#x65F6;&#x4E5F;&#x914D;&#x7F6E;&#x597D;&#x4E86; MultipartResolver &#xFF0C;&#x800C;&#x65E0;&#x9700;&#x518D;&#x50CF;&#x539F;&#x6765;&#x90A3;&#x6837;&#x5728; Spring MVC &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x914D;&#x7F6E;&#x7684; bean&#x3002; Spring Boot &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x8FD9;&#x4E00;&#x5C0F;&#x8282;&#x5C06;&#x4F1A;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6848;&#x4F8B;&#x7684;&#x5B9E;&#x73B0;&#x6765;&#x8BB2;&#x89E3;&#x5982;&#x4F55;&#x4F7F;&#x7528; Spring Boot &#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#x3002;&#x6211;&#x4EEC;&#x5148;&#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#xFF0C;&#x5BF9;&#x7167;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x8BE6;&#x7EC6;&#x5B66;&#x4E60;&#x3002; &#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-06.zip unzip lou-springboot-06.zip&#x5207;&#x6362;&#x5DE5;&#x4F5C;&#x7A7A;&#x95F4;&#x5230; lou-springboot,&#x5B8C;&#x6574;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x5982;&#x4E0B;&#xFF1A; lou-springboot &amp;#x251C;&amp;#x2500;&amp;#x2500; pom.xml &amp;#x251C;&amp;#x2500;&amp;#x2500; README.md &amp;#x2514;&amp;#x2500;&amp;#x2500; src &amp;#x251C;&amp;#x2500;&amp;#x2500; main &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; java &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; com &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; lou &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; springboot &amp;#x2502; &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; Application.java &amp;#x2502; &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; config &amp;#x2502; &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; SpringBootWebMvcConfigurer.java &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; controller &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; UploadController.java &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; resources &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; application.properties &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; static &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; upload-test.html &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; templates &amp;#x2514;&amp;#x2500;&amp;#x2500; test &amp;#x2514;&amp;#x2500;&amp;#x2500; java &amp;#x2514;&amp;#x2500;&amp;#x2500; com &amp;#x2514;&amp;#x2500;&amp;#x2500; lou &amp;#x2514;&amp;#x2500;&amp;#x2500; springboot &amp;#x2514;&amp;#x2500;&amp;#x2500; ApplicationTests.java &#x5E38;&#x7528;&#x914D;&#x7F6E;&#x7531;&#x4E8E; Spring Boot &#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x673A;&#x5236;&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x591A;&#x4F59;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x53EA;&#x8981;&#x5DF2;&#x7ECF;&#x5728; pom &#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5165;&#x4E86; web starter &#x6A21;&#x5757;&#x5373;&#x53EF;&#x76F4;&#x63A5;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#xFF0C;&#x5728;&#x524D;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x4E2D;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x5C06; web &#x6A21;&#x5757;&#x6574;&#x5408;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x65E0;&#x9700;&#x518D;&#x8FDB;&#x884C;&#x6574;&#x5408;&#x3002;&#x867D;&#x7136;&#x4E0D;&#x7528;&#x914D;&#x7F6E;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E9B;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x80FD;&#x4F1A;&#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x65F6;&#x6709;&#x4E00;&#x4E9B;&#x7279;&#x6B8A;&#x7684;&#x9700;&#x6C42;&#xFF0C;&#x56E0;&#x6B64;&#x4E5F;&#x9700;&#x8981;&#x5BF9; Spring Boot &#x4E2D; MultipartFile &#x7684;&#x5E38;&#x7528;&#x8BBE;&#x7F6E;&#x8FDB;&#x884C;&#x4ECB;&#x7ECD;&#xFF0C;&#x914D;&#x7F6E;&#x548C;&#x9ED8;&#x8BA4;&#x503C;&#x5982;&#x4E0B;&#xFF1A; &#x914D;&#x7F6E;&#x542B;&#x4E49;&#x6CE8;&#x91CA;&#xFF1A; spring.servlet.multipart.enabled &#x662F;&#x5426;&#x652F;&#x6301; multipart &#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#xFF0C;&#x9ED8;&#x8BA4;&#x652F;&#x6301; spring.servlet.multipart.file-size-threshold &#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x9608;&#x503C;&#xFF0C;&#x5F53;&#x5927;&#x4E8E;&#x8FD9;&#x4E2A;&#x9608;&#x503C;&#x65F6;&#x5C06;&#x5199;&#x5165;&#x5230;&#x78C1;&#x76D8;&#xFF0C;&#x5426;&#x5219;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#xFF08;&#x9ED8;&#x8BA4;&#x503C; 0 &#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x7528;&#x7279;&#x610F;&#x4FEE;&#x6539;&#xFF09; spring.servlet.multipart.location &#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x4E34;&#x65F6;&#x76EE;&#x5F55; spring.servlet.multipart.max-file-size &#x6700;&#x5927;&#x652F;&#x6301;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#xFF0C;&#x9ED8;&#x8BA4; 1 M &#xFF0C;&#x8BE5;&#x503C;&#x53EF;&#x9002;&#x5F53;&#x7684;&#x8C03;&#x6574; spring.servlet.multipart.max-request-size &#x6700;&#x5927;&#x652F;&#x6301;&#x8BF7;&#x6C42;&#x5927;&#x5C0F;&#xFF0C;&#x9ED8;&#x8BA4; 10 M spring.servlet.multipart.resolve-lazily &#x5224;&#x65AD;&#x662F;&#x5426;&#x8981;&#x5EF6;&#x8FDF;&#x89E3;&#x6790;&#x6587;&#x4EF6;&#xFF08;&#x76F8;&#x5F53;&#x4E8E;&#x61D2;&#x52A0;&#x8F7D;&#xFF0C;&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#x4E0D;&#x7528;&#x7279;&#x610F;&#x4FEE;&#x6539;&#xFF09;&#xFF0C;&#x9ED8;&#x8BA4; false &#x4E0A;&#x4F20;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x9875;&#x9762;&#x5728; static &#x76EE;&#x5F55;&#x4E2D;&#x65B0;&#x5EFA; upload-test.html&#xFF0C;&#x4E0A;&#x4F20;&#x9875;&#x9762;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html lang=&quot;en&quot;&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Spring Boot &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body&gt; &lt;form action=&quot;/upload&quot; method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt; &lt;input type=&quot;file&quot; name=&quot;file&quot; /&gt; &lt;input type=&quot;submit&quot; value=&quot;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&quot; /&gt; &lt;/form&gt; &lt;/body&gt; &lt;/html&gt;&#x8FD9;&#x5E94;&#x8BE5;&#x662F;&#x5927;&#x5BB6;&#x90FD;&#x5F88;&#x719F;&#x6089;&#x7684;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x9875;&#x9762; demo &#xFF0C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7684;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; /upload&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; post&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x65F6;&#x8981;&#x8BBE;&#x7F6E; enctype=&quot;multipart/form-data&quot;&#xFF0C;&#x9875;&#x9762;&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x9009;&#x62E9;&#x6846;&#x548C;&#x4E00;&#x4E2A;&#x63D0;&#x4EA4;&#x6846;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &#x65B0;&#x5EFA;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5904;&#x7406; Controller&#x5728; controller &#x5305;&#x4E0B;&#x65B0;&#x5EFA; UploadController &#x5E76;&#x7F16;&#x5199;&#x5B9E;&#x9645;&#x7684;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x903B;&#x8F91;&#x4EE3;&#x7801;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; @Controller public class UploadController { // &#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x8DEF;&#x5F84;&#x4E3A; /home/project/upload/ &#x5373;&#x5F53;&#x524D; project &#x76EE;&#x5F55;&#x4E0B;&#x7684; upload &#x6587;&#x4EF6;&#x5939; private final static String FILE_UPLOAD_PATH = &quot;/home/project/upload/&quot;; @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST) @ResponseBody public String upload(@RequestParam(&quot;file&quot;) MultipartFile file) { if (file.isEmpty()) { return &quot;&#x4E0A;&#x4F20;&#x5931;&#x8D25;&quot;; } String fileName = file.getOriginalFilename(); String suffixName = fileName.substring(fileName.lastIndexOf(&quot;.&quot;)); //&#x751F;&#x6210;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x901A;&#x7528;&#x65B9;&#x6CD5; SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;); Random r = new Random(); StringBuilder tempName = new StringBuilder(); tempName.append(sdf.format(new Date())).append(r.nextInt(100)).append(suffixName); String newFileName = tempName.toString(); try { // &#x4FDD;&#x5B58;&#x6587;&#x4EF6; byte[] bytes = file.getBytes(); Path path = Paths.get(FILE_UPLOAD_PATH + newFileName); Files.write(path, bytes); } catch (IOException e) { e.printStackTrace(); } return &quot;&#x4E0A;&#x4F20;&#x6210;&#x529F;&quot;; } }&#x7531;&#x4E8E;&#x5DF2;&#x7ECF;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x4E86; MultipartFile &#xFF0C;&#x56E0;&#x6B64;&#x80FD;&#x591F;&#x76F4;&#x63A5;&#x5728;&#x63A7;&#x5236;&#x5668;&#x65B9;&#x6CD5;&#x4E2D;&#x4F7F;&#x7528; MultipartFile &#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x4FE1;&#x606F;&#xFF0C; @RequestParam &#x4E2D;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0;&#x9700;&#x8981;&#x4E0E;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x8BBE;&#x7F6E;&#x7684; name &#x5C5E;&#x6027;&#x4E00;&#x81F4;&#xFF0C;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x4E3A;&#x7A7A;&#x5219;&#x8FD4;&#x56DE;&#x4E0A;&#x4F20;&#x5931;&#x8D25;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x4E3A;&#x7A7A;&#x5219;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6587;&#x4EF6;&#x540D;&#xFF0C;&#x4E4B;&#x540E;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x6D41;&#x5E76;&#x5199;&#x5165;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#x4E2D;&#xFF0C;&#x6700;&#x540E;&#x8FD4;&#x56DE;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x3002; &#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x8BBE;&#x7F6E;&#x7684;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x8DEF;&#x5F84;&#x4E3A; /home/project/upload/ &#x5373;&#x5F53;&#x524D; project &#x76EE;&#x5F55;&#x4E0B;&#x7684; upload &#x6587;&#x4EF6;&#x5939;&#xFF0C;/home/project/upload/ &#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x662F; Linux &#x7CFB;&#x7EDF;&#x4E0B;&#x7684;&#x8DEF;&#x5F84;&#x5199;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x7684;&#x539F;&#x56E0;&#x6211;&#x4EEC;&#x5728;&#x4EE3;&#x7801;&#x91CC;&#x4F7F;&#x7528;&#x4E86;&#x8FD9;&#x79CD;&#x5199;&#x6CD5;&#x3002; &#x5982;&#x679C;&#x4F60;&#x672C;&#x673A;&#x662F; Windows &#x7CFB;&#x7EDF;&#x7684;&#x8BDD;&#xFF0C;&#x5199;&#x6CD5;&#x4E0E;&#x6B64;&#x4E0D;&#x540C;&#xFF0C;&#x6BD4;&#x5982;&#x6211;&#x4EEC;&#x60F3;&#x628A;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5230; D &#x76D8;&#x4E0B;&#x7684; upload &#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x628A;&#x8DEF;&#x5F84;&#x8BBE;&#x7F6E;&#x4EE3;&#x7801;&#x6539;&#x4E3A; private final static String FILE_UPLOAD_PATH = &quot;D:\\upload\\&quot;&#x8FD9;&#x4E00;&#x70B9;&#x9700;&#x8981;&#x5927;&#x5BB6;&#x6CE8;&#x610F;&#xFF0C;&#x4E24;&#x79CD;&#x7CFB;&#x7EDF;&#x7684;&#x5199;&#x6CD5;&#x5B58;&#x5728;&#x4E00;&#x4E9B;&#x5DEE;&#x5F02;&#x3002; &#x56DE;&#x5230;&#x672C;&#x8282;&#x5B9E;&#x9A8C;&#x4E2D;&#x6765;&#xFF0C;&#x5982;&#x679C; project &#x4E0B;&#x6CA1;&#x6709; upload &#x76EE;&#x5F55;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; upload &#x76EE;&#x5F55;&#xFF0C;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6267;&#x884C; mkdir /home/project/upload/ &#x547D;&#x4EE4;&#x6765;&#x521B;&#x5EFA; upload &#x76EE;&#x5F55;&#x3002; cd .. mkdir upload&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x542F;&#x52A8;&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6D4B;&#x8BD5;&#x3002; &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x6253;&#x5F00;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;&#xFF0C;&#x5C06;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55;&#x5207;&#x6362;&#x5230; lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x6253;&#x5F00;&#x6D4F;&#x89C8;&#x5668;&#x5E76;&#x8F93;&#x5165;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#x5730;&#x5740; /upload-test.html&#xFF0C;&#x4E4B;&#x540E;&#x9009;&#x62E9;&#x9700;&#x8981;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x5E76;&#x8FDB;&#x884C;&#x70B9;&#x51FB;&#x4E0A;&#x4F20;&#x6309;&#x94AE;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x540E;&#x7AEF;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x770B;&#x5230;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#x7684;&#x63D0;&#x793A;&#xFF0C;&#x5E76;&#x4E14;&#x5728; upload &#x76EE;&#x5F55;&#x4E2D;&#x770B;&#x5230;&#x4FDD;&#x5B58;&#x7684;&#x65B0;&#x6587;&#x4EF6;&#x6587;&#x4EF6;&#x5219;&#x8868;&#x793A;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x6210;&#x529F;&#xFF0C;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x8F83;&#x5927;&#x53EF;&#x4EE5;&#x9002;&#x5F53;&#x8C03;&#x6574;&#x914D;&#x7F6E;&#x9879;&#x7684;&#x503C;&#x3002; &#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x786E;&#x8BA4;&#x6587;&#x4EF6;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;&#x5230;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x67E5;&#x770B; upload &#x76EE;&#x5F55;&#x4E0B;&#x662F;&#x5426;&#x5B58;&#x5728;&#x8BE5;&#x6587;&#x4EF6;&#x5373;&#x53EF;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; Spring Boot &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x8DEF;&#x5F84;&#x56DE;&#x663E;&#x7F51;&#x4E0A;&#x5F88;&#x591A;&#x7684; Spring Boot &#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6559;&#x7A0B;&#xFF0C;&#x901A;&#x5E38;&#x53EA;&#x8BB2;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x4E0A;&#x4F20;&#x529F;&#x80FD;&#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x4E0D;&#x518D;&#x7EE7;&#x7EED;&#x8BB2;&#x89E3;&#x4E86;&#xFF0C;&#x867D;&#x7136;&#x4E5F;&#x7ED9;&#x4E86;&#x6559;&#x7A0B;&#x548C;&#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x662F;&#x8981;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#x5230;&#x4E1A;&#x52A1;&#x4E2D;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x56FE;&#x7247;&#x4E0A;&#x4F20;&#xFF0C;&#x4E0A;&#x4F20;&#x540E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x77E5;&#x9053;&#x5B83;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x6700;&#x597D;&#x80FD;&#x591F;&#x5728;&#x9875;&#x9762;&#x4E2D;&#x76F4;&#x63A5;&#x770B;&#x5230;&#x5B83;&#x7684;&#x56DE;&#x663E;&#x6548;&#x679C;&#xFF0C;&#x50CF;&#x524D;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x53EA;&#x662F;&#x6210;&#x529F;&#x7684;&#x5B8C;&#x6210;&#x4E86;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x4F55;&#x53BB;&#x8BBF;&#x95EE;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x8FD8;&#x4E0D;&#x5F97;&#x800C;&#x77E5;&#x3002;Spring Boot &#x4E0D;&#x50CF;&#x666E;&#x901A;&#x7684; web &#x9879;&#x76EE;&#x53EF;&#x4EE5;&#x4E0A;&#x4F20;&#x5230; webapp &#x6307;&#x5B9A;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x901A;&#x5E38;&#x7684;&#x505A;&#x6CD5;&#x662F;&#x4F7F;&#x7528;&#x81EA;&#x5B9A;&#x4E49;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6620;&#x5C04;&#x76EE;&#x5F55;&#xFF0C;&#x4EE5;&#x6B64;&#x6765;&#x5B9E;&#x73B0;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x6574;&#x4E2A;&#x6D41;&#x7A0B;&#x7684;&#x95ED;&#x73AF;&#xFF0C;&#x6BD4;&#x5982;&#x524D;&#x4E00;&#x5C0F;&#x8282;&#x4E2D;&#x7684;&#x5B9E;&#x9645;&#x6848;&#x4F8B;&#xFF0C;&#x5728;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5230; upload &#x76EE;&#x5F55;&#x540E;&#xFF0C;&#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6620;&#x5C04;&#xFF0C;&#x4F7F;&#x5F97; upload &#x4E0B;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x8BE5;&#x6620;&#x5C04;&#x5730;&#x5740;&#x88AB;&#x8BBF;&#x95EE;&#x5230;&#xFF0C;&#x65B0;&#x5EFA; config &#x5305;&#xFF0C;&#x5E76;&#x5728;&#x5305;&#x4E2D;&#x65B0;&#x589E; SpringBootWebMvcConfigurer &#x7C7B;&#xFF0C;&#x5B9E;&#x73B0;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.config; import org.springframework.context.annotation.Configuration; import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry; import org.springframework.web.servlet.config.annotation.WebMvcConfigurer; @Configuration public class SpringBootWebMvcConfigurer implements WebMvcConfigurer { public void addResourceHandlers(ResourceHandlerRegistry registry) { registry.addResourceHandler(&quot;/files/**&quot;).addResourceLocations(&quot;file:/home/project/upload/&quot;); } }&#x901A;&#x8FC7;&#x8BE5;&#x8BBE;&#x7F6E;&#xFF0C;&#x6240;&#x6709;&#x4EE5; /files/ &#x5F00;&#x5934;&#x7684;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x8BF7;&#x6C42;&#x90FD;&#x4F1A;&#x6620;&#x5C04;&#x5230; /home/project/upload &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E0E;&#x524D;&#x9762;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x65F6;&#x8BBE;&#x7F6E;&#x76EE;&#x5F55;&#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x7CFB;&#x7EDF;&#x6BD4;&#x5982; Linux &#x548C; Windows&#xFF0C;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x7684;&#x5199;&#x6CD5;&#x4E0D;&#x540C;&#x3002; &#x4E4B;&#x540E;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x65F6;&#x7684;&#x8FD4;&#x56DE;&#x4FE1;&#x606F;&#xFF0C;&#x628A;&#x8DEF;&#x5F84;&#x62FC;&#x88C5;&#x5E76;&#x8FD4;&#x56DE;&#x5230;&#x9875;&#x9762;&#x4E0A;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E8E;&#x6211;&#x4EEC;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x4EE3;&#x7801;&#x4FEE;&#x6539;&#x5982;&#x4E0B;&#xFF1A; return &quot;&#x4E0A;&#x4F20;&#x6210;&#x529F;&#xFF0C;&#x56FE;&#x7247;&#x5730;&#x5740;&#x4E3A;&#xFF1A;/files/&quot; + newFileName;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x80FD;&#x5426;&#x88AB;&#x8BBF;&#x95EE;&#x5230;&#xFF0C;&#x91CD;&#x542F;&#x9879;&#x76EE;&#x5E76;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x8FD9;&#x6837;&#xFF0C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x548C;&#x56DE;&#x663E;&#x7684;&#x6848;&#x4F8B;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5230;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#xFF0C;&#x4E4B;&#x540E;&#x8BBE;&#x7F6E;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x6620;&#x5C04;&#x89C4;&#x5219;&#x4F7F;&#x5F97;&#x4E00;&#x90E8;&#x5206;&#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x7684;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;&#x56DE;&#x663E;&#x3002; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x9996;&#x5148;&#x5BF9;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x7684;&#x6D41;&#x7A0B;&#x53CA;&#x529F;&#x80FD;&#x8BBE;&#x8BA1;&#x8FDB;&#x884C;&#x4E86;&#x4ECB;&#x7ECD;&#xFF0C;&#x4E4B;&#x540E;&#x7ED3;&#x5408;&#x5B9E;&#x8DF5;&#x6848;&#x4F8B;&#x8BB2;&#x89E3;&#x5982;&#x4F55;&#x4F7F;&#x7528; Spring Boot &#x5B9E;&#x73B0;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x5BF9;&#x5DF2;&#x4E0A;&#x4F20;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x8DEF;&#x5F84;&#x56DE;&#x663E;&#xFF0C;&#x5E0C;&#x671B;&#x901A;&#x8FC7;&#x672C;&#x5B9E;&#x9A8C;&#x7684;&#x8BB2;&#x89E3;&#xFF0C;&#x5927;&#x5BB6;&#x90FD;&#x80FD;&#x591F;&#x638C;&#x63E1;&#x5982;&#x4F55;&#x4F7F;&#x7528; Spring Boot &#x8FDB;&#x884C;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#xFF0C;&#x672C;&#x6587;&#x6F14;&#x793A;&#x65F6;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x7684;&#x56FE;&#x7247;&#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x5728;&#x7EC3;&#x4E60;&#x65F6;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5176;&#x4ED6;&#x683C;&#x5F0F;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x591A;&#x591A;&#x52A8;&#x624B;&#x7EC3;&#x4E60;&#xFF0C;&#x4EE5;&#x66F4;&#x5FEB;&#x7684;&#x638C;&#x63E1;&#x8BE5;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x540E;&#x7EED;&#x5728;&#x56FE;&#x7247;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#x5B9E;&#x8DF5;&#x4E2D;&#x6211;&#x4EEC;&#x4F1A;&#x7EE7;&#x7EED;&#x5BF9;&#x8BE5;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x62D3;&#x5C55;&#x8BB2;&#x89E3;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-05-jdbc.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x8FD9;&#x4E00;&#x8282;&#x4ECB;&#x7ECD; JDBC &#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x70B9;&#xFF0C;&#x5E76;&#x7ED3;&#x5408;&#x5B9E;&#x9645;&#x4EE3;&#x7801;&#x6765;&#x5B66;&#x4E60; Spring Boot &#x4E2D;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4EE5;&#x53CA;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; JDBC Spring Boot &#x8FDE;&#x63A5; MySQL &#x4F7F;&#x7528; Spring Boot &#x64CD;&#x4F5C; MySQL &#x4E2D;&#x7684;&#x6570;&#x636E; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ MySQL JDBCJDBC &#x5168;&#x79F0;&#x4E3A; Java Data Base Connectivity&#xFF08;Java &#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF09;&#xFF0C;&#x4E3B;&#x8981;&#x7531;&#x63A5;&#x53E3;&#x7EC4;&#x6210;&#xFF0C;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x6267;&#x884C; SQL &#x8BED;&#x53E5;&#x7684; Java API&#x3002;&#x5404;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5382;&#x5BB6;&#x57FA;&#x4E8E;&#x5B83;&#x5404;&#x81EA;&#x5B9E;&#x73B0;&#x4E86;&#x81EA;&#x5DF1;&#x7684;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F;&#xFF08;Driver&#xFF09;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; Java &#x7A0B;&#x5E8F;&#x5728;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x4EE5; URL &#x65B9;&#x5F0F;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x6570;&#x636E;&#x5E93;&#x7684; Driver&#xFF0C;&#x5728;&#x83B7;&#x5F97;&#x7279;&#x5B9A;&#x7684; Connection &#x8FDE;&#x63A5;&#x540E;&#xFF0C;&#x53EF;&#x6309;&#x7167; JDBC &#x89C4;&#x8303;&#x5BF9;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; //&#x7B2C;&#x4E00;&#x6B65;&#xFF0C;&#x6CE8;&#x518C;&#x9A71;&#x52A8;&#x7A0B;&#x5E8F; //com.MySQL.jdbc.Driver Class.forName(&quot;&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8;&#x7684;&#x5B8C;&#x6574;&#x7C7B;&#x540D;&quot;); //&#x7B2C;&#x4E8C;&#x6B65;&#xFF0C;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5; Connection conn = DriverManager.getConnection(&quot;&#x6570;&#x636E;&#x5E93;&#x5730;&#x5740;&quot;,&quot;&#x7528;&#x6237;&#x540D;&quot;,&quot;&#x5BC6;&#x7801;&quot;); //&#x7B2C;&#x4E09;&#x6B65;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4F1A;&#x8BDD; Statement stmt=conn.createStatement(); //&#x7B2C;&#x56DB;&#x6B65;&#xFF0C;&#x6267;&#x884C;SQL&#x8BED;&#x53E5; stmt.executeUpdate(&quot;SQL&#x8BED;&#x53E5;&quot;); //&#x6216;&#x8005;&#x67E5;&#x8BE2;&#x8BB0;&#x5F55; ResultSet rs = stmt.executeQuery(&quot;&#x67E5;&#x8BE2;&#x8BB0;&#x5F55;&#x7684;SQL&#x8BED;&#x53E5;&quot;); //&#x7B2C;&#x4E94;&#x6B65;&#xFF0C;&#x5BF9;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x5904;&#x7406; while(rs.next()){ //&#x64CD;&#x4F5C; } //&#x7B2C;&#x516D;&#x6B65;&#xFF0C;&#x5173;&#x95ED;&#x8FDE;&#x63A5; rs.close(); stmt.close(); conn.close();&#x5BF9;&#x4E0A;&#x9762;&#x51E0;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x5927;&#x5BB6;&#x4E0D;&#x4F1A;&#x964C;&#x751F;&#xFF0C;&#x8FD9;&#x662F;&#x6211;&#x4EEC;&#x521D;&#x5B66; JDBC &#x8FDE;&#x63A5;&#x65F6;&#x6700;&#x719F;&#x6089;&#x7684;&#x4EE3;&#x7801;&#x4E86;&#xFF0C;&#x867D;&#x7136;&#x73B0;&#x5728;&#x53EF;&#x80FD;&#x7528;&#x5230;&#x4E86;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x5C42; ORM &#x6846;&#x67B6;(&#x6BD4;&#x5982; MyBatis &#x6216;&#x8005; Hibernate )&#xFF0C;&#x4F46;&#x662F;&#x5E95;&#x5C42;&#x5B9E;&#x73B0;&#x4F9D;&#x7136;&#x5982;&#x540C;&#x4E0A;&#x9762;&#x4EE3;&#x7801;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x6846;&#x67B6;&#x5BF9;&#x5176;&#x505A;&#x4E86;&#x4E00;&#x4E9B;&#x5C01;&#x88C5;&#x800C;&#x5DF2;&#xFF0C;&#x901A;&#x8FC7; JDBC &#x4F7F;&#x5F97;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528; Java &#x7A0B;&#x5E8F;&#x6765;&#x5BF9;&#x5173;&#x7CFB;&#x578B;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C06;&#x5BF9; Spring Boot &#x5982;&#x4F55;&#x4F7F;&#x7528; JDBC &#x8FDB;&#x884C;&#x5B9E;&#x4F8B;&#x6F14;&#x793A;&#x3002; &#x6570;&#x636E;&#x5E93;&#x51C6;&#x5907;&#x542F;&#x52A8; MySQL&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x8FDB;&#x5165;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x9996;&#x5148;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB; File -&gt; Open New Terminal &#x5373;&#x53EF;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; sudo service mysql start&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x6743;&#x9650;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x5728;&#x547D;&#x4EE4;&#x524D;&#x589E;&#x52A0; sudo &#x53D6;&#x5F97; root &#x6743;&#x9650;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4E4B;&#x540E;&#x7B49;&#x5F85; MySQL &#x6B63;&#x5E38;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002; &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x548C;&#x8868;&#x7ED3;&#x6784;&#x9996;&#x5148;&#xFF0C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x767B;&#x9646; MySQL &#x6570;&#x636E;&#x5E93;&#xFF1A; sudo mysql -u root &#x56E0;&#x4E3A;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#x4E2D; MySQL &#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x5E76;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x4EE5;&#x4E0A;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x767B;&#x9646;&#x3002;&#x5728;&#x5F00;&#x53D1;&#x9879;&#x76EE;&#x4E4B;&#x524D;&#x9700;&#x8981;&#x5728; MySQL &#x4E2D;&#x5148;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x548C;&#x8868;&#x4F5C;&#x4E3A;&#x9879;&#x76EE;&#x6F14;&#x793A;&#x4F7F;&#x7528;&#xFF0C;SQL &#x8BED;&#x53E5;&#x5982;&#x4E0B;&#xFF1A; CREATE DATABASE /*!32312 IF NOT EXISTS*/`lou_springboot` /*!40100 DEFAULT CHARACTER SET utf8 */; USE `lou_springboot`; DROP TABLE IF EXISTS `tb_user`; CREATE TABLE `tb_user` ( `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT &apos;&#x4E3B;&#x952E;&apos;, `name` VARCHAR(100) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;&#x767B;&#x5F55;&#x540D;&apos;, `password` VARCHAR(100) NOT NULL DEFAULT &apos;&apos; COMMENT &apos;&#x5BC6;&#x7801;&apos;, PRIMARY KEY (`id`) ) ENGINE=INNODB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8;&#x9996;&#x5148;&#x521B;&#x5EFA;&#x4E86; lou_springboot &#x7684;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x65B0;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x4E3A; tb_user &#x7684;&#x6570;&#x636E;&#x8868;&#xFF0C;&#x8868;&#x4E2D;&#x6709; id , name , password &#x4E09;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x5728;&#x6D4B;&#x8BD5;&#x65F6;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x4EE5;&#x4E0A; SQL &#x62F7;&#x8D1D;&#x5230; MySQL &#x4E2D;&#x6267;&#x884C;&#x5373;&#x53EF;&#x3002; &#x6267;&#x884C;&#x5B8C;&#x4E0A;&#x9762;&#x7684;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;&#x518D;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x89C1;&#x521B;&#x5EFA;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E86; show databases;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x4FDD;&#x5B58;&#x597D;&#x6570;&#x636E;&#x5E93;&#x73AF;&#x5883;&#xFF0C;&#x5728;&#x540E;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x4E2D;&#x8FD8;&#x4F1A;&#x7EE7;&#x7EED;&#x7528;&#x5230;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5E93; Spring Boot &#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-07.zip unzip lou-springboot-07.zip&#x5207;&#x6362;&#x5DE5;&#x4F5C;&#x7A7A;&#x95F4;&#x5230; lou-springboot&#x3002;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x76EE;&#x5F55;&#x5982;&#x4E0B;&#xFF1A; lou-springboot &#x251C;&#x2500;&#x2500; pom.xml &#x251C;&#x2500;&#x2500; README.md &#x2514;&#x2500;&#x2500; src &#x251C;&#x2500;&#x2500; main &#x2502; &#x251C;&#x2500;&#x2500; java &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; com &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; lou &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; springboot &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; Application.java &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; controller &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; HelloController.java &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; JdbcController.java &#x2502; &#x2514;&#x2500;&#x2500; resources &#x2502; &#x251C;&#x2500;&#x2500; application.properties &#x2502; &#x251C;&#x2500;&#x2500; static &#x2502; &#x2514;&#x2500;&#x2500; templates &#x2514;&#x2500;&#x2500; test &#x2514;&#x2500;&#x2500; java &#x2514;&#x2500;&#x2500; com &#x2514;&#x2500;&#x2500; lou &#x2514;&#x2500;&#x2500; springboot &#x2514;&#x2500;&#x2500; ApplicationTests.javapom &#x4F9D;&#x8D56;&#x5728;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x76F8;&#x5173; jar &#x5305;&#x4F9D;&#x8D56;&#x5F15;&#x5165;&#x5230;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;Spring Boot &#x9488;&#x5BF9; JDBC &#x7684;&#x4F7F;&#x7528;&#x63D0;&#x4F9B;&#x4E86;&#x5BF9;&#x5E94;&#x7684; Starter &#x5305;&#xFF1A;spring-boot-starter-jdbc&#xFF0C;&#x65B9;&#x4FBF;&#x5728; Spring Boot &#x751F;&#x6001;&#x4E2D;&#x66F4;&#x597D;&#x7684;&#x4F7F;&#x7528; JDBC&#xFF0C;&#x6F14;&#x793A;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528; MySQL &#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x56E0;&#x6B64;&#x9879;&#x76EE;&#x4E2D;&#x4E5F;&#x9700;&#x8981;&#x5F15;&#x5165; MySQL &#x9A71;&#x52A8;&#x5305;&#xFF0C;&#x56E0;&#x6B64;&#x5728; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x5982;&#x4E0B;&#x914D;&#x7F6E;&#xFF1A; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.0.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;com.lou.springboot&lt;/groupId&gt; &lt;artifactId&gt;springboot-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;springboot-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- jdbc-starter --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- MySQL &#x9A71;&#x52A8;&#x5305; --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x8FDE;&#x63A5;&#x4E0A;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5728;&#x65B0;&#x589E;&#x4F9D;&#x8D56;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x4E5F;&#x9700;&#x8981;&#x5BF9;&#x6570;&#x636E;&#x5E93;&#x7684;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x5E93;&#x5730;&#x5740;&#x3001;&#x8D26;&#x53F7;&#x3001;&#x5BC6;&#x7801;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x4F9D;&#x7136;&#x662F;&#x5728; application.properties &#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#xFF0C;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#xFF1A; # datasource config spring.datasource.url=jdbc:mysql://localhost:3306/lou_springboot?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf8&amp;autoReconnect=true&amp;useSSL=false spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.username=root spring.datasource.password=&#x4EE5;&#x4E0A;&#x4E3A;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x7684;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x4F60;&#x672C;&#x673A;&#x8FD0;&#x884C;&#x4EE3;&#x7801;&#xFF0C;&#x4F60;&#x9700;&#x8981;&#x5C06;&#x5BF9;&#x5E94;&#x7684;&#x4FE1;&#x606F;&#x6539;&#x4E3A;&#x6B63;&#x786E;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8FDE;&#x63A5;&#x6D4B;&#x8BD5;&#x4E86;&#x3002;&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5728; Spring Boot 2 &#x4E2D;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x9A71;&#x52A8;&#x7C7B;&#x63A8;&#x8350;&#x4F7F;&#x7528; com.mysql.cj.jdbc.Driver&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x5E73;&#x65F6;&#x6BD4;&#x8F83;&#x719F;&#x6089;&#x7684; com.mysql.jdbc.Driver &#x7C7B;&#x4E86;&#x3002; &#x8FDE;&#x63A5;&#x6D4B;&#x8BD5;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x7C7B;&#x6765;&#x6D4B;&#x8BD5;&#x4E00;&#x4E0B;&#x76EE;&#x524D;&#x80FD;&#x5426;&#x83B7;&#x5F97;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x5728;&#x6D4B;&#x8BD5;&#x7C7B; BlogApplicationTests &#x4E2D;&#x6DFB;&#x52A0; datasourceTest() &#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;&#xFF0C;&#x6E90;&#x7801;&#x53CA;&#x6CE8;&#x91CA;&#x5982;&#x4E0B;&#xFF1A; @RunWith(SpringRunner.class) @SpringBootTest public class ApplicationTests { // &#x6CE8;&#x5165;&#x6570;&#x636E;&#x6E90;&#x5BF9;&#x8C61; @Autowired private DataSource dataSource; @Test public void datasourceTest() throws SQLException { // &#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61; Connection connection = dataSource.getConnection(); // &#x5224;&#x65AD;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#x662F;&#x5426;&#x4E3A;&#x7A7A; System.out.println(connection != null); connection.close(); } }&#x70B9;&#x51FB;&#x8FD0;&#x884C;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;&#xFF0C;&#x5982;&#x679C; connection &#x5BF9;&#x8C61;&#x4E0D;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x8BC1;&#x660E;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6210;&#x529F;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5728;&#x5BF9; connection &#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x5224;&#x7A7A;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x662F; connection &#x975E;&#x7A7A;&#x3002;&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#x6CA1;&#x6709;&#x6B63;&#x5E38;&#x83B7;&#x53D6;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x68C0;&#x67E5;&#x6570;&#x636E;&#x5E93;&#x662F;&#x5426;&#x8FDE;&#x63A5;&#x6216;&#x8005;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F;&#x662F;&#x5426;&#x914D;&#x7F6E;&#x6B63;&#x786E;&#x3002; &#x7531;&#x4E8E;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x65E0;&#x6CD5;&#x50CF;&#x4E0A;&#x56FE;&#x4E00;&#x6837;&#x6D4B;&#x8BD5;&#xFF0C;&#x8BE5;&#x6D4B;&#x8BD5;&#x4E5F;&#x53EA;&#x662F;&#x6F14;&#x793A;&#x80FD;&#x5426;&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#xFF0C;&#x540E;&#x7EED;&#x7684;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x4F1A;&#x5728;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x8FD0;&#x884C;&#x3002; &#x81F3;&#x6B64;&#xFF0C;Spring Boot &#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FC7;&#x7A0B;&#x5C31;&#x8BB2;&#x89E3;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x5F15;&#x5165;&#x4F9D;&#x8D56;&#x3001;&#x589E;&#x52A0;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F;&#x914D;&#x7F6E;&#x3001;&#x6CE8;&#x5165;&#x6570;&#x636E;&#x6E90;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x3002; Spring Boot &#x6570;&#x636E;&#x6E90;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x901A;&#x8FC7;&#x524D;&#x4E00;&#x5C0F;&#x8282;&#x7684;&#x6F14;&#x793A;&#x5927;&#x5BB6;&#x4E5F;&#x80FD;&#x591F;&#x89C2;&#x5BDF;&#x5230;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x53EA;&#x9700;&#x8981;&#x52A0;&#x4E0A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#x5373;&#x53EF;&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48; Spring Boot &#x7A76;&#x7ADF;&#x505A;&#x4E86;&#x54EA;&#x4E9B;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x64CD;&#x4F5C;&#x4F7F;&#x5F97;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5982;&#x6B64;&#x7B80;&#x5355;&#x7684;&#x5C31;&#x76F4;&#x63A5;&#x83B7;&#x53D6;&#x5230;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5462;&#xFF1F;&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x5206;&#x6790;&#x4E00;&#x4E0B;&#x6CE8;&#x5165;&#x7684; DataSource &#x6570;&#x636E;&#x6E90;&#x5BF9;&#x8C61;&#xFF0C;&#x66F4;&#x6539;&#x6D4B;&#x8BD5;&#x7C7B;&#x65B9;&#x6CD5;&#x5982;&#x4E0B;&#xFF1A; @Test public void datasourceTest() throws SQLException { // &#x83B7;&#x53D6;&#x6570;&#x636E;&#x6E90;&#x7C7B;&#x578B; System.out.println(&quot;&#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x6E90;&#x4E3A;&#xFF1A;&quot; + defaultDataSource.getClass()); }&#x8FD0;&#x884C;&#x6D4B;&#x8BD5;&#x65B9;&#x6CD5;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x4E3A;&#xFF1A; &#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x6E90;&#x4E3A;&#xFF1A;class com.zaxxer.hikari.HikariDataSource&#x57FA;&#x4E8E;&#x4EE5;&#x4E0A;&#x7ED3;&#x679C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5F97;&#x51FA;&#x7ED3;&#x8BBA;&#xFF0C;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x524D;&#xFF0C;Spring Boot &#x5DF2;&#x7ECF;&#x9ED8;&#x8BA4;&#x5411; IOC &#x5BB9;&#x5668;&#x4E2D;&#x6CE8;&#x518C;&#x4E86;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x4E3A; HikariDataSource &#x7684;&#x6570;&#x636E;&#x6E90;&#x5BF9;&#x8C61;&#xFF0C;&#x4E0D;&#x7136;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528; @Autowired &#x8FDB;&#x884C;&#x6570;&#x636E;&#x6E90;&#x7684;&#x5F15;&#x5165;&#x65F6;&#x80AF;&#x5B9A;&#x4F1A;&#x62A5;&#x9519;&#x3002; HikariCP &#x662F; Spring Boot 2.0 &#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6C60;&#xFF0C;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x7C7B;&#x4E3A; DataSourceAutoConfiguration.class &#x548C; DataSourceConfiguration.class &#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x9605;&#x8BFB;&#x4E00;&#x4E0B;&#x6E90;&#x7801;&#x7406;&#x89E3;&#x4E00;&#x4E0B;&#x6570;&#x636E;&#x6E90;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x7684;&#x8FC7;&#x7A0B;&#x3002; Spring Boot &#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x4E86; DataSource &#x5BF9;&#x8C61;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x6E90;&#x5BF9;&#x8C61;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x540E;&#xFF0C;Spring Boot &#x4E5F;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x4E86; JdbcTemplate &#x5BF9;&#x8C61;&#xFF0C;JdbcTemplate &#x662F; Spring &#x5BF9; JDBC &#x7684;&#x5C01;&#x88C5;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x4F7F; JDBC &#x66F4;&#x52A0;&#x6613;&#x4E8E;&#x4F7F;&#x7528;&#x3002; Spring Boot &#x9ED8;&#x8BA4;&#x4E5F;&#x5E76;&#x6CA1;&#x6709;&#x96C6;&#x6210;&#x76F8;&#x5173;&#x7684; ORM &#x6846;&#x67B6;&#xFF0C;&#x800C;&#x662F;&#x63D0;&#x4F9B;&#x4E86; JdbcTemplate &#x6765;&#x7B80;&#x5316;&#x5F00;&#x53D1;&#x8005;&#x5BF9;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5173;&#x4E8E; ORM &#x6846;&#x67B6;&#x96C6;&#x6210;&#x5230; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x7684;&#x6559;&#x7A0B;&#x6211;&#x4F1A;&#x5728;&#x540E;&#x7EED;&#x5B9E;&#x9A8C;&#x4E2D;&#x6F14;&#x793A;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x4F7F;&#x7528; JdbcTemplate &#x6765;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5E38;&#x7528; SQL &#x64CD;&#x4F5C;&#x3002; Spring Boot &#x64CD;&#x4F5C; MySQL&#x65B0;&#x5EFA; JdbcController&#xFF1A; &#x5728;&#x6B63;&#x786E;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x6E90;&#x4E4B;&#x540E;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528; JdbcTemplate &#x5BF9;&#x8C61;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x662F;&#x4EE3;&#x7801;&#x5B9E;&#x8DF5;&#x4E86;&#xFF0C;&#x4E3A;&#x4E86;&#x6F14;&#x793A;&#x65B9;&#x4FBF;&#xFF0C;&#x6211;&#x4EEC;&#x76F4;&#x63A5;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A; Controller &#x7C7B;&#xFF0C;&#x5E76;&#x6CE8;&#x5165; JdbcTemplate &#x5BF9;&#x8C61;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x4E00;&#x4E2A;&#x662F;&#x67E5;&#x8BE2; tb_user &#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x662F;&#x6839;&#x636E;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x5411; tb_user &#x8868;&#x4E2D;&#x65B0;&#x589E;&#x6570;&#x636E;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.controller; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.jdbc.core.JdbcTemplate; import org.springframework.util.StringUtils; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RestController; import java.util.List; import java.util.Map; @RestController public class JdbcController { //&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x901A;&#x8FC7; @Autowired &#x6CE8;&#x5165;&#x8FDB;&#x6765; @Autowired JdbcTemplate jdbcTemplate; // &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55; @GetMapping(&quot;/users/queryAll&quot;) public List&lt;Map&lt;String, Object&gt;&gt; queryAll() { List&lt;Map&lt;String, Object&gt;&gt; list = jdbcTemplate.queryForList(&quot;select * from tb_user&quot;); return list; } // &#x65B0;&#x589E;&#x4E00;&#x6761;&#x8BB0;&#x5F55; @GetMapping(&quot;/users/insert&quot;) public Object insert(String name, String password) { if (StringUtils.isEmpty(name) || StringUtils.isEmpty(password)) { return false; } jdbcTemplate.execute(&quot;insert into tb_user(`name`,`password`) value (\&quot;&quot; + name + &quot;\&quot;,\&quot;&quot; + password + &quot;\&quot;)&quot;); return true; } }&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5206;&#x522B;&#x53D6;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x8BB0;&#x5F55;&#x548C;&#x65B0;&#x589E;&#x6570;&#x636E;&#x5E93;&#x8BB0;&#x5F55;&#x3002; &#x529F;&#x80FD;&#x9A8C;&#x8BC1;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5BF9;&#x6574;&#x4E2A;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x3002; &#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002; &#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF1A; &#x65B0;&#x589E;&#xFF1A;http://*\****.simplelab.cn/users/insert?name=shiyanlou1&amp;password=syl123 &#x67E5;&#x8BE2;&#xFF1A;https://*\****.simplelab.cn/users/queryAll &#x6CE8;&#x610F;&#xFF1A;&#x4EE5;&#x4E0A; url &#x5730;&#x5740;&#x661F;&#x53F7;&#x90E8;&#x5206;&#x9700;&#x8981;&#x6309;&#x7167;&#x4F60;&#x7684; web &#x670D;&#x52A1;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002; &#x5982;&#x679C;&#x80FD;&#x591F;&#x6B63;&#x5E38;&#x83B7;&#x53D6;&#x5230;&#x8BB0;&#x5F55;&#x4EE5;&#x53CA;&#x6B63;&#x786E;&#x5411; tb_user &#x8868;&#x4E2D;&#x65B0;&#x589E;&#x8BB0;&#x5F55;&#x5C31;&#x8868;&#x793A;&#x529F;&#x80FD;&#x6574;&#x5408;&#x6210;&#x529F;&#xFF01;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &#x9A8C;&#x8BC1; MySQL &#x4E2D;&#x7684;&#x6570;&#x636E;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x767B;&#x5F55;&#x5B9E;&#x9A8C;&#x697C;&#x6F14;&#x793A;&#x73AF;&#x5883;&#x4E2D;&#x7684; MySQL &#x6570;&#x636E;&#x5E93;&#xFF0C;&#x67E5;&#x770B;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x662F;&#x5426;&#x4E0E;&#x524D;&#x4E00;&#x6B65;&#x9AA4;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x6253;&#x5F00;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177; &#x767B;&#x5F55;&#x6570;&#x636E;&#x5E93; sudo mysql -u root &#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;(&#x8FD9;&#x4E00;&#x6B65;&#x53EF;&#x4EE5;&#x5FFD;&#x7565;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x786E;&#x8BA4; lou_springboot &#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;) show databases; &#x5207;&#x6362;&#x6570;&#x636E;&#x5E93; use lou_springboot; &#x67E5;&#x8BE2; tb_user &#x8868;&#x4E2D;&#x6570;&#x636E;&#x3002; select * from tb_user; &#x6700;&#x540E;&#x5F97;&#x5230;&#x7684;&#x6570;&#x636E;&#x786E;&#x5B9E;&#x4E0E; web &#x9875;&#x9762;&#x4E2D;&#x770B;&#x5230;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#xFF0C;&#x529F;&#x80FD;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5230;&#x6B64;&#x7ED3;&#x675F;&#xFF01; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x4EC5;&#x4EC5;&#x9700;&#x8981;&#x51E0;&#x884C;&#x914D;&#x7F6E;&#x4EE3;&#x7801;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8FDE;&#x63A5;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x4E0D;&#x9700;&#x8981;&#x591A;&#x4F59;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x518D;&#x52A0;&#x4E0A; Spring Boot &#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x4E86; JdbcTemplate &#x5BF9;&#x8C61;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4E0A;&#x624B;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x7684;&#x76F8;&#x5173;&#x5F00;&#x53D1;&#x5DE5;&#x4F5C;&#x3002; &#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x5BF9;&#x4E8E; Spring Boot &#x7684;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x4EE5;&#x53CA; Spring Boot &#x9879;&#x76EE;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x6709;&#x4E86;&#x66F4;&#x597D;&#x7684;&#x8BA4;&#x8BC6;&#xFF0C;&#x4F5C;&#x4E3A;&#x77E5;&#x8BC6;&#x7684;&#x8865;&#x5145;&#x548C;&#x62D3;&#x5C55;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x6587;&#x7AE0;&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x4F1A;&#x8BB2;&#x89E3; Spring Boot &#x4E0E; ORM &#x6846;&#x67B6;&#x7684;&#x6574;&#x5408;&#x5B9E;&#x8DF5;&#xFF0C;&#x4E5F;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x5728;&#x8BFE;&#x540E;&#x81EA;&#x884C;&#x5B66;&#x4E60;&#x6E90;&#x7801;&#x5E76;&#x6839;&#x636E;&#x6587;&#x4E2D;&#x7684; SQL &#x5B9E;&#x8DF5;&#x8FDB;&#x884C;&#x7EC3;&#x4E60;&#xFF0C;&#x4EE3;&#x7801;&#x4E5F;&#x9700;&#x8981;&#x591A;&#x5199;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x8FDB;&#x6B65;&#x624D;&#x4F1A;&#x66F4;&#x52A0;&#x660E;&#x663E;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-06-mybatis.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x8FD9;&#x4E00;&#x8282;&#x5B66;&#x4E60; Spring Boot &#x5982;&#x4F55;&#x4E0E; MyBatis &#x8FDB;&#x884C;&#x6574;&#x5408;&#xFF0C;&#x5E76;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x548C;&#x529F;&#x80FD;&#x8BB2;&#x89E3;&#xFF0C;&#x6700;&#x7EC8;&#x5B9E;&#x73B0;&#x5BF9;&#x4E8E; tb_user &#x8868;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x64CD;&#x4F5C;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; Spring Boot &#x6574;&#x5408; mybatis-spring-boot-starter MyBatis &#x914D;&#x7F6E; Spring Boot &#x6574;&#x5408; MyBatis &#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x64CD;&#x4F5C; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ MySQL MyBatis &#x7B80;&#x4ECB;MyBatis &#x7684;&#x524D;&#x8EAB;&#x662F; Apache &#x793E;&#x533A;&#x7684;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x9879;&#x76EE; iBatis&#xFF0C;&#x4E8E; 2010 &#x5E74;&#x66F4;&#x540D;&#x4E3A; MyBatis&#x3002;MyBatis &#x662F;&#x652F;&#x6301;&#x5B9A;&#x5236;&#x5316; SQL&#x3001;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4EE5;&#x53CA;&#x9AD8;&#x7EA7;&#x6620;&#x5C04;&#x7684;&#x4F18;&#x79C0;&#x7684;&#x6301;&#x4E45;&#x5C42;&#x6846;&#x67B6;&#xFF0C;&#x907F;&#x514D;&#x4E86;&#x51E0;&#x4E4E;&#x6240;&#x6709;&#x7684; JDBC &#x4EE3;&#x7801;&#x548C;&#x624B;&#x52A8;&#x8BBE;&#x7F6E;&#x53C2;&#x6570;&#x4EE5;&#x53CA;&#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x96C6;&#xFF0C;&#x4F7F;&#x5F97;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x66F4;&#x52A0;&#x5173;&#x6CE8; SQL &#x672C;&#x8EAB;&#x548C;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x4E0D;&#x7528;&#x518D;&#x53BB;&#x82B1;&#x8D39;&#x65F6;&#x95F4;&#x5173;&#x6CE8;&#x6574;&#x4E2A;&#x590D;&#x6742;&#x7684; JDBC &#x64CD;&#x4F5C;&#x8FC7;&#x7A0B;&#x3002; MyBatis &#x7684;&#x4F18;&#x70B9;&#x5982;&#x4E0B;&#xFF1A; &#x5C01;&#x88C5;&#x4E86; JDBC &#x5927;&#x90E8;&#x5206;&#x64CD;&#x4F5C;&#xFF0C;&#x51CF;&#x5C11;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5DE5;&#x4F5C;&#x91CF;&#xFF1B; &#x76F8;&#x6BD4;&#x4E00;&#x4E9B;&#x81EA;&#x52A8;&#x5316;&#x7684; ORM &#x6846;&#x67B6;&#xFF0C;&#x201C;&#x534A;&#x81EA;&#x52A8;&#x5316;&#x201D;&#x4F7F;&#x5F97;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x53EF;&#x4EE5;&#x81EA;&#x7531;&#x7684;&#x7F16;&#x5199; SQL &#x8BED;&#x53E5;&#xFF0C;&#x7075;&#x6D3B;&#x5EA6;&#x66F4;&#x9AD8;&#xFF1B; Java &#x4EE3;&#x7801;&#x4E0E; SQL &#x8BED;&#x53E5;&#x5206;&#x79BB;&#xFF0C;&#x964D;&#x4F4E;&#x7EF4;&#x62A4;&#x96BE;&#x5EA6;&#xFF1B; &#x81EA;&#x52A8;&#x6620;&#x5C04;&#x7ED3;&#x679C;&#x96C6;&#xFF0C;&#x51CF;&#x5C11;&#x91CD;&#x590D;&#x7684;&#x7F16;&#x7801;&#x5DE5;&#x4F5C;&#xFF1B; &#x5F00;&#x6E90;&#x793E;&#x533A;&#x5341;&#x5206;&#x6D3B;&#x8DC3;&#xFF0C;&#x6587;&#x6863;&#x9F50;&#x5168;&#xFF0C;&#x5B66;&#x4E60;&#x6210;&#x672C;&#x4E0D;&#x9AD8;&#x3002; &#x867D;&#x7136;&#x524D;&#x6587;&#x4E2D;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#x4E86; JdbcTemplate &#x7684;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x53CA;&#x4F7F;&#x7528;&#xFF0C;&#x9274;&#x4E8E; MyBatis &#x6846;&#x67B6;&#x53D7;&#x4F17;&#x66F4;&#x5E7F;&#x4E14;&#x540E;&#x7EED;&#x5B9E;&#x8DF5;&#x8BFE;&#x7A0B;&#x7684;&#x6280;&#x672F;&#x9009;&#x578B;&#x5305;&#x542B; MyBatis&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x5728;&#x672C;&#x7AE0;&#x8282;&#x5185;&#x5BB9;&#x4E2D;&#x5BF9;&#x5B83;&#x505A;&#x4E00;&#x4E2A;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x4F7F;&#x7528; Spring Boot &#x6574;&#x5408; MyBatis &#x6846;&#x67B6;&#x5BF9;&#x6570;&#x636E;&#x5C42;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x3002; mybatis-springboot-starter &#x4ECB;&#x7ECD;Spring Boot &#x7684;&#x6838;&#x5FC3;&#x7279;&#x6027;&#x5305;&#x62EC;&#x7B80;&#x5316;&#x914D;&#x7F6E;&#x5E76;&#x5FEB;&#x901F;&#x5F00;&#x53D1;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x6574;&#x5408;&#x67D0;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x65F6;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5F15;&#x5165;&#x5176;&#x7279;&#x5B9A;&#x7684;&#x573A;&#x666F;&#x542F;&#x52A8;&#x5668; ( starter ) &#x5373;&#x53EF;&#xFF0C;&#x6BD4;&#x5982; web &#x6A21;&#x5757;&#x6574;&#x5408;&#x3001;jdbc &#x6A21;&#x5757;&#x6574;&#x5408;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x5F00;&#x53D1;&#x65F6;&#x53EA;&#x9700;&#x8981;&#x5728; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5165;&#x5BF9;&#x5E94;&#x7684;&#x573A;&#x666F;&#x4F9D;&#x8D56;&#x5373;&#x53EF;&#x3002;Spring &#x5B98;&#x65B9;&#x5E76;&#x6CA1;&#x6709;&#x63D0;&#x4F9B; MyBatis &#x7684;&#x573A;&#x666F;&#x542F;&#x52A8;&#x5668;&#xFF0C;&#x4F46;&#x662F; MyBatis &#x5B98;&#x65B9;&#x5374;&#x7D27;&#x7D27;&#x7684;&#x62B1;&#x4F4F;&#x4E86; Spring &#x7684;&#x5927;&#x817F;&#xFF0C;&#x4ED6;&#x4EEC;&#x63D0;&#x4F9B;&#x4E86; MyBatis &#x6574;&#x5408; Spring Boot &#x9879;&#x76EE;&#x65F6;&#x7684;&#x573A;&#x666F;&#x542F;&#x52A8;&#x5668;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; mybatis-springboot-starter&#xFF0C;&#x5927;&#x5BB6;&#x901A;&#x8FC7;&#x547D;&#x540D;&#x65B9;&#x5F0F;&#x4E5F;&#x80FD;&#x591F;&#x53D1;&#x73B0;&#x5176;&#x4E2D;&#x7684;&#x533A;&#x522B;&#xFF0C;Spring &#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;&#x542F;&#x52A8;&#x5668;&#x7684;&#x547D;&#x540D;&#x65B9;&#x5F0F;&#x4E3A; spring-boot-starter-*&#xFF0C;&#x4E0E;&#x5B83;&#x8FD8;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x5DEE;&#x522B;&#x7684;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B; mybatis-springboot-starter &#x573A;&#x666F;&#x542F;&#x52A8;&#x5668;&#x3002; &#x5176;&#x5B98;&#x7F51;&#x5730;&#x5740;&#x4E3A; mybatis-spring-boot&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x53BB;&#x67E5;&#x770B;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#xFF0C;&#x5B98;&#x7F51;&#x5BF9; mybatis-springboot-starter &#x7684;&#x4ECB;&#x7ECD;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; The MyBatis-Spring-Boot-Starter help you build quickly MyBatis applications on top of the Spring Boot. MyBatis-Spring-Boot-Starter &#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x5F00;&#x53D1;&#x8005;&#x5FEB;&#x901F;&#x521B;&#x5EFA;&#x57FA;&#x4E8E; Spring Boot &#x7684; MyBatis &#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x90A3;&#x4E48;&#x4F7F;&#x7528; MyBatis-Spring-Boot-Starter&#x53EF;&#x4EE5;&#x505A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F; &#x6784;&#x5EFA;&#x72EC;&#x7ACB;&#x7684; MyBatis &#x5E94;&#x7528;&#x7A0B;&#x5E8F; &#x96F6;&#x6A21;&#x677F; &#x66F4;&#x5C11;&#x7684; XML &#x914D;&#x7F6E;&#x4EE3;&#x7801;&#x751A;&#x81F3;&#x65E0; XML &#x914D;&#x7F6E; Spring Boot &#x6574;&#x5408; MyBatis &#x8FC7;&#x7A0B;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x6848;&#x4F8B;&#x6765;&#x7406;&#x89E3;&#x3002; &#x6E90;&#x7801;&#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-08.zip unzip lou-springboot-08.zip&#x5207;&#x6362;&#x5DE5;&#x4F5C;&#x7A7A;&#x95F4;&#x5230; lou-springboot&#x3002;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x76EE;&#x5F55;&#x5982;&#x4E0B;&#xFF1A; lou-spring-boot &amp;#x251C;&amp;#x2500;&amp;#x2500; pom.xml &amp;#x251C;&amp;#x2500;&amp;#x2500; README.md &amp;#x2514;&amp;#x2500;&amp;#x2500; src &amp;#x251C;&amp;#x2500;&amp;#x2500; main &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; java &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; com &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; lou &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; springboot &amp;#x2502; &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; Application.java &amp;#x2502; &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; controller &amp;#x2502; &amp;#x2502; &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; HelloController.java &amp;#x2502; &amp;#x2502; &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; JdbcController.java &amp;#x2502; &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; MyBatisController.java &amp;#x2502; &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; dao &amp;#x2502; &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; UserDao.java &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; entity &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; User.java &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; resources &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; application.properties &amp;#x2502; &amp;#x251C;&amp;#x2500;&amp;#x2500; mapper &amp;#x2502; &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; UserDao.xml &amp;#x2502; &amp;#x2514;&amp;#x2500;&amp;#x2500; templates &amp;#x2514;&amp;#x2500;&amp;#x2500; test &amp;#x2514;&amp;#x2500;&amp;#x2500; java &amp;#x2514;&amp;#x2500;&amp;#x2500; com &amp;#x2514;&amp;#x2500;&amp;#x2500; lou &amp;#x2514;&amp;#x2500;&amp;#x2500; springboot &amp;#x2514;&amp;#x2500;&amp;#x2500; ApplicationTests.java &#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&#x5982;&#x679C;&#x8981;&#x5C06;&#x5176;&#x6574;&#x5408;&#x5230;&#x5F53;&#x524D;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x5176;&#x4F9D;&#x8D56;&#x914D;&#x7F6E;&#x589E;&#x52A0;&#x5230; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;mybatis-springboot-starter &#x7684;&#x6700;&#x65B0;&#x7248;&#x672C;&#x4E3A; 1.3.2&#xFF0C;&#x9700;&#x8981; Spring Boot &#x7248;&#x672C;&#x8FBE;&#x5230; 1.5 &#x6216;&#x8005;&#x4EE5;&#x4E0A;&#x7248;&#x672C;&#xFF0C;&#x540C;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x6E90;&#x4F9D;&#x8D56;&#x548C; jdbc &#x4F9D;&#x8D56;&#x4E5F;&#x6DFB;&#x52A0;&#x5230;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;(&#x5982;&#x679C;&#x4E0D;&#x6DFB;&#x52A0;&#x7684;&#x8BDD;&#xFF0C;&#x5C06;&#x4F1A;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x6570;&#x636E;&#x6E90;&#x548C; jdbc &#x914D;&#x7F6E;)&#xFF0C;&#x7531;&#x4E8E;&#x524D;&#x6587;&#x4E2D;&#x5DF2;&#x7ECF;&#x5C06;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#x653E;&#x5165; pom.xml &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x9700;&#x8981;&#x5C06; mybatis-springboot-starter &#x4F9D;&#x8D56;&#x653E;&#x5165;&#x5176;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x66F4;&#x65B0;&#x540E;&#x7684; pom &#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.0.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;com.lou.springboot&lt;/groupId&gt; &lt;artifactId&gt;springboot-demo&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;springboot-demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt; &lt;/dependency&gt; &lt;!-- &#x5F15;&#x5165; MyBatis &#x573A;&#x666F;&#x542F;&#x52A8;&#x5668;&#xFF0C;&#x5305;&#x542B;&#x5176;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x7C7B;&#x53CA; MyBatis 3 &#x76F8;&#x5173;&#x4F9D;&#x8D56; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt;&#x8FD9;&#x6837;&#xFF0C;MyBatis &#x7684;&#x573A;&#x666F;&#x542F;&#x52A8;&#x5668;&#x4E5F;&#x6574;&#x5408;&#x8FDB;&#x6765;&#x9879;&#x76EE;&#x4E2D;&#x4E86;&#x3002; application.properties &#x914D;&#x7F6E;Spring Boot &#x6574;&#x5408; MyBatis &#x65F6;&#x51E0;&#x4E2A;&#x6BD4;&#x8F83;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x914D;&#x7F6E;&#x53C2;&#x6570;&#xFF1A; mybatis.config-location &#x914D;&#x7F6E; mybatis-config.xml &#x8DEF;&#x5F84;&#xFF0C;mybatis-config.xml &#x4E2D;&#x914D;&#x7F6E; MyBatis &#x57FA;&#x7840;&#x5C5E;&#x6027;&#xFF0C;&#x5982;&#x679C;&#x9879;&#x76EE;&#x4E2D;&#x914D;&#x7F6E;&#x4E86; mybatis-config.xml &#x6587;&#x4EF6;&#x9700;&#x8981;&#x8BBE;&#x7F6E;&#x8BE5;&#x53C2;&#x6570; mybatis.mapper-locations &#x914D;&#x7F6E; Mapper &#x6587;&#x4EF6;&#x5BF9;&#x5E94;&#x7684; XML &#x6587;&#x4EF6;&#x8DEF;&#x5F84; mybatis.type-aliases-package &#x914D;&#x7F6E;&#x9879;&#x76EE;&#x4E2D;&#x5B9E;&#x4F53;&#x7C7B;&#x5305;&#x8DEF;&#x5F84; mybatis.config-location=classpath:mybatis-config.xml mybatis.mapper-locations=classpath:mapper/*Dao.xml mybatis.type-aliases-package=com.lou.springboot.entity&#x6211;&#x4EEC;&#x53EA;&#x914D;&#x7F6E; mapper-locations &#x5373;&#x53EF;&#xFF0C;&#x6700;&#x7EC8;&#x7684; application.properties &#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; # datasource config spring.datasource.url=jdbc:mysql://localhost:3306/lou_springboot?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf8&amp;autoReconnect=true&amp;useSSL=false spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver spring.datasource.username=root spring.datasource.password=root mybatis.mapper-locations=classpath:mapper/*Dao.xml&#x542F;&#x52A8;&#x7C7B;&#x589E;&#x52A0; Mapper &#x626B;&#x63CF;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0;&#x5BF9; Mapper &#x5305;&#x626B;&#x63CF; @MapperScan&#xFF0C;Spring Boot &#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x81EA;&#x52A8;&#x52A0;&#x8F7D;&#x5305;&#x8DEF;&#x5F84;&#x4E0B;&#x7684; Mapper &#x63A5;&#x53E3;&#xFF1A; @SpringBootApplication @MapperScan(&quot;com.lou.springboot.dao&quot;) //&#x6DFB;&#x52A0; @Mapper &#x6CE8;&#x89E3; public class Application { public static void main(String[] args) { System.out.println(&quot;&#x542F;&#x52A8; Spring Boot...&quot;); SpringApplication.run(Application.class, args); } }&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x6BCF;&#x4E2A; Mapper &#x63A5;&#x53E3;&#x4E0A;&#x9762;&#x6DFB;&#x52A0; @Mapper &#x6CE8;&#x89E3;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C; Mapper &#x63A5;&#x53E3;&#x6570;&#x91CF;&#x8F83;&#x591A;&#xFF0C;&#x5728;&#x6BCF;&#x4E2A; Mapper &#x52A0;&#x6CE8;&#x89E3;&#x662F;&#x633A;&#x7E41;&#x7410;&#x7684;&#xFF0C;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x626B;&#x63CF;&#x6CE8;&#x89E3;&#x3002; Spring Boot &#x6574;&#x5408; MyBatis &#x5B9E;&#x4F8B;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x6211;&#x4EEC;&#x4F9D;&#x7136;&#x4F7F;&#x7528;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684; tb_user &#x8868;&#x7ED3;&#x6784;&#xFF0C;&#x5E76;&#x4F7F;&#x7528; MyBatis &#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x64CD;&#x4F5C;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#x6B65;&#x9AA4;&#x3002; &#x65B0;&#x5EFA;&#x5B9E;&#x4F53;&#x7C7B;&#x548C; Mapper &#x63A5;&#x53E3;&#x5728; entity &#x5305;&#x4E0B;&#x65B0;&#x5EFA; User &#x7C7B;&#xFF0C;&#x5C06; tb_user &#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x6620;&#x5C04;&#x5230;&#x8BE5;&#x5B9E;&#x4F53;&#x7C7B;&#x4E2D;&#xFF1A; package com.lou.springboot.entity; public class User { private Integer id; private String name; private String password; public Integer getId() { return id; } public void setId(Integer id) { this.id = id; } public String getName() { return name; } public void setName(String name) { this.name = name; } public String getPassword() { return password; } public void setPassword(String password) { this.password = password; } }&#x5728; dao &#x5305;&#x4E2D;&#x65B0;&#x5EFA; UserDao &#x63A5;&#x53E3;&#xFF0C;&#x5E76;&#x5B9A;&#x4E49;&#x589E;&#x5220;&#x6539;&#x67E5;&#x56DB;&#x4E2A;&#x63A5;&#x53E3;&#xFF1A; package com.lou.springboot.dao; import com.lou.springboot.entity.User; import java.util.List; import java.util.Map; /** * @author 13 * MyBatis &#x6D4B;&#x8BD5; */ public interface UserDao { /** * &#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5217;&#x8868; * * @return */ List&lt;User&gt; findAllUsers(); /** * &#x6DFB;&#x52A0; * * @param User * @return */ int insertUser(User User); /** * &#x4FEE;&#x6539; * * @param User * @return */ int updUser(User User); /** * &#x5220;&#x9664; * * @param id * @return */ int delUser(Integer id); }&#x521B;&#x5EFA; Mapper &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x5728; resources/mapper &#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x5EFA; Mapper &#x63A5;&#x53E3;&#x7684;&#x6620;&#x5C04;&#x6587;&#x4EF6; UserDao.xml&#xFF0C;&#x4E4B;&#x540E;&#x8FDB;&#x884C;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x7684;&#x7F16;&#x5199;&#x3002; &#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#x4E0E; Mapper &#x63A5;&#x53E3;&#x7684;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#xFF0C;&#x6BD4;&#x5982;&#x8BE5;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;&#x9700;&#x8981;&#x5C06; UserDao.xml &#x7684;&#x4E0E;&#x5BF9;&#x5E94;&#x7684; UserDao &#x63A5;&#x53E3;&#x7C7B;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x5B9A;&#x4E49;&#x51FA;&#x6765;&#xFF1A; &lt;mapper namespace=&quot;com.lou.springboot.dao.UserDao&quot;&gt; &#x4E4B;&#x540E;&#xFF0C;&#x914D;&#x7F6E;&#x8868;&#x7ED3;&#x6784;&#x548C;&#x5B9E;&#x4F53;&#x7C7B;&#x7684;&#x5BF9;&#x5E94;&#x5173;&#x7CFB;&#xFF1A; &lt;resultMap type=&quot;com.lou.springboot.entity.User&quot; id=&quot;UserResult&quot;&gt; &lt;result property=&quot;id&quot; column=&quot;id&quot;/&gt; &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt; &lt;result property=&quot;password&quot; column=&quot;password&quot;/&gt; &lt;/resultMap&gt; &#x6700;&#x540E;&#xFF0C;&#x9488;&#x5BF9;&#x5BF9;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#x65B9;&#x6CD5;&#xFF0C;&#x7F16;&#x5199;&#x5177;&#x4F53;&#x7684; SQL &#x8BED;&#x53E5;&#xFF0C;&#x6700;&#x7EC8;&#x7684; UserDao.xml &#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF1A; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt; &lt;mapper namespace=&quot;com.lou.springboot.dao.UserDao&quot;&gt; &lt;resultMap type=&quot;com.lou.springboot.entity.User&quot; id=&quot;UserResult&quot;&gt; &lt;result property=&quot;id&quot; column=&quot;id&quot;/&gt; &lt;result property=&quot;name&quot; column=&quot;name&quot;/&gt; &lt;result property=&quot;password&quot; column=&quot;password&quot;/&gt; &lt;/resultMap&gt; &lt;select id=&quot;findAllUsers&quot; resultMap=&quot;UserResult&quot;&gt; select id,name,password from tb_user order by id desc &lt;/select&gt; &lt;insert id=&quot;insertUser&quot; parameterType=&quot;com.lou.springboot.entity.User&quot;&gt; insert into tb_user(name,password) values(#{name},#{password}) &lt;/insert&gt; &lt;update id=&quot;updUser&quot; parameterType=&quot;com.lou.springboot.entity.User&quot;&gt; update tb_user set name=#{name},password=#{password} where id=#{id} &lt;/update&gt; &lt;delete id=&quot;delUser&quot; parameterType=&quot;int&quot;&gt; delete from tb_user where id=#{id} &lt;/delete&gt; &lt;/mapper&gt; &#x65B0;&#x5EFA; MyBatisController&#x4E3A;&#x4E86;&#x5BF9; MyBatis &#x8FDB;&#x884C;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#xFF0C;&#x5728; controller &#x5305;&#x4E0B;&#x65B0;&#x5EFA; MyBatisController &#x7C7B;&#xFF0C;&#x5E76;&#x65B0;&#x589E; 4 &#x4E2A;&#x65B9;&#x6CD5;&#x5206;&#x522B;&#x63A5;&#x6536;&#x5BF9;&#x4E8E; tb_user &#x8868;&#x7684;&#x589E;&#x5220;&#x6539;&#x67E5;&#x8BF7;&#x6C42;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.controller; import com.lou.springboot.dao.UserDao; import com.lou.springboot.entity.User; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.jdbc.core.JdbcTemplate; import org.springframework.util.StringUtils; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.RestController; import javax.annotation.Resource; import java.util.List; import java.util.Map; @RestController public class MyBatisController { @Resource UserDao userDao; // &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55; @GetMapping(&quot;/users/mybatis/queryAll&quot;) public List&lt;User&gt; queryAll() { return userDao.findAllUsers(); } // &#x65B0;&#x589E;&#x4E00;&#x6761;&#x8BB0;&#x5F55; @GetMapping(&quot;/users/mybatis/insert&quot;) public Boolean insert(String name, String password) { if (StringUtils.isEmpty(name) || StringUtils.isEmpty(password)) { return false; } User user = new User(); user.setName(name); user.setPassword(password); return userDao.insertUser(user) &gt; 0; } // &#x4FEE;&#x6539;&#x4E00;&#x6761;&#x8BB0;&#x5F55; @GetMapping(&quot;/users/mybatis/update&quot;) public Boolean insert(Integer id, String name, String password) { if (id == null || id &lt; 1 || StringUtils.isEmpty(name) || StringUtils.isEmpty(password)) { return false; } User user = new User(); user.setId(id); user.setName(name); user.setPassword(password); return userDao.updUser(user) &gt; 0; } // &#x5220;&#x9664;&#x4E00;&#x6761;&#x8BB0;&#x5F55; @GetMapping(&quot;/users/mybatis/delete&quot;) public Boolean insert(Integer id) { if (id == null || id &lt; 1) { return false; } return userDao.delUser(id) &gt; 0; } }&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x542F;&#x52A8; MySQL&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x8FDB;&#x5165;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x9996;&#x5148;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB; File -&gt; Open New Terminal &#x5373;&#x53EF;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; sudo service mysql start&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x6743;&#x9650;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x5728;&#x547D;&#x4EE4;&#x524D;&#x589E;&#x52A0; sudo &#x53D6;&#x5F97; root &#x6743;&#x9650;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4E4B;&#x540E;&#x7B49;&#x5F85; MySQL &#x6B63;&#x5E38;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002; &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x548C;&#x8868;&#x7ED3;&#x6784;&#x6570;&#x636E;&#x5E93;&#x548C;&#x8868;&#x7ED3;&#x6784;&#x5728;&#x5B9E;&#x9A8C;&#x4E94;&#x5DF2;&#x7ECF;&#x521B;&#x5EFA;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4FDD;&#x5B58;&#x73AF;&#x5883;&#x7684;&#x7528;&#x6237;&#x8BF7;&#x53C2;&#x7167;&#x5B9E;&#x9A8C;&#x516B;&#x7684; SQL &#x8BED;&#x53E5;&#xFF0C;&#x5982;&#x679C;&#x4FDD;&#x5B58;&#x4E86;&#x73AF;&#x5883;&#x5219;&#x65E0;&#x9700;&#x8FDB;&#x884C;&#x8BE5;&#x6B65;&#x9AA4;&#x3002; &#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E2D;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002; &#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x5730;&#x5740;&#x680F;&#x4E2D;&#x5730;&#x5740;&#x540E;&#x9762;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF1A; &#x67E5;&#x8BE2;&#xFF1A;/users/mybatis/queryAll &#x65B0;&#x589E;&#xFF1A;/users/mybatis/insert?name=mybatis1&amp;password=1233333 &#x4FEE;&#x6539;&#xFF1A;/users/mybatis/update?id=2&amp;name=mybatis2&amp;password=1233222 &#x5220;&#x9664;&#xFF1A;/users/mybatis/delete?id=2 &#x5982;&#x679C;&#x80FD;&#x591F;&#x6B63;&#x5E38;&#x83B7;&#x53D6;&#x5230;&#x8BB0;&#x5F55;&#x4EE5;&#x53CA;&#x6B63;&#x786E;&#x5411; tb_user &#x8868;&#x4E2D;&#x65B0;&#x589E;&#x548C;&#x4FEE;&#x6539;&#x8BB0;&#x5F55;&#x5C31;&#x8868;&#x793A;&#x529F;&#x80FD;&#x6574;&#x5408;&#x6210;&#x529F;&#xFF01;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &#x9A8C;&#x8BC1; MySQL &#x4E2D;&#x7684;&#x6570;&#x636E;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x767B;&#x5F55;&#x5B9E;&#x9A8C;&#x697C;&#x6F14;&#x793A;&#x73AF;&#x5883;&#x4E2D;&#x7684; MySQL &#x6570;&#x636E;&#x5E93;&#xFF0C;&#x67E5;&#x770B;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x662F;&#x5426;&#x4E0E;&#x524D;&#x4E00;&#x6B65;&#x9AA4;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#xFF0C;&#x5982;&#x679C;&#x6700;&#x540E;&#x5F97;&#x5230;&#x7684;&#x6570;&#x636E;&#x786E;&#x5B9E;&#x4E0E; web &#x9875;&#x9762;&#x4E2D;&#x770B;&#x5230;&#x7684;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x5219;&#x8868;&#x793A;&#x529F;&#x80FD;&#x6574;&#x5408;&#x4E00;&#x5207;&#x6B63;&#x5E38;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5230;&#x6B64;&#x7ED3;&#x675F;&#xFF01; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x8FD9;&#x8282;&#x5B9E;&#x9A8C;&#x8BFE;&#x7A0B;&#x4ECB;&#x7ECD;&#x4E86; MyBatis &#x6846;&#x67B6;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#x70B9;&#x4ECB;&#x7ECD;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x6574;&#x5408; Spring Boot &#x4E0E; MyBatis&#xFF0C;&#x5E76;&#x4EE5; tb_user &#x8868;&#x4E3A;&#x4F8B;&#x6F14;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x4F7F;&#x7528; MyBatis &#x8FDB;&#x884C;&#x589E;&#x3001;&#x5220;&#x3001;&#x6539;&#x3001;&#x67E5;&#x64CD;&#x4F5C;&#xFF0C;&#x4E5F;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x80FD;&#x591F;&#x5728;&#x8BFE;&#x540E;&#x81EA;&#x884C;&#x5B66;&#x4E60;&#x6E90;&#x7801;&#x5E76;&#x6839;&#x636E;&#x6587;&#x4E2D;&#x7684;&#x5B9E;&#x9A8C;&#x6B65;&#x9AA4;&#x8FDB;&#x884C;&#x7EC3;&#x4E60;&#xFF0C;&#x4EE3;&#x7801;&#x4E5F;&#x9700;&#x8981;&#x591A;&#x5199;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x8FDB;&#x6B65;&#x624D;&#x4F1A;&#x66F4;&#x52A0;&#x660E;&#x663E;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-07-mybatisgenerator.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x6211;&#x4EEC;&#x5C06;&#x5728;&#x8FD9;&#x4E00;&#x8282;&#x5B66;&#x4E60; Mybatis Generator &#x63D2;&#x4EF6;&#x7684;&#x76F8;&#x5173;&#x77E5;&#x8BC6;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x5C06; Spring Boot &#x4E0E; Mybatis Generator &#x8FDB;&#x884C;&#x6574;&#x5408;&#xFF0C;&#x5E76;&#x81EA;&#x52A8;&#x751F;&#x6210; DAO &#x5C42;&#x7684;&#x76F8;&#x5173;&#x4EE3;&#x7801;&#xFF0C;&#x4ECE;&#x800C;&#x51CF;&#x5C11;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x7684;&#x5DE5;&#x4F5C;&#x91CF;&#xFF0C;&#x4F7F;&#x7528;&#x5DE5;&#x5177;&#x6765;&#x63D0;&#x5347;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x5DE5;&#x4F5C;&#x6548;&#x7387;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x8BA4;&#x8BC6; Mybatis Generator &#x63D2;&#x4EF6; Spring Boot &#x6574;&#x5408; Mybatis Generator &#x63D2;&#x4EF6;&#x6B65;&#x9AA4; &#x4F7F;&#x7528; Mybatis Generator &#x81EA;&#x52A8;&#x751F;&#x6210; DAO &#x5C42;&#x4EE3;&#x7801; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ MySQL &#x8BA4;&#x8BC6; MyBatis-GeneratorMyBatis-Generator &#x4ECB;&#x7ECD;MyBatis Generator &#x662F; MyBatis &#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x7684;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;&#x63D2;&#x4EF6;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4E8E; MyBatis &#x548C; iBatis &#x6846;&#x67B6;&#x7684;&#x4EE3;&#x7801;&#x751F;&#x6210;&#xFF0C;&#x652F;&#x6301;&#x6240;&#x6709;&#x7248;&#x672C;&#x7684; MyBatis &#x6846;&#x67B6;&#x4EE5;&#x53CA; 2.2.0 &#x7248;&#x672C;&#x53CA;&#x4EE5;&#x4E0A;&#x7684; iBatis &#x6846;&#x67B6;&#x3002; &#x5728;&#x524D;&#x6587;&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x4ECB;&#x7ECD;&#x4E86;&#x5982;&#x4F55;&#x4F7F;&#x7528; MyBatis &#x8FDB;&#x884C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#xFF0C;&#x5728;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x65F6;&#xFF0C;&#x4E00;&#x5F20;&#x8868;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7F16;&#x5199;&#x5B9E;&#x4F53;&#x7C7B;&#x3001;DAO &#x63A5;&#x53E3;&#x7C7B;&#x4EE5;&#x53CA; Mapper &#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E9B;&#x662F;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5982;&#x679C;&#x8868;&#x7684;&#x6570;&#x91CF;&#x8F83;&#x5927;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x91CD;&#x590D;&#x7684;&#x53BB;&#x521B;&#x5EFA;&#x5B9E;&#x4F53;&#x7C7B;&#x3001;Mapper &#x6587;&#x4EF6;&#x4EE5;&#x53CA; DAO &#x7C7B;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x8FD9;&#x65E0;&#x7591;&#x662F;&#x4E00;&#x4E2A;&#x5F88;&#x9EBB;&#x70E6;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x800C; MyBatis Generator &#x63D2;&#x4EF6;&#x5C31;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x6211;&#x4EEC;&#x53BB;&#x5B8C;&#x6210;&#x8FD9;&#x4E9B;&#x5F00;&#x53D1;&#x6B65;&#x9AA4;&#xFF0C;&#x4F7F;&#x7528;&#x8BE5;&#x63D2;&#x4EF6;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x5F00;&#x53D1;&#x8005;&#x81EA;&#x52A8;&#x53BB;&#x521B;&#x5EFA;&#x5B9E;&#x4F53;&#x7C7B;&#x3001;Mapper &#x6587;&#x4EF6;&#x4EE5;&#x53CA; DAO &#x7C7B;&#x5E76;&#x4E14;&#x914D;&#x7F6E;&#x597D;&#x5B83;&#x4EEC;&#x4E4B;&#x95F4;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x4EE3;&#x7801;&#xFF0C;&#x540E;&#x7EED;&#x53EA;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;&#x7684;&#x5F00;&#x53D1;&#x5373;&#x53EF;&#x3002; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F7F;&#x7528; MyBatis-Generator&#x901A;&#x8FC7;&#x4ECB;&#x7ECD;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5C06; MyBatis-Generator &#x7B80;&#x5355;&#x7684;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x4E2A; MyBatis &#x6846;&#x67B6;&#x7684;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;&#xFF0C;&#x81F3;&#x4E8E;&#x6211;&#x63A8;&#x8350;&#x5927;&#x5BB6;&#x4F7F;&#x7528;&#x5B83;&#x7684;&#x539F;&#x56E0;&#xFF0C;&#x7406;&#x7531;&#x6574;&#x7406;&#x5982;&#x4E0B;&#xFF1A; &#x51CF;&#x5C11;&#x91CD;&#x590D;&#x5DE5;&#x4F5C; &#x51CF;&#x5C11;&#x4EBA;&#x4E3A;&#x64CD;&#x4F5C;&#x5E26;&#x6765;&#x7684;&#x9519;&#x8BEF; &#x63D0;&#x5347;&#x5F00;&#x53D1;&#x6548;&#x7387; &#x4F7F;&#x7528;&#x7075;&#x6D3B; MyBatis &#x5C5E;&#x4E8E;&#x534A;&#x81EA;&#x52A8; ORM &#x6846;&#x67B6;&#xFF0C;&#x5728;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x6846;&#x67B6;&#x4E2D;&#xFF0C;&#x5DE5;&#x4F5C;&#x91CF;&#x6700;&#x5927;&#x7684;&#x5C31;&#x662F;&#x4E66;&#x5199; Mapper &#x53CA;&#x76F8;&#x5173;&#x6620;&#x5C04;&#x6587;&#x4EF6;&#xFF0C;&#x540C;&#x65F6;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x5176;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#xFF0C;&#x7531;&#x4E8E;&#x624B;&#x52A8;&#x4E66;&#x5199;&#x5F88;&#x5BB9;&#x6613;&#x51FA;&#x9519;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5229;&#x7528; MyBatis-Generator &#x6765;&#x5E2E;&#x6211;&#x4EEC;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x6587;&#x4EF6;&#x3002; &#x5176;&#x6B21;&#xFF0C;&#x4E00;&#x4E2A;&#x9879;&#x76EE;&#x901A;&#x5E38;&#x6709;&#x5F88;&#x591A;&#x5F20;&#x8868;&#xFF0C;&#x6BD4;&#x5982;&#x63A5;&#x4E0B;&#x6765;&#x8981;&#x5F00;&#x53D1;&#x7684; my_blog &#x9879;&#x76EE;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x3001;SQL &#x8BED;&#x53E5;&#x90FD;&#x8981;&#x624B;&#x52A8;&#x7F16;&#x5199;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x7E41;&#x7410;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x63D2;&#x4EF6;&#x80FD;&#x591F;&#x9002;&#x5F53;&#x7684;&#x51CF;&#x5C11;&#x6211;&#x4EEC;&#x7684;&#x4E00;&#x4E9B;&#x5DE5;&#x4F5C;&#x91CF;&#xFF0C;&#x81EA;&#x52A8;&#x5C06;&#x8FD9;&#x4E9B;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x4E2D;&#xFF0C;&#x5C06;&#x662F;&#x4E00;&#x4EF6;&#x5341;&#x5206;&#x5E78;&#x798F;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x8BE5;&#x63D2;&#x4EF6;&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x90FD;&#x662F;&#x5E38;&#x7528;&#x7684;&#x4E00;&#x4E9B;&#x589E;&#x5220;&#x6539;&#x67E5;&#x4EE3;&#x7801;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#x6216;&#x65B9;&#x6CD5;&#x4F9D;&#x7136;&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x53BB;&#x7F16;&#x5199;&#x4EE3;&#x7801;&#xFF0C;&#x5B83;&#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x63D0;&#x5347;&#x6548;&#x7387;&#x7684;&#x5DE5;&#x5177;&#xFF0C;&#x7ED9;&#x4E88;&#x5F00;&#x53D1;&#x8005;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x7684;&#x5E2E;&#x52A9;&#x3002; MyBatis-Generator &#x6574;&#x5408;&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x6848;&#x4F8B;&#x6765;&#x7406;&#x89E3; MyBatis-Generator &#x63D2;&#x4EF6;&#x6574;&#x5408;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x7684;&#x6B65;&#x9AA4;&#x3002; &#x6DFB;&#x52A0;&#x4F9D;&#x8D56;&#x5982;&#x679C;&#x8981;&#x4F7F;&#x7528;&#x8BE5;&#x63D2;&#x4EF6;&#xFF0C;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5C06;&#x5176;&#x4F9D;&#x8D56;&#x914D;&#x7F6E;&#x589E;&#x52A0;&#x5230; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x589E;&#x52A0;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5982;&#x4E0B;&#xFF0C;&#x5C06;&#x8BE5;&#x90E8;&#x5206;&#x914D;&#x7F6E;&#x653E;&#x5230;&#x539F; pom.xml &#x6587;&#x4EF6;&#x7684; plugins &#x8282;&#x70B9;&#x4E0B;&#x5373;&#x53EF;&#xFF1A; &lt;plugin&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.3.5&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt; mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt; 5.1.39&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt; &lt;version&gt;1.3.5&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;executions&gt; &lt;execution&gt; &lt;id&gt;Generate MyBatis Artifacts&lt;/id&gt; &lt;phase&gt;package&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;generate&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;configuration&gt; &lt;verbose&gt;true&lt;/verbose&gt; &lt;!-- &#x662F;&#x5426;&#x8986;&#x76D6; --&gt; &lt;overwrite&gt;true&lt;/overwrite&gt; &lt;!-- MybatisGenerator&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E; --&gt; &lt;configurationFile&gt;src/main/resources/mybatisGeneratorConfig.xml&lt;/configurationFile&gt; &lt;/configuration&gt; &lt;/plugin&gt;&#x5982;&#x679C;&#x662F;&#x5728;&#x672C;&#x5730;&#x5F00;&#x53D1;&#x7684;&#x8BDD;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x7B49;&#x5F85; jar &#x5305;&#x53CA;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x5373;&#x53EF;&#x3002; &#x65B0;&#x589E; MyBatis-Generator &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5728;&#x6DFB;&#x52A0;&#x63D2;&#x4EF6;&#x4F9D;&#x8D56;&#x5230; pom.xml &#x6587;&#x4EF6;&#x4E2D;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86; Mybatis Generator &#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#x4E3A; src/main/resources/mybatisGeneratorConfig.xml&#xFF0C;&#x8BE5;&#x6587;&#x4EF6;&#x5373;&#x4E3A;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x5668;&#x63D2;&#x4EF6;&#x6700;&#x91CD;&#x8981;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x540E;&#x7EED;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x7684;&#x89C4;&#x5219;&#x3001;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#x3001;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x540E;&#x7684;&#x5B58;&#x653E;&#x76EE;&#x5F55;&#x7B49;&#x7B49;&#x914D;&#x7F6E;&#x90FD;&#x9700;&#x8981;&#x5728;&#x8BE5;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#xFF0C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x53CA;&#x76F8;&#x5173;&#x6CE8;&#x91CA;&#x5982;&#x4E0B;&#xFF1A; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt; &lt;generatorConfiguration&gt; &lt;context id=&quot;my-blog-generator-config&quot; targetRuntime=&quot;MyBatis3&quot;&gt; &lt;!-- &#x751F;&#x6210;&#x7684;Java&#x6587;&#x4EF6;&#x7684;&#x7F16;&#x7801; --&gt; &lt;property name=&quot;javaFileEncoding&quot; value=&quot;utf-8&quot;/&gt; &lt;!-- &#x683C;&#x5F0F;&#x5316;java&#x4EE3;&#x7801; --&gt; &lt;property name=&quot;javaFormatter&quot; value=&quot;org.mybatis.generator.api.dom.DefaultJavaFormatter&quot;/&gt; &lt;!-- &#x683C;&#x5F0F;&#x5316;XML&#x4EE3;&#x7801; --&gt; &lt;property name=&quot;xmlFormatter&quot; value=&quot;org.mybatis.generator.api.dom.DefaultXmlFormatter&quot;/&gt; &lt;plugin type=&quot;org.mybatis.generator.plugins.ToStringPlugin&quot;/&gt; &lt;!--&#x521B;&#x5EFA;Java&#x7C7B;&#x65F6;&#x5BF9;&#x6CE8;&#x91CA;&#x8FDB;&#x884C;&#x63A7;&#x5236;--&gt; &lt;commentGenerator&gt; &lt;property name=&quot;suppressDate&quot; value=&quot;true&quot;/&gt; &lt;!-- &#x662F;&#x5426;&#x53BB;&#x9664;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x7684;&#x6CE8;&#x91CA; true&#xFF1A;&#x662F; &#xFF1A; false:&#x5426; --&gt; &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt; &lt;/commentGenerator&gt; &lt;!--&#x6570;&#x636E;&#x5E93;&#x5730;&#x5740;&#x53CA;&#x767B;&#x9646;&#x8D26;&#x53F7;&#x5BC6;&#x7801; &#x6539;&#x6210;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x914D;&#x7F6E;--&gt; &lt;jdbcConnection driverClass=&quot;com.mysql.jdbc.Driver&quot; connectionURL=&quot;jdbc:mysql://localhost:3306/lou_springboot&quot; userId=&quot;root&quot; password=&quot;&quot;&gt; &lt;/jdbcConnection&gt; &lt;javaTypeResolver&gt; &lt;property name=&quot;forceBigDecimals&quot; value=&quot;false&quot;/&gt; &lt;/javaTypeResolver&gt; &lt;!--&#x751F;&#x6210;&#x5B9E;&#x4F53;&#x7C7B;&#x8BBE;&#x7F6E;--&gt; &lt;javaModelGenerator targetPackage=&quot;com.lou.springboot.entity&quot; targetProject=&quot;src/main/java&quot;&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt; &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot;/&gt; &lt;/javaModelGenerator&gt; &lt;!--&#x751F;&#x6210;Mapper&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;--&gt; &lt;sqlMapGenerator targetPackage=&quot;mapper&quot; targetProject=&quot;src/main/resources&quot;&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt; &lt;/sqlMapGenerator&gt; &lt;!--&#x751F;&#x6210;Dao&#x7C7B;&#x8BBE;&#x7F6E;--&gt; &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.lou.springboot.dao&quot; targetProject=&quot;src/main/java&quot;&gt; &lt;property name=&quot;enableSubPackages&quot; value=&quot;true&quot;/&gt; &lt;/javaClientGenerator&gt; &lt;!--&#x9700;&#x8981;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x7684;&#x8868;&#x53CA;&#x5BF9;&#x5E94;&#x7684;&#x7C7B;&#x540D;&#x8BBE;&#x7F6E;--&gt; &lt;table tableName=&quot;generator_test&quot; domainObjectName=&quot;GeneratorTest&quot; enableCountByExample=&quot;false&quot; enableUpdateByExample=&quot;false&quot; enableDeleteByExample=&quot;false&quot; enableSelectByExample=&quot;false&quot; selectByExampleQueryId=&quot;false&quot;&gt; &lt;/table&gt; &lt;/context&gt; &lt;/generatorConfiguration&gt;&#x9700;&#x8981;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x7684;&#x8868;&#x53CA;&#x5BF9;&#x5E94;&#x7C7B;&#x540D;&#x7684;&#x914D;&#x7F6E;&#x662F;&#x5199;&#x5728; table &#x6807;&#x7B7E;&#x4E2D;&#x7684;&#xFF0C;&#x5982;&#x4E0A;&#x6240;&#x793A;&#xFF0C;generator_test &#x8868;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x4F53;&#x7C7B;&#x53EF;&#x4EE5;&#x914D;&#x7F6E;&#x4E3A; GeneratorTest&#xFF0C;&#x8FD9;&#x4E9B;&#x662F;&#x5F00;&#x53D1;&#x8005;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6539;&#x6210;&#x5176;&#x4ED6;&#x5408;&#x9002;&#x7684;&#x7C7B;&#x540D;&#x3002; &#x5982;&#x679C;&#x6709;&#x591A;&#x5F20;&#x8868;&#x540C;&#x65F6;&#x751F;&#x6210;&#xFF0C;&#x589E;&#x52A0;&#x591A;&#x4E2A; table &#x6807;&#x7B7E;&#x914D;&#x7F6E;&#x5373;&#x53EF;&#x3002; &#x751F;&#x6210;&#x4EE3;&#x7801;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x548C;&#x8868;&#x7ED3;&#x6784;&#x90FD;&#x5904;&#x7406;&#x5B8C;&#x6210;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x6B65;&#x9AA4;&#x4E86;&#xFF0C;&#x8FD9;&#x91CC;&#x6574;&#x7406;&#x4E86;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x6765;&#x8FDB;&#x884C;&#x4EE3;&#x7801;&#x751F;&#x6210;&#xFF1A; &#x65B9;&#x5F0F;&#x4E00;&#xFF1A;IDEA &#x5DE5;&#x5177;&#x4E2D;&#x7684; Maven &#x63D2;&#x4EF6;&#x4E2D;&#x542B;&#x6709; mybatis-generator &#x7684;&#x9009;&#x9879;&#xFF0C;&#x70B9;&#x51FB; generate &#x5373;&#x53EF;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A;&#x6267;&#x884C; mvn &#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x6765;&#x8FDB;&#x884C;&#x4EE3;&#x7801;&#x751F;&#x6210;&#xFF0C;&#x8FD9;&#x662F;&#x4E0D;&#x901A;&#x8FC7;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x63D0;&#x4F9B;&#x7684;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x6765;&#x8FDB;&#x884C;&#x7684;&#x6B65;&#x9AA4;&#x3002; mvn mybatis-generator:generate &#x6267;&#x884C;&#x8FD9;&#x4E9B;&#x6B65;&#x9AA4;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5B9E;&#x4F53;&#x7C7B;&#x3001;DAO &#x63A5;&#x53E3;&#x7C7B;&#x3001;Mapper &#x6587;&#x4EF6;&#x5DF2;&#x7ECF;&#x751F;&#x6210;&#x5728;&#x5BF9;&#x5E94;&#x7684;&#x76EE;&#x5F55;&#x4E2D;&#x4E86;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x4F1A;&#x8FDB;&#x884C;&#x6F14;&#x793A;&#x3002; &#x5C06; DAO &#x63A5;&#x53E3;&#x6CE8;&#x518C;&#x81F3; IOC &#x5BB9;&#x5668;&#x63A5;&#x4E0B;&#x6765;&#x662F;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728; DAO &#x63A5;&#x53E3;&#x7C7B;&#x4E0A;&#x589E;&#x52A0; @Mapper &#x6CE8;&#x89E3;&#xFF0C;&#x5C06;&#x5176;&#x6CE8;&#x518C;&#x5230; Spring &#x7684; IOC &#x5BB9;&#x5668;&#x4E2D;&#x4EE5;&#x4F9B;&#x5176;&#x4ED6;&#x7C7B;&#x8C03;&#x7528;&#xFF0C;&#x5728;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x4E2D;&#x9ED8;&#x8BA4;&#x662F;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x6CE8;&#x89E3;&#x7684;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x5728;&#x4E3B;&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0; @MapperScan &#x6CE8;&#x89E3;&#x5C06;&#x76F8;&#x5E94;&#x5305;&#x4E0B;&#x7684;&#x6240;&#x6709; Mapper &#x63A5;&#x53E3;&#x626B;&#x63CF;&#x5230;&#x5BB9;&#x5668;&#x4E2D;&#x3002; &#x529F;&#x80FD;&#x9A8C;&#x8BC1;&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x5BF9;&#x6574;&#x4E2A;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#x3002; &#x542F;&#x52A8; MySQL&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x8FDB;&#x5165;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x9996;&#x5148;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB; File -&gt; Open New Terminal &#x5373;&#x53EF;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; sudo service mysql start&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x6743;&#x9650;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x5728;&#x547D;&#x4EE4;&#x524D;&#x589E;&#x52A0; sudo &#x53D6;&#x5F97; root &#x6743;&#x9650;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4E4B;&#x540E;&#x7B49;&#x5F85; MySQL &#x6B63;&#x5E38;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002; &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x548C;&#x8868;&#x7ED3;&#x6784;&#x9996;&#x5148;&#xFF0C;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x767B;&#x9646; MySQL &#x6570;&#x636E;&#x5E93;&#xFF1A; sudo mysql -u root &#x56E0;&#x4E3A;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#x4E2D; MySQL &#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x5E76;&#x6CA1;&#x6709;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x4EE5;&#x4E0A;&#x547D;&#x4EE4;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x767B;&#x9646;&#xFF0C;&#x767B;&#x9646;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x521B;&#x5EFA;&#x8868;&#xFF1A; USE lou_springboot; /*Table structure for table `generator_test` */ CREATE TABLE `generator_test` ( `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT &apos;id&apos;, `test` varchar(100) NOT NULL COMMENT &apos;&#x6D4B;&#x8BD5;&#x5B57;&#x6BB5;&apos;, PRIMARY KEY (`id`) ) ENGINE=InnoDB DEFAULT CHARSET=utf8;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x6211;&#x4EEC;&#x672C;&#x8282;&#x8BFE;&#x6240;&#x9700;&#x7684; lou_springboot &#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x53C2;&#x7167;&#x524D;&#x9762;&#x7684;&#x5B9E;&#x9A8C;&#x5C06;&#x6570;&#x636E;&#x5E93;&#x5EFA;&#x597D;&#x3002; &#x4E0B;&#x8F7D;&#x5E76;&#x89E3;&#x538B;&#x4EE3;&#x7801;&#x672C;&#x8282;&#x8BFE;&#x7A0B;&#x7684;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x4E0A;&#x4F20;&#xFF0C;&#x76F4;&#x63A5;&#x4E0B;&#x8F7D;&#x81F3;&#x5B9E;&#x9A8C;&#x73AF;&#x5883;&#x4E2D;&#x5373;&#x53EF;&#xFF0C;&#x4E0B;&#x8F7D;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x89E3;&#x538B;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/spring-boot-mybatis-generator.zip unzip spring-boot-mybatis-generator.zip&#x63A5;&#x4E0B;&#x6765;&#x5C31;&#x80FD;&#x591F;&#x770B;&#x5230;&#x672C;&#x6B21;&#x4EE3;&#x7801;&#x7684;&#x4EE3;&#x7801;&#x7ED3;&#x6784;&#x53CA;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x3002; &#x6267;&#x884C;&#x4EE3;&#x7801;&#x751F;&#x6210;&#x547D;&#x4EE4;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x6267;&#x884C;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x7684; mvn &#x547D;&#x4EE4;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; spring-boot-mybatis-generator &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x6267;&#x884C;&#x547D;&#x4EE4; mvn mybatis-generator:generate &#xFF0C;&#x63A5;&#x7740;&#x5C31;&#x80FD;&#x591F;&#x770B;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x4EE3;&#x7801;&#x5DF2;&#x7ECF;&#x751F;&#x6210;&#x5728;&#x9879;&#x76EE;&#x76EE;&#x5F55;&#x4E2D;&#x4E86;&#xFF0C;&#x8FC7;&#x7A0B;&#x5982;&#x4E0B;&#xFF1A; &#x603B;&#x7ED3;&#x81F3;&#x6B64;&#xFF0C;MyBatis-Generator &#x63D2;&#x4EF6;&#x6574;&#x5408;&#x5B8C;&#x6210;&#xFF0C;&#x4E5F;&#x751F;&#x6210;&#x4E86;&#x5BF9;&#x5E94;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5728;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x4F1A;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x751F;&#x6210;&#x6211;&#x4EEC; DAO &#x5C42;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x6839;&#x636E;&#x529F;&#x80FD;&#x5BF9; Mapper &#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#xFF0C;&#x4F7F;&#x7528;&#x8BE5;&#x63D2;&#x4EF6;&#x65F6;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#x5982;&#x4E0B;&#xFF1A; &#x7531;&#x4E8E;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;&#x662F;&#x5355;&#x72EC;&#x5B9A;&#x4E49;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x4F7F;&#x7528;&#x65F6;&#x4E00;&#x5B9A;&#x8981;&#x4ED4;&#x7EC6;&#x68C0;&#x67E5;&#xFF0C;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6B63;&#x5E38;&#x3002; &#x5728;&#x751F;&#x6210;&#x4EE3;&#x7801;&#x540E;&#xFF0C;&#x5EFA;&#x8BAE;&#x5C06; table &#x6807;&#x7B7E;&#x6CE8;&#x91CA;&#x6389;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x6253;&#x5305;&#x6216;&#x8005;&#x751F;&#x6210;&#x5176;&#x4ED6;&#x8868;&#x7684;&#x4EE3;&#x7801;&#x65F6;&#x4F1A;&#x5C06;&#x539F;&#x5148;&#x5DF2;&#x7ECF;&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x8986;&#x76D6;&#xFF0C;&#x53EF;&#x80FD;&#x4F1A;&#x9020;&#x6210;&#x4E00;&#x4E9B;&#x5C0F;&#x9EBB;&#x70E6;&#x3002; &#x4EE3;&#x7801;&#x751F;&#x6210;&#x540E;&#x5C06; DAO &#x63A5;&#x53E3;&#x6CE8;&#x518C;&#x81F3; IOC &#x5BB9;&#x5668;&#x4EE5;&#x4F9B;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-08-shi-wu.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x524D;&#x9762;&#x51E0;&#x7BC7;&#x6587;&#x7AE0;&#x4E3B;&#x8981;&#x8BB2;&#x89E3;&#x4E86;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x5BF9;&#x6570;&#x636E;&#x5C42;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x672C;&#x7AE0;&#x8282;&#x5C06;&#x4ECB;&#x7ECD;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x3002;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x6280;&#x672F;&#x90FD;&#x79BB;&#x4E0D;&#x5F00;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#xFF0C;&#x5426;&#x5219;&#x5C06;&#x4F1A;&#x9020;&#x6210;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x5728;&#x76EE;&#x524D;&#x4F01;&#x4E1A;&#x7EA7;&#x5E94;&#x7528;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x662F;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; &#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x4ECB;&#x7ECD; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1; Spring Boot &#x5904;&#x7406;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ MySQL &#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x7B80;&#x4ECB;&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x662F;&#x6307;&#x4F5C;&#x4E3A;&#x5355;&#x4E2A;&#x903B;&#x8F91;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x6267;&#x884C;&#x7684;&#x4E00;&#x7CFB;&#x5217;&#x64CD;&#x4F5C;&#xFF0C;&#x8981;&#x4E48;&#x5B8C;&#x5168;&#x5730;&#x6267;&#x884C;&#xFF0C;&#x8981;&#x4E48;&#x5B8C;&#x5168;&#x5730;&#x4E0D;&#x6267;&#x884C;&#x3002; &#x4E8B;&#x52A1;&#x5904;&#x7406;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x9664;&#x975E;&#x4E8B;&#x52A1;&#x6027;&#x5355;&#x5143;&#x5185;&#x7684;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x90FD;&#x6210;&#x529F;&#x5B8C;&#x6210;&#xFF0C;&#x5426;&#x5219;&#x4E0D;&#x4F1A;&#x6C38;&#x4E45;&#x66F4;&#x65B0;&#x9762;&#x5411;&#x6570;&#x636E;&#x7684;&#x8D44;&#x6E90;&#x3002; &#x901A;&#x8FC7;&#x5C06;&#x4E00;&#x7EC4;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#x7EC4;&#x5408;&#x4E3A;&#x4E00;&#x4E2A;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x6210;&#x529F;&#x8981;&#x4E48;&#x5168;&#x90E8;&#x5931;&#x8D25;&#x7684;&#x5355;&#x5143;&#xFF0C;&#x53EF;&#x4EE5;&#x7B80;&#x5316;&#x9519;&#x8BEF;&#x6062;&#x590D;&#x5E76;&#x4F7F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x66F4;&#x52A0;&#x53EF;&#x9760;&#x3002;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#x8981;&#x6210;&#x4E3A;&#x4E8B;&#x52A1;&#xFF0C;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;&#x6240;&#x8C13;&#x7684; ACID&#xFF08;&#x539F;&#x5B50;&#x6027;&#x3001;&#x4E00;&#x81F4;&#x6027;&#x3001;&#x9694;&#x79BB;&#x6027;&#x548C;&#x6301;&#x4E45;&#x6027;&#xFF09;&#x5C5E;&#x6027;&#xFF0C;&#x4E8B;&#x52A1;&#x662F;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x4E2D;&#x7684;&#x903B;&#x8F91;&#x5DE5;&#x4F5C;&#x5355;&#x4F4D;&#xFF0C;&#x7531;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5B50;&#x7CFB;&#x7EDF;&#x8D1F;&#x8D23;&#x4E8B;&#x52A1;&#x7684;&#x5904;&#x7406;&#x3002; Spring Boot &#x4E8B;&#x52A1;&#x673A;&#x5236;&#x9996;&#x5148;&#x9700;&#x8981;&#x660E;&#x786E;&#x7684;&#x4E00;&#x70B9;&#x662F; Spring Boot &#x4E8B;&#x52A1;&#x673A;&#x5236;&#x5B9E;&#x8D28;&#x4E0A;&#x5C31;&#x662F; Spring &#x7684;&#x4E8B;&#x52A1;&#x673A;&#x5236;&#xFF0C;&#x662F;&#x91C7;&#x7528;&#x7EDF;&#x4E00;&#x7684;&#x673A;&#x5236;&#x5904;&#x7406;&#x6765;&#x81EA;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x6280;&#x672F;&#x7684;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7; Spring Boot &#x57FA;&#x4E8E;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x7684;&#x7279;&#x6027;&#x4F5C;&#x4E86;&#x90E8;&#x5206;&#x5904;&#x7406;&#x6765;&#x8282;&#x7701;&#x5F00;&#x53D1;&#x8005;&#x7684;&#x914D;&#x7F6E;&#x5DE5;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E00;&#x77E5;&#x8BC6;&#x70B9;&#x6211;&#x4EEC;&#x4F1A;&#x7ED3;&#x5408;&#x90E8;&#x5206;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x8BB2;&#x89E3;&#x3002; Spring &#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5206;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A; &#x7F16;&#x7A0B;&#x5F0F;&#x4E8B;&#x52A1;&#xFF0C;&#x6307;&#x7684;&#x662F;&#x901A;&#x8FC7;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x4E8B;&#x52A1;&#xFF1B; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#xFF0C;&#x57FA;&#x4E8E; AOP&#xFF0C;&#x5C06;&#x5177;&#x4F53;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4E0E;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x89E3;&#x8026;&#x3002; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x662F;&#x5EFA;&#x7ACB;&#x5728; AOP &#x673A;&#x5236;&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x5176;&#x672C;&#x8D28;&#x662F;&#x5BF9;&#x65B9;&#x6CD5;&#x524D;&#x540E;&#x8FDB;&#x884C;&#x62E6;&#x622A;&#xFF0C;&#x7136;&#x540E;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#x521B;&#x5EFA;&#x6216;&#x8005;&#x52A0;&#x5165;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C;&#x5728;&#x6267;&#x884C;&#x5B8C;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x6267;&#x884C;&#x60C5;&#x51B5;&#x63D0;&#x4EA4;&#x6216;&#x8005;&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;&#x3002; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x6700;&#x5927;&#x7684;&#x4F18;&#x70B9;&#xFF0C;&#x5C31;&#x662F;&#x901A;&#x8FC7; AOP &#x673A;&#x5236;&#x5C06;&#x5177;&#x4F53;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4E0E;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x89E3;&#x8026;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x7F16;&#x7A0B;&#x7684;&#x65B9;&#x5F0F;&#x7BA1;&#x7406;&#x4E8B;&#x52A1;&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x5728;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4EE3;&#x7801;&#x4E2D;&#x63BA;&#x6742;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x56E0;&#x6B64;&#x5728;&#x5B9E;&#x9645;&#x4F7F;&#x7528;&#x4E2D;&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7528;&#x7684;&#x6BD4;&#x8F83;&#x591A;&#x3002; &#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;&#x4E00;&#x79CD;&#x662F;&#x5728; XML &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x505A;&#x76F8;&#x5173;&#x7684;&#x4E8B;&#x52A1;&#x89C4;&#x5219;&#x58F0;&#x660E;&#xFF1B;&#x53E6;&#x4E00;&#x79CD;&#x662F;&#x57FA;&#x4E8E; @Transactional &#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x5F0F;&#xFF08;@Transactional &#x6CE8;&#x89E3;&#x662F;&#x6765;&#x81EA; org.springframework.transaction.annotation &#x5305;&#xFF09;&#xFF0C;&#x4FBF;&#x53EF;&#x4EE5;&#x5C06;&#x4E8B;&#x52A1;&#x89C4;&#x5219;&#x5E94;&#x7528;&#x5230;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x4E2D;&#x3002; &#x672A;&#x4F7F;&#x7528; Spring Boot &#x65F6;&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x662F;&#x666E;&#x901A;&#x7684; SSM &#x6846;&#x67B6;&#x6574;&#x5408;&#x65F6;&#x7684;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;&#xFF0C;&#x76F8;&#x4FE1;&#x5927;&#x5BB6;&#x90FD;&#x6BD4;&#x8F83;&#x719F;&#x6089;&#x8FD9;&#x6BB5;&#x914D;&#x7F6E;&#x4EE3;&#x7801;&#xFF1A; &lt;!-- &#x4E8B;&#x52A1;&#x7BA1;&#x7406; --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/bean&gt; &lt;!-- &#x914D;&#x7F6E;&#x4E8B;&#x52A1;&#x901A;&#x77E5;&#x5C5E;&#x6027; --&gt; &lt;tx:advice id=&quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt; &lt;!-- &#x5B9A;&#x4E49;&#x4E8B;&#x52A1;&#x4F20;&#x64AD;&#x5C5E;&#x6027; --&gt; &lt;tx:attributes&gt; &lt;tx:method name=&quot;insert*&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;tx:method name=&quot;import*&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;tx:method name=&quot;update*&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;tx:method name=&quot;upd*&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;tx:method name=&quot;add*&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;tx:method name=&quot;set*&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;tx:method name=&quot;remove*&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;tx:method name=&quot;delete*&quot; propagation=&quot;REQUIRED&quot;/&gt; &lt;tx:method name=&quot;get*&quot; propagation=&quot;REQUIRED&quot; read-only=&quot;true&quot;/&gt; &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; read-only=&quot;true&quot;/&gt; &lt;/tx:attributes&gt; &lt;/tx:advice&gt; &lt;!-- &#x914D;&#x7F6E;&#x4E8B;&#x52A1;&#x5207;&#x9762; --&gt; &lt;aop:config&gt; &lt;aop:pointcut id=&quot;serviceOperation&quot; expression=&quot;(execution(* com.ssm.demo.service.*.*(..)))&quot;/&gt; &lt;aop:advisor advice-ref=&quot;txAdvice&quot; pointcut-ref=&quot;serviceOperation&quot;/&gt; &lt;/aop:config&gt;&#x901A;&#x8FC7;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x6211;&#x4EEC;&#x4E5F;&#x80FD;&#x591F;&#x770B;&#x51FA;&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#xFF1A; &#x914D;&#x7F6E;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668; &#x914D;&#x7F6E;&#x4E8B;&#x52A1;&#x901A;&#x77E5;&#x5C5E;&#x6027; &#x914D;&#x7F6E;&#x4E8B;&#x52A1;&#x5207;&#x9762; &#x8FD9;&#x6837;&#x914D;&#x7F6E;&#x540E;&#xFF0C;&#x76F8;&#x5173;&#x65B9;&#x6CD5;&#x5728;&#x6267;&#x884C;&#x65F6;&#x90FD;&#x88AB;&#x7EB3;&#x5165;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x4E0B;&#x4E86;&#xFF0C;&#x4E00;&#x65E6;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#xFF0C;&#x4E8B;&#x52A1;&#x4F1A;&#x6B63;&#x786E;&#x56DE;&#x6EDA;&#x3002; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x7684;&#x4E8B;&#x52A1;&#x63A7;&#x5236;&#x5728; SpringBoot &#x4E2D;&#xFF0C;&#x5EFA;&#x8BAE;&#x91C7;&#x7528;&#x6CE8;&#x89E3; @Transactional &#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x7684;&#x63A7;&#x5236;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x5728;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x7684;&#x65B9;&#x6CD5;&#x6216;&#x8005;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @Transactional &#x6CE8;&#x89E3;&#x5373;&#x53EF;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x901A;&#x8FC7;&#x4EE3;&#x7801;&#x8BB2;&#x89E3;&#x3002; &#x4E0B;&#x8F7D;&#x6E90;&#x7801;&#x5E76;&#x89E3;&#x538B;&#xFF1A; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-10.zip unzip lou-springboot-10.zip&#x5207;&#x6362;&#x5DE5;&#x4F5C;&#x7A7A;&#x95F4;&#x5230; lou-springboot&#x3002;&#x9879;&#x76EE;&#x7ED3;&#x6784;&#x76EE;&#x5F55;&#x5982;&#x4E0B;&#xFF1A; lou-springboot &#x251C;&#x2500;&#x2500; pom.xml &#x251C;&#x2500;&#x2500; README.md &#x2514;&#x2500;&#x2500; src &#x251C;&#x2500;&#x2500; main &#x2502; &#x251C;&#x2500;&#x2500; java &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; com &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; lou &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; springboot &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; Application.java &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; controller &#x2502; &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; HelloController.java &#x2502; &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; JdbcController.java &#x2502; &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; MyBatisController.java &#x2502; &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; TransactionTestController.java &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; dao &#x2502; &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; UserDao.java &#x2502; &#x2502; &#x251C;&#x2500;&#x2500; entity &#x2502; &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; User.java &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; service &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; TransactionTestService.java &#x2502; &#x2514;&#x2500;&#x2500; resources &#x2502; &#x251C;&#x2500;&#x2500; application.properties &#x2502; &#x251C;&#x2500;&#x2500; mapper &#x2502; &#x2502; &#x2514;&#x2500;&#x2500; UserDao.xml &#x2502; &#x2514;&#x2500;&#x2500; templates &#x2514;&#x2500;&#x2500; test &#x2514;&#x2500;&#x2500; java &#x2514;&#x2500;&#x2500; com &#x2514;&#x2500;&#x2500; lou &#x2514;&#x2500;&#x2500; springboot &#x2514;&#x2500;&#x2500; ApplicationTests.java&#x65B0;&#x5EFA; TransactionTestService.java&#x9996;&#x5148;&#x65B0;&#x5EFA; service &#x5305;&#x4F5C;&#x4E3A;&#x4E1A;&#x52A1;&#x4EE3;&#x7801;&#x5305;&#xFF0C;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x4E00;&#x822C;&#x5728; service &#x5C42;&#x505A;&#xFF0C;&#x5F53;&#x7136;&#x5728; controller &#x5C42;&#x4E2D;&#x5904;&#x7406;&#x4E5F;&#x53EF;&#x4EE5;&#xFF0C;&#x4F46;&#x662F;&#x5EFA;&#x8BAE;&#x8FD8;&#x662F;&#x5728;&#x4E1A;&#x52A1;&#x5C42;&#x8FDB;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x5305;&#x4E2D;&#x65B0;&#x5EFA; TransactionTestService &#x7C7B;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.service; import com.lou.springboot.dao.UserDao; import com.lou.springboot.entity.User; import org.springframework.stereotype.Service; import org.springframework.transaction.annotation.Transactional; import javax.annotation.Resource; @Service public class TransactionTestService { @Resource UserDao userDao; public Boolean test1() { User user = new User(); user.setPassword(&quot;test1-password&quot;); user.setName(&quot;test1&quot;); // &#x5728;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x65B0;&#x589E;&#x4E00;&#x6761;&#x8BB0;&#x5F55; userDao.insertUser(user); // &#x53D1;&#x751F;&#x5F02;&#x5E38; System.out.println(1 / 0); return true; } @Transactional public Boolean test2() { User user = new User(); user.setPassword(&quot;test2-password&quot;); user.setName(&quot;test2&quot;); // &#x5728;&#x6570;&#x636E;&#x5E93;&#x8868;&#x4E2D;&#x65B0;&#x589E;&#x4E00;&#x6761;&#x8BB0;&#x5F55; userDao.insertUser(user); // &#x53D1;&#x751F;&#x5F02;&#x5E38; System.out.println(1 / 0); return true; } }&#x9996;&#x5148;&#x5728;&#x7C7B;&#x4E0A;&#x6DFB;&#x52A0; @Service &#x5C06;&#x5176;&#x6CE8;&#x518C;&#x5230; IOC &#x5BB9;&#x5668;&#x4E2D;&#x7BA1;&#x7406;&#xFF0C;&#x4E4B;&#x540E;&#x6CE8;&#x5165; UserDao &#x5BF9;&#x8C61;&#x4EE5;&#x5B9E;&#x73B0;&#x540E;&#x7EED;&#x7684;&#x6570;&#x636E;&#x5C42;&#x64CD;&#x4F5C;&#xFF0C;&#x6700;&#x540E;&#x5B9E;&#x73B0;&#x4E24;&#x4E2A;&#x4E1A;&#x52A1;&#x65B9;&#x6CD5; test1() &#x548C; test2()&#xFF0C;&#x4E8C;&#x8005;&#x5B9E;&#x73B0;&#x7C7B;&#x4F3C;&#xFF0C;&#x53EA;&#x662F;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x7684;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#x540D;&#x79F0;&#x548C;&#x5BC6;&#x7801;&#x5B57;&#x7B26;&#x4E32;&#x4E0D;&#x540C;&#xFF0C;&#x4E14; test2() &#x65B9;&#x6CD5;&#x4E0A;&#x6DFB;&#x52A0;&#x4E86; @Transactional &#x6CE8;&#x89E3;&#xFF0C;&#x800C; test1() &#x65B9;&#x6CD5;&#x4E0A;&#x5E76;&#x6CA1;&#x6709;&#x6DFB;&#x52A0;&#xFF0C;&#x5728;&#x65B9;&#x6CD5;&#x4E2D;&#x6211;&#x4EEC;&#x90FD;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x53E5;&#x4EE3;&#x7801;&#xFF0C;&#x8BA9;&#x6570;&#x5B57; 1 &#x53BB;&#x9664;&#x4EE5; &#x6570;&#x5B57; 0&#xFF0C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x4E00;&#x5B9A;&#x4F1A;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x8FD9;&#x4E2A;&#x6765;&#x6A21;&#x62DF;&#x5728;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x65F6;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x80FD;&#x5426;&#x6210;&#x529F;&#x3002; &#x6309;&#x7167;&#x6B63;&#x5E38;&#x7406;&#x89E3;&#xFF0C;&#x5728;&#x6267;&#x884C; SQL &#x8BED;&#x53E5;&#x540E;&#xFF0C;&#x4E00;&#x65E6;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x6B21;&#x6570;&#x636E;&#x5E93;&#x66F4;&#x6539;&#x4E00;&#x5B9A;&#x4F1A;&#x88AB;&#x4E8B;&#x52A1;&#x8FDB;&#x884C;&#x56DE;&#x6EDA;&#xFF0C;&#x6B63;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x4F1A;&#x6709; test1 &#x7684;&#x6570;&#x636E;&#x800C;&#x6CA1;&#x6709; test2 &#x7684;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A; test1() &#x65B9;&#x6CD5;&#x5E76;&#x6CA1;&#x6709;&#x7EB3;&#x5165;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x4E2D;&#xFF0C;&#x800C; test2() &#x65B9;&#x6CD5;&#x7531;&#x4E8E;&#x52A0;&#x4E0A;&#x4E86; @Transactional &#x6CE8;&#x89E3;&#x662F;&#x4F1A;&#x88AB;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x5904;&#x7406;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x6765;&#x6267;&#x884C;&#x4E24;&#x4E2A;&#x4E1A;&#x52A1;&#x5C42;&#x65B9;&#x6CD5;&#xFF0C;&#x770B;&#x770B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x53D8;&#x5316;&#x3002; &#x65B0;&#x5EFA; TransactionTestController.java&#x4E3A;&#x4E86;&#x65B9;&#x4FBF;&#x5728;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x8FDB;&#x884C;&#x65B9;&#x6CD5;&#x6D4B;&#x8BD5;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x5C06;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x5199;&#x5230; Controller &#x7C7B;&#x4E2D;&#x8FDB;&#x884C;&#x7EBF;&#x4E0A;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;&#xFF0C;&#x5728; controller &#x5305;&#x4E2D;&#x65B0;&#x5EFA; TransactionTestController.java &#x7C7B;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.controller; import com.lou.springboot.service.TransactionTestService; import org.springframework.stereotype.Controller; import org.springframework.web.bind.annotation.GetMapping; import org.springframework.web.bind.annotation.ResponseBody; import javax.annotation.Resource; @Controller public class TransactionTestController { @Resource private TransactionTestService transactionTestService; // &#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x6D4B;&#x8BD5; @GetMapping(&quot;/transactionTest&quot;) @ResponseBody public String transactionTest() { // test1 &#x672A;&#x6DFB;&#x52A0; @Transactional &#x6CE8;&#x89E3; transactionTestService.test1(); // test2 &#x6DFB;&#x52A0;&#x4E86; @Transactional &#x6CE8;&#x89E3; transactionTestService.test2(); return &quot;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&quot;; } }&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x5F88;&#x7B80;&#x5355;&#xFF0C;&#x5C31;&#x662F;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x63A7;&#x5236;&#x5668;&#x65B9;&#x6CD5;&#x5904;&#x7406; /transactionTest &#x8BF7;&#x6C42;&#xFF0C;&#x65B9;&#x6CD5;&#x4E2D;&#x4F1A;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x5C42; test1() &#x65B9;&#x6CD5;&#x548C; test2() &#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x540E;&#x4E00;&#x65E6;&#x8BBF;&#x95EE; /transactionTest &#x8BF7;&#x6C42;&#x5C31;&#x80FD;&#x591F;&#x770B;&#x5230;&#x8FD9;&#x6B21;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x6D4B;&#x8BD5;&#x7684;&#x7ED3;&#x679C;&#x4E86;&#x3002; &#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x542F;&#x52A8; MySQL&#x5982;&#x679C; MySQL &#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x6CA1;&#x6709;&#x542F;&#x52A8;&#x7684;&#x8BDD;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x8FD9;&#x4E00;&#x6B65;&#x64CD;&#x4F5C;&#x3002; &#x8FDB;&#x5165;&#x5B9E;&#x9A8C;&#x697C;&#x7EBF;&#x4E0A;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#xFF0C;&#x9996;&#x5148;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB; File -&gt; Open New Terminal &#x5373;&#x53EF;&#xFF0C;&#x4E4B;&#x540E;&#x5728;&#x547D;&#x4EE4;&#x884C;&#x4E2D;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#xFF1A; sudo service mysql start&#x56E0;&#x4E3A;&#x7528;&#x6237;&#x6743;&#x9650;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x5728;&#x547D;&#x4EE4;&#x524D;&#x589E;&#x52A0; sudo &#x53D6;&#x5F97; root &#x6743;&#x9650;&#xFF0C;&#x4E0D;&#x7136;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4E4B;&#x540E;&#x7B49;&#x5F85; MySQL &#x6B63;&#x5E38;&#x542F;&#x52A8;&#x5373;&#x53EF;&#x3002; &#x8FD9;&#x91CC;&#x8FD8;&#x662F;&#x4F1A;&#x7EE7;&#x7EED;&#x4F7F;&#x7528;&#x524D;&#x9762;&#x7528;&#x5230;&#x5230;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x521B;&#x5EFA;&#xFF0C;&#x8BF7;&#x6839;&#x636E;&#x524D;&#x9762;&#x5230;&#x64CD;&#x4F5C;&#x81EA;&#x884C;&#x8865;&#x5145;&#x3002; &#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E2D;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002; &#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://*\***.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165; /transactionTest &#x5730;&#x5740;&#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x6700;&#x7EC8;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x8FD9;&#x662F;&#x9884;&#x671F;&#x4E2D;&#x4F1A;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x4E3A;&#x8C03;&#x7528;&#x4E86; test1() &#x65B9;&#x6CD5;&#x548C; test2() &#x65B9;&#x6CD5;&#x80AF;&#x5B9A;&#x4F1A;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#xFF0C;&#x4E4B;&#x540E;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x53BB;&#x67E5;&#x770B; tb_user &#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x8BBF;&#x95EE; /users/mybatis/queryAll &#x5373;&#x53EF;&#x67E5;&#x770B;&#x6240;&#x6709;&#x8BB0;&#x5F55;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#xFF1A; &#x6700;&#x7EC8;&#x67E5;&#x5230;&#x7684;&#x8BB0;&#x5F55;&#x4E0E;&#x6211;&#x4EEC;&#x4E4B;&#x524D;&#x5206;&#x6790;&#x7684;&#x4E00;&#x6837;&#xFF0C;test1() &#x65B9;&#x6CD5;&#x7531;&#x4E8E;&#x6CA1;&#x6709;&#x6DFB;&#x52A0; @Transactional &#x6CE8;&#x89E3;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x540E;&#x4E8B;&#x52A1;&#x6CA1;&#x6709;&#x56DE;&#x6EDA;&#xFF0C;insert &#x8BED;&#x53E5;&#x4F9D;&#x7136;&#x8D77;&#x5230;&#x4E86;&#x4F5C;&#x7528;&#xFF0C;&#x800C; test2() &#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x4E86; @Transactional &#x6CE8;&#x89E3;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x53D1;&#x751F;&#x5F02;&#x5E38;&#x540E;&#x4E8B;&#x52A1;&#x6B63;&#x5E38;&#x56DE;&#x6EDA;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5E76;&#x6CA1;&#x6709; test2 &#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5230;&#x6B64;&#x7ED3;&#x675F;&#xFF01; Spring Boot &#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x5728;&#x8BB2;&#x89E3;&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x63D0;&#x5230;&#x4E86;&#x58F0;&#x660E;&#x5F0F;&#x4E8B;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x8FC7;&#x7A0B;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x914D;&#x7F6E;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x5728;&#x5F00;&#x53D1;&#x65F6;&#x5E76;&#x6CA1;&#x6709;&#x8FDB;&#x884C;&#x8BE5;&#x7BA1;&#x7406;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x4F46;&#x662F;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5374;&#x8D77;&#x5230;&#x4E86;&#x4F5C;&#x7528;&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F; &#x7B54;&#x6848;&#x662F; Spring Boot &#x5728;&#x542F;&#x52A8;&#x8FC7;&#x7A0B;&#x4E2D;&#x5DF2;&#x7ECF;&#x5C06;&#x8BE5;&#x5BF9;&#x8C61;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5728; Spring Boot &#x9879;&#x76EE;&#x4E2D;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528; @Transactional &#x6CE8;&#x89E3;&#x6765;&#x5904;&#x7406;&#x4E8B;&#x52A1;&#xFF0C;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60;&#xFF0C;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x7684;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x7C7B;&#x5982;&#x4E0B;&#xFF1A; org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration &#x53EF;&#x4EE5;&#x5728;&#x4F60;&#x672C;&#x5730;&#x5F00;&#x53D1;&#x5DE5;&#x5177; (IDEA &#x6216;&#x8005; Eclipse) &#x4E2D;&#x641C;&#x7D22;&#x8FD9;&#x4E24;&#x4E2A;&#x7C7B;&#x7684;&#x6E90;&#x7801;&#x6765;&#x770B;&#x3002; @Transactional &#x4E8B;&#x52A1;&#x5B9E;&#x73B0;&#x673A;&#x5236;@Transactional &#x4E0D;&#x4EC5;&#x53EF;&#x4EE5;&#x6CE8;&#x89E3;&#x5728;&#x65B9;&#x6CD5;&#x4E0A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6CE8;&#x89E3;&#x5728;&#x7C7B;&#x4E0A;&#x3002;&#x5F53;&#x6CE8;&#x89E3;&#x5728;&#x7C7B;&#x4E0A;&#x65F6;&#xFF0C;&#x610F;&#x5473;&#x7740;&#x6B64;&#x7C7B;&#x7684;&#x6240;&#x6709; public &#x65B9;&#x6CD5;&#x90FD;&#x662F;&#x5F00;&#x542F;&#x4E8B;&#x52A1;&#x7684;&#x3002;&#x5982;&#x679C;&#x7C7B;&#x7EA7;&#x522B;&#x548C;&#x65B9;&#x6CD5;&#x7EA7;&#x522B;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#x4E86; @Transactional &#x6CE8;&#x89E3;&#xFF0C;&#x5219;&#x4F7F;&#x7528;&#x5728;&#x7C7B;&#x7EA7;&#x522B;&#x7684;&#x6CE8;&#x89E3;&#x4F1A;&#x91CD;&#x8F7D;&#x65B9;&#x6CD5;&#x7EA7;&#x522B;&#x7684;&#x6CE8;&#x89E3;&#x3002; &#x5728;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x58F0;&#x660E;&#x4E86; @Transactional &#x7684;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;Spring Framework &#x9ED8;&#x8BA4;&#x4F7F;&#x7528; AOP &#x4EE3;&#x7406;&#xFF0C;&#x5728;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x65F6;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#xFF0C;&#x6839;&#x636E; @Transactional &#x7684;&#x5C5E;&#x6027;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x4E2A;&#x4EE3;&#x7406;&#x5BF9;&#x8C61;&#x51B3;&#x5B9A;&#x8BE5;&#x58F0;&#x660E; @Transactional &#x7684;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x662F;&#x5426;&#x7531;&#x62E6;&#x622A;&#x5668; TransactionInterceptor &#x6765;&#x4F7F;&#x7528;&#x62E6;&#x622A;&#xFF0C;&#x5728; TransactionInterceptor &#x62E6;&#x622A;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x4E4B;&#x524D;&#x521B;&#x5EFA;&#x5E76;&#x52A0;&#x5165;&#x4E8B;&#x52A1;&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x76EE;&#x6807;&#x65B9;&#x6CD5;&#x7684;&#x903B;&#x8F91;, &#x6700;&#x540E;&#x6839;&#x636E;&#x6267;&#x884C;&#x60C5;&#x51B5;&#x662F;&#x5426;&#x51FA;&#x73B0;&#x5F02;&#x5E38;&#xFF0C;&#x5229;&#x7528;&#x62BD;&#x8C61;&#x4E8B;&#x52A1;&#x7BA1;&#x7406;&#x5668; AbstractPlatformTransactionManager &#x64CD;&#x4F5C;&#x6570;&#x636E;&#x6E90; DataSource &#x63D0;&#x4EA4;&#x6216;&#x56DE;&#x6EDA;&#x4E8B;&#x52A1;&#x3002; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x7531;&#x4E8E; Spring Boot &#x7684;&#x81EA;&#x52A8;&#x914D;&#x7F6E;&#x673A;&#x5236;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x4F7F;&#x7528; Spring Boot &#x5F00;&#x53D1;&#x9879;&#x76EE;&#x65F6;&#x5982;&#x679C;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#xFF0C;&#x76F4;&#x63A5;&#x5728;&#x5BF9;&#x5E94;&#x65B9;&#x6CD5;&#x4E0A;&#x6DFB;&#x52A0; @Transactional &#x5373;&#x53EF;&#xFF0C;Spring Boot &#x4E8B;&#x52A1;&#x673A;&#x5236;&#x5B9E;&#x8D28;&#x4E0A;&#x5C31;&#x662F; Spring &#x7684;&#x4E8B;&#x52A1;&#x673A;&#x5236;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x5728;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;&#x4E0A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;Spring Boot &#x66F4;&#x7B80;&#x4FBF;&#x4E00;&#x4E9B;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x8981;&#x4F60;&#x5BF9;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x7406;&#x89E3;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x4F7F;&#x7528; Spring Boot &#x5904;&#x7406;&#x4E8B;&#x52A1;&#x65F6;&#x4E5F;&#x4E0D;&#x4F1A;&#x9047;&#x5230;&#x95EE;&#x9898;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-09-ajax.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x672C;&#x6B21;&#x5B9E;&#x8DF5;&#x6559;&#x7A0B;&#x662F;&#x4E00;&#x4E2A; web &#x9879;&#x76EE;&#xFF0C;&#x56E0;&#x6B64;&#x4F1A;&#x4ECB;&#x7ECD;&#x5728; web &#x9879;&#x76EE;&#x4E2D;&#x524D;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x901A;&#x5E38;&#x9009;&#x62E9;&#x7684;&#x65B9;&#x6848;&#x662F;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#x901A;&#x8FC7;&#x4F7F;&#x7528; Ajax &#x6280;&#x672F;&#x8C03;&#x7528;&#x540E;&#x7AEF;&#x63D0;&#x4F9B;&#x7684; api &#x63A5;&#x53E3;&#x6765;&#x5B8C;&#x6210;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;&#x548C;&#x9875;&#x9762;&#x7684;&#x4EA4;&#x4E92;&#x66F4;&#x65B0;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x6765;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x4EC0;&#x4E48;&#x662F; Ajax &#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x5728;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528; Ajax &#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5F00;&#x53D1;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; Ajax &#x7B80;&#x4ECB; Ajax &#x5DE5;&#x4F5C;&#x6D41;&#x7A0B; Ajax &#x8C03;&#x7528;&#x63A5;&#x53E3;&#x5B9E;&#x8DF5; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#xFF0C;&#x8BF7;&#x5BF9;&#x7167;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B66;&#x4E60; wget https://labfile.oss.aliyuncs.com/courses/1367/lou-springboot-11.zip unzip lou-springboot-11.zip cd lou-springbootAjax &#x7B80;&#x4ECB;AJAX = Asynchronous JavaScript and XML&#xFF08;&#x5F02;&#x6B65;&#x7684; JavaScript &#x548C; XML&#xFF09;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5FEB;&#x901F;&#x52A8;&#x6001;&#x7F51;&#x9875;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDB;&#x884C;&#x5C11;&#x91CF;&#x6570;&#x636E;&#x4EA4;&#x6362;&#xFF0C;Ajax &#x53EF;&#x4EE5;&#x4F7F;&#x7F51;&#x9875;&#x5B9E;&#x73B0;&#x5F02;&#x6B65;&#x66F4;&#x65B0;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BF9;&#x7F51;&#x9875;&#x7684;&#x67D0;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#xFF0C;&#x4F20;&#x7EDF;&#x7684;&#x7F51;&#x9875;&#x5982;&#x679C;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x5185;&#x5BB9;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x8FDB;&#x884C;&#x8DF3;&#x8F6C;&#x5E76;&#x91CD;&#x65B0;&#x52A0;&#x8F7D;&#x6574;&#x4E2A;&#x7F51;&#x9875;&#x3002; Ajax &#x6280;&#x672F;&#x4F7F;&#x5F97;&#x7F51;&#x7AD9;&#x4E0E;&#x7528;&#x6237;&#x95F4;&#x6709;&#x4E86;&#x66F4;&#x53CB;&#x597D;&#x7684;&#x4EA4;&#x4E92;&#x6548;&#x679C;&#xFF0C;&#x6BD4;&#x8F83;&#x5E38;&#x89C1;&#x7684;&#x501F;&#x52A9; Ajax &#x6280;&#x672F;&#x5B9E;&#x73B0;&#x7684;&#x529F;&#x80FD;&#x6709;&#x5217;&#x8868;&#x4E0A;&#x62C9;&#x52A0;&#x8F7D;&#x5206;&#x9875;&#x6570;&#x636E;&#x3001;&#x7701;&#x5E02;&#x533A;&#x4E09;&#x7EA7;&#x8054;&#x52A8;&#x3001;&#x8FDB;&#x5EA6;&#x6761;&#x66F4;&#x65B0;&#x7B49;&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x501F;&#x52A9; Ajax &#x6280;&#x672F;&#x5728;&#x5F53;&#x524D;&#x9875;&#x9762;&#x5373;&#x53EF;&#x5B8C;&#x6210;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5373;&#x4F7F;&#x6709;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x4E5F;&#x4E0D;&#x4F1A;&#x8DF3;&#x8F6C;&#x9875;&#x9762;&#xFF0C;&#x6574;&#x4F53;&#x4EA4;&#x4E92;&#x6548;&#x679C;&#x6709;&#x4E86;&#x5F88;&#x5927;&#x7684;&#x63D0;&#x5347;&#x3002; Ajax &#x5DE5;&#x4F5C;&#x6D41;&#x7A0B; Ajax &#x7684;&#x6574;&#x4E2A;&#x5DE5;&#x4F5C;&#x6D41;&#x7A0B;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x7528;&#x6237;&#x5728;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x4E0A;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#x65F6;&#x4F1A;&#x6267;&#x884C; js &#x65B9;&#x6CD5;&#xFF0C;js &#x65B9;&#x6CD5;&#x4E2D;&#x901A;&#x8FC7; Ajax &#x5F02;&#x6B65;&#x4E0E;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x3002;&#x9996;&#x5148;&#x4F1A;&#x521B;&#x5EFA; XMLHttpRequest &#x5BF9;&#x8C61;&#xFF0C;XMLHttpRequest &#x662F; AJAX &#x7684;&#x57FA;&#x7840;&#xFF0C;&#x4E4B;&#x540E;&#x4F1A;&#x6839;&#x636E;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x5C06;&#x53C2;&#x6570;&#x5C01;&#x88C5;&#x5230;&#x8BF7;&#x6C42;&#x4F53;&#x4E2D;&#x6216;&#x8005;&#x653E;&#x5230;&#x8BF7;&#x6C42; URL &#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x5411;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x540E;&#x6839;&#x636E;&#x540E;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#x548C;&#x90E8;&#x5206;&#x903B;&#x8F91;&#x5904;&#x7406;&#xFF0C;&#x6700;&#x7EC8;&#x5728;&#x4E0D;&#x5237;&#x65B0;&#x9875;&#x9762;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x5BF9;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x5C40;&#x90E8;&#x66F4;&#x65B0;&#x3002; Ajax &#x8C03;&#x7528;&#x5B9E;&#x8DF5;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5B9E;&#x9645;&#x7684;&#x6848;&#x4F8B;&#x6765;&#x6F14;&#x793A; Ajax &#x4E0E;&#x540E;&#x7AEF; api &#x7684;&#x4EA4;&#x4E92;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x9879;&#x76EE;&#x7EDF;&#x4E00;&#x521B;&#x5EFA;&#x5728; /home/project/lou-springboot &#x76EE;&#x5F55;&#x4E0B; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x7F16;&#x7801;&#x5728; resources/static &#x4E0B;&#x65B0;&#x5EFA; ajax-test.html&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;title&gt;lou.SpringBoot | Ajax &#x8BF7;&#x6C42;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body class=&quot;hold-transition login-page&quot;&gt; &lt;div style=&quot;width:720px;margin:7% auto&quot;&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-lg-6&quot;&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h5 class=&quot;m-0&quot;&gt;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;1&lt;/h5&gt; &lt;/div&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;input type=&quot;text&quot; id=&quot;info&quot; class=&quot;form-control&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;info&#x503C;&quot;&gt; &lt;h6 class=&quot;card-title&quot;&gt;&#x63A5;&#x53E3;1&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;&lt;/h6&gt; &lt;p class=&quot;card-text&quot; id=&quot;test1&quot;&gt;&lt;/p&gt; &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; onclick=&quot;requestTest1()&quot;&gt;&#x53D1;&#x9001;&#x8BF7;&#x6C42;1&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;div class=&quot;card card-primary card-outline&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h5 class=&quot;m-0&quot;&gt;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;2&lt;/h5&gt; &lt;/div&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;h6 class=&quot;card-title&quot;&gt;&#x63A5;&#x53E3;2&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;&lt;/h6&gt; &lt;p class=&quot;card-text&quot; id=&quot;test2&quot;&gt;&lt;/p&gt; &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; onclick=&quot;requestTest2()&quot;&gt;&#x53D1;&#x9001;&#x8BF7;&#x6C42;2&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;ajax-test &#x9875;&#x9762;&#x4E0A;&#x5206;&#x522B;&#x5B9A;&#x4E49;&#x4E86;&#x4E24;&#x4E2A;&#x6309;&#x94AE;&#xFF0C;&#x5728;&#x70B9;&#x51FB;&#x65F6;&#x5206;&#x522B;&#x4F1A;&#x5206;&#x522B;&#x89E6;&#x53D1; onclick &#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#xFF0C;&#x5728;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x7684;&#x5B9E;&#x73B0;&#x903B;&#x8F91;&#x4E2D;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x7684;&#x5C40;&#x90E8;&#x66F4;&#x65B0;&#x3002; Ajax &#x8C03;&#x7528;&#x903B;&#x8F91;&#x7531;&#x4E8E;&#x539F;&#x751F; Ajax &#x5B9E;&#x73B0;&#x6BD4;&#x8F83;&#x7E41;&#x7410;&#xFF0C;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x4E2D;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x4F7F;&#x7528; jQuery &#x5C01;&#x88C5;&#x7684; Ajax &#x65B9;&#x6CD5;&#xFF0C;&#x6216;&#x8005;&#x5176;&#x4ED6;&#x5E93;&#x5C01;&#x88C5;&#x7684; Ajax &#x65B9;&#x6CD5;&#xFF0C;&#x8BE6;&#x7EC6;&#x53EF;&#x4EE5;&#x53C2;&#x8003; jQuery ajax &#x8BB2;&#x89E3;&#x3002; &#x5728;&#x8C03;&#x7528;&#x524D;&#x9996;&#x5148;&#x5728; html &#x4EE3;&#x7801;&#x4E2D;&#x5F15;&#x5165; jQuery &#x5E93;&#xFF0C;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x5206;&#x522B;&#x5B9A;&#x4E49;&#x4E24;&#x4E2A;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x7684; js &#x65B9;&#x6CD5;&#xFF1A;requestTest1() &#x548C; requestTest2()&#xFF0C;&#x5728;&#x65B9;&#x6CD5;&#x4E2D;&#x5206;&#x522B;&#x4F7F;&#x7528; Ajax &#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x5728;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x540E;&#x5C06;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x8D4B;&#x503C;&#x5230;&#x5BF9;&#x5E94;&#x7684; div &#x4E2D;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!-- &#x5F15;&#x5165;jQuery --&gt; &lt;script src=&quot;https://cdn.staticfile.org/jquery/1.12.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;!-- &#x5B9A;&#x4E49;&#x4E24;&#x4E2A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x5E76;&#x5B9E;&#x73B0; Ajax &#x8C03;&#x7528;&#x903B;&#x8F91; --&gt; &lt;script type=&quot;text/javascript&quot;&gt; function requestTest1() { var info = $(&quot;#info&quot;).val(); $.ajax({ type: &quot;GET&quot;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; dataType: &quot;text&quot;,//&#x9884;&#x671F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; url: &quot;api/test1?info=&quot; + info,//&#x8BF7;&#x6C42;&#x5730;&#x5740; contentType: &quot;application/json; charset=utf-8&quot;, success: function (result) {//&#x8BF7;&#x6C42;&#x6210;&#x529F;&#x540E;&#x56DE;&#x8C03; $(&quot;#test1&quot;).html(JSON.stringify(result)); }, error: function () {//&#x8BF7;&#x6C42;&#x5931;&#x8D25;&#x540E;&#x56DE;&#x8C03; $(&quot;#test1&quot;).html(&quot;&#x63A5;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#xFF01;&quot;); } }); } function requestTest2() { $.ajax({ type: &quot;GET&quot;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; dataType: &quot;json&quot;,//&#x9884;&#x671F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; url: &quot;api/test2&quot;, contentType: &quot;application/json; charset=utf-8&quot;, success: function (result) { $(&quot;#test2&quot;).html(JSON.stringify(result)); }, error: function () { $(&quot;#test2&quot;).html(&quot;&#x63A5;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#xFF01;&quot;); } }); } &lt;/script&gt;&#x65B9;&#x6CD5;&#x4E00;&#x4E2D;&#x4F1A;&#x9996;&#x5148;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x5728; input &#x6846;&#x4E2D;&#x8F93;&#x5165;&#x7684;&#x5B57;&#x6BB5;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x5176;&#x62FC;&#x63A5;&#x5230;&#x8BF7;&#x6C42;&#x7684; URL &#x4E2D;&#xFF0C;&#x6700;&#x540E;&#x53D1;&#x9001; Ajax &#x8BF7;&#x6C42;&#x5E76;&#x5B8C;&#x6210;&#x56DE;&#x8C03;&#xFF0C;&#x65B9;&#x6CD5;&#x4E8C;&#x4E2D;&#x4E5F;&#x662F;&#x7C7B;&#x4F3C;&#xFF0C;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x7684;&#x6309;&#x94AE;&#x540E;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1; onclick &#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x5E76;&#x8C03;&#x7528; requestTest2() &#x65B9;&#x6CD5;&#xFF0C;&#x5728;&#x8BF7;&#x6C42;&#x5B8C;&#x6210;&#x540E;&#x8FDB;&#x5165; success &#x56DE;&#x8C03;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5C06;&#x8BF7;&#x6C42;&#x7ED3;&#x679C;&#x7684;&#x5185;&#x5BB9;&#x653E;&#x5230; div &#x4E2D;&#x663E;&#x793A;&#x3002; &#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x5728;&#x5305; com.lou.springboot.controller &#x4E0B;&#x65B0;&#x5EFA; RequestTestController&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.controller; import com.lou.springboot.entity.User; import org.springframework.util.StringUtils; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestMethod; import org.springframework.web.bind.annotation.RestController; import java.util.ArrayList; import java.util.List; @RestController @RequestMapping(&quot;/api&quot;) public class RequestTestController { @RequestMapping(value = &quot;/test1&quot;, method = RequestMethod.GET) public String test1(String info) { if (StringUtils.isEmpty(info) || StringUtils.isEmpty(info)) { return &quot;&#x8BF7;&#x8F93;&#x5165;info&#x7684;&#x503C;&#xFF01;&quot;; } return &quot;&#x4F60;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;&#x662F;:&quot; + info; } @RequestMapping(value = &quot;/test2&quot;, method = RequestMethod.GET) public List&lt;User&gt; test2() { List&lt;User&gt; users = new ArrayList&lt;&gt;(); User user1 = new User(); user1.setId(1); user1.setName(&quot;&#x5341;&#x4E00;&quot;); user1.setPassword(&quot;12121&quot;); User user2 = new User(); user2.setId(2); user2.setName(&quot;&#x5341;&#x4E8C;&quot;); user2.setPassword(&quot;21212&quot;); User user3 = new User(); user3.setId(3); user3.setName(&quot;&#x5341;&#x4E09;&quot;); user3.setPassword(&quot;31313&quot;); users.add(user1); users.add(user2); users.add(user3); return users; } }&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x5206;&#x522B;&#x5B9E;&#x73B0;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#x5E76;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x6620;&#x5C04;&#x6765;&#x5904;&#x7406;&#x524D;&#x7AEF;&#x53D1;&#x9001;&#x7684;&#x5F02;&#x6B65;&#x8BF7;&#x6C42;&#xFF0C;test1() &#x65B9;&#x6CD5;&#x4E2D;&#x4F1A;&#x6839;&#x636E;&#x524D;&#x7AEF;&#x4F20;&#x5165;&#x7684; info &#x5B57;&#x6BB5;&#x503C;&#x91CD;&#x65B0;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x4E3A; GET&#xFF0C;test2() &#x65B9;&#x6CD5;&#x4E2D;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x5BF9;&#x8C61;&#x7ED9;&#x524D;&#x7AEF;&#xFF0C;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x4E3A; GET&#x3002; &#x5728;&#x524D;&#x540E;&#x7AEF;&#x5BF9;&#x63A5;&#x65F6;&#x9700;&#x8981;&#x786E;&#x5B9A;&#x597D;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x3001;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x3001;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x683C;&#x5F0F;&#x7B49;&#xFF0C;&#x6BD4;&#x5982;&#x540E;&#x7AEF;&#x5B9A;&#x4E49;&#x7684;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; GET&#xFF0C;&#x90A3;&#x4E48;&#x5728; Ajax &#x8BBE;&#x7F6E;&#x65F6;&#x4E00;&#x5B9A;&#x8981;&#x5C06; type &#x8BBE;&#x7F6E;&#x4E3A; GET&#xFF0C;&#x4E0D;&#x7136;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x7684;&#x53D1;&#x8D77;&#x8BF7;&#x6C42;&#xFF0C;test1() &#x65B9;&#x6CD5;&#x548C; test2() &#x65B9;&#x6CD5;&#x4E2D;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x683C;&#x5F0F;&#x4E5F;&#x4E0D;&#x540C;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x524D;&#x7AEF;&#x8FDB;&#x884C; Ajax &#x8C03;&#x7528;&#x65F6; dataType &#x4E5F;&#x9700;&#x8981;&#x6CE8;&#x610F;&#xFF0C;&#x6BD4;&#x5982;&#x672C;&#x6848;&#x4F8B;&#x4E2D;&#x5206;&#x522B;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#x548C;&#x96C6;&#x5408;&#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x4E48;&#x5728; Ajax &#x8BF7;&#x6C42;&#x4E2D;&#x9700;&#x8981;&#x5C06; dataType &#x5206;&#x522B;&#x8BBE;&#x7F6E;&#x4E3A; text &#x548C; json&#xFF0C;&#x4E0D;&#x7136;&#x524D;&#x7AEF;&#x5728; Ajax &#x8C03;&#x7528;&#x540E;&#x4F1A;&#x76F4;&#x63A5;&#x8FDB;&#x5165; error &#x56DE;&#x8C03;&#x4E2D;&#xFF0C;&#x800C;&#x4E0D;&#x662F; success &#x6210;&#x529F;&#x56DE;&#x8C03;&#x4E2D;&#x3002; &#x4EE3;&#x7801;&#x6548;&#x679C;&#x6D4B;&#x8BD5;&#x7F16;&#x7801;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x6253;&#x5F00; Web &#x670D;&#x52A1;&#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x5730;&#x5740;&#x6253;&#x5F00;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/ajax-test.html&#xFF0C;&#x4E4B;&#x540E;&#x5206;&#x522B;&#x8FDB;&#x884C;&#x4E24;&#x4E2A; Ajax &#x65B9;&#x6CD5;&#x6D4B;&#x8BD5;&#xFF0C;&#x7ED3;&#x679C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A; &#x524D;&#x7AEF;&#x901A;&#x8FC7; Ajax &#x6280;&#x672F;&#x8C03;&#x7528;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5E76;&#x66F4;&#x65B0;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x5185;&#x5BB9;&#x7684;&#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x5B8C;&#x6210;&#x3002;&#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x5BF9; Ajax &#x6280;&#x672F;&#x8FDB;&#x884C;&#x4E86;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x5B9E;&#x9645;&#x7684;&#x6848;&#x4F8B;&#x8BB2;&#x89E3;&#x4E86;&#x5982;&#x4F55;&#x5728;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#x4F7F;&#x7528;&#x8BE5;&#x6280;&#x672F;&#x8FDB;&#x884C;&#x529F;&#x80FD;&#x5B9E;&#x73B0;&#xFF0C;&#x540C;&#x5B66;&#x4EEC;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5728;&#x672C;&#x5730;&#x6216;&#x8005;&#x5B9E;&#x9A8C;&#x697C;&#x7684;&#x7EBF;&#x4E0A;&#x73AF;&#x5883;&#x4E2D;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002; &#x5728;&#x5B9E;&#x9645;&#x7684;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x867D;&#x7136;&#x4E5F;&#x4F1A;&#x4F7F;&#x7528; Ajax &#x6280;&#x672F;&#x8FDB;&#x884C;&#x63A5;&#x53E3;&#x8C03;&#x7528;&#x548C;&#x5F02;&#x6B65;&#x5237;&#x65B0;&#x9875;&#x9762;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x4E0E;&#x672C;&#x6848;&#x4F8B;&#x6709;&#x7565;&#x5FAE;&#x7684;&#x4E0D;&#x540C;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x5B9E;&#x9645;&#x7684;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#x4F1A;&#x5BF9;&#x63A5;&#x53E3;&#x89C4;&#x8303;&#x548C;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x89C4;&#x8303;&#x6709;&#x5F88;&#x5F3A;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x5E76;&#x4E0D;&#x50CF;&#x672C;&#x6848;&#x4F8B;&#x4E2D;&#x6240;&#x6F14;&#x793A;&#x7684;&#x8FD9;&#x4E48;&#x7B80;&#x5355;&#xFF0C;&#x6211;&#x4EEC;&#x4F1A;&#x5728;&#x4E0B;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#xFF0C;&#x672C;&#x6848;&#x4F8B;&#x65E8;&#x5728;&#x8BA9;&#x5927;&#x5BB6;&#x8BA4;&#x8BC6;&#x8BE5;&#x6280;&#x672F;&#x5E76;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x4F7F;&#x7528;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fspringboot-bo-ke-xi-tong-10-restful.html</url>
    <content type="text"><![CDATA[&#x5B9E;&#x9A8C;&#x4ECB;&#x7ECD;&#x5B9E;&#x9A8C;&#x5185;&#x5BB9;&#x5728;&#x5B9E;&#x9645;&#x7684;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x8FDB;&#x884C;&#x81F3;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x9636;&#x6BB5;&#x65F6;&#xFF0C;&#x540E;&#x7AEF;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x548C;&#x524D;&#x7AEF;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x90FD;&#x4F1A;&#x53C2;&#x4E0E;&#x5176;&#x4E2D;&#xFF0C;&#x6839;&#x636E;&#x5DF2;&#x5236;&#x5B9A;&#x7684;&#x89C4;&#x8303;&#x5BF9;&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x8BBE;&#x8BA1;&#x548C;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x7684;&#x7EA6;&#x5B9A;&#xFF08;&#x4E0D;&#x540C;&#x9879;&#x76EE;&#x7EC4;&#x89C4;&#x8303;&#x53EF;&#x80FD;&#x4E0D;&#x540C;&#xFF09;&#xFF0C;&#x4F46;&#x662F;&#x50CF;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x60C5;&#x51B5;&#x5E94;&#x8BE5;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#xFF0C;&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x4E0D;&#x4F1A;&#x4EC5;&#x4EC5;&#x53EA;&#x6709; GET &#x65B9;&#x5F0F;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x53CD;&#x800C;&#x4F1A;&#x6BD4;&#x8F83;&#x7EDF;&#x4E00;&#xFF0C;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x4E00;&#x822C;&#x4F1A;&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#x3002;&#x672C;&#x7BC7;&#x6587;&#x7AE0;&#x5C06;&#x4F1A;&#x5BF9; api &#x8BBE;&#x8BA1;&#x53CA;&#x6570;&#x636E;&#x89C4;&#x8303;&#x8FDB;&#x884C;&#x7B80;&#x5355;&#x7684;&#x4ECB;&#x7ECD;&#xFF0C;&#x4E4B;&#x540E;&#x7ED3;&#x5408;&#x5B9E;&#x9645;&#x6848;&#x4F8B;&#x5BF9;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x8FDB;&#x884C;&#x7F16;&#x7801;&#x5B9E;&#x73B0;&#x3002; &#x5B9E;&#x9A8C;&#x77E5;&#x8BC6;&#x70B9; RESTful api &#x8BBE;&#x8BA1;&#x89C4;&#x8303; RESTful api &#x6570;&#x636E;&#x89C4;&#x8303; Ajax + RESTful api &#x524D;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x5B9E;&#x8DF5; &#x5B9E;&#x9A8C;&#x73AF;&#x5883; JDK 1.8 &#x6216;&#x8005;&#x66F4;&#x9AD8;&#x7248;&#x672C; Spring Boot 2.1.0-RELEASE Maven 3+ &#x4EE3;&#x7801;&#x83B7;&#x53D6;&#x5728;&#x5B66;&#x4E60;&#x524D;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x83B7;&#x53D6;&#x6E90;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x7BC7;&#x5E45;&#x539F;&#x56E0;&#xFF0C;&#x53EA;&#x4F1A;&#x622A;&#x53D6;&#x90E8;&#x5206;&#x5173;&#x952E;&#x4EE3;&#x7801;&#x3002; wget https://labfile.oss.aliyuncs.com/courses/1367/spring-boot-restful-api.zip unzip spring-boot-restful-api.zip cd spring-boot-restful-apiRESTful api &#x8BBE;&#x8BA1;&#x89C4;&#x8303;&#x76EE;&#x524D;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;&#x4E00;&#x5957;&#x63A5;&#x53E3;&#x89C4;&#x8303;&#x5C31;&#x662F; RESTful api&#xFF0C;REST&#xFF08;Representational State Transfer&#xFF09;,&#x4E2D;&#x6587;&#x7FFB;&#x8BD1;&#x53EB;&#x201D;&#x8868;&#x8FF0;&#x6027;&#x72B6;&#x6001;&#x8F6C;&#x79FB;&#x201D;,&#x5B83;&#x9996;&#x6B21;&#x51FA;&#x73B0;&#x5728; 2000 &#x5E74; Roy Fielding &#x7684;&#x535A;&#x58EB;&#x8BBA;&#x6587;&#x4E2D;&#xFF0C;Roy Fielding &#x662F; HTTP &#x89C4;&#x8303;&#x7684;&#x4E3B;&#x8981;&#x7F16;&#x5199;&#x8005;&#x4E4B;&#x4E00;&#x3002;&#x4ED6;&#x5728;&#x8BBA;&#x6587;&#x4E2D;&#x63D0;&#x5230;&#xFF1A;&#x201D;&#x6211;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x5199;&#x4F5C;&#x76EE;&#x7684;&#xFF0C;&#x5C31;&#x662F;&#x60F3;&#x5728;&#x7B26;&#x5408;&#x67B6;&#x6784;&#x539F;&#x7406;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x7406;&#x89E3;&#x548C;&#x8BC4;&#x4F30;&#x4EE5;&#x7F51;&#x7EDC;&#x4E3A;&#x57FA;&#x7840;&#x7684;&#x5E94;&#x7528;&#x8F6F;&#x4EF6;&#x7684;&#x67B6;&#x6784;&#x8BBE;&#x8BA1;&#xFF0C;&#x5F97;&#x5230;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x5F3A;&#x3001;&#x6027;&#x80FD;&#x597D;&#x3001;&#x9002;&#x5B9C;&#x901A;&#x4FE1;&#x7684;&#x67B6;&#x6784;&#x3002;REST &#x6307;&#x7684;&#x662F;&#x4E00;&#x7EC4;&#x67B6;&#x6784;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x548C;&#x539F;&#x5219;&#x3002;&#x201D;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x67B6;&#x6784;&#x7B26;&#x5408; REST &#x7684;&#x7EA6;&#x675F;&#x6761;&#x4EF6;&#x548C;&#x539F;&#x5219;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x79F0;&#x5B83;&#x4E3A; RESTful &#x67B6;&#x6784;&#xFF0C;REST &#x5176;&#x5B9E;&#x5E76;&#x6CA1;&#x6709;&#x521B;&#x9020;&#x65B0;&#x7684;&#x6280;&#x672F;&#x3001;&#x7EC4;&#x4EF6;&#x6216;&#x670D;&#x52A1;&#xFF0C;&#x5728;&#x6211;&#x7684;&#x7406;&#x89E3;&#x4E2D;&#xFF0C;&#x5B83;&#x66F4;&#x5E94;&#x8BE5;&#x662F;&#x4E00;&#x79CD;&#x7406;&#x5FF5;&#x3001;&#x4E00;&#x79CD;&#x601D;&#x60F3;&#xFF0C;&#x5229;&#x7528; Web &#x7684;&#x73B0;&#x6709;&#x7279;&#x5F81;&#x548C;&#x80FD;&#x529B;&#xFF0C;&#x66F4;&#x597D;&#x5730;&#x8BE0;&#x91CA;&#x548C;&#x4F53;&#x73B0;&#x73B0;&#x6709; web &#x6807;&#x51C6;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x51C6;&#x5219;&#x548C;&#x7EA6;&#x675F;&#x3002; &#x57FA;&#x672C;&#x539F;&#x5219;&#x4E00;&#xFF1A;URI &#x5E94;&#x8BE5;&#x5C06; api &#x90E8;&#x7F72;&#x5728;&#x4E13;&#x7528;&#x57DF;&#x540D;&#x4E4B;&#x4E0B;&#x3002; URL &#x4E2D;&#x5C3D;&#x91CF;&#x4E0D;&#x7528;&#x5927;&#x5199;&#x3002; URI &#x4E2D;&#x4E0D;&#x5E94;&#x8BE5;&#x51FA;&#x73B0;&#x52A8;&#x8BCD;&#xFF0C;&#x52A8;&#x8BCD;&#x5E94;&#x8BE5;&#x4F7F;&#x7528; HTTP &#x65B9;&#x6CD5;&#x8868;&#x793A;&#x4F46;&#x662F;&#x5982;&#x679C;&#x65E0;&#x6CD5;&#x8868;&#x793A;&#xFF0C;&#x4E5F;&#x53EF;&#x4F7F;&#x7528;&#x52A8;&#x8BCD;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;search &#x6CA1;&#x6709;&#x5BF9;&#x5E94;&#x7684; HTTP &#x65B9;&#x6CD5;,&#x53EF;&#x4EE5;&#x5728;&#x8DEF;&#x5F84;&#x4E2D;&#x4F7F;&#x7528; search&#xFF0C;&#x66F4;&#x52A0;&#x76F4;&#x89C2;&#x3002; URI &#x4E2D;&#x7684;&#x540D;&#x8BCD;&#x8868;&#x793A;&#x8D44;&#x6E90;&#x96C6;&#x5408;&#xFF0C;&#x4F7F;&#x7528;&#x590D;&#x6570;&#x5F62;&#x5F0F;&#x3002; URI &#x53EF;&#x4EE5;&#x5305;&#x542B; queryString&#xFF0C;&#x907F;&#x514D;&#x5C42;&#x7EA7;&#x8FC7;&#x6DF1;&#x3002; &#x57FA;&#x672C;&#x539F;&#x5219;&#x4E8C;&#xFF1A;HTTP &#x52A8;&#x8BCD;&#x5BF9;&#x4E8E;&#x8D44;&#x6E90;&#x7684;&#x5177;&#x4F53;&#x64CD;&#x4F5C;&#x7C7B;&#x578B;&#xFF0C;&#x7531; HTTP &#x52A8;&#x8BCD;&#x8868;&#x793A;&#xFF0C;&#x5E38;&#x7528;&#x7684; HTTP &#x52A8;&#x8BCD;&#x6709;&#x4E0B;&#x9762;&#x4E94;&#x4E2A;&#xFF1A; GET&#xFF1A;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x53D6;&#x51FA;&#x8D44;&#x6E90;&#xFF08;&#x4E00;&#x9879;&#x6216;&#x591A;&#x9879;&#xFF09;&#x3002; POST&#xFF1A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x8D44;&#x6E90;&#x3002; PUT&#xFF1A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x66F4;&#x65B0;&#x8D44;&#x6E90;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x6539;&#x53D8;&#x540E;&#x7684;&#x5B8C;&#x6574;&#x8D44;&#x6E90;&#xFF09;&#x3002; PATCH&#xFF1A;&#x5728;&#x670D;&#x52A1;&#x5668;&#x66F4;&#x65B0;&#x8D44;&#x6E90;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x6539;&#x53D8;&#x7684;&#x5C5E;&#x6027;&#xFF09;&#x3002; DELETE&#xFF1A;&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x5220;&#x9664;&#x8D44;&#x6E90;&#x3002; &#x8FD8;&#x6709;&#x4E24;&#x4E2A;&#x4E0D;&#x5E38;&#x7528;&#x7684; HTTP &#x52A8;&#x8BCD;&#xFF1A; HEAD&#xFF1A;&#x83B7;&#x53D6;&#x8D44;&#x6E90;&#x7684;&#x5143;&#x6570;&#x636E;&#x3002; OPTIONS&#xFF1A;&#x83B7;&#x53D6;&#x4FE1;&#x606F;&#xFF0C;&#x5173;&#x4E8E;&#x8D44;&#x6E90;&#x7684;&#x54EA;&#x4E9B;&#x5C5E;&#x6027;&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x53EF;&#x4EE5;&#x6539;&#x53D8;&#x7684;&#x3002; &#x4F8B;&#x5B50;&#xFF1A; &#x7528;&#x6237;&#x7BA1;&#x7406;&#x6A21;&#x5757;&#xFF1A; 1. [POST] http&#xFF1A;//lou.springboot.tech/users // &#x65B0;&#x589E; 2. [GET] http&#xFF1A;//lou.springboot.tech/users?page=1&amp;rows=10 // &#x5217;&#x8868;&#x67E5;&#x8BE2; 3. [PUT] http&#xFF1A;//lou.springboot.tech/users/12 // &#x4FEE;&#x6539; 4. [DELETE] http&#xFF1A;//lou.springboot.tech/users/12 // &#x5220;&#x9664;&#x57FA;&#x672C;&#x539F;&#x5219;&#x4E09;&#xFF1A;&#x72B6;&#x6001;&#x7801;&#xFF08;Status Codes&#xFF09;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x9700;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;&#x7684;&#x72B6;&#x6001;&#x7801;&#x548C;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#x3002; &#x5E38;&#x89C1;&#x72B6;&#x6001;&#x7801;(&#x72B6;&#x6001;&#x7801;&#x53EF;&#x81EA;&#x884C;&#x8BBE;&#x8BA1;&#xFF0C;&#x53EA;&#x9700;&#x5F00;&#x53D1;&#x8005;&#x7EA6;&#x5B9A;&#x597D;&#x89C4;&#x8303;&#x5373;&#x53EF;)&#xFF1A; 200&#xFF1A;SUCCESS &#x8BF7;&#x6C42;&#x6210;&#x529F;&#x3002; 401&#xFF1A;Unauthorized &#x65E0;&#x6743;&#x9650;&#x3002; 403&#xFF1A;Forbidden &#x7981;&#x6B62;&#x8BBF;&#x95EE;&#x3002; 410&#xFF1A;Gone &#x65E0;&#x6B64;&#x8D44;&#x6E90;&#x3002; 500&#xFF1A;INTERNAL SERVER ERROR &#x670D;&#x52A1;&#x5668;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x3002; &#x2026; &#x57FA;&#x672C;&#x539F;&#x5219;&#x56DB;&#xFF1A;&#x9519;&#x8BEF;&#x5904;&#x7406;&#x5982;&#x679C;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x6216;&#x8005;&#x8D44;&#x6E90;&#x4E0D;&#x53EF;&#x8FBE;&#xFF0C;&#x5E94;&#x8BE5;&#x5411;&#x7528;&#x6237;&#x8FD4;&#x56DE;&#x51FA;&#x9519;&#x4FE1;&#x606F;&#x3002; &#x57FA;&#x672C;&#x539F;&#x5219;&#x4E94;&#xFF1A;&#x670D;&#x52A1;&#x7AEF;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x540E;&#x7AEF;&#x7684;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x6700;&#x597D;&#x4F7F;&#x7528; JSON &#x683C;&#x5F0F;&#xFF0C;&#x4E14;&#x683C;&#x5F0F;&#x7EDF;&#x4E00;&#x3002; &#x57FA;&#x672C;&#x539F;&#x5219;&#x516D;&#xFF1A;&#x7248;&#x672C;&#x63A7;&#x5236; &#x89C4;&#x8303;&#x7684; api &#x5E94;&#x8BE5;&#x5305;&#x542B;&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x5728; RESTful api &#x4E2D;&#xFF0C;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5305;&#x542B;&#x7248;&#x672C;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x653E;&#x5230; url &#x4E2D;&#xFF0C;&#x5982;&#xFF1A; [GET] http&#xFF1A;//lou.springboot.tech/v1/users?page=1&amp;rows=10 [PUT] http&#xFF1A;//lou.springboot.tech/v1/users/12 &#x53E6;&#x4E00;&#x79CD;&#x505A;&#x6CD5;&#x662F;&#xFF0C;&#x4F7F;&#x7528; HTTP header &#x4E2D;&#x7684; accept &#x6765;&#x4F20;&#x9012;&#x7248;&#x672C;&#x4FE1;&#x606F;&#x3002; &#x4EE5;&#x4E0B;&#x4E3A;&#x63A5;&#x53E3;&#x5B89;&#x5168;&#x539F;&#x5219;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A; &#x5B89;&#x5168;&#x539F;&#x5219;&#x4E00;&#xFF1A;Authentication &#x548C; PermissionAuthentication &#x6307;&#x7528;&#x6237;&#x8BA4;&#x8BC1;&#xFF0C;Permission &#x6307;&#x6743;&#x9650;&#x673A;&#x5236;&#xFF0C;&#x8FD9;&#x4E24;&#x70B9;&#x662F;&#x4F7F; RESTful api &#x5F3A;&#x5927;&#x3001;&#x7075;&#x6D3B;&#x548C;&#x5B89;&#x5168;&#x7684;&#x57FA;&#x672C;&#x4FDD;&#x969C;&#x3002; &#x5E38;&#x7528;&#x7684;&#x8BA4;&#x8BC1;&#x673A;&#x5236;&#x662F; Basic Auth &#x548C; OAuth&#xFF0C;RESTful api &#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x9664;&#x975E; api &#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x4E14;&#x6CA1;&#x6709;&#x6F5C;&#x5728;&#x7684;&#x5B89;&#x5168;&#x6027;&#x95EE;&#x9898;&#xFF0C;&#x5426;&#x5219;&#xFF0C;&#x8BA4;&#x8BC1;&#x673A;&#x5236;&#x662F;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5E76;&#x5E94;&#x7528;&#x5230; api &#x4E2D;&#x53BB;&#x3002;Basic Auth &#x975E;&#x5E38;&#x7B80;&#x5355;&#xFF0C;&#x5F88;&#x591A;&#x6846;&#x67B6;&#x90FD;&#x96C6;&#x6210;&#x4E86; Basic Auth &#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x81EA;&#x5DF1;&#x5199;&#x4E00;&#x4E2A;&#x4E5F;&#x80FD;&#x5F88;&#x5FEB;&#x641E;&#x5B9A;&#xFF0C;OAuth &#x76EE;&#x524D;&#x5DF2;&#x7ECF;&#x6210;&#x4E3A;&#x4F01;&#x4E1A;&#x7EA7;&#x670D;&#x52A1;&#x7684;&#x6807;&#x914D;&#xFF0C;&#x5176;&#x76F8;&#x5173;&#x7684;&#x5F00;&#x6E90;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#x975E;&#x5E38;&#x4E30;&#x5BCC;&#x3002; &#x5B89;&#x5168;&#x539F;&#x5219;&#x4E8C;&#xFF1A;CORSCORS &#x5373; Cross-origin resource sharing&#xFF0C;&#x5728; RESTful api &#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x4E3A; js &#x670D;&#x52A1;&#x7684;&#xFF0C;&#x89E3;&#x51B3;&#x8C03;&#x7528; RESTful api &#x65F6;&#x7684;&#x8DE8;&#x57DF;&#x95EE;&#x9898;&#x3002; &#x7531;&#x4E8E;&#x56FA;&#x6709;&#x7684;&#x5B89;&#x5168;&#x673A;&#x5236;&#xFF0C;js &#x7684;&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;&#x65F6;&#x662F;&#x65E0;&#x6CD5;&#x88AB;&#x670D;&#x52A1;&#x5668;&#x6210;&#x529F;&#x54CD;&#x5E94;&#x7684;&#x3002;&#x73B0;&#x5728;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x65E5;&#x76CA;&#x6210;&#x4E3A; web &#x5F00;&#x53D1;&#x4E3B;&#x6D41;&#x65B9;&#x5F0F;&#x7684;&#x5927;&#x8D8B;&#x52BF;&#x4E0B;&#xFF0C;&#x540E;&#x53F0;&#x9010;&#x6E10;&#x8D8B;&#x5411;&#x6307;&#x63D0;&#x4F9B; api &#x670D;&#x52A1;&#xFF0C;&#x4E3A;&#x5404;&#x5BA2;&#x6237;&#x7AEF;&#x63D0;&#x4F9B;&#x6570;&#x636E;&#x53CA;&#x76F8;&#x5173;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x7F51;&#x7AD9;&#x7684;&#x5F00;&#x53D1;&#x5168;&#x90E8;&#x4EA4;&#x7ED9;&#x524D;&#x7AEF;&#x641E;&#x5B9A;&#xFF0C;&#x7F51;&#x7AD9;&#x548C; api &#x670D;&#x52A1;&#x5F88;&#x5C11;&#x90E8;&#x7F72;&#x5728;&#x540C;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5E76;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;js &#x7684;&#x8DE8;&#x57DF;&#x8BF7;&#x6C42;&#x65F6;&#x666E;&#x904D;&#x5B58;&#x5728;&#x7684;&#xFF0C;&#x5F00;&#x53D1; RESTful api &#x65F6;&#xFF0C;&#x901A;&#x5E38;&#x90FD;&#x8981;&#x8003;&#x8651;&#x5230; CORS &#x529F;&#x80FD;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE5;&#x4FBF; js &#x80FD;&#x6B63;&#x5E38;&#x4F7F;&#x7528; api&#x3002; &#x76EE;&#x524D;&#x5404;&#x4E3B;&#x6D41; web &#x5F00;&#x53D1;&#x8BED;&#x8A00;&#x90FD;&#x6709;&#x5F88;&#x591A;&#x4F18;&#x79C0;&#x7684;&#x5B9E;&#x73B0; CORS &#x7684;&#x5F00;&#x6E90;&#x5E93;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x5F00;&#x53D1; RESTful api &#x65F6;&#xFF0C;&#x8981;&#x6CE8;&#x610F; CORS &#x529F;&#x80FD;&#x7684;&#x5B9E;&#x73B0;&#xFF0C;&#x76F4;&#x63A5;&#x62FF;&#x73B0;&#x6709;&#x7684;&#x8F6E;&#x5B50;&#x6765;&#x7528;&#x5373;&#x53EF;&#x3002; Ajax + RESTful api &#x524D;&#x540E;&#x7AEF;&#x4EA4;&#x4E92;&#x5B9E;&#x8DF5;&#x6CE8;&#x610F;&#xFF1A;&#x9879;&#x76EE;&#x7EDF;&#x4E00;&#x521B;&#x5EFA;&#x5728; /home/project/lou-springboot &#x76EE;&#x5F55;&#x4E0B;&#x3002; &#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5C01;&#x88C5;&#x5728;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86; Ajax &#x6280;&#x672F;&#x8FDB;&#x884C;&#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5E76;&#x4E0D;&#x7EDF;&#x4E00;&#xFF0C;&#x8FD9;&#x5728;&#x5B9E;&#x9645;&#x7684;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x5DE5;&#x4F5C;&#x4E2D;&#x4E00;&#x822C;&#x4E0D;&#x4F1A;&#x51FA;&#x73B0;&#xFF0C;&#x56E0;&#x6B64;&#x6211;&#x4EEC;&#x9996;&#x5148;&#x5C06;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x62BD;&#x8C61;&#x5E76;&#x5C01;&#x88C5;&#x3002; &#x65B0;&#x5EFA; common &#x5305;&#xFF0C;&#x5E76;&#x5C01;&#x88C5; Result &#x7ED3;&#x679C;&#x7C7B;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#xFF1A;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E; com.lou.springboot.common&#xFF09;&#xFF1A; package com.lou.springboot.common; import java.io.Serializable; public class Result&lt;T&gt; implements Serializable { private static final long serialVersionUID = 1L; //&#x4E1A;&#x52A1;&#x7801;&#xFF0C;&#x6BD4;&#x5982;&#x6210;&#x529F;&#x3001;&#x5931;&#x8D25;&#x3001;&#x6743;&#x9650;&#x4E0D;&#x8DB3;&#x7B49; code&#xFF0C;&#x53EF;&#x81EA;&#x884C;&#x5B9A;&#x4E49; private int resultCode; //&#x8FD4;&#x56DE;&#x4FE1;&#x606F;&#xFF0C;&#x540E;&#x7AEF;&#x5728;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x540E;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x4E00;&#x4E2A;&#x63D0;&#x793A;&#x4FE1;&#x606F;&#xFF0C;&#x53EF;&#x81EA;&#x884C;&#x5B9A;&#x4E49; private String message; //&#x6570;&#x636E;&#x7ED3;&#x679C;&#xFF0C;&#x6CDB;&#x578B;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x5217;&#x8868;&#x3001;&#x5355;&#x4E2A;&#x5BF9;&#x8C61;&#x3001;&#x6570;&#x5B57;&#x3001;&#x5E03;&#x5C14;&#x503C;&#x7B49; private T data; public Result() { } public Result(int resultCode, String message) { this.resultCode = resultCode; this.message = message; } // &#x7701;&#x7565;&#x90E8;&#x5206;&#x4EE3;&#x7801; }&#x6BCF;&#x4E00;&#x6B21;&#x540E;&#x7AEF;&#x6570;&#x636E;&#x8FD4;&#x56DE;&#x90FD;&#x4F1A;&#x6839;&#x636E;&#x4EE5;&#x4E0A;&#x683C;&#x5F0F;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C01;&#x88C5;&#xFF0C;&#x5305;&#x62EC;&#x4E1A;&#x52A1;&#x7801;&#x3001;&#x8FD4;&#x56DE;&#x4FE1;&#x606F;&#x3001;&#x5B9E;&#x9645;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x679C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x50CF;&#x524D;&#x4E00;&#x4E2A;&#x5B9E;&#x9A8C;&#x4E2D;&#x7684;&#x4E0D;&#x786E;&#x5B9A;&#x683C;&#x5F0F;&#xFF0C;&#x524D;&#x7AEF;&#x63A5;&#x53D7;&#x5230;&#x8BE5;&#x7ED3;&#x679C;&#x540E;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x89E3;&#x6790;&#xFF0C;&#x5E76;&#x901A;&#x8FC7;&#x4E1A;&#x52A1;&#x7801;&#x8FDB;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x903B;&#x8F91;&#x64CD;&#x4F5C;&#xFF0C;&#x4E4B;&#x540E;&#x518D;&#x5C06; data &#x4E2D;&#x7684;&#x6570;&#x636E;&#x83B7;&#x53D6;&#x5230;&#x5E76;&#x8FDB;&#x884C;&#x9875;&#x9762;&#x6E32;&#x67D3;&#x6216;&#x8005;&#x8FDB;&#x884C;&#x4FE1;&#x606F;&#x63D0;&#x793A;&#x3002; &#x5B9E;&#x9645;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x683C;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A; &#x5217;&#x8868;&#x6570;&#x636E; { &quot;resultCode&quot;: 200, &quot;message&quot;: &quot;SUCCESS&quot;, &quot;data&quot;: [{ &quot;id&quot;: 2, &quot;name&quot;: &quot;user1&quot;, &quot;password&quot;: &quot;123456&quot; }, { &quot;id&quot;: 1, &quot;name&quot;: &quot;13&quot;, &quot;password&quot;: &quot;12345&quot; }] } &#x5355;&#x6761;&#x6570;&#x636E; { &quot;resultCode&quot;: 200, &quot;message&quot;: &quot;SUCCESS&quot;, &quot;data&quot;: true }&#x5982;&#x4E0A;&#x4E24;&#x4E2A;&#x5206;&#x522B;&#x662F;&#x5217;&#x8868;&#x6570;&#x636E;&#x548C;&#x5355;&#x6761;&#x6570;&#x636E;&#x7684;&#x8FD4;&#x56DE;&#xFF0C;&#x540E;&#x7AEF;&#x8FDB;&#x884C;&#x4E1A;&#x52A1;&#x5904;&#x7406;&#x540E;&#x5C06;&#x4F1A;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#x4E00;&#x4E32; json &#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#xFF0C;resultCode &#x7B49;&#x4E8E; 200 &#x8868;&#x793A;&#x6570;&#x636E;&#x8BF7;&#x6C42;&#x6210;&#x529F;&#xFF0C;&#x8BE5;&#x5B57;&#x6BB5;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5B9A;&#x4E49;&#xFF0C;&#x6BD4;&#x5982; 0&#x3001;1001&#x3001;500 &#x7B49;&#x7B49;&#xFF0C;message &#x503C;&#x4E3A; SUCCESS&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5B9A;&#x4E49;&#x8FD4;&#x56DE;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;&#x201C;&#x83B7;&#x53D6;&#x6210;&#x529F;&#x201D;&#x3001;&#x201C;&#x5217;&#x8868;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x6210;&#x529F;&#x201D;&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x9700;&#x8981;&#x4E0E;&#x524D;&#x7AEF;&#x7EA6;&#x5B9A;&#x597D;&#xFF0C;&#x4E00;&#x4E2A;&#x7801;&#x53EA;&#x8868;&#x793A;&#x4E00;&#x79CD;&#x542B;&#x4E49;&#xFF0C;&#x800C; data &#x4E2D;&#x7684;&#x6570;&#x636E;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x3001;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x4E32;&#x3001;&#x6570;&#x5B57;&#x7B49;&#x7C7B;&#x578B;&#xFF0C;&#x6839;&#x636E;&#x4E0D;&#x540C;&#x7684;&#x4E1A;&#x52A1;&#x8FD4;&#x56DE;&#x4E0D;&#x540C;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x5B9E;&#x8DF5;&#x5185;&#x5BB9;&#x91CC;&#x90FD;&#x4F1A;&#x4EE5;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x3002; &#x540E;&#x7AEF;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#x6211;&#x4EEC;&#x4F1A;&#x6309;&#x7167; api &#x89C4;&#x8303;&#x8FDB;&#x884C;&#x63A5;&#x53E3;&#x8BBE;&#x8BA1;&#x548C;&#x63A5;&#x53E3;&#x8C03;&#x7528;&#xFF0C;&#x4EE5;&#x5BF9; tb_user &#x8868;&#x8FDB;&#x884C;&#x589E;&#x5220;&#x6539;&#x67E5;&#x4E3A;&#x4F8B;&#x8FDB;&#x884C;&#x5B9E;&#x8DF5;&#xFF0C;&#x5728;com.lou.springboot.controller&#x4E0B;&#x65B0;&#x5EFA; ApiController &#x7C7B;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; package com.lou.springboot.controller; import com.lou.springboot.common.Result; import com.lou.springboot.common.ResultGenerator; import com.lou.springboot.entity.User; import org.springframework.stereotype.Controller; import org.springframework.util.StringUtils; import org.springframework.web.bind.annotation.*; import java.util.*; /** * @author 13 * @qq&#x4EA4;&#x6D41;&#x7FA4; 796794009 * @email 2449207463@qq.com * @link http://13blog.site */ @Controller @RequestMapping(&quot;/api&quot;) public class ApiController { static Map&lt;Integer, User&gt; usersMap = Collections.synchronizedMap(new HashMap&lt;Integer, User&gt;()); // &#x521D;&#x59CB;&#x5316; usersMap static { User user = new User(); user.setId(2); user.setName(&quot;user1&quot;); user.setPassword(&quot;123456&quot;); User user2 = new User(); user2.setId(5); user2.setName(&quot;13-5&quot;); user2.setPassword(&quot;4&quot;); User user3 = new User(); user3.setId(6); user3.setName(&quot;12&quot;); user3.setPassword(&quot;123&quot;); usersMap.put(2, user); usersMap.put(5, user2); usersMap.put(6, user3); } // &#x67E5;&#x8BE2;&#x4E00;&#x6761;&#x8BB0;&#x5F55; @RequestMapping(value = &quot;/users/{id}&quot;, method = RequestMethod.GET) @ResponseBody public Result&lt;User&gt; getOne(@PathVariable(&quot;id&quot;) Integer id) { if (id == null || id &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x7F3A;&#x5C11;&#x53C2;&#x6570;&quot;); } User user = usersMap.get(id); if (user == null) { return ResultGenerator.genFailResult(&quot;&#x65E0;&#x6B64;&#x6570;&#x636E;&quot;); } return ResultGenerator.genSuccessResult(user); } // &#x67E5;&#x8BE2;&#x6240;&#x6709;&#x8BB0;&#x5F55; @RequestMapping(value = &quot;/users&quot;, method = RequestMethod.GET) @ResponseBody public Result&lt;List&lt;User&gt;&gt; queryAll() { List&lt;User&gt; users = new ArrayList&lt;User&gt;(usersMap.values()); return ResultGenerator.genSuccessResult(users); } // &#x65B0;&#x589E;&#x4E00;&#x6761;&#x8BB0;&#x5F55; @RequestMapping(value = &quot;/users&quot;, method = RequestMethod.POST) @ResponseBody public Result&lt;Boolean&gt; insert(@RequestBody User user) { // &#x53C2;&#x6570;&#x9A8C;&#x8BC1; if (StringUtils.isEmpty(user.getId()) || StringUtils.isEmpty(user.getName()) || StringUtils.isEmpty(user.getPassword())) { return ResultGenerator.genFailResult(&quot;&#x7F3A;&#x5C11;&#x53C2;&#x6570;&quot;); } if (usersMap.containsKey(user.getId())) { return ResultGenerator.genFailResult(&quot;&#x91CD;&#x590D;&#x7684;id&#x5B57;&#x6BB5;&quot;); } usersMap.put(user.getId(), user); return ResultGenerator.genSuccessResult(true); } // &#x4FEE;&#x6539;&#x4E00;&#x6761;&#x8BB0;&#x5F55; @RequestMapping(value = &quot;/users&quot;, method = RequestMethod.PUT) @ResponseBody public Result&lt;Boolean&gt; update(@RequestBody User tempUser) { //&#x53C2;&#x6570;&#x9A8C;&#x8BC1; if (tempUser.getId() == null || tempUser.getId() &lt; 1 || StringUtils.isEmpty(tempUser.getName()) || StringUtils.isEmpty(tempUser.getPassword())) { return ResultGenerator.genFailResult(&quot;&#x7F3A;&#x5C11;&#x53C2;&#x6570;&quot;); } //&#x5B9E;&#x4F53;&#x9A8C;&#x8BC1;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x4E0D;&#x7EE7;&#x7EED;&#x4FEE;&#x6539;&#x64CD;&#x4F5C; User user = usersMap.get(tempUser.getId()); if (user == null) { return ResultGenerator.genFailResult(&quot;&#x53C2;&#x6570;&#x5F02;&#x5E38;&quot;); } user.setName(tempUser.getName()); user.setPassword(tempUser.getPassword()); usersMap.put(tempUser.getId(), tempUser); return ResultGenerator.genSuccessResult(true); } // &#x5220;&#x9664;&#x4E00;&#x6761;&#x8BB0;&#x5F55; @RequestMapping(value = &quot;/users/{id}&quot;, method = RequestMethod.DELETE) @ResponseBody public Result&lt;Boolean&gt; delete(@PathVariable(&quot;id&quot;) Integer id) { if (id == null || id &lt; 1) { return ResultGenerator.genFailResult(&quot;&#x7F3A;&#x5C11;&#x53C2;&#x6570;&quot;); } usersMap.remove(id); return ResultGenerator.genSuccessResult(true); } }&#x6839;&#x636E;&#x524D;&#x7AEF;&#x4E0D;&#x540C;&#x7684;&#x8D44;&#x6E90;&#x8BF7;&#x6C42;&#xFF0C;&#x6211;&#x4EEC;&#x6309;&#x7167;&#x524D;&#x6587;&#x4E2D; HTTP &#x52A8;&#x8BCD;&#x7684;&#x8981;&#x6C42;&#x5BF9;&#x63A5;&#x53E3;&#x7684;&#x8BF7;&#x6C42;&#x7C7B;&#x578B;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF0C;&#x7528;&#x6237;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x65B9;&#x6CD5;&#x4F7F;&#x7528; GET &#x8BF7;&#x6C42;&#xFF0C;&#x7528;&#x6237;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5; &#x4F7F;&#x7528; POST &#x8BF7;&#x6C42;&#xFF0C;&#x5BF9;&#x5E94;&#x7684;&#x4FEE;&#x6539;&#x548C;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x4F7F;&#x7528; PUT &#x548C; DELETE &#x8BF7;&#x6C42;&#xFF0C;&#x540C;&#x65F6;&#x5BF9;&#x4E8E; api &#x7684;&#x8BF7;&#x6C42;&#x8DEF;&#x5F84;&#x4E5F;&#x6309;&#x7167;&#x8BBE;&#x8BA1;&#x89C4;&#x8303;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#xFF0C;&#x867D;&#x7136;&#x6709;&#x4E9B;&#x6620;&#x5C04;&#x8DEF;&#x5F84;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x8FDB;&#x884C;&#x533A;&#x5206;&#x3002; &#x6BD4;&#x5982;&#xFF1A;&#x540C;&#x6837;&#x662F; /users &#x8DEF;&#x5F84;&#xFF0C;&#x5982;&#x679C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; POST &#x5219;&#x8868;&#x793A;&#x6DFB;&#x52A0;&#x8D44;&#x6E90;&#x4F1A;&#x8C03;&#x7528; insert() &#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; PUT &#x65F6;&#x5219;&#x8868;&#x793A;&#x4FEE;&#x6539;&#x8D44;&#x6E90;&#x4F1A;&#x8C03;&#x7528; update() &#x65B9;&#x6CD5;&#xFF0C;&#x8FD8;&#x6709; /users/{id} &#x8DEF;&#x5F84;&#xFF0C;&#x4F1A;&#x6839;&#x636E; GET &#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x548C; DELETE &#x8BF7;&#x6C42;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x533A;&#x5206;&#x8868;&#x793A;&#x83B7;&#x53D6;&#x5355;&#x4E2A;&#x8D44;&#x6E90;&#x548C;&#x5220;&#x9664;&#x5355;&#x4E2A;&#x8D44;&#x6E90;&#x3002; &#x540C;&#x65F6;&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x6211;&#x4EEC;&#x90FD;&#x7EDF;&#x4E00;&#x4F7F;&#x7528; Result &#x7C7B;&#x8FDB;&#x884C;&#x5305;&#x88C5;&#x4E4B;&#x540E;&#x518D;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x7AEF;&#xFF0C;&#x5E76;&#x4F7F;&#x7528; @ResponseBody &#x6CE8;&#x89E3;&#x5C06;&#x5176;&#x8F6C;&#x6362;&#x4E3A; json &#x683C;&#x5F0F;&#x3002; &#x524D;&#x7AEF;&#x9875;&#x9762;&#x548C; js &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x63A5;&#x53E3;&#x5B9A;&#x4E49;&#x5B8C;&#x6210;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x524D;&#x7AEF;&#x9875;&#x9762;&#x548C;&#x63A5;&#x53E3;&#x8C03;&#x7528;&#x903B;&#x8F91;&#x7684;&#x5B9E;&#x73B0;&#x4E86;&#xFF0C;&#x65B0;&#x5EFA; api-test.html&#xFF08;&#x6CE8;&#xFF1A;&#x4EE3;&#x7801;&#x4F4D;&#x4E8E;resources/static&#xFF09;&#xFF0C;&#x4EE3;&#x7801;&#x5982;&#x4E0B;&#xFF1A; &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;title&gt;lou.SpringBoot | api &#x8BF7;&#x6C42;&#x6D4B;&#x8BD5;&lt;/title&gt; &lt;/head&gt; &lt;body class=&quot;hold-transition login-page&quot;&gt; &lt;div style=&quot;width:720px;margin:7% auto&quot;&gt; &lt;div class=&quot;content&quot;&gt; &lt;div class=&quot;container-fluid&quot;&gt; &lt;div class=&quot;row&quot;&gt; &lt;div class=&quot;col-lg-6&quot;&gt; &lt;hr&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h5 class=&quot;m-0&quot;&gt;&#x8BE6;&#x60C5;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&lt;/h5&gt; &lt;/div&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;input id=&quot;queryId&quot; type=&quot;number&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;id&#x5B57;&#x6BB5;&quot;&gt; &lt;h6 class=&quot;card-title&quot;&gt;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;&lt;/h6&gt; &lt;p class=&quot;card-text&quot; id=&quot;result0&quot;&gt;&lt;/p&gt; &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; onclick=&quot;requestQuery()&quot;&gt;&#x53D1;&#x9001;&#x8BE6;&#x60C5;&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;hr&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h5 class=&quot;m-0&quot;&gt;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&lt;/h5&gt; &lt;/div&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;h6 class=&quot;card-title&quot;&gt;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;&lt;/h6&gt; &lt;p class=&quot;card-text&quot; id=&quot;result1&quot;&gt;&lt;/p&gt; &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; onclick=&quot;requestQueryList()&quot;&gt;&#x53D1;&#x9001;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x8BF7;&#x6C42;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;hr&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h5 class=&quot;m-0&quot;&gt;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&lt;/h5&gt; &lt;/div&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;input id=&quot;addId&quot; type=&quot;number&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;id&#x5B57;&#x6BB5;&quot;&gt; &lt;input id=&quot;addName&quot; type=&quot;text&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;name&#x5B57;&#x6BB5;&quot;&gt; &lt;input id=&quot;addPassword&quot; type=&quot;text&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;password&#x5B57;&#x6BB5;&quot;&gt; &lt;h6 class=&quot;card-title&quot;&gt;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;&lt;/h6&gt; &lt;p class=&quot;card-text&quot; id=&quot;result2&quot;&gt;&lt;/p&gt; &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; onclick=&quot;requestAdd()&quot;&gt;&#x53D1;&#x9001;&#x6DFB;&#x52A0;&#x8BF7;&#x6C42;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;hr&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h5 class=&quot;m-0&quot;&gt;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&lt;/h5&gt; &lt;/div&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;input id=&quot;updateId&quot; type=&quot;number&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;id&#x5B57;&#x6BB5;&quot;&gt; &lt;input id=&quot;updateName&quot; type=&quot;text&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;name&#x5B57;&#x6BB5;&quot;&gt; &lt;input id=&quot;updatePassword&quot; type=&quot;text&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;password&#x5B57;&#x6BB5;&quot;&gt; &lt;h6 class=&quot;card-title&quot;&gt;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;&lt;/h6&gt; &lt;p class=&quot;card-text&quot; id=&quot;result3&quot;&gt;&lt;/p&gt; &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; onclick=&quot;requestUpdate()&quot;&gt;&#x53D1;&#x9001;&#x4FEE;&#x6539;&#x8BF7;&#x6C42;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;br&gt; &lt;hr&gt; &lt;div class=&quot;card&quot;&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;h5 class=&quot;m-0&quot;&gt;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&lt;/h5&gt; &lt;/div&gt; &lt;div class=&quot;card-body&quot;&gt; &lt;input id=&quot;deleteId&quot; type=&quot;number&quot; placeholder=&quot;&#x8BF7;&#x8F93;&#x5165;id&#x5B57;&#x6BB5;&quot;&gt; &lt;h6 class=&quot;card-title&quot;&gt;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x8FD4;&#x56DE;&#x6570;&#x636E;&#x5982;&#x4E0B;&#xFF1A;&lt;/h6&gt; &lt;p class=&quot;card-text&quot; id=&quot;result4&quot;&gt;&lt;/p&gt; &lt;a href=&quot;#&quot; class=&quot;btn btn-primary&quot; onclick=&quot;requestDelete()&quot;&gt;&#x53D1;&#x9001;&#x5220;&#x9664;&#x8BF7;&#x6C42;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;hr&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;&#x672C;&#x529F;&#x80FD;&#x4E3B;&#x8981;&#x5305;&#x62EC;&#x5BF9;&#x4E8E; tb_user &#x8868;&#x589E;&#x5220;&#x6539;&#x67E5;&#x529F;&#x80FD;&#x7684;&#x8C03;&#x7528;&#x548C;&#x7ED3;&#x679C;&#x663E;&#x793A;&#xFF0C;&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x6A21;&#x5757;&#x5305;&#x62EC;&#x4FE1;&#x606F;&#x5F55;&#x5165;&#x7684; input &#x6846;&#x548C;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x6309;&#x94AE;&#x4EE5;&#x53CA;&#x7ED3;&#x679C;&#x663E;&#x793A;&#x7684; div&#xFF0C;&#x70B9;&#x51FB;&#x4E0D;&#x540C;&#x7684;&#x6309;&#x94AE;&#x5206;&#x522B;&#x89E6;&#x53D1;&#x4E0D;&#x540C;&#x7684; js &#x65B9;&#x6CD5;&#xFF0C;&#x6211;&#x4EEC;&#x8BA1;&#x5212;&#x5728; js &#x65B9;&#x6CD5;&#x4E2D;&#x4F7F;&#x7528; Ajax &#x5BF9;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x4E0D;&#x540C;&#x7684;&#x8BF7;&#x6C42;&#xFF0C;&#x5B9E;&#x73B0;&#x5982;&#x4E0B;&#xFF1A; &lt;!-- jQuery --&gt; &lt;script src=&quot;https://cdn.staticfile.org/jquery/1.12.0/jquery.min.js&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; function requestQuery() { var id = $(&quot;#queryId&quot;).val(); if (typeof id == &quot;undefined&quot; || id == null || id == &quot;&quot; || id &lt; 0) { return false; } $.ajax({ type: &quot;GET&quot;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; dataType: &quot;json&quot;,//&#x9884;&#x671F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; url: &quot;/api/users/&quot; + id, contentType: &quot;application/json; charset=utf-8&quot;, success: function (result) { $(&quot;#result0&quot;).html(JSON.stringify(result)); }, error: function () { $(&quot;#result0&quot;).html(&quot;&#x63A5;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#xFF01;&quot;); } }); } function requestQueryList() { $.ajax({ type: &quot;GET&quot;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; dataType: &quot;json&quot;,//&#x9884;&#x671F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; url: &quot;/api/users&quot;, contentType: &quot;application/json; charset=utf-8&quot;, success: function (result) { $(&quot;#result1&quot;).html(JSON.stringify(result)); }, error: function () { $(&quot;#result1&quot;).html(&quot;&#x63A5;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#xFF01;&quot;); } }); } function requestAdd() { var id = $(&quot;#addId&quot;).val(); var name = $(&quot;#addName&quot;).val(); var password = $(&quot;#addPassword&quot;).val(); var data = {&quot;id&quot;: id, &quot;name&quot;: name, &quot;password&quot;: password} $.ajax({ type: &quot;POST&quot;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; dataType: &quot;json&quot;,//&#x9884;&#x671F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; url: &quot;/api/users&quot;, contentType: &quot;application/json; charset=utf-8&quot;, data: JSON.stringify(data), success: function (result) { $(&quot;#result2&quot;).html(JSON.stringify(result)); }, error: function () { $(&quot;#result2&quot;).html(&quot;&#x63A5;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#xFF01;&quot;); } }); } function requestUpdate() { var id = $(&quot;#updateId&quot;).val(); var name = $(&quot;#updateName&quot;).val(); var password = $(&quot;#updatePassword&quot;).val(); var data = {&quot;id&quot;: id, &quot;name&quot;: name, &quot;password&quot;: password} $.ajax({ type: &quot;PUT&quot;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; dataType: &quot;json&quot;,//&#x9884;&#x671F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; url: &quot;/api/users&quot;, contentType: &quot;application/json; charset=utf-8&quot;, data: JSON.stringify(data), success: function (result) { $(&quot;#result3&quot;).html(JSON.stringify(result)); }, error: function () { $(&quot;#result3&quot;).html(&quot;&#x63A5;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#xFF01;&quot;); } }); } function requestDelete() { var id = $(&quot;#deleteId&quot;).val(); if (typeof id == &quot;undefined&quot; || id == null || id == &quot;&quot; || id &lt; 0) { return false; } $.ajax({ type: &quot;DELETE&quot;,//&#x65B9;&#x6CD5;&#x7C7B;&#x578B; dataType: &quot;json&quot;,//&#x9884;&#x671F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; url: &quot;/api/users/&quot; + id, contentType: &quot;application/json; charset=utf-8&quot;, success: function (result) { $(&quot;#result4&quot;).html(JSON.stringify(result)); }, error: function () { $(&quot;#result4&quot;).html(&quot;&#x63A5;&#x53E3;&#x5F02;&#x5E38;&#xFF0C;&#x8BF7;&#x8054;&#x7CFB;&#x7BA1;&#x7406;&#x5458;&#xFF01;&quot;); } }); } &lt;/script&gt;&#x6BCF;&#x4E2A;&#x8BF7;&#x6C42;&#x6309;&#x94AE;&#x70B9;&#x51FB;&#x540E;&#x4F1A;&#x89E6;&#x53D1;&#x4E0D;&#x540C;&#x7684; js &#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x4FEE;&#x6539;&#x8BF7;&#x6C42;&#x4E3A;&#x4F8B;&#xFF0C;&#x8BE5;&#x6309;&#x94AE;&#x70B9;&#x51FB;&#x540E;&#x4F1A;&#x89E6;&#x53D1; requestUpdate() &#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4E2D;&#x9996;&#x5148;&#x4F1A;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x8F93;&#x5165;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x5C06;&#x5176;&#x5C01;&#x88C5;&#x5230; data &#x4E2D;&#xFF0C;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x7684; url &#x4E3A; /api/users&#xFF0C;&#x7531;&#x4E8E;&#x662F;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x6B64;&#x5C06;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x4E3A; PUT &#x65B9;&#x6CD5;&#xFF0C;&#x4E4B;&#x540E;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x800C;&#x540E;&#x7AEF;&#x4EE3;&#x7801;&#x5728;&#x524D;&#x6587;&#x4E2D;&#x5DF2;&#x7ECF;&#x4ECB;&#x7ECD;&#xFF0C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x4E3A; /api/users &#x4E14;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x4E3A; PUT &#x65F6;&#x4F1A;&#x8C03;&#x7528;&#x4FEE;&#x6539;&#x65B9;&#x6CD5;&#x5C06;&#x7528;&#x6237;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4FEE;&#x6539;&#x3002; &#x5220;&#x9664;&#x8BF7;&#x6C42;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#xFF0C;&#x9996;&#x5148;&#x7528;&#x6237;&#x8F93;&#x5165;&#x4E00;&#x4E2A;&#x9700;&#x8981;&#x5220;&#x9664;&#x7684; id&#xFF0C;&#x4E4B;&#x540E;&#x6839;&#x636E;&#x8BE5; id &#x5C06;&#x5176;&#x62FC;&#x63A5;&#x5230; url &#x4E2D;&#xFF0C;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x8BF7;&#x6C42;&#x7684; url &#x4E3A; /api/users/{id}&#xFF0C;&#x7531;&#x4E8E;&#x662F;&#x5220;&#x9664;&#x7528;&#x6237;&#x6570;&#x636E;&#xFF0C;&#x56E0;&#x6B64;&#x5C06;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x4E3A; DELETE &#x65B9;&#x6CD5;&#xFF0C;&#x4E4B;&#x540E;&#x5411;&#x540E;&#x7AEF;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x540E;&#x7AEF;&#x5728;&#x6536;&#x5230;&#x8BF7;&#x6C42;&#x540E;&#x4F1A;&#x6839;&#x636E;&#x8BF7;&#x6C42;&#x65B9;&#x6CD5;&#x548C;&#x8BF7;&#x6C42;&#x5730;&#x5740;&#x8FDB;&#x884C;&#x6620;&#x5C04;&#x5339;&#x914D;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x540E;&#x7AEF;&#x4EE3;&#x7801;&#x5F97;&#x77E5;&#xFF0C;&#x8BE5;&#x8BF7;&#x6C42;&#x6700;&#x7EC8;&#x4F1A;&#x88AB;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x7684; delete() &#x65B9;&#x6CD5;&#x5904;&#x7406;&#xFF0C;&#x5176;&#x5B83;&#x7684;&#x8C03;&#x7528;&#x6D41;&#x7A0B;&#x4E0E;&#x6B64;&#x7C7B;&#x4F3C;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x7740;&#x8FDB;&#x884C;&#x7406;&#x89E3;&#x3002; &#x529F;&#x80FD;&#x6D4B;&#x8BD5;&#x7531;&#x4E8E;&#x9ED8;&#x8BA4;&#x662F;&#x5728; project &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x56E0;&#x6B64;&#x60F3;&#x8981;&#x542F;&#x52A8;&#x54B1;&#x4EEC;&#x7684;&#x9879;&#x76EE;&#xFF0C;&#x9996;&#x5148;&#x9700;&#x8981;&#x5207;&#x6362;&#x5230; spring-boot-restful-api &#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x4E4B;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; Maven &#x63D2;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x542F;&#x52A8; Spring Boot &#x9879;&#x76EE;&#xFF0C;&#x547D;&#x4EE4;&#x4E3A; mvn spring-boot:run &#xFF0C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x7B49;&#x5F85;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x3002; &#x5728;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x6210;&#x529F;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x70B9;&#x51FB;&#x9875;&#x9762;&#x4E0A;&#x65B9;&#x7684; Web &#x670D;&#x52A1;&#x76F4;&#x63A5;&#x5728;&#x663E;&#x793A;&#x67E5;&#x770B;&#x7F51;&#x7AD9;&#x6548;&#x679C;&#x3002;&#x4E4B;&#x540E;&#x4F1A;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x5F39;&#x51FA; https://********.simplelab.cn &#x9875;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x5730;&#x5740;&#x6253;&#x5F00; api &#x63A5;&#x53E3;&#x6D4B;&#x8BD5;&#x9875;&#x9762;&#xFF1A;https://********.simplelab.cn/api-test.html&#x3002; &#x9996;&#x5148;&#x662F;&#x6839;&#x636E; id &#x67E5;&#x8BE2;&#x5355;&#x4E2A;&#x7528;&#x6237;&#x5BF9;&#x8C61;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x8F93;&#x5165; 1 &#x5E76;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x4E3A;&#x201C;&#x65E0;&#x6B64;&#x5BF9;&#x8C61;&#x201D;&#xFF0C;&#x4E4B;&#x540E;&#x6362;&#x6210; 2 &#x8FD4;&#x56DE;&#x4E86; id &#x4E3A; 2 &#x7684;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x63A5;&#x7740;&#x662F;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF0C;&#x4E0D;&#x7528;&#x8F93;&#x5165;&#x53C2;&#x6570;&#x76F4;&#x63A5;&#x8BF7;&#x6C42;&#x5373;&#x53EF;&#xFF0C;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6570;&#x636E;&#x5E93; tb_user &#x8868;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x4E4B;&#x540E;&#x662F;&#x6DFB;&#x52A0;&#x63A5;&#x53E3;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x8F93;&#x5165; name &#x5B57;&#x6BB5;&#x548C; password &#x5B57;&#x6BB5;&#x540E;&#x70B9;&#x51FB;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x6309;&#x94AE;&#xFF0C;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x6210;&#x529F;&#xFF0C;&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x7684; data &#x503C;&#x4E3A; true&#xFF0C;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x5931;&#x8D25;&#x5219;&#x4E3A; false&#xFF0C;&#x6210;&#x529F;&#x540E;&#x518D;&#x53BB;&#x6267;&#x884C;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;&#x521A;&#x521A;&#x8BF7;&#x6C42;&#x7ED3;&#x679C;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x53C8;&#x65B0;&#x589E;&#x4E86;&#x65B0;&#x589E;&#x7684;&#x4E00;&#x6761;&#x6570;&#x636E;&#x3002; &#x63A5;&#x7740;&#x4FEE;&#x6539;&#x63A5;&#x53E3;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x8F93;&#x5165; id &#x5B57;&#x6BB5;&#x3001; name &#x5B57;&#x6BB5;&#x548C; password &#x5B57;&#x6BB5;&#x540E;&#x70B9;&#x51FB;&#x53D1;&#x9001;&#x8BF7;&#x6C42;&#x6309;&#x94AE;&#xFF0C;&#x5982;&#x679C;&#x4FEE;&#x6539;&#x6210;&#x529F;&#xFF0C;&#x8FD4;&#x56DE;&#x5BF9;&#x8C61;&#x7684; data &#x503C;&#x4E3A; true&#xFF0C;&#x5982;&#x679C;&#x6DFB;&#x52A0;&#x5931;&#x8D25;&#x5219;&#x4E3A; false&#xFF0C;&#x6210;&#x529F;&#x540E;&#x518D;&#x53BB;&#x6267;&#x884C;&#x5217;&#x8868;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x4FEE;&#x6539;&#x6210;&#x529F;&#xFF0C;&#x6700;&#x540E;&#x662F;&#x5220;&#x9664;&#x63A5;&#x53E3;&#x7684;&#x6D4B;&#x8BD5;&#xFF0C;&#x5982;&#x4E0A;&#x56FE;&#x6240;&#x793A;&#xFF0C;&#x5982;&#x679C;&#x8F93;&#x5165;&#x7684; id &#x5E76;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE;&#x7684; data &#x4E3A; false &#x8868;&#x793A;&#x5220;&#x9664;&#x5931;&#x8D25;&#xFF0C;&#x5220;&#x9664;&#x6210;&#x529F;&#x540E;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x67E5;&#x8BE2;&#x63A5;&#x53E3;&#xFF0C;&#x4F1A;&#x770B;&#x5230;&#x5217;&#x8868;&#x6570;&#x636E;&#x518D;&#x6B21;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x3002; &#x6240;&#x6709;&#x7684;&#x63A5;&#x53E3;&#x90FD;&#x6B63;&#x5E38;&#x8FD4;&#x56DE;&#x4E14;&#x683C;&#x5F0F;&#x90FD;&#x662F;&#x6309;&#x7167;&#x9884;&#x5B9A;&#x7ED3;&#x679C;&#x683C;&#x5F0F;&#x8FD4;&#x56DE;&#x7684;&#xFF0C;&#x5E0C;&#x671B;&#x5927;&#x5BB6;&#x6309;&#x7167;&#x6587;&#x4E2D;&#x7684;&#x6B65;&#x9AA4;&#x81EA;&#x884C;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x548C;&#x5B66;&#x4E60;&#xFF0C;&#x5728;&#x6D4B;&#x8BD5;&#x7684;&#x65F6;&#x5019;&#x4E5F;&#x53EF;&#x4EE5;&#x7ED3;&#x5408; MySQL &#x8FDB;&#x884C;&#x9A8C;&#x8BC1;&#xFF0C;&#x68C0;&#x67E5;&#x6570;&#x636E;&#x662F;&#x5426;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x88AB;&#x6B63;&#x786E;&#x7684;&#x4FEE;&#x6539;&#x3002; &#x672C;&#x6B21;&#x5B9E;&#x9A8C;&#x5B8C;&#x6210;&#xFF01; &#x5B9E;&#x9A8C;&#x603B;&#x7ED3;&#x901A;&#x8FC7;&#x8FD9;&#x4E00;&#x9636;&#x6BB5;&#x7684;&#x5B66;&#x4E60;&#xFF0C;&#x5927;&#x5BB6;&#x5E94;&#x8BE5;&#x5BF9;&#x4E8E; Spring Boot &#x7684;&#x57FA;&#x7840;&#x4F7F;&#x7528;&#x4EE5;&#x53CA;&#x529F;&#x80FD;&#x6574;&#x5408;&#x6709;&#x4E86;&#x4E00;&#x4E9B;&#x7406;&#x89E3;&#xFF0C;&#x5BF9;&#x4E8E;&#x57FA;&#x672C;&#x7684;&#x524D;&#x540E;&#x7AEF;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#x4E5F;&#x6709;&#x4E86;&#x57FA;&#x672C;&#x7684;&#x638C;&#x63E1;&#xFF0C;&#x5E76;&#x4E14;&#x4E5F;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x672C;&#x5B9E;&#x9A8C;&#x4E2D;&#x63D0;&#x4F9B;&#x7684;&#x6E90;&#x7801;&#x8FDB;&#x884C;&#x5B9E;&#x9645;&#x7684;&#x64CD;&#x4F5C;&#x548C;&#x7EC3;&#x4E60;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fmysql5.7mac-an-zhuang.html</url>
    <content type="text"><![CDATA[mysql5.7.27&#x5B89;&#x88C5;(mac&#x7248;)&#x4E0B;&#x8F7D;&#x5730;&#x5740;https://dev.mysql.com/downloads/mysql/&#x9009;&#x62E9;5.7.27&#x7248; &#x76F4;&#x63A5;&#x70B9;&#x51FB;&#x4E0B;&#x9762;&#x4F4D;&#x7F6E;&#x8FDB;&#x884C;&#x4E0B;&#x8F7D; &#x4E0B;&#x8F7D;&#x5B8C;&#x6210;&#x540E;, &#x53CC;&#x51FB;&#x6253;&#x5F00; &#x70B9;&#x51FB;&#x7EE7;&#x7EED;&#x5373;&#x53EF; &#x200B; &#x4E0B;&#x9762;&#x4E00;&#x76F4;&#x70B9;&#x7EE7;&#x7EED; &#x542F;&#x52A8;MySQL&#x5B89;&#x88C5;&#x5B8C;&#x6BD5;&#x540E;,&#x5230;&#x8BBE;&#x7F6E;&#x5F53;&#x4E2D;&#x67E5;&#x770B;&#x4EE5;&#x4E0B;&#x9009;&#x9879;,&#x5982;&#x679C;&#x91CC;&#x9762;&#x6709;MySQL&#x8BF4;&#x660E;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x6210;&#x529F; &#x70B9;&#x51FB;&#x540E;, &#x542F;&#x52A8;MySQL &#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;&#x542F;&#x52A8;&#x5B8C;&#x6210;&#x540E;,&#x6253;&#x5F00;&#x7EC8;&#x7AEF; alias mysql=/usr/local/mysql/bin/mysqlalias mysqladmin=/usr/local/mysql/bin/mysqladmin&#x628A;&#x4E0A;&#x9762;&#x4E24;&#x6761;&#x6307;&#x4EE4;&#x590D;&#x5236;&#x5230;&#x7EC8;&#x7AEF;&#x5F53;&#x4E2D;&#x8FD0;&#x884C;,&#x7ED9;&#x4E24;&#x4E2A;&#x5730;&#x5740;&#x7ED9;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x522B;&#x540D; &#x76EE;&#x7684;&#x662F;&#x4E0B;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x6267;&#x884C;mysql&#x6216;&#x8005;mysqladmin &#x4E0D;&#x9700;&#x8981;&#x518D;&#x53BB;&#x6765;&#x56DE;&#x5207;&#x6362;&#x76EE;&#x5F55; &#x63A5;&#x4E0B;&#x6765;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801;,&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4; mysqladmin -u root -p password root root&#x662F;&#x6211;&#x7684;&#x65B0;&#x5BC6;&#x7801;,&#x81EA;&#x884C;&#x4FEE;&#x6539;&#x6210;&#x81EA;&#x5DF1;&#x60F3;&#x8981;&#x8BBE;&#x7F6E;&#x7684;&#x5BC6;&#x7801; &#x6309;&#x56DE;&#x8F66;&#x540E;, &#x63D0;&#x793A;&#x8F93;&#x5165;&#x5BC6;&#x7801;,&#x6B64;&#x65F6;&#x8BA9;&#x8F93;&#x5165;&#x7684;&#x5BC6;&#x7801;&#x4E0D;&#x662F;&#x4F60;&#x7535;&#x8111;&#x7684;&#x5BC6;&#x7801; &#x800C;&#x662F;&#x6570;&#x636E;&#x5E93;&#x9ED8;&#x8BA4;&#x7684;&#x5BC6;&#x7801; &#x9ED8;&#x8BA4;&#x7684;&#x5BC6;&#x7801;&#x4F1A;&#x81EA;&#x52A8;&#x7ED9;&#x4F60;&#x5206;&#x914D;,&#x5728;&#x5B89;&#x88C5;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x7ED9;&#x4F60;&#x81EA;&#x52A8;&#x5206;&#x914D; &#x53EF;&#x4EE5;&#x4ECE;mac&#x901A;&#x77E5;&#x680F;&#x5F53;&#x4E2D;&#x6765;&#x53BB;&#x67E5;&#x770B; &#x4E0B;&#x56FE;&#x5F53;&#x4E2D;&#x5C31;&#x662F;&#x81EA;&#x52A8;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5BC6;&#x7801; &#x9ED8;&#x8BA4;&#x7684;&#x5BC6;&#x7801;&#x5C31;&#x662F;localhost:&#x540E;&#x9762;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;,&#x628A;&#x5B83;&#x8F93;&#x5165;&#x540E;,&#x56DE;&#x8F66;. (&#x5728;&#x547D;&#x4EE4;&#x884C;&#x5F53;&#x4E2D;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x662F;&#x770B;&#x4E0D;&#x5230;&#x7684;,&#x6240;&#x4EE5;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#x7684;&#x65F6;&#x5019;,&#x6CE8;&#x610F;&#x4E0D;&#x8981;&#x8F93;&#x5165;&#x9519;&#x8BEF;) &#x770B;&#x5230;&#x5982;&#x4E0A;&#x4FE1;&#x606F;,&#x4FEE;&#x6539;&#x6210;&#x529F; &#x8FDB;&#x5165;&#x6570;&#x636E;&#x5E93;&#x63A5;&#x4E0B;&#x6765;&#x8FDB;&#x5165;&#x6570;&#x636E;&#x5E93;&#x5F53;&#x4E2D; &#x786E;&#x4FDD;&#x6267;&#x884C;&#x4E86; alias mysql=/usr/local/mysql/bin/mysql&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6267;&#x884C;, &#x8981;&#x81EA;&#x884C;&#x5207;&#x6362;&#x5230;&#x4E0A;&#x9762;&#x7684;&#x76EE;&#x5F55;&#x5F53;&#x4E2D;,&#x624D;&#x80FD;&#x6267;&#x884C;mysql&#x547D;&#x4EE4; &#x5426;&#x5219;&#x63D0;&#x793A;&#x627E;&#x5230;&#x4E0D;mysql &#x63A5;&#x4E0B;&#x6765;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x6307;&#x4EE4;:mysql -u root -p &#x6CE8;&#x610F;-p&#x540E;&#x9762;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x5199;,&#x7136;&#x540E;&#x56DE;&#x8F66; &#x4F1A;&#x8BA9;&#x4F60;&#x8F93;&#x5165;&#x5BC6;&#x7801;, &#x6B64;&#x65F6;&#x7684;&#x5BC6;&#x7801;&#x5C31;&#x662F;&#x4F60;&#x5728;&#x4E0A;&#x9762;&#x4FEE;&#x6539;&#x7684;&#x5BC6;&#x7801; &#x6211;&#x5728;&#x8FD9;&#x91CC;&#x8F93;&#x5165;&#x7684;&#x662F;:root &#x770B;&#x5230;&#x5982;&#x4E0B;&#x4FE1;&#x606F;,&#x5168;&#x90E8;&#x8BF4;&#x660E;&#x5DF2;&#x7ECF;&#x8FDB;&#x5165;&#x6570;&#x636E;&#x5E93;&#x5F53;&#x4E2D; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fmysqlrpm-an-zhuang.html</url>
    <content type="text"><![CDATA[&#x5B89;&#x88C5;mysql:&#x5B89;&#x88C5;mysql&#x591A;&#x79CD;&#x65B9;&#x5F0F; yum rpm &#x6E90;&#x7801;&#x7F16;&#x8BD1; docker &#x672C;&#x6B21;&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x4E3A;centOS7.x mysql5.7.x &#x4EE5;&#x4E0B;&#x4EE5;rpm&#x7684;&#x65B9;&#x5F0F;&#x5B89;&#x88C5;mysql&#x4E3A;&#x4F8B;: &#x67E5;&#x770B;&#x662F;&#x5426;&#x6709;mariadb&#x7684;&#x4F9D;&#x8D56;&#x73AF;&#x5883; rpm -qa|grep mariadb &#x5378;&#x8F7D;mariadb&#x7684;&#x4F9D;&#x8D56;&#x73AF;&#x5883; rpm -e --nodeps mariadb-libs-5.5.60-1.el7_5.x86_64 &#x67E5;&#x770B;&#x662F;&#x5426;&#x6709; mysql&#x7684;&#x4F9D;&#x8D56;&#x73AF;&#x5883; rpm -qa|grep mysql &#x53BB;&#x5B98;&#x7F51;&#x4E0B;&#x8F7D;&#x5BF9;&#x5E94;&#x7248;&#x672C;&#x7684;&#x5B89;&#x88C5;&#x5305; https://dev.mysql.com/downloads/mysql/&#x9009;&#x62E9;5.7&#x7248;&#x672C; redhat7&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF; redhat7&#x7684;&#x7248;&#x672C; &#x4E0B;&#x8F7D;mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar &#x5982;&#x679C;&#x7F51;&#x901F;&#x592A;&#x6162;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x56FD;&#x5185;&#x955C;&#x50CF; https://mirrors.huaweicloud.com/mysql/Downloads/MySQL-5.7/ &#x5C06;&#x89E3;&#x538B;&#x5305;&#x4E0A;&#x4F20;&#x5E76;&#x89E3;&#x538B; tar -xf ./mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar &#x89E3;&#x538B;&#x5B8C;&#x4EE5;&#x540E;&#x5F00;&#x59CB;&#x5B89;&#x88C5;rpm&#x5305; rpm -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm rpm -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm rpm -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm rpm -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm rpm -ivh mysql-community-devel-5.7.26-1.el7.x86_64.rpm&#x6CE8;&#x610F;&#x5728;&#x5B89;&#x88C5;mysql-community-server&#x53EF;&#x80FD;&#x4F1A;&#x51FA;&#x73B0;&#x7F3A;&#x5C11;&#x4F9D;&#x8D56;&#x5E93; error: Failed dependencies: libnuma.so.1()(64bit) is needed by MySQL-server-5.6.32-1.el6.x86_64 libnuma.so.1(libnuma_1.1)(64bit) is needed by MySQL-server-5.6.32-1.el6.x86_64 libnuma.so.1(libnuma_1.2)(64bit) is needed by MySQL-server-5.6.32-1.el6.x86_64&#x4F7F;&#x7528;&#x547D;&#x4EE4;&#x5B89;&#x88C5;&#x4E0A;&#x7F3A;&#x5C11;&#x7684;&#x4F9D;&#x8D56;&#x5E93;: yum install numactl &#x542F;&#x52A8;mysql service mysqld start &#x6216;&#x8005; systemctl start mysqld&#x542F;&#x52A8;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x53BB;&#x627E;&#x5230;root&#x7684;&#x4E34;&#x65F6;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x4E86; vi /var/log/mysqld.log &#x5728;&#x65E5;&#x5FD7;&#x4E2D;&#x627E;&#x5230;&#x8FD9;&#x6837;&#x4E00;&#x53E5;&#x8BDD; 2019-06-30T05:27:08.656838Z 1 [Note] A temporary password is generated for root@localhost: xxxxxx&#x5C31;&#x662F;&#x4E34;&#x65F6;&#x5BC6;&#x7801; &#x767B;&#x5F55;MySQL&#xFF0C;&#x767B;&#x5F55;&#x8FDB;&#x53BB;&#x662F;&#x6CA1;&#x6709;&#x6743;&#x9650;&#x4EFB;&#x4F55;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x5FC5;&#x987B;&#x4FEE;&#x6539;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#x4EE3;&#x7801; mysql -u root -p &#x56DE;&#x8F66;&#x5C31;&#x8BA9;&#x4F60;&#x8F93;&#x5165;&#x5BC6;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x62F7;&#x8D1D;&#x5BC6;&#x7801;&#xFF0C;&#x7701;&#x7684;&#x8F93;&#x9519;&#x767B;&#x5F55;&#x6210;&#x529F;&#x540E;&#x5C31;&#x8981;&#x4FEE;&#x6539;&#x5BC6;&#x7801; set password for &apos;root&apos;@&apos;localhost&apos;=&apos;newpasswd&apos;;newpasswd&#x5C31;&#x662F;&#x4F60;&#x8BBE;&#x7F6E;&#x7684;&#x65B0;&#x5BC6;&#x7801;&#xFF0C;&#x5BC6;&#x7801;&#x5FC5;&#x987B;&#x8981;&#x7B26;&#x5408;&#x8981;&#x6C42;&#xFF0C;&#x516B;&#x4F4D;&#x53CA;&#x4EE5;&#x4E0A;&#xFF0C;&#x9700;&#x8981;&#x5927;&#x5C0F;&#x5199;&#x3001;&#x6570;&#x5B57;&#x548C;&#x7279;&#x6B8A;&#x5B57;&#x7B26;&#xFF08;&#x5C3D;&#x91CF;&#x6EE1;&#x8DB3;&#x8FD9;&#x4E2A;&#x590D;&#x6742;&#x5EA6;&#xFF0C;&#x4EE5;&#x514D;&#x62A5;&#x9519;&#xFF09; &#x8BBE;&#x7F6E;mysql&#x8FDC;&#x7A0B;&#x767B;&#x5F55; &#x901A;&#x8FC7;&#x8BE5;&#x8868;&#x8BBE;&#x7F6E; &#x200B; &#x767B;&#x9646;mysql&#xFF0C;&#x4FEE;&#x6539;mysql&#x5E93;&#x7684;user&#x8868;&#xFF0C;&#x5C06;host&#x9879;&#xFF0C;&#x4ECE;localhost&#x6539;&#x4E3A;%&#x3002;%&#x8FD9;&#x91CC;&#x8868;&#x793A;&#x7684;&#x662F;&#x5141;&#x8BB8;&#x4EFB;&#x610F;host&#x8BBF;&#x95EE;&#xFF0C;&#x5982;&#x679C;&#x53EA;&#x5141;&#x8BB8;&#x67D0;&#x4E00;&#x4E2A;ip&#x8BBF;&#x95EE;&#xFF0C;&#x5219;&#x53EF;&#x6539;&#x4E3A;&#x76F8;&#x5E94;&#x7684;ip&#xFF0C;&#x6BD4;&#x5982;&#x53EF;&#x4EE5;&#x5C06;localhost&#x6539;&#x4E3A;192.168.1.123&#xFF0C;&#x8FD9;&#x8868;&#x793A;&#x53EA;&#x5141;&#x8BB8;&#x5C40;&#x57DF;&#x7F51;&#x7684;192.168.1.123&#x8FD9;&#x4E2A;ip&#x8FDC;&#x7A0B;&#x8BBF;&#x95EE;mysql&#x3002; use mysql; update user set host = &apos;%&apos; where user = &apos;root&apos;; flush privileges;&#x4FEE;&#x6539;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x76EE;&#x5F55;&#x4EE5;&#x53CA;&#x6570;&#x636E;&#x5E93;&#x7F16;&#x7801; &#x9ED8;&#x8BA4;&#x7684;my.cnf # For advice on how to change settings please see # http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html [mysqld] # # Remove leading # and set to the amount of RAM for the most important data # cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%. # innodb_buffer_pool_size = 128M # # Remove leading # to turn on a very important data integrity option: logging # changes to the binary log between backups. # log_bin # # Remove leading # to set options mainly useful for reporting servers. # The server defaults are faster for transactions and fast SELECTs. # Adjust sizes as needed, experiment to find the optimal values. # join_buffer_size = 128M # sort_buffer_size = 2M # read_rnd_buffer_size = 2M datadir=/var/lib/mysql socket=/var/lib/mysql/mysql.sock # Disabling symbolic-links is recommended to prevent assorted security risks symbolic-links=0 log-error=/var/log/mysqld.log pid-file=/var/run/mysqld/mysqld.pid &#x521B;&#x5EFA;&#x76F8;&#x5173;&#x76EE;&#x5F55; mkdir -p /data/mysql/data mkdir -p /data/mysql/log &#x4FEE;&#x6539;&#x5C5E;&#x7EC4; (&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x968F;&#x610F;&#x53EF;&#x4E0D;&#x7528;&#x8BBE;&#x7F6E;&#x6743;&#x9650;) cd /data chown -R mysql:mysql mysql &#x79FB;&#x52A8;&#x6570;&#x636E; &#x8FD9;&#x4E2A;&#x6B65;&#x9AA4;&#x662F;&#x9488;&#x5BF9;&#x5DF2;&#x7ECF;&#x6709;&#x6570;&#x636E;&#x751F;&#x6210;&#x65F6;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x521A;&#x521A;&#x5B89;&#x88C5; MySQL &#x6570;&#x636E;&#x5E93;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E00;&#x6B65;&#x53EF;&#x4EE5;&#x8DF3;&#x8FC7;&#x3002; &#x6CE8;&#x610F;&#xFF1A;&#x4E3A;&#x4E86;&#x786E;&#x4FDD;&#x6570;&#x636E;&#x7684;&#x5B8C;&#x6574;&#x6027;&#xFF0C;&#x5148; systemctl stop mysqld &#x505C;&#x6B62; MySQL&#xFF0C;&#x7136;&#x540E;&#x518D;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x3002; &#x6682;&#x505C;&#x670D;&#x52A1;&#xFF1A;systemctl stop mysqld&#xFF1B; &#x5907;&#x4EFD;&#x6570;&#x636E;&#xFF1A; cp -R /var/lib/mysql /var/lib/mysql_bak&#xFF1B; &#x79FB;&#x52A8;&#x6570;&#x636E;&#xFF1A;rsync -av /var/lib/mysql/ /data/mysql/data/&#xFF0C;&#x8FD9;&#x4E2A;&#x4F1A;&#x5C06;&#x539F; mysql &#x4E0B;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#xFF0C;&#x4FDD;&#x5B58;&#x5230; /data/mysql/data &#x6587;&#x4EF6;&#x5939;&#x4E0B;&#xFF0C; &#x4F7F;&#x7528;-a&#x6807;&#x5FD7;&#x4FDD;&#x7559;&#x7684;&#x6743;&#x9650;&#x548C;&#x5176;&#x4ED6;&#x76EE;&#x5F55;&#x5C5E;&#x6027;&#xFF0C;&#x800C;-v&#x63D0;&#x4F9B;&#x8BE6;&#x7EC6;&#x8F93;&#x51FA;&#xFF0C;&#x4EE5;&#x4FBF;&#x80FD;&#x591F;&#x6309;&#x7167;&#x8FDB;&#x5EA6;&#x3002; &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;vi /etc/my.cnf &#x7F16;&#x8F91;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6570;&#x636E;&#x4F4D;&#x7F6E;&#x548C;&#x5957;&#x63A5;&#x5B57;&#x90FD;&#x6307;&#x5411;&#x65B0;&#x7684;&#x76EE;&#x5F55;&#xFF1A; # &#x4FEE;&#x6539;&#x4F4D;&#x7F6E; datadir=/data/mysql/data socket=/data/mysql/mysql.sock # &#x65B0;&#x589E;&#x914D;&#x7F6E; [client] socket=/data/mysql/mysql.sock&#x914D;&#x7F6E;&#x9884;&#x89C8;&#xFF1A; # For advice on how to change settings please see # http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html [mysqld] # # Remove leading # and set to the amount of RAM for the most important data # cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%. # innodb_buffer_pool_size = 128M # # Remove leading # to turn on a very important data integrity option: logging # changes to the binary log between backups. # log_bin # # Remove leading # to set options mainly useful for reporting servers. # The server defaults are faster for transactions and fast SELECTs. # Adjust sizes as needed, experiment to find the optimal values. # join_buffer_size = 128M # sort_buffer_size = 2M # read_rnd_buffer_size = 2M datadir=/data/mysql/data socket=/data/mysql/mysql.sock #&#x670D;&#x52A1;&#x7AEF;&#x53E3;&#x53F7; &#x9ED8;&#x8BA4;3306 port = 3306 #&#x666E;&#x901A;&#x9879;&#x76EE;&#x7684;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6210; utf8 #&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x6210;utf8mb4&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x7684;&#x9879;&#x76EE;&#x9700;&#x8981;&#x5B58;&#x50A8; emoji &#x8868;&#x60C5;&#xFF0C; #&#x8FD9;&#x79CD;&#x8868;&#x60C5;&#x867D;&#x7136;&#x662F;utf8&#x7F16;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x9700;&#x8981;&#x5360;&#x7528;4&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x800C;MySQL utf8&#x7F16;&#x7801;&#x53EA;&#x80FD;&#x5B58;&#x653E;3&#x5B57;&#x8282;&#x7684;&#x5B57;&#x7B26;&#x3002; #&#x5728;MySQL 5.6 &#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x7F16;&#x7801;&#x4E3A;utf8mb4&#xFF0C;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x96C6;&#x662F;utf8&#x7684;&#x8D85;&#x96C6;&#x3002; #&#x6CE8;&#x610F;KEY&#x4E0D;&#x8981;&#x5199;&#x9519;&#xFF0C;&#x7F51;&#x4E0A;&#x5F88;&#x591A;&#x6587;&#x7AE0;&#x90FD;&#x662F;&#x5199;default-character-set&#x662F;&#x9519;&#x7684; character-set-server=utf8mb4 #&#x7248;&#x672C;5.6.19&#x4EE5;&#x540E;&#x5FC5;&#x987B;&#x8BBE;&#x7F6E;&#x8FD9;&#x4E00;&#x53E5;&#x624D;&#x80FD;&#x4F7F;[client]&#x4E2D;&#x8BBE;&#x7F6E;&#x7684;&#x7F16;&#x7801;&#x6709;&#x6548; character-set-client-handshake = FALSE collation-server=utf8mb4_unicode_ci init_connect=&apos;SET NAMES utf8mb4&apos; #&#x8868;&#x540D;&#x662F;&#x5426;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF1A;1&#x8868;&#x793A;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199;&#xFF0C;2&#x8868;&#x793A;&#x533A;&#x5206; lower_case_table_names=1 # Disabling symbolic-links is recommended to prevent assorted security risks symbolic-links=0 log-error=/data/mysql/log/mysqld.log #&#x5982;&#x679C;&#x53BB;&#x9664;&#x6CE8;&#x91CA;&#xFF0C;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x514D;&#x5BC6;&#x767B;&#x5F55;&#xFF0C;&#x4E0D;&#x5EFA;&#x8BAE;&#x5F00;&#x542F;&#x514D;&#x5BC6; #skip-grant-tables pid-file=/var/run/mysqld/mysqld.pid [mysql] default-character-set=utf8mb4 [client] socket=/data/mysql/mysql.sock #&#x666E;&#x901A;&#x9879;&#x76EE;&#x7684;&#x7F16;&#x7801;&#x65B9;&#x5F0F;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x6210; utf8 #&#x8FD9;&#x91CC;&#x8BBE;&#x7F6E;&#x6210;utf8mb4&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x6211;&#x7684;&#x9879;&#x76EE;&#x9700;&#x8981;&#x5B58;&#x50A8; emoji &#x8868;&#x60C5;&#xFF0C; #&#x8FD9;&#x79CD;&#x8868;&#x60C5;&#x867D;&#x7136;&#x662F;utf8&#x7F16;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x4E2A;&#x5B57;&#x7B26;&#x9700;&#x8981;&#x5360;&#x7528;4&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x800C;MySQL utf8&#x7F16;&#x7801;&#x53EA;&#x80FD;&#x5B58;&#x653E;3&#x5B57;&#x8282;&#x7684;&#x5B57;&#x7B26;&#x3002; #&#x5728;MySQL 5.6 &#x4EE5;&#x4E0A;&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x7F16;&#x7801;&#x4E3A;utf8mb4&#xFF0C;&#x8FD9;&#x4E2A;&#x5B57;&#x7B26;&#x96C6;&#x662F;utf8&#x7684;&#x8D85;&#x96C6;&#x3002; default-character-set=utf8mb4&#x9A8C;&#x8BC1; &#x542F;&#x52A8; MySQL systemctl stop mysqld #&#x505C;&#x6B62;mysql systemctl start mysqld # &#x542F;&#x52A8; systemctl status mysqld # &#x72B6;&#x6001;&#x67E5;&#x8BE2; systemctl enable mysqld # &#x5F00;&#x673A;&#x81EA;&#x542F; systemctl daemon-reload # &#x91CD;&#x8F7D;&#x6240;&#x6709;&#x4FEE;&#x6539;&#x8FC7;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x67E5;&#x770B;&#x7F16;&#x7801; SHOW VARIABLES LIKE &apos;character%&apos;;&#x6D4B;&#x8BD5;&#x8FDE;&#x63A5;&#x9700;&#x8981;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;&#xFF1A;(&#x5F00;&#x653E;&#x5B89;&#x5168;&#x7EC4;) systemctl stop firewalld # &#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;&#x5FD8;&#x8BB0;mysql&#x5BC6;&#x7801;# &#x6253;&#x5F00;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x6700;&#x540E;&#x589E;&#x52A0;&#x4E0B;&#x9762;&#x4E00;&#x884C;&#xFF0C;&#x5B9E;&#x73B0;MySQL&#x514D;&#x5BC6;&#x767B;&#x5F55; sudo vim /etc/my.cnf # &#x8DF3;&#x51FA;&#x6388;&#x6743;&#x8868;&#x7684;&#x9A8C;&#x8BC1; skip-grant-tables systemctl restart mysqld use mysql; show tables; update user set authentication_string = password(&apos;new_password&apos;) where user = &apos;root&apos;; # &#x65E7;&#x65B9;&#x6CD5; flush privileges; alter user &apos;root&apos;@&apos;%&apos; identified by &apos;new_password&apos;; # &#x5C06; skip-grant-tables &#x53BB;&#x6389; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fredis-yi.html</url>
    <content type="text"><![CDATA[What is redisRedis is an open source (BSD licensed), in-memory data structure store, used as a database, cache and message broker. It supports data structures such as strings, hashes, lists, sets, sorted sets with range queries, bitmaps, hyperloglogs, geospatial indexes with radius queries and streamsWhy use it Advantages: Redis allows storing key and value pairs as large as 512 MB. You can have huge keys and values of objects as big as 512 MB, which means that Redis will support up to 1GB of data for a single entry. Redis uses its own hashing mechanism called Redis Hashing. Redis stores data in the form of a key and a map, i.e. string fields and string values. For example, the following code uses Redis hash to save user details: Map&lt;String, String&gt; user = new HashMap&lt;&gt;(); user.put(&quot;username&quot;, &quot;john123&quot;); user.put(&quot;firstName&quot;, &quot;John&quot;); // use Jedis client jedis.hmset(&quot;user:john123&quot;, user); Redis offers data replication. Replication is the process of setting up master-slave cache nodes. The slave nodes always listen to the master node, which means that when the master node is updated, slaves will automatically be updated, as well. Redis can also update slaves asynchronously. The Redis cache can withstand failures and provide uninterrupted service.* Since Redis can be used to set up efficient replication, at any point in time, the cache service will be up-and-running &#x2014; even if any of the slave nodes are down. However, the nodes are resilient and will overcome the failure and continue providing service. Redis has clients in all the popular programming languages. Redis has client APIs developed in all the popular languages such as C, Ruby, Java, JavaScript, and Python. A full list of languages that Redis supports can be found on the Redis Wikipedia page. Redis offers a pub/sub messaging system.You can develop a high-performing messaging application using the Redis pub/sub mechanism using any language of your choice. Redis allows inserting huge amounts of data into its cache very easily.Sometimes, it is required to load millions of pieces of data into the cache within a short period of time. This can be done easily using mass insertion, a feature supported by Redis. Redis can be installed in Raspberry Pi and ARM devices. Redis has a small memory footprint and it can be installed in Raspberry Pi to enable IoT-based applications. Redis protocol makes it simple to implement a client. A Redis client communicates with its server using RESP (Redis Serialization Protocol). This protocol is simple to implement and is human-readable. Redis support transactions. Redis supports transactions, which means that commands can be executed as a queue instead of executing one at a time. Typically, commands after MULTI will be added to a queue and once EXEC is issued, all the commands saved in the queue will be executed at once. How to use itwget yum install wget wget http://download.redis.io/releases/redis-4.0.6.tar.gz tar -zxvf redis-4.0.6.tar.gz yum install gcc cd redis-4.0.6 make MALLOC=libc cd src ./redis-server&#x53EF;&#x80FD;&#x78B0;&#x5230;&#x7684;&#x9519;&#x8BEF; could not retrieve mirrorlist&#x89E3;&#x51B3;&#x65B9;&#x6CD5; 1.sudo vim /etc/sysconfig/network-scripts/ifcfg-ens33 2.&#x5C06;ONBOOT&#x6539;&#x4E3A;yes&#xFF0C;wq!&#x4FDD;&#x5B58;&#x9000;&#x51FA; 3.&#x91CD;&#x65B0;&#x542F;&#x52A8;&#x7F51;&#x7EDC; $ service network restartredis&#x4E09;&#x79CD;&#x542F;&#x52A8;&#x65B9;&#x5F0F; &#x76F4;&#x63A5;&#x542F;&#x52A8; ./redis-server &#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x542F;&#x52A8; vi redis.conf /daemonize &#x628A;no&#x6539;&#x4E3A;yes :x ./redis-server /usr/local/redis-4.0.6/redis.conf &#x4F7F;&#x7528;redis&#x542F;&#x52A8;&#x811A;&#x672C;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;&#xFF0C;linux&#x914D;&#x7F6E;&#x5F00;&#x542F;&#x81EA;&#x542F;&#x52A8; /etc/init.d &#x914D;&#x7F6E;&#x6B65;&#x9AA4; &#x542F;&#x52A8;&#x811A;&#x672C; redis_init_script &#x4F4D;&#x4E8E;Redis&#x7684; /utils/ &#x76EE;&#x5F55;&#x4E0B; mkdir /etc/redis cp redis.conf /etc/redis/6379.conf &#x5C06;&#x542F;&#x52A8;&#x811A;&#x672C;&#x590D;&#x5236;&#x5230;/etc/init.d&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x672C;&#x4F8B;&#x5C06;&#x542F;&#x52A8;&#x811A;&#x672C;&#x547D;&#x540D;&#x4E3A;redisd&#xFF08;&#x901A;&#x5E38;&#x90FD;&#x4EE5;d&#x7ED3;&#x5C3E;&#x8868;&#x793A;&#x662F;&#x540E;&#x53F0;&#x81EA;&#x542F;&#x52A8;&#x670D;&#x52A1;&#xFF09;&#x3002; cp redis_init_script /etc/init.d/redisd &#x8BBE;&#x7F6E;&#x4E3A;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;&#xFF0C;&#x76F4;&#x63A5;&#x914D;&#x7F6E;&#x5F00;&#x542F;&#x81EA;&#x542F;&#x52A8; chkconfig redisd on &#x53D1;&#x73B0;&#x9519;&#x8BEF;&#xFF1A; service redisd does not support chkconfig &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF0C;&#x5728;&#x542F;&#x52A8;&#x811A;&#x672C;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x6CE8;&#x91CA;&#x6765;&#x4FEE;&#x6539;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#xFF1A; #!/bin/sh # chkconfig: 2345 90 10 &#x8BBE;&#x7F6E;&#x4E3A;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x5668; chkconfig redisd on service redisd start &#x6253;&#x5F00;&#x670D;&#x52A1; service redisd stop &#x5173;&#x95ED;&#x670D;&#x52A1; ssh&#x7684;&#x5B89;&#x88C5; &#x68C0;&#x67E5;CentOS7&#x662F;&#x5426;&#x5B89;&#x88C5;&#x4E86;openssh-server yum list installed | grep openssh-server &#x6B64;&#x5904;&#x663E;&#x793A;&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x4E86; openssh-server &#x5982;&#x679C;&#x53C8;&#x6CA1;&#x4EFB;&#x4F55;&#x8F93;&#x51FA;&#x663E;&#x793A;&#x8868;&#x793A;&#x6CA1;&#x6709;&#x5B89;&#x88C5;,&#x901A;&#x8FC7;&#x8F93;&#x5165;yum install openssh-server&#x5B89;&#x88C5; yum install openssh-server &#x627E;&#x5230;&#x4E86; /etc/ssh/ &#x76EE;&#x5F55;&#x4E0B;&#x7684;sshd&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6; sshd_config&#xFF0C;&#x7528;Vim&#x7F16;&#x8F91;&#x5668;&#x6253;&#x5F00;&#x5C06;&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x5173;&#x4E8E;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x3001;&#x76D1;&#x542C;&#x5730;&#x5740;&#x524D;&#x7684; # &#x53F7;&#x53BB;&#x9664; Port 22 ListenAddress 0.0.0.0 ListerAddress :: PermiRootLogin yes PasswordAuthentication yes &#x5F00;&#x542F;sshd&#x670D;&#x52A1;&#xFF0C;&#x8F93;&#x5165; sudo service sshd start &#x68C0;&#x67E5; sshd &#x670D;&#x52A1;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5F00;&#x542F;&#xFF0C;&#x8F93;&#x5165;ps -ef | grep sshd &#x4F7F;&#x7528;ip addr&#x67E5;&#x770B;&#x5730;&#x5740; &#x4E3A;&#x4E86;&#x514D;&#x53BB;&#x6BCF;&#x6B21;&#x5F00;&#x542F; CentOS &#x65F6;&#xFF0C;&#x90FD;&#x8981;&#x624B;&#x52A8;&#x5F00;&#x542F; sshd &#x670D;&#x52A1;&#xFF0C; &#x5C06; sshd &#x670D;&#x52A1;&#x6DFB;&#x52A0;&#x81F3;&#x81EA;&#x542F;&#x52A8;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x8F93;&#x5165;systemctl enable sshd.service &#x901A;&#x8FC7;&#x672C;&#x673A;&#x5DE5;&#x5177;&#x8FDB;&#x884C;&#x8FDE;&#x63A5; Redis&#x548C;memcached&#x7684;&#x533A;&#x522B; &#x5185;&#x5B58;&#x7BA1;&#x7406;&#x673A;&#x5236; Memcached&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;Slab Allocation&#x673A;&#x5236;&#x7BA1;&#x7406;&#x5185;&#x5B58;&#xFF0C;&#x5176;&#x4E3B;&#x8981;&#x601D;&#x60F3;&#x662F;&#x6309;&#x7167;&#x9884;&#x5148;&#x89C4;&#x5B9A;&#x7684;&#x5927;&#x5C0F;&#xFF0C; &#x5C06;&#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#x5206;&#x5272;&#x6210;&#x7279;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x5757; &#x4EE5;&#x5B58;&#x50A8;&#x76F8;&#x5E94;&#x957F;&#x5EA6;&#x7684;key-value&#x6570;&#x636E;&#x8BB0;&#x5F55;&#xFF0C;&#x4EE5;&#x5B8C;&#x5168;&#x89E3;&#x51B3;&#x5185;&#x5B58;&#x788E; &#x7247;&#x95EE;&#x9898;&#x3002;&#x7A7A;&#x95F2;&#x5217;&#x8868;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x5B58;&#x50A8;&#x72B6;&#x6001;,&#x3010;&#x7C7B;&#x4F3C;&#x4E8E;Java&#x865A;&#x62DF;&#x673A;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x914D;&#xFF0C;&#x7A7A;&#x95F2;&#x5217;&#x8868;&#x3011; Redis&#x4F7F;&#x7528;&#x73B0;&#x573A;&#x7533;&#x8BF7;&#x5185;&#x5B58;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x5F88;&#x5C11;&#x4F7F;&#x7528;free-list&#x7B49;&#x65B9;&#x5F0F;&#x6765;&#x4F18;&#x5316;&#x5185;&#x5B58;&#x5206;&#x914D;&#xFF0C;&#x4F1A;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x788E;&#x7247;,&#x3010;CPU&#x5185;&#x5B58;&#x662F;&#x8FDE;&#x7EED;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;Java&#x865A;&#x62DF;&#x673A;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x914D;&#xFF0C;&#x76F4;&#x63A5;&#x5185;&#x5B58;&#x5206;&#x914D;&#xFF08;&#x6307;&#x9488;&#x78B0;&#x649E;&#xFF09;&#x3011; &#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#x65B9;&#x6848; memcached&#x4E0D;&#x652F;&#x6301;&#x5185;&#x5B58;&#x6570;&#x636E;&#x7684;&#x6301;&#x4E45;&#x5316;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4EE5;in-memory&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x50A8;&#x3002; redis&#x652F;&#x6301;&#x6301;&#x4E45;&#x5316;&#x64CD;&#x4F5C;&#x3002;redis&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x6301;&#x4E45;&#x5316;&#x65B9;&#x6CD5;&#x6765;&#x8BB2;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5230;&#x786C;&#x76D8;&#x91CC;&#x9762;&#xFF0C; &#x7B2C;&#x4E00;&#x79CD;&#x662F;rdb&#x5F62;&#x5F0F;&#xFF0C;&#x4E00;&#x79CD;&#x662F;aof&#x5F62;&#x5F0F; rdb&#xFF1A;&#x5C5E;&#x4E8E;&#x5168;&#x91CF;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x5907;&#x4EFD;&#x7684;&#x662F;&#x6570;&#x636E; append only if,&#x589E;&#x91CF;&#x6301;&#x4E45;&#x5316;&#x5907;&#x4EFD;&#xFF0C;&#x5907;&#x4EFD;&#x7684;&#x662F;&#x6307;&#x4EE4; &#x7F13;&#x5B58;&#x6570;&#x636E;&#x8FC7;&#x671F;&#x673A;&#x5236; &#x6982;&#x5FF5;&#xFF1A;key&#xFF0C;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x5C0F;&#x65F6;&#x4E4B;&#x540E;&#x8FC7;&#x671F;&#xFF0C;&#x8D85;&#x8FC7;&#x4E00;&#x4E2A;&#x5C0F;&#x65F6;&#x67E5;&#x6570;&#x636E;&#x5C31;&#x4F1A;&#x67E5;&#x4E0D;&#x5230; Memcached &#x5728;&#x5220;&#x9664;&#x5931;&#x6548;&#x4E3B;&#x952E;&#x65F6;&#x4E5F;&#x662F;&#x91C7;&#x7528;&#x7684;&#x6D88;&#x6781;&#x65B9;&#x6CD5;&#xFF0C;&#x5373; Memcached &#x5185;&#x90E8;&#x4E5F;&#x4E0D;&#x4F1A;&#x76D1;&#x89C6;&#x4E3B;&#x952E;&#x662F;&#x5426;&#x5931;&#x6548;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x901A;&#x8FC7; Get &#x8BBF;&#x95EE;&#x4E3B;&#x952E;&#x65F6;&#x624D;&#x4F1A;&#x68C0;&#x67E5;&#x5176;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5931;&#x6548; Redis &#x5B9A;&#x65F6;&#x3001;&#x5B9A;&#x671F;&#x7B49;&#x591A;&#x79CD;&#x7F13;&#x5B58;&#x5931;&#x6548;&#x673A;&#x5236;&#xFF0C;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x6CC4;&#x6F0F; &#x652F;&#x6301;&#x7684;&#x6570;&#x636E;&#x7C7B;&#x578B; Memcached&#x652F;&#x6301;&#x5355;&#x4E00;&#x6570;&#x636E;&#x7C7B;&#x578B;,[k,v] redis&#x652F;&#x6301;&#x591A;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B; redis&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x548C;&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x7684;&#x9009;&#x62E9; redis&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x5E93;&#x7684;&#x4F7F;&#x7528;&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x7F3A;&#x70B9; &#x4F18;&#x70B9; &#x6CA1;&#x6709;Scheme&#x7EA6;&#x675F;&#xFF0C;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x7684;&#x53D8;&#x66F4;&#x76F8;&#x5BF9;&#x5BB9;&#x6613;&#xFF0C;&#x4E00;&#x5F00;&#x59CB;&#x786E;&#x5B9A;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C; &#x6297;&#x538B;&#x80FD;&#x529B;&#x5F3A;&#xFF0C;&#x6027;&#x80FD;&#x6781;&#x9AD8;&#xFF0C;10&#x4E07;/qps &#x7F3A;&#x70B9; &#x6CA1;&#x6709;&#x7D22;&#x5F15;&#xFF0C;&#x6CA1;&#x6709;&#x5916;&#x952E;&#xFF0C;&#x7F3A;&#x5C11;int/date&#x7B49;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF0C;&#x591A;&#x6761;&#x4EF6;&#x67E5;&#x8BE2;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x96C6;&#x5408;&#x5185;&#x8054;(sinter,zinterstore) &#x548C;&#x8FDE;&#x63A5;&#x95F4;&#x63A5;&#x5B9E;&#x73B0;&#x5F00;&#x53D1;&#x6548;&#x7387;&#x4F4E;&#xFF0C;&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#x4E0D;&#x4F73; redis&#x4F5C;&#x4E3A;&#x7F13;&#x5B58;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x642D;&#x914D;&#x6570;&#x636E;&#x5E93;&#x4F7F;&#x7528;&#x7684;&#x4E24;&#x79CD;&#x65B9;&#x6848; &#x7B2C;&#x4E00;&#x5C42;&#x5728;&#x7F13;&#x5B58;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x679C;&#x5F97;&#x5230;&#x6570;&#x636E;&#x5219;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#xFF0C; &#x7B2C;&#x4E8C;&#x5C42;&#x5728;&#x6570;&#x636E;&#x5E93;&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#xFF0C;&#x5E76;&#x4E14;&#x5237;&#x65B0;&#x7F13;&#x5B58; &#x4F5C;&#x4E3A;mybatis/hibernate&#x4E8C;&#x7EA7;&#x7F13;&#x5B58;&#x4F7F;&#x7528;&#x65B9;&#x6848;, &#x4E00;&#x7EA7;&#x7F13;&#x5B58;&#xFF1A;sqlSession&#xFF0C;&#x8FDB;&#x7A0B;&#x7F13;&#x5B58;&#xFF0C;&#x5355;&#x6B21;&#x94FE;&#x63A5;&#x6709;&#x6548; Redis&#x4E94;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x548C;&#x6D88;&#x606F;&#x8BA2;&#x9605;String set/get &#x8BBE;&#x7F6E;key&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x4E3A;String&#x7C7B;&#x578B;&#x7684;value &#x83B7;&#x53D6;key&#x5BF9;&#x5E94;&#x7684;&#x503C; mget &#x6279;&#x91CF;&#x83B7;&#x53D6;&#x591A;&#x4E2A;key&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x53EF;&#x4EE5;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE;nil incr &amp;&amp; incrby incr&#x5BF9;key&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x52A0;&#x52A0;&#x64CD;&#x4F5C;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x7684;&#x503C;;incrby&#x52A0;&#x6307;&#x5B9A;&#x503C; setnx &#x8BBE;&#x7F6E;key&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x4E3A;String&#x7C7B;&#x578B;&#x7684;value&#xFF0C;&#x5982;&#x679C;key&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE;0 setex &#x8BBE;&#x7F6E;key&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x4E3A;String&#x7C7B;&#x578B;&#x7684;value&#xFF0C;&#x5E76;&#x8BBE;&#x5B9A;&#x6709;&#x6548;&#x671F; &#x5176;&#x4ED6;&#x547D;&#x4EE4; getrange &#x83B7;&#x53D6;key&#x5BF9;&#x5E94;value&#x7684;&#x5B50;&#x5B57;&#x7B26;&#x4E32; mset &#x6279;&#x91CF;&#x8BBE;&#x7F6E;&#x591A;&#x4E2A;key&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x6210;&#x529F;&#x8868;&#x793A;&#x6240;&#x6709;&#x503C;&#x90FD;&#x88AB;&#x8BBE;&#x7F6E;&#xFF0C;&#x5426;&#x5219;&#x8FD4;&#x56DE;0&#x8868;&#x793A;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x503C;&#x88AB;&#x8BBE;&#x7F6E; msetnx&#xFF0C;&#x540C;mset&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#x5C31;&#x8BBE;&#x7F6E;&#xFF0C;&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x5DF2;&#x6709;&#x7684;key getset &#x8BBE;&#x7F6E;key&#x7684;&#x503C;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;key&#x65E7;&#x7684;&#x503C; append&#xFF1A;&#x7ED9;&#x6307;&#x5B9A;key&#x7684;value&#x8FFD;&#x52A0;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x65B0;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x957F;&#x5EA6; Hash hset &#x8BBE;&#x7F6E;key&#x5BF9;&#x5E94;&#x7684;HashMap&#x4E2D;&#x7684;field&#x7684;value hget &#x83B7;&#x53D6;key&#x5BF9;&#x5E94;&#x7684;HashMap&#x4E2D;&#x7684;field&#x7684;value hgetall &#x83B7;&#x53D6;key&#x5BF9;&#x5E94;&#x7684;HashMap&#x4E2D;&#x7684;&#x6240;&#x6709;field&#x7684;value hlen &#x8FD4;&#x56DE;key&#x5BF9;&#x5E94;&#x7684;HashMap&#x4E2D;&#x7684;field&#x7684;&#x6570;&#x91CF; redis&#x7684;Hash&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;key&#xFF08;hash&#x8868;&#x540D;&#x79F0;&#xFF09;&#x5BF9;&#x5E94;&#x7684;value&#x5B9E;&#x9645;&#x7684;&#x5185;&#x90E8;&#x5B58;&#x50A8;&#x7ED3;&#x6784;&#x4E3A;&#x4E00;&#x4E2A;HashMap Hash&#x7279;&#x522B;&#x9002;&#x5408;&#x5B58;&#x50A8;&#x5BF9;&#x8C61; &#x76F8;&#x5BF9;&#x4E8E;&#x628A;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x5B58;&#x50A8;&#x4E3A;String&#x7C7B;&#x578B;&#xFF0C;&#x5C06;&#x6574;&#x4E2A;&#x5BF9;&#x8C61;&#x5B58;&#x50A8;&#x5728;Hash&#x7C7B;&#x578B;&#x4E2D;&#x4F1A;&#x5360;&#x7528;&#x66F4;&#x5C11;&#x5185;&#x5B58;&#x3002; &#x6240;&#x5B58;&#x50A8;&#x7684;&#x6210;&#x5458;&#x8F83;&#x5C11;&#x65F6;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x4E3A;zipmap&#xFF0C;&#x5F53;&#x6210;&#x5458;&#x6570;&#x91CF;&#x589E;&#x5927;&#x65F6;&#x4F1A;&#x81EA;&#x52A8;&#x8F6C;&#x6210;&#x771F;&#x6B63;&#x7684;HashMap,&#x6B64;&#x65F6;encoding&#x4E3A;ht&#x3002; &#x8FD0;&#x7528;&#x573A;&#x666F;&#xFF1A; &#x5982;&#x7528;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x6765;&#x5B58;&#x50A8;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#xFF0C;&#x8BA2;&#x5355;&#x4FE1;&#x606F;&#x7B49;&#x7B49;&#x3002; List lpush &#x5728;key&#x5BF9;&#x5E94;&#x7684;list&#x7684;&#x5934;&#x90E8;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5143;&#x7D20; lrange &#x83B7;&#x53D6;key&#x5BF9;&#x5E94;&#x7684;list&#x7684;&#x6307;&#x5B9A;&#x4E0B;&#x6807;&#x8303;&#x56F4;&#x7684;&#x5143;&#x7D20;&#xFF0C;-1&#x8868;&#x793A;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x5143;&#x7D20; lpop &#x4ECE;key&#x5BF9;&#x5E94;&#x7684;list&#x7684;&#x5C3E;&#x90E8;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x8BE5;&#x5143;&#x7D20; rpush &#x5728;key&#x5BF9;&#x5E94;&#x7684;list&#x7684;&#x5C3E;&#x90E8;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5143;&#x7D20; rpop &#x4ECE;key&#x5BF9;&#x5E94;&#x7684;list&#x7684;&#x5C3E;&#x90E8;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x8BE5;&#x5143;&#x7D20; Hash hset &#x8BBE;&#x7F6E;key&#x5BF9;&#x5E94;&#x7684;HashMap&#x4E2D;&#x7684;field&#x7684;value hget &#x83B7;&#x53D6;key&#x5BF9;&#x5E94;&#x7684;HashMap&#x4E2D;&#x7684;field&#x7684;value hgetall &#x83B7;&#x53D6;key&#x5BF9;&#x5E94;&#x7684;HashMap&#x4E2D;&#x7684;&#x6240;&#x6709;field&#x7684;value hlen &#x8FD4;&#x56DE;key&#x5BF9;&#x5E94;&#x7684;HashMap&#x4E2D;&#x7684;field&#x7684;&#x6570;&#x91CF; SortSet(zset) zadd &#x5728;key&#x5BF9;&#x5E94;&#x7684;zset&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5143;&#x7D20; zrange &#x83B7;&#x53D6;key&#x5BF9;&#x5E94;&#x7684;zset&#x4E2D;&#x6307;&#x5B9A;&#x8303;&#x56F4;&#x7684;&#x5143;&#x7D20;&#xFF0C;-1&#x8868;&#x793A;&#x83B7;&#x53D6;&#x6240;&#x6709;&#x5143;&#x7D20; zrem &#x5220;&#x9664;key&#x5BF9;&#x5E94;&#x7684;zset&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x5143;&#x7D20; zrangebyscore &#x8FD4;&#x56DE;&#x6709;&#x5E8F;&#x96C6;key&#x4E2D;&#xFF0C;&#x6307;&#x5B9A;&#x5206;&#x6570;&#x8303;&#x56F4;&#x7684;&#x5143;&#x7D20;&#x5217;&#x8868;,&#x6392;&#x884C;&#x699C;&#x4E2D;&#x8FD0;&#x7528; zrank &#x8FD4;&#x56DE;key&#x5BF9;&#x5E94;&#x7684;zset&#x4E2D;&#x6307;&#x5B9A;member&#x7684;&#x6392;&#x540D;&#x3002;&#x5176;&#x4E2D;member&#x6309;score&#x503C;&#x9012;&#x589E;(&#x4ECE;&#x5C0F;&#x5230;&#x5927;&#xFF09;&#xFF1B; &#x6392;&#x540D;&#x4EE5;0&#x4E3A;&#x5E95;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;score&#x503C;&#x6700;&#x5C0F;&#x7684;&#x6210;&#x5458;&#x6392;&#x540D;&#x4E3A;0,&#x6392;&#x884C;&#x699C;&#x4E2D;&#x8FD0;&#x7528; redis&#x53D1;&#x5E03;&#x8BA2;&#x9605; &#x4F5C;&#x7528;&#xFF1A;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x7C7B;&#x4F3C;&#x4E8E;&#x4FE1;&#x606F;&#x7BA1;&#x9053;&#xFF0C;&#x7528;&#x6765;&#x8FDB;&#x884C;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x6D88;&#x606F;&#x89E3;&#x8026;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;mq&#xFF0C;rabbitmq&#x3001;rocketmq&#x3001;kafka&#x3001;activemq&#x4E3B;&#x8981;&#x6709;&#x6D88;&#x606F;&#x53D1;&#x5E03;&#x8005;&#x548C;&#x6D88;&#x606F;&#x8BA2;&#x9605;&#x8005;&#x3002;&#x6BD4;&#x5982;&#x8FD0;&#x7528;&#x4E8E;&#xFF1A;&#x8BA2;&#x5355;&#x652F;&#x4ED8;&#x6210;&#x529F;&#xFF0C;&#x4F1A;&#x5458;&#x7CFB;&#x7EDF;&#x52A0;&#x79EF;&#x5206;&#x3001;&#x94B1;&#x5305;&#x8FDB;&#x884C;&#x6263;&#x94B1;&#x64CD;&#x4F5C;&#x3001;&#x53D1;&#x8D27;&#x7CFB;&#x7EDF;&#xFF08;&#x4E0B;&#x53D1;&#x5546;&#x54C1;&#xFF09; PUBLISH &#x5C06;&#x4FE1;&#x606F;message&#x53D1;&#x9001;&#x5230;&#x6307;&#x5B9A;&#x7684;&#x9891;&#x9053;channel&#x3002;&#x8FD4;&#x56DE;&#x6536;&#x5230;&#x6D88;&#x606F;&#x7684;&#x5BA2;&#x6237;&#x7AEF;&#x6570;&#x91CF; SUBSCRIBE &#x8BA2;&#x9605;&#x7ED9;&#x6307;&#x5B9A;&#x9891;&#x9053;&#x7684;&#x4FE1;&#x606F; UNSUBSCRIBE &#x53D6;&#x6D88;&#x8BA2;&#x9605;&#x6307;&#x5B9A;&#x7684;&#x9891;&#x9053;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;&#xFF0C;&#x5219;&#x53D6;&#x6D88;&#x8BA2;&#x9605;&#x6240;&#x6709;&#x7684;&#x9891;&#x9053;&#x3002; redis&#x7684;&#x6D88;&#x606F;&#x8BA2;&#x9605;&#x53D1;&#x5E03;&#x548C;mq&#x5BF9;&#x6BD4;&#xFF1F; &#x7B54;&#xFF1A;redis&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x8584;&#x5F31;&#x4F46;&#x6BD4;&#x8F83;&#x8F7B;&#x91CF;&#x7EA7;&#xFF0C;mq&#x6D88;&#x606F;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x6570;&#x636E;&#x53EF;&#x9760;&#x6027;&#x6BD4;&#x8F83;&#x5DEE;&#xFF0C;&#x65E0;&#x540E;&#x53F0;&#x529F;&#x80FD;&#x53EF;msgId&#x3001;msgKey&#x8FDB;&#x884C;&#x67E5;&#x8BE2;&#x6D88;&#x606F; Redis&#x4E8B;&#x52A1; MULTI &#x4E0E; EXEC&#x547D;&#x4EE4; &#x4EE5; MULTI &#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x591A;&#x4E2A;&#x547D;&#x4EE4;&#x5165;&#x961F;&#x5230;&#x4E8B;&#x52A1;&#x4E2D;&#xFF0C; &#x6700;&#x540E;&#x7531; EXEC &#x547D;&#x4EE4;&#x89E6;&#x53D1;&#x4E8B;&#x52A1;&#xFF0C; &#x4E00;&#x5E76;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4; DISCARD&#x547D;&#x4EE4; DISCARD &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x53D6;&#x6D88;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C; &#x5B83;&#x6E05;&#x7A7A;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x961F;&#x5217;&#xFF0C; &#x7136;&#x540E;&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x4ECE;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x8C03;&#x6574;&#x56DE;&#x975E;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#xFF0C; &#x6700;&#x540E;&#x8FD4;&#x56DE;&#x5B57;&#x7B26;&#x4E32; OK &#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C; &#x8BF4;&#x660E;&#x4E8B;&#x52A1;&#x5DF2;&#x88AB;&#x53D6;&#x6D88; WATCH&#x547D;&#x4EE4; WATCH &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x5728;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#x76D1;&#x89C6;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x952E;&#xFF1A; &#x5F53;&#x8C03;&#x7528; EXEC &#x547D;&#x4EE4;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x65F6;&#xFF0C; &#x5982;&#x679C;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x88AB;&#x76D1;&#x89C6;&#x7684;&#x952E;&#x5DF2;&#x7ECF;&#x88AB;&#x5176;&#x4ED6;&#x5BA2;&#x6237;&#x7AEF;&#x4FEE;&#x6539;&#x4E86;&#xFF0C; &#x90A3;&#x4E48;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x4E0D;&#x518D;&#x6267;&#x884C;&#xFF0C; &#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x5931;&#x8D25;&#x3002; redis&#x4E8B;&#x52A1;ACID &#x539F;&#x5B50;&#x6027;&#xFF08;Atomicity&#xFF09; &#x5355;&#x4E2A; Redis &#x547D;&#x4EE4;&#x7684;&#x6267;&#x884C;&#x662F;&#x539F;&#x5B50;&#x6027;&#x7684;&#xFF0C;&#x4F46; Redis &#x6CA1;&#x6709;&#x5728;&#x4E8B;&#x52A1;&#x4E0A;&#x589E;&#x52A0;&#x4EFB;&#x4F55;&#x7EF4;&#x6301;&#x539F;&#x5B50;&#x6027;&#x7684;&#x673A;&#x5236;&#xFF0C;&#x6240;&#x4EE5; Redis &#x4E8B;&#x52A1;&#x7684;&#x6267;&#x884C;&#x5E76;&#x4E0D;&#x662F;&#x539F;&#x5B50;&#x6027;&#x7684;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x547D;&#x4EE4;&#x90FD;&#x88AB;&#x6210;&#x529F;&#x5730;&#x6267;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x79F0;&#x8FD9;&#x4E2A;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x6210;&#x529F; &#x4E00;&#x81F4;&#x6027;&#xFF08;Consistency&#xFF09; &#x5165;&#x961F;&#x9519;&#x8BEF; &#x5728;&#x547D;&#x4EE4;&#x5165;&#x961F;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5BA2;&#x6237;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x6BD4;&#x5982;&#x547D;&#x4EE4;&#x7684;&#x53C2;&#x6570;&#x6570;&#x91CF;&#x4E0D;&#x5BF9;&#xFF0C;&#x7B49;&#x7B49;&#xFF0C; &#x90A3;&#x4E48;&#x670D;&#x52A1;&#x5668;&#x5C06;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FA;&#x9519;&#x4FE1;&#x606F;&#xFF0C; &#x5E76;&#x4E14;&#x5C06;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x4E8B;&#x52A1;&#x72B6;&#x6001;&#x8BBE;&#x4E3A; REDIS_DIRTY_EXEC &#x3002; &#x6267;&#x884C;&#x9519;&#x8BEF; &#x5982;&#x679C;&#x547D;&#x4EE4;&#x5728;&#x4E8B;&#x52A1;&#x6267;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#xFF0C;&#x6BD4;&#x5982;&#x8BF4;&#xFF0C;&#x5BF9;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684; key &#x6267;&#x884C;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x64CD;&#x4F5C;&#xFF0C; &#x90A3;&#x4E48; Redis &#x53EA;&#x4F1A;&#x5C06;&#x9519;&#x8BEF;&#x5305;&#x542B;&#x5728;&#x4E8B;&#x52A1;&#x7684;&#x7ED3;&#x679C;&#x4E2D;&#xFF0C; &#x8FD9;&#x4E0D;&#x4F1A;&#x5F15;&#x8D77;&#x4E8B;&#x52A1;&#x4E2D;&#x65AD;&#x6216;&#x6574;&#x4E2A;&#x5931;&#x8D25;&#xFF0C;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5DF2;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x547D;&#x4EE4;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x540E;&#x9762;&#x8981;&#x6267;&#x884C;&#x7684;&#x4E8B;&#x52A1;&#x547D;&#x4EE4;&#xFF0C; &#x6240;&#x4EE5;&#x5B83;&#x5BF9;&#x4E8B;&#x52A1;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x4E5F;&#x6CA1;&#x6709;&#x5F71;&#x54CD; &#x9694;&#x79BB;&#x6027;&#xFF08;Isolation&#xFF09; WATCH &#x547D;&#x4EE4;&#x7528;&#x4E8E;&#x5728;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#x76D1;&#x89C6;&#x4EFB;&#x610F;&#x6570;&#x91CF;&#x7684;&#x952E;&#xFF1A; &#x5F53;&#x8C03;&#x7528; EXEC &#x547D;&#x4EE4;&#x6267;&#x884C;&#x4E8B;&#x52A1;&#x65F6;&#xFF0C; &#x5982;&#x679C;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x88AB;&#x76D1;&#x89C6;&#x7684;&#x952E;&#x5DF2;&#x7ECF;&#x88AB;&#x5176;&#x4ED6;&#x5BA2;&#x6237;&#x7AEF;&#x4FEE;&#x6539;&#x4E86;&#xFF0C; &#x90A3;&#x4E48;&#x6574;&#x4E2A;&#x4E8B;&#x52A1;&#x4E0D;&#x518D;&#x6267;&#x884C;&#xFF0C; &#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x5931;&#x8D25; &#x6301;&#x4E45;&#x6027;&#xFF08;Durability&#xFF09; &#x56E0;&#x4E3A;&#x4E8B;&#x52A1;&#x4E0D;&#x8FC7;&#x662F;&#x7528;&#x961F;&#x5217;&#x5305;&#x88F9;&#x8D77;&#x4E86;&#x4E00;&#x7EC4; Redis &#x547D;&#x4EE4;&#xFF0C;&#x5E76;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x4EFB;&#x4F55;&#x989D;&#x5916;&#x7684;&#x6301;&#x4E45;&#x6027;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x4E8B;&#x52A1;&#x7684;&#x6301;&#x4E45;&#x6027;&#x7531; Redis &#x6240;&#x4F7F;&#x7528;&#x7684;&#x6301;&#x4E45;&#x5316;&#x6A21;&#x5F0F;&#x51B3;&#x5B9A; &#x7F13;&#x5B58;&#x7684;&#x6536;&#x76CA;&#x548C;&#x6210;&#x672C; &#x7F13;&#x5B58;&#x5E26;&#x6765;&#x7684;&#x56DE;&#x62A5; &#x9AD8;&#x901F;&#x8BFB;&#x5199; &#x7F13;&#x5B58;&#x52A0;&#x901F;&#x8BFB;&#x5199;&#x901F;&#x5EA6;&#xFF1A;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x5E93;&#x7ED3;&#x679C; &#x964D;&#x4F4E;&#x540E;&#x7AEF;&#x8D1F;&#x8F7D; &#x524D;&#x7AEF;&#x7F13;&#x5B58;&#x964D;&#x4F4E;&#x540E;&#x7AEF;&#x670D;&#x52A1;&#x5668;&#x8D1F;&#x8F7D; &#x4E1A;&#x52A1;&#x7AEF;&#x4F7F;&#x7528;Redis&#x964D;&#x4F4E;&#x540E;&#x7AEF;MySQL&#x8D1F;&#x8F7D;&#x7B49; &#x7F13;&#x5B58;&#x5E26;&#x6765;&#x7684;&#x4EE3;&#x4EF7; &#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4; &#x7F13;&#x5B58;&#x5C42;&#x548C;&#x6570;&#x636E;&#x5C42;&#x6709;&#x65F6;&#x95F4;&#x7A97;&#x53E3;&#x4E0D;&#x4E00;&#x81F4;&#xFF0C;&#x548C;&#x66F4;&#x65B0;&#x7B56;&#x7565;&#x6709;&#x5173; &#x4EE3;&#x7801;&#x7EF4;&#x62A4;&#x6210;&#x672C; &#x539F;&#x672C;&#x53EA;&#x9700;&#x8981;&#x8BFB;&#x5199;MySQL&#x5C31;&#x80FD;&#x5B9E;&#x73B0;&#x529F;&#x80FD;&#xFF0C;&#x4F46;&#x52A0;&#x5165;&#x4E86;&#x7F13;&#x5B58;&#x4E4B;&#x540E;&#x5C31;&#x8981;&#x53BB;&#x7EF4;&#x62A4;&#x7F13;&#x5B58;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x589E;&#x52A0;&#x4E86;&#x4EE3;&#x7801;&#x590D;&#x6742;&#x5EA6;&#x3002; &#x5806;&#x5185;&#x7F13;&#x5B58;&#x53EF;&#x80FD;&#x5E26;&#x6765;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x7684;&#x98CE;&#x9669;&#x5F71;&#x54CD;&#x7528;&#x6237;&#x8FDB;&#x7A0B; &#x5806;&#x5185;&#x7F13;&#x5B58;&#x548C;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668;&#x7F13;&#x5B58;redis&#x7684;&#x9009;&#x62E9; &#x5806;&#x5185;&#x7F13;&#x5B58;&#x4E00;&#x822C;&#x6027;&#x80FD;&#x66F4;&#x597D;&#xFF0C;&#x8FDC;&#x7A0B;&#x7F13;&#x5B58;&#x9700;&#x8981;&#x5957;&#x63A5;&#x5B57;&#x4F20;&#x8F93; &#x7528;&#x6237;&#x7EA7;&#x522B;&#x7F13;&#x5B58;&#x5C3D;&#x91CF;&#x91C7;&#x7528;&#x8FDC;&#x7A0B;&#x7F13;&#x5B58; &#x5927;&#x6570;&#x636E;&#x91CF;&#x5C3D;&#x91CF;&#x91C7;&#x7528;&#x8FDC;&#x7A0B;&#x7F13;&#x5B58;&#xFF0C;&#x670D;&#x52A1;&#x8282;&#x70B9;&#x5316;&#x539F;&#x5219; &#x7F13;&#x5B58;&#x96EA;&#x5D29; &#x4EC0;&#x4E48;&#x662F;&#x7F13;&#x5B58;&#x96EA;&#x5D29;? &#x5982;&#x679C;&#x7F13;&#x5B58;&#x96C6;&#x4E2D;&#x5728;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5185;&#x5931;&#x6548;&#xFF0C;&#x53D1;&#x751F;&#x5927;&#x91CF;&#x7684;&#x7F13;&#x5B58;&#x7A7F;&#x900F;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x67E5;&#x8BE2;&#x90FD;&#x843D;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#xFF0C;&#x9020;&#x6210;&#x4E86;&#x7F13;&#x5B58;&#x96EA;&#x5D29;&#x3002;&#x7531;&#x4E8E;&#x539F;&#x6709;&#x7F13;&#x5B58;&#x5931;&#x6548;&#xFF0C;&#x65B0;&#x7F13;&#x5B58;&#x672A;&#x5230;&#x671F;&#x95F4;&#x6240;&#x6709;&#x539F;&#x672C;&#x5E94;&#x8BE5;&#x8BBF;&#x95EE;&#x7F13;&#x5B58;&#x7684;&#x8BF7;&#x6C42;&#x90FD;&#x53BB;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#x4E86;&#xFF0C;&#x800C;&#x5BF9;&#x6570;&#x636E;&#x5E93;CPU &#x548C;&#x5185;&#x5B58;&#x9020;&#x6210;&#x5DE8;&#x5927;&#x538B;&#x529B;&#xFF0C;&#x4E25;&#x91CD;&#x7684;&#x4F1A;&#x9020;&#x6210;&#x6570;&#x636E;&#x5E93;&#x5B95;&#x673A; &#x5982;&#x4F55;&#x9632;&#x6B62;&#x7F13;&#x5B58;&#x96EA;&#x5D29; &#x52A0;&#x9501;&#x6392;&#x961F; key&#xFF1A; whiltList value&#xFF1A;1000w&#x4E2A;uid &#x6307;&#x5B9A;setNx whiltList value nullValue mutex&#x4E92;&#x65A5;&#x9501;&#x89E3;&#x51B3;&#xFF0C;Redis&#x7684;SETNX&#x53BB;set&#x4E00;&#x4E2A;mutex key&#xFF0C; &#x5F53;&#x64CD;&#x4F5C;&#x8FD4;&#x56DE;&#x6210;&#x529F;&#x65F6;&#xFF0C;&#x518D;&#x8FDB;&#x884C;load db&#x7684;&#x64CD;&#x4F5C;&#x5E76;&#x56DE;&#x8BBE;&#x7F13;&#x5B58;&#xFF1B; &#x5426;&#x5219;&#xFF0C;&#x5C31;&#x91CD;&#x8BD5;&#x6574;&#x4E2A;get&#x7F13;&#x5B58;&#x7684;&#x65B9;&#x6CD5; &#x6570;&#x636E;&#x9884;&#x70ED; &#x7F13;&#x5B58;&#x9884;&#x70ED;&#x5C31;&#x662F;&#x7CFB;&#x7EDF;&#x4E0A;&#x7EBF;&#x540E;&#xFF0C;&#x5C06;&#x76F8;&#x5173;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;&#x76F4;&#x63A5;&#x52A0;&#x8F7D;&#x5230;&#x7F13;&#x5B58;&#x7CFB;&#x7EDF;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x5728;&#x7528;&#x6237;&#x8BF7;&#x6C42;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5148;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x5C06;&#x6570;&#x636E;&#x7F13;&#x5B58;&#x7684;&#x95EE;&#x9898;!&#x7528;&#x6237;&#x76F4;&#x63A5;&#x67E5;&#x8BE2;&#x4E8B;&#x5148;&#x88AB;&#x9884;&#x70ED;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;!&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F13;&#x5B58;reload&#x673A;&#x5236;&#xFF0C;&#x9884;&#x5148;&#x53BB;&#x66F4;&#x65B0;&#x7F13;&#x5B58;&#xFF0C;&#x518D;&#x5373;&#x5C06;&#x53D1;&#x751F;&#x5927;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x524D;&#x624B;&#x52A8;&#x89E6;&#x53D1;&#x52A0;&#x8F7D;&#x7F13;&#x5B58;&#x4E0D;&#x540C;&#x7684;key &#x53CC;&#x5C42;&#x7F13;&#x5B58;&#x7B56;&#x7565; C1&#x4E3A;&#x539F;&#x59CB;&#x7F13;&#x5B58;&#xFF0C;C2&#x4E3A;&#x62F7;&#x8D1D;&#x7F13;&#x5B58;&#xFF0C;C1&#x5931;&#x6548;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;C2&#xFF0C;C1&#x7F13;&#x5B58;&#x5931;&#x6548;&#x65F6;&#x95F4;&#x8BBE;&#x7F6E;&#x4E3A;&#x77ED;&#x671F;&#xFF0C;C2&#x8BBE;&#x7F6E;&#x4E3A;&#x957F;&#x671F;&#x3002; &#x5B9A;&#x65F6;&#x66F4;&#x65B0;&#x7F13;&#x5B58;&#x7B56;&#x7565; &#x5931;&#x6548;&#x6027;&#x8981;&#x6C42;&#x4E0D;&#x9AD8;&#x7684;&#x7F13;&#x5B58;&#xFF0C;&#x5BB9;&#x5668;&#x542F;&#x52A8;&#x521D;&#x59CB;&#x5316;&#x52A0;&#x8F7D;&#xFF0C;&#x91C7;&#x7528;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x66F4;&#x65B0;&#x6216;&#x79FB;&#x9664;&#x7F13;&#x5B58; &#x8BBE;&#x7F6E;&#x4E0D;&#x540C;&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;&#x8BA9;&#x7F13;&#x5B58;&#x5931;&#x6548;&#x7684;&#x65F6;&#x95F4;&#x70B9;&#x5C3D;&#x91CF;&#x5747;&#x5300; &#x7F13;&#x5B58;&#x7A7F;&#x900F; &#x4EC0;&#x4E48;&#x662F;&#x7F13;&#x5B58;&#x7A7F;&#x900F;&#xFF1F; &#x7F13;&#x5B58;&#x7A7F;&#x900F;&#x662F;&#x6307;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#xFF0C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x6CA1;&#x6709;&#xFF0C;&#x81EA;&#x7136;&#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x4E5F;&#x4E0D;&#x4F1A;&#x6709;&#x3002;&#x8FD9;&#x6837;&#x5C31;&#x5BFC;&#x81F4;&#x7528;&#x6237;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#xFF0C; &#x5728;&#x7F13;&#x5B58;&#x4E2D;&#x627E;&#x4E0D;&#x5230;&#x5BF9;&#x5E94;key&#x7684;value&#xFF0C;&#x6BCF;&#x6B21;&#x90FD;&#x8981;&#x53BB;&#x6570;&#x636E;&#x5E93;&#x518D;&#x67E5;&#x8BE2;&#x4E00;&#x904D;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x7A7A;(&#x76F8;&#x5F53;&#x4E8E;&#x8FDB;&#x884C;&#x4E86;&#x4E24;&#x6B21; &#x65E0;&#x7528;&#x7684;&#x67E5;&#x8BE2;)&#x3002;&#x8FD9;&#x6837;&#x8BF7;&#x6C42;&#x5C31;&#x7ED5;&#x8FC7;&#x7F13;&#x5B58;&#x76F4;&#x63A5;&#x67E5;&#x6570;&#x636E;&#x5E93; &#x5982;&#x4F55;&#x9632;&#x6B62;&#x7F13;&#x5B58;&#x7A7F;&#x900F;? &#x91C7;&#x7528;&#x5E03;&#x9686;&#x8FC7;&#x6EE4;&#x5668;BloomFilter &#x5C06;&#x6240;&#x6709;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x7684;&#x6570;&#x636E;&#x54C8; &#x5E0C;&#x5230;&#x4E00;&#x4E2A;&#x8DB3;&#x591F;&#x5927;&#x7684; bitmap &#x4E2D;&#xFF0C;&#x4E00;&#x4E2A;&#x4E00;&#x5B9A;&#x4E0D;&#x5B58;&#x5728;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x88AB;&#x8FD9;&#x4E2A; bitmap &#x62E6;&#x622A;&#x6389;&#xFF0C;&#x4ECE;&#x800C;&#x907F;&#x514D;&#x4E86;&#x5BF9;&#x5E95;&#x5C42;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x7684;&#x67E5;&#x8BE2;&#x538B;&#x529B; &#x7F13;&#x5B58;&#x7A7A;&#x503C; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x67E5;&#x8BE2;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#x4E3A;&#x7A7A;(&#x4E0D;&#x7BA1;&#x662F;&#x6570;&#x636E;&#x4E0D; &#x5B58;&#x5728;&#xFF0C;&#x8FD8;&#x662F;&#x7CFB;&#x7EDF;&#x6545;&#x969C;)&#x6211;&#x4EEC;&#x4ECD;&#x7136;&#x628A;&#x8FD9;&#x4E2A;&#x7A7A;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x7F13;&#x5B58;&#xFF0C;&#x4F46;&#x5B83;&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#x4F1A;&#x5F88;&#x77ED;&#xFF0C;&#x6700;&#x957F;&#x4E0D;&#x8D85;&#x8FC7;&#x4E94;&#x5206;&#x949F;&#x3002; &#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x76F4;&#x63A5;&#x8BBE;&#x7F6E;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x5B58;&#x653E;&#x5230;&#x7F13;&#x5B58;&#xFF0C;&#x8FD9;&#x6837;&#x7B2C;&#x4E8C;&#x6B21;&#x5230;&#x7F13;&#x51B2;&#x4E2D;&#x83B7;&#x53D6;&#x5C31;&#x6709;&#x503C;&#x4E86;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x7EE7;&#x7EED;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fredis-er.html</url>
    <content type="text"><![CDATA[&#x5206;&#x5E03;&#x5F0F;&#x9501; &#x5206;&#x5E03;&#x5F0F;&#x9501;&#x662F;&#x4EC0;&#x4E48;? &#x5206;&#x5E03;&#x5F0F;&#x9501;&#x662F;&#x63A7;&#x5236;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x6216;&#x4E0D;&#x540C;&#x7CFB;&#x7EDF;&#x4E4B;&#x95F4;&#x5171;&#x540C;&#x8BBF;&#x95EE;&#x5171;&#x4EAB;&#x8D44;&#x6E90;&#x7684;&#x4E00;&#x79CD;&#x9501;&#x5B9E;&#x73B0; &#x5982;&#x679C;&#x4E0D;&#x540C;&#x7684;&#x7CFB;&#x7EDF;&#x6216;&#x540C;&#x4E00;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x4E0D;&#x540C;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x4E86;&#x67D0;&#x4E2A;&#x8D44;&#x6E90;&#x65F6;&#xFF0C;&#x5F80;&#x5F80;&#x901A;&#x8FC7;&#x4E92;&#x65A5;&#x6765;&#x9632;&#x6B62;&#x5F7C;&#x6B64;&#x5E72;&#x6270;&#x3002; &#x5206;&#x5E03;&#x9501;&#x7684;&#x597D;&#x5904;&#x662F;&#x4EC0;&#x4E48;? &#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x90E8;&#x7F72;&#x7684;&#x5E94;&#x7528;&#x96C6;&#x7FA4;&#x4E2D;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5728;&#x540C;&#x4E00;&#x64CD;&#x4F5C;&#x53EA;&#x80FD;&#x88AB;&#x4E00;&#x53F0;&#x673A;&#x5668;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x3002; &#x8BBE;&#x8BA1;&#x8981;&#x6C42; &#x8FD9;&#x628A;&#x9501;&#x8981;&#x662F;&#x4E00;&#x628A;&#x53EF;&#x91CD;&#x5165;&#x9501;&#xFF08;&#x907F;&#x514D;&#x6B7B;&#x9501;&#xFF09; &#x8FD9;&#x628A;&#x9501;&#x6709;&#x9AD8;&#x53EF;&#x7528;&#x7684;&#x83B7;&#x53D6;&#x9501;&#x548C;&#x91CA;&#x653E;&#x9501;&#x529F;&#x80FD; &#x8FD9;&#x628A;&#x9501;&#x83B7;&#x53D6;&#x9501;&#x548C;&#x91CA;&#x653E;&#x9501;&#x7684;&#x6027;&#x80FD;&#x8981;&#x597D;&#x2026; &#x5206;&#x5E03;&#x9501;&#x5B9E;&#x73B0;&#x65B9;&#x6848;&#x5206;&#x6790; &#x83B7;&#x53D6;&#x9501;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F7F;&#x7528; setnx(SETNX key val:&#x5F53;&#x4E14;&#x4EC5;&#x5F53; key &#x4E0D;&#x5B58;&#x5728;&#x65F6;&#xFF0C;set &#x4E00;&#x4E2A; key &#x4E3A; val &#x7684;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x8FD4;&#x56DE; 1; &#x82E5; key &#x5B58;&#x5728;&#xFF0C;&#x5219;&#x4EC0;&#x4E48;&#x90FD;&#x4E0D;&#x505A;&#xFF0C;&#x8FD4;&#x56DE; &#x3010;0&#x3011;&#x52A0;&#x9501;&#xFF0C;&#x9501;&#x7684; value &#x503C;&#x4E3A;&#x5F53;&#x524D;&#x5360;&#x6709;&#x9501;&#x670D;&#x52A1;&#x5668;&#x5185;&#x7F51;IP&#x7F16;&#x53F7;&#x62FC;&#x63A5;&#x4EFB;&#x52A1;&#x6807;&#x8BC6; &#x5728;&#x91CA;&#x653E;&#x9501;&#x7684;&#x65F6;&#x5019;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x3002;&#x5E76;&#x4F7F;&#x7528; expire &#x547D;&#x4EE4;&#x4E3A;&#x9501;&#x6DFB; &#x52A0;&#x4E00;&#x4E2A;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x8D85;&#x8FC7;&#x8BE5;&#x65F6;&#x95F4;&#x5219;&#x81EA;&#x52A8;&#x91CA;&#x653E;&#x9501;&#x3002; &#x8FD4;&#x56DE;1&#x5219;&#x6210;&#x529F;&#x83B7;&#x53D6;&#x9501;&#x3002;&#x8FD8;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x83B7;&#x53D6;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C; &#x82E5;&#x8D85;&#x8FC7;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x5219;&#x653E;&#x5F03;&#x83B7;&#x53D6;&#x9501;&#x3002;setex&#xFF08;key,value,expire&#xFF09;&#x8FC7;&#x671F;&#x4EE5;&#x79D2;&#x4E3A;&#x5355;&#x4F4D; &#x91CA;&#x653E;&#x9501;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5224;&#x65AD;&#x662F;&#x4E0D;&#x662F;&#x8BE5;&#x9501;&#xFF08;&#x5373;Value&#x4E3A;&#x5F53;&#x524D;&#x670D;&#x52A1;&#x5668;&#x5185;&#x7F51;IP&#x7F16;&#x53F7;&#x62FC;&#x63A5;&#x4EFB;&#x52A1;&#x6807;&#x8BC6;&#xFF09;&#xFF0C;&#x82E5;&#x662F;&#x8BE5;&#x9501;&#xFF0C;&#x5219;&#x6267;&#x884C; delete &#x8FDB;&#x884C;&#x9501;&#x91CA;&#x653E; Redis&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x5B9E;&#x73B0; springboot&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x914D;&#x7F6E;&#xFF0C;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x914D;&#x7F6E;&#x6B65;&#x9AA4; &#x5F00;&#x542F;springboot&#x6CE8;&#x89E3;@EnableScheduling &#x6267;&#x884C;&#x65B9;&#x6CD5;&#x52A0;&#x6CE8;&#x89E3; @Scheduled(cron=&#x201D;0/10 * * * * *&#x201D;) &#x89C4;&#x5F8B;&#xFF1A;&#x79D2;&#x5206;&#x65F6;&#x65E5;&#x6708;&#x5E74; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fredis.html</url>
    <content type="text"><![CDATA[1.Redis&#x662F;&#x4EC0;&#x4E48; Redis &#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#xFF08;BSD&#x8BB8;&#x53EF;&#xFF09;&#x7684;&#xFF0C;&#x5185;&#x5B58;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x7528;&#x4F5C;&#x6570;&#x636E;&#x5E93;&#x3001;&#x7F13;&#x5B58;&#x548C;&#x6D88;&#x606F;&#x4E2D;&#x95F4;&#x4EF6;&#x3002; &#x5B83;&#x652F;&#x6301;&#x591A; &#x79CD;&#x7C7B;&#x578B;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#xFF0C;&#x5982; &#x5B57;&#x7B26;&#x4E32;&#xFF08;strings&#xFF09;&#x3001;&#x6563;&#x5217;&#xFF08;hashes&#xFF09;&#x3001; &#x5217;&#x8868;&#xFF08;lists&#xFF09;&#x3001; &#x96C6;&#x5408;&#xFF08;sets&#xFF09;&#x3001; &#x6709;&#x5E8F;&#x96C6;&#x5408;&#xFF08;sorted sets&#xFF09;&#x7B49;&#x3002; 2.&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;redis &#x4ECE;&#x6570;&#x636E;&#x5E93;&#x7C7B;&#x578B;&#x3001;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x3001;&#x7279;&#x6B8A;&#x529F;&#x80FD;&#x8BB2;&#x89E3;Redis&#x548C;memcached&#x7684;&#x533A;&#x522B; &#x5185;&#x5B58;&#x7BA1;&#x7406;&#x673A;&#x5236; Memcached&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;Slab Allocation&#x673A;&#x5236;&#x7BA1;&#x7406;&#x5185;&#x5B58;&#xFF0C;&#x5176;&#x4E3B;&#x8981;&#x601D;&#x60F3;&#x662F;&#x6309;&#x7167;&#x9884;&#x5148;&#x89C4;&#x5B9A;&#x7684;&#x5927;&#x5C0F;&#xFF0C; &#x5C06;&#x5206;&#x914D;&#x7684;&#x5185;&#x5B58;&#x5206;&#x5272;&#x6210;&#x7279;&#x5B9A;&#x957F;&#x5EA6;&#x7684;&#x5757; &#x4EE5;&#x5B58;&#x50A8;&#x76F8;&#x5E94;&#x957F;&#x5EA6;&#x7684;key-value&#x6570;&#x636E;&#x8BB0;&#x5F55;&#xFF0C;&#x4EE5;&#x5B8C;&#x5168;&#x89E3;&#x51B3;&#x5185;&#x5B58;&#x788E; &#x7247;&#x95EE;&#x9898;&#x3002;&#x7A7A;&#x95F2;&#x5217;&#x8868;&#x8FDB;&#x884C;&#x5224;&#x65AD;&#x5B58;&#x50A8;&#x72B6;&#x6001;,&#x3010;&#x7C7B;&#x4F3C;&#x4E8E;Java&#x865A;&#x62DF;&#x673A;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x914D;&#xFF0C;&#x7A7A;&#x95F2;&#x5217;&#x8868;&#x3011; Redis&#x4F7F;&#x7528;&#x73B0;&#x573A;&#x7533;&#x8BF7;&#x5185;&#x5B58;&#x7684;&#x65B9;&#x5F0F;&#x6765;&#x5B58;&#x50A8;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x5F88;&#x5C11;&#x4F7F;&#x7528;free-list&#x7B49;&#x65B9;&#x5F0F;&#x6765;&#x4F18;&#x5316;&#x5185;&#x5B58;&#x5206;&#x914D;&#xFF0C;&#x4F1A;&#x5728;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x5B58;&#x5728;&#x5185;&#x5B58;&#x788E;&#x7247;,&#x3010;CPU&#x5185;&#x5B58;&#x662F;&#x8FDE;&#x7EED;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;Java&#x865A;&#x62DF;&#x673A;&#x5BF9;&#x8C61;&#x7684;&#x5206;&#x914D;&#xFF0C;&#x76F4;&#x63A5;&#x5185;&#x5B58;&#x5206;&#x914D;&#xFF08;&#x6307;&#x9488;&#x78B0;&#x649E;&#xFF09;&#x3011; &#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;&#x65B9;&#x6848; memcached&#x4E0D;&#x652F;&#x6301;&#x5185;&#x5B58;&#x6570;&#x636E;&#x7684;&#x6301;&#x4E45;&#x5316;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4EE5;in-memory&#x7684;&#x5F62;&#x5F0F;&#x5B58;&#x50A8;&#x3002; redis&#x652F;&#x6301;&#x6301;&#x4E45;&#x5316;&#x64CD;&#x4F5C;&#x3002;redis&#x63D0;&#x4F9B;&#x4E86;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x6301;&#x4E45;&#x5316;&#x65B9;&#x6CD5;&#x6765;&#x8BB2;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5230;&#x786C;&#x76D8;&#x91CC;&#x9762;&#xFF0C; &#x7B2C;&#x4E00;&#x79CD;&#x662F;rdb&#x5F62;&#x5F0F;&#xFF0C;&#x4E00;&#x79CD;&#x662F;aof&#x5F62;&#x5F0F; rdb&#xFF1A;&#x5C5E;&#x4E8E;&#x5168;&#x91CF;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x5907;&#x4EFD;&#x7684;&#x662F;&#x6570;&#x636E; aof&#xFF1A;append only if,&#x589E;&#x91CF;&#x6301;&#x4E45;&#x5316;&#x5907;&#x4EFD;&#xFF0C;&#x5907;&#x4EFD;&#x7684;&#x662F;&#x6307;&#x4EE4; &#x7F13;&#x5B58;&#x6570;&#x636E;&#x8FC7;&#x671F;&#x673A;&#x5236; &#x6982;&#x5FF5;&#xFF1A;key&#xFF0C;&#x8BBE;&#x8BA1;&#x4E00;&#x4E2A;&#x5C0F;&#x65F6;&#x4E4B;&#x540E;&#x8FC7;&#x671F;&#xFF0C;&#x8D85;&#x8FC7;&#x4E00;&#x4E2A;&#x5C0F;&#x65F6;&#x67E5;&#x6570;&#x636E;&#x5C31;&#x4F1A;&#x67E5;&#x4E0D;&#x5230; Memcached &#x5728;&#x5220;&#x9664;&#x5931;&#x6548;&#x4E3B;&#x952E;&#x65F6;&#x4E5F;&#x662F;&#x91C7;&#x7528;&#x7684;&#x6D88;&#x6781;&#x65B9;&#x6CD5;&#xFF0C;&#x5373; Memcached &#x5185;&#x90E8;&#x4E5F;&#x4E0D;&#x4F1A;&#x76D1;&#x89C6;&#x4E3B;&#x952E;&#x662F;&#x5426;&#x5931;&#x6548;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x901A;&#x8FC7; Get &#x8BBF;&#x95EE;&#x4E3B;&#x952E;&#x65F6;&#x624D;&#x4F1A;&#x68C0;&#x67E5;&#x5176;&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x5931;&#x6548; Redis &#x5B9A;&#x65F6;&#x3001;&#x5B9A;&#x671F;&#x7B49;&#x591A;&#x79CD;&#x7F13;&#x5B58;&#x5931;&#x6548;&#x673A;&#x5236;&#xFF0C;&#x51CF;&#x5C11;&#x5185;&#x5B58;&#x6CC4;&#x6F0F; Memcached&#x652F;&#x6301;&#x5355;&#x4E00;&#x6570;&#x636E;&#x7C7B;&#x578B;,[k,v] redis&#x652F;&#x6301;&#x4E94;&#x79CD;&#x6570;&#x636E;&#x7C7B;&#x578B; 3.&#x5982;&#x4F55;&#x4F7F;&#x7528;redis &#x5B89;&#x88C5;wget yum install wget &#x4E0B;&#x8F7D;redis&#x5B89;&#x88C5;&#x5305; wget http://download.redis.io/releases/redis-4.0.6.tar.gz &#x89E3;&#x538B;&#x538B;&#x7F29;&#x5305; tar -zxvf redis-4.0.6.tar.gz &#x5B89;&#x88C5;gcc yum install gcc &#x8DF3;&#x8F6C;&#x5230;redis&#x89E3;&#x538B;&#x76EE;&#x5F55;&#x4E0B; cd redis-4.0.6 &#x7F16;&#x8BD1;&#x5B89;&#x88C5; make MALLOC=libc &#x542F;&#x52A8;redis cd src ./redis-server 4.redis&#x4E09;&#x79CD;&#x542F;&#x52A8;&#x65B9;&#x5F0F;&#x4EE5;&#x53CA;&#x5176;&#x4E2D;&#x7684;&#x4F7F;&#x7528;&#x533A;&#x522B; &#x76F4;&#x63A5;&#x542F;&#x52A8; &#x901A;&#x8FC7;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x542F;&#x52A8; &#x4F7F;&#x7528;redis&#x542F;&#x52A8;&#x811A;&#x672C;&#x8BBE;&#x7F6E;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;&#xFF0C;linux&#x914D;&#x7F6E;&#x5F00;&#x542F;&#x81EA;&#x542F;&#x52A8; /etc/init.d &#x914D;&#x7F6E;&#x6B65;&#x9AA4; &#x542F;&#x52A8;&#x811A;&#x672C; redis_init_script &#x4F4D;&#x4E8E;Redis&#x7684; /utils/ &#x76EE;&#x5F55;&#x4E0B; mkdir /etc/redis cp redis.conf /etc/redis/6379.conf &#x5C06;&#x542F;&#x52A8;&#x811A;&#x672C;&#x590D;&#x5236;&#x5230;/etc/init.d&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x672C;&#x4F8B;&#x5C06;&#x542F;&#x52A8;&#x811A;&#x672C;&#x547D;&#x540D;&#x4E3A;redisd&#xFF08;&#x901A;&#x5E38;&#x90FD;&#x4EE5;d&#x7ED3;&#x5C3E;&#x8868;&#x793A;&#x662F;&#x540E;&#x53F0;&#x81EA;&#x542F;&#x52A8;&#x670D;&#x52A1;&#xFF09;&#x3002; cp redis_init_script /etc/init.d/redisd &#x8BBE;&#x7F6E;&#x4E3A;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;&#xFF0C;&#x76F4;&#x63A5;&#x914D;&#x7F6E;&#x5F00;&#x542F;&#x81EA;&#x542F;&#x52A8; chkconfig redisd on &#x53D1;&#x73B0;&#x9519;&#x8BEF;&#xFF1A; service redisd does not support chkconfig &#x89E3;&#x51B3;&#x529E;&#x6CD5;&#xFF0C;&#x5728;&#x542F;&#x52A8;&#x811A;&#x672C;&#x5F00;&#x5934;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x6CE8;&#x91CA;&#x6765;&#x4FEE;&#x6539;&#x8FD0;&#x884C;&#x7EA7;&#x522B;&#xFF1A; #!/bin/sh # chkconfig: 2345 90 10 &#x8BBE;&#x7F6E;&#x4E3A;&#x5F00;&#x673A;&#x81EA;&#x542F;&#x52A8;&#x670D;&#x52A1;&#x5668; chkconfig redisd on service redisd start &#x6253;&#x5F00;&#x670D;&#x52A1; service redisd stop &#x5173;&#x95ED;&#x670D;&#x52A1; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2F02-jing-tai-di-zhi-dong-tai-di-zhi.html</url>
    <content type="text"><![CDATA[&#x9759;&#x6001;&#x5730;&#x5740;(&#x57FA;&#x5730;&#x5740;)(&#x57FA;&#x5740;)&#x4EC0;&#x4E48;&#x662F;&#x9759;&#x6001;&#x5730;&#x5740;?&#x200B; &#x9759;&#x6001;&#x5730;&#x5740;&#x6307;&#x7684;&#x662F;.&#x7A0B;&#x5E8F;&#x5173;&#x95ED;&#x540E;&#x91CD;&#x65B0;&#x542F;&#x52A8;.&#x5730;&#x5740;&#x662F;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x7684;. &#x9759;&#x6001;&#x5730;&#x5740;&#x6709;&#x4EC0;&#x4E48;&#x7279;&#x70B9;?&#x200B; 1.&#x989C;&#x8272; : &#x7EFF;&#x8272; &#x200B; 2.&#x7A0B;&#x5E8F;&#x91CD;&#x542F;&#x4E4B;&#x540E;&#x9759;&#x6001;&#x5730;&#x5740;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316; &#x200B; 3.&#x683C;&#x5F0F; : XXX.exe + &#x504F;&#x79FB;(&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;) XXX.dll + &#x504F;&#x79FB;(&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;) &#x52A8;&#x6001;&#x5730;&#x5740;&#x4EC0;&#x4E48;&#x662F;&#x52A8;&#x6001;&#x5730;&#x5740;?&#x200B; &#x52A8;&#x6001;&#x5730;&#x5740;&#x6307;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x5730;&#x5740; &#x5B83;&#x4FDD;&#x5B58;&#x4E86;&#x6211;&#x4EEC;&#x60F3;&#x8981;&#x7684;&#x6570;&#x636E;. &#x5F53;&#x7A0B;&#x5E8F;&#x5173;&#x95ED;&#x518D;&#x91CD;&#x65B0;&#x6253;&#x5F00;&#x7684;&#x65F6;&#x5019;&#x52A8;&#x6001;&#x5730;&#x5740;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316; &#x52A8;&#x6001;&#x5730;&#x5740;&#x6709;&#x4EC0;&#x4E48;&#x7279;&#x70B9;?&#x200B; 1.&#x989C;&#x8272; : &#x9ED1;&#x8272; &#x200B; 2.&#x7A0B;&#x5E8F;&#x91CD;&#x542F;&#x4E4B;&#x540E;&#x52A8;&#x6001;&#x5730;&#x5740;&#x7684;&#x6570;&#x636E;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316; &#x516C;&#x5F0F; : [&#x57FA;&#x5730;&#x5740;]+&#x504F;&#x79FB;&#x91CF;=&#x52A8;&#x6001;&#x5730;&#x5740; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2F03-xun-zhao-ji-zhi.html</url>
    <content type="text"><![CDATA[&#x7B2C;&#x4E00;&#x6B65;&#x53F3;&#x952E; &#x627E;&#x51FA;&#x662F;&#x4EC0;&#x4E48;&#x8BBF;&#x95EE;&#x4E86;&#x8FD9;&#x4E2A;&#x5730;&#x5740;,&#x70B9;&#x51FB;&#x505C;&#x6B62; &#x7B2C;&#x4E8C;&#x6B65;&#x5BFB;&#x627E;&#x6307;&#x4EE4; &#x6307;&#x4EE4;&#x683C;&#x5F0F;&#x4E3A; mov &#x5BC4;&#x5B58;&#x5668;1,[&#x5BC4;&#x5B58;&#x5668;2+&#x504F;&#x79FB;&#x91CF;] (&#x4F18;&#x5148;&#x9009;&#x62E9;&#x5E26;&#x6709;eax&#x7684;&#x5BC4;&#x5B58;&#x5668;) &#x7B2C;&#x4E09;&#x6B65;&#x70B9;&#x51FB;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F; &#x5C06;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x7684;&#x5185;&#x5BB9;&#x590D;&#x5236;&#x51FA;&#x6765; &#x7559;&#x4E0B;&#x7EA2;&#x8272;&#x7684;&#x4FE1;&#x606F; &#x7B2C;&#x56DB;&#x6B65;&#x52FE;&#x9009;&#x5341;&#x516D;&#x8FDB;&#x5236; &#x641C;&#x7D22;&#x57FA;&#x5740;&#x7684;&#x6570;&#x503C; &#x70B9;&#x51FB;&#x9996;&#x6B21;&#x626B;&#x63CF; &#x7B2C;&#x4E94;&#x6B65; (&#x91CD;&#x590D;&#x7B2C;&#x4E00;&#x6B65;)&#x4ECE;&#x5185;&#x5B58;&#x5730;&#x5740;&#x5217;&#x8868;&#x9009;&#x53D6; &#x6307;&#x4EE4;&#x683C;&#x5F0F;&#x4E3A; mov &#x5BC4;&#x5B58;&#x5668;1,[&#x5BC4;&#x5B58;&#x5668;2+&#x504F;&#x79FB;&#x91CF;] (&#x4F18;&#x5148;&#x9009;&#x62E9;&#x5E26;&#x6709;eax&#x7684;&#x5BC4;&#x5B58;&#x5668;) &#x6700;&#x7EC8;&#x8DF3;&#x51FA;&#x5FAA;&#x73AF; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Ffiddler-yi.html</url>
    <content type="text"><![CDATA[&#x5728;360&#x5B89;&#x5168;&#x6D4F;&#x89C8;&#x5668;&#x4E2D; &#x9AD8;&#x7EA7;&#x8BBE;&#x7F6E; &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x8BBE;&#x7F6E; &#x5728;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x5217;&#x8868;&#x4E2D;&#x586B;&#x4E0A;FD&#x7684;&#x5730;&#x5740;&#x548C;&#x7AEF;&#x53E3;&#x53F7; 127.0.0.1:8888 &#x5F53;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x65F6;&#x5019;&#x5728;&#x591A;&#x529F;&#x80FD;&#x83DC;&#x5355;&#x4E2D; &#x9009;&#x4E2D;&#x5DE5;&#x5177; &#x9009;&#x4E2D;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; &#x9009;&#x62E9;&#x81EA;&#x5DF1;&#x9700;&#x8981;&#x4EE3;&#x7406;&#x7684;&#x670D;&#x52A1;&#x5668; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fjs-ni-xiang-ji-ben-gong.html</url>
    <content type="text"><![CDATA[&#x81EA;&#x6267;&#x884C;&#x51FD;&#x6570;&#x8C03;&#x7528; &#x65B9;&#x5F0F;1: ( function (a){ alert(a); } )(123); &#x65B9;&#x5F0F;2: !function(){ alert(100); }(); &#x4F20;&#x5165;&#x53C2;&#x6570;!function(a,b){ alert(100+a+b) }(123,456); document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title><![CDATA[Linux中wget、yum与apt-get用法及区别]]></title>
    <url>%2Flinux%2F2020%2F02%2F03%2Flinux-zhong-wget-yum-yu-apt-get-yong-fa-ji-qu-bie.html</url>
    <content type="text"><![CDATA[&#x4E00;&#x822C;&#x6765;&#x8BF4;&#x8457;&#x540D;&#x7684;linux&#x7CFB;&#x7EDF;&#x57FA;&#x672C;&#x4E0A;&#x5206;&#x4E24;&#x5927;&#x7C7B;&#xFF1A;RedHat&#x7CFB;&#x5217;&#xFF1A;Redhat&#x3001;Centos&#x3001;Fedora&#x7B49;Debian&#x7CFB;&#x5217;&#xFF1A;Debian&#x3001;Ubuntu&#x7B49;RedHat &#x7CFB;&#x5217; &#x5E38;&#x89C1;&#x7684;&#x5B89;&#x88C5;&#x5305;&#x683C;&#x5F0F; rpm&#x5305;,&#x5B89;&#x88C5;rpm&#x5305;&#x7684;&#x547D;&#x4EE4;&#x662F;&#x201C;rpm -&#x53C2;&#x6570;&#x201D;&#x5305;&#x7BA1;&#x7406;&#x5DE5;&#x5177; yum&#x652F;&#x6301;tar&#x5305; Debian&#x7CFB;&#x5217; &#x5E38;&#x89C1;&#x7684;&#x5B89;&#x88C5;&#x5305;&#x683C;&#x5F0F; deb&#x5305;,&#x5B89;&#x88C5;deb&#x5305;&#x7684;&#x547D;&#x4EE4;&#x662F;&#x201C;dpkg -&#x53C2;&#x6570;&#x201D;&#x5305;&#x7BA1;&#x7406;&#x5DE5;&#x5177; apt-get&#x652F;&#x6301;tar&#x5305;yum&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x8FD0;&#x4F5C;rpm&#x5305;&#xFF0C;&#x4F8B;&#x5982;&#x5728;Fedora&#x7CFB;&#x7EDF;&#x4E0A;&#x5BF9;&#x67D0;&#x4E2A;&#x8F6F;&#x4EF6;&#x7684;&#x7BA1;&#x7406;&#xFF1A; &#x5B89;&#x88C5;&#xFF1A;yum install&#x5378;&#x8F7D;&#xFF1A;yum remove&#x66F4;&#x65B0;&#xFF1A;yum updateapt-get&#x53EF;&#x4EE5;&#x7528;&#x4E8E;&#x8FD0;&#x4F5C;deb&#x5305;&#xFF0C;&#x4F8B;&#x5982;&#x5728;Ubuntu&#x7CFB;&#x7EDF;&#x4E0A;&#x5BF9;&#x67D0;&#x4E2A;&#x8F6F;&#x4EF6;&#x7684;&#x7BA1;&#x7406;&#xFF1A; &#x5B89;&#x88C5;&#xFF1A;apt-get install&#x5378;&#x8F7D;&#xFF1A;apt-get remove&#x66F4;&#x65B0;&#xFF1A;apt-get updatewget&#x4E0D;&#x662F;&#x5B89;&#x88C5;&#x65B9;&#x5F0F;&#xFF0C;&#x5B83;&#x662F;&#x4E00;&#x79CD;&#x4E0B;&#x8F7D;&#x5DE5;&#x5177;&#xFF0C;&#x7C7B;&#x4F3C;&#x4E8E;&#x8FC5;&#x96F7;&#x3002;&#x901A;&#x8FC7;HTTP&#x3001;HTTPS&#x3001;FTP&#x4E09;&#x4E2A;&#x6700;&#x5E38;&#x89C1;&#x7684;TCP/IP&#x534F;&#x8BAE;&#x4E0B;&#x8F7D;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;HTTP&#x4EE3;&#x7406;&#xFF0C;&#x540D;&#x5B57;&#x662F;World Wide Web&#x201D;&#x4E0E;&#x201C;get&#x201D;&#x7684;&#x7ED3;&#x5408;&#x3002;&#x5982;&#x679C;&#x8981;&#x4E0B;&#x8F7D;&#x4E00;&#x4E2A;&#x8F6F;&#x4EF6;,&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FD0;&#x884C;&#xFF1A;wget &#x4E0B;&#x8F7D;&#x5730;&#x5740; &#x5982;&#x679C;&#x5F53;&#x524D;ubuntu&#x672A;&#x5B89;&#x88C5;wget&#xFF0C;&#x53EF;&#x6309;&#x4E0B;&#x5217;&#x64CD;&#x4F5C;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#x548C;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x6210;&#x529F;&#xFF1A; sudo apt-get updatesudo apt-get install wgetwget &#x2013;version RedHat&#x7CFB;&#x5217;: rpm&#x76F8;&#x5F53;&#x4E8E;&#x597D;&#x538B; yum&#x76F8;&#x5F53;&#x4E8E;&#x4E0B;&#x8F7D;&#x5DE5;&#x5177;&#x4E0B;&#x8F7D;&#x7684;&#x662F;rpm&#x5305;Debian&#x7CFB;&#x5217;: deb&#x76F8;&#x5F53;&#x4E8E;&#x597D;&#x538B; apt-get&#x76F8;&#x5F53;&#x4E8E;&#x4E0B;&#x8F7D;&#x5DE5;&#x5177;&#x4E0B;&#x8F7D;&#x7684;&#x662F;deb&#x5305; wget&#x662F;&#x4E24;&#x4E2A;&#x7CFB;&#x5217;&#x901A;&#x5403;&#x7684;&#x4E0B;&#x8F7D;&#x8F6F;&#x4EF6;&#x4E0B;&#x8F7D;&#x7684;&#x662F;&#x6E90;&#x7801; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fwt-js.html</url>
    <content type="text"><![CDATA[WT-JS&#x7684;&#x4E00;&#x4E9B;bug &#x200B; &#x5728;WT-JS&#x4E2D;&#x6B63;&#x5E38;,&#x5728;&#x6613;&#x8BED;&#x8A00;&#x4E2D;&#x4E0D;&#x6B63;&#x5E38; &#x751F;&#x6210;&#x6613;&#x8BED;&#x8A00;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x6CA1;&#x6709;&#x521D;&#x59CB;&#x5316;CoInitialize(0) &#x628A;&#x6CE8;&#x91CA;&#x653E;&#x5F00; WT-JS&#x52A0;&#x5BC6;&#x6570;&#x636E;&#x4E2D;&#x542B;&#x6709;&#x53CC;&#x5F15;&#x53F7;(&#x5C24;&#x5176;&#x662F;&#x52A0;&#x5BC6;&#x5185;&#x5BB9;&#x662F;json&#x7684;&#x65F6;&#x5019;&#x5BB9;&#x6613;&#x51FA;&#x73B0;&#x53CC;&#x5F15;&#x53F7;) &#x89E3;&#x51B3;&#x529E;&#x6CD5;: &#x52A0;&#x5BC6;&#x5185;&#x5BB9;&#x4E2D;&#x4E0D;&#x8981;&#x51FA;&#x73B0;&#x53CC;&#x5F15;&#x53F7; &#x5982;&#x679C;&#x52A0;&#x5BC6;&#x4EE3;&#x7801;&#x4E2D;&#x6709;&#x4E2D;&#x6587;&#x7684;&#x8BDD;,&#x9700;&#x8981;&#x52A0;&#x4E00;&#x4E2A;&#x7F16;&#x7801;_Utf8&#x5230;Ansi document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title><![CDATA[git中tag与release的创建以及两者的区别]]></title>
    <url>%2Fgithub%2F2020%2F02%2F03%2Fgit-zhong-tag-yu-release-de-chuang-jian-yi-ji-liang-zhe-de-qu-bie.html</url>
    <content type="text"><![CDATA[&#x7B80;&#x4ECB;&#x672C;&#x6587;&#x8FA8;&#x6790;&#x5728;&#x53C2;&#x4E0E;&#x5F00;&#x6E90;&#x9879;&#x76EE;&#x65F6;&#x4F1A;&#x9047;&#x5230;&#x7684;tag&#x4E0E;release&#x7684;&#x6982;&#x5FF5;&#x533A;&#x522B;&#x4E0E;&#x8054;&#x7CFB;&#xFF0C;&#x5E76;&#x6BD4;&#x8F83;&#x4E24;&#x8005;&#x7684;&#x521B;&#x5EFA;&#x65B9;&#x6CD5;&#x3002;&#x5B9A;&#x4E49;&#x6807;&#x7B7E;&#xFF08;tag&#xFF09;&#x662F;&#x7279;&#x5B9A;&#x63D0;&#x4EA4;&#xFF08;commit)&#x4E00;&#x4E2A;&#x6307;&#x9488;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6BCF;&#x4E2A;tag&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;commit&#x3002;Release&#x662F;&#x5177;&#x6709;changelogs&#x548C;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x4E00;&#x7EA7;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x4EE3;&#x8868;&#x8D85;&#x51FA;Git&#x67B6;&#x6784;&#x672C;&#x8EAB;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x65F6;&#x95F4;&#x70B9;&#x4E4B;&#x524D;&#x7684;&#x6240;&#x6709;&#x9879;&#x76EE;&#x5386;&#x53F2;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x901A;&#x8FC7;release&#xFF0C;&#x4E0D;&#x4F46;&#x80FD;&#x591F;&#x901A;&#x8FC7;&#x6E90;&#x7801;&#x4F53;&#x73B0;&#x51FA;&#x9879;&#x76EE;&#x5386;&#x53F2;&#xFF0C;&#x8FD8;&#x80FD;&#x901A;&#x8FC7;&#x5DF2;&#x7ECF;&#x7F16;&#x8BD1;&#x597D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x63CF;&#x8FF0;&#x6B64;&#x65F6;&#x7684;&#x9879;&#x76EE;&#x72B6;&#x6001;&#x3002;&#x201C;&#x8D85;&#x51FA;Git&#x67B6;&#x6784;&#x672C;&#x8EAB;&#x201C;&#x7684;&#x610F;&#x601D;&#x5219;&#x5728;&#x4E8E;&#xFF0C;git&#x672C;&#x8EAB;&#x53EA;&#x80FD;&#x8BB0;&#x5F55;&#x9879;&#x76EE;&#x4FEE;&#x6539;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x4E0D;&#x9002;&#x5408;&#x5C06;&#x7F16;&#x8BD1;&#x597D;&#x7684;&#x9879;&#x76EE;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x4E0B;&#x6765;&#x3002;&#x800C;&#x901A;&#x8FC7;release&#x5219;&#x628A;&#x9879;&#x76EE;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x4FDD;&#x5B58;&#x4E86;&#x4E0B;&#x6765;&#xFF0C;&#x65B9;&#x4FBF;&#x7528;&#x6237;&#x4E0B;&#x8F7D;&#xFF0C;&#x4E5F;&#x65B9;&#x4FBF;&#x67E5;&#x627E;&#x7279;&#x5B9A;&#x7248;&#x672C;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x3002;&#x4EE5;&#x4E0B;&#x662F;Github official announcement&#x6240;&#x5B9A;&#x4E49;&#x539F;&#x6587;&#xFF1A; Releases are first-class objects with changelogs and binary assets that present a full project history beyond Git artifacts. &#x521B;&#x5EFA;&#x65B9;&#x6CD5;Release&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#xFF1A;lightweight and annotated.&#x521B;&#x5EFA;lightweight&#x7C7B;&#x578B;&#x7684;tag&#xFF1A; $ git tag v1.4-lw&#x521B;&#x5EFA;annotated&#x7C7B;&#x578B;&#x7684;tag&#xFF1A; $ git tag -a v1.4 -m &quot;my version 1.4&quot;&#x901A;&#x8FC7;tag&#x53EF;&#x4EE5;&#x8FD4;&#x56DE;&#x5230;&#x9879;&#x76EE;&#x7684;&#x7279;&#x5B9A;&#x72B6;&#x6001;&#x4E0B;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x5C06;tag&#x770B;&#x4F5C;&#x662F;&#x5728;&#x5927;&#x91CF;commit&#x4E2D;&#x8BBE;&#x5B9A;&#x7684;&#x4E66;&#x7B7E;&#x3002;&#x521B;&#x5EFA;release&#xFF0C;&#x5219;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x6E90;&#x7801;&#x6258;&#x7BA1;&#x5546;&#x7684;&#x7F51;&#x9875;&#x64CD;&#x4F5C;&#x754C;&#x9762;&#x6765;&#x8FDB;&#x884C;&#xFF0C;&#x4E00;&#x822C;&#x4F1A;&#x8981;&#x6C42;&#x586B;&#x5199;tag&#x540D;&#x3001;&#x5206;&#x652F;&#x4EE5;&#x53CA;&#x76F8;&#x5E94;&#x7684;&#x53D1;&#x5E03;&#x8BF4;&#x660E;&#xFF0C;&#x8FD8;&#x53EF;&#x4E0A;&#x4F20;&#x7F16;&#x8BD1;&#x597D;&#x7684;&#x7A0B;&#x5E8F;&#x3001;&#x6253;&#x5305;&#x597D;&#x7684;&#x6587;&#x4EF6;&#x7B49;&#x3002;&#x6BD4;&#x8F83;&#x6807;&#x7B7E;&#x662F;git&#x4E2D;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x800C;release&#x5219;&#x662F;Github&#x3001;&#x7801;&#x4E91;&#x7B49;&#x6E90;&#x7801;&#x6258;&#x7BA1;&#x5546;&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x66F4;&#x9AD8;&#x5C42;&#x7684;&#x6982;&#x5FF5;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;git&#x672C;&#x8EAB;&#x662F;&#x6CA1;&#x6709;release&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x7684;&#xFF0C;&#x53EA;&#x6709;tag&#x3002;&#x4E24;&#x8005;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;&#x5219;&#x662F;&#xFF0C;release&#x57FA;&#x4E8E;tag&#xFF0C;&#x4E3A;tag&#x6DFB;&#x52A0;&#x66F4;&#x4E30;&#x5BCC;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x7F16;&#x8BD1;&#x597D;&#x7684;&#x6587;&#x4EF6;&#x3002;&#x603B;&#x7ED3;Release&#x662F;&#x6E90;&#x7801;&#x6258;&#x7BA1;&#x5546;&#x5BF9;git&#x7684;tag&#x529F;&#x80FD;&#x7684;&#x589E;&#x5F3A;&#x3002;&#x901A;&#x8FC7;git&#x63D0;&#x4F9B;&#x7684;tag&#x529F;&#x80FD;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7ED9;&#x9879;&#x76EE;&#x8FDB;&#x884C;&#x7248;&#x672C;&#x6807;&#x8BC6;&#xFF0C;&#x4EE5;&#x8BC6;&#x522B;&#x7279;&#x5B9A;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x5982;v0.1.0&#x3001;v1.0.0&#x7B49;&#x3002;&#x800C;&#x901A;&#x8FC7;&#x6E90;&#x7801;&#x6258;&#x7BA1;&#x5546;&#x63D0;&#x4F9B;&#x7684;release&#x529F;&#x80FD;&#xFF0C;&#x5728;tag&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x7F16;&#x8BD1;&#x597D;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7B49;&#xFF0C;&#x5982;.deb&#x3001;.exe&#x7B49;&#x7ED9;&#x7279;&#x5B9A;&#x7684;&#x7248;&#x672C;&#x63D0;&#x4F9B;&#x66F4;&#x591A;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x65B9;&#x4FBF;&#x7528;&#x6237;&#xFF0C;&#x4E5F;&#x65B9;&#x4FBF;&#x540E;&#x671F;&#x67E5;&#x627E;&#x7279;&#x5B9A;&#x7248;&#x672C;&#x7684;&#x7A0B;&#x5E8F;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>github</category>
      </categories>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fkali-ji-chu-01.html</url>
    <content type="text"><![CDATA[&#x9700;&#x8981;&#x7684;&#x5DE5;&#x5177;&#xFF1A; Vmware&#x865A;&#x62DF;&#x673A;Kali Linux VM&#x4E13;&#x7528;&#x7248;&#x672C; &#x5B89;&#x88C5;Kali VM&#x865A;&#x62DF;&#x673A;&#x4E13;&#x7528;&#x7248;&#x672C;&#x6253;&#x5F00;&#x4E0B;&#x8F7D;&#x597D;&#x7684;Kali&#x7CFB;&#x7EDF;VM&#x865A;&#x62DF;&#x673A;&#x4E13;&#x7528;&#x7248;&#x672C;&#xFF0C;&#x9009;&#x62E9;&#x89E3;&#x538B;&#x5230;vmworkspace &#x9009;&#x62E9;&#x76EE;&#x5F55;&#xFF0C;&#x70B9;&#x51FB;&#x786E;&#x5B9A; &#x89E3;&#x538B;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6253;&#x5F00;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x70B9;&#x51FB;&#x6587;&#x4EF6;&#xFF0C;&#x9009;&#x62E9;&#x626B;&#x63CF;&#x865A;&#x62DF;&#x673A; &#x70B9;&#x51FB;&#x5F00;&#x542F;&#x865A;&#x62DF;&#x673A; &#x9009;&#x62E9;&#x6211;&#x5DF2;&#x590D;&#x5236;&#x8BE5;&#x865A;&#x62DF;&#x673A; &#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#xFF08;&#x9ED8;&#x8BA4;&#x7528;&#x6237;&#x540D;&#xFF1A;root&#xFF0C;&#x9ED8;&#x8BA4;&#x5BC6;&#x7801;&#xFF1A;toor&#xFF09;,&#x70B9;&#x51FB;&#x84DD;&#x8272;&#x6309;&#x94AE;&#x767B;&#x5F55;&#x7CFB;&#x7EDF; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fkali-ji-chu-02.html</url>
    <content type="text"><![CDATA[&#x8BBE;&#x7F6E;&#x5206;&#x8FA8;&#x7387; &#x6253;&#x5F00;&#x8BBE;&#x7F6E; &#x627E;&#x5230; Devices &#x70B9;&#x51FB;&#x8BBE;&#x7F6E;&#x5206;&#x8FA8;&#x7387; &#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x9002;&#x5408;&#x81EA;&#x5DF1;&#x5C4F;&#x5E55;&#x7684;&#x5206;&#x8FA8;&#x7387;&#xFF0C;&#x6211;&#x7684;&#x7535;&#x8111;&#x8BBE;&#x7F6E;&#x4E3A;1440*900 &#x9009;&#x62E9;&#x5408;&#x9002;&#x5206;&#x8FA8;&#x7387;&#x540E;&#xFF0C;&#x70B9;&#x51FB;&#x53F3;&#x4E0A;&#x65B9;&#x7684;&#x84DD;&#x8272;&#x6309;&#x94AE;&#xFF0C;&#x63D0;&#x4EA4;&#x4FEE;&#x6539; &#x70B9;&#x51FB;&#x4FDD;&#x6301;&#x4FEE;&#x6539; &#x4FEE;&#x6539;&#x65F6;&#x533A;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A;&#x7F8E;&#x56FD;&#x65F6;&#x95F4;&#xFF09;&#x5728;&#x8BBE;&#x7F6E;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB;&#x6700;&#x540E;&#x4E00;&#x9879;Details &#x70B9;&#x51FB; Date&amp;time &#x70B9;&#x51FB;&#x9009;&#x62E9;&#x65F6;&#x533A;&#xFF0C;&#x9009;&#x62E9;&#x4E0A;&#x6D77; &#x4FEE;&#x6539;&#x4E2D;&#x6587;&#x663E;&#x793A;&#x5728;&#x8BBE;&#x7F6E;&#x7A97;&#x53E3;&#xFF0C;&#x70B9;&#x51FB;Region&amp;Language &#x70B9;&#x51FB;&#x9009;&#x62E9;&#x4E2D;&#x6587; &#x70B9;&#x51FB;Restart &#x9009;&#x62E9;Log Out &#x91CD;&#x65B0;&#x8F93;&#x5165;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x5BC6;&#x7801;&#x767B;&#x5F55;&#xFF0C;&#x7CFB;&#x7EDF;&#x6539;&#x6210;&#x4E2D;&#x6587; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fkali-ji-chu-03-chang-yong-ming-ling.html</url>
    <content type="text"><![CDATA[apt&#x662F;&#x4F1A;&#x89E3;&#x51B3;&#x548C;&#x5B89;&#x88C5;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x95EE;&#x9898;&#xFF0C;&#x5E76;&#x4F1A;&#x54A8;&#x8BE2;&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#xFF0C;&#x662F;&#x5728;&#x7EBF;&#x5B89;&#x88C5;&#x3002;dpkg&#x53EA;&#x80FD;&#x5B89;&#x88C5;&#x672C;&#x5730;&#x7684;deb&#x6587;&#x4EF6;&#xFF0C;&#x4E0D;&#x4F1A;&#x5173;&#x5FC3;Ubuntu&#x7684;&#x8F6F;&#x4EF6;&#x4ED3;&#x5E93;&#x5185;&#x7684;&#x8F6F;&#x4EF6;&#xFF0C;&#x4E0D;&#x4F1A;&#x89E3;&#x51B3;&#x6A21;&#x5757;&#x7684;&#x4F9D;&#x8D56;&#x5173;&#x7CFB;&#x3002;&#x4E24;&#x8005;&#x7684;&#x533A;&#x522B;&#x662F;dpkg&#x7ED5;&#x8FC7;apt&#x5305;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x5E93;&#x5BF9;&#x8F6F;&#x4EF6;&#x5305;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x6240;&#x4EE5;&#x4F60;&#x7528;dpkg&#x5B89;&#x88C5;&#x8FC7;&#x7684;&#x8F6F;&#x4EF6;&#x5305;&#x7528;apt&#x53EF;&#x4EE5;&#x518D;&#x5B89;&#x88C5;&#x4E00;&#x904D;&#xFF0C;&#x7CFB;&#x7EDF;&#x4E0D;&#x77E5;&#x9053;&#x4E4B;&#x524D;&#x5B89;&#x88C5;&#x8FC7;&#x4E86;&#xFF0C;&#x5C06;&#x4F1A;&#x8986;&#x76D6;&#x4E4B;&#x524D;dpkg&#x7684;&#x5B89;&#x88C5;&#x3002; &#x5B89;&#x88C5;deb&#x8F6F;&#x4EF6;&#x5305; dpkg -i xxx.debapt-get&#x5B89;&#x88C5;&#x5378;&#x8F7D;&#x8F6F;&#x4EF6;&#x5B89;&#x88C5;&#x8F6F;&#x4EF6; apt-get install softname &#x5220;&#x9664;&#x8F6F;&#x4EF6;&#x5305;&#xFF0C;&#x5E76;&#x5220;&#x9664;&#x76F8;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; apt-get remove &#x2013;purge softname &#x66F4;&#x65B0;&#x8F6F;&#x4EF6;&#x4FE1;&#x606F;&#x6570;&#x636E;&#x5E93;apt-get update&#x8FDB;&#x884C;&#x7CFB;&#x7EDF;&#x5347;&#x7EA7;apt-get upgrade &#x663E;&#x793A;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x5217;&#x8868; ls &#x5217;&#x51FA;&#x6587;&#x4EF6;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F; ls -l &#x663E;&#x793A;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x4FE1;&#x606F; ifconfig &#x6D4B;&#x8BD5;&#x7F51;&#x7EDC;&#x7684;&#x8FDE;&#x901A;&#x6027; ping &#x663E;&#x793A;&#x7F51;&#x7EDC;&#x72B6;&#x6001;&#x4FE1;&#x606F; netstat &#x7ACB;&#x5373;&#x5173;&#x673A; shutdown -h now &#x6E05;&#x5C4F;&#x547D;&#x4EE4; clear Linux&#x542F;&#x52A8;&#x7F51;&#x7EDC;&#x670D;&#x52A1;Kali Linux &#x81EA;&#x5E26;&#x4E86;&#x591A;&#x79CD;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#xFF0C;&#x5B83;&#x4EEC;&#x5728;&#x591A;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x80FD;&#x5F88;&#x5B9E;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x9ED8;&#x8BA4;&#x662F;&#x7981;&#x7528; &#x7684;&#x3002; 1.&#x542F;&#x52A8;Apache&#x670D;&#x52A1;&#x5668;service apache2 start2.&#x4E3A;&#x4E86;&#x542F;&#x52A8;SSH&#x670D;&#x52A1;&#xFF0C;&#x9996;&#x6B21;&#x9700;&#x8981;&#x751F;&#x6210;SSH&#x5BC6;&#x94A5;sshd-generate3.&#x542F;&#x52A8;SSH&#x670D;&#x52A1;&#x5668;service ssh start4.&#x4F7F;&#x7528; netstat &#x547D;&#x4EE4;&#x6765;&#x9A8C;&#x8BC1;&#x670D;&#x52A1;&#x5668;&#x662F;&#x5426;&#x5F00;&#x542F;&#x5E76;&#x6B63;&#x5728;&#x76D1;&#x542C;netstat -tpan | grep 225.&#x542F;&#x52A8;FTP&#x670D;&#x52A1;&#x5668;service pure-ftpd start6.&#x4F7F;&#x7528;&#x4E0B;&#x5217;&#x547D;&#x4EE4;&#x6765;&#x9A8C;&#x8BC1;FTP&#x670D;&#x52A1;&#x5668;netstat -ant | grep 217.&#x4F7F;&#x7528;&#x4E0B;&#x5217;&#x547D;&#x4EE4;&#x6765;&#x505C;&#x6B62;&#x670D;&#x52A1;service &lt;servicename&gt; stop&#x5176;&#x4E2D; &#x4EE3;&#x8868;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x505C;&#x6B62;&#x7684;&#x7F51;&#x7EDC;&#x670D;&#x52A1; &#x4F8B;&#x5982;&#xFF1A; service apache2 stop8.&#x4F7F;&#x7528;&#x4E0B;&#x5217;&#x547D;&#x4EE4;&#x6765;&#x5728;&#x5F00;&#x673A;&#x65F6;&#x542F;&#x7528;&#x670D;&#x52A1;update-rc.d &#x2013;f &lt;servicename&gt; defaults&#x5176;&#x4E2D; &#x4EE3;&#x8868;&#x6253;&#x7B97;&#x542F;&#x52A8;&#x7684;&#x7F51;&#x7EDC;&#x670D;&#x52A1; &#x4F8B;&#x5982;&#xFF1A; update-rc.d &#x2013;f ssh defaults document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fkali-ji-chu-04-shu-ru-fa.html</url>
    <content type="text"><![CDATA[&#x4FEE;&#x6539;&#x8F6F;&#x4EF6;&#x6E90; &#x7EC8;&#x7AEF;&#x6267;&#x884C;&#x547D;&#x4EE4; leafpad /etc/apt/sources.list#&#x963F;&#x91CC;&#x4E91; deb http://mirrors.aliyun.com/kali kali-rolling main non-free contrib deb-src http://mirrors.aliyun.com/kali kali-rolling main non-free contrib&#x5B89;&#x88C5;fcitx apt-get install fcitx document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fkali-ji-chu-05-shu-ru-fa.html</url>
    <content type="text"><![CDATA[&#x66F4;&#x65B0;&#x8F6F;&#x4EF6;&#x4FE1;&#x606F;&#x6570;&#x636E;&#x5E93;apt-get update&#x8FDB;&#x884C;&#x7CFB;&#x7EDF;&#x5347;&#x7EA7;apt-get upgrade &#x4FEE;&#x6539;&#x8F6F;&#x4EF6;&#x6E90; &#x7EC8;&#x7AEF;&#x6267;&#x884C;&#x547D;&#x4EE4; leafpad /etc/apt/sources.list#&#x963F;&#x91CC;&#x4E91; deb http://mirrors.aliyun.com/kali kali-rolling main non-free contrib deb-src http://mirrors.aliyun.com/kali kali-rolling main non-free contrib&#x5B89;&#x88C5;fcitx apt-get install fcitx document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2Funcategorized%2F2020%2F02%2F03%2Fmysql.html</url>
    <content type="text"><![CDATA[DDLmysql&#x6570;&#x636E;&#x5E93;&#x521B;&#x5EFA;&#x3001;&#x67E5;&#x770B;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;/&#x5207;&#x6362; &#x76F4;&#x63A5;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93; db1 create database db1; &#x67E5;&#x770B;&#x5F53;&#x524D;&#x5728;&#x54EA;&#x4E2A;&#x5E93;&#x91CC;&#x8FB9; select database(); &#x8FDB;&#x5165;&#x5E93;&#x7684;&#x64CD;&#x4F5C; use &#x5E93;&#x540D;; &#x5224;&#x65AD;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93; db2 create database if not exists db2; &#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x5E76;&#x6307;&#x5B9A;&#x5B57;&#x7B26;&#x96C6;&#x4E3A; gbk create database db3 default character set gbk; &#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x5E93;&#x662F;&#x4EC0;&#x4E48;&#x5B57;&#x7B26;&#x96C6; show create database XD; &#x67E5;&#x770B;&#x5F53;&#x524D;mysql&#x4F7F;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x96C6; show variables like &apos;character%&apos;; mysql&#x521B;&#x5EFA;&#x8868;&#x4E4B;&#x5E38;&#x7528;&#x6570;&#x636E;&#x7C7B;&#x578B; mysql&#x5E38;&#x89C1;&#x6570;&#x636E;&#x7C7B;&#x578B; &lt;1&gt;&#x6574;&#x6570;&#x578B; &#x7C7B;&#x578B; &#x5927;&#x5C0F; &#x8303;&#x56F4;&#xFF08;&#x6709;&#x7B26;&#x53F7;&#xFF09; &#x8303;&#x56F4;&#xFF08;&#x65E0;&#x7B26;&#x53F7;unsigned&#xFF09; &#x7528;&#x9014; TINYINT 1 &#x5B57;&#x8282; (-128&#xFF0C;127) (0&#xFF0C;255) &#x5C0F;&#x6574;&#x6570;&#x503C; SMALLINT 2 &#x5B57;&#x8282; (-32768&#xFF0C;32767) (0&#xFF0C;65535) &#x5927;&#x6574;&#x6570;&#x503C; MEDIUMINT 3 &#x5B57;&#x8282; (-8388608&#xFF0C;8388607) (0&#xFF0C;16777215) &#x5927;&#x6574;&#x6570;&#x503C; INT 4 &#x5B57;&#x8282; (-2147483648&#xFF0C;2147483647) (0&#xFF0C;4294967295) &#x5927;&#x6574;&#x6570;&#x503C; BIGINT 8 &#x5B57;&#x8282; &#xFF08;&#xFF09; (0&#xFF0C;2&#x7684;64&#x6B21;&#x65B9;&#x51CF;1) &#x6781;&#x5927;&#x6574;&#x6570;&#x503C; &lt;2&gt;&#x6D6E;&#x70B9;&#x578B; FLOAT(m,d&#xFF09; 4 &#x5B57;&#x8282; &#x5355;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x578B; &#x5907;&#x6CE8;&#xFF1A;m&#x4EE3;&#x8868;&#x603B;&#x4E2A;&#x6570;&#xFF0C;d&#x4EE3;&#x8868;&#x5C0F;&#x6570;&#x4F4D;&#x4E2A;&#x6570; DOUBLE(m,d&#xFF09; 8 &#x5B57;&#x8282; &#x53CC;&#x7CBE;&#x5EA6;&#x6D6E;&#x70B9;&#x578B; &#x5907;&#x6CE8;&#xFF1A;m&#x4EE3;&#x8868;&#x603B;&#x4E2A;&#x6570;&#xFF0C;d&#x4EE3;&#x8868;&#x5C0F;&#x6570;&#x4F4D;&#x4E2A;&#x6570; &lt;3&gt;&#x5B9A;&#x70B9;&#x578B; DECIMAL(m,d&#xFF09; &#x4F9D;&#x8D56;&#x4E8E;M&#x548C;D&#x7684;&#x503C; &#x5907;&#x6CE8;&#xFF1A;m&#x4EE3;&#x8868;&#x603B;&#x4E2A;&#x6570;&#xFF0C;d&#x4EE3;&#x8868;&#x5C0F;&#x6570;&#x4F4D;&#x4E2A;&#x6570; &lt;4&gt;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B; &#x7C7B;&#x578B; &#x5927;&#x5C0F; &#x7528;&#x9014; CHAR 0-255&#x5B57;&#x8282; &#x5B9A;&#x957F;&#x5B57;&#x7B26;&#x4E32; VARCHAR 0-65535&#x5B57;&#x8282; &#x53D8;&#x957F;&#x5B57;&#x7B26;&#x4E32; TINYTEXT 0-255&#x5B57;&#x8282; &#x77ED;&#x6587;&#x672C;&#x5B57;&#x7B26;&#x4E32; TEXT 0-65535&#x5B57;&#x8282; &#x957F;&#x6587;&#x672C;&#x6570;&#x636E; MEDIUMTEXT 0-16777215&#x5B57;&#x8282; &#x4E2D;&#x7B49;&#x957F;&#x5EA6;&#x6587;&#x672C;&#x6570;&#x636E; LONGTEXT 0-4294967295&#x5B57;&#x8282; &#x6781;&#x5927;&#x6587;&#x672C;&#x6570;&#x636E; char&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#xFF1A;&#x5B58;&#x53D6;&#x901F;&#x5EA6;&#x6BD4;varchar&#x66F4;&#x5FEB;&#xFF0C;&#x4F46;&#x662F;&#x6BD4;varchar&#x66F4;&#x5360;&#x7528;&#x7A7A;&#x95F4; varchar&#x7684;&#x4F18;&#x7F3A;&#x70B9;&#xFF1A;&#x6BD4;char&#x7701;&#x7A7A;&#x95F4;&#x3002;&#x4F46;&#x662F;&#x5B58;&#x53D6;&#x901F;&#x5EA6;&#x6CA1;&#x6709;char&#x5FEB; &lt;5&gt;&#x65F6;&#x95F4;&#x578B; &#x6570;&#x636E;&#x7C7B;&#x578B; &#x5B57;&#x8282;&#x6570; &#x683C;&#x5F0F; &#x5907;&#x6CE8; date 3 yyyy-MM-dd &#x5B58;&#x50A8;&#x65E5;&#x671F;&#x503C; time 3 HH:mm:ss &#x5B58;&#x50A8;&#x65F6;&#x5206;&#x79D2; year 1 yyyy &#x5B58;&#x50A8;&#x5E74; datetime 8 yyyy-MM-dd HH:mm:ss &#x5B58;&#x50A8;&#x65E5;&#x671F;+&#x65F6;&#x95F4; timestamp 4 yyyy-MM-dd HH:mm:ss &#x5B58;&#x50A8;&#x65E5;&#x671F;+&#x65F6;&#x95F4;&#xFF0C;&#x53EF;&#x4F5C;&#x65F6;&#x95F4;&#x6233; &#x6D4B;&#x8BD5;&#x65F6;&#x95F4;&#x7C7B;&#x578B; create table test_time ( date_value date, time_value time, year_value year, datetime_value datetime, timestamp_value timestamp ) engine=innodb charset=utf8;insert into test_time values(now(), now(), now(), now(), now());mysql&#x521B;&#x5EFA;&#x8868; &#x8BED;&#x6CD5;&#xFF1A; CREATE TABLE &#x8868;&#x540D; ( &#x5B57;&#x6BB5;&#x540D;1 &#x5B57;&#x6BB5;&#x7C7B;&#x578B;1 &#x7EA6;&#x675F;&#x6761;&#x4EF6;1 &#x8BF4;&#x660E;1, &#x5B57;&#x6BB5;&#x540D;2 &#x5B57;&#x6BB5;&#x7C7B;&#x578B;2 &#x7EA6;&#x675F;&#x6761;&#x4EF6;2 &#x8BF4;&#x660E;2, &#x5B57;&#x6BB5;&#x540D;3 &#x5B57;&#x6BB5;&#x7C7B;&#x578B;3 &#x7EA6;&#x675F;&#x6761;&#x4EF6;3 &#x8BF4;&#x660E;3 );TINYINT&#x6570;&#x636E;&#x7C7B;&#x578B;&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x51FA;&#x6765;&#x662F;&#x6709;&#x7B26;&#x53F7;&#x7684;&#x6570;&#x636E;&#x8303;&#x56F4;&#x662F;-128~127 create table &#x65B0;&#x8868;&#x540D; as select * from &#x65E7;&#x8868;&#x540D; where 1=2;(&#x6CE8;&#x610F;&#xFF1A;&#x5EFA;&#x8BAE;&#x8FD9;&#x79CD;&#x521B;&#x5EFA;&#x8868;&#x7684;&#x65B9;&#x5F0F;&#x7528;&#x4E8E;&#x65E5;&#x5E38;&#x6D4B;&#x8BD5;&#xFF0C;&#x56E0;&#x4E3A;&#x53EF;&#x80FD;&#x7D22;&#x5F15;&#x4EC0;&#x4E48;&#x7684;&#x4F1A;&#x590D;&#x5236;&#x4E0D;&#x8FC7;&#x6765;)create table &#x65B0;&#x8868;&#x540D; like &#x65E7;&#x8868;&#x540D;; &#x7EA6;&#x675F;&#x6761;&#x4EF6;&#xFF1A; comment ----&#x8BF4;&#x660E;&#x89E3;&#x91CA; not null ----&#x4E0D;&#x4E3A;&#x7A7A; default ----&#x9ED8;&#x8BA4;&#x503C; unsigned ----&#x65E0;&#x7B26;&#x53F7;&#xFF08;&#x5373;&#x6B63;&#x6570;&#xFF09; auto_increment ----&#x81EA;&#x589E; zerofill ----&#x81EA;&#x52A8;&#x586B;&#x5145; unique key ----&#x552F;&#x4E00;&#x503C; &#x521B;&#x5EFA;sql CREATE TABLE student ( id tinyint(5) zerofill auto_increment not null comment &apos;&#x5B66;&#x751F;&#x5B66;&#x53F7;&apos;, name varchar(20) default null comment &apos;&#x5B66;&#x751F;&#x59D3;&#x540D;&apos;, age tinyint default null comment &apos;&#x5B66;&#x751F;&#x5E74;&#x9F84;&apos;, class varchar(20) default null comment &apos;&#x5B66;&#x751F;&#x73ED;&#x7EA7;&apos;, sex char(5) not null comment &apos;&#x5B66;&#x751F;&#x6027;&#x522B;&apos;, unique key (id) )engine=innodb charset=utf8;; CREATE TABLE student ( id tinyint(5) auto_increment default null comment &apos;&#x5B66;&#x751F;&#x5B66;&#x53F7;&apos;, name varchar(20) default null comment &apos;&#x5B66;&#x751F;&#x59D3;&#x540D;&apos;, age tinyint default null comment &apos;&#x5B66;&#x751F;&#x5E74;&#x9F84;&apos;, class varchar(20) default null comment &apos;&#x5B66;&#x751F;&#x73ED;&#x7EA7;&apos;, sex char(5) not null comment &apos;&#x5B66;&#x751F;&#x6027;&#x522B;&apos;, unique key (id) )engine=innodb charset=utf8;; mysql&#x67E5;&#x770B;&#x8868;&#x7684;&#x57FA;&#x672C;&#x7ED3;&#x6784;&#x4FE1;&#x606F; &#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x8868;&#xFF1A;show tables&#xFF1B; &#x67E5;&#x770B;&#x8868;&#x7ED3;&#x6784;&#xFF1A;desc &#x8868;&#x540D;; &#x67E5;&#x770B;&#x521B;&#x5EFA;&#x8868;&#x7684;sql&#x8BED;&#x53E5;&#xFF1A;show create table &#x8868;&#x540D;; \G :&#x6709;&#x7ED3;&#x675F;sql&#x8BED;&#x53E5;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x8FD8;&#x6709;&#x628A;&#x663E;&#x793A;&#x7684;&#x6570;&#x636E;&#x7EB5;&#x5411;&#x65CB;&#x8F6C;90&#x5EA6; \g :&#x6709;&#x7ED3;&#x675F;sql&#x8BED;&#x53E5;&#x7684;&#x4F5C;&#x7528;mysql&#x8868;&#x7ED3;&#x6784;&#x7684;&#x4FEE;&#x6539; &#x4FEE;&#x6539;&#x8868;&#x540D; rename table &#x65E7;&#x8868;&#x540D; to &#x65B0;&#x8868;&#x540D;; rename table student to user; &#x6DFB;&#x52A0;&#x5217; &#x7ED9;&#x8868;&#x6DFB;&#x52A0;&#x4E00;&#x5217;&#xFF1A;alter table &#x8868;&#x540D; add &#x5217;&#x540D; &#x7C7B;&#x578B;; alter table user add addr varchar(50); alter table add &#x5217;&#x540D; &#x7C7B;&#x578B; comment &apos;&#x8BF4;&#x660E;&apos;; alter table user add famliy varchar(50) comment &apos;&#x5B66;&#x751F;&#x7236;&#x6BCD;&apos;; &#x7ED9;&#x8868;&#x6700;&#x524D;&#x9762;&#x6DFB;&#x52A0;&#x4E00;&#x5217;&#xFF1A;alter table &#x8868;&#x540D; add &#x5217;&#x540D; &#x7C7B;&#x578B; first; alter table user add job varchar(10) first; &#x7ED9;&#x8868;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x540E;&#x6DFB;&#x52A0;&#x4E00;&#x5217;&#xFF1A;alter table &#x8868;&#x540D; add &#x5217;&#x540D; &#x7C7B;&#x578B; after &#x5B57;&#x6BB5;&#x540D;; alter table user add servnumber int(11) after id; &#x6CE8;&#x610F;&#xFF1A;&#x6CA1;&#x6709;&#x7ED9;&#x8868;&#x67D0;&#x4E2A;&#x5B57;&#x6BB5;&#x524D;&#x6DFB;&#x52A0;&#x4E00;&#x5217;&#x7684;&#x8BF4;&#x6CD5;&#x3002; &#x4FEE;&#x6539;&#x5217;&#x7C7B;&#x578B; alter table &#x8868;&#x540D; modify &#x5217;&#x540D; &#x65B0;&#x7C7B;&#x578B;; alter table user modify servnumber varchar(20); &#x4FEE;&#x6539;&#x5217;&#x540D; alter table &#x8868;&#x540D; change &#x65E7;&#x5217;&#x540D; &#x65B0;&#x5217;&#x540D; &#x7C7B;&#x578B;; alter table user change servnumber telephone varchar(20); &#x5220;&#x9664;&#x5217; alter table &#x8868;&#x540D; drop &#x5217;&#x540D;; alter table user drop famliy; &#x4FEE;&#x6539;&#x5B57;&#x7B26;&#x96C6; alter table &#x8868;&#x540D; character set &#x5B57;&#x7B26;&#x96C6;; alter table user character set GBK; mysql&#x8868;&#x7684;&#x5220;&#x9664; drop table &#x8868;&#x540D;&#xFF1B; drop table user;&#x770B;&#x8868;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x82E5;&#x5B58;&#x5728;&#x5219;&#x5220;&#x9664;&#x8868;&#xFF1A;drop table if exists &#x8868;&#x540D;; drop table if exists teacher; DML&#x8868;&#x6570;&#x636E;&#x65B0;&#x589E; &#x666E;&#x901A;&#x7684;&#x63D2;&#x5165;&#x8868;&#x6570;&#x636E; insert into &#x8868;&#x540D;&#xFF08;&#x5B57;&#x6BB5;&#x540D;&#xFF09; values&#xFF08;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#x503C;&#xFF09;; insert into employee (empno,ename,job,mgr,hiredate,sal,deptnu) values (&apos;1000&apos;,&apos;&#x5C0F;&#x660E;&apos;,&apos;&#x7ECF;&#x7406;&apos;,&apos;10001&apos;,&apos;2019-03-03&apos;,&apos;12345.23&apos;,&apos;10&apos;); insert into &#x8868;&#x540D; values&#xFF08;&#x6240;&#x6709;&#x5B57;&#x6BB5;&#x5BF9;&#x5E94;&#x503C;&#xFF09;; insert into employee values (&apos;1001&apos;,&apos;&#x5C0F;&#x660E;&apos;,&apos;&#x7ECF;&#x7406;&apos;,&apos;10001&apos;,&apos;2019-03-03&apos;,&apos;12345.23&apos;,&apos;10&apos;); &#x8815;&#x866B;&#x590D;&#x5236;&#xFF08;&#x5C06;&#x4E00;&#x5F20;&#x8868;&#x7684;&#x6570;&#x636E;&#x590D;&#x5236;&#x5230;&#x53E6;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#xFF09; insert into &#x8868;&#x540D;1 select * from &#x8868;&#x540D;2; insert into &#x8868;&#x540D;1&#xFF08;&#x5B57;&#x6BB5;&#x540D;1&#xFF0C;&#x5B57;&#x6BB5;&#x540D;2&#xFF09; select &#x5B57;&#x6BB5;&#x540D;1&#xFF0C;&#x5B57;&#x6BB5;&#x540D;2 from &#x8868;&#x540D;2; insert into emp (empno,ename) select empno,ename from employee; &#x5EFA;&#x8868;&#x590D;&#x5236; create table &#x8868;&#x540D;1 as select &#x5B57;&#x6BB5;&#x540D;1&#xFF0C;&#x5B57;&#x6BB5;&#x540D;2 from &#x8868;&#x540D;2; create table emp as select empno,ename from employee; &#x4E00;&#x6B21;&#x6027;&#x63D2;&#x5165;&#x591A;&#x4E2A;&#x6570;&#x636E; insert into &#x8868;&#x540D; (&#x5B57;&#x6BB5;&#x540D;) values (&#x5BF9;&#x5E94;&#x503C;1),(&#x5BF9;&#x5E94;&#x503C;2),(&#x5BF9;&#x5E94;&#x503C;3); &#x521B;&#x5EFA;sql&#xFF1A; &#x67D0;&#x4E2A;&#x516C;&#x53F8;&#x7684;&#x5458;&#x5DE5;&#x8868; CREATE TABLE employee( empno INT PRIMARY KEY comment &apos;&#x96C7;&#x5458;&#x7F16;&#x53F7;&apos;, ename VARCHAR(20) comment &apos;&#x96C7;&#x5458;&#x59D3;&#x540D;&apos;, job VARCHAR(20) comment &apos;&#x96C7;&#x5458;&#x804C;&#x4F4D;&apos;, mgr INT comment &apos;&#x96C7;&#x5458;&#x4E0A;&#x7EA7;&#x7F16;&#x53F7;&apos;, hiredate DATE comment &apos;&#x96C7;&#x4F63;&#x65E5;&#x671F;&apos;, sal DECIMAL(7,2) comment &apos;&#x85AA;&#x8D44;&apos;, deptnu INT comment &apos;&#x90E8;&#x95E8;&#x7F16;&#x53F7;&apos; ); &#x8868;&#x6570;&#x636E;&#x7684;&#x4FEE;&#x6539;&#x4EE5;&#x53CA;&#x5220;&#x9664; &#x4FEE;&#x6539;&#xFF08;&#x66F4;&#x65B0;&#xFF09;&#xFF1A; update &#x8868;&#x540D; set &#x5B57;&#x6BB5;&#x540D;1=&#x503C;1 where &#x5B57;&#x6BB5;&#x540D;=&#x503C;; update &#x8868;&#x540D; set &#x5B57;&#x6BB5;&#x540D;1=&#x503C;1,&#x5B57;&#x6BB5;&#x540D;2=&#x503C;2 where &#x5B57;&#x6BB5;&#x540D;=&#x503C;; &#x5220;&#x9664;&#xFF1A; delete from &#x8868;&#x540D; where &#x5B57;&#x6BB5;&#x540D;=&#x503C;; truncate table &#x8868;&#x540D;; delete from &#x8868;&#x540D;; drop table &#x8868;&#x540D;; &#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A; &#x9762;&#x8BD5;&#x65F6;&#xFF1A;&#x9762;&#x8BD5;&#x5B98;&#x95EE;&#x5728;&#x5220;&#x6539;&#x6570;&#x636E;&#x4E4B;&#x524D;&#xFF0C;&#x4F60;&#x4F1A;&#x600E;&#x4E48;&#x505A;&#xFF1F; &#x7B54;&#x6848;&#xFF1A;&#x4F1A;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#x64CD;&#x4F5C;&#xFF0C;&#x4EE5;&#x9632;&#x4E07;&#x4E00;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x56DE;&#x9000; &#x9762;&#x8BD5;&#x65F6;&#xFF1A;&#x9762;&#x8BD5;&#x5B98;&#x4F1A;&#x95EE;&#xFF0C;delete&#x4E0E;truncate&#x4E0E;drop &#x8FD9;&#x4E09;&#x79CD;&#x5220;&#x9664;&#x6570;&#x636E;&#x7684;&#x5171;&#x540C;&#x70B9;&#x90FD;&#x662F;&#x5220;&#x9664;&#x6570;&#x636E;&#xFF0C;&#x4ED6;&#x4EEC;&#x7684;&#x4E0D;&#x540C;&#x70B9;&#x662F;&#x4EC0;&#x4E48;? delele &#x4F1A;&#x628A;&#x5220;&#x9664;&#x7684;&#x64CD;&#x4F5C;&#x8BB0;&#x5F55;&#x7ED9;&#x8BB0;&#x5F55;&#x8D77;&#x6765;&#xFF0C;&#x4EE5;&#x4FBF;&#x6570;&#x636E;&#x56DE;&#x9000;&#xFF0C;&#x4E0D;&#x4F1A;&#x91CA;&#x653E;&#x7A7A;&#x95F4;&#xFF0C;&#x800C;&#x4E14;&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x5B9A;&#x4E49;&#x3002; truncate&#x4E0D;&#x4F1A;&#x8BB0;&#x5F55;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x4F1A;&#x628A;&#x8868;&#x5360;&#x7528;&#x7684;&#x7A7A;&#x95F4;&#x6062;&#x590D;&#x5230;&#x6700;&#x521D;&#xFF0C;&#x4E0D;&#x4F1A;&#x5220;&#x9664;&#x5B9A;&#x4E49; drop&#x4F1A;&#x5220;&#x9664;&#x6574;&#x5F20;&#x8868;&#xFF0C;&#x91CA;&#x653E;&#x8868;&#x5360;&#x7528;&#x7684;&#x7A7A;&#x95F4;&#x3002; &#x5220;&#x9664;&#x901F;&#x5EA6;&#xFF1A; &#x5220;&#x9664;&#x901F;&#x5EA6;&#xFF1A; drop &gt; truncate &gt; delete mysql&#x4E2D;&#x6587;&#x4E71;&#x7801;&#x95EE;&#x9898; &#x67E5;&#x770B;&#x5F53;&#x524D;mysql&#x4F7F;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#xFF1A;show variables like &#x2018;character%&#x2019;; mysql&gt; show variables like &apos;character%&apos;; +--------------------------+----------------------------------+ | Variable_name | Value | +--------------------------+----------------------------------+ | character_set_client | utf8 | | character_set_connection | utf8 | | character_set_database | utf8 | | character_set_filesystem | binary | | character_set_results | utf8 | | character_set_server | utf8 | | character_set_system | utf8 | | character_sets_dir | /usr/local/mysql/share/charsets/ | +--------------------------+----------------------------------+ character_set_client&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#x6570;&#x636E;&#x7684;&#x5B57;&#x7B26;&#x96C6; character_set_connection&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x670D;&#x52A1;&#x5668;&#x8FDE;&#x63A5;&#x7684;&#x5B57;&#x7B26;&#x96C6; character_set_database&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x67D0;&#x4E2A;&#x5E93;&#x4F7F;&#x7528;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x8BBE;&#x5B9A;&#xFF0C;&#x5982;&#x679C;&#x5EFA;&#x5E93;&#x65F6;&#x6CA1;&#x6709;&#x6307;&#x660E;&#xFF0C;&#x5C06;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x4E0A;&#x7684;&#x5B57;&#x7B26;&#x96C6; character_set_results&#xFF1A;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5B57;&#x7B26;&#x96C6;(&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x8BFB;&#x53D6;&#x5230;&#x7684;&#x6570;&#x636E;&#x662F;&#x4EC0;&#x4E48;&#x7F16;&#x7801;&#x7684;) character_set_server&#xFF1A;&#x4E3A;&#x670D;&#x52A1;&#x5668;&#x5B89;&#x88C5;&#x65F6;&#x6307;&#x5B9A;&#x7684;&#x9ED8;&#x8BA4;&#x5B57;&#x7B26;&#x96C6;&#x8BBE;&#x5B9A;&#x3002; character_set_system&#xFF1A;&#x7CFB;&#x7EDF;&#x5B57;&#x7B26;&#x96C6;(&#x4FEE;&#x6539;&#x4E0D;&#x4E86;&#x7684;&#xFF0C;&#x5C31;&#x662F;utf8) character_sets_dir&#xFF1A;mysql&#x5B57;&#x7B26;&#x96C6;&#x6587;&#x4EF6;&#x7684;&#x4FDD;&#x5B58;&#x8DEF;&#x5F84; &#x4E34;&#x65F6;&#xFF1A;set names gbk; &#x6C38;&#x4E45;&#xFF1A;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;my.cnf&#x91CC;&#x8FB9;&#x7684; [client] default-character-set=gbk &#x4F5C;&#x7528;&#x4E8E;&#x5916;&#x90E8;&#x7684;&#x663E;&#x793A; [mysqld] character_set_server=gbk &#x4F5C;&#x7528;&#x4E8E;&#x5185;&#x90E8;&#xFF0C;&#x4F1A;&#x4F5C;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x5E93;&#x8868;&#x65F6;&#x9ED8;&#x8BA4;&#x5B57;&#x7B26;&#x96C6; &#x4FEE;&#x6539;&#x5E93;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x7F16;&#x7801; alter database xiaoxiao default character set gbk; &#x4FEE;&#x6539;&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x7F16;&#x7801; alter table employee default character set utf8; DQL&#x5BF9;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5404;&#x79CD;&#x67E5;&#x8BE2; &#x6784;&#x9020;&#x6570;&#x636E; /*&#x521B;&#x5EFA;&#x90E8;&#x95E8;&#x8868;*/ CREATE TABLE dept( deptnu INT PRIMARY KEY comment &apos;&#x90E8;&#x95E8;&#x7F16;&#x53F7;&apos;, dname VARCHAR(50) comment &apos;&#x90E8;&#x95E8;&#x540D;&#x79F0;&apos;, addr VARCHAR(50) comment &apos;&#x90E8;&#x95E8;&#x5730;&#x5740;&apos; ); /*&#x67D0;&#x4E2A;&#x516C;&#x53F8;&#x7684;&#x5458;&#x5DE5;&#x8868;*/ CREATE TABLE employee( empno INT PRIMARY KEY comment &apos;&#x96C7;&#x5458;&#x7F16;&#x53F7;&apos;, ename VARCHAR(50) comment &apos;&#x96C7;&#x5458;&#x59D3;&#x540D;&apos;, job VARCHAR(50) comment &apos;&#x96C7;&#x5458;&#x804C;&#x4F4D;&apos;, mgr INT comment &apos;&#x96C7;&#x5458;&#x4E0A;&#x7EA7;&#x7F16;&#x53F7;&apos;, hiredate DATE comment &apos;&#x96C7;&#x4F63;&#x65E5;&#x671F;&apos;, sal DECIMAL(7,2) comment &apos;&#x85AA;&#x8D44;&apos;, deptnu INT comment &apos;&#x90E8;&#x95E8;&#x7F16;&#x53F7;&apos; )ENGINE=MyISAM DEFAULT CHARSET=utf8; /*&#x521B;&#x5EFA;&#x5DE5;&#x8D44;&#x7B49;&#x7EA7;&#x8868;*/ CREATE TABLE salgrade( grade INT PRIMARY KEY comment &apos;&#x7B49;&#x7EA7;&apos;, lowsal INT comment &apos;&#x6700;&#x4F4E;&#x85AA;&#x8D44;&apos;, higsal INT comment &apos;&#x6700;&#x9AD8;&#x85AA;&#x8D44;&apos; ); /*&#x63D2;&#x5165;dept&#x8868;&#x6570;&#x636E;*/ INSERT INTO dept VALUES (10, &apos;&#x7814;&#x53D1;&#x90E8;&apos;, &apos;&#x5317;&#x4EAC;&apos;); INSERT INTO dept VALUES (20, &apos;&#x5DE5;&#x7A0B;&#x90E8;&apos;, &apos;&#x4E0A;&#x6D77;&apos;); INSERT INTO dept VALUES (30, &apos;&#x9500;&#x552E;&#x90E8;&apos;, &apos;&#x5E7F;&#x5DDE;&apos;); INSERT INTO dept VALUES (40, &apos;&#x8D22;&#x52A1;&#x90E8;&apos;, &apos;&#x6DF1;&#x5733;&apos;); /*&#x63D2;&#x5165;emp&#x8868;&#x6570;&#x636E;*/ INSERT INTO employee VALUES (1009, &apos;&#x5510;&#x50E7;&apos;, &apos;&#x8463;&#x4E8B;&#x957F;&apos;, NULL, &apos;2010-11-17&apos;, 50000, 10); INSERT INTO employee VALUES (1004, &apos;&#x732A;&#x516B;&#x6212;&apos;, &apos;&#x7ECF;&#x7406;&apos;, 1009, &apos;2001-04-02&apos;, 29750, 20); INSERT INTO employee VALUES (1006, &apos;&#x7334;&#x5B50;&apos;, &apos;&#x7ECF;&#x7406;&apos;, 1009, &apos;2011-05-01&apos;, 28500, 30); INSERT INTO employee VALUES (1007, &apos;&#x5F20;&#x98DE;&apos;, &apos;&#x7ECF;&#x7406;&apos;, 1009, &apos;2011-09-01&apos;, 24500,10); INSERT INTO employee VALUES (1008, &apos;&#x8BF8;&#x845B;&#x4EAE;&apos;, &apos;&#x5206;&#x6790;&#x5E08;&apos;, 1004, &apos;2017-04-19&apos;, 30000, 20); INSERT INTO employee VALUES (1013, &apos;&#x6797;&#x4FCA;&#x6770;&apos;, &apos;&#x5206;&#x6790;&#x5E08;&apos;, 1004, &apos;2011-12-03&apos;, 30000, 20); INSERT INTO employee VALUES (1002, &apos;&#x725B;&#x9B54;&#x738B;&apos;, &apos;&#x9500;&#x552E;&#x5458;&apos;, 1006, &apos;2018-02-20&apos;, 16000, 30); INSERT INTO employee VALUES (1003, &apos;&#x7A0B;&#x54AC;&#x91D1;&apos;, &apos;&#x9500;&#x552E;&#x5458;&apos;, 1006, &apos;2017-02-22&apos;, 12500, 30); INSERT INTO employee VALUES (1005, &apos;&#x540E;&#x88D4;&apos;, &apos;&#x9500;&#x552E;&#x5458;&apos;, 1006, &apos;2011-09-28&apos;, 12500, 30); INSERT INTO employee VALUES (1010, &apos;&#x97E9;&#x4FE1;&apos;, &apos;&#x9500;&#x552E;&#x5458;&apos;, 1006, &apos;2018-09-08&apos;, 15000,30); INSERT INTO employee VALUES (1012, &apos;&#x5B89;&#x742A;&#x62C9;&apos;, &apos;&#x6587;&#x5458;&apos;, 1006, &apos;2011-12-03&apos;, 9500, 30); INSERT INTO employee VALUES (1014, &apos;&#x7504;&#x59EC;&apos;, &apos;&#x6587;&#x5458;&apos;, 1007, &apos;2019-01-23&apos;, 7500, 10); INSERT INTO employee VALUES (1011, &apos;&#x59B2;&#x5DF1;&apos;, &apos;&#x6587;&#x5458;&apos;, 1008, &apos;2018-05-23&apos;, 11000, 20); INSERT INTO employee VALUES (1001, &apos;&#x5C0F;&#x4E54;&apos;, &apos;&#x6587;&#x5458;&apos;, 1013, &apos;2018-12-17&apos;, 8000, 20); /*&#x63D2;&#x5165;salgrade&#x8868;&#x6570;&#x636E;*/ INSERT INTO salgrade VALUES (1, 7000, 12000); INSERT INTO salgrade VALUES (2, 12010, 14000); INSERT INTO salgrade VALUES (3, 14010, 20000); INSERT INTO salgrade VALUES (4, 20010, 30000); INSERT INTO salgrade VALUES (5, 30010, 99990); where&#x6761;&#x4EF6;&#x67E5;&#x8BE2; (where&#x540E;&#x9762;&#x4E0D;&#x80FD;&#x8DDF;&#x805A;&#x5408;&#x51FD;&#x6570;) &#x7B80;&#x5355;&#x67E5;&#x8BE2; select * from employee; select empno,ename,job as ename_job from employee; &#x7CBE;&#x786E;&#x6761;&#x4EF6;&#x67E5;&#x8BE2; select * from employee where ename=&apos;&#x540E;&#x88D4;&apos;; select * from employee where sal != 50000; select * from employee where sal &lt;&gt; 50000; select * from employee where sal &gt; 10000; &#x6A21;&#x7CCA;&#x6761;&#x4EF6;&#x67E5;&#x8BE2; show variables like &apos;%aracter%&apos;; select * from employee where ename like &apos;&#x6797;%&apos;; &#x8303;&#x56F4;&#x67E5;&#x8BE2; select * from employee where sal between 10000 and 30000; select * from employee where hiredate between &apos;2011-01-01&apos; and &apos;2017-12-1&apos;; &#x79BB;&#x6563;&#x67E5;&#x8BE2; select * from employee where ename in (&apos;&#x7334;&#x5B50;&apos;,&apos;&#x6797;&#x4FCA;&#x6770;&apos;,&apos;&#x5C0F;&#x7EA2;&apos;,&apos;&#x5C0F;&#x80E1;&apos;); &#x6E05;&#x9664;&#x91CD;&#x590D;&#x503C; select distinct(job) from employee; &#x7EDF;&#x8BA1;&#x67E5;&#x8BE2;&#xFF08;&#x805A;&#x5408;&#x51FD;&#x6570;&#xFF09;: count(code)&#x6216;&#x8005;count(*) select count(*) from employee; select count(ename) from employee; sum() &#x8BA1;&#x7B97;&#x603B;&#x548C; select sum(sal) from employee; max() &#x8BA1;&#x7B97;&#x6700;&#x5927;&#x503C; select * from employee where sal= (select max(sal) from employee); avg() &#x8BA1;&#x7B97;&#x5E73;&#x5747;&#x503C; select avg(sal) from employee; min() &#x8BA1;&#x7B97;&#x6700;&#x4F4E;&#x503C; select * from employee where sal= (select min(sal) from employee); concat&#x51FD;&#x6570;&#xFF1A; &#x8D77;&#x5230;&#x8FDE;&#x63A5;&#x4F5C;&#x7528; select concat(ename,&apos; &#x662F; &apos;,job) as aaaa from employee; group by&#x5206;&#x7EC4;&#x67E5;&#x8BE2; &#x4F5C;&#x7528;&#xFF1A;&#x628A;&#x884C; &#x6309; &#x5B57;&#x6BB5; &#x5206;&#x7EC4; &#x8BED;&#x6CD5;&#xFF1A;group by &#x5217;1&#xFF0C;&#x5217;2&#x2026;.&#x5217;N (&#x5C06;&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#x7EC4;&#x5408;&#x6210;&#x4E00;&#x4E2A;&#x6574;&#x4F53;&#x8FDB;&#x884C;&#x5206;&#x7EC4;) &#x9002;&#x7528;&#x573A;&#x5408;&#xFF1A;&#x5E38;&#x7528;&#x4E8E;&#x7EDF;&#x8BA1;&#x573A;&#x5408;&#xFF0C;&#x4E00;&#x822C;&#x548C;&#x805A;&#x5408;&#x51FD;&#x6570;&#x8FDE;&#x7528; eg: select deptnu,count(*) from employee group by deptnu; select deptnu,job,count(*) from employee group by deptnu,job; select job,count(*) from employee group by job; having&#x6761;&#x4EF6;&#x67E5;&#x8BE2; &#x4F5C;&#x7528;&#xFF1A;&#x5BF9;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x7B5B;&#x9009;&#x64CD;&#x4F5C; &#x8BED;&#x6CD5;&#xFF1A;having &#x6761;&#x4EF6; &#x6216;&#x8005; having &#x805A;&#x5408;&#x51FD;&#x6570; &#x6761;&#x4EF6; &#x9002;&#x7528;&#x573A;&#x5408;&#xFF1A;&#x4E00;&#x822C;&#x8DDF;&#x5728;group by&#x4E4B;&#x540E; eg: select job,count(*) from employee group by job having job =&apos;&#x6587;&#x5458;&apos;; select deptnu,job,count(*) from employee group by deptnu,job having count(*)&gt;=2; select deptnu,job,count(*) as &#x603B;&#x6570; from employee group by deptnu,job having &#x603B;&#x6570;&gt;=2; order by&#x6392;&#x5E8F;&#x67E5;&#x8BE2; &#x4F5C;&#x7528;&#xFF1A;&#x5BF9;&#x67E5;&#x8BE2;&#x7684;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x64CD;&#x4F5C; &#x8BED;&#x6CD5;&#xFF1A;order by &#x5B57;&#x6BB5;1,&#x5B57;&#x6BB5;2 &#x2026;.. &#x9002;&#x7528;&#x573A;&#x5408;&#xFF1A;&#x4E00;&#x822C;&#x7528;&#x5728;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x6392;&#x5E8F; eg: select * from employee order by sal; select * from employee order by hiredate; select deptnu,job,count(*) as &#x603B;&#x6570; from employee group by deptnu,job having &#x603B;&#x6570;&gt;=2 order by deptnu desc; select deptnu,job,count(*) as &#x603B;&#x6570; from employee group by deptnu,job having &#x603B;&#x6570;&gt;=2 order by deptnu asc; select deptnu,job,count(*) as &#x603B;&#x6570; from employee group by deptnu,job having &#x603B;&#x6570;&gt;=2 order by deptnu; &#x987A;&#x5E8F;&#xFF1A;where ---- group by ----- having ------ order by limit&#x5206;&#x9875;&#x67E5;&#x8BE2; &#x4F5C;&#x7528;&#xFF1A;&#x5BF9;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x8D77;&#x5230;&#x9650;&#x5236;&#x6761;&#x6570;&#x7684;&#x4F5C;&#x7528; &#x8BED;&#x6CD5;&#xFF1A;limit n&#xFF0C;m n:&#x4EE3;&#x8868;&#x8D77;&#x59CB;&#x6761;&#x6570;&#x503C;&#xFF0C;&#x4E0D;&#x5199;&#x9ED8;&#x8BA4;&#x4E3A;0&#xFF1B;m&#x4EE3;&#x8868;&#xFF1A;&#x53D6;&#x51FA;&#x7684;&#x6761;&#x6570; &#x9002;&#x7528;&#x573A;&#x5408;&#xFF1A;&#x6570;&#x636E;&#x91CF;&#x8FC7;&#x591A;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8D77;&#x5230;&#x9650;&#x5236;&#x4F5C;&#x7528; eg: select * from XD.employee limit 4,5; exists&#x5B50;&#x67E5;&#x8BE2; exists&#x578B;&#x5B50;&#x67E5;&#x8BE2;&#x540E;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x53D7;&#x9650;&#x7684;select&#x67E5;&#x8BE2;&#x8BED;&#x53E5; exists&#x5B50;&#x67E5;&#x8BE2;&#xFF0C;&#x5982;&#x679C;exists&#x540E;&#x7684;&#x5185;&#x5C42;&#x67E5;&#x8BE2;&#x80FD;&#x67E5;&#x51FA;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; TRUE &#x8868;&#x793A;&#x5B58;&#x5728;&#xFF1B;&#x4E3A;&#x7A7A;&#x5219;&#x8FD4;&#x56DE; FLASE&#x5219;&#x4E0D;&#x5B58;&#x5728;&#x3002; &#x5206;&#x4E3A;&#x4FE9;&#x79CD;&#xFF1A;exists&#x8DDF; not exists select 1 from employee where 1=1; select * from &#x8868;&#x540D; a where exists (select 1 from &#x8868;&#x540D;2 where &#x6761;&#x4EF6;); eg:&#x67E5;&#x8BE2;&#x51FA;&#x516C;&#x53F8;&#x6709;&#x5458;&#x5DE5;&#x7684;&#x90E8;&#x95E8;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F; select * from dept a where exists (select 1 from employee b where a.deptnu=b.deptnu); select * from dept a where not exists (select 1 from employee b where a.deptnu=b.deptnu); &#x5DE6;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#x4E0E;&#x53F3;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2; &#x5DE6;&#x8FDE;&#x63A5;&#x79F0;&#x4E4B;&#x4E3A;&#x5DE6;&#x5916;&#x8FDE;&#x63A5; &#x53F3;&#x8FDE;&#x63A5;&#x79F0;&#x4E4B;&#x4E3A;&#x53F3;&#x5916;&#x8FDE;&#x63A5; &#x8FD9;&#x4FE9;&#x4E2A;&#x8FDE;&#x63A5;&#x90FD;&#x662F;&#x5C5E;&#x4E8E;&#x5916;&#x8FDE;&#x63A5; &#x5DE6;&#x8FDE;&#x63A5;&#x5173;&#x952E;&#x5B57;&#xFF1A;left join &#x8868;&#x540D; on &#x6761;&#x4EF6; / left outer &#x8868;&#x540D; join on &#x6761;&#x4EF6; &#x53F3;&#x8FDE;&#x63A5;&#x5173;&#x952E;&#x5B57;&#xFF1A;right join &#x8868;&#x540D; on &#x6761;&#x4EF6;/ right outer &#x8868;&#x540D; join on &#x6761;&#x4EF6; &#x5DE6;&#x8FDE;&#x63A5;&#x8BF4;&#x660E;&#xFF1A; left join &#x662F;left outer join&#x7684;&#x7B80;&#x5199;&#xFF0C;&#x5DE6;(&#x5916;)&#x8FDE;&#x63A5;&#xFF0C;&#x5DE6;&#x8868;(a_table)&#x7684;&#x8BB0;&#x5F55;&#x5C06;&#x4F1A;&#x5168;&#x90E8;&#x8868;&#x793A;&#x51FA;&#x6765;&#xFF0C; &#x800C;&#x53F3;&#x8868;(b_table)&#x53EA;&#x4F1A;&#x663E;&#x793A;&#x7B26;&#x5408;&#x641C;&#x7D22;&#x6761;&#x4EF6;&#x7684;&#x8BB0;&#x5F55;&#x3002;&#x53F3;&#x8868;&#x8BB0;&#x5F55;&#x4E0D;&#x8DB3;&#x7684;&#x5730;&#x65B9;&#x5747;&#x4E3A;NULL&#x3002; &#x53F3;&#x8FDE;&#x63A5;&#x8BF4;&#x660E;&#xFF1A;right join&#x662F;right outer join&#x7684;&#x7B80;&#x5199;&#xFF0C;&#x4E0E;&#x5DE6;(&#x5916;)&#x8FDE;&#x63A5;&#x76F8;&#x53CD;&#xFF0C;&#x53F3;(&#x5916;)&#x8FDE;&#x63A5;&#xFF0C;&#x5DE6;&#x8868;(a_table)&#x53EA;&#x4F1A;&#x663E;&#x793A;&#x7B26;&#x5408;&#x641C;&#x7D22;&#x6761;&#x4EF6;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x800C;&#x53F3;&#x8868;(b_table)&#x7684;&#x8BB0;&#x5F55;&#x5C06;&#x4F1A;&#x5168;&#x90E8;&#x8868;&#x793A;&#x51FA;&#x6765;&#x3002;&#x5DE6;&#x8868;&#x8BB0;&#x5F55;&#x4E0D;&#x8DB3;&#x7684;&#x5730;&#x65B9;&#x5747;&#x4E3A;NULL&#x3002; eg:&#x5217;&#x51FA;&#x90E8;&#x95E8;&#x540D;&#x79F0;&#x548C;&#x8FD9;&#x4E9B;&#x90E8;&#x95E8;&#x7684;&#x5458;&#x5DE5;&#x4FE1;&#x606F;&#xFF0C;&#x540C;&#x65F6;&#x5217;&#x51FA;&#x90A3;&#x4E9B;&#x6CA1;&#x6709;&#x7684;&#x5458;&#x5DE5;&#x7684;&#x90E8;&#x95E8; dept&#xFF0C;employee select a.dname,b.* from dept a left join employee b on a.deptnu=b.deptnu; select b.dname,a.* from employee a right join dept b on b.deptnu=a.deptnu; &#x5185;&#x8FDE;&#x63A5;&#x67E5;&#x8BE2;&#x4E0E;&#x8054;&#x5408;&#x67E5;&#x8BE2; &#x5185;&#x8FDE;&#x63A5;&#xFF1A;&#x83B7;&#x53D6;&#x4E24;&#x4E2A;&#x8868;&#x4E2D;&#x5B57;&#x6BB5;&#x5339;&#x914D;&#x5173;&#x7CFB;&#x7684;&#x8BB0;&#x5F55; &#x4E3B;&#x8981;&#x8BED;&#x6CD5;&#xFF1A;INNER JOIN &#x8868;&#x540D; ON &#x6761;&#x4EF6;; eg:&#x60F3;&#x67E5;&#x51FA;&#x5458;&#x5DE5;&#x5F20;&#x98DE;&#x7684;&#x6240;&#x5728;&#x90E8;&#x95E8;&#x7684;&#x5730;&#x5740; select a.addr from dept a inner join employee b on a.deptnu=b.deptnu and b.ename=&apos;&#x5F20;&#x98DE;&apos;; select a.addr from dept a,employee b where a.deptnu=b.deptnu and b.ename=&apos;&#x5F20;&#x98DE;&apos;; &#x8054;&#x5408;&#x67E5;&#x8BE2;&#xFF1A;&#x5C31;&#x662F;&#x628A;&#x591A;&#x4E2A;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7ED3;&#x5408;&#x5728;&#x4E00;&#x8D77; &#x4E3B;&#x8981;&#x8BED;&#x6CD5;1&#xFF1A;&#x2026; UNION &#x2026; &#xFF08;&#x53BB;&#x9664;&#x91CD;&#x590D;&#xFF09; &#x4E3B;&#x8981;&#x8BED;&#x6CD5;2&#xFF1A;&#x2026; UNION ALL &#x2026;&#xFF08;&#x4E0D;&#x53BB;&#x91CD;&#x590D;&#xFF09; union&#x67E5;&#x8BE2;&#x7684;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A; (1)&#x4E24;&#x4E2A;select&#x8BED;&#x53E5;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#x7684;&#x201C;&#x5B57;&#x6BB5;&#x6570;&#x201D;&#x5FC5;&#x987B;&#x4E00;&#x81F4;&#xFF1B; (2)&#x901A;&#x5E38;&#xFF0C;&#x4E5F;&#x5E94;&#x8BE5;&#x8BA9;&#x4E24;&#x4E2A;&#x67E5;&#x8BE2;&#x8BED;&#x53E5;&#x7684;&#x5B57;&#x6BB5;&#x7C7B;&#x578B;&#x5177;&#x6709;&#x4E00;&#x81F4;&#x6027;&#xFF1B; (3)&#x4E5F;&#x53EF;&#x4EE5;&#x8054;&#x5408;&#x66F4;&#x591A;&#x7684;&#x67E5;&#x8BE2;&#x7ED3;&#x679C;&#xFF1B; (4)&#x7528;&#x5230;order by&#x6392;&#x5E8F;&#x65F6;&#xFF0C;&#x9700;&#x8981;&#x52A0;&#x4E0A;limit&#xFF08;&#x52A0;&#x4E0A;&#x6700;&#x5927;&#x6761;&#x6570;&#x5C31;&#x884C;&#xFF09;&#xFF0C;&#x9700;&#x8981;&#x5BF9;&#x5B50;&#x53E5;&#x7528;&#x62EC;&#x53F7;&#x62EC;&#x8D77;&#x6765; eg:&#x5BF9;&#x9500;&#x552E;&#x5458;&#x7684;&#x5DE5;&#x8D44;&#x4ECE;&#x4F4E;&#x5230;&#x9AD8;&#x6392;&#x5E8F;&#xFF0C;&#x800C;&#x6587;&#x5458;&#x7684;&#x5DE5;&#x8D44;&#x4ECE;&#x9AD8;&#x5230;&#x4F4E;&#x6392;&#x5E8F; (select * from employee a where a.job = &apos;&#x9500;&#x552E;&#x5458;&apos; order by a.sal limit 999999 ) union (select * from employee b where b.job = &apos;&#x6587;&#x5458;&apos; order by b.sal desc limit 999999); &#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;&#x5B9E;&#x6218;(&#x4E00;) &#x51FA;&#x81F3;&#x5C11;&#x6709;&#x4E00;&#x4E2A;&#x5458;&#x5DE5;&#x7684;&#x90E8;&#x95E8;&#x3002;&#x663E;&#x793A;&#x90E8;&#x95E8;&#x7F16;&#x53F7;&#x3001;&#x90E8;&#x95E8;&#x540D;&#x79F0;&#x3001;&#x90E8;&#x95E8;&#x4F4D;&#x7F6E;&#x3001;&#x90E8;&#x95E8;&#x4EBA;&#x6570;&#x3002; &#x6D89;&#x53CA;&#x8868;&#xFF1A; employee dept &#x8BED;&#x53E5;&#xFF1A;select deptnu,count(*) from employee group by deptnu &#x8BED;&#x53E5;&#xFF1A;select a.deptnu,a.dname,a.addr, b.zongshu from dept a,(select deptnu,count(*) as zongshu from employee group by deptnu) b where a.deptnu=b.deptnu; &#x5217;&#x51FA;&#x85AA;&#x91D1;&#x6BD4;&#x5B89;&#x742A;&#x62C9;&#x9AD8;&#x7684;&#x6240;&#x6709;&#x5458;&#x5DE5;&#x3002; &#x6D89;&#x53CA;&#x8868;&#xFF1A;employee &#x8BED;&#x53E5;&#xFF1A;select * from employee where sal &gt; (select sal from employee where ename=&apos;&#x5B89;&#x742A;&#x62C9;&apos;); &#x5217;&#x51FA;&#x6240;&#x6709;&#x5458;&#x5DE5;&#x7684;&#x59D3;&#x540D;&#x53CA;&#x5176;&#x76F4;&#x63A5;&#x4E0A;&#x7EA7;&#x7684;&#x59D3;&#x540D;&#x3002; &#x6D89;&#x53CA;&#x8868;&#xFF1A;employee &#x8BED;&#x53E5;&#xFF1A;select a.ename,ifnull(b.ename,&apos;BOSS&apos;) as leader from employee a left join employee b on a.mgr=b.empno; &#x5217;&#x51FA;&#x53D7;&#x96C7;&#x65E5;&#x671F;&#x65E9;&#x4E8E;&#x76F4;&#x63A5;&#x4E0A;&#x7EA7;&#x7684;&#x6240;&#x6709;&#x5458;&#x5DE5;&#x7684;&#x7F16;&#x53F7;&#x3001;&#x59D3;&#x540D;&#x3001;&#x90E8;&#x95E8;&#x540D;&#x79F0;&#x3002; &#x6D89;&#x53CA;&#x8868;&#xFF1A;employee dept &#x6761;&#x4EF6;&#xFF1A;a.hiredate &lt; b.hiredate &#x8BED;&#x53E5;&#xFF1A;select a.empno,a.ename,c.dname from employee a left join employee b on a.mgr=b.empno left join dept c on a.deptnu=c.deptnu where a.hiredate &lt; b.hiredate; &#x5217;&#x51FA;&#x90E8;&#x95E8;&#x540D;&#x79F0;&#x548C;&#x8FD9;&#x4E9B;&#x90E8;&#x95E8;&#x7684;&#x5458;&#x5DE5;&#x4FE1;&#x606F;&#xFF0C;&#x540C;&#x65F6;&#x5217;&#x51FA;&#x90A3;&#x4E9B;&#x6CA1;&#x6709;&#x5458;&#x5DE5;&#x7684;&#x90E8;&#x95E8;&#x3002; &#x6D89;&#x53CA;&#x8868;&#xFF1A;dept employee &#x8BED;&#x53E5;&#xFF1A;select a.dname,b.* from dept a left join employee b on a.deptnu=b.deptnu; &#x5217;&#x51FA;&#x6240;&#x6709;&#x6587;&#x5458;&#x7684;&#x59D3;&#x540D;&#x53CA;&#x5176;&#x90E8;&#x95E8;&#x540D;&#x79F0;&#xFF0C;&#x6240;&#x5728;&#x90E8;&#x95E8;&#x7684;&#x603B;&#x4EBA;&#x6570;&#x3002; &#x6D89;&#x53CA;&#x8868;&#xFF1A;employee dept &#x6761;&#x4EF6;&#xFF1A;job=&apos;&#x6587;&#x5458;&apos; &#x8BED;&#x53E5;&#xFF1A;select deptnu,count(*) as zongshu from employee group by deptnu; &#x8BED;&#x53E5;&#xFF1A;select b.ename,a.dname,b.job,c.zongshu from dept a ,employee b ,(select deptnu,count(*) as zongshu from employee group by deptnu) c where a.deptnu=b.deptnu and b.job=&apos;&#x6587;&#x5458;&apos; and b.deptnu=c.deptnu; &#x9AD8;&#x7EA7;&#x67E5;&#x8BE2;&#x5B9E;&#x6218;(&#x4E8C;) &#x5217;&#x51FA;&#x6700;&#x4F4E;&#x85AA;&#x91D1;&#x5927;&#x4E8E;15000&#x7684;&#x5404;&#x79CD;&#x5DE5;&#x4F5C;&#x53CA;&#x4ECE;&#x4E8B;&#x6B64;&#x5DE5;&#x4F5C;&#x7684;&#x5458;&#x5DE5;&#x4EBA;&#x6570;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
  </entry>
  <entry>
    <title><![CDATA[shiro]]></title>
    <url>%2Fjava%2F2019%2F06%2F07%2Fshiro.html</url>
    <content type="text"><![CDATA[What is Apache Shiro?Apache Shiro is a powerful and easy-to-use Java security framework that performs authentication, authorization, cryptography, and session management. With Shiro&#x2019;s easy-to-understand API, you can quickly and easily secure any application &#x2013; from the smallest mobile applications to the largest web and enterprise applications. Apache Shiro&#x662F;&#x4E00;&#x4E2A;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x4E14;&#x6613;&#x4E8E;&#x4F7F;&#x7528;&#x7684;Java&#x5B89;&#x5168;&#x6846;&#x67B6;&#xFF0C;&#x53EF;&#x6267;&#x884C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#xFF0C;&#x6388;&#x6743;&#xFF0C;&#x52A0;&#x5BC6;&#x548C;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#x3002; &#x501F;&#x52A9;Shiro&#x6613;&#x4E8E;&#x7406;&#x89E3;&#x7684;API&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x8F7B;&#x677E;&#x5730;&#x4FDD;&#x62A4;&#x4EFB;&#x4F55;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; - &#x4ECE;&#x6700;&#x5C0F;&#x7684;&#x79FB;&#x52A8;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5230;&#x6700;&#x5927;&#x7684;Web&#x548C;&#x4F01;&#x4E1A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002;How to use it?&#x914D;&#x5957;&#x4EE3;&#x7801;: https://github.com/mambamentality8/shiro&#x5982;&#x679C;&#x89C9;&#x5F97;&#x672C;&#x6587;&#x6709;&#x7528;&#x53EF;&#x4EE5;fllow&#x4F5C;&#x8005;&#x6216;&#x8005;star&#x4E00;&#x4E0B;&#x4ED3;&#x5E93; 1.&#x4EC0;&#x4E48;&#x662F;&#x6743;&#x9650;&#x63A7;&#x5236;&#xFF0C;&#x521D;&#x5B66;JavaWeb&#x65F6;&#x5904;&#x7406;&#x6D41;&#x7A0B; &#x4EC0;&#x4E48;&#x662F;&#x6743;&#x9650;&#x63A7;&#x5236;&#xFF1A; &#x5FFD;&#x7565;&#x7279;&#x522B;&#x7EC6;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x6BD4;&#x5982;&#x6743;&#x9650;&#x80FD;&#x7EC6;&#x5206;&#x5F88;&#x591A;&#x79CD;&#xFF0C;&#x529F;&#x80FD;&#x6743;&#x9650;&#xFF0C;&#x6570;&#x636E;&#x6743;&#x9650;&#xFF0C;&#x7BA1;&#x7406;&#x6743;&#x9650;&#x7B49; &#x7406;&#x89E3;&#x4E24;&#x4E2A;&#x6982;&#x5FF5;&#xFF1A;&#x7528;&#x6237;&#x548C;&#x8D44;&#x6E90;&#xFF0C;&#x8BA9;&#x6307;&#x5B9A;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x53EA;&#x80FD;&#x64CD;&#x4F5C;&#x6307;&#x5B9A;&#x7684;&#x8D44;&#x6E90;&#xFF08;CRUD&#xFF09; &#x521D;&#x5B66;javaweb&#x65F6;&#x600E;&#x4E48;&#x505A; Filter&#x63A5;&#x53E3;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;doFilter&#x65B9;&#x6CD5;&#xFF0C;&#x81EA;&#x5DF1;&#x7F16;&#x5199;&#x597D;&#x4E1A;&#x52A1;Filter&#xFF0C;&#x5E76;&#x914D;&#x7F6E;&#x5BF9;&#x54EA;&#x4E2A;web&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x62E6;&#x622A;&#x540E; &#x5982;&#x679C;&#x8BBF;&#x95EE;&#x7684;&#x8DEF;&#x5F84;&#x547D;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;Filter&#xFF0C;&#x5219;&#x4F1A;&#x6267;&#x884C;doFilter()&#x65B9;&#x6CD5;&#xFF0C;&#x7136;&#x540E;&#x5224;&#x65AD;&#x662F;&#x5426;&#x6709;&#x6743;&#x9650;&#x8FDB;&#x884C;&#x8BBF;&#x95EE;&#x5BF9;&#x5E94;&#x7684;&#x8D44;&#x6E90; /api/user/info?id=1 public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)throws Exception { HttpServletRequest httpRequest=(HttpServletRequest)request; HttpServletResponse httpResponse=(HttpServletResponse)response; HttpSession session=httpRequest.getSession(); if(session.getAttribute("username")!=null){ chain.doFilter(request, response); } else { httpResponse.sendRedirect(httpRequest.getContextPath()+"/login.jsp"); } } 2.&#x4ECB;&#x7ECD;&#x4EC0;&#x4E48;&#x662F;ACL&#x548C;RBAC ACL: Access Control List &#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x5217;&#x8868; &#x4EE5;&#x524D;&#x76DB;&#x884C;&#x7684;&#x4E00;&#x79CD;&#x6743;&#x9650;&#x8BBE;&#x8BA1;&#xFF0C;&#x5B83;&#x7684;&#x6838;&#x5FC3;&#x5728;&#x4E8E;&#x7528;&#x6237;&#x76F4;&#x63A5;&#x548C;&#x6743;&#x9650;&#x6302;&#x94A9; &#x4F18;&#x70B9;&#xFF1A;&#x7B80;&#x5355;&#x6613;&#x7528;&#xFF0C;&#x5F00;&#x53D1;&#x4FBF;&#x6377; &#x7F3A;&#x70B9;&#xFF1A;&#x7528;&#x6237;&#x548C;&#x6743;&#x9650;&#x76F4;&#x63A5;&#x6302;&#x94A9;&#xFF0C;&#x5BFC;&#x81F4;&#x5728;&#x6388;&#x4E88;&#x65F6;&#x7684;&#x590D;&#x6742;&#x6027;&#xFF0C;&#x6BD4;&#x8F83;&#x5206;&#x6563;&#xFF0C;&#x4E0D;&#x4FBF;&#x4E8E;&#x7BA1;&#x7406; &#x4F8B;&#x5B50;&#xFF1A;&#x5E38;&#x89C1;&#x7684;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x6743;&#x9650;&#x8BBE;&#x8BA1;, &#x76F4;&#x63A5;&#x7ED9;&#x7528;&#x6237;&#x52A0;&#x6743;&#x9650; RBAC: Role Based Access Control &#x57FA;&#x4E8E;&#x89D2;&#x8272;&#x7684;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x7CFB;&#x7EDF;&#x3002;&#x6743;&#x9650;&#x4E0E;&#x89D2;&#x8272;&#x76F8;&#x5173;&#x8054;&#xFF0C;&#x7528;&#x6237;&#x901A;&#x8FC7;&#x6210;&#x4E3A;&#x9002;&#x5F53;&#x89D2;&#x8272;&#x7684;&#x6210;&#x5458;&#x800C;&#x5F97;&#x5230;&#x8FD9;&#x4E9B;&#x89D2;&#x8272;&#x7684;&#x6743;&#x9650; &#x4F18;&#x70B9;&#xFF1A;&#x7B80;&#x5316;&#x4E86;&#x7528;&#x6237;&#x4E0E;&#x6743;&#x9650;&#x7684;&#x7BA1;&#x7406;&#xFF0C;&#x901A;&#x8FC7;&#x5BF9;&#x7528;&#x6237;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x4F7F;&#x5F97;&#x89D2;&#x8272;&#x4E0E;&#x6743;&#x9650;&#x5173;&#x8054;&#x8D77;&#x6765; &#x7F3A;&#x70B9;&#xFF1A;&#x5F00;&#x53D1;&#x5BF9;&#x6BD4;ACL&#x76F8;&#x5BF9;&#x590D;&#x6742; &#x4F8B;&#x5B50;&#xFF1A;&#x57FA;&#x4E8E;RBAC&#x6A21;&#x578B;&#x7684;&#x6743;&#x9650;&#x9A8C;&#x8BC1;&#x6846;&#x67B6;&#x4E0E;&#x5E94;&#x7528; Apache Shiro&#x3001;spring Security BAT&#x4F01;&#x4E1A; ACL&#xFF0C;&#x4E00;&#x822C;&#x662F;&#x5BF9;&#x62A5;&#x8868;&#x7CFB;&#x7EDF;&#xFF0C;&#x963F;&#x91CC;&#x7684;ODPS &#x603B;&#x7ED3;&#xFF1A;&#x4E0D;&#x80FD;&#x8FC7;&#x4E8E;&#x590D;&#x6742;&#xFF0C;&#x89C4;&#x5219;&#x8FC7;&#x591A;&#xFF0C;&#x7EF4;&#x62A4;&#x6027;&#x548C;&#x6027;&#x80FD;&#x4F1A;&#x4E0B;&#x964D;&#xFF0C; &#x66F4;&#x591A;&#x5206;&#x7C7B; ABAC&#x3001;PBAC&#x7B49; 3.&#x4ECB;&#x7ECD;&#x4E3B;&#x6D41;&#x7684;&#x6743;&#x9650;&#x6846;&#x67B6; Apache Shiro&#x3001;spring Security &#x4EC0;&#x4E48;&#x662F; spring Security&#xFF1A;&#x5B98;&#x7F51;&#x57FA;&#x7840;&#x4ECB;&#x7ECD; &#x5B98;&#x7F51;&#xFF1A;&lt;https://spring.io/projects/spring-security Spring Security&#x662F;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x4E3A;&#x57FA;&#x4E8E;Spring&#x7684;&#x4F01;&#x4E1A;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x58F0;&#x660E;&#x5F0F;&#x7684;&#x5B89;&#x5168;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x7684;&#x5B89;&#x5168;&#x6846;&#x67B6;&#x3002;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x7EC4;&#x53EF;&#x4EE5;&#x5728;Spring&#x5E94;&#x7528;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x914D;&#x7F6E;&#x7684;Bean&#xFF0C;&#x5145;&#x5206;&#x5229;&#x7528;&#x4E86;Spring IoC&#xFF0C;DI&#xFF08;&#x63A7;&#x5236;&#x53CD;&#x8F6C;Inversion of Control ,DI:Dependency Injection &#x4F9D;&#x8D56;&#x6CE8;&#x5165;&#xFF09;&#x548C;AOP&#xFF08;&#x9762;&#x5411;&#x5207;&#x9762;&#x7F16;&#x7A0B;&#xFF09;&#x529F;&#x80FD;&#xFF0C;&#x4E3A;&#x5E94;&#x7528;&#x7CFB;&#x7EDF;&#x63D0;&#x4F9B;&#x58F0;&#x660E;&#x5F0F;&#x7684;&#x5B89;&#x5168;&#x8BBF;&#x95EE;&#x63A7;&#x5236;&#x529F;&#x80FD;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x4E3A;&#x4F01;&#x4E1A;&#x7CFB;&#x7EDF;&#x5B89;&#x5168;&#x63A7;&#x5236;&#x7F16;&#x5199;&#x5927;&#x91CF;&#x91CD;&#x590D;&#x4EE3;&#x7801;&#x7684;&#x5DE5;&#x4F5C;&#x3002; &#x4E00;&#x53E5;&#x8BDD;&#xFF1A;Spring Security &#x7684;&#x524D;&#x8EAB;&#x662F; Acegi Security &#xFF0C;&#x662F; Spring &#x9879;&#x76EE;&#x7EC4;&#x4E2D;&#x7528;&#x6765;&#x63D0;&#x4F9B;&#x5B89;&#x5168;&#x8BA4;&#x8BC1;&#x670D;&#x52A1;&#x7684;&#x6846;&#x67B6; &#x4EC0;&#x4E48;&#x662F; Apache Shiro&#xFF1A;&#x5B98;&#x7F51;&#x57FA;&#x7840;&#x4ECB;&#x7ECD; https://github.com/apache/shiro Apache Shiro&#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x4E14;&#x6613;&#x7528;&#x7684;Java&#x5B89;&#x5168;&#x6846;&#x67B6;,&#x6267;&#x884C;&#x8EAB;&#x4EFD;&#x9A8C;&#x8BC1;&#x3001;&#x6388;&#x6743;&#x3001;&#x5BC6;&#x7801;&#x548C;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#x3002;&#x4F7F;&#x7528;Shiro&#x7684;&#x6613;&#x4E8E;&#x7406;&#x89E3;&#x7684;API,&#x60A8;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x3001;&#x8F7B;&#x677E;&#x5730;&#x83B7;&#x5F97;&#x4EFB;&#x4F55;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;,&#x4ECE;&#x6700;&#x5C0F;&#x7684;&#x79FB;&#x52A8;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x5230;&#x6700;&#x5927;&#x7684;&#x7F51;&#x7EDC;&#x548C;&#x4F01;&#x4E1A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; &#x4E00;&#x53E5;&#x8BDD;&#xFF1A;Shiro&#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x6613;&#x7528;&#x7684;Java&#x5B89;&#x5168;&#x6846;&#x67B6;,&#x63D0;&#x4F9B;&#x4E86;&#x8BA4;&#x8BC1;&#x3001;&#x6388;&#x6743;&#x3001;&#x52A0;&#x5BC6;&#x548C;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#x7B49;&#x529F;&#x80FD; &#x4E24;&#x4E2A;&#x4F18;&#x7F3A;&#x70B9;&#xFF0C;&#x5E94;&#x8BE5;&#x600E;&#x4E48;&#x9009;&#x62E9; Apache Shiro&#x6BD4;Spring Security , &#x524D;&#x8005;&#x4F7F;&#x7528;&#x66F4;&#x7B80;&#x5355; Shiro &#x529F;&#x80FD;&#x5F3A;&#x5927;&#x3001; &#x7B80;&#x5355;&#x3001;&#x7075;&#x6D3B;&#xFF0C; &#x4E0D;&#x8DDF;&#x4EFB;&#x4F55;&#x7684;&#x6846;&#x67B6;&#x6216;&#x8005;&#x5BB9;&#x5668;&#x7ED1;&#x5B9A;&#xFF0C;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x8FD0;&#x884C; Spring Security &#x5BF9;Spring &#x4F53;&#x7CFB;&#x652F;&#x6301;&#x6BD4;&#x8F83;&#x597D;&#xFF0C;&#x8131;&#x79BB;Spring&#x4F53;&#x7CFB;&#x5219;&#x5F88;&#x96BE;&#x5F00;&#x53D1; SpringSecutiry &#x652F;&#x6301;Oauth&#x9274;&#x6743; https://spring.io/projects/spring-security-oauth&#xFF0C;Shiro&#x9700;&#x8981;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0; &#x2026;&#x2026; &#x603B;&#x7ED3;&#xFF1A;&#x4E24;&#x4E2A;&#x6846;&#x67B6;&#x6CA1;&#x6709;&#x8C01;&#x8D85;&#x8FC7;&#x8C01;&#xFF0C;&#x5927;&#x4F53;&#x529F;&#x80FD;&#x4E00;&#x81F4;&#xFF0C;&#x65B0;&#x624B;&#x4E00;&#x822C;&#x5148;&#x63A8;&#x8350;Shiro&#xFF0C;&#x5B66;&#x4E60;&#x4F1A;&#x5BB9;&#x6613;&#x70B9; 4.Shiro&#x67B6;&#x6784;&#x56FE;&#x4EA4;&#x4E92;&#x548C;&#x56DB;&#x5927;&#x6838;&#x5FC3;&#x6A21;&#x5757; &#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1;&#xFF0C;&#x6388;&#x6743;&#xFF0C;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#x548C;&#x52A0;&#x5BC6; &#x76F4;&#x8FBE;Apache Shiro&#x5B98;&#x7F51; http://shiro.apache.org/introduction.html &#x4EC0;&#x4E48;&#x662F;&#x8EAB;&#x4EFD;&#x8BA4;&#x8BC1; Authentication&#xFF0C;&#x8EAB;&#x4EFD;&#x8BC1;&#x8BA4;&#x8BC1;&#xFF0C;&#x4E00;&#x822C;&#x5C31;&#x662F;&#x767B;&#x5F55; &#x4EC0;&#x4E48;&#x662F;&#x6388;&#x6743; Authorization&#xFF0C;&#x7ED9;&#x7528;&#x6237;&#x5206;&#x914D;&#x89D2;&#x8272;&#x6216;&#x8005;&#x8BBF;&#x95EE;&#x67D0;&#x4E9B;&#x8D44;&#x6E90;&#x7684;&#x6743;&#x9650; &#x4EC0;&#x4E48;&#x662F;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406; Session Management, &#x7528;&#x6237;&#x7684;&#x4F1A;&#x8BDD;&#x7BA1;&#x7406;&#x5458;&#xFF0C;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x662F;web session &#x4EC0;&#x4E48;&#x662F;&#x52A0;&#x5BC6; Cryptography, &#x6570;&#x636E;&#x52A0;&#x89E3;&#x5BC6;&#xFF0C;&#x6BD4;&#x5982;&#x5BC6;&#x7801;&#x52A0;&#x89E3;&#x5BC6;&#x7B49; Web Support: Shiro&#x2019;s web support APIs help easily secure web applications. Shiro&#x7684;Web&#x652F;&#x6301;API&#x6709;&#x52A9;&#x4E8E;&#x8F7B;&#x677E;&#x4FDD;&#x62A4;Web&#x5E94;&#x7528;&#x7A0B;&#x5E8F; Caching: Caching is a first-tier citizen in Apache Shiro&#x2019;s API to ensure that security operations remain fast and efficient. &#x7F13;&#x5B58;&#x662F;Apache Shiro API&#x4E2D;&#x7684;&#x7B2C;&#x4E00;&#x5C42;&#x516C;&#x6C11;&#xFF0C;&#x53EF;&#x786E;&#x4FDD;&#x5B89;&#x5168;&#x64CD;&#x4F5C;&#x4FDD;&#x6301;&#x5FEB;&#x901F;&#x9AD8;&#x6548;&#x3002; Concurrency: Apache Shiro supports multi-threaded applications with its concurrency features. Apache Shiro&#x652F;&#x6301;&#x5177;&#x6709;&#x5E76;&#x53D1;&#x529F;&#x80FD;&#x7684;&#x591A;&#x7EBF;&#x7A0B;&#x5E94;&#x7528;&#x7A0B;&#x5E8F; Testing: Test support exists to help you write unit and integration tests and ensure your code will be secured as expected. &#x5B58;&#x5728;&#x6D4B;&#x8BD5;&#x652F;&#x6301;&#x4EE5;&#x5E2E;&#x52A9;&#x60A8;&#x7F16;&#x5199;&#x5355;&#x5143;&#x548C;&#x96C6;&#x6210;&#x6D4B;&#x8BD5;&#xFF0C;&#x5E76;&#x786E;&#x4FDD;&#x60A8;&#x7684;&#x4EE3;&#x7801;&#x6309;&#x9884;&#x671F;&#x53D7;&#x5230;&#x4FDD;&#x62A4; &#x201C;Run As&#x201D;: A feature that allows users to assume the identity of another user (if they are allowed), sometimes useful in administrative scenarios. &#x5141;&#x8BB8;&#x7528;&#x6237;&#x627F;&#x62C5;&#x53E6;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x7684;&#x529F;&#x80FD;&#xFF08;&#x5982;&#x679C;&#x5141;&#x8BB8;&#x7684;&#x8BDD;&#xFF09;&#xFF0C;&#x6709;&#x65F6;&#x5728;&#x7BA1;&#x7406;&#x65B9;&#x6848;&#x4E2D;&#x5F88;&#x6709;&#x7528; &#x201C;Remember Me&#x201D;: Remember users&#x2019; identities across sessions so they only need to log in when mandatory. &#x8BB0;&#x4F4F;&#x7528;&#x6237;&#x5728;&#x4F1A;&#x8BDD;&#x4E2D;&#x7684;&#x8EAB;&#x4EFD;&#xFF0C;&#x56E0;&#x6B64;&#x4ED6;&#x4EEC;&#x53EA;&#x9700;&#x8981;&#x5728;&#x5FC5;&#x8981;&#x65F6;&#x767B;&#x5F55;&#x3002; 5.&#x7528;&#x6237;&#x8BBF;&#x95EE;&#x6574;&#x5408;Shrio&#x7684;&#x7CFB;&#x7EDF;&#xFF0C;&#x6743;&#x9650;&#x63A7;&#x5236;&#x7684;&#x8FD0;&#x884C;&#x6D41;&#x7A0B;&#x548C;Shiro&#x5E38;&#x89C1;&#x540D;&#x79F0;&#x8BB2;&#x89E3; &#x76F4;&#x8FBE;&#x5B98;&#x7F51; &#xFF1A;http://shiro.apache.org/architecture.html Subject &#x6211;&#x4EEC;&#x628A;&#x7528;&#x6237;&#x6216;&#x8005;&#x7A0B;&#x5E8F;&#x79F0;&#x4E3A;&#x4E3B;&#x4F53;&#xFF08;&#x5982;&#x7528;&#x6237;&#xFF0C;&#x7B2C;&#x4E09;&#x65B9;&#x670D;&#x52A1;&#xFF0C;cron&#x4F5C;&#x4E1A;&#xFF09;&#xFF0C;&#x4E3B;&#x4F53;&#x53BB;&#x8BBF;&#x95EE;&#x7CFB;&#x7EDF;&#x6216;&#x8005;&#x8D44;&#x6E90; SecurityManager &#x5B89;&#x5168;&#x7BA1;&#x7406;&#x5668;&#xFF0C;Subject&#x7684;&#x8BA4;&#x8BC1;&#x548C;&#x6388;&#x6743;&#x90FD;&#x8981;&#x5728;&#x5B89;&#x5168;&#x7BA1;&#x7406;&#x5668;&#x4E0B;&#x8FDB;&#x884C; Authenticator &#x8BA4;&#x8BC1;&#x5668;&#xFF0C;&#x4E3B;&#x8981;&#x8D1F;&#x8D23;Subject&#x7684;&#x8BA4;&#x8BC1; Realm &#x6570;&#x636E;&#x57DF;&#xFF0C;Shiro&#x548C;&#x5B89;&#x5168;&#x6570;&#x636E;&#x7684;&#x8FDE;&#x63A5;&#x5668;&#xFF0C;&#x597D;&#x6BD4;jdbc&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#xFF1B; &#x901A;&#x8FC7;realm&#x83B7;&#x53D6;&#x8BA4;&#x8BC1;&#x6388;&#x6743;&#x76F8;&#x5173;&#x4FE1;&#x606F; Authorizer &#x6388;&#x6743;&#x5668;&#xFF0C;&#x4E3B;&#x8981;&#x8D1F;&#x8D23;Subject&#x7684;&#x6388;&#x6743;, &#x63A7;&#x5236;subject&#x62E5;&#x6709;&#x7684;&#x89D2;&#x8272;&#x6216;&#x8005;&#x6743;&#x9650; Cryptography &#x52A0;&#x89E3;&#x5BC6;&#xFF0C;Shiro&#x7684;&#x5305;&#x542B;&#x6613;&#x4E8E;&#x4F7F;&#x7528;&#x548C;&#x7406;&#x89E3;&#x7684;&#x6570;&#x636E;&#x52A0;&#x89E3;&#x5BC6;&#x65B9;&#x6CD5;&#xFF0C;&#x7B80;&#x5316;&#x4E86;&#x5F88;&#x591A;&#x590D;&#x6742;&#x7684;api Cache Manager &#x7F13;&#x5B58;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x6BD4;&#x5982;&#x8BA4;&#x8BC1;&#x6216;&#x6388;&#x6743;&#x4FE1;&#x606F;&#xFF0C;&#x901A;&#x8FC7;&#x7F13;&#x5B58;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#xFF0C;&#x63D0;&#x9AD8;&#x6027;&#x80FD; &#x66F4;&#x591A;&#x8D44;&#x6599;&#xFF1A;http://shiro.apache.org/reference.html 6.&#x4F7F;&#x7528;SpringBoot2.x&#x6574;&#x5408;Shiro&#x6743;&#x9650;&#x8BA4;&#x8BC1; Maven3.5 + Jdk8 + Springboot 2.X + IDEA (Eclipse&#x4E5F;&#x53EF;&#x4EE5;) &#x521B;&#x5EFA;SpringBoot&#x9879;&#x76EE; https://start.spring.io/ &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt; &lt;/dependency&gt; &#x6574;&#x5408;Shiro&#x76F8;&#x5173;jar&#x5305; &lt;dependency&gt; &lt;groupId&gt;org.apache.shiro&lt;/groupId&gt; &lt;artifactId&gt;shiro-spring&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt;7.Shrio&#x7684;&#x8BA4;&#x8BC1;&#x548C;&#x6388;&#x6743;&#x5B9E;&#x64CD;&#x8BA4;&#x8BC1;&#xFF1A;&#x7528;&#x6237;&#x8EAB;&#x4EFD;&#x8BC6;&#x522B;&#xFF0C;&#x4FD7;&#x79F0;&#x4E3A;&#x7528;&#x6237;&#x201C;&#x767B;&#x5F55;&#x201D; 8.Shiro&#x7684;&#x6388;&#x6743;&#x5B9E;&#x64CD;&#x548C;&#x5E38;&#x7528;Api &#x68B3;&#x7406;//&#x662F;&#x5426;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x89D2;&#x8272; subject.hasRole(&quot;root&quot;) //&#x83B7;&#x53D6;subject&#x540D;,principal&#x8D26;&#x53F7; subject.getPrincipal() //&#x68C0;&#x67E5;&#x662F;&#x5426;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x89D2;&#x8272;&#xFF0C;&#x65E0;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x76F4;&#x63A5;&#x5728;SecurityManager&#x91CC;&#x9762;&#x8FDB;&#x884C;&#x5224;&#x65AD; subject.checkRole(&quot;admin&quot;) //&#x68C0;&#x67E5;&#x662F;&#x5426;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x89D2;&#x8272; subject.hasRole(&quot;admin&quot;) //&#x9000;&#x51FA;&#x767B;&#x5F55; subject.logout();9.shiro&#x9ED8;&#x8BA4;&#x81EA;&#x5E26;&#x7684;realm&#x548C;&#x5E38;&#x89C1;&#x4F7F;&#x7528;&#x65B9;&#x6CD5; realm&#x4F5C;&#x7528;&#xFF1A;Shiro &#x4ECE; Realm &#x83B7;&#x53D6;&#x5B89;&#x5168;&#x6570;&#x636E; &#x9ED8;&#x8BA4;&#x81EA;&#x5E26;&#x7684;realm&#xFF1A;idae&#x67E5;&#x770B;realm&#x7EE7;&#x627F;&#x5173;&#x7CFB;&#xFF0C;&#x6709;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0;&#x548C;&#x81EA;&#x5B9A;&#x4E49;&#x7EE7;&#x627F;&#x7684;realm &#x4E24;&#x4E2A;&#x6982;&#x5FF5; principal : &#x4E3B;&#x4F53;&#x7684;&#x6807;&#x793A;&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#xFF0C;&#x4F46;&#x662F;&#x9700;&#x8981;&#x5177;&#x6709;&#x552F;&#x4E00;&#x6027;&#xFF0C;&#x5E38;&#x89C1;&#x7684;&#x6709;&#x7528;&#x6237;&#x540D;&#xFF0C;&#x624B;&#x673A;&#x53F7;&#xFF0C;&#x90AE;&#x7BB1;&#x7B49; subject.getPrincipals().getPrimaryPrincipal(); credential&#xFF1A;&#x51ED;&#x8BC1;, &#x4E00;&#x822C;&#x5C31;&#x662F;&#x5BC6;&#x7801; &#x6240;&#x4EE5;&#x4E00;&#x822C;&#x6211;&#x4EEC;&#x8BF4; principal + credential &#x5C31;&#x8D26;&#x53F7; + &#x5BC6;&#x7801; &#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x5F80;&#x5F80;&#x662F;&#x81EA;&#x5B9A;&#x4E49;realm , &#x5373;&#x96C6;&#x6210; AuthorizingRealm 10.&#x8BB2;&#x89E3;Shiro&#x5185;&#x7F6E; ini realm&#x5B9E;&#x64CD; &#x5728;resources&#x4E0B;&#x9762;&#x521B;&#x5EFA;ini&#x6587;&#x4EF6; # &#x683C;&#x5F0F; name=password,role1,role2,..roleN [users] # user &apos;root&apos; with password &apos;secret&apos; and the &apos;admin&apos; role&#xFF0C; jack = 456, user # user &apos;guest&apos; with the password &apos;guest&apos; and the &apos;guest&apos; role test = 123, admin # &#x683C;&#x5F0F; role=permission1,permission2...permissionN &#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x901A;&#x914D;&#x7B26; # &#x4E0B;&#x9762;&#x914D;&#x7F6E;user&#x7684;&#x6743;&#x9650;&#x4E3A;&#x6240;&#x6709;video:find,video:buy&#xFF0C;&#x5982;&#x679C;&#x9700;&#x8981;&#x914D;&#x7F6E;video&#x5168;&#x90E8;&#x64CD;&#x4F5C;crud &#x5219; user = video:* [roles] user = goods:find,goods:buy # &apos;admin&apos; role has all permissions, indicated by the wildcard &apos;*&apos; admin = *11.Shiro&#x5185;&#x7F6E; JdbcRealm &#x65B9;&#x5F0F;&#x4E00;:jdbcrealm.ini &#x914D;&#x7F6E;&#x6587;&#x4EF6;: #&#x6CE8;&#x610F; &#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x5FC5;&#x987B;&#x4E3A;ini&#xFF0C;&#x7F16;&#x7801;&#x4E3A;ANSI #&#x58F0;&#x660E;Realm&#xFF0C;&#x6307;&#x5B9A;realm&#x7C7B;&#x578B; jdbcRealm=org.apache.shiro.realm.jdbc.JdbcRealm #&#x914D;&#x7F6E;&#x6570;&#x636E;&#x6E90; #dataSource=com.mchange.v2.c3p0.ComboPooledDataSource dataSource=com.alibaba.druid.pool.DruidDataSource # mysql-connector-java 5 &#x7528;&#x7684;&#x9A71;&#x52A8;url&#x662F;com.mysql.jdbc.Driver&#xFF0C;mysql-connector-java6&#x4EE5;&#x540E;&#x7528;&#x7684;&#x662F;com.mysql.cj.jdbc.Driver dataSource.driverClassName=com.mysql.cj.jdbc.Driver #&#x907F;&#x514D;&#x5B89;&#x5168;&#x8B66;&#x544A; dataSource.url=jdbc:mysql://120.76.62.13:3606/xdclass_shiro?characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;useSSL=false dataSource.username=test dataSource.password=Xdclasstest #&#x6307;&#x5B9A;&#x6570;&#x636E;&#x6E90; jdbcRealm.dataSource=$dataSource #&#x5F00;&#x542F;&#x67E5;&#x627E;&#x6743;&#x9650;, &#x9ED8;&#x8BA4;&#x662F;false&#xFF0C;&#x4E0D;&#x4F1A;&#x53BB;&#x67E5;&#x627E;&#x89D2;&#x8272;&#x5BF9;&#x5E94;&#x7684;&#x6743;&#x9650;&#xFF0C;&#x5751;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01; jdbcRealm.permissionsLookupEnabled=true #&#x6307;&#x5B9A;SecurityManager&#x7684;Realms&#x5B9E;&#x73B0;&#xFF0C;&#x8BBE;&#x7F6E;realms&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#xFF0C;&#x7528;&#x9017;&#x53F7;&#x9694;&#x5F00; securityManager.realms=$jdbcRealm&#x200B; &#x4EE3;&#x7801;: //&amp;#x521B;&amp;#x5EFA;SecurityManager&amp;#x5DE5;&amp;#x5382;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x914D;&amp;#x7F6E;&amp;#x6587;&amp;#x4EF6;ini&amp;#x521B;&amp;#x5EFA; Factory&lt;SecurityManager> factory = new IniSecurityManagerFactory("classpath:jdbcrealm.ini"); SecurityManager securityManager = factory.getInstance(); //&amp;#x5C06;securityManager &amp;#x8BBE;&amp;#x7F6E;&amp;#x5230;&amp;#x5F53;&amp;#x524D;&amp;#x8FD0;&amp;#x884C;&amp;#x73AF;&amp;#x5883;&amp;#x4E2D; SecurityUtils.setSecurityManager(securityManager); Subject subject = SecurityUtils.getSubject(); //&amp;#x7528;&amp;#x6237;&amp;#x8F93;&amp;#x5165;&amp;#x7684;&amp;#x8D26;&amp;#x53F7;&amp;#x5BC6;&amp;#x7801; UsernamePasswordToken usernamePasswordToken = new UsernamePasswordToken("jack", "456"); subject.login(usernamePasswordToken); //org.apache.shiro.realm.jdbc.JdbcRealm System.out.println(" &amp;#x8BA4;&amp;#x8BC1;&amp;#x7ED3;&amp;#x679C;:"+subject.isAuthenticated()); System.out.println(" &amp;#x662F;&amp;#x5426;&amp;#x6709;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;role1&amp;#x89D2;&amp;#x8272;:"+subject.hasRole("role1")); System.out.println("&amp;#x662F;&amp;#x5426;&amp;#x6709;goods:find&amp;#x6743;&amp;#x9650;:"+ subject.isPermitted("goods:find")); &#x65B9;&#x5F0F;&#x4E8C;:new DruidDataSource() DefaultSecurityManager securityManager = new DefaultSecurityManager(); DruidDataSource ds = new DruidDataSource(); ds.setDriverClassName("com.mysql.cj.jdbc.Driver"); ds.setUrl("jdbc:mysql://127.0.0.1:3306/shiro?characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;useSSL=false"); ds.setUsername("root"); ds.setPassword("root"); JdbcRealm jdbcRealm = new JdbcRealm(); jdbcRealm.setPermissionsLookupEnabled(true); jdbcRealm.setDataSource(ds); securityManager.setRealm(jdbcRealm); //&amp;#x5C06;securityManager &amp;#x8BBE;&amp;#x7F6E;&amp;#x5230;&amp;#x5F53;&amp;#x524D;&amp;#x8FD0;&amp;#x884C;&amp;#x73AF;&amp;#x5883;&amp;#x4E2D; SecurityUtils.setSecurityManager(securityManager); Subject subject = SecurityUtils.getSubject(); //&amp;#x7528;&amp;#x6237;&amp;#x8F93;&amp;#x5165;&amp;#x7684;&amp;#x8D26;&amp;#x53F7;&amp;#x5BC6;&amp;#x7801; UsernamePasswordToken usernamePasswordToken = new UsernamePasswordToken("jack", "456"); subject.login(usernamePasswordToken); System.out.println(" &amp;#x8BA4;&amp;#x8BC1;&amp;#x7ED3;&amp;#x679C;:"+subject.isAuthenticated()); System.out.println(" &amp;#x662F;&amp;#x5426;&amp;#x6709;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;role1&amp;#x89D2;&amp;#x8272;:"+subject.hasRole("role1")); System.out.println("&amp;#x662F;&amp;#x5426;&amp;#x6709;goods:find&amp;#x6743;&amp;#x9650;:"+ subject.isPermitted("goods:find")); System.out.println("&amp;#x662F;&amp;#x5426;&amp;#x6709;&amp;#x4EFB;&amp;#x610F;&amp;#x6743;&amp;#x9650;:"+ subject.isPermitted("aaaa:xxxxxxxxx")); &#x81EA;&#x5B9A;&#x4E49;Realm&#x5B9E;&#x6218;&#x57FA;&#x7840; &#x6B65;&#x9AA4;&#xFF1A; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B; &#xFF0C;&#x7EE7;&#x627F;AuthorizingRealm-&gt;AuthenticatingRealm-&gt;CachingRealm-&gt;Realm &#x91CD;&#x5199;&#x8BA4;&#x8BC1;&#x65B9;&#x6CD5; doGetAuthenticationInfo subject.login()&#x7684;&#x65F6;&#x5019;&#x53BB;&#x8C03;&#x7528; &#x91CD;&#x5199;&#x6388;&#x6743;&#x65B9;&#x6CD5; doGetAuthorizationInfo &#x65B9;&#x6CD5;&#xFF1A; &#x5F53;&#x7528;&#x6237;&#x767B;&#x9646;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8C03;&#x7528; doGetAuthenticationInfo &#x8FDB;&#x884C;&#x6743;&#x9650;&#x6821;&#x9A8C;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8C03;&#x7528;: doGetAuthorizationInfo &#x5BF9;&#x8C61;&#x4ECB;&#x7ECD; UsernamePasswordToken &#xFF1A; &#x5BF9;&#x5E94;&#x5C31;&#x662F; shiro&#x7684;token&#x4E2D;&#x6709;Principal&#x548C;Credential &#x9875;&#x9762;&#x4F20;&#x8FC7;&#x6765;&#x8D26;&#x53F7;&#x548C;&#x5BC6;&#x7801;&#x5BF9;&#x8C61; UsernamePasswordToken-&#x300B;HostAuthenticationToken-&#x300B;AuthenticationToken SimpleAuthenticationInfo &#xFF1A;&#x4EE3;&#x8868;&#x8BE5;&#x7528;&#x6237;&#x7684;&#x8BA4;&#x8BC1;&#x4FE1;&#x606F; &#x6570;&#x636E;&#x5E93;&#x7684;&#x7528;&#x6237;&#x540D;&#x8D26;&#x53F7;&#x5BC6;&#x7801;&#x548C;&#x76D0; SimpleAuthorizationInfo&#xFF1A;&#x4EE3;&#x8868;&#x7528;&#x6237;&#x89D2;&#x8272;&#x6743;&#x9650;&#x4FE1;&#x606F; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[DZ论坛搭建以及模板的安装]]></title>
    <url>%2Fspringboot%2F2019%2F03%2F09%2Fdz-lun-tan-de-da-jian-he-mo-ban-de-an-zhuang.html</url>
    <content type="text"><![CDATA[&#x642D;&#x5EFA;discuz&#x8BBA;&#x575B;1. &#x5F00;&#x59CB;&#x642D;&#x5EFA;&#x6211;&#x4EEC;&#x7684;DZ&#x8BBA;&#x575B; &#x9996;&#x5148;&#x53EF;&#x4EE5;&#x53BB;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4EA7;&#x54C1;&#x6587;&#x6863;&#x4E2D;&#x770B;&#x5BF9;&#x5E94;&#x7684;&#x642D;&#x5EFA;&#x624B;&#x518C; &#x5B89;&#x88C5;&#x597D;&#x5BF9;&#x5E94;&#x7684;&#x955C;&#x50CF; &#x5B89;&#x88C5;&#x597D;&#x4EE5;&#x540E;&#x5C06;&#x516C;&#x7F51; IP &#x7C98;&#x8D34;&#x5230;&#x672C;&#x5730;&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x5730;&#x5740;&#x680F;&#x4E2D;&#x8BBF;&#x95EE;&#xFF0C;&#x8FDB;&#x5165;Discuz&#xFF01;&#x5B89;&#x88C5;&#x9875;&#x9762;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x5355;&#x51FB;&#x3010;&#x6211;&#x540C;&#x610F;&#x3011;&#xFF0C;&#x8FDB;&#x5165;&#x68C0;&#x67E5;&#x5B89;&#x88C5;&#x73AF;&#x5883;&#x9875;&#x9762;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x786E;&#x8BA4;&#x5F53;&#x524D;&#x72B6;&#x6001;&#x6B63;&#x5E38;&#xFF0C;&#x5355;&#x51FB; &#x3010;&#x4E0B;&#x4E00;&#x6B65;&#x3011;&#xFF0C;&#x8FDB;&#x5165;&#x8BBE;&#x7F6E;&#x8FD0;&#x884C;&#x73AF;&#x5883;&#x9875;&#x9762;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x9009;&#x62E9;&#x5168;&#x65B0;&#x5B89;&#x88C5;&#xFF0C;&#x5355;&#x51FB;&#x3010;&#x4E0B;&#x4E00;&#x6B65;&#x3011;&#xFF0C;&#x8FDB;&#x5165;&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x9875;&#x9762;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; &#x8BF7;&#x4F7F;&#x7528;&#x955C;&#x50CF;&#x9ED8;&#x8BA4;&#x7684; MySQL &#x5E10;&#x53F7;&#x548C;&#x5BC6;&#x7801;&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A; root/123456&#xFF09;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x3002;&#x5E76;&#x8BBE;&#x7F6E;&#x597D;&#x7CFB;&#x7EDF;&#x4FE1;&#x7BB1;&#x3001;&#x7BA1;&#x7406;&#x5458;&#x5E10;&#x53F7;&#x3001;&#x5BC6;&#x7801;&#x548C; Email&#x3002;&#x8BF7;&#x8BB0;&#x4F4F;&#x81EA;&#x5DF1;&#x7684;&#x7BA1;&#x7406;&#x5458;&#x5E10;&#x53F7;&#x548C;&#x5BC6;&#x7801;&#x3002; &#x5355;&#x51FB;&#x3010;&#x4E0B;&#x4E00;&#x6B65;&#x3011;&#xFF0C;&#x5F00;&#x59CB;&#x5B89;&#x88C5;&#x3002; &#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5355;&#x51FB;&#x3010;&#x60A8;&#x7684;&#x8BBA;&#x575B;&#x5DF2;&#x5B8C;&#x6210;&#x5B89;&#x88C5;&#xFF0C;&#x70B9;&#x6B64;&#x8BBF;&#x95EE;&#x3011;&#xFF0C;&#x5373;&#x53EF;&#x8BBF;&#x95EE;&#x8BBA;&#x575B;&#x3002;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>springboot</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[JS逆向]]></title>
    <url>%2Fjs-ni-xiang%2F2019%2F03%2F09%2Fjs-ni-xiang-ji-qiao.html</url>
    <content type="text"><![CDATA[1.&#x641C;&#x7D22;&#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x5728;login&#x5305;&#x7684;&#x540E;&#x9762;&#x7684;JS&#x94FE;&#x63A5;&#x91CC;&#x9762;&#x53BB;&#x627E;,&#x6CE8;&#x610F;&#x89C2;&#x5BDF;&#x9875;&#x9762;&#x662F;&#x5426;&#x5237;&#x65B0;&#x5982;&#x679C;&#x5237;&#x65B0;&#x987A;&#x7740;&#x5F80;&#x4E0B;&#x627E;&#x6392;&#x9664;JS&#x6846;&#x67B6;&#x5728;&#x503C;&#x6808;&#x6846;&#x91CC;&#x9762;&#x5BFB;&#x627E;&#x4E00;&#x76F4;&#x627E;&#x5230;&#x4E0D;&#x662F;&#x4F5C;&#x4E3A;&#x5F62;&#x53C2;&#x7684;&#x5730;&#x65B9;&#x4E3A;&#x6B62;&#x51FA;&#x73B0;Digest&#x53EF;&#x4EE5;&#x518D;&#x5F53;&#x524D;&#x9875;&#x9762;&#x641C;&#x7D22;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#x6458;&#x8981;&#x7B97;&#x6CD5;&#x7684;&#x540D;&#x79F0;&#x4F8B;&#x5982;md sha&#x53BB;&#x770B;&#x6570;&#x636E;&#x5305;&#x4E2D;&#x54EA;&#x4E2A;&#x662F;&#x8FD4;&#x56DE;&#x8868;&#x5355;&#x7684;&#x6570;&#x636E;&#x5305;&#x5C06;&#x8FD9;&#x4E2A;&#x6570;&#x636E;&#x5305;&#x63D0;&#x53D6;&#x51FA;&#x6765;&#x6392;&#x9664;&#x5E72;&#x6270;setpublickey&#x767B;&#x5F55;&#x6846;&#x6309;&#x94AE;ID&#x767B;&#x5F55;&#x6846;&#x63D0;&#x793A;&#x7684;&#x9519;&#x8BEF;&#x7EA2;&#x5B57;&#x767B;&#x5F55;&#x6846;&#x7684;&#x767B;&#x5F55;&#x4E2D;&#x8FD8;&#x6709;placehoderURL&#x7684;&#x540E;&#x7F00;password : &#x4E2D;&#x6587;&#x5192;&#x53F7;(&#x641C;&#x51FA;&#x6765;&#x7684;&#x6700;&#x5C11;)password= (&#x7B2C;&#x4E8C;&#x5C11;&#x7684;)password =(&#x7B2C;&#x4E09;&#x5C11;&#x7684;)password: &#x82F1;&#x6587;&#x5192;&#x53F7;(&#x7B2C;&#x56DB;&#x5C11;&#x7684;)pwdPwdusernametrimencrypt Base64 xhr&#x65AD;&#x70B9; &#x628A;URL&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x52A0;&#x5230;Breakpoints&#x91CC;&#x9762; 2.&#x7CFB;&#x7EDF;&#x5F15;&#x64CE;&#x548C;V8&#x5F15;&#x64CE;&#x6709;&#x4EC0;&#x4E48;&#x533A;&#x522B;&#x7CFB;&#x7EDF;&#x5F15;&#x64CE; IE7&#x7684;&#x5F15;&#x64CE; ES3&#x7684;&#x6807;&#x51C6;V8&#x5F15;&#x64CE; &#x8C37;&#x6B4C;&#x5F00;&#x6E90;&#x7684; &#x8C37;&#x6B4C;&#x6D4F;&#x89C8;&#x5668;&#x5185;&#x7F6E;JS&#x89E3;&#x6790;&#x5F15;&#x64CE; &#x7528;&#x7684;&#x662F;ES5&#x7684;&#x6807;&#x51C6;&#x6BD4;&#x5982;&#x8BF4;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61; var obj = { a:"xxxxxxxx", b:"yyyyyy" }; return JSON.stringify(obj) &#x8FD9;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x7CFB;&#x7EDF;&#x5F15;&#x64CE;&#x4F1A;&#x62A5;&#x9519;,&#x4F7F;&#x7528;V8&#x5F15;&#x64CE;&#x5C31;okbtoa&#x8FD9;&#x4E2A;&#x4E1C;&#x897F;&#x662F;&#x6D4F;&#x89C8;&#x5668;&#x5B9E;&#x73B0;&#x7684;&#x4EE3;&#x7801; 3.&#x7279;&#x6B8A;&#x53C2;&#x6570;&#x5982;&#x679C;&#x53C2;&#x6570;&#x5728;JS&#x6587;&#x4EF6;&#x91CC;&#x90A3;&#x4E48;&#x4E00;&#x822C;&#x662F;&#x5199;&#x6B7B;&#x7684;&#x5982;&#x679C;&#x53C2;&#x6570;&#x5728;HTML&#x9875;&#x9762;&#x91CC;&#x90A3;&#x4E48;&#x4E00;&#x822C;&#x662F;&#x670D;&#x52A1;&#x5668;&#x8FD4;&#x56DE;&#x7684; 4.sign&#x53C2;&#x6570;sign&#x53C2;&#x6570;&#x4E00;&#x822C;&#x662F;&#x4E0D;&#x53EF;&#x9006;&#x7684;&#x7B97;&#x6CD5;&#x6D88;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;MD5 SHA1 SHA256 &#x6570;&#x5B57;&#x7B7E;&#x540D;&#x4E00;&#x822C;&#x7528;MD5 + RSA SHA1+RSA SHA256+RSA &#x7B7E;&#x540D;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x822C;&#x5148;&#x5BF9;&#x4F60;&#x63D0;&#x4EA4;&#x7684;&#x8868;&#x5355;&#x7684;&#x6570;&#x636E;(&#x91CC;&#x9762;&#x53EF;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233;)&#x505A;&#x4E00;&#x4E2A;&#x6392;&#x5E8F;&#x7684;&#x64CD;&#x4F5C;&#x64CD;&#x4F5C;&#x5B8C;&#x4EE5;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x6458;&#x8981;&#x7B97;&#x6CD5; //&amp;#x83B7;&amp;#x53D6;sign var getSign = function(sPara){ //&amp;#x628A;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x952E;&amp;#x503C;&amp;#x53D6;&amp;#x51FA;&amp;#x6765; var keys = object.keys(sPara); //&amp;#x56E0;&amp;#x4E3A;&amp;#x53D6;&amp;#x51FA;&amp;#x6765;&amp;#x7684;&amp;#x952E;&amp;#x503C;&amp;#x987A;&amp;#x5E8F;&amp;#x6BCF;&amp;#x6B21;&amp;#x90FD;&amp;#x4E0D;&amp;#x4E00;&amp;#x6837;&amp;#x6240;&amp;#x4EE5;&amp;#x9700;&amp;#x8981;&amp;#x6309;&amp;#x952E;&amp;#x503C;&amp;#x5347;&amp;#x5E8F;&amp;#x6392;&amp;#x5217; keys = keys.sort(); var split = ""; var signString = ""; for(var i=0;i&lt;keys.length;i++){ signString += split+keys[i] + "=" + (typeof sPara[keys[i]] === &amp;apos;object&amp;apos; ? JSON.stringify(sPara[keys[i]]):sPara[keys[i]]); split = &amp;apos;&amp;&amp;apos;; } signString = signString + &amp;apos;FD92DF750B32765DA01A119BE1601D46&amp;apos; return hexMD5(utf8encode(signString)); } 5.&#x6390;&#x5934;&#x53BB;&#x5C3E;&#x53D6;&#x4E2D;&#x95F4;&#x5BFC;&#x51FA;&#x7684;&#x662F;&#x8C01;&#x5C31;&#x7528;&#x8C01;&#x53BB;&#x8C03;&#x7528;module.exports = j 6.AES&#x7B97;&#x6CD5;&#x76F4;&#x63A5;&#x53BB;&#x627E;&#x5B9A;&#x4E49;CryptoJS&#x7684;&#x5730;&#x65B9;,&#x78B0;&#x5230;AES&#x5982;&#x679C;&#x7F3A;&#x5C11;&#x4E1C;&#x897F;&#x4E00;&#x5B9A;&#x8981;&#x53BB;&#x5DE6;&#x8FB9;&#x7684;&#x6587;&#x4EF6;&#x680F;&#x4E2D;&#x53BB;&#x770B;&#x770B;&#x6328;&#x4E2A;&#x627E;&#x628A;&#x542B;&#x6709;CryptoJS&#x7684;&#x6587;&#x4EF6;&#x5168;&#x90E8;&#x590D;&#x5236;&#x8FC7;&#x53BB;if (type == null || &#x201C;aes&#x201D; == type.toLowerCase()) { keyObj = SECURITYKEY.get(); value = CryptoJS.AES.encrypt(value, CryptoJS.enc.Utf8.parse(keyObj.key), { iv: CryptoJS.enc.Utf8.parse(keyObj.iv) }).toString() &#x53C2;&#x6570;&#x4E00;: value&#x662F;&#x8981;&#x52A0;&#x5BC6;&#x7684;&#x6570;&#x636E;&#x53C2;&#x6570;&#x4E8C;: CryptoJS.enc.Utf8.parse(keyObj.key)&#x662F;&#x52A0;&#x5BC6;&#x7684;&#x79D8;&#x94A5;&#x53C2;&#x6570;&#x4E09;: iv: CryptoJS.enc.Utf8.parse(keyObj.iv)&#x662F;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;,&#x91CC;&#x9762;&#x53EF;&#x4EE5;&#x653E;&#x52A0;&#x5BC6;&#x6A21;&#x5F0F; &#x548C; iv&#x5411;&#x91CF; &#x5982;&#x679C;&#x6CA1;&#x6709;&#x5199;&#x9ED8;&#x8BA4;&#x662F;CBC&#x6A21;&#x5F0F;&#x548C;Pkcs7 &#x6807;&#x51C6;AES&#x683C;&#x5F0F; function AES(){ var pwd = "a12456" var key = CryptoJS.enc.utf8.parse("4F233463B63EA99F"); //key&amp;#x548C;iv&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x4E4B;&amp;#x524D;&amp;#x8981;&amp;#x5148;&amp;#x89E3;&amp;#x6790;&amp;#x6210;&amp;#x5B57;&amp;#x8282;&amp;#x96C6;&amp;#x5176;&amp;#x5B9E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x89E3;&amp;#x6790;&amp;#x4E0D;&amp;#x89E3;&amp;#x6790;&amp;#x65E0;&amp;#x6240;&amp;#x8C13;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x5C31;&amp;#x662F;uft8&amp;#x89E3;&amp;#x6790; var iv = CryptoJS.enc.utf8.parse("9BD2C547935C46F2"); //ECB&amp;#x6A21;&amp;#x5F0F;&amp;#x6CA1;&amp;#x6709;&amp;#x504F;&amp;#x79FB;&amp;#x5411;&amp;#x91CF; var value = CryptoJS.AES.encrypt(pwd,key,{ //DES&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x628A;AES&amp;#x6362;&amp;#x6210;DES &amp;#x4E00;&amp;#x822C;AES&amp;#x7684;&amp;#x79D8;&amp;#x94A5;&amp;#x662F;16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x6216;&amp;#x8005;&amp;#x662F;32&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;8&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;DES&amp;#x662F;8&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;3DES&amp;#x662F;24&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; mode:CryptoJS.mode.CBC, padding:CryptoJS.pad.pkcs7, iv:iv }).toString() return value; } //CryptoJS.enc.utf8.parse&amp;#x7684;&amp;#x51E0;&amp;#x79CD;&amp;#x5F62;&amp;#x5F0F; var wordArray = CryptoJS.enc.Utf8.parse(utf8String); //&amp;#x628A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B57;&amp;#x7B26;&amp;#x5F53;&amp;#x505A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; var wordArray = CryptoJS.enc.Latin1.parse(latin1String);//&amp;#x548C;UTF8&amp;#x5DEE;&amp;#x4E0D;&amp;#x591A;UFT&amp;#x652F;&amp;#x6301;&amp;#x4E2D;&amp;#x6587;&amp;#x800C;Latin1&amp;#x4E0D;&amp;#x652F;&amp;#x6301;&amp;#x4E2D;&amp;#x6587; var wordArray = CryptoJS.enc.Hex.parse(hexString); var wordArray = CryptoJS.enc.Base64.parse(base64String); //&amp;#x628A;&amp;#x4E24;&amp;#x4E2A;&amp;#x5B57;&amp;#x7B26;&amp;#x5F53;&amp;#x505A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; ECB&amp;#x6A21;&amp;#x5F0F;: dfjo dsjf dusi glsk fj &amp;#x586B;&amp;#x5145;&amp;#x6A21;&amp;#x5F0F;&amp;#x4F1A;&amp;#x628A;&amp;#x4E0D;&amp;#x6EE1;&amp;#x8DB3;&amp;#x56DB;&amp;#x4E2A;&amp;#x7684;&amp;#x53BB;&amp;#x8FDB;&amp;#x884C;&amp;#x586B;&amp;#x5145; NoPadding ZeroPadding Pkcs7(Pkcs5) Iso10126 Iso97971 AnsiX923 &amp;#x5176;&amp;#x4E2D;Iso10126&amp;#x586B;&amp;#x5145;&amp;#x65B9;&amp;#x5F0F;&amp;#x4F1A;&amp;#x8BA9;&amp;#x5BC6;&amp;#x7801;&amp;#x4E00;&amp;#x76F4;&amp;#x53D8;&amp;#x5316; CBC&amp;#x6A21;&amp;#x5F0F;(&amp;#x591A;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;iv): dfjo dsjf dusi glsk fj &amp;#x62FF;&amp;#x7740;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5B57;&amp;#x7B26;&amp;#x4E32;&amp;#x53BB;&amp;#x548C;iv&amp;#x505A;&amp;#x4F4D;&amp;#x6216; &amp;#x5047;&amp;#x5982;iv&amp;#x548C;dfjo&amp;#x505A;&amp;#x4F4D;&amp;#x6216;&amp;#x5F97;&amp;#x5230;a a&amp;#x53C8;&amp;#x548C;dsjf&amp;#x53BB;&amp;#x505A;&amp;#x4F4D;&amp;#x6216;&amp;#x5F97;&amp;#x5230;b &amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x80FD;&amp;#x7B97;&amp;#x51FA;&amp;#x52A0;&amp;#x5BC6;&amp;#x7684;&amp;#x6570;&amp;#x636E; 7.&#x5728;JS&#x4EE3;&#x7801;&#x4E2D;&#x5982;&#x679C;&#x78B0;&#x5230;&#x50CF;&#x767E;&#x5EA6;&#x767B;&#x5F55;&#x4E2D;&#x7684;unicode&#x7801;&#x53EF;&#x4EE5;&#x628A;&#x5B83;&#x66FF;&#x6362;&#x6210;URL&#x7F16;&#x7801;&#x7136;&#x540E;&#x7528;&#x7684;&#x65F6;&#x5019;&#x518D;&#x53BB;URL&#x89E3;&#x7801;&#x53BB;&#x4F7F;&#x7528; 8.&#x5404;&#x79CD;&#x7F16;&#x7801;&#x5F62;&#x5F0F;1&#x3001;&#x7F16;&#x7801;escapeencodeURIComponent Base64/btoa/atob&#x2022; &#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x80FD;&#x88AB;&#x7F16;&#x7801;&#x4E3A;&#x53EA;&#x7528;65&#x4E2A;&#x5B57;&#x7B26;&#x5C31;&#x80FD;&#x8868;&#x793A;&#x7684;&#x6587;&#x672C;&#x3002;&#x2022; 65&#x5B57;&#x7B26;&#xFF1A;AZ az 0~9 + / =&#x4E00;&#x822C;base64&#x4EE5;&#x540E;&#x90FD;&#x9700;&#x8981;&#x66FF;&#x6362;&#x6216;&#x8005;URL&#x7F16;&#x7801; 2&#x3001;&#x5355;&#x5411;&#x6563;&#x5217;&#x51FD;&#x6570; &#x6D88;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;&#xB7; &#x52A0;&#x5BC6;&#x540E;&#x7684;&#x5BC6;&#x6587;&#x5B9A;&#x957F;&#xB7; &#x660E;&#x6587;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x6563;&#x5217;&#x540E;&#x7ED3;&#x679C;&#x4E00;&#x5B9A;&#x4E0D;&#x4E00;&#x6837;&#xB7; &#x4E0D;&#x53EF;&#x9006;&#xB7; &#x4E00;&#x822C;&#x7528;&#x4E8E;&#x7B7E;&#x540D; sign sign&#x4E00;&#x822C;&#x662F;&#x8868;&#x5355;&#x524D;&#x540E;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x56FA;&#x5B9A;&#x7684;&#x4E1C;&#x897F;MD5 32&#x4F4D; &#x52A0;&#x5BC6;&#x51FA;&#x6765;&#x662F;wordarray&#x6570;&#x636E;&#x7C7B;&#x578B;SHA1 40&#x4F4D;SHA256SHA512HmacMD5HmacSHA1HmacSHA256mac&#x7B97;&#x6CD5;&#x90FD;&#x9700;&#x8981;key,&#x4E0D;&#x540C;key&#x52A0;&#x5BC6;&#x51FA;&#x6765;&#x7684;&#x7ED3;&#x679C;&#x4E0D;&#x540C;&#x8FD9;&#x79CD;&#x7B97;&#x6CD5;&#x4E00;&#x822C;&#x7ED3;&#x679C;&#x90FD;&#x662F;16&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x7EC4;&#x6210;&#x7684;,&#x6BCF;&#x4E24;&#x4E2A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x5B57;&#x7B26;&#x5F62;&#x6210;&#x4E00;&#x4E2A;&#x5B57;&#x8282; 3&#x3001;&#x52A0;&#x5BC6;&#x52A0;&#x5BC6;&#x548C;&#x89E3;&#x5BC6;&#x7684;&#x8FC7;&#x7A0B;&#x662F;&#x53EF;&#x9006;&#x7684;&#x2022; &#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;&#x52A0;&#x5BC6;/&#x89E3;&#x5BC6;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x5BC6;&#x94A5;DES &#x6570;&#x636E;&#x52A0;&#x5BC6;&#x6807;&#x51C6; 3DESAES &#x9AD8;&#x7EA7;&#x52A0;&#x5BC6;&#x6807;&#x51C6;AES &#x5171;&#x6709;ECB,CBC,CFB,OFB,CTR&#x4E94;&#x79CD;&#x6A21;&#x5F0F; &#x2022; &#x975E;&#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;RSA&#x2022; &#x4F7F;&#x7528;&#x516C;&#x94A5;&#x52A0;&#x5BC6;&#xFF0C;&#x4F7F;&#x7528;&#x79C1;&#x94A5;&#x89E3;&#x5BC6;&#x2022; &#x516C;&#x94A5;&#x662F;&#x516C;&#x5F00;&#x7684;&#xFF0C;&#x79C1;&#x94A5;&#x4FDD;&#x5BC6;&#x2022; &#x52A0;&#x5BC6;&#x5904;&#x7406;&#x5B89;&#x5168;&#xFF0C;&#x4F46;&#x662F;&#x6027;&#x80FD;&#x6781;&#x5DEE;&#xFF0C;&#x5355;&#x6B21;&#x52A0;&#x5BC6;&#x957F;&#x5EA6;&#x6709;&#x9650;&#x5236; AES&#x52A0;&#x5BC6;&#x6570;&#x636E;&#x968F;&#x673A;&#x751F;&#x6210;&#x79D8;&#x94A5;RSA&#x5BF9;&#x5BC6;&#x94A5;&#x52A0;&#x5BC6; parse&#x548C;stringifyvar wordArray = CryptoJS.enc.Utf8.parse(utf8String);var wordArray = CryptoJS.enc.Latin1.parse(latin1String);var wordArray = CryptoJS.enc.Hex.parse(hexString);var wordArray = CryptoJS.enc.Base64.parse(base64String); var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);var hexString = CryptoJS.enc.Hex.stringify(wordArray);var base64String = CryptoJS.enc.Base64.stringify(wordArray); &#x6D88;&#x606F;&#x6458;&#x8981;&#x7B97;&#x6CD5;var hash = CryptoJS.MD5(message);var hash = CryptoJS.MD5(wordArray);var hmac = CryptoJS.HmacMD5(message, key); var hash = CryptoJS.SHA1(message);var hash = CryptoJS.SHA1(wordArray);var hmac = CryptoJS.HmacSHA1(message, key); var hash = CryptoJS.SHA224(message);var hash = CryptoJS.SHA224(wordArray);var hmac = CryptoJS.HmacSHA224(message, key); var hash = CryptoJS.SHA256(message);var hash = CryptoJS.SHA256(wordArray);var hmac = CryptoJS.HmacSHA256(message, key); var hash = CryptoJS.SHA3(message);var hash = CryptoJS.SHA3(wordArray);var hmac = CryptoJS.HmacSHA3(message, key); var hash = CryptoJS.SHA384(message);var hash = CryptoJS.SHA384(wordArray);var hmac = CryptoJS.HmacSHA384(message, key); var hash = CryptoJS.SHA512(message);var hash = CryptoJS.SHA512(wordArray);var hmac = CryptoJS.HmacSHA512(message, key); &#x5BF9;&#x79F0;&#x52A0;&#x5BC6;&#x7B97;&#x6CD5;var ciphertext = CryptoJS.AES.encrypt(message, key, cfg);var plaintext = CryptoJS.AES.decrypt(ciphertext, key, cfg); var ciphertext = CryptoJS.DES.encrypt(message, key, cfg);var plaintext = CryptoJS.DES.decrypt(ciphertext, key, cfg); var ciphertext = CryptoJS.TripleDES.encrypt(message, key, cfg);var plaintext = CryptoJS.TripleDES.decrypt(ciphertext, key, cfg); var ciphertext = CryptoJS.RC4.encrypt(message, key, cfg);var plaintext = CryptoJS.RC4.decrypt(ciphertext, key, cfg); &#x52A0;&#x5BC6;&#x6A21;&#x5F0F;CBC ECB CFB OFB CTRGladman(CTR)CBC&#x6A21;&#x5F0F;&#x591A;&#x4E86;&#x4E00;&#x4E2A;iv&#x5411;&#x91CF;&#x586B;&#x5145;&#x65B9;&#x5F0F;NoPadding ZeroPadding Pkcs7(Pkcs5) Iso10126 Iso97971 AnsiX923 wordArray&#x8F6C;&#x6362;&#x5230;&#x5B57;&#x7B26;&#x4E32;var string = wordArray + &#x2018;&#x2019;;var string = wordArray.toString();var string = wordArray.toString(CryptoJS.enc.Utf8); &#x53E6;&#x5916;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x5F0F;var hasher = CryptoJS.algo.SHA256.create();hasher.reset();hasher.update(&#x2018;message&#x2019;);hasher.update(wordArray);var hash = hasher.finalize();var hash = hasher.finalize(&#x2018;message&#x2019;);var hash = hasher.finalize(wordArray); var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);hmacHasher.reset();hmacHasher.update(&#x2018;message&#x2019;);hmacHasher.update(wordArray);var hmac = hmacHasher.finalize();var hmac = hmacHasher.finalize(&#x2018;message&#x2019;);var hmac = hmacHasher.finalize(wordArray); 9.&#x53CD;&#x8C03;&#x8BD5;&#x6848;&#x4F8B;&#x6309;f12&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x65AD;&#x70B9; setInteval(debugger) setInterval() &#x65B9;&#x6CD5;&#x4F1A;&#x4E0D;&#x505C;&#x5730;&#x8C03;&#x7528;&#x51FD;&#x6570;&#xFF0C;&#x76F4;&#x5230; clearInterval() &#x88AB;&#x8C03;&#x7528;&#x6216;&#x7A97;&#x53E3;&#x88AB;&#x5173;&#x95ED;&#x3002;&#x7531; setInterval() &#x8FD4;&#x56DE;&#x7684; ID &#x503C;&#x53EF;&#x7528;&#x4F5C; clearInterval() &#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x3002; setTimeout() setTimeout() &#x65B9;&#x6CD5;&#x7528;&#x4E8E;&#x5728;&#x6307;&#x5B9A;&#x7684;&#x6BEB;&#x79D2;&#x6570;&#x540E;&#x8C03;&#x7528;&#x51FD;&#x6570;&#x6216;&#x8BA1;&#x7B97;&#x8868;&#x8FBE;&#x5F0F;&#x3002; &#x63D0;&#x793A;&#xFF1A; 1000 &#x6BEB;&#x79D2;= 1 &#x79D2;&#x3002; &#x63D0;&#x793A;&#xFF1A; &#x5982;&#x679C;&#x4F60;&#x53EA;&#x60F3;&#x91CD;&#x590D;&#x6267;&#x884C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; setInterval() &#x65B9;&#x6CD5;&#x3002; &#x63D0;&#x793A;&#xFF1A; &#x4F7F;&#x7528; clearTimeout() &#x65B9;&#x6CD5;&#x6765;&#x963B;&#x6B62;&#x51FD;&#x6570;&#x7684;&#x6267;&#x884C;&#x3002; &#x901A;&#x8FC7;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;&#x6253;&#x65AD;&#x70B9;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x4FEE;&#x6539;&#x6389;debugger&#x4F8B;&#x5B50;:_$i8 = function(){return null} test() function test(){debugger} eval&#x5C31;&#x662F;&#x6267;&#x884C;&#x5B57;&#x7B26;&#x4E32;&#x7684;js&#x4EE3;&#x7801; 10.&#x641C;&#x7D22;&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x662F;&#x5904;&#x4E8E;&#x65AD;&#x70B9;&#x72B6;&#x6001;&#x90A3;&#x4E48;&#x5C06;&#x4F1A;&#x5361;&#x5728;&#x90A3;&#x91CC;&#x628A;&#x81EA;&#x5DF1;&#x6253;&#x7684;&#x65AD;&#x70B9;&#x5168;&#x90E8;&#x653E;&#x884C;&#x4F60;&#x5C31;&#x53EF;&#x4EE5;&#x641C;&#x7D22;&#x5230;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x4E1C;&#x897F;&#x4E86; 11.RSARSA:1&#x3001;p&#x548C;q &#x662F;&#x4E0D;&#x76F8;&#x7B49;&#x7684;&#xFF0C;&#x8DB3;&#x591F;&#x5927;&#x7684;&#x4E24;&#x4E2A;&#x8D28;&#x6570;&#x3002; p&#x548C;q&#x662F;&#x4FDD;&#x5BC6;&#x7684;2&#x3001;n = pq n&#x662F;&#x516C;&#x5F00;&#x7684;3&#x3001;f(n) = (p-1)(q-1)4&#x3001;e &#x662F;&#x548C;f(n)&#x4E92;&#x8D28;&#x7684;&#x8D28;&#x6570;5&#x3001;&#x8BA1;&#x7B97;&#x53C2;&#x6570;d6&#x3001;&#x7ECF;&#x8FC7;&#x4E0A;&#x9762;5&#x6B65;&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x516C;&#x94A5;KU=(e,n) &#x79C1;&#x94A5;KR=(d,n)RSA&#x4E09;&#x6B65;&#x66F2; :1:&#x521D;&#x59CB;&#x5316; n = new JSEncrypt;2:&#x8BBE;&#x7F6E;&#x516C;&#x94A5; n.setPublicKey(r);3:&#x8FDB;&#x884C;&#x52A0;&#x5BC6; var e = n.encrypt($(&#x201C;#input1&#x201D;).val())RSA&#x52A0;&#x5BC6;&#x4E09;&#x6B65;&#x9AA4;&#x793A;&#x4F8B;&#x4EE3;&#x7801;: function getPwd(pwd){ var key = "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDcV30OSW6Bd8uWyoUzajb7Rwe7NH9J8czQZSgGv9LBk0QZevURdhbME0GbCHS79mOP3+/KgvYZR5NakGd/ZGcagxhoCCY6sDYKA5iTQaXCbg5dhpfviWnj3ck0iGIVCf26QaquJttWsHEU3C0lwkJzGDTC0QjPnV4HwgDd70BcuwIDAQAB"; var encrypt = new JSEncrypt; encrypt.setPublicKey(key); return encrypt.encrypt(pwd); } //&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;nopadding&amp;#x7684;&amp;#x586B;&amp;#x5145;&amp;#x6A21;&amp;#x5F0F; function getRSA(password, pubkey) { setMaxDigits(131); var key = new RSAKeyPair("10001", &amp;apos;&amp;apos;, pubkey); return encryptedString(key, password); } &#x5B83;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;ECB&#x548C;NONE&#x4F46;&#x662F;&#x4E24;&#x8005;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#x586B;&#x5145;&#x65B9;&#x5F0F;&#x6709;PKCS1paddingnopadding &#x5047;&#x5982;&#x4F60;&#x9009;&#x62E9;&#x7684;&#x79D8;&#x94A5;&#x957F;&#x5EA6;&#x4E3A;1024bit&#x5171;128&#x4E2A;byte&#xFF1A;1.&#x5F53;&#x4F60;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x9009;&#x62E9;RSA_NO_PADDING&#x586B;&#x5145;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x660E;&#x6587;&#x4E0D;&#x591F;128&#x5B57;&#x8282;&#x52A0;&#x5BC6;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5728;&#x4F60;&#x7684;&#x660E;&#x6587;&#x524D;&#x9762;&#xFF0C;&#x524D;&#x5411;&#x7684;&#x586B;&#x5145;&#x96F6;&#x3002;&#x89E3;&#x5BC6;&#x540E;&#x7684;&#x660E;&#x6587;&#x4E5F;&#x4F1A;&#x5305;&#x62EC;&#x524D;&#x9762;&#x586B;&#x5145;&#x7684;&#x96F6;&#xFF0C;&#x8FD9;&#x662F;&#x670D;&#x52A1;&#x5668;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x628A;&#x89E3;&#x5BC6;&#x540E;&#x7684;&#x5B57;&#x6BB5;&#x524D;&#x5411;&#x586B;&#x5145;&#x7684;&#x96F6;&#x53BB;&#x6389;&#xFF0C;&#x624D;&#x662F;&#x771F;&#x6B63;&#x4E4B;&#x524D;&#x52A0;&#x5BC6;&#x7684;&#x660E;&#x6587;&#x3002; 2.&#x5F53;&#x4F60;&#x9009;&#x62E9;RSA_PKCS1_PADDING&#x586B;&#x5145;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x660E;&#x6587;&#x4E0D;&#x591F;128&#x5B57;&#x8282;&#x52A0;&#x5BC6;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5728;&#x4F60;&#x7684;&#x660E;&#x6587;&#x4E2D;&#x968F;&#x673A;&#x586B;&#x5145;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x5BFC;&#x81F4;&#x5BF9;&#x540C;&#x6837;&#x7684;&#x660E;&#x6587;&#x6BCF;&#x6B21;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x90FD;&#x4E0D;&#x4E00;&#x6837;&#x3002;&#x5BF9;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x5BC6;&#x6587;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x586B;&#x5145;&#x65B9;&#x5F0F;&#x90FD;&#x80FD;&#x89E3;&#x5BC6;&#x3002;&#x89E3;&#x5BC6;&#x540E;&#x7684;&#x660E;&#x6587;&#x4E5F;&#x5C31;&#x662F;&#x4E4B;&#x524D;&#x52A0;&#x5BC6;&#x7684;&#x660E;&#x6587;&#x3002; &#x516C;&#x94A5;&#x662F;&#x5728;&#x524D;&#x7AEF;&#x7684;&#x79C1;&#x94A5;&#x662F;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7684;&#x52A0;&#x5BC6;&#x901F;&#x5EA6;&#x6162; &#x957F;&#x5EA6;&#x6709;&#x9650;&#x5236;&#x516C;&#x94A5;&#x6700;&#x591A;&#x662F;1024&#x4F4D; 1024/8 = 128&#x4E2A;&#x5B57;&#x8282;&#x5982;&#x679C;&#x662F;pkcs1&#x7684;&#x8BDD;&#x8FD8;&#x8981;-11&#x4E2A;&#x5B57;&#x8282;&#x6700;&#x5927;&#x80FD;&#x52A0;&#x5BC6;&#x7684;&#x5B57;&#x8282;&#x5C31;&#x662F;117&#x4E2A;&#x5B57;&#x8282;&#x5982;&#x679C;&#x662F;nopadding&#x7684;&#x8BDD;&#x662F;128&#x4E2A;&#x5B57;&#x8282;RSA&#x7684;&#x5BC6;&#x6587;&#x548C;&#x660E;&#x6587;&#x4FDD;&#x6301;&#x4E00;&#x81F4;RSA&#x52A0;&#x5BC6;&#x6570;&#x636E;&#x7684;&#x957F;&#x5EA6;&#x53D6;&#x51B3;&#x4E8E;&#x516C;&#x94A5;&#x7684;&#x957F;&#x5EA6; RSA.min.js&#x6587;&#x4EF6;&#x5904;&#x7406;&#x7684;&#x662F;16&#x8FDB;&#x5236;&#x6587;&#x672C;&#x7684;rsasetMaxDigits() &#x91CC;&#x9762;&#x7684;&#x6570;&#x5B57;&#x662F;&#x79D8;&#x94A5;&#x7684; &#x957F;&#x5EA6;/2 &#x7A0D;&#x5FAE;+&#x4E00;&#x4E2A;&#x6570;&#x5B57;1&#x6216;2&#x6216;3 &#x9632;&#x6B62;&#x5D29;&#x6E83; RSA&#x7684;&#x5957;&#x8DEF;: &#x672C;&#x5730;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x7684;AES&#x52A0;&#x5BC6;&#x79D8;&#x94A5;a &#x7528;RSA&#x52A0;&#x5BC6;&#x8FD9;&#x4E2A;a&#x79D8;&#x94A5; &#x7136;&#x540E;&#x7528;aes&#x52A0;&#x5BC6;&#x5927;&#x91CF;&#x6570;&#x636E; &#x5176;&#x5B9E;&#x5C31;&#x662F;&#x7528;RSA&#x53BB;&#x52A0;&#x5BC6;AES&#x7684;key &#x7136;&#x540E;&#x628A;RSA&#x7684;&#x516C;&#x94A5;&#x63D0;&#x4EA4;&#x7ED9;&#x670D;&#x52A1;&#x5668; &#x628A;&#x52A0;&#x5BC6;&#x540E;&#x7684;AES&#x7684;key&#x4EA4;&#x7ED9;&#x670D;&#x52A1;&#x5668; &#x628A;&#x52A0;&#x5BC6;&#x540E;&#x7684;AES&#x6570;&#x636E;&#x4E5F;&#x4EA4;&#x7ED9;&#x670D;&#x52A1;&#x5668; &#x670D;&#x52A1;&#x5668;&#x901A;&#x8FC7;RSA&#x7684;&#x516C;&#x94A5;&#x548C;&#x88AB;&#x52A0;&#x5BC6;&#x7684;AES&#x7684;key&#x8BA1;&#x7B97;&#x51FA;&#x4E0D;&#x52A0;&#x5BC6;&#x7684;AES&#x7684;key &#x7136;&#x540E;&#x518D;&#x628A;&#x52A0;&#x5BC6;&#x7684;AES&#x7684;&#x6570;&#x636E;&#x7ED9;&#x89E3;&#x51FA;&#x6765;function AES(){ var pwd = "a12456" var key = CryptoJS.enc.utf8.parse("4F233463B63EA99F"); //key&amp;#x548C;iv&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x4E4B;&amp;#x524D;&amp;#x8981;&amp;#x5148;&amp;#x89E3;&amp;#x6790;&amp;#x6210;&amp;#x5B57;&amp;#x8282;&amp;#x96C6; var iv = CryptoJS.enc.utf8.parse("9BD2C547935C46F2"); //ECB&amp;#x6A21;&amp;#x5F0F;&amp;#x6CA1;&amp;#x6709;&amp;#x504F;&amp;#x79FB;&amp;#x5411;&amp;#x91CF; var value = CryptoJS.AES.encrypt(pwd,key,{ //DES&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x628A;AES&amp;#x6362;&amp;#x6210;DES &amp;#x4E00;&amp;#x822C;AES&amp;#x7684;&amp;#x79D8;&amp;#x94A5;&amp;#x662F;16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x6216;&amp;#x8005;&amp;#x662F;32&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;8&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;DES&amp;#x662F;8&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;3DES&amp;#x662F;24&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; mode:CryptoJS.mode.CBC, padding:CryptoJS.pad.pkcs7, iv:iv }).toString() return value; } 12.$().val()$().val()&#x5982;&#x679C;&#x62EC;&#x53F7;&#x4E2D;&#x6CA1;&#x6709;&#x503C;&#x4EE3;&#x8868;&#x53D6;&#x503C;,&#x5982;&#x679C;&#x62EC;&#x53F7;&#x4E2D;&#x6709;&#x503C;&#x4EE3;&#x8868;&#x8D4B;&#x503C; 13.$.fnvalAesEncryptSet($(&#x201C;#txtPassword&#x201D;).val()) $(&#x201C;#txtPassword&#x201D;).valAesEncryptSet(); &#x901A;&#x8FC7;$.fn&#x5C31;&#x80FD;&#x5B9E;&#x73B0;&#x4ED6;&#x4EEC;&#x4E24;&#x4E2A;&#x7684;&#x4E92;&#x8F6C; 14.cookie&#x95EE;&#x9898;&#x6709;&#x65F6;&#x4F1A;&#x5728;&#x8BF7;&#x6C42;tab&#x56FE;&#x7247;&#x8FD4;&#x56DE;&#x72B6;&#x6001;&#x7801;521&#x7136;&#x540E;&#x628A;&#x8BBE;&#x7F6E;cookie&#x7684;&#x811A;&#x672C;&#x85CF;&#x5728;&#x54CD;&#x5E94;&#x4F53;&#x91CC;window.onload=set.Timeout(&#x201C;du(44)&#x201D;,200);function du(PB)function du(PB) &#x5982;&#x679C;document&#x672A;&#x5B9A;&#x4E49;var document = { }document.cookie=&#x201D;&#x201D;; cookie&#x6709;&#x53EF;&#x80FD;&#x4F1A;&#x5931;&#x6548;&#x8FC7;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x5C31;&#x53BB;&#x8BF7;&#x6C42;&#x4E00;&#x4E0B; 15.&#x8F6C;&#x4E49;\&#x5982;&#x679C;&#x7B7E;&#x540D;&#x6709;\&#x7684;&#x8BDD;&#x90A3;&#x4E48;&#x5728;&#x52A0;&#x5BC6;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x8F6C;&#x4E49;&#x5C06;\&#x8F6C;&#x4E49;&#x4E3A;\&#x7136;&#x540E;&#x518D;&#x53BB;&#x8FDB;&#x884C;&#x8BA1;&#x7B97; 16.&#x65F6;&#x95F4;&#x6233;&#x5728;&#x8FDB;&#x884C;sign&#x7B7E;&#x540D;&#x7684;&#x65F6;&#x5019;&#x4E00;&#x5B9A;&#x8981;&#x8BB0;&#x5F97;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x6233; 17.&#x5728;&#x4F7F;&#x7528;WT-JS&#x7684;&#x65F6;&#x5019;&#x5982;&#x679C;&#x52A0;&#x5BC6;&#x7684;&#x5185;&#x5BB9;&#x91CC;&#x9762;&#x6709;&#x5F15;&#x53F7;&#x7684;&#x65F6;&#x5019;&#x751F;&#x6210;&#x7684;&#x6613;&#x8BED;&#x8A00;&#x4EE3;&#x7801;&#x53EF;&#x80FD;&#x4F1A;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x5728;&#x6613;&#x8BED;&#x8A00;&#x4E2D;&#x8C03;&#x8BD5;&#x51FA;&#x6765;&#x7684;&#x7ED3;&#x679C;&#x4E3A;&#x7A7A; 18.&#x52A0;&#x5BC6;&#x51FD;&#x6570;&#x5728;&#x54CD;&#x5E94;&#x4F53;&#x4E2D;&#x5F53;&#x4F60;&#x5728;JS&#x6587;&#x4EF6;&#x4E2D;&#x6CA1;&#x6709;&#x65AD;&#x5230;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x6570;&#x636E;&#x7684;&#x65F6;&#x5019;,&#x53EF;&#x4EE5;&#x67E5;&#x770B;&#x4E00;&#x4E0B;&#x54CD;&#x5E94;&#x4F53;&#x4E2D;&#x662F;&#x5426;&#x6709;&#x4F60;&#x9700;&#x8981;&#x7684;&#x52A0;&#x5BC6;&#x51FD;&#x6570;,&#x5982;&#x679C;&#x5728;FD&#x4E2D;&#x627E;&#x5230;&#x4E86; &#x52A0;&#x5BC6;&#x7684;&#x51FD;&#x6570;&#x7684;&#x8BDD;,&#x90A3;&#x4E48;&#x628A;&#x5BF9;&#x5E94;&#x53D8;&#x6210;&#x6CE8;&#x91CA;&#x7684;&#x659C;&#x6760;&#x5168;&#x90E8;&#x5220;&#x9664; 19.VM&#x4EE3;&#x7801;VM&#x4EE3;&#x7801;&#x662F;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x5728;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x4EA7;&#x751F;&#x7684;&#x4EE3;&#x7801; &#x6BD4;&#x5982;&#x5728;&#x63A7;&#x5236;&#x53F0;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x51FD;&#x6570; var test = function(){ return 123; }&#x7136;&#x540E;&#x518D;&#x53BB;&#x63A7;&#x5236;&#x53F0;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;,&#x5F97;&#x51FA;&#x6765;&#x7684;&#x7ED3;&#x679C;&#x5C31;&#x5728;VM&#x4E2D; 20.&#x62A0;&#x4EE3;&#x7801;&#x62A0;&#x4EE3;&#x7801;&#x7684;&#x65F6;&#x5019;&#x627E;&#x5230;&#x6700;&#x5916;&#x5C42;&#x7684;&#x81EA;&#x6267;&#x884C;&#x51FD;&#x6570; &#x7136;&#x540E;&#x6390;&#x5934;&#x53BB;&#x5C3E; &#x5982;&#x679C;&#x51FD;&#x6570;&#x5934;&#x4E2D;&#x6709;&#x53C2;&#x6570;,&#x90A3;&#x4E48;&#x9700;&#x8981;&#x628A;&#x4EE3;&#x7801;&#x4E2D;&#x5BF9;&#x5E94;&#x7684;&#x53C2;&#x6570;&#x90E8;&#x5206;&#x7ED9;&#x5220;&#x6389;&#x6216;&#x8005;&#x66FF;&#x6362;&#x6389; 21.&#x52A0;&#x5BC6;&#x51FD;&#x6570;&#x5728;&#x672C;tab&#x9875;&#x52A0;&#x5BC6;&#x51FD;&#x6570;&#x5728;&#x672C;tab&#x9875;&#x7684;&#x8BDD;,&#x53EF;&#x4EE5;&#x628A;&#x672C;&#x9875;&#x7684;&#x51FD;&#x6570;&#x5168;&#x90E8;&#x590D;&#x5236;&#x51FA;&#x6765; &#x627E;&#x5230;&#x52A0;&#x5BC6;&#x7684;&#x51FD;&#x6570; &#x5411;&#x5916;&#x5C42;&#x627E;&#x81EA;&#x6267;&#x884C;&#x533F;&#x540D;&#x51FD;&#x6570; &#x6390;&#x5934;&#x53BB;&#x5C3E; 22.&#x6587;&#x4EF6;&#x540D;&#x6839;&#x636E;&#x6587;&#x4EF6;&#x540D;&#x5224;&#x65AD;&#x52A0;&#x5BC6; &#x5982;&#x679C;&#x6587;&#x4EF6;&#x540D;&#x4E3A;&#x6807;&#x51C6;&#x7B97;&#x6CD5;&#x7684;&#x540D;&#x79F0;&#x7684;&#x8BDD; &#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x628A;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x5185;&#x5BB9;&#x5168;&#x90E8;&#x590D;&#x5236;&#x51FA;&#x6765; 23.32&#x4F4D;&#x4E0D;&#x4E00;&#x5B9A;&#x5C31;&#x662F;MD532&#x4F4D;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x7684;&#x5BC6;&#x6587;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;MD5&#x7684;&#x52A0;&#x5BC6;,&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;AES&#x7684;&#x52A0;&#x5BC6; &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x641C;&#x7D22;AES&#x7684;mode &#x6216;&#x8005; &#x54C8;&#x5E0C;&#x7684;&#x901A;&#x6740;&#x503C;&#x53BB;&#x5224;&#x65AD;&#x5230;&#x5E95;&#x662F;&#x4EC0;&#x4E48;&#x52A0;&#x5BC6; 24.&#x5982;&#x679C;&#x6709;8&#x4F4D;16&#x8FDB;&#x5236;&#x6570;&#x4E0D;&#x77E5;&#x9053;&#x600E;&#x4E48;&#x6765;&#x7684;&#x90A3;&#x4E48;&#x4ED6;&#x53EF;&#x80FD;&#x662F;10&#x4F4D;&#x7684;&#x65F6;&#x95F4;&#x6233;&#x8F6C;&#x5316;&#x8FDB;&#x5236;&#x5F97;&#x6765;&#x7684;.&#x7248;&#x672C; 2 .&#x652F;&#x6301;&#x5E93; spec .&#x5C40;&#x90E8;&#x53D8;&#x91CF; time, &#x6587;&#x672C;&#x578B; time &#xFF1D; &#x65F6;&#x95F4;_&#x53D6;&#x73B0;&#x884C;&#x65F6;&#x95F4;&#x6233; (&#x771F;) &#x8C03;&#x8BD5;&#x8F93;&#x51FA; (time) &#x8C03;&#x8BD5;&#x8F93;&#x51FA; (&#x8FDB;&#x5236;_&#x5341;&#x5230;&#x5341;&#x516D; (&#x5230;&#x957F;&#x6574;&#x6570; (time))) 25.&#x52A0;&#x5BC6;&#x5B57;&#x7B26;&#x4E32;&#x8F83;&#x957F;&#x5982;&#x679C;&#x52A0;&#x5BC6;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x6BD4;&#x8F83;&#x957F;base64&#x7684;&#x8BDD;&#x5C31;&#x662F;AES&#x6216;&#x8005;&#x662F;RSA 26. Base64&#x7F16;&#x7801;&#x5982;&#x679C;&#x5BC6;&#x7801;&#x88AB;base64&#x7F16;&#x7801;&#x7684;&#x8BDD;,&#x53EF;&#x4EE5;&#x901A;&#x8FC7;base64 27.&#x63D0;&#x793A;XXX&#x51FD;&#x6570;&#x672A;&#x5B9A;&#x4E49;&#x53EF;&#x4EE5;&#x518D;&#x63A7;&#x5236;&#x53F0;&#x76F4;&#x63A5;&#x5C06;&#x51FD;&#x6570;&#x540D;&#x8F93;&#x5165;&#x8FDB;&#x53BB;,&#x7136;&#x540E;&#x70B9;&#x51FB; &#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6709;&#x4E00;&#x5B9A;&#x51E0;&#x7387;&#x5C06;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6293;&#x51FA;&#x6765; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>JS逆向</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[springboot]]></title>
    <url>%2Fspringboot%2F2019%2F03%2F09%2Fjs-ni-xiang-1-ha-xi-xi-lie.html</url>
    <content type="text"><![CDATA[&#x54C8;&#x5E0C;&#x7CFB;&#x5217;1.&#x641C;&#x7D22;0x67452301 &#x6216;&#x8005; 1732584193 2.&#x5728;&#x6240;&#x6709;&#x627E;&#x5230;&#x7684;&#x5730;&#x65B9;&#x4E0B;&#x65AD;&#x70B9; 3.&#x64CD;&#x4F5C;&#x7F51;&#x9875;&#x89E6;&#x53D1;&#x65AD;&#x70B9; 4.&#x56DE;&#x6EAF;call stack &#x627E;&#x5230;&#x4E0A;&#x5C42;&#x8C03;&#x7528;(&#x4E00;&#x76F4;&#x627E;&#x5230;&#x8FD9;&#x4E2A;&#x8BED;&#x53E5;&#x6240;&#x51FA;&#x73B0;&#x7684;&#x51FD;&#x6570;,&#x4E14;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x4E0D;&#x4E3A;&#x7A7A;.&#x51FA;&#x73B0;&#x88AB;&#x52A0;&#x5BC6;&#x6570;&#x636E;&#x660E;&#x6587;&#x7684;&#x5730;&#x65B9;)&#x5373;&#x53EF;&#x770B;&#x5230;&#x7B7E;&#x540D;&#x5B57;&#x7B26;&#x4E32; &#x200B; &#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x660E;&#x6587;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;&#x90A3;&#x5C31;&#x8BF4;&#x660E;&#x4E0D;&#x662F;MD5 5.&#x627E;&#x53C2;&#x6570;,&#x8FD9;&#x4E9B;&#x80AF;&#x5B9A;&#x80FD;&#x627E;&#x5230;&#x7684;,&#x8981;&#x4E48;&#x5728;&#x7F51;&#x9875;&#x4E2D;,&#x8981;&#x4E48;&#x5728;&#x63D0;&#x4EA4;&#x7684;&#x5305;&#x91CC; &#x9875;&#x9762;&#x4E0A;&#x7684;&#x6570;&#x636E;(&#x5373;&#x5728;&#x767B;&#x5F55;&#x7684;HTML&#x9875;&#x9762;&#x4E0A;&#x7684;&#x6570;&#x636E;)&#x4E00;&#x822C;&#x90FD;&#x662F;&#x52A8;&#x6001;&#x751F;&#x6210;&#x7684;(&#x53EA;&#x9700;&#x5728;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x8BBF;&#x95EE;&#x4E00;&#x4E0B;&#x9996;&#x9875;&#x5373;&#x53EF;&#x751F;&#x6210;&#x6570;&#x636E;) js&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E00;&#x822C;&#x662F;&#x56FA;&#x5B9A;&#x7684; MD532&#x4F4D; 16&#x8FDB;&#x5236; &#x770B;&#x5230;_createHelper&#x548C;_createHmacHelper&#x5C31;&#x8981;&#x9A6C;&#x4E0A;&#x60F3;&#x5230;MD5 SHA140&#x4F4D; 16&#x8FDB;&#x5236; HMAC40&#x4F4D;&#x5E26;key &#x6848;&#x4F8B;&#x7F51;&#x7AD9;:http://www.zol.com.cn/ document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>springboot</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[springboot]]></title>
    <url>%2Fspringboot%2F2019%2F03%2F09%2Fjs-ni-xiang-2-aes.html</url>
    <content type="text"><![CDATA[AES&#x52A0;&#x5BC6;1.&#x9996;&#x5148;&#x8981;&#x53BB;&#x627E;AES&#x7684;&#x89C2;&#x5BDF;&#x51E0;&#x4E2A;&#x91CD;&#x8981;&#x7684;&#x53C2;&#x6570;Mode&#x3001;Key&#x3001;IV(&#x5411;&#x91CF;)&#x3001;padding(&#x586B;&#x5145;&#x6A21;&#x5F0F;) Mode&#x5206;&#x4E3A;CBC&#x548C;ECB CBC&#x9700;&#x8981;IV ECB&#x4E0D;&#x9700;&#x8981;IV Key&#x548C;IV&#x4E00;&#x822C;&#x90FD;&#x662F;&#x56FA;&#x5B9A;&#x7684;&#x503C;,&#x4E00;&#x822C;&#x90FD;&#x662F;&#x4EE5;utf8&#x7684;&#x683C;&#x5F0F;&#x53BB;&#x89E3;&#x6790; IV&#x6709;&#x53EF;&#x80FD;&#x8FDB;&#x884C;base64&#x7F16;&#x7801;,&#x88AB;&#x7F16;&#x7801;&#x7684;&#x8BDD;&#x7528;&#x539F;&#x6765;&#x7684;&#x503C;&#x5373;&#x53EF; padding&#x5E38;&#x7528;&#x7684;&#x6709;&#x4E24;&#x79CD;Pkcs7&#x548C;Iso10126 &#x4E00;&#x5171;&#x6709;:NoPadding ZeroPadding Pkcs7(Pkcs5) Iso10126 Iso97971 AnsiX923 &#x5176;&#x4E2D;Iso10126&#x586B;&#x5145;&#x65B9;&#x5F0F;&#x4F1A;&#x8BA9;&#x5BC6;&#x7801;&#x4E00;&#x76F4;&#x53D8;&#x5316; AES&#x6709;&#x4E24;&#x79CD;&#x8F93;&#x51FA;&#x7684;&#x5F62;&#x5F0F; Hex&#x548C;Base64 Base64: 6k8v530OWIGRYjKzV6jMmA== Hex: ea4f2fe77d0e5881916232b357a8cc98 (&#x7C7B;&#x4F3C;MD5) 2.&#x5728;&#x6240;&#x6709;&#x627E;&#x5230;&#x7684;&#x5730;&#x65B9;&#x4E0B;&#x65AD;&#x70B9; 3.&#x64CD;&#x4F5C;&#x7F51;&#x9875;&#x89E6;&#x53D1;&#x65AD;&#x70B9; 4.&#x56DE;&#x6EAF;call stack &#x627E;&#x5230;&#x4E0A;&#x5C42;&#x8C03;&#x7528;(&#x51FA;&#x73B0;&#x88AB;&#x52A0;&#x5BC6;&#x6570;&#x636E;&#x660E;&#x6587;&#x7684;&#x5730;&#x65B9;)&#x5373;&#x53EF;&#x770B;&#x5230;&#x7B7E;&#x540D;&#x5B57;&#x7B26;&#x4E32; &#x200B; &#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x660E;&#x6587;&#x7684;&#x51FD;&#x6570;&#x8C03;&#x7528;&#x6808;&#x90A3;&#x5C31;&#x8BF4;&#x660E;&#x4E0D;&#x662F;MD5 5.&#x627E;&#x53C2;&#x6570;,&#x8FD9;&#x4E9B;&#x80AF;&#x5B9A;&#x80FD;&#x627E;&#x5230;&#x7684;,&#x8981;&#x4E48;&#x5728;&#x7F51;&#x9875;&#x4E2D;,&#x8981;&#x4E48;&#x5728;&#x63D0;&#x4EA4;&#x7684;&#x5305;&#x91CC; &#x9875;&#x9762;&#x4E0A;&#x7684;&#x6570;&#x636E;(&#x5373;&#x5728;&#x767B;&#x5F55;&#x7684;HTML&#x9875;&#x9762;&#x4E0A;&#x7684;&#x6570;&#x636E;)&#x4E00;&#x822C;&#x90FD;&#x662F;&#x52A8;&#x6001;&#x751F;&#x6210;&#x7684;(&#x53EA;&#x9700;&#x5728;&#x64CD;&#x4F5C;&#x4E4B;&#x524D;&#x8BBF;&#x95EE;&#x4E00;&#x4E0B;&#x9996;&#x9875;&#x5373;&#x53EF;&#x751F;&#x6210;&#x6570;&#x636E;) js&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E00;&#x822C;&#x662F;&#x56FA;&#x5B9A;&#x7684; &#x6848;&#x4F8B;&#x7F51;&#x7AD9;:http://www.zol.com.cn/ &#x6807;&#x51C6;AES&#x683C;&#x5F0F;&#x5982;&#x4E0B;: function AES(){ var pwd = "a12456" var key = CryptoJS.enc.utf8.parse("4F233463B63EA99F"); //key&amp;#x548C;iv&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x4E4B;&amp;#x524D;&amp;#x8981;&amp;#x5148;&amp;#x89E3;&amp;#x6790;&amp;#x6210;&amp;#x5B57;&amp;#x8282;&amp;#x96C6;&amp;#x5176;&amp;#x5B9E;&amp;#x8FD9;&amp;#x4E2A;&amp;#x89E3;&amp;#x6790;&amp;#x4E0D;&amp;#x89E3;&amp;#x6790;&amp;#x65E0;&amp;#x6240;&amp;#x8C13;,&amp;#x9ED8;&amp;#x8BA4;&amp;#x5C31;&amp;#x662F;uft8&amp;#x89E3;&amp;#x6790; var iv = CryptoJS.enc.utf8.parse("9BD2C547935C46F2"); //ECB&amp;#x6A21;&amp;#x5F0F;&amp;#x6CA1;&amp;#x6709;&amp;#x504F;&amp;#x79FB;&amp;#x5411;&amp;#x91CF; var value = CryptoJS.AES.encrypt(pwd,key,{ //DES&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x628A;AES&amp;#x6362;&amp;#x6210;DES &amp;#x4E00;&amp;#x822C;AES&amp;#x7684;&amp;#x79D8;&amp;#x94A5;&amp;#x662F;16&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x6216;&amp;#x8005;&amp;#x662F;32&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;8&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5; DES&amp;#x662F;8&amp;#x4E2A;&amp;#x5B57;&amp;#x8282;3DES&amp;#x662F;24&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; mode:CryptoJS.mode.CBC, padding:CryptoJS.pad.pkcs7, iv:iv }).toString() return value; } iv&#x548C;key&#x53EF;&#x80FD;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x6790;&#x65B9;&#x5F0F;: //CryptoJS.enc.utf8.parse&amp;#x7684;&amp;#x51E0;&amp;#x79CD;&amp;#x5F62;&amp;#x5F0F; //&amp;#x628A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B57;&amp;#x7B26;&amp;#x5F53;&amp;#x505A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; var wordArray = CryptoJS.enc.Utf8.parse(utf8String); //&amp;#x548C;UTF8&amp;#x5DEE;&amp;#x4E0D;&amp;#x591A;UFT&amp;#x652F;&amp;#x6301;&amp;#x4E2D;&amp;#x6587;&amp;#x800C;Latin1&amp;#x4E0D;&amp;#x652F;&amp;#x6301;&amp;#x4E2D;&amp;#x6587; var wordArray = CryptoJS.enc.Latin1.parse(latin1String); var wordArray = CryptoJS.enc.Hex.parse(hexString); //&amp;#x628A;&amp;#x4E24;&amp;#x4E2A;&amp;#x5B57;&amp;#x7B26;&amp;#x5F53;&amp;#x505A;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B57;&amp;#x8282; var wordArray = CryptoJS.enc.Base64.parse(base64String); AES&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x641C;&#x7D22;mode CryptoJS utf8 CBC &#x7C7B;&#x4F3C;&#x7684;&#x503C; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>springboot</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[springboot]]></title>
    <url>%2Fspringboot%2F2019%2F03%2F09%2Fjs-ni-xiang-3-rsa.html</url>
    <content type="text"><![CDATA[RSA&#x52A0;&#x5BC6;RSA:1&#x3001;p&#x548C;q &#x662F;&#x4E0D;&#x76F8;&#x7B49;&#x7684;&#xFF0C;&#x8DB3;&#x591F;&#x5927;&#x7684;&#x4E24;&#x4E2A;&#x8D28;&#x6570;&#x3002; p&#x548C;q&#x662F;&#x4FDD;&#x5BC6;&#x7684;2&#x3001;n = pq n&#x662F;&#x516C;&#x5F00;&#x7684;3&#x3001;f(n) = (p-1)(q-1)4&#x3001;e &#x662F;&#x548C;f(n)&#x4E92;&#x8D28;&#x7684;&#x8D28;&#x6570;5&#x3001;&#x8BA1;&#x7B97;&#x53C2;&#x6570;d6&#x3001;&#x7ECF;&#x8FC7;&#x4E0A;&#x9762;5&#x6B65;&#x8BA1;&#x7B97;&#x5F97;&#x5230;&#x516C;&#x94A5;KU=(e,n) &#x79C1;&#x94A5;KR=(d,n) &#x516C;&#x5F0F;:&#x5BC6;&#x6587; = (&#x660E;&#x6587; &#x7684; &#x6307;&#x6570;&#x6B21;&#x65B9;) &#x53D6;&#x4F59; &#x516C;&#x94A5; RSA&#x7684;&#x6307;&#x6570;&#x5E38;&#x89C1;&#x7684;&#x5C31;&#x662F;10001 RSA&#x89E3;&#x5BC6;&#x6280;&#x5DE7;: &#x200B; 1.&#x641C;&#x7D22;&#x7684;&#x65F6;&#x5019;&#x5148;&#x53BB;&#x641C;&#x7D22;&#x2014;&#x2013;BEGIN PUBLIC KEY&#x2014;&#x2013; &#x200B; 2.&#x6216;&#x8005;&#x5C1D;&#x8BD5;&#x53BB;&#x641C;&#x7D22;&#x2014;&#x2013;END PUBLIC KEY&#x2014;&#x2013; &#x200B; &#x683C;&#x5F0F;&#x4EE5;&#x8FD9;&#x4E2A;&#x4E3A;&#x51C6;: -----BEGIN PUBLIC KEY----- MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCh5Nk2GLiyQFMIU+h3OEA4UeFb u3dCH5sjd/sLTxxvwjXq7JLqJbt2rCIdzpAXOi4jL+FRGQnHaxUlHUBZsojnCcHv hrz2knV6rXNogt0emL7f7ZMRo8IsQGV8mlKIC9xLnlOQQdRNUssmrROrCG99wpTR RNZjOmLvkcoXdeuaCQIDAQAB -----END PUBLIC KEY-----&#x200B; 3.&#x5C06;&#x4E0A;&#x9762;&#x7684;&#x516C;&#x94A5;&#x8FDB;&#x884C;16&#x8FDB;&#x5236;&#x7684;&#x8F6C;&#x6362;&#x7136;&#x540E;&#x5E26;&#x5165;&#x5230;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;&#x4E2D;(&#x8F6C;&#x6362;&#x4E3A;16&#x8FDB;&#x5236;&#x4EE5;&#x540E;&#x5E94;&#x8BE5;&#x662F;256&#x4F4D;&#x7684;&#x516C;&#x94A5;) &#x200B; 4.&#x53BB;&#x8C03;&#x8BD5;&#x5BC6;&#x7801;&#x5229;&#x7528;Envalue in Console&#x5C1D;&#x8BD5;&#x770B;&#x770B;&#x5BC6;&#x7801;&#x662F;&#x5426;&#x4F1A;&#x53D1;&#x751F;&#x53D8;&#x5316;,&#x5982;&#x679C;&#x53D1;&#x751F;&#x53D8;&#x5316;&#x8BC1;&#x660E;&#x662F;PKCS1&#x6A21;&#x5F0F; &#x200B; 5.&#x7136;&#x540E;&#x8FDB;&#x884C;&#x5185;&#x5B58;&#x53CD;&#x8F6C;&#x6216;&#x8005;&#x5B57;&#x7B26;&#x53CD;&#x8F6C; RSAkey&#x7684;&#x4E09;&#x79CD;&#x6765;&#x6E90;: &#x6765;&#x6E90;&#x4E8E;&#x6570;&#x636E;&#x5305;&#x7684;&#x54CD;&#x5E94;&#x4F53;&#x4E2D; (&#x4E00;&#x822C;&#x4F1A;&#x5728;&#x8BF7;&#x6C42;&#x7684;URL&#x4E0A;&#x4EE5;Restful&#x7684;&#x5F62;&#x5F0F;&#x663E;&#x793A;/getpublick/) &#x5728;JS&#x6587;&#x4EF6;&#x4E2D;&#x5199;&#x6B7B; &#x5728;&#x5185;&#x90E8;&#x81EA;&#x52A8;&#x751F;&#x6210;(&#x5C11;&#x89C1;) RSA&#x4E09;&#x6B65;&#x66F2; : 1:&#x521D;&#x59CB;&#x5316; n = new JSEncrypt; 2:&#x8BBE;&#x7F6E;&#x516C;&#x94A5; n.setPublicKey(r); 3:&#x8FDB;&#x884C;&#x52A0;&#x5BC6; var e = n.encrypt($(&quot;#input1&quot;).val())example(&#x4E00;): function getPwd(pwd){ var key = "MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDcV30OSW6Bd8uWyoUzajb7Rwe7NH9J8czQZSgGv9LBk0QZevURdhbME0GbCHS79mOP3+/KgvYZR5NakGd/ZGcagxhoCCY6sDYKA5iTQaXCbg5dhpfviWnj3ck0iGIVCf26QaquJttWsHEU3C0lwkJzGDTC0QjPnV4HwgDd70BcuwIDAQAB"; var encrypt = new JSEncrypt; encrypt.setPublicKey(key); return encrypt.encrypt(pwd); } //&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;nopadding&amp;#x7684;&amp;#x586B;&amp;#x5145;&amp;#x6A21;&amp;#x5F0F; function getRSA(password, pubkey) { setMaxDigits(131); var key = new RSAKeyPair("10001", &amp;apos;&amp;apos;, pubkey); return encryptedString(key, password); } example(&#x4E8C;): var rsa = function (arg) { setMaxDigits(130); //&amp;#x6307;&amp;#x6570; var PublicExponent = "10001"; var modulus = "be44aec4d73408f6b60e6fe9e3dc55d0e1dc53a1e171e071b547e2e8e0b7da01c56e8c9bcf0521568eb111adccef4e40124b76e33e7ad75607c227af8f8e0b759c30ef283be8ab17a84b19a051df5f94c07e6e7be5f77866376322aac944f45f3ab532bb6efc70c1efa524d821d16cafb580c5a901f0defddea3692a4e68e6cd"; var key = new RSAKeyPair(PublicExponent, "", modulus); return encryptedString(key, arg); }; &#x5B83;&#x4E24;&#x79CD;&#x6A21;&#x5F0F;ECB&#x548C;NONE&#x4F46;&#x662F;&#x4E24;&#x8005;&#x7684;&#x7ED3;&#x679C;&#x662F;&#x4E00;&#x6837;&#x7684;&#x586B;&#x5145;&#x65B9;&#x5F0F;&#x6709;PKCS1paddingnopadding &#x5047;&#x5982;&#x4F60;&#x9009;&#x62E9;&#x7684;&#x79D8;&#x94A5;&#x957F;&#x5EA6;&#x4E3A;1024bit&#x5171;128&#x4E2A;byte&#xFF1A;1.&#x5F53;&#x4F60;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#x9009;&#x62E9;RSA_NO_PADDING&#x586B;&#x5145;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x660E;&#x6587;&#x4E0D;&#x591F;128&#x5B57;&#x8282;&#x52A0;&#x5BC6;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5728;&#x4F60;&#x7684;&#x660E;&#x6587;&#x524D;&#x9762;&#xFF0C;&#x524D;&#x5411;&#x7684;&#x586B;&#x5145;&#x96F6;&#x3002;&#x89E3;&#x5BC6;&#x540E;&#x7684;&#x660E;&#x6587;&#x4E5F;&#x4F1A;&#x5305;&#x62EC;&#x524D;&#x9762;&#x586B;&#x5145;&#x7684;&#x96F6;&#xFF0C;&#x8FD9;&#x662F;&#x670D;&#x52A1;&#x5668;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x628A;&#x89E3;&#x5BC6;&#x540E;&#x7684;&#x5B57;&#x6BB5;&#x524D;&#x5411;&#x586B;&#x5145;&#x7684;&#x96F6;&#x53BB;&#x6389;&#xFF0C;&#x624D;&#x662F;&#x771F;&#x6B63;&#x4E4B;&#x524D;&#x52A0;&#x5BC6;&#x7684;&#x660E;&#x6587;&#x3002; 2.&#x5F53;&#x4F60;&#x9009;&#x62E9;RSA_PKCS1_PADDING&#x586B;&#x5145;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x660E;&#x6587;&#x4E0D;&#x591F;128&#x5B57;&#x8282;&#x52A0;&#x5BC6;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x5728;&#x4F60;&#x7684;&#x660E;&#x6587;&#x4E2D;&#x968F;&#x673A;&#x586B;&#x5145;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x5BFC;&#x81F4;&#x5BF9;&#x540C;&#x6837;&#x7684;&#x660E;&#x6587;&#x6BCF;&#x6B21;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x7ED3;&#x679C;&#x90FD;&#x4E0D;&#x4E00;&#x6837;&#x3002;&#x5BF9;&#x52A0;&#x5BC6;&#x540E;&#x7684;&#x5BC6;&#x6587;&#xFF0C;&#x670D;&#x52A1;&#x5668;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684;&#x586B;&#x5145;&#x65B9;&#x5F0F;&#x90FD;&#x80FD;&#x89E3;&#x5BC6;&#x3002;&#x89E3;&#x5BC6;&#x540E;&#x7684;&#x660E;&#x6587;&#x4E5F;&#x5C31;&#x662F;&#x4E4B;&#x524D;&#x52A0;&#x5BC6;&#x7684;&#x660E;&#x6587;&#x3002; &#x516C;&#x94A5;&#x662F;&#x5728;&#x524D;&#x7AEF;&#x7684;&#x79C1;&#x94A5;&#x662F;&#x5728;&#x670D;&#x52A1;&#x5668;&#x7684;&#x52A0;&#x5BC6;&#x901F;&#x5EA6;&#x6162; &#x957F;&#x5EA6;&#x6709;&#x9650;&#x5236;&#x516C;&#x94A5;&#x6700;&#x591A;&#x662F;1024&#x4F4D; 1024/8 = 128&#x4E2A;&#x5B57;&#x8282;&#x5982;&#x679C;&#x662F;pkcs1&#x7684;&#x8BDD;&#x8FD8;&#x8981;-11&#x4E2A;&#x5B57;&#x8282;&#x6700;&#x5927;&#x80FD;&#x52A0;&#x5BC6;&#x7684;&#x5B57;&#x8282;&#x5C31;&#x662F;117&#x4E2A;&#x5B57;&#x8282;&#x5982;&#x679C;&#x662F;nopadding&#x7684;&#x8BDD;&#x662F;128&#x4E2A;&#x5B57;&#x8282;RSA&#x7684;&#x5BC6;&#x6587;&#x548C;&#x660E;&#x6587;&#x4FDD;&#x6301;&#x4E00;&#x81F4;RSA&#x52A0;&#x5BC6;&#x6570;&#x636E;&#x7684;&#x957F;&#x5EA6;&#x53D6;&#x51B3;&#x4E8E;&#x516C;&#x94A5;&#x7684;&#x957F;&#x5EA6; RSA.min.js&#x6587;&#x4EF6;&#x5904;&#x7406;&#x7684;&#x662F;16&#x8FDB;&#x5236;&#x6587;&#x672C;&#x7684;rsasetMaxDigits() &#x91CC;&#x9762;&#x7684;&#x6570;&#x5B57;&#x662F;&#x79D8;&#x94A5;&#x7684; &#x957F;&#x5EA6;/2 &#x7A0D;&#x5FAE;+&#x4E00;&#x4E2A;&#x6570;&#x5B57;1&#x6216;2&#x6216;3 &#x9632;&#x6B62;&#x5D29;&#x6E83; RSA&#x7684;&#x5957;&#x8DEF;: &#x672C;&#x5730;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x968F;&#x673A;&#x7684;AES&#x52A0;&#x5BC6;&#x79D8;&#x94A5;a &#x7528;RSA&#x52A0;&#x5BC6;&#x8FD9;&#x4E2A;a&#x79D8;&#x94A5; &#x7136;&#x540E;&#x7528;aes&#x52A0;&#x5BC6;&#x5927;&#x91CF;&#x6570;&#x636E; &#x5176;&#x5B9E;&#x5C31;&#x662F;&#x7528;RSA&#x53BB;&#x52A0;&#x5BC6;AES&#x7684;key &#x7136;&#x540E;&#x628A;RSA&#x7684;&#x516C;&#x94A5;&#x63D0;&#x4EA4;&#x7ED9;&#x670D;&#x52A1;&#x5668; &#x628A;&#x52A0;&#x5BC6;&#x540E;&#x7684;AES&#x7684;key&#x4EA4;&#x7ED9;&#x670D;&#x52A1;&#x5668; &#x628A;&#x52A0;&#x5BC6;&#x540E;&#x7684;AES&#x6570;&#x636E;&#x4E5F;&#x4EA4;&#x7ED9;&#x670D;&#x52A1;&#x5668; &#x670D;&#x52A1;&#x5668;&#x901A;&#x8FC7;RSA&#x7684;&#x516C;&#x94A5;&#x548C;&#x88AB;&#x52A0;&#x5BC6;&#x7684;AES&#x7684;key&#x8BA1;&#x7B97;&#x51FA;&#x4E0D;&#x52A0;&#x5BC6;&#x7684;AES&#x7684;key &#x7136;&#x540E;&#x518D;&#x628A;&#x52A0;&#x5BC6;&#x7684;AES&#x7684;&#x6570;&#x636E;&#x7ED9;&#x89E3;&#x51FA;&#x6765;&#x7EDD;&#x5927;&#x90E8;&#x5206;RSA&#x7684;&#x516C;&#x94A5;&#x90FD;&#x662F; -----BEGIN PUBLIC KEY----- MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCh5Nk2GLiyQFMIU+h3OEA4UeFb u3dCH5sjd/sLTxxvwjXq7JLqJbt2rCIdzpAXOi4jL+FRGQnHaxUlHUBZsojnCcHv hrz2knV6rXNogt0emL7f7ZMRo8IsQGV8mlKIC9xLnlOQQdRNUssmrROrCG99wpTR RNZjOmLvkcoXdeuaCQIDAQAB -----END PUBLIC KEY-----&#x5982;&#x4F55;&#x5224;&#x65AD;&#x81EA;&#x5DF1;&#x8C03;&#x8BD5;&#x51FA;&#x6765;&#x7684;RSA&#x7B97;&#x6CD5; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>springboot</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[jvm]]></title>
    <url>%2Fjava%2F2019%2F03%2F09%2Fjvm.html</url>
    <content type="text"><![CDATA[### JVM&#x5185;&#x5B58;&#x6A21;&#x578B;&#x7684;&#x6982;&#x8FF0; Java&#x8BED;&#x8A00;&#x4E3A;&#x751A;&#x4E48;&#x4F18;&#x52BF;&#x5DE8;&#x5927;&#xFF0C;&#x4E00;&#x5904;&#x7F16;&#x8BD1;&#x968F;&#x5904;&#x8FD0;&#x884C; Java&#x7684;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4F18;&#x52BF; &#x81EA;&#x4ECE;&#x5185;&#x5B58;&#x7BA1;&#x7406;&#x673A;&#x5236;&#x4E4B;&#x4E0B;&#xFF0C;&#x4E0D;&#x518D;&#x9700;&#x8981;&#x4E3A;&#x6CA1;&#x4E00;&#x4E2A;new&#x64CD;&#x4F5C;&#x53BB;&#x5199;&#x914D;&#x5BF9;&#x7684;&#x5185;&#x5B58;&#x5206;&#x914D;&#x548C;&#x56DE;&#x6536;&#x7B49;&#x4EE3;&#x7801;&#xFF0C; &#x4E0D;&#x5BB9;&#x6613;&#x51FA;&#x73B0;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#x548C;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x7B49;&#x95EE;&#x9898; JVM&#x8FD0;&#x884C;&#x65F6;&#x6570;&#x636E;&#x533A;&#x5206;&#x5E03;&#x56FE;&#x8BB2;&#x89E3; &#x7EBF;&#x7A0B;&#x5171;&#x4EAB;&#x6570;&#x636E;&#x533A;&#xFF1A;&#x65B9;&#x6CD5;&#x533A;&#x3001;&#x5806; &#x7EBF;&#x7A0B;&#x9694;&#x79BB;&#x6570;&#x636E;&#x533A;&#xFF1A;&#x865A;&#x62DF;&#x673A;&#x6808;&#x3001;&#x672C;&#x5730;&#x65B9;&#x6CD5;&#x6808;&#x3001;&#x7A0B;&#x5E8F;&#x8BA1;&#x6570;&#x5668; JVM&#x5185;&#x5B58;&#x6A21;&#x578B;&#x4E4B;&#x7A0B;&#x5E8F;&#x8BA1;&#x7B97;&#x5668; &#x662F;&#x4EC0;&#x4E48;&#xFF1F; &#x7A0B;&#x5E8F;&#x8BA1;&#x6570;&#x5668;&#x662F;&#x4E00;&#x5757;&#x8F83;&#x5C0F;&#x7684;&#x5185;&#x5B58;&#x7A7A;&#x95F4;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x770B;&#x4F5C;&#x662F;&#x5F53;&#x524D;&#x7EBF;&#x7A0B;&#x6240;&#x6267;&#x884C;&#x7684;&#x5B57;&#x8282;&#x7801;&#x7684;&#x884C;&#x53F7;&#x6307;&#x793A;&#x5668; &#x7EBF;&#x7A0B;&#x662F;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6267;&#x884C;&#x5355;&#x5143;&#xFF0C;&#x662F;&#x7531;CPU&#x63A7;&#x5236;&#x6267;&#x884C;&#x7684; &#x5B57;&#x8282;&#x7801;&#x89E3;&#x91CA;&#x5668;&#x5DE5;&#x4F5C;&#x65F6;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x6539;&#x53D8;&#x8FD9;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x7684;&#x503C;&#x6765;&#x9009;&#x53D6;&#x4E0B;&#x4E00;&#x6761;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x5B57;&#x8282;&#x7801;&#x6307;&#x4EE4;&#xFF0C;&#x5206;&#x652F;&#x3001;&#x5FAA;&#x73AF;&#x3001;&#x8DF3;&#x8F6C;&#x3001;&#x5F02;&#x5E38;&#x5904;&#x7406;&#x3001;&#x7EBF;&#x7A0B;&#x6062;&#x590D;&#x7B49;&#x57FA;&#x7840;&#x529F;&#x80FD;&#x90FD;&#x9700;&#x8981;&#x4F9D;&#x8D56;&#x8FD9;&#x4E2A;&#x8BA1;&#x6570;&#x5668;&#x6765;&#x5B8C;&#x6210; &#x4E3A;&#x4EC0;&#x4E48;&#xFF1F; &#x4E3A;&#x4E86;&#x7EBF;&#x7A0B;&#x5207;&#x6362;&#x540E;&#x80FD;&#x6062;&#x590D;&#x5230;&#x6B63;&#x786E;&#x7684;&#x6267;&#x884C;&#x4F4D;&#x7F6E;&#xFF0C;&#x6BCF;&#x6761;&#x7EBF;&#x7A0B;&#x90FD;&#x9700;&#x8981;&#x6709;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x7A0B;&#x5E8F;&#x8BA1;&#x6570;&#x5668;&#xFF0C;&#x5404;&#x6761;&#x7EBF;&#x7A0B;&#x4E4B;&#x95F4;&#x8BA1;&#x6570;&#x5668;&#x4E92;&#x4E0D;&#x5F71;&#x54CD;&#xFF0C;&#x72EC;&#x7ACB;&#x5B58;&#x50A8;&#xFF0C;&#x6211;&#x4EEC;&#x79F0;&#x8FD9;&#x7C7B;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x4E3A;&#x201C;&#x7EBF;&#x7A0B;&#x79C1;&#x6709;&#x201D;&#x7684;&#x5185;&#x5B58; &#x7279;&#x70B9;&#xFF1F; &#x5185;&#x5B58;&#x533A;&#x57DF;&#x4E2D;&#x552F;&#x4E00;&#x4E00; &#x4E2A;&#x6CA1;&#x6709;&#x89C4;&#x5B9A;&#x4EFB;&#x4F55; OutOfMemoryError &#x60C5;&#x51B5;&#x7684;&#x533A;&#x57DF; JVM&#x5185;&#x5B58;&#x6A21;&#x578B;&#x4E4B;java&#x865A;&#x62DF;&#x673A;&#x6808;&#x8BB2;&#x89E3; &#x662F;&#x4EC0;&#x4E48;&#xFF1F; &#x7528;&#x4E8E;&#x4F5C;&#x7528;&#x4E8E;&#x65B9;&#x6CD5;&#x6267;&#x884C;&#x7684;&#x4E00;&#x5757;Java&#x5185;&#x5B58;&#x533A;&#x57DF; &#x4E3A;&#x4EC0;&#x4E48;&#xFF1F; &#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x5728;&#x6267;&#x884C;&#x7684;&#x540C;&#x65F6;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6808;&#x5E27;&#xFF08;Stack Framel&#xFF09;&#x7528;&#x4E8E;&#x5B58;&#x50A8;&#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x3001;&#x64CD;&#x4F5C;&#x6570;&#x6808;&#x3001;&#x52A8;&#x6001;&#x94FE;&#x63A5;&#x3001;&#x65B9;&#x6CD5;&#x51FA;&#x53E3;&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x4ECE;&#x8C03;&#x7528;&#x76F4;&#x81F3;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x7684;&#x8FC7;&#x7A0B;&#xFF0C;&#x5C31;&#x5BF9;&#x5E94;&#x7740;&#x4E00;&#x4E2A;&#x6808;&#x5E27;&#x5728;&#x865A;&#x62DF;&#x673A;&#x6808;&#x4E2D;&#x5165;&#x6808;&#x5230;&#x51FA;&#x6808;&#x7684;&#x8FC7;&#x7A0B; &#x7279;&#x70B9;&#xFF1F; &#x5C40;&#x90E8;&#x53D8;&#x91CF;&#x8868;&#x5B58;&#x653E;&#x4E86;&#x7F16;&#x8BD1;&#x671F;&#x53EF;&#x77E5;&#x7684;&#x5404;&#x79CD;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#xFF08;boolean&#x3001;byte&#x3001;char&#x3001;short&#x3001;int&#x3001;float&#x3001;long&#x3001;double&#xFF09;&#x4EE5;&#x53CA;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#xFF08;reference &#x7C7B;&#x578B;&#xFF09; &#x5982;&#x679C;&#x7EBF;&#x7A0B;&#x8BF7;&#x6C42;&#x7684;&#x6808;&#x6DF1;&#x5EA6;&#x5927;&#x4E8E;&#x865A;&#x62DF;&#x673A;&#x6240;&#x5141;&#x8BB8;&#x7684;&#x6DF1;&#x5EA6;&#xFF0C;&#x5C06;&#x629B;&#x51FA; StackOverflowError &#x5F02;&#x5E38; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>java</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[shell]]></title>
    <url>%2Fshell%2F2019%2F03%2F09%2Fshell.html</url>
    <content type="text"><![CDATA[linux&#x7684;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x547D;&#x4EE4;&#x7B80;&#x4ECB;&#xFF1A;30&#x4E2A;&#x5E38;&#x7528;&#x7684;&#x547D;&#x4EE4;&#x8FD9;&#x4E48;&#x591A;&#x547D;&#x4EE4;&#x8BB0;&#x4E0D;&#x4F4F;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;: &#x53BB;&#x627E;&#x4F60;&#x547D;&#x4EE4;&#x7684;&#x610F;&#x601D; man + &#x547D;&#x4EE4; &#x4E3E;&#x4F8B; man cd man ls &#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6CD5;: &#x4F7F;&#x7528;ls --help 1&#x3001; cd&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x5207;&#x6362;&#x76EE;&#x5F55;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x5207;&#x6362;&#x5230;&#x6839;&#x76EE;&#x5F55; &#xFF1A; cd / &#x5207;&#x6362;&#x5230;&#x4E0A;&#x6B21;&#x8FD0;&#x884C;&#x7684;&#x76EE;&#x5F55;&#xFF1A;cd - 2&#x3001; ls&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x5217;&#x51FA;&#x76EE;&#x5F55;&#x5185;&#x5BB9;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x5217;&#x51FA;/var&#x76EE;&#x5F55;&#x7684;&#x6587;&#x4EF6;&#x548C;&#x76EE;&#x5F55;&#x7684;&#x4FE1;&#x606F; &#xFF1A;ls &#x2013;l /var&#xFF1B; &#x6700;&#x5E38;&#x7528;&#x65B9;&#x5F0F; ls &#x2013;ltr list time reverse &#x4EE5;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#x53BB;&#x6392;&#x5217;&#x6700;&#x65E7;&#x7684;&#x5728;&#x6700;&#x4E0A;&#x8FB9;&#x6700;&#x65B0;&#x7684;&#x5728;&#x6700;&#x4E0B;&#x8FB9; ls -lt&#x770B;&#x6700;&#x65E7; ls -lrt&#x770B;&#x6700;&#x65B0; ls -l &#x4EE5;&#x5217;&#x7684;&#x5F62;&#x5F0F;&#x5C55;&#x793A;&#x51FA;&#x6765;&#xFF1B;&#x901A;&#x5E38;&#x5199;&#x6210;ll 3&#x3001; cat&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x770B;&#x5C0F;&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x770B;test.txt &#x6587;&#x4EF6;&#x5185;&#x5BB9; &#xFF1A;cat test.txt cat &gt; test.txt #&#x91CD;&#x5B9A;&#x5411;&#x5230;test.txt&#x6587;&#x4EF6; asddsafsafsads #&#x5411;test.txt&#x6587;&#x4EF6;&#x4E2D;&#x8F93;&#x5165;&#x5185;&#x5BB9; ctrl+c #&#x7ED3;&#x675F;&#x8F93;&#x5165; cat test.txt #&#x8F93;&#x5165;&#x5B8C;&#x6BD5;&#x518D;&#x6B21;&#x67E5;&#x770B;&#x6587;&#x4EF6; cat -n test.txt #&#x80FD;&#x591F;&#x5E26;&#x4E0A;&#x884C;&#x6570;&#x67E5;&#x770B;&#x6587;&#x4EF6; 4&#x3001; chmod&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x4FEE;&#x6539;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x6743;&#x9650;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x4FEE;&#x6539;test.sh &#x4E3A;&#x81EA;&#x5DF1;&#x53EF;&#x6267;&#x884C;&#xFF1A;chmod u+x test.sh 5&#x3001; chown&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A; &#x53D8;&#x66F4;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x7684;&#x62E5;&#x6709;&#x8005;&#x6216;&#x6240;&#x5C5E;&#x7FA4;&#x7EC4;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x4FEE;&#x6539;test.txt &#x5C5E;&#x4E3B;&#x4E3A;mysql &#xFF1A;chown mysql:mysql test.txt &#x5148;&#x7528;ll&#x67E5;&#x770B;&#x6240;&#x5C5E;&#x7EC4; &#x5047;&#x5982;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x7684;test.txt&#x5C5E;&#x4E8E; root root &#x6539;&#x8FC7;&#x4E4B;&#x540E;&#x5C31;&#x662F; mysql mysql 6&#x3001; cp&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x62F7;&#x8D1D;&#x6587;&#x4EF6;test.sh &#x4E3A; test.sh_bak&#xFF1A;cp test.sh test.sh_bak 7&#x3001; diff&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x5BF9;&#x6BD4;&#x6587;&#x4EF6;&#x5DEE;&#x5F02;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x5BF9;&#x6BD4;&#x6587;&#x4EF6;test.sh test.sh_bak &#x662F;&#x5426;&#x6709;&#x5DEE;&#x5F02;diff test.sh test.sh_bak 8&#x3001; find&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x8BE2;&#x6587;&#x4EF6;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x8BE2;&#x672C;&#x76EE;&#x5F55;&#x53CA;&#x5176;&#x5B50;&#x76EE;&#x5F55;&#x7684;&#x6587;&#x4EF6;test.txt&#xFF1A;find ./ -name test.txt 9&#x3001; mv&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x79FB;&#x52A8;&#x6216;&#x66F4;&#x540D;&#x73B0;&#x6709;&#x7684;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x79FB;&#x52A8; test.sh&#x5230;/bin&#x76EE;&#x5F55;&#x4E0B;&#xFF1A;mv test.sh /bin/ 10&#x3001;rm&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x5220;&#x9664;&#x6587;&#x4EF6;&#x6216;&#x76EE;&#x5F55;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x5220;&#x9664;&#x6587;&#x4EF6;test.sh &#xFF1A;rm test.sh 11&#x3001;touch&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x6587;&#x4EF6;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;test.txt&#x6587;&#x4EF6;&#xFF1A;touch test.txt 12&#x3001;which&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x5728;&#x73AF;&#x5883;&#x53D8;&#x91CF;$PATH&#x8BBE;&#x7F6E;&#x7684;&#x76EE;&#x5F55;&#x91CC;&#x67E5;&#x627E;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x6587;&#x4EF6;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x8BE2;find&#x547D;&#x4EE4;&#x5728;&#x90A3;&#x4E2A;&#x76EE;&#x5F55;&#x4E0B;&#x9762;&#xFF1A;which find which ls /usr/bin/ls 13&#x3001;ssh&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x8FDC;&#x7A0B;&#x5B89;&#x5168;&#x767B;&#x5F55;&#x65B9;&#x5F0F;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x767B;&#x5F55;&#x5230;&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#xFF1A;ssh ${IP} 14&#x3001;grep&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x627E;&#x6587;&#x4EF6;&#x91CC;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x5B57;&#x7B26;&#x4E32;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x4ECE;test.txt&#x6587;&#x4EF6;&#x4E2D;&#x67E5;&#x8BE2;test&#x7684;&#x5185;&#x5BB9;&#xFF1A;grep test test.txt 15&#x3001;wc&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x7EDF;&#x8BA1;&#x884C;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x7EDF;&#x8BA1;test.txt&#x6587;&#x4EF6;&#x6709;&#x591A;&#x5C11;&#x884C;&#xFF1A;wc -l test.txt 16&#x3001;date&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x8BE2;&#x4E3B;&#x673A;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x8BE2;&#x4E3B;&#x673A;&#x5F53;&#x524D;&#x65F6;&#x95F4;&#xFF1A;date 17&#x3001;exit&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x9000;&#x51FA;&#x547D;&#x4EE4;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x9000;&#x51FA;&#x4E3B;&#x673A;&#x767B;&#x5F55;&#xFF1A;exit 18&#x3001;kill&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x6740;&#x8FDB;&#x7A0B;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x6740;&#x6389;test&#x7528;&#x6237;&#x4E0B;&#x9762;&#x7684;&#x6240;&#x6709;&#x8FDB;&#x7A0B;&#xFF1A;ps -ef | awk &#x2018;$1==&#x201D;test&#x201D; {print $2}&#x2019; | xargs kill -9 19&#x3001;id&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x770B;&#x7528;&#x6237;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x770B;&#x5F53;&#x524D;&#x7528;&#x6237;&#xFF1A;id &#xFF1B; &#x67E5;&#x8BE2;&#x4E3B;&#x673A;&#x662F;&#x5426;&#x6709;test&#x7528;&#x6237;&#xFF1A;id test 20&#x3001;ps&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x8BE2;&#x8FDB;&#x7A0B;&#x60C5;&#x51B5;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x8BE2;test.sh&#x8FDB;&#x7A0B;&#xFF1A;ps -ef | grep test.sh 21&#x3001;sleep&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x4F11;&#x7720;&#x65F6;&#x95F4;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x4F11;&#x7720;60&#x79D2; &#xFF1A;sleep 60 22&#x3001;uname&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x8BE2;&#x4E3B;&#x673A;&#x4FE1;&#x606F;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x8BE2;&#x4E3B;&#x673A;&#x4FE1;&#x606F;&#xFF1A;uname -a 23&#x3001;passwd&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x4FEE;&#x6539;&#x7528;&#x6237;&#x5BC6;&#x7801;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x4F7F;&#x7528;root&#x4FEE;&#x6539;test&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#xFF1A;passwd test 24&#x3001;ping&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x770B;&#x7F51;&#x7EDC;&#x662F;&#x5426;&#x901A;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x8BE2;&#x672C;&#x4E3B;&#x673A;&#x5230;&#x8FDC;&#x7A0B;IP&#x7684;&#x7F51;&#x7EDC;&#x662F;&#x5426;&#x901A;&#xFF1A;ping ${IP} 25&#x3001;df&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x770B;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x770B;&#x4E3B;&#x673A;&#x7684;&#x7A7A;&#x95F4;&#x4F7F;&#x7528;&#x60C5;&#x51B5; &#xFF1A;df -h 26&#x3001;echo&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x6807;&#x51C6;&#x8F93;&#x51FA;&#x547D;&#x4EE4;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x5BF9;&#x53D8;&#x91CF;test&#x8FDB;&#x884C;&#x8F93;&#x51FA;&#xFF1A;echo $test echo &apos;123&apos; //&#x76F8;&#x5F53;&#x4E8E;print&#x7684;&#x610F;&#x601D; 27&#x3001;pwd&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x8BE2;&#x6240;&#x5728;&#x76EE;&#x5F55;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x8BE2;&#x5F53;&#x524D;&#x6240;&#x5728;&#x76EE;&#x5F55;&#xFF1A;pwd 28&#x3001;head&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x770B;&#x6587;&#x4EF6;&#x7684;&#x524D;&#x9762;N&#x884C;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x770B;test.txt&#x7684;&#x524D;10&#x884C;&#xFF1A;head -10 test.txt 29&#x3001;tail&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x67E5;&#x770B;&#x6587;&#x4EF6;&#x7684;&#x540E;&#x9762;N&#x884C;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x67E5;&#x770B;test.txt&#x7684;&#x540E;10&#x884C;&#xFF1A;tail -10 test.txt 30&#x3001;mkdir&#x547D;&#x4EE4; &#x529F;&#x80FD;&#x8BF4;&#x660E;&#xFF1A;&#x521B;&#x5EFA;&#x76EE;&#x5F55;&#x3002; &#x4E3E; &#x4F8B;&#xFF1A;&#x521B;&#x5EFA;test&#x76EE;&#x5F55;&#xFF1A;mkdir test&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#x8F6F;&#x4EF6;&#x4EE5;&#x53CA;vi&#x7F16;&#x8F91;&#x5668;&#x7B80;&#x4ECB;:&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;&#x8F6F;&#x4EF6; &#x4E0E; vi&#x547D;&#x4EE4;&#x7684;&#x57FA;&#x672C;&#x4F7F;&#x7528; &#x8F6F;&#x4EF6;&#xFF1A; secureCRT putty echo $LANG vi&#x7F16;&#x8F91;&#x5668;&#xFF1A;vi&#x7F16;&#x8F91;&#x5668;&#x662F;&#x6240;&#x6709;Unix&#x53CA;Linux&#x7CFB;&#x7EDF;&#x4E0B;&#x6807;&#x51C6;&#x7684;&#x7F16;&#x8F91;&#x5668;&#xFF0C;&#x5B83;&#x7684;&#x5F3A;&#x5927;&#x4E0D;&#x900A;&#x8272;&#x4E8E;&#x4EFB;&#x4F55;&#x6700;&#x65B0;&#x7684;&#x6587;&#x672C;&#x7F16;&#x8F91;&#x5668; vi&#x7684;&#x57FA;&#x672C;&#x6982;&#x5FF5;&#xFF1A;1) &#x547D;&#x4EE4;&#x884C;&#x6A21;&#x5F0F; x # &#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5B57;&#x7B26; dd # &#x5220;&#x9664;&#x4E00;&#x6574;&#x884C; 2) &#x63D2;&#x5165;&#x6A21;&#x5F0F; i # &#x5728;&#x5149;&#x6807;&#x524D;&#x63D2;&#x5165;&#x5185;&#x5BB9; o # &#x5728;&#x5F53;&#x524D;&#x884C;&#x4E4B;&#x4E0B;&#x65B0;&#x5F00;&#x4E00;&#x884C; 3) &#x5E95;&#x884C;&#x6A21;&#x5F0F; x &#x6216; wq # &#x4FDD;&#x5B58;&#x9000;&#x51FA; q! # &#x9000;&#x51FA;&#x4E0D;&#x4FDD;&#x5B58; set nu # &#x663E;&#x793A;&#x884C;&#x6570; / # &#x641C;&#x7D22;&#x5185;&#x5BB9; # shell&#x5E38;&#x89C1;&#x7684;&#x89E3;&#x91CA;&#x5668; ## &#x7B80;&#x4ECB;&#xFF1A;&#x5E38;&#x89C1;&#x7684;&#x89E3;&#x91CA;&#x5668;&#x89E3;&#x91CA;&#x5668;:&#x662F;&#x4E00;&#x79CD;&#x547D;&#x4EE4;&#x89E3;&#x91CA;&#x5668;&#xFF0C;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x5BF9;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x8FD0;&#x884C;&#x548C;&#x89E3;&#x91CA;&#xFF0C;&#x5C06;&#x9700;&#x8981;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#x4F20;&#x9012;&#x7ED9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x5185;&#x6838;&#x5E76;&#x6267;&#x884C; !/bin/bash&#xFF08;&#x9ED8;&#x8BA4;&#xFF09;!/bin/ksh!/bin/bsh!/bin/sh - &#x521B;&#x5EFA;&#x7B2C;&#x4E00;&#x4E2A;shell&#x811A;&#x672C;#!/bin/bash#&#x529F;&#x80FD;&#x4F5C;&#x7528;#by&#x4F5C;&#x8005;XXX 20XX&#x5E74;XX&#x6708;XX&#x65E5;echo &#x2018;helloword&#x2019; &#x7B2C;&#x4E00;&#x884C;#!&#x662F;&#x9009;&#x62E9;&#x89E3;&#x91CA;&#x5668; &#x5269;&#x4E0B;&#x7684;#&#x90FD;&#x662F;&#x6CE8;&#x91CA; &#x6CE8;&#x610F;&#xFF1A;shell&#x4E00;&#x5B9A;&#x5F97;&#x6709;&#x89E3;&#x91CA;&#x5668;&#x5417;&#xFF1F;&#x7B54;&#x6848;&#xFF1A;&#x4E0D;&#x4E00;&#x5B9A;,&#x6700;&#x597D;&#x8981;&#x52A0;&#x89E3;&#x91CA;&#x5668; ## shell&#x811A;&#x672C;&#x6587;&#x4EF6;&#x6743;&#x9650;&#x6587;&#x4EF6;&#x6743;&#x9650;&#xFF1A;- rw- r&#x2013; r&#x2013;&#x76EE;&#x5F55;&#x6743;&#x9650;&#xFF1A;drw-r&#x2013;r&#x2013;&#x5206;&#x4E09;&#x5217;&#xFF1A;&#x6BCF;&#x4E09;&#x4E2A;&#x4E3A;&#x4E00;&#x5217;&#xFF0C;&#x5206;&#x522B;&#x662F;&#x6240;&#x6709;&#x8005;(owner)&#xFF0C;&#x6240;&#x5C5E;&#x7EC4;(group)&#xFF0C;&#x5176;&#x4ED6;(others) rwx r:4 w:2 x:1&#x6240;&#x6709;&#x8005;(&#x53EF;&#x8BFB;&#x53EF;&#x5199;&#x53EF;&#x6267;&#x884C;) &#x6240;&#x5C5E;&#x7EC4;(&#x53EF;&#x8BFB;&#x53EF;&#x6267;&#x884C;) &#x5176;&#x4ED6;(&#x53EF;&#x8BFB;&#x53EF;&#x6267;&#x884C;)7 5 5 - &#x4E3A;&#x4EC0;&#x4E48;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x6CA1;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x5462;? ![](http://blog-mamba.oss-cn-beijing.aliyuncs.com/linux/shell/03.png) - &#x56E0;&#x4E3A;sh&#x662F;&#x4E00;&#x4E2A;&#x6267;&#x884C;&#x811A;&#x672C;&#x7684;&#x547D;&#x4EE4;&#x53EA;&#x8981;sh&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#x800C;&#x4E14;&#x4F60;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x662F;&#x53EF;&#x8BFB;&#x7684;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x53BB;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6; - &#x5E38;&#x89C1;&#x7684;&#x6267;&#x884C;&#x65B9;&#x6CD5; &#x65B9;&#x6CD5;1&#xFF1A;&#x6DFB;&#x52A0;&#x6267;&#x884C;&#x6743;&#x9650; chmod +x shell.sh &#x65B9;&#x6CD5;1&#xFF1A;./shell.sh &#x65B9;&#x6CD5;2&#xFF1A;sh shell.sh &#x6216;&#x8005;bash shell.sh &#x65B9;&#x6CD5;3&#xFF1A;source shell.sh # shell&#x7684;&#x5E38;&#x89C1;&#x53D8;&#x91CF;&#x4E0D;&#x540C;&#x4E8E;&#x5176;&#x5B83;&#x8BED;&#x8A00;&#x9700;&#x8981;&#x5148;&#x58F0;&#x660E;&#x53D8;&#x91CF; shell&#x7684;&#x53D8;&#x91CF;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#xFF0C;eg:a=15 &#x8C03;&#x7528;&#x53D8;&#x91CF;&#x7684;&#x8BDD; $&#x6216;&#x8005;a &#x6216;&#x8005; ${a} ${a}&#x80FD;&#x591F;&#x548C;&#x5176;&#x5B83;&#x5B57;&#x7B26;&#x8FDE;&#x5728;&#x4E00;&#x8D77; $? #&#x5224;&#x65AD;&#x4E0A;&#x4E00;&#x6761;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x7684;&#x662F;&#x5426;&#x6210;&#x529F;,&#x5982;&#x679C;&#x8FD4;&#x56DE;0&#x4EE3;&#x8868;&#x6210;&#x529F;,&#x8FD4;&#x56DE;1&#x4EE3;&#x8868;&#x5931;&#x8D25; $0 #&#x8FD4;&#x56DE;&#x811A;&#x672C;&#x7684;&#x6587;&#x4EF6;&#x540D;&#x79F0; $1-$9 #&#x8FD4;&#x56DE;&#x5BF9;&#x5E94;&#x7684;&#x53C2;&#x6570;&#x503C; $* #&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x7684;&#x53C2;&#x6570;&#x503C;&#x662F;&#x4EC0;&#x4E48; $# #&#x8FD4;&#x56DE;&#x53C2;&#x6570;&#x7684;&#x4E2A;&#x6570;&#x548C; vi shell.sh#!/bin/bash#test#by&#x4F5C;&#x8005;XXX 20XX&#x5E74;XX&#x6708;XX&#x65E5;echo &#x201C;&#x811A;&#x672C;: $0&#x201D;echo &#x201C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;: $1&#x201D;echo &#x201C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;: $2&#x201D;echo &#x201C;&#x4E00;&#x5171;&#x6709;&#x591A;&#x5C11;&#x53C2;&#x6570;: $#&#x201D;echo &#x201C;&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x90FD;&#x662F;&#x4EC0;&#x4E48;: $*&#x201D; &#x8FD0;&#x884C;&#x547D;&#x4EE4; sh shell.sh 12 abc 45 kkk po &#x8F93;&#x51FA;&#x5185;&#x5BB9;:&#x811A;&#x672C;: shell.sh&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;:12&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;:abc&#x4E00;&#x5171;&#x6709;&#x591A;&#x5C11;&#x4E2A;&#x53C2;&#x6570;:5&#x8FD9;&#x4E9B;&#x53C2;&#x6570;&#x662F;&#x4EC0;&#x4E48;:12 abc 45 kkk po # shell&#x7684;&#x5E38;&#x89C1;&#x7684;&#x51E0;&#x4E2A;&#x7B26;&#x53F7; #&#x4F1A;&#x8986;&#x76D6;&#x539F;&#x6709;&#x7684;&#x5185;&#x5BB9; #&#x4E0D;&#x4F1A;&#x8986;&#x76D6;&#x539F;&#x6709;&#x7684;&#x5185;&#x5BB9; ; #&#x6267;&#x884C;&#x591A;&#x6761;&#x547D;&#x4EE4; | #&#x7BA1;&#x9053;&#x7B26; &amp;&amp; #&#x524D;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x6210;&#x529F;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x624D;&#x53EF;&#x4EE5;&#x6267;&#x884C; || #&#x524D;&#x9762;&#x7684;&#x547D;&#x4EE4;&#x6267;&#x884C;&#x5931;&#x8D25;&#xFF0C;&#x540E;&#x9762;&#x7684;&#x624D;&#x53EF;&#x4EE5;&#x6267;&#x884C; &#x201C;&#x201D; #&#x4F1A;&#x8F93;&#x51FA;&#x53D8;&#x91CF;&#x503C; eg:vi abc.shecho &#x201C;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;:$1&#x201D;echo &#x2018;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;:$1&#x2019; sh abc.sh 100&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;: 100&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x662F;: $1 &#x2018;&#x2019; #&#x8F93;&#x51FA;&#x672C;&#x8EAB; `` #&#x8F93;&#x51FA;&#x547D;&#x4EE4;&#x7ED3;&#x679C; eg:a=date;echo $a 2&gt;/dev/null #&#x9519;&#x8BEF;&#x8F93;&#x51FA;&#x5230;&#x65E0;&#x5E95;&#x6D1E;1&gt;/dev/null #&#x6B63;&#x786E;&#x8F93;&#x51FA;&#x5230;&#x65E0;&#x5E95;&#x6D1E; # &#x79D2;&#x53D8;&#x8BA1;&#x7B97;&#x5668;&#x7684;&#x8FD0;&#x7B97;&#x7B26; - &#x6574;&#x6570;:&#x52A0;&#xFF1A;expr 12 + 6 expr $a + $b echo $[12 + 6] echo $[a + b] echo $((12 + 6)) echo $((a + b)) &#x51CF;&#xFF1A;expr 12 - 6 expr $a - $b echo $[12 - 6] echo $[a - b] echo $((12 - 6)) echo $((a - b)) &#x4E58;&#xFF1A;expr 12 \* 6 expr $a \* $b #\*&#x8F6C;&#x4E49;&#x4E3A;&#x4E58;,&#x5426;&#x5219;&#x5B83;&#x5C31;&#x662F;&#x4E2A;&#x901A;&#x914D;&#x7B26; echo $[12 * 6] echo $[a * b] echo $((12 * 6)) echo $((a * b)) &#x9664;&#xFF1A;expr 12 / 6 expr $a / $b echo $((12 / 6)) echo $((a / b)) echo $[12 / 6] echo $[a / b] &#x6C42;&#x4F59;&#xFF1A;expr 12 % 6 expr $a % $b echo $((12 % 6)) echo $((a % b)) echo $[12 % 6] echo $[a % b]- &#x5C0F;&#x6570;:bc #&#x4EA4;&#x4E92;&#x6A21;&#x5F0F;&#x4F7F;&#x7528;&#x7BA1;&#x9053;| #&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x4EA4;&#x4E92;&#x6A21;&#x5F0F;echo &#x201C;1+2&#x201D; | bc bc&#x8BA1;&#x7B97;&#x5668;&#x4FDD;&#x7559;&#x591A;&#x5C11;&#x4F4D;&#x5C0F;&#x6570;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;scaleecho &#x201C;scale=2;1.2+1.3&#x201D; | bc4echo &#x201C;scale=2;(1.2+1.3)/1&#x201D; | bc&#x4F46;&#x662F;scale&#x53EA;&#x5BF9;&#x9664;&#x6CD5;&#xFF0C;&#x53D6;&#x4F59;&#x6570;&#xFF0C;&#x4E58;&#x5E42; &#x6709;&#x6548;&#xFF0C;&#x5BF9;&#x52A0;&#x51CF;&#x6CA1;&#x6709;&#x6548;&#x3002; echo &#x201C;scale=2;(0.2+0.3)/1&#x201D; | bc #&#x8BA1;&#x7B97;&#x51FA;0.2+0.3&#x7684;&#x548C;&#x5E76;&#x4FDD;&#x7559;&#x4FE9;&#x4F4D;&#x5C0F;&#x6570;&#xFF0C;&#x6B64;&#x65F6;bc&#x8BA1;&#x7B97;&#x5668;&#x4F1A;&#x7701;&#x7565;&#x6389;&#x4E2A;&#x4F4D;&#x6570;&#x7684;0echo &#x201C;scale=2;(1.2+1.3)/1&#x201D; | bc #&#x8BA1;&#x7B97;&#x51FA;1.2+1.3&#x7684;&#x548C;&#x5E76;&#x4FDD;&#x7559;&#x4FE9;&#x4F4D;&#x5C0F;&#x6570; # &#x5E38;&#x89C1;&#x7684;&#x6761;&#x4EF6;&#x5224;&#x65AD; - &#x8BED;&#x6CD5;: [&#x5224;&#x65AD;&#x8868;&#x8FBE;&#x5F0F;]&#x6587;&#x4EF6;&#xFF08;&#x5939;&#xFF09;&#x6216;&#x8005;&#x8DEF;&#x5F84;&#xFF1A;-e &#x76EE;&#x6807;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF08;exist&#xFF09;[ -e xxx.sh ] &amp;&amp; echo &#x2018;&#x5B58;&#x5728;&#x2019; #&#x5982;&#x679C;&#x6709;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x5C31;&#x8F93;&#x51FA;&#x5B58;&#x5728;-d &#x662F;&#x5426;&#x4E3A;&#x8DEF;&#x5F84;&#xFF08;directory&#xFF09;[ -d /home/username ] &amp;&amp; echo &#x2018;/home/username&#x5B58;&#x5728;&#x2019;-f &#x662F;&#x5426;&#x4E3A;&#x6587;&#x4EF6;&#xFF08;file&#xFF09;[ -e xxx.sh ] || touch xxx.sh #&#x5224;&#x65AD;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4E0B;&#x662F;&#x5426;&#x6709;foer.sh&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#xFF0C;&#x5047;&#x5982;&#x6CA1;&#x6709;&#x5C31;&#x521B;&#x5EFA;&#x51FA;foer.sh&#x6587;&#x4EF6; - &#x6743;&#x9650;:-r &#x662F;&#x5426;&#x6709;&#x8BFB;&#x53D6;&#x6743;&#x9650;&#xFF08;read&#xFF09;-w &#x662F;&#x5426;&#x6709;&#x5199;&#x5165;&#x6743;&#x9650;&#xFF08;write&#xFF09;-x &#x662F;&#x5426;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#xFF08;excute&#xFF09; [ -x xxx.txt ] &amp;&amp; echo &#x2018;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#x2019; - &#x6574;&#x6570;&#x503C;&#xFF08;int&#x578B;&#xFF09;&#xFF1A;-eq &#x7B49;&#x4E8E;&#xFF08;equal&#xFF09;-ne &#x4E0D;&#x7B49;&#x4E8E;(not equal)-gt &#x5927;&#x4E8E;&#xFF08;greater than&#xFF09;-lt &#x5C0F;&#x4E8E;&#xFF08;lesser than&#xFF09;-ge &#x5927;&#x4E8E;&#x6216;&#x8005;&#x7B49;&#x4E8E;&#xFF08;greater or equal&#xFF09;-le &#x5C0F;&#x4E8E;&#x6216;&#x8005;&#x7B49;&#x4E8E;&#xFF08;lesser or equal&#xFF09; [ 9 -gt 8 ] &amp;&amp; echo &#x2018;&#x5927;&#x4E8E;&#x2019; - &#x5C0F;&#x6570;(&#x6D6E;&#x70B9;&#x578B;):[ echo &apos;1.2 &lt; 1.3&apos; | bc -eq 1 ] &amp;&amp; echo &#x2018;&#x5C0F;&#x4E8E;&#x2019;&#x5982;&#x679C;&#x662F;&#x4E00;&#x6761;&#x8BED;&#x53E5;&#x5C31;&#x7528;&#x7E41;&#x4F53;&#x53F7;&#x62EC;&#x8D77;&#x6765; - &#x5B57;&#x7B26;&#x4E32;:= &#x76F8;&#x7B49;!= &#x4E0D;&#x76F8;&#x7B49; [ &#x2018;kkkkk&#x2019; != &#x2018;kkkk&#x2019; ] &amp;&amp; echo &#x2018;&#x4E0D;&#x7B49;&#x4E8E;&#x2019; - &#x5236;&#x4F5C;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x811A;&#x672C;cat &gt; panduan.sh #!/bin/bash#&#x5224;&#x65AD;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6570;&#x662F;&#x5426;&#x5927;&#x4E8E;&#x8F93;&#x5165;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x6570;#by authorif [ $s1 -eq $2 ]thenecho &#x201C;$1&#x7B49;&#x4E8E;$2&#x201D; else echo &#x201C;$1 &#x4E0D;&#x7B49;&#x4E8E; $2&#x201D;fi sh panduan.sh 12 13 #&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6587;&#x4EF6;&#x5982;&#x679C;&#x6587;&#x4EF6;&#x521B;&#x5EFA;&#x6210;&#x529F;&#x5C31;&#x8FD4;&#x56DE;0#!/bin/bashtouch $1if [ $? -eq 0 ];thenecho &#x201C;$1 &#x521B;&#x5EFA;&#x6210;&#x529F;!&#x201D;fi # shell&#x811A;&#x672C;&#x8F93;&#x5165;&#x4E4B;read&#x547D;&#x4EE4; - &#x8BED;&#x6CD5;&#xFF1A;read -&#x53C2;&#x6570;-p&#xFF1A;&#x7ED9;&#x51FA;&#x63D0;&#x793A;&#x7B26;&#x3002;&#x9ED8;&#x8BA4;&#x4E0D;&#x652F;&#x6301;&#x201D;\n&#x201D;&#x6362;&#x884C;-s&#xFF1A;&#x9690;&#x85CF;&#x8F93;&#x5165;&#x7684;&#x5185;&#x5BB9;-t&#xFF1A;&#x7ED9;&#x51FA;&#x7B49;&#x5F85;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x8D85;&#x65F6;&#x4F1A;&#x9000;&#x51FA;read-n&#xFF1A;&#x9650;&#x5236;&#x8BFB;&#x53D6;&#x5B57;&#x7B26;&#x7684;&#x4E2A;&#x6570;&#xFF0C;&#x89E6;&#x53D1;&#x5230;&#x4E34;&#x754C;&#x503C;&#x4F1A;&#x81EA;&#x52A8;&#x6267;&#x884C;``` document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>shell</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[springboot整合微信支付]]></title>
    <url>%2Fspringboot%2F2019%2F03%2F09%2Fspringboot-wei-xin-zhi-fu.html</url>
    <content type="text"><![CDATA[springboot&#x6574;&#x5408;&#x5FAE;&#x4FE1;&#x652F;&#x4ED8;&#x4ECE;0&#x5230;1&#x4F7F;&#x7528;SpringBoot start&#x5728;&#x7EBF;&#x751F;&#x6210;&#x9879;&#x76EE;&#x57FA;&#x672C;&#x6846;&#x67B6; 1&#x3001;&#x7AD9;&#x70B9;&#x5730;&#x5740;&#xFF1A;http://start.spring.io/ 2&#x3001;&#x9700;&#x8981;&#x4F9D;&#x8D56; spring-boot-starter-web spring-boot-starter-data-redis mybatis-spring-boot-starter mysql-connector-java &#x7528;&#x4EC0;&#x4E48;&#x5305;&#x5BFC;&#x4EC0;&#x4E48;&#x5305; &#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A; &#x5982;&#x679C;&#x4E00;&#x5F00;&#x59CB;&#x6CA1;&#x52A0;mysql&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5219;&#x5728;pom.xml&#x91CC;&#x9762;&#x6CE8;&#x89E3;&#x6389;mysql&#x76F8;&#x5173;&#x4F9D;&#x8D56; 3&#x3001;&#x542F;&#x52A8;&#x9879;&#x76EE;hello world 4&#x3001;&#x8BBF;&#x95EE;&#x5165;&#x53E3;&#xFF1A;localhost:8080/testspringboot&#x5F00;&#x542F;&#x70ED;&#x90E8;&#x7F72; 1&#x3001;&#x589E;&#x52A0;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; 3&#x3001;idea&#x91CC;&#x9762;&#x8981;&#x8BBE;&#x7F6E; 1&#x3001;setting &#x2013;&gt; compiler &#xFF0C;&#x5C06; Build project automatically &#x52FE;&#x9009;&#x4E0A; 2&#x3001;Shift+Ctrl+Alt+/&#xFF0C;&#x9009;&#x62E9;Registry &#x9009; compiler.automake.allow.when.app.running &#x91CD;&#x542F;&#x9879;&#x76EE;&#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x642D;&#x5EFA;&#x9879;&#x76EE;&#x57FA;&#x672C;&#x76EE;&#x5F55;&#x7ED3;&#x6784; 1&#x3001;&#x57FA;&#x672C;&#x76EE;&#x5F55;&#x7ED3;&#x6784; controller service impl mapper utils domain config interceoter dto 2&#x3001;application.properties&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x914D;&#x7F6E;&#x542F;&#x52A8;&#x7AEF;&#x53E3; server.port=8082 3&#x3001;&#x5165;&#x53E3;&#x7C7B;&#x5E94;&#x8BE5;&#x653E;&#x5728;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#x9762;IDE&#x6839;&#x636E;Mysql&#x81EA;&#x52A8;&#x751F;&#x6210;java pojo&#x5B9E;&#x4F53;&#x7C7B;1&#x3001;IDEA&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93; &#x83DC;&#x5355;View&#x2192;Tool Windows&#x2192;Database&#x6253;&#x5F00;&#x6570;&#x636E;&#x5E93;&#x5DE5;&#x5177;&#x7A97;&#x53E3; 2&#x3001;&#x5DE6;&#x4E0A;&#x89D2;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#x201C;+&#x201D;&#xFF0C;&#x9009;&#x62E9;&#x6570;&#x636E;&#x5E93;&#x7C7B;&#x578B; 3&#x3001;mysql&#x4E3B;&#x673A;&#xFF0C;&#x8D26;&#x6237;&#x5BC6;&#x7801; localhost root 4&#x3001;&#x901A;&#x8FC7;IDEA&#x751F;&#x6210;&#x5B9E;&#x4F53;&#x7C7B; &#x9009;&#x4E2D;&#x4E00;&#x5F20;&#x8868;&#xFF0C;&#x53F3;&#x952E;---&gt;Scripted Extensions---&gt;&#x9009;&#x62E9;Generate POJOS.groovy&#xFF0C;&#x9009;&#x62E9;&#x9700;&#x8981;&#x5B58;&#x653E;&#x7684;&#x8DEF;&#x5F84;&#xFF0C;&#x5B8C;&#x6210; &#x5982;&#x679C;&#x60F3;&#x81EA;&#x5B9A;&#x4E49;&#x9009;&#x62E9;Generate POJOS.clj: &#x81EA;&#x5B9A;&#x4E49;&#x5305;&#x540D; com.example.wxpay.domain &#x4FEE;&#x6539;&#x57FA;&#x672C;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x4E3A;&#x5F15;&#x7528;&#x6570;&#x636E;&#x7C7B;&#x578B; &#x5E38;&#x7528;&#x7C7B;&#x578B; java.sql.Timestamp----&gt;java.util.Date 5&#x3001;&#x5C06;&#x5B9E;&#x4F53;&#x7C7B;&#x5B9E;&#x73B0;Serializable&#x63A5;&#x53E3; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x6620;&#x5C04;&#x5230;&#x5C5E;&#x6027;&#x548C;&#x5B9E;&#x4F53;&#x7C7B;&#x914D;&#x7F6E;1&#x3001;&#x6DFB;&#x52A0; @Configuration &#x6CE8;&#x89E3;&#xFF1B; 2&#x3001;&#x4F7F;&#x7528; @PropertySource &#x6CE8;&#x89E3;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#xFF1B;(&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x89C4;&#x8303;: &#x5927;&#x6A21;&#x5757;.&#x5B50;&#x6A21;&#x5757;.&#x5C5E;&#x6027;&#x540D;) #=================================&#x5FAE;&#x4FE1;&#x76F8;&#x5173;================== #&#x516C;&#x4F17;&#x53F7; wxpay.appid=wx5beac15ca207cdd40c wxpay.appsecret=554801238f17fdsdsdd6f96b382fe548215e9 3&#x3001;&#x5FC5;&#x987B; &#x901A;&#x8FC7;&#x6CE8;&#x5165;IOC&#x5BF9;&#x8C61;Resource &#x8FDB;&#x6765; &#xFF0C; &#x624D;&#x80FD;&#x5728;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x83B7;&#x53D6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x503C;&#x3002; &#x4F8B;&#x5B50;: @Autowired private WeChatConfig weChatConfig; @Configuration @PropertySource(value=&quot;classpath:application.properties&quot;) public class WeChatConfig { @Value(&quot;${wxpay.appid}&quot;) private String appId; }springboot&#x6574;&#x5408;mybatis&#x6570;&#x636E;&#x6E90;1&#x3001;&#x52A0;&#x5165;&#x4F9D;&#x8D56;(&#x53EF;&#x4EE5;&#x7528; http://start.spring.io/ &#x4E0B;&#x8F7D;) &lt;!-- &#x5F15;&#x5165;starter--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MySQL&#x7684;JDBC&#x9A71;&#x52A8;&#x5305; --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- &#x5F15;&#x5165;&#x7B2C;&#x4E09;&#x65B9;&#x6570;&#x636E;&#x6E90; --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt; &lt;/dependency&gt; 2&#x3001;&#x52A0;&#x5165;&#x914D;&#x7F6E;&#x6587;&#x4EF6; #&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x8BC6;&#x522B; #spring.datasource.driver-class-name =com.mysql.jdbc.Driver #&#x66FF;&#x6362;&#x81EA;&#x5DF1;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4FE1;&#x606F; spring.datasource.url=jdbc:mysql://localhost:3306/classdemo?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=UTC spring.datasource.username =root spring.datasource.password =root #&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6E90; &#xFF08;com.zaxxer.hikari.HikariDataSource&#xFF09; spring.datasource.type =com.alibaba.druid.pool.DruidDataSource &#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#xFF0C;&#x6CE8;&#x5165;&#x5230;sqlSessionFactory&#x7B49;&#x90FD;&#x662F;springBoot&#x5E2E;&#x6211;&#x4EEC;&#x5B8C;&#x6210; 3&#x3001;&#x542F;&#x52A8;&#x7C7B;&#x589E;&#x52A0;mapper&#x626B;&#x63CF;@MapperScan(&quot;com.example.wxpay.mapper&quot;) VideoMapper&#x7C7B;&#x4F8B;&#x5B50; @Select(&quot;select * from video&quot;) List&lt;Video&gt; findAll(); !!!&#x5982;&#x679C;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6709;&#x6570;&#x636E;&#x6CA1;&#x6709;&#x6620;&#x5C04;&#x8FC7;&#x6765;&#x53EF;&#x4EE5;&#x91C7;&#x7528;&#x4E24;&#x79CD;&#x529E;&#x6CD5; 1. @Results({ @Result(column = &quot;create_time&quot;,property = &quot;createTime&quot;) //javaType = java.util.Date.class }) 2. &#x5728;application.properties&#x4E2D;&#x914D;&#x7F6E;&#x6570;&#x636E;&#x5E93;&#x5B57;&#x6BB5;&#x4E0B;&#x5212;&#x7EBF;&#x548C;Java&#x5B9E;&#x4F53;&#x7C7B;&#x6620;&#x5C04; # mybatis &#x4E0B;&#x5212;&#x7EBF;&#x8F6C;&#x9A7C;&#x5CF0;&#x914D;&#x7F6E;,&#x4E24;&#x8005;&#x90FD;&#x53EF;&#x4EE5; #mybatis.configuration.mapUnderscoreToCamelCase=true mybatis.configuration.map-underscore-to-camel-case=true 4&#x3001;&#x5F00;&#x53D1;mapper &#x53C2;&#x8003;&#x8BED;&#x6CD5; http://www.mybatis.org/mybatis-3/zh/java-api.html xml&#x914D;&#x7F6E;&#xFF1A;http://www.mybatis.org/mybatis-3/zh/configuration.html&#x4F7F;&#x7528;Mybatis&#x6CE8;&#x89E3;&#x589E;&#x5220;&#x6539;&#x67E5;1&#x3001;application.properties&#x589E;&#x52A0;&#x63A7;&#x5236;&#x53F0;&#x6253;&#x5370;sql&#x8BED;&#x53E5; #&#x589E;&#x52A0;&#x6253;&#x5370;sql&#x8BED;&#x53E5;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x672C;&#x5730;&#x5F00;&#x53D1;&#x6D4B;&#x8BD5; mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl 2&#x3001;&#x589E;&#x52A0;mapper&#x4EE3;&#x7801; @Select(&quot;select * from video&quot;) List&lt;Video&gt; findAll(); @Select(&quot;SELECT * FROM video WHERE id = #{id}&quot;) Video findById(int id); @Update(&quot;UPDATE video SET title=#{title} WHERE id =#{id}&quot;) int update(Video Video); @Delete(&quot;DELETE FROM video WHERE id =#{id}&quot;) int delete(int id); @Insert(&quot;INSERT INTO `video` ( `title`, `summary`, &quot; + &quot;`cover_img`, `view_num`, `price`, `create_time`,&quot; + &quot; `online`, `point`)&quot; + &quot;VALUES&quot; + &quot;(#{title}, #{summary}, #{coverImg}, #{viewNum}, #{price},#{createTime}&quot; + &quot;,#{online},#{point});&quot;) //&#x6280;&#x5DE7;&#xFF1A;&#x4FDD;&#x5B58;&#x5BF9;&#x8C61;&#xFF0C;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x81EA;&#x589E;id @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;) int save(Video video); 3&#x3001;&#x4FDD;&#x5B58;&#x4FDD;&#x5B58; &#x6280;&#x5DE7;&#xFF1A;&#x4FDD;&#x5B58;&#x5BF9;&#x8C61;&#xFF0C;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x81EA;&#x589E;id @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;) 4&#x3001;&#x6280;&#x5DE7;&#xFF1A; application.properties&#x589E;&#x52A0; &#x6570;&#x636E;&#x5E93;&#x5B57;&#x6BB5;&#x4E0B;&#x5212;&#x7EBF;&#x548C;Java&#x5B9E;&#x4F53;&#x7C7B;&#x6620;&#x5C04; # mybatis &#x4E0B;&#x5212;&#x7EBF;&#x8F6C;&#x9A7C;&#x5CF0;&#x914D;&#x7F6E;,&#x4E24;&#x8005;&#x90FD;&#x53EF;&#x4EE5; #mybatis.configuration.mapUnderscoreToCamelCase=true mybatis.configuration.map-underscore-to-camel-case=true 5&#x3001;&#x63A5;&#x53E3;&#x6D4B;&#x8BD5;: &#x5220;&#x9664;&#x4F7F;&#x7528;delete&#x63D0;&#x4EA4; &#x4FEE;&#x6539;&#x4F7F;&#x7528;put&#x63D0;&#x4EA4;&#x5728;Body&#x4E2D;&#x9009;&#x62E9;x-www-form-urlencode &#x6DFB;&#x52A0;&#x65F6;&#x4F7F;&#x7528;post&#x63D0;&#x4EA4;&#x5728;Body&#x4E2D;&#x9009;&#x62E9;x-www-form-urlencode&#x89C4;&#x8303;&#x63A5;&#x53E3;&#x666E;&#x901A;&#x7528;&#x6237;&#x5E94;&#x8BE5;&#x53EA;&#x6709;&#x67E5;&#x6743;&#x9650; &#x7BA1;&#x7406;&#x5458;&#x6709;&#x589E;&#x5220;&#x6539;&#x6743;&#x9650; &#x5220;&#x9664;&#x65F6;&#x5019;&#x53C2;&#x6570;&#x53EA;&#x9700;&#x8981;ID &#x4FEE;&#x6539;&#x548C;&#x589E;&#x52A0;&#x7684;&#x65F6;&#x5019;&#x53C2;&#x6570;&#x9700;&#x8981;&#x4E00;&#x4E2A;pojo &#x63A5;&#x53E3;&#x6D4B;&#x8BD5;: &#x6D4B;&#x8BD5;&#x4FEE;&#x6539;&#x548C;&#x4FDD;&#x5B58;&#x65F6;&#x5E94;&#x8BE5;&#x5728;Body&#x4E2D;&#x9009;&#x62E9;raw &#x63D0;&#x4EA4;JSON&#x683C;&#x5F0F;&#x7684;&#x6570;&#x636E;&#x52A8;&#x6001;Sql&#x8BED;&#x53E5;Mybaties SqlProvider1&#x3001; &#x5728;provider&#x5305;&#x4E2D;&#x5199;&#x597D;&#x4EE3;&#x7801; public String updateVideo(final Video video){ return new SQL(){{ UPDATE(&quot;video&quot;); //&#x6761;&#x4EF6;&#x5199;&#x6CD5;. if(video.getTitle()!=null){ SET(&quot;title=#{title}&quot;); } if(video.getSummary()!=null){ SET(&quot;summary=#{summary}&quot;); } if(video.getCoverImg()!=null){ SET(&quot;cover_img=#{coverImg}&quot;); } if(video.getViewNum()!=null){ SET(&quot;view_num=#{viewNum}&quot;); } if(video.getPrice()!=null){ SET(&quot;price=#{price}&quot;); } if(video.getOnline()!=null){ SET(&quot;online=#{online}&quot;); } if(video.getPoint()!=null){ SET(&quot;point=#{point}&quot;); } WHERE(&quot;id=#{id}&quot;); }}.toString(); } 2&#x3001;&#x5199;&#x6CD5; &#x5728;VideoMapper&#x4E2D;&#x4FEE;&#x6539;&#x597D;&#x6CE8;&#x89E3; @UpdateProvider(type = VideoProvider.class,method = &quot;updateVideo&quot;) 3&#x3001;&#x4F7F;&#x7528;postman&#x6D4B;&#x8BD5;&#x9009;&#x62E9;Body raw JSON &#x4F7F;&#x7528;JSON&#x6D4B;&#x8BD5; { &quot;id&quot;:10, &quot;summary&quot;:&quot;&#x52A8;&#x6001;&#x8BED;&#x53E5;&#x6D4B;&#x8BD5;&quot; }PageHelper&#x5206;&#x9875;&#x63D2;&#x4EF6;&#x4F7F;&#x7528;1&#x3001;&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;!--&#x5206;&#x9875;&#x63D2;&#x4EF6;--&gt; &lt;dependency&gt; &lt;groupId&gt;com.github.pagehelper&lt;/groupId&gt; &lt;artifactId&gt;pagehelper&lt;/artifactId&gt; &lt;version&gt;4.1.0&lt;/version&gt; &lt;/dependency&gt; 2&#x3001;&#x589E;&#x52A0;&#x914D;&#x7F6E;&#x6587;&#x4EF6; @Configuration public class MyBatisConfig { @Bean public PageHelper pageHelper(){ PageHelper pageHelper = new PageHelper(); Properties p = new Properties(); // &#x8BBE;&#x7F6E;&#x4E3A;true&#x65F6;&#xFF0C;&#x4F1A;&#x5C06;RowBounds&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;offset&#x5F53;&#x6210;pageNum&#x9875;&#x7801;&#x4F7F;&#x7528; p.setProperty(&quot;offsetAsPageNum&quot;,&quot;true&quot;); //&#x8BBE;&#x7F6E;&#x4E3A;true&#x65F6;&#xFF0C;&#x4F7F;&#x7528;RowBounds&#x5206;&#x9875;&#x4F1A;&#x8FDB;&#x884C;count&#x67E5;&#x8BE2; p.setProperty(&quot;rowBoundsWithCount&quot;,&quot;true&quot;); p.setProperty(&quot;reasonable&quot;,&quot;true&quot;); pageHelper.setProperties(p); return pageHelper; } } 3&#x3001;&#x5F00;&#x53D1;VideoController @GetMapping(&quot;page&quot;) public Object pageVideo(@RequestParam(value = &quot;page&quot;,defaultValue = &quot;1&quot;)int page, @RequestParam(value = &quot;size&quot;,defaultValue = &quot;10&quot;)int size){ PageHelper.startPage(page,size); List&lt;Video&gt; list = videoService.findAll(); PageInfo&lt;Video&gt; pageInfo = new PageInfo&lt;&gt;(list); Map&lt;String,Object&gt; data = new HashMap&lt;&gt;(); data.put(&quot;total_size&quot;,pageInfo.getTotal());//&#x603B;&#x6761;&#x6570; data.put(&quot;total_page&quot;,pageInfo.getPages());//&#x603B;&#x9875;&#x6570; data.put(&quot;current_page&quot;,page);//&#x5F53;&#x524D;&#x9875; data.put(&quot;data&quot;,pageInfo.getList());//&#x6570;&#x636E; return data; } 4&#x3001;&#x57FA;&#x672C;&#x539F;&#x7406; sqlsessionFactory -&gt; sqlSession-&gt; executor -&gt; mybatis sql statement &#x901A;&#x8FC7;mybatis plugin &#x589E;&#x52A0;&#x62E6;&#x622A;&#x5668;&#xFF0C;&#x7136;&#x540E;&#x62FC;&#x88C5;&#x5206;&#x9875; org.apache.ibatis.plugin.InterceptorJWT&#x5FAE;&#x670D;&#x52A1;&#x4E0B;&#x7684;&#x7528;&#x6237;&#x767B;&#x5F55;&#x6743;&#x9650;&#x6821;&#x9A8C;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;JWT? &#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x4E2D;session&#x5171;&#x4EAB; &#x771F;&#x5B9E;&#x7684;&#x5E94;&#x7528;&#x4E0D;&#x53EF;&#x80FD;&#x5355;&#x8282;&#x70B9;&#x90E8;&#x7F72;&#xFF0C;&#x6240;&#x4EE5;&#x5C31;&#x6709;&#x4E2A;&#x591A;&#x8282;&#x70B9;&#x767B;&#x5F55;session&#x5171;&#x4EAB;&#x7684;&#x95EE;&#x9898;&#x9700;&#x8981;&#x89E3;&#x51B3; 1&#xFF09;tomcat&#x652F;&#x6301;session&#x5171;&#x4EAB;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x5E7F;&#x64AD;&#x98CE;&#x66B4;&#xFF1B;&#x7528;&#x6237;&#x91CF;&#x5927;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5360;&#x7528;&#x8D44;&#x6E90;&#x5C31;&#x4E25;&#x91CD;&#xFF0C;&#x4E0D;&#x63A8;&#x8350; 2&#xFF09;&#x4F7F;&#x7528;redis&#x5B58;&#x50A8;token: &#x670D;&#x52A1;&#x7AEF;&#x4F7F;&#x7528;UUID&#x751F;&#x6210;&#x968F;&#x673A;64&#x4F4D;&#x6216;&#x8005;128&#x4F4D;token&#xFF0C;&#x653E;&#x5165;redis&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;&#x5E76;&#x5B58;&#x50A8;&#x5728;cookie&#x4E2D; &#x7528;&#x6237;&#x6BCF;&#x6B21;&#x8BBF;&#x95EE;&#x90FD;&#x643A;&#x5E26;&#x6B64;token&#xFF0C;&#x670D;&#x52A1;&#x7AEF;&#x53BB;redis&#x4E2D;&#x6821;&#x9A8C;&#x662F;&#x5426;&#x6709;&#x6B64;&#x7528;&#x6237;&#x5373;&#x53EF; &#x8FD9;&#x6837;&#x538B;&#x529B;&#x8FD8;&#x662F;&#x5728;&#x670D;&#x52A1;&#x7AEF; 1&#x3001;JWT &#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x653E;&#x6807;&#x51C6;&#xFF0C;&#x5B83;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x7B80;&#x6D01;&#xFF0C;&#x81EA;&#x5305;&#x542B;&#x7684;&#x7528;&#x4E8E;&#x901A;&#x4FE1;&#x53CC;&#x65B9;&#x4E4B;&#x95F4;&#x4EE5; JSON &#x5BF9;&#x8C61;&#x7684;&#x5F62;&#x5F0F;&#x5B89;&#x5168;&#x4F20;&#x9012;&#x4FE1;&#x606F;&#x7684;&#x65B9;&#x6CD5;&#x3002; JWT &#x53EF;&#x4EE5;&#x4F7F;&#x7528; HMAC &#x7B97;&#x6CD5;&#x6216;&#x8005;&#x662F; RSA &#x7684;&#x516C;&#x94A5;&#x5BC6;&#x94A5;&#x5BF9;&#x8FDB;&#x884C;&#x7B7E;&#x540D; &#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x901A;&#x8FC7;&#x4E00;&#x5B9A;&#x89C4;&#x8303;&#x6765;&#x751F;&#x6210;token&#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x89E3;&#x5BC6;&#x7B97;&#x6CD5;&#x9006;&#x5411;&#x89E3;&#x5BC6;token&#xFF0C;&#x8FD9;&#x6837;&#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x7528;&#x6237;&#x4FE1;&#x606F; { id:888, name:&apos;&#x6635;&#x79F0;&apos;, expire:10000 } funtion &#x52A0;&#x5BC6;(object, appsecret){ xxxx return base64( token); } function &#x89E3;&#x5BC6;(token ,appsecret){ xxxx //&#x6210;&#x529F;&#x8FD4;&#x56DE;true,&#x5931;&#x8D25;&#x8FD4;&#x56DE;false } &#x4F18;&#x70B9;&#xFF1A; 1&#xFF09;&#x751F;&#x4EA7;&#x7684;token&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x6BD4;&#x5982;id&#x3001;&#x7528;&#x6237;&#x6635;&#x79F0;&#x3001;&#x5934;&#x50CF;&#x7B49;&#x4FE1;&#x606F;&#xFF0C;&#x907F;&#x514D;&#x518D;&#x6B21;&#x67E5;&#x5E93; 2&#xFF09;&#x5B58;&#x50A8;&#x5728;&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4E0D;&#x5360;&#x7528;&#x670D;&#x52A1;&#x7AEF;&#x7684;&#x5185;&#x5B58;&#x8D44;&#x6E90; &#x7F3A;&#x70B9;&#xFF1A; token&#x662F;&#x7ECF;&#x8FC7;base64&#x7F16;&#x7801;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x89E3;&#x7801;&#xFF0C;&#x56E0;&#x6B64;token&#x52A0;&#x5BC6;&#x524D;&#x7684;&#x5BF9;&#x8C61;&#x4E0D;&#x5E94;&#x8BE5;&#x5305;&#x542B;&#x654F;&#x611F;&#x4FE1;&#x606F; &#x5982;&#x7528;&#x6237;&#x6743;&#x9650;&#xFF0C;&#x5BC6;&#x7801;&#x7B49; 2&#x3001;JWT&#x683C;&#x5F0F;&#x7EC4;&#x6210; &#x5934;&#x90E8;&#x3001;&#x8D1F;&#x8F7D;&#x3001;&#x7B7E;&#x540D; header+payload+signature &#x5934;&#x90E8;&#xFF1A;&#x4E3B;&#x8981;&#x662F;&#x63CF;&#x8FF0;&#x7B7E;&#x540D;&#x7B97;&#x6CD5; &#x8D1F;&#x8F7D;&#xFF1A;&#x4E3B;&#x8981;&#x63CF;&#x8FF0;&#x662F;&#x52A0;&#x5BC6;&#x5BF9;&#x8C61;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x5982;&#x7528;&#x6237;&#x7684;id&#x7B49;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x52A0;&#x4E9B;&#x89C4;&#x8303;&#x91CC;&#x9762;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x5982;iss&#x7B7E;&#x53D1;&#x8005;&#xFF0C;exp &#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;sub &#x9762;&#x5411;&#x7684;&#x7528;&#x6237; &#x7B7E;&#x540D;&#xFF1A;&#x4E3B;&#x8981;&#x662F;&#x628A;&#x524D;&#x9762;&#x4E24;&#x90E8;&#x5206;&#x8FDB;&#x884C;&#x52A0;&#x5BC6;&#xFF0C;&#x9632;&#x6B62;&#x522B;&#x4EBA;&#x62FF;&#x5230;token&#x8FDB;&#x884C;base&#x89E3;&#x5BC6;&#x540E;&#x7BE1;&#x6539;token(&#x4F8B;&#x5982;&#x5C06;&#x5B58;&#x6D3B;&#x65F6;&#x95F4;&#x4FEE;&#x6539;&#x4E3A;&#x5F88;&#x4E45;&#x8FD9;&#x65F6;&#x5019;&#x4F60;&#x53BB;&#x5229;&#x7528;header+payload&#x7B97;&#x51FA;&#x6765;&#x7684;&#x503C;&#x5C31;&#x4E0D;&#x662F;signature&#x4E86;) 3&#x3001;&#x5173;&#x4E8E;jwt&#x5BA2;&#x6237;&#x7AEF;&#x5B58;&#x50A8; &#x53EF;&#x4EE5;&#x5B58;&#x50A8;&#x5728;cookie&#xFF0C;localstorage&#x548C;sessionStorage&#x91CC;&#x9762; 1&#x3001;&#x52A0;&#x5165;&#x76F8;&#x5173;&#x4F9D;&#x8D56; &lt;!-- JWT&#x76F8;&#x5173; --&gt; &lt;dependency&gt; &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt; &lt;artifactId&gt;jjwt&lt;/artifactId&gt; &lt;version&gt;0.7.0&lt;/version&gt; &lt;/dependency&gt; 2&#x3001;&#x5F00;&#x53D1;&#x751F;&#x4EA7;token&#x65B9;&#x6CD5; public static final String SUBJECT = &quot;subjectdemo&quot;; public static final long EXPIRE = 1000*60*60*24*7; //&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF0C;&#x6BEB;&#x79D2;&#xFF0C;&#x4E00;&#x5468; //&#x79D8;&#x94A5; public static final String APPSECRET = &quot;miyaodemo&quot;; /** * &#x751F;&#x6210;jwt * @param user * @return */ public static String geneJsonWebToken(User user){ if(user == null || user.getId() == null || user.getName() == null || user.getHeadImg()==null){ return null; } String token = Jwts.builder().setSubject(SUBJECT) .claim(&quot;id&quot;,user.getId()) .claim(&quot;name&quot;,user.getName()) .claim(&quot;img&quot;,user.getHeadImg()) .setIssuedAt(new Date()) .setExpiration(new Date(System.currentTimeMillis()+EXPIRE)) .signWith(SignatureAlgorithm.HS256,APPSECRET).compact(); return token; } 3&#x3001;&#x5F00;&#x53D1;&#x68C0;&#x9A8C;token&#x65B9;&#x6CD5; /** * &#x6821;&#x9A8C;token * @param token * @return */ public static Claims checkJWT(String token ){ try{ final Claims claims = Jwts.parser().setSigningKey(APPSECRET). parseClaimsJws(token).getBody(); return claims; }catch (Exception e){ //&#x6253;&#x5370;&#x65E5;&#x5FD7; } return null; } &#x5FAE;&#x4FE1;&#x6388;&#x6743;&#x4E00;&#x952E;&#x767B;&#x5F55;&#x529F;&#x80FD;&#x524D;&#x671F;&#x51C6;&#x5907; &#x5FAE;&#x4FE1;&#x5F00;&#x653E;&#x5E73;&#x53F0;&#x4ECB;&#x7ECD;&#xFF08;&#x7533;&#x8BF7;&#x91CC;&#x9762;&#x7684;&#x7F51;&#x7AD9;&#x5E94;&#x7528;&#x9700;&#x8981;&#x4F01;&#x4E1A;&#x8D44;&#x6599;&#xFF09; &#x7F51;&#x7AD9;:https://open.weixin.qq.com/ &#x83B7;&#x53D6;&#x817E;&#x8BAF;&#x7ED9;&#x5F00;&#x53D1;&#x8005;&#x7684;appid&#x548C;appsecret &#x5F00;&#x53D1;&#x8005;&#x9700;&#x8981;&#x7ED9;&#x817E;&#x8BAF;&#x90A3;&#x8FB9;&#x4E00;&#x4E2A;&#x6388;&#x6743;&#x56DE;&#x8C03;&#x57DF;&#x540D;,&#x5C31;&#x662F;&#x7528;&#x6237;&#x767B;&#x9646;&#x6210;&#x529F;&#x4EE5;&#x540E;&#x8981;&#x8DF3;&#x8F6C;&#x5230;&#x54EA;&#x4E2A;URL &#x7528;&#x6237;&#x626B;&#x5B8C;&#x4E8C;&#x7EF4;&#x7801;&#x70B9;&#x51FB;&#x786E;&#x8BA4;&#x4EE5;&#x540E;,&#x5FAE;&#x4FE1;&#x5F00;&#x53D1;&#x5E73;&#x53F0;&#x4F1A;&#x8FD4;&#x56DE;&#x7ED9;&#x5F00;&#x53D1;&#x8005;&#x4E00;&#x4E2A;code&#x6388;&#x6743;&#x7801; &#x5F00;&#x53D1;&#x8005;&#x62FF;&#x7740;appid appsecret&#x548C;code&#x6388;&#x6743;&#x7801;&#x53BB;&#x5FAE;&#x4FE1;&#x6362;&#x53D6;access_token &#x83B7;&#x53D6;&#x4E8C;&#x7EF4;&#x7801; 1.&#x589E;&#x52A0;&#x7ED3;&#x679C;&#x5DE5;&#x5177;&#x7C7B;&#xFF0C;JsonData; 2.&#x5728;application.properties &#x589E;&#x52A0;appid appsecret redirect_url&#x7684;&#x914D;&#x7F6E; 3.&#x6DFB;&#x52A0;WeChatConfig 4.&#x6DFB;&#x52A0;WechatController&#x4F7F;&#x7528;httpClient 1.&#x52A0;&#x5165;httpClient&#x7684;&#x4F9D;&#x8D56; 2.&#x5C01;&#x88C5;httpclient&#x5DE5;&#x5177;&#x7C7B; 3.&#x4F7F;&#x7528;&#x5185;&#x7F51;&#x7A7F;&#x900F;&#x8F6F;&#x4EF6; &#x5C06;&#x81EA;&#x5DF1;&#x7684;&#x7269;&#x7406;&#x673A;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x57DF;&#x540D;&#x90E8;&#x7F72;&#x5230;&#x5916;&#x7F51;,&#x8FD9;&#x4E2A;&#x57DF;&#x540D;&#x9700;&#x8981;&#x548C;&#x4F60;&#x5728;&#x5FAE;&#x4FE1;&#x5F00;&#x653E;&#x5E73;&#x53F0;&#x7533;&#x8BF7;&#x7684;&#x6388;&#x6743;&#x56DE;&#x8C03;&#x57DF;&#x540D;&#x76F8;&#x540C;,&#x5FAE;&#x4FE1;&#x670D;&#x52A1;&#x5668;&#x9700;&#x8981;&#x54CD;&#x5E94;&#x5230;&#x4F60;&#x5728;&#x5FAE;&#x4FE1;&#x5F00;&#x53D1;&#x5E73;&#x53F0;&#x7533;&#x8BF7;&#x7684;&#x6388;&#x6743;&#x56DE;&#x8C03;&#x57DF;&#x540D; 4.&#x518D;&#x6B21;&#x6DFB;&#x52A0;&#x56DE;&#x8C03;&#x7684;&#x8DEF;&#x7531;WechatController 5.&#x63A5;&#x6536;&#x5FAE;&#x4FE1;&#x90A3;&#x8FB9;&#x4F20;&#x8FC7;&#x6765;&#x7684;&#x6388;&#x6743;&#x7801;code 6.&#x628A;&#x6388;&#x6743;&#x7801;code+appid+appsecret&#x4EA4;&#x7ED9;&#x817E;&#x8BAF;&#x90A3;&#x8FB9; 7.&#x817E;&#x8BAF;&#x90A3;&#x8FB9;&#x8FD4;&#x56DE;&#x7ED9;&#x6211;&#x4EEC;&#x4E00;&#x4E2A; { &quot;access_token&quot;:&quot;ACCESS_TOKEN&quot;, &quot;expires_in&quot;:7200, &quot;refresh_token&quot;:&quot;REFRESH_TOKEN&quot;, &quot;openid&quot;:&quot;OPENID&quot;, &quot;scope&quot;:&quot;SCOPE&quot;, &quot;unionid&quot;: &quot;o6_bmasdasdsad6_2sgVt7hMZOPfL&quot; } 8.&#x901A;&#x8FC7;&#x8FD9;&#x4E2A;&#x83B7;&#x5F97;&#x7684;token&#x548C;openid&#x53BB;&#x8BF7;&#x6C42;&#x817E;&#x8BAF;&#x90A3;&#x8FB9;&#x7684;&#x670D;&#x52A1;&#x5668;,&#x670D;&#x52A1;&#x5668;&#x4F1A;&#x8FD4;&#x56DE;&#x7ED9;&#x6211;&#x4EEC;&#x7528;&#x6237;&#x4FE1;&#x606F; { &quot;openid&quot;:&quot;OPENID&quot;, &quot;nickname&quot;:&quot;NICKNAME&quot;, &quot;sex&quot;:1, &quot;province&quot;:&quot;PROVINCE&quot;, &quot;city&quot;:&quot;CITY&quot;, &quot;country&quot;:&quot;COUNTRY&quot;, &quot;headimgurl&quot;: &quot;http://wx.qlogo.cn/mmopen/g3MonUZtNHkdmzicIlibx6iaFqAc56vxLSUfpb6n5WKSYVY0ChQKkiaJSgQ1dZuTOgvLLrhJbERQQ4eMsv84eavHiaiceqxibJxCfHe/0&quot;, &quot;privilege&quot;:[ &quot;PRIVILEGE1&quot;, &quot;PRIVILEGE2&quot; ], &quot;unionid&quot;: &quot; o6_bmasdasdsad6_2sgVt7hMZOPfL&quot; } 9.&#x5C01;&#x88C5;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x5C06;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x5B58;&#x5165;&#x6570;&#x636E;&#x5E93; 10.&#x5B58;&#x5165;&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x540E;&#x4F7F;&#x7528;jwt&#x5C06;token&#x4EA4;&#x7ED9;&#x524D;&#x53F0;&#x5F00;&#x53D1;&#x62E6;&#x622A;&#x5668; &#x8BA9;&#x67D0;&#x4E9B;&#x8DEF;&#x7531;&#x6CA1;&#x6709;token&#x4E0D;&#x80FD;&#x8BBF;&#x95EE; 1.&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B;LoginIntercepter &#x5B9E;&#x73B0;HandlerInterceptor &#x91CD;&#x5199;preHandle&#x65B9;&#x6CD5; 2.&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B;IntercepterConfig &#x5B9E;&#x73B0;WebMvcConfigurer &#x4F5C;&#x4E3A;LoginIntercepter&#x7684;&#x914D;&#x7F6E; 3.&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x63A5;&#x53E3;OrderController &#x63A5;&#x53E3;&#x7684;&#x8DEF;&#x7531;&#x8981;&#x5728;&#x62E6;&#x622A;&#x5668;&#x7684;&#x914D;&#x7F6E;&#x91CC;&#x9762;&#x5FAE;&#x4FE1;&#x626B;&#x4E00;&#x626B;&#x7F51;&#x9875;&#x652F;&#x4ED8; 1&#x3001;&#x65F6;&#x5E8F;&#x56FE;&#x5730;&#x5740;&#xFF1A;https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=6_5 2&#x3001;&#x5F00;&#x53D1;videoOrder&#x63A5;&#x53E3; 3&#x3001;&#x5C01;&#x88C5;&#x5E38;&#x7528;&#x5DE5;&#x5177;&#x7C7B;CommonUtils&#x548C;WXpayUtils 4&#x3001;&#x5F00;&#x53D1;controller&#xFF0C;&#x5F00;&#x53D1;&#x671F;&#x95F4;&#x4E0D;&#x52A0;&#x5165;&#x62E6;&#x622A;&#x5668;&#x767B;&#x5F55;&#x6821;&#x9A8C; 5&#x3001;iputils&#x5DE5;&#x5177;&#x7C7B;&#x4ECB;&#x7ECD; 6&#x3001;&#x52A0;&#x5165;&#x5FAE;&#x4FE1;&#x652F;&#x4ED8;&#x914D;&#x7F6E; #&#x5FAE;&#x4FE1;&#x5546;&#x6237;&#x5E73;&#x53F0; wxpay.mer_id=1503808832 wxpay.key=xdclasss20182018xdclass2018x018d wxpay.callback=16web.tunnel.qydev.com/pub/api/v1/wechat/order/callback1 7&#x3001;&#x5F00;&#x53D1;&#x5FAE;&#x4FE1;&#x4ED6;&#x4E00;&#x4E0B;&#x5355;&#x63A5;&#x53E3; post&#x63D0;&#x4EA4; &#x9700;&#x8981;&#x5E26;&#x4E00;&#x7CFB;&#x5217;&#x53C2;&#x6570; 8&#x3001;&#x8C37;&#x6B4C;&#x4E8C;&#x7EF4;&#x7801;&#x5DE5;&#x5177;&#x751F;&#x6210;&#x626B;&#x4E00;&#x626B;&#x652F;&#x4ED8;&#x4E8C;&#x7EF4;&#x7801;&#x5E42;&#x7B49;&#x6027;: &#x540C;&#x6837;&#x7684;&#x53C2;&#x6570;&#x548C;&#x503C;&#xFF0C;&#x4E0D;&#x7BA1;&#x8C03;&#x7528;&#x4F60;&#x7684;&#x63A5;&#x53E3;&#x591A;&#x5C11;&#x6B21;&#xFF0C;&#x54CD;&#x5E94;&#x7ED3;&#x679C;&#x90FD;&#x548C;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#x662F;&#x4E00;&#x6837;&#x7684; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>springboot</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Android SDK环境搭建]]></title>
    <url>%2Fan-zhuo-ni-xiang%2F2019%2F03%2F09%2Fan-zhuo-sdk-huan-jing-da-jian.html</url>
    <content type="text"><![CDATA[&#x5B98;&#x7F51;&#xFF08;&#x53EF;&#x7FFB;&#x5899;&#x9009;&#x62E9;&#xFF09;&#xFF1A;http://developer.android.com/sdk/index.html &#x4E0D;&#x53EF;&#x7FFB;&#x5899;&#x9009;&#x62E9;&#xFF1A;http://www.androiddevtools.cn/ &#xFF08;&#x4E0B;&#x9762;&#x4EE5;&#x7B2C;&#x4E8C;&#x79CD;&#x65B9;&#x6CD5;&#x4E3A;&#x4F8B;&#x8FDB;&#x884C;&#x4E0B;&#x8F7D;&#xFF09; 1&#x3001;&#x4E0B;&#x8F7D;Android SDK Tools &#x5148;&#x627E;&#x5230;SDK Tools,&#x4E0B;&#x8F7D;&#x6700;&#x65B0;&#x7684;&#x7248;&#x672C;&#x5373;&#x53EF;&#x3002;&#x9009;&#x62E9;zip&#x7684;&#xFF0C;&#x89E3;&#x538B;&#x7F29;&#x81F3;&#x76EE;&#x6807;&#x8DEF;&#x5F84;&#x4F4D;&#x7F6E;&#x5373;&#x53EF; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>安卓逆向</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[安卓逆向环境搭建]]></title>
    <url>%2Fan-zhuo-ni-xiang%2F2019%2F03%2F09%2Fan-zhuo-ni-xiang-huan-jing-da-jian.html</url>
    <content type="text"><![CDATA[adb&#x73AF;&#x5883;&#x642D;&#x5EFA;https://github.com/mambamentality8/Android-reverse &#x4E0B;&#x8F7D;adb-setup-1.3.exe &#x4E00;&#x952E;&#x5B89;&#x5353;adb&#x73AF;&#x5883; &#x5B89;&#x88C5;&#x5B8C;&#x6210;&#x4EE5;&#x540E;,&#x5728;cmd&#x4E2D;&#x8F93;&#x5165;adb&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; Xposed&#x5B89;&#x88C5; &#x5728;&#x5E94;&#x7528;&#x5546;&#x5E97;&#x641C;&#x7D22;&#x4E0B;&#x8F7D;Xposed &#x70B9;&#x51FB;&#x7248;&#x672C;&#x53F7; &#x70B9;&#x51FB;install,&#x51FA;&#x73B0; &#x5B8C;&#x6210;!&#x66F4;&#x6539;&#x8BBE;&#x5907;&#x91CD;&#x542F;&#x540E;&#x751F;&#x6548; &#x70B9;&#x51FB;&#x91CD;&#x542F;&#x8BBE;&#x5907; Inspeckage&#x5B89;&#x88C5;(RSA&#x548C;AES&#x7CFB;&#x5217;&#x901A;&#x6740;) &#x5B89;&#x88C5;Inspeckage&#x63D2;&#x4EF6; &#x5728;Xposed&#x83DC;&#x5355;&#x680F;&#x6A21;&#x5757;&#x5904;&#x52FE;&#x9009;Inspeckage &#x6253;&#x5F00;Inspeckage&#x5982;&#x679C;&#x4E0D;&#x62A5;&#x7EA2;&#x8BC1;&#x660E;&#x5B89;&#x88C5;&#x6210;&#x529F; &#x6253;&#x5F00;Only user app &#x5728;choose target&#x4E2D;&#x9009;&#x62E9;&#x8981;&#x901A;&#x6740;&#x7684;APP &#x9009;&#x62E9;&#x6210;&#x529F;&#x4E4B;&#x540E;&#x4F1A;&#x5728;Started on:&#x4E2D;&#x51FA;&#x73B0;&#x4E24;&#x4E2A;&#x5730;&#x5740; &#x6253;&#x5F00;cmd&#x8F93;&#x5165;: adb forward tcp:8008 tcp:8008 (&#x524D;&#x63D0;&#x8981;&#x6709;adb&#x7684;&#x73AF;&#x5883;) &#x5982;&#x679C;&#x51FA;&#x73B0;device not found &#x9700;&#x8981;&#x91CD;&#x542F;&#x96F7;&#x7535;&#x6A21;&#x62DF;&#x5668; &#x518D;&#x6B21;&#x8F93;&#x5165;&#x547D; &#x6253;&#x5F00;127.0.0.1:8008 &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x8BBE;&#x7F6E;&#x4E2D; &#x91CD;&#x542F; &#x5173;&#x95ED; &#x5F00;&#x542F;APP &#x9875;&#x9762;&#x4E0A;&#x6709;&#x4E00;&#x4E2A;APP is running &#x53EF;&#x4EE5;&#x68C0;&#x6D4B;&#x8F6F;&#x4EF6;&#x7684;&#x542F;&#x52A8;&#x72B6;&#x6001; &#x5F00;&#x542F;&#x8F6F;&#x4EF6;&#x5C06;OFF&#x6253;&#x5F00;&#x4E3A;ON &#x6211;&#x4EEC;&#x9700;&#x8981;&#x5173;&#x6CE8;&#x7684;&#x754C;&#x9762;&#x662F;Crypto &#x793A;&#x4F8B;RSA: Cipher[RSA/ECB/PKCS1Padding] (123456786833 , Kxzme6bxVK1VbFXHiHo486Pl31ZTP/UHLAD42N51da5Ys6idOG2db457x7A/XrYEDjUqU/67S4/Hi4R7WwrUKi zJc78vf7hSyyXHoDdqsXv5+ljphPLpoxTPnmCXhmCkgkdrsBQqpwBktmZqTXkdpy0f02GkAB1G+umQoCdyQl8=)&#x9ED8;&#x8BA4;&#x516C;&#x94A5; -----BEGIN PUBLIC KEY----- MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCh5Nk2GLiyQFMIU+h3OEA4UeFb u3dCH5sjd/sLTxxvwjXq7JLqJbt2rCIdzpAXOi4jL+FRGQnHaxUlHUBZsojnCcHv hrz2knV6rXNogt0emL7f7ZMRo8IsQGV8mlKIC9xLnlOQQdRNUssmrROrCG99wpTR RNZjOmLvkcoXdeuaCQIDAQAB -----END PUBLIC KEY----- &#x793A;&#x4F8B;AES: SecretKeySpec(30212102dicudiab,AES) , Cipher[AES/CBC/PKCS5Padding] IV: 30212102dicudiab (A0+YrbOkcgQ3AvJvlF+53ITM8HesZ4rQjjJx/0GK1th9p VAt+82mRhwejEiK3B+FDXDqMBaVLXmdE3RquPP0cxeXssYEx6O9FwY35GKJGbwYv/OpuAuzgF6V/3ETHQlA , {&quot;deviceid&quot;:&quot;69B7FF5089FEEBAE80B026D50AAC90D3&quot;,&quot;imei&quot;:&quot;865166027641417&quot;,&quot;ver&quot;:2})&#x660E;&#x6587; : {&quot;deviceid&quot;:&quot;69B7FF5089FEEBAE80B026D50AAC90D3&quot;,&quot;imei&quot;:&quot;865166027641417&quot;,&quot;ver&quot;:2}&#x5BC6;&#x6587; : A0+YrbOkcgQ3AvJvlF+53ITM8HesZ4rQjjJx/0GK1th9pVAt+82mRhwejEiK3B+FDXDqMBaVLXmdE3RquPP0cxeXssYEx6O9FwY35GKJGbwYv/OpuAuzgF6V/3ETHQlA&#x5047;&#x5982;&#x8BF4;&#x4F60;&#x62FF;&#x5230;&#x7684;&#x5BC6;&#x6587;&#x89E3;&#x4E0D;&#x51FA;&#x6765;,&#x8981;&#x53BB;&#x6389;&#x591A;&#x4F59;&#x7684;&#x4E1C;&#x897F;!!! Axhc&#x5B89;&#x88C5;(&#x54C8;&#x5E0C;&#x7CFB;&#x5217;&#x901A;&#x6740; )https://github.com/mambamentality8/Android-reverse &#x4E0B;&#x8F7D;Axhc &#x5B89;&#x5353;&#x5728;&#x96F7;&#x7535;&#x6A21;&#x62DF;&#x5668;&#x4E2D; &#x5728;Xposed Install&#x4E2D;&#x52FE;&#x9009;&#x4E0A;Axhc&#x5B89;&#x5353;&#x9006;&#x5411;&#x7B97;&#x6CD5;&#x52A9;&#x624B; &#x91CD;&#x542F;&#x6A21;&#x62DF;&#x5668; &#x5728;&#x67E5;&#x58F3;&#x5C0F;&#x516C;&#x4E3E;&#x4E2D;&#x62C9;&#x5165;&#x8981;&#x901A;&#x6740;&#x7684;&#x65F6;&#x5206;APK &#x70B9;&#x51FB;&#x7B7E;&#x540D;HOOK &#x5982;&#x679C;&#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x4FE1;&#x606F; error:devicenotfounnd&#x7684;&#x8BDD;.&#x9700;&#x8981;&#x91CD;&#x542F;&#x6A21;&#x62DF;&#x5668; &#x5C06;&#x65F6;&#x5206;apk&#x62C9;&#x5165;&#x8FDB;&#x6A21;&#x62DF;&#x5668; &#x6253;&#x5F00;adt-bundle-windows-x86&#x7684;&#x76D1;&#x63A7;&#x5DE5;&#x5177; &#x5982;&#x679C;&#x51FA;&#x73B0;Adb connection Error:&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;&#x5F3A;&#x8FEB;&#x5173;&#x95ED;&#x4E86;&#x4E00;&#x4E2A;&#x73B0;&#x6709;&#x7684;&#x8FDE;&#x63A5;,&#x539F;&#x56E0;&#x662F;&#x76D1;&#x63A7;&#x5668;&#x7684;&#x7248;&#x672C;&#x548C;&#x6A21;&#x62DF;&#x5668;&#x4E0D;&#x517C;&#x5BB9;.&#x9700;&#x8981;&#x4FDD;&#x6301;adt-bundle-windows-x86&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x7684;adb.exe&#x548C;&#x6A21;&#x62DF;&#x5668;&#x4E2D;&#x7684;adb.exe&#x7248;&#x672C;&#x4E00;&#x6837;.&#x4E00;&#x822C;&#x53EA;&#x9700;&#x8981;&#x5C06;&#x6A21;&#x62DF;&#x5668;&#x4E2D;&#x7684;adb.exe&#x590D;&#x5236;&#x5230;adt-bundle-windows-x86&#x7684;&#x5B50;&#x76EE;&#x5F55;&#x4E2D;&#x5C31;&#x53EF;&#x4EE5;. &#x5728;LogCat&#x9762;&#x677F;&#x4E2D;&#x70B9;&#x51FB;&#x52A0;&#x53F7; Filter Name&#x4E2D;&#x586B;&#x5199;AXHC by Log Tag&#x4E2D;&#x586B;&#x5199;Xposed &#x70B9;&#x51FB;OK&#x5373;&#x53EF; &#x5C06;&#x767B;&#x9646;&#x7684;&#x6570;&#x636E;&#x5305;&#x5168;&#x90E8;&#x590D;&#x5236;&#x4E0B;&#x6765; &#x5728;&#x7A7A;&#x767D;&#x5904;&#x70B9;&#x51FB;&#x53F3;&#x952E;&#x6253;&#x5F00;&#x89E3;&#x7801;&#x5C0F;&#x516C;&#x4E3E; &#x5C06;&#x521A;&#x624D;&#x590D;&#x5236;&#x7684;&#x6570;&#x636E;&#x5305;&#x6254;&#x8FDB;&#x8F6F;&#x4EF6;&#x4E2D; &#x5C31;&#x53EF;&#x4EE5;&#x68C0;&#x6D4B;&#x5230;&#x6211;&#x4EEC;&#x7684;&#x539F;&#x59CB;&#x6570;&#x636E;&#x4EE5;&#x53CA;&#x89E3;&#x7801;&#x6570;&#x636E; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>安卓逆向</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[python基础]]></title>
    <url>%2Fpython%2F2019%2F03%2F09%2Fji-suan-ji-zu-cheng-yuan-li-he-python-ji-chu-yu-fa-zhi-shi.html</url>
    <content type="text"><![CDATA[&#x8BA1;&#x7B97;&#x673A;&#x7EC4;&#x6210;&#x539F;&#x7406;&#x548C;Python&#x57FA;&#x7840;&#x8BED;&#x6CD5;&#x77E5;&#x8BC6;(&#x4E00;)&#x7B14;&#x8BB0;&#x5927;&#x7EB2;: &#x8BA1;&#x7B97;&#x673A;&#x6709;&#x54EA;&#x4E24;&#x90E8;&#x5206;&#x7EC4;&#x6210; &#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F5C;&#x7528; &#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x7684;&#x4F5C;&#x7528; &#x89E3;&#x91CA;&#x5668;&#x7684;&#x4F5C;&#x7528; Python&#x89E3;&#x91CA;&#x5668;&#x79CD;&#x7C7B; &#x76EE;&#x524D;Python&#x4E3B;&#x6D41;&#x7684;&#x4E24;&#x5927;&#x7248;&#x672C;&#x662F;&#x54EA;&#x4E9B; &#x5728;&#x4E0D;&#x540C;&#x7CFB;&#x7EDF;&#x4E0A;&#x642D;&#x5EFA;Python&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x7684;&#x6D41;&#x7A0B; &#x77E5;&#x9053;Python&#x8BED;&#x8A00;&#x5386;&#x53F2;&#x3001;&#x4F18;&#x7F3A;&#x70B9;&#x3001;&#x5E94;&#x7528;&#x9886;&#x57DF; 1.1&#x8BA1;&#x7B97;&#x673A;&#x7EC4;&#x6210;&#x4EC0;&#x4E48;&#x662F;&#x8BA1;&#x7B97;&#x673A;&#xFF1F;&#x8BA1;&#x7B97;&#x673A;&#xFF08;computer&#xFF09;&#x4FD7;&#x79F0;&#x7535;&#x8111;&#xFF0C;&#x662F;&#x73B0;&#x4EE3;&#x4E00;&#x79CD;&#x7528;&#x4E8E;&#x9AD8;&#x901F;&#x8BA1;&#x7B97;&#x7684;&#x7535;&#x5B50;&#x673A;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6570;&#x503C;&#x8BA1;&#x7B97;&#xFF0C;&#x53C8;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x903B;&#x8F91;&#x5224;&#x65AD;&#xFF0C;&#x8FD8;&#x5177;&#x6709;&#x5B58;&#x50A8;&#x8BB0;&#x5FC6;&#x529F;&#x80FD;&#xFF0C;&#x4E14;&#x80FD;&#x591F;&#x6309;&#x7167;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#xFF0C;&#x81EA;&#x52A8;&#x3001;&#x9AD8;&#x901F;&#x5904;&#x7406;&#x6570;&#x636E;&#x3002;&#x8BA1;&#x7B97;&#x673A;&#x662F;20&#x4E16;&#x7EAA;&#x6700;&#x5148;&#x8FDB;&#x7684;&#x79D1;&#x5B66;&#x6280;&#x672F;&#x53D1;&#x660E;&#x4E4B;&#x4E00;&#x3002; &#x8BA1;&#x7B97;&#x673A;&#x662F;&#x7531;&#x4EC0;&#x4E48;&#x7EC4;&#x6210;&#x7684;&#xFF1F;&#x4E00;&#x4E2A;&#x5B8C;&#x6574;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#xFF0C;&#x662F;&#x7531;&#x786C;&#x4EF6;&#x7CFB;&#x7EDF;&#x548C;&#x8F6F;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E24;&#x5927;&#x90E8;&#x5206;&#x7EC4;&#x6210;&#x7684;&#x3002; 1. &#x786C;&#x4EF6;&#x7CFB;&#x7EDF;&#x4E3B;&#x8981;&#x5206;&#x4E3A;&#x4E3B;&#x673A;&#x548C;&#x5916;&#x8BBE;&#x4E24;&#x90E8;&#x5206;&#xFF0C;&#x662F;&#x6307;&#x90A3;&#x4E9B;&#x6784;&#x6210;&#x8BA1;&#x7B97;&#x673A;&#x7CFB;&#x7EDF;&#x7684;&#x7269;&#x7406;&#x5B9E;&#x4F53;&#xFF0C;&#x5B83;&#x4EEC;&#x4E3B;&#x8981;&#x7531;&#x5404;&#x79CD;&#x5404;&#x6837;&#x7684;&#x7535;&#x5B50;&#x5668;&#x4EF6;&#x548C;&#x673A;&#x7535;&#x88C5;&#x7F6E;&#x7EC4;&#x6210;&#x3002;&#x4ECE;ENIAC(&#x4E16;&#x754C;&#x4E0A;&#x7B2C;&#x4E00;&#x53F0;&#x8BA1;&#x7B97;&#x673A;)&#x5230;&#x5F53;&#x524D;&#x6700;&#x5148;&#x8FDB;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#xFF0C;&#x786C;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x8BBE;&#x8BA1;&#x91C7;&#x7528;&#x7684;&#x90FD;&#x662F; *&#x51AF;&#xB7;&#x8BFA;&#x4F9D;&#x66FC;&#x4F53;&#x7CFB;&#x7ED3;&#x6784;&#x3002; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[springboot]]></title>
    <url>%2Fspringboot%2F2019%2F03%2F09%2Fspringboot.html</url>
    <content type="text"><![CDATA[springboot&#x5B98;&#x65B9;&#x6587;&#x6863;:https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/reference/htmlsingle/What is springboot?Spring Boot makes it easy to create stand-alone, production-grade Spring based Applications that you can &quot;just run&quot;. We take an opinionated view of the Spring platform and third-party libraries so you can get started with minimum fuss. Most Spring Boot applications need very little Spring configuration. Spring Boot&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x521B;&#x5EFA;&#x72EC;&#x7ACB;&#x7684;&#xFF0C; &#x751F;&#x4EA7;&#x7EA7;&#x57FA;&#x4E8E;Spring&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x201C;&#x8FD0;&#x884C;&#x201D;&#x3002; &#x6211;&#x4EEC;&#x5BF9;Spring&#x5E73;&#x53F0;&#x548C;&#x7B2C;&#x4E09;&#x65B9;&#x5E93;&#x91C7;&#x53D6;&#x4E86;&#x81EA;&#x4EE5;&#x4E3A;&#x662F;&#x7684;&#x89C2;&#x70B9;&#xFF0C;&#x56E0;&#x6B64;&#x60A8;&#x53EF;&#x4EE5;&#x5C3D;&#x91CF;&#x5C11;&#x5F00;&#x59CB;&#x3002; &#x5927;&#x591A;&#x6570;Spring Boot&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EA;&#x9700;&#x8981;&#x5F88;&#x5C11;&#x7684;Spring&#x914D;&#x7F6E;&#x3002;Why use it?Create stand-alone Spring applications Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files) Provide opinionated &apos;starter&apos; dependencies to simplify your build configuration Automatically configure Spring and 3rd party libraries whenever possible Provide production-ready features such as metrics, health checks and externalized configuration Absolutely no code generation and no requirement for XML configuration &#x521B;&#x5EFA;&#x72EC;&#x7ACB;&#x7684;Spring&#x5E94;&#x7528;&#x7A0B;&#x5E8F; &#x76F4;&#x63A5;&#x5D4C;&#x5165;Tomcat&#xFF0C;Jetty&#x6216;Undertow&#xFF08;&#x65E0;&#x9700;&#x90E8;&#x7F72;WAR&#x6587;&#x4EF6;&#xFF09; &#x63D0;&#x4F9B;&#x81EA;&#x4EE5;&#x4E3A;&#x662F;&#x7684;&#x201C;&#x5165;&#x95E8;&#x201D;&#x4F9D;&#x8D56;&#x9879;&#x4EE5;&#x7B80;&#x5316;&#x6784;&#x5EFA;&#x914D;&#x7F6E; &#x5C3D;&#x53EF;&#x80FD;&#x81EA;&#x52A8;&#x914D;&#x7F6E;Spring&#x548C;&#x7B2C;&#x4E09;&#x65B9;&#x5E93; &#x63D0;&#x4F9B;&#x751F;&#x4EA7;&#x5C31;&#x7EEA;&#x529F;&#x80FD;&#xFF0C;&#x4F8B;&#x5982;&#x6307;&#x6807;&#xFF0C;&#x8FD0;&#x884C;&#x72B6;&#x51B5;&#x68C0;&#x67E5;&#x548C;&#x5916;&#x90E8;&#x5316;&#x914D;&#x7F6E; &#x7EDD;&#x5BF9;&#x6CA1;&#x6709;&#x4EE3;&#x7801;&#x751F;&#x6210;&#xFF0C;&#x4E5F;&#x4E0D;&#x9700;&#x8981;XML&#x914D;&#x7F6E;How to use it?&#x7B2C;&#x4E00;&#x7AE0; &#x5FEB;&#x901F;&#x5165;&#x95E8; &#x8FDB;&#x5165;https://start.spring.io/ &#x5C06;&#x4E0B;&#x8F7D;&#x7684;&#x5305;&#x89E3;&#x538B;&#x5E76;&#x5BFC;&#x5165;IDEA &#x542F;&#x52A8;&#x6211;&#x4EEC;&#x7684;&#x9879;&#x76EE;,&#x8BBF;&#x95EE;8080&#x7AEF;&#x53E3;&#x770B;&#x5230;&#x627E;&#x4E0D;&#x5230;&#x9875;&#x9762;&#x9009;&#x9879;&#x5C31;&#x4EE3;&#x8868;&#x6210;&#x529F;,&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x8FD8;&#x6CA1;&#x6709;&#x914D;&#x7F6E;&#x9759;&#x6001;&#x8D44;&#x6E90; &#x7B2C;&#x4E8C;&#x7AE0; http&#x534F;&#x8BAE;&#x5F00;&#x53D1;1.&#x8DEF;&#x7531;&#x914D;&#x7F6E; &#x9996;&#x5148;&#x8981;&#x660E;&#x767D;&#x51E0;&#x4E2A;&#x6CE8;&#x89E3; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;controller@RequestMapping("/") public String home(){ return "Hello World!"; } @RequestMapping(&#x201C;/test&#x201D;)public Map&lt;String,String&gt; testMap(){ Map&lt;String,String&gt; map = new HashMap&lt;&gt;(); map.put(&#x201C;key&#x201D;,&#x201D;value&#x201D;); return map;} - &#x7136;&#x540E;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; ![](http://blog-mamba.oss-cn-beijing.aliyuncs.com/springboot/06.png) ![](http://blog-mamba.oss-cn-beijing.aliyuncs.com/springboot/07.png) ### 2.postman&#x63A5;&#x53E3;&#x6D4B;&#x8BD5; postman&#x4E0B;&#x8F7D;&#x5730;&#x5740;https://www.getpostman.com/downloads/ - &#x5728;GetController&#x4E2D;&#x6DFB;&#x52A0;&#x4EE3;&#x7801;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; ![](http://blog-mamba.oss-cn-beijing.aliyuncs.com/springboot/08.png) ```java private Map&lt;String,Object&gt; params = new HashMap&lt;&gt;(); /** * &#x529F;&#x80FD;&#x63CF;&#x8FF0;&#xFF1A;&#x6D4B;&#x8BD5;restful&#x534F;&#x8BAE;&#xFF0C;&#x4ECE;&#x8DEF;&#x5F84;&#x4E2D;&#x83B7;&#x53D6;&#x5B57;&#x6BB5; * @param cityId * @param userId * @return */ @RequestMapping(path = &quot;/{city_id}/{user_id}&quot;, method = RequestMethod.GET) public Object findUser(@PathVariable(&quot;city_id&quot;) String cityId, @PathVariable(&quot;user_id&quot;) String userId ){ params.clear(); params.put(&quot;cityId&quot;, cityId); params.put(&quot;userId&quot;, userId); return params; }&#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; GetMapping /** * &amp;#x529F;&amp;#x80FD;&amp;#x63CF;&amp;#x8FF0;&amp;#xFF1A;&amp;#x6D4B;&amp;#x8BD5;GetMapping * @param from * @param size * @return */ @GetMapping(value="/v1/page_user1") public Object pageUser(int from, int size ){ params.clear(); params.put("from", from); params.put("size", size); return params; } &#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; GetMapping&#x9ED8;&#x8BA4;&#x503C; /** * &amp;#x529F;&amp;#x80FD;&amp;#x63CF;&amp;#x8FF0;&amp;#xFF1A;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;&amp;#xFF0C;&amp;#x662F;&amp;#x5426;&amp;#x5FC5;&amp;#x987B;&amp;#x7684;&amp;#x53C2;&amp;#x6570; * @param from * @param size * @return */ @GetMapping(value="/v1/page_user2") public Object pageUserV2(@RequestParam(defaultValue="0",name="page") int from, int size ){ params.clear(); params.put("from", from); params.put("size", size); return params; } &#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4F20;&#x5165;&#x53C2;&#x6570;&#x90A3;&#x4E48;&#x5C06;&#x4F1A;&#x542F;&#x7528;&#x9ED8;&#x8BA4;&#x503C; bean&#x5BF9;&#x8C61;&#x4F20;&#x53C2;&#x5728;domain&#x5305;&#x4E0B;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5B9E;&#x4F53;&#x7C7B; public class User { private int age; private String pwd; private int phone; public User() { } public User(int age, String pwd, int phone) { this.age = age; this.pwd = pwd; this.phone = phone; } public int getAge() { return age; } public void setAge(int age) { this.age = age; } public String getPwd() { return pwd; } public void setPwd(String pwd) { this.pwd = pwd; } public int getPhone() { return phone; } public void setPhone(int phone) { this.phone = phone; } @Override public String toString() { return "User{" + "age=" + age + ", pwd=&amp;apos;" + pwd + &amp;apos;\&amp;apos;&amp;apos; + ", phone=" + phone + &amp;apos;}&amp;apos;; } } /** * &amp;#x529F;&amp;#x80FD;&amp;#x63CF;&amp;#x8FF0;&amp;#xFF1A;bean&amp;#x5BF9;&amp;#x8C61;&amp;#x4F20;&amp;#x53C2; * &amp;#x6CE8;&amp;#x610F;&amp;#xFF1A;1&amp;#x3001;&amp;#x6CE8;&amp;#x610F;&amp;#x9700;&amp;#x8981;&amp;#x6307;&amp;#x5B9A;http&amp;#x5934;&amp;#x4E3A; content-type&amp;#x4E3A;application/json * 2&amp;#x3001;&amp;#x4F7F;&amp;#x7528;body&amp;#x4F20;&amp;#x8F93;&amp;#x6570;&amp;#x636E; * @param user * @return */ @RequestMapping("/v1/save_user") public Object saveUser(@RequestBody User user){ params.clear(); params.put("user", user); return params; } &#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; &#x83B7;&#x53D6;&#x8BF7;&#x6C42;&#x5934;&#x4FE1;&#x606F;/** * &amp;#x529F;&amp;#x80FD;&amp;#x63CF;&amp;#x8FF0;&amp;#xFF1A;&amp;#x6D4B;&amp;#x8BD5;&amp;#x83B7;&amp;#x53D6;http&amp;#x5934;&amp;#x4FE1;&amp;#x606F; * @param accessToken * @param id * @return */ @GetMapping("/v1/get_header") public Object getHeader(@RequestHeader("access_token") String accessToken, String id){ params.clear(); params.put("access_token", accessToken); params.put("id", id); return params; } &#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; post&#x63D0;&#x4EA4;&#x65B9;&#x5F0F; private Map&lt;String,Object> params = new HashMap&lt;>(); /** * &amp;#x529F;&amp;#x80FD;&amp;#x63CF;&amp;#x8FF0;&amp;#xFF1A;&amp;#x6D4B;&amp;#x8BD5;PostMapping * @param id * @param pwd * @return */ @PostMapping("/v1/login") public Object login(String id, String pwd){ params.clear(); params.put("id", id); params.put("pwd", pwd); return params; } &#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; put&#x63D0;&#x4EA4;&#x65B9;&#x5F0F; @PutMapping("/v1/put") public Object put(String id){ params.clear(); params.put("id", id); return params; } &#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; delete&#x63D0;&#x4EA4;&#x65B9;&#x5F0F; @DeleteMapping("/v1/del") public Object del(String id){ params.clear(); params.put("id", id); return params; } &#x7136;&#x540E;&#x6211;&#x4EEC;&#x7528;postman&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; 3.&#x5E38;&#x7528;json&#x6846;&#x67B6;&#x4ECB;&#x7ECD;&#x548C;jackson&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x5904;&#x7406;&#x5E38;&#x7528;&#x6846;&#x67B6; &#x963F;&#x91CC; fastjson,&#x8C37;&#x6B4C;gson&#x7B49; JavaBean&#x5E8F;&#x5217;&#x5316;&#x4E3A;Json&#xFF0C;&#x6027;&#x80FD;&#xFF1A;Jackson &gt; FastJson &gt; Gson &gt; Json-lib &#x540C;&#x4E2A;&#x7ED3;&#x6784; Jackson&#x3001;FastJson&#x3001;Gson&#x7C7B;&#x5E93;&#x5404;&#x6709;&#x4F18;&#x70B9;&#xFF0C;&#x5404;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x4E13;&#x957F; &#x7A7A;&#x95F4;&#x6362;&#x65F6;&#x95F4;&#xFF0C;&#x65F6;&#x95F4;&#x6362;&#x7A7A;&#x95F4;&#x4E3A;&#x6211;&#x4EEC;&#x7684;User&#x7C7B;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x5B57;&#x6BB5;&#x91CD;&#x65B0;&#x751F;&#x6210;get/set&#x65B9;&#x6CD5; &#x5728;SampleController&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x65B0;&#x63A5;&#x53E3; @GetMapping("/testjson") public Object testjson(){ return new User(111, "abc123", "10001000", new Date()); } &#x6D4B;&#x8BD5;&#x7ED3;&#x679C;&#x4F46;&#x662F;&#x5BC6;&#x7801;&#x4E0D;&#x5E94;&#x8BE5;&#x66B4;&#x9732;&#x7ED9;&#x524D;&#x7AEF;,&#x6211;&#x4EEC;&#x5728;User&#x7C7B;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x6CE8;&#x89E3;&#x6DFB;&#x52A0;&#x5B8C;&#x4E4B;&#x540E;&#x542F;&#x52A8;&#x5E94;&#x7528;&#x518D;&#x6B21;&#x6D4B;&#x8BD5;&#x8FD9;&#x6837;&#x5C31;&#x4FDD;&#x8BC1;&#x4E86;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x5B89;&#x5168; &#x7C7B;&#x4F3C;&#x7684;&#x6CE8;&#x89E3;&#x8FD8;&#x6709;: &#x6307;&#x5B9A;&#x5B57;&#x6BB5;&#x4E0D;&#x8FD4;&#x56DE;&#xFF1A;@JsonIgnore &#x6307;&#x5B9A;&#x65E5;&#x671F;&#x683C;&#x5F0F;&#xFF1A;@JsonFormat(pattern=&quot;yyyy-MM-dd hh:mm:ss&quot;,locale=&quot;zh&quot;,timezone=&quot;GMT+8&quot;) &#x7A7A;&#x5B57;&#x6BB5;&#x4E0D;&#x8FD4;&#x56DE;&#xFF1A;@JsonInclude(Include.NON_NUll) &#x6307;&#x5B9A;&#x522B;&#x540D;&#xFF1A;@JsonProperty4.springboot&#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x8BB2;&#x89E3;src/main/java&#xFF1A;&#x5B58;&#x653E;&#x4EE3;&#x7801; src/main/resources static: &#x5B58;&#x653E;&#x9759;&#x6001;&#x6587;&#x4EF6;&#xFF0C;&#x6BD4;&#x5982; css&#x3001;js&#x3001;image, &#xFF08;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F; http://localhost:8080/js/main.js&#xFF09; templates:&#x5B58;&#x653E;&#x9759;&#x6001;&#x9875;&#x9762;jsp,html,tpl config:&#x5B58;&#x653E;&#x914D;&#x7F6E;&#x6587;&#x4EF6;,application.properties resources:&#x811A;&#x672C;&#x6587;&#x4EF6; Spring Boot &#x9ED8;&#x8BA4;&#x4F1A;&#x6328;&#x4E2A;&#x4ECE; resources &gt; static&#x5916; &gt; public &#x91CC;&#x9762;&#x627E;&#x662F;&#x5426;&#x5B58;&#x5728;&#x76F8;&#x5E94;&#x7684;&#x8D44;&#x6E90;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5219;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;&#x3002; src/main/resources&#x76EE;&#x5F55;&#x4E0B;&#x8D44;&#x6E90;&#x52A0;&#x8F7D;&#x7684;&#x987A;&#x5E8F; &#x6211;&#x4EEC;&#x5148;&#x628A;restful&#x98CE;&#x683C;&#x7684;&#x63A5;&#x53E3;&#x6CE8;&#x91CA;&#x6389;&#x9632;&#x6B62;&#x5F71;&#x54CD;&#x7136;&#x540E;&#x6309;&#x7167;&#x56FE;&#x4E2D;&#x793A;&#x4F8B;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; templates&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x4E00;&#x822C;&#x662F;&#x9759;&#x6001;&#x6A21;&#x677F;&#x6CA1;&#x6709;&#x52A0;&#x5165;classpath&#x4E2D;,&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x4F1A;&#x627E;&#x4E0D;&#x5230;&#x8D44;&#x6E90;&#x8DEF;&#x5F84;&#x9700;&#x8981;&#x5F15;&#x5165;&#x4F9D;&#x8D56; &#x5728;pom&#x6587;&#x4EF6;&#x4E2D;&#x5F15;&#x5165;&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;FileController&#x52A0;&#x5165;&#x4EE3;&#x7801; @RequestMapping(value = "/api/v1/gopage") public Object index() { return "index"; } &#x5728;templates&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x52A0;&#x5165;html&#x6587;&#x4EF6; &lt;!DOCTYPE html> &lt;html lang="en"> &lt;head> &lt;meta charset="UTF-8"> &lt;title>Title&lt;/title> &lt;/head> &lt;body> hello thymeleaf!!! &lt;/body> &lt;/html> &#x518D;&#x6B21;&#x8BBF;&#x95EE;url &#x5B98;&#x65B9;&#x9ED8;&#x8BA4;spring&#x52A0;&#x8F7D;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x914D;&#x7F6E;&#x8DEF;&#x5F84; spring.resources.static-locations = classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/ &#x5982;&#x679C;&#x60F3;&#x81EA;&#x5B9A;&#x4E49;spring&#x52A0;&#x8F7D;&#x9759;&#x6001;&#x8D44;&#x6E90;&#x914D;&#x7F6E;&#x8DEF;&#x5F84;&#x5728;&#x540E;&#x9762;&#x8FFD;&#x52A0;&#x5373;&#x53EF;(&#x52A0;&#x8F7D;&#x7684;&#x6709;&#x9650;&#x987A;&#x5E8F;&#x8C03;&#x6574;&#x987A;&#x5E8F;&#x5373;&#x53EF;),&#x793A;&#x4F8B;&#x5982;&#x4E0B;: spring.resources.static-locations = classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/ ,classpath:/test/5.springboot&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x5B9E;&#x6218;&#x5728;static&#x52A0;&#x5165;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x9875;&#x9762; &lt;!DOCTYPE html> &lt;html> &lt;head> &lt;title>uploadimg.html&lt;/title> &lt;meta name="keywords" content="keyword1,keyword2,keyword3">&lt;/meta> &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> &lt;script src="/js/test.js" type="text/javascript">&lt;/script> &lt;/head> &lt;body> &lt;form enctype="multipart/form-data" method="post" action="/upload"> &amp;#x6587;&amp;#x4EF6;:&lt;input type="file" name="head_img"/> &amp;#x59D3;&amp;#x540D;:&lt;input type="text" name="name"/> &lt;input type="submit" value="&amp;#x4E0A;&amp;#x4F20;"/> &lt;/form> &lt;/body> &lt;/html> &#x7136;&#x540E;&#x5728;FileController&#x4E2D;&#x6DFB;&#x52A0;&#x540E;&#x53F0;&#x4EE3;&#x7801;&#x6CE8;&#x610F;&#x66FF;&#x6362;&#x81EA;&#x5DF1;&#x5B58;&#x653E;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84; //&amp;#x6CE8;&amp;#x610F;&amp;#x66FF;&amp;#x6362;&amp;#x8DEF;&amp;#x5F84; private static final String filePath = "D:\\springboot_workspace\\demo\\src\\main\\resources\\static\\image\\"; @RequestMapping(value = "upload") @ResponseBody public JsonData upload(@RequestParam("head_img") MultipartFile file, HttpServletRequest request) { //file.isEmpty(); &amp;#x5224;&amp;#x65AD;&amp;#x56FE;&amp;#x7247;&amp;#x662F;&amp;#x5426;&amp;#x4E3A;&amp;#x7A7A; //file.getSize(); &amp;#x56FE;&amp;#x7247;&amp;#x5927;&amp;#x5C0F;&amp;#x8FDB;&amp;#x884C;&amp;#x5224;&amp;#x65AD; String name = request.getParameter("name"); System.out.println("&amp;#x7528;&amp;#x6237;&amp;#x540D;&amp;#xFF1A;"+name); // &amp;#x83B7;&amp;#x53D6;&amp;#x6587;&amp;#x4EF6;&amp;#x540D; String fileName = file.getOriginalFilename(); System.out.println("&amp;#x4E0A;&amp;#x4F20;&amp;#x7684;&amp;#x6587;&amp;#x4EF6;&amp;#x540D;&amp;#x4E3A;&amp;#xFF1A;" + fileName); // &amp;#x83B7;&amp;#x53D6;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x540E;&amp;#x7F00;&amp;#x540D;,&amp;#x6BD4;&amp;#x5982;&amp;#x56FE;&amp;#x7247;&amp;#x7684;jpeg,png String suffixName = fileName.substring(fileName.lastIndexOf(".")); System.out.println("&amp;#x4E0A;&amp;#x4F20;&amp;#x7684;&amp;#x540E;&amp;#x7F00;&amp;#x540D;&amp;#x4E3A;&amp;#xFF1A;" + suffixName); // &amp;#x6587;&amp;#x4EF6;&amp;#x4E0A;&amp;#x4F20;&amp;#x540E;&amp;#x7684;&amp;#x8DEF;&amp;#x5F84; fileName = UUID.randomUUID() + suffixName; System.out.println("&amp;#x8F6C;&amp;#x6362;&amp;#x540E;&amp;#x7684;&amp;#x540D;&amp;#x79F0;:"+fileName); File dest = new File(filePath + fileName); try { //MultipartFile &amp;#x5BF9;&amp;#x8C61;&amp;#x7684;transferTo&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;&amp;#x6587;&amp;#x4EF6;&amp;#x4FDD;&amp;#x5B58;&amp;#xFF08;&amp;#x6548;&amp;#x7387;&amp;#x548C;&amp;#x64CD;&amp;#x4F5C;&amp;#x6BD4;&amp;#x539F;&amp;#x5148;&amp;#x7528;FileOutStream&amp;#x65B9;&amp;#x4FBF;&amp;#x548C;&amp;#x9AD8;&amp;#x6548;&amp;#xFF09; file.transferTo(dest); return new JsonData(0, fileName); } catch (IllegalStateException e) { e.printStackTrace(); } catch (IOException e) { e.printStackTrace(); } return new JsonData(-1, "fail to save ", null); } &#x54CD;&#x5E94;&#x7684;&#x65F6;&#x5019;&#x5E94;&#x8BE5;&#x8FD4;&#x56DE;&#x7ED9;&#x524D;&#x53F0;&#x4E00;&#x4E2A;&#x5305;&#x88C5;&#x7684;json&#x7C7B; private static final long serialVersionUID = 1L; //&amp;#x72B6;&amp;#x6001;&amp;#x7801;,0&amp;#x8868;&amp;#x793A;&amp;#x6210;&amp;#x529F;&amp;#xFF0C;-1&amp;#x8868;&amp;#x793A;&amp;#x5931;&amp;#x8D25; private int code; //&amp;#x7ED3;&amp;#x679C; private Object data; //&amp;#x9519;&amp;#x8BEF;&amp;#x63CF;&amp;#x8FF0; private String msg; public int getCode() { return code; } public String getMsg() { return msg; } public void setMsg(String msg) { this.msg = msg; } public void setCode(int code) { this.code = code; } public Object getData() { return data; } public void setData(Object data) { this.data = data; } public JsonData(int code, Object data) { super(); this.code = code; this.data = data; } public JsonData(int code, String msg,Object data) { super(); this.code = code; this.msg = msg; this.data = data; } &#x5411;&#x540E;&#x53F0;&#x53D1;&#x9001;&#x6587;&#x4EF6;&#x4E4B;&#x540E;&#x8FD9;&#x91CC;&#x4F1A;&#x6709;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#x5F53;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x8FC7;&#x5927;&#x65F6;,&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;,&#x90A3;&#x4E48;&#x6211;&#x4EEC;&#x5E94;&#x8BE5;&#x5982;&#x4F55;&#x53BB;&#x914D;&#x7F6E;&#x5462;?&#x5728;&#x542B;&#x6709;Config&#x6CE8;&#x89E3;&#x7684;&#x7C7B;&#x4E0B;&#x914D;&#x7F6E;&#x4E00;&#x4E2A;bean&#x6CE8;&#x89E3;,&#x89E3;&#x51B3;&#x6587;&#x4EF6;&#x4E0A;&#x4F20;&#x95EE;&#x9898; @Bean public MultipartConfigElement multipartConfigElement() { MultipartConfigFactory factory = new MultipartConfigFactory(); //&amp;#x5355;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#x6700;&amp;#x5927; factory.setMaxFileSize("10240KB"); //KB,MB /// &amp;#x8BBE;&amp;#x7F6E;&amp;#x603B;&amp;#x4E0A;&amp;#x4F20;&amp;#x6570;&amp;#x636E;&amp;#x603B;&amp;#x5927;&amp;#x5C0F; factory.setMaxRequestSize("1024000KB"); return factory.createMultipartConfig(); } 6.jar&#x5305;&#x65B9;&#x5F0F;&#x542F;&#x52A8;&#x9879;&#x76EE;&#x5E76;&#x8BBF;&#x95EE;&#x8D44;&#x6E90;&#x68C0;&#x67E5;&#x81EA;&#x5DF1;&#x7684;pom.xml&#x662F;&#x5426;&#x6709;&#x6253;&#x5305;&#x63D2;&#x4EF6;,&#x5982;&#x679C;&#x6CA1;&#x52A0;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#xFF0C;&#x6267;&#x884C;maven&#x6253;&#x5305;&#xFF0C;&#x8FD0;&#x884C;&#x540E;&#x4F1A;&#x62A5;&#x9519;:no main manifest attribute, in XXX.jar &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&#x4F7F;&#x7528; mvn install &#x5C06;&#x9879;&#x76EE;&#x6253;&#x5305;&#x5C06;jar&#x5305;&#x540E;&#x7F00;&#x6362;&#x6210;zip&#x5E76;&#x89E3;&#x538B;&#x67E5;&#x770B;&#x76EE;&#x5F55;&#x5982;&#x679C;&#x4F60;&#x4E0A;&#x4F20;&#x7684;&#x56FE;&#x7247;&#x8DEF;&#x5F84;&#x662F;&#x81EA;&#x5B9A;&#x4E49;&#x7684;,&#x8BF7;&#x81EA;&#x884C;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;web.images-path=&#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x5F84;spring.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/,classpath:/public/,classpath:/test/,file:${web.upload-path}&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x9AD8;&#x5E76;&#x53D1;&#x4F60;&#x5E94;&#x8BE5;&#x53BB;&#x4F7F;&#x7528;:fastdfs&#xFF0C;&#x963F;&#x91CC;&#x4E91;oss&#xFF0C;nginx&#x642D;&#x5EFA;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6587;&#x4EF6;&#x670D;&#x52A1;&#x5668; 7.SpringBoot2.x&#x4F7F;&#x7528;Dev-tool&#x70ED;&#x90E8;&#x7F72; &#x6DFB;&#x52A0;&#x4F9D;&#x8D56; org.springframework.boot spring-boot-devtools true &#x5728;IDEA&#x8BBE;&#x7F6E;&#x4E2D;&#x6253;&#x5F00;&#x81EA;&#x52A8;&#x7F16;&#x8BD1; &#x6253;&#x5F00;&#x8FD0;&#x884C;&#x65F6;&#x7F16;&#x8BD1;,&#x6309;&#x5FEB;&#x6377;&#x952E; Shift+Ctrl+Alt+/ &#xFF0C;&#x6253;&#x5F00;maintenance&#x9762;&#x677F;, &#x9009;&#x62E9; Registry&#x52FE;&#x9009;&#x5982;&#x56FE;&#x6240;&#x793A;:&#x4E0D;&#x88AB;&#x70ED;&#x90E8;&#x7F72;&#x7684;&#x6587;&#x4EF6; 1&#x3001;/META-INF/maven, /META-INF/resources, /resources, /static, /public, or /templates 2&#x3001;&#x6307;&#x5B9A;&#x6587;&#x4EF6;&#x4E0D;&#x8FDB;&#x884C;&#x70ED;&#x90E8;&#x7F72; spring.devtools.restart.exclude=static/**,public/** 3&#x3001;&#x624B;&#x5DE5;&#x89E6;&#x53D1;&#x91CD;&#x542F; spring.devtools.restart.trigger-file=trigger.txt(trigger.txt&#x653E;&#x5728;&#x6700;&#x5916;&#x5C42;&#x7684;resource&#x4E0B;) &#x6539;&#x4EE3;&#x7801;&#x4E0D;&#x91CD;&#x542F;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x6587;&#x672C;&#x53BB;&#x63A7;&#x5236; &#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-devtools 8.SpringBoot2.x&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7B80;&#x4ECB;&#xFF1A;SpringBoot2.x&#x5E38;&#x89C1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; xml&#x3001;yml&#x3001;properties&#x7684;&#x533A;&#x522B;&#x548C;&#x4F7F;&#x7528; xml&#x3001;properties&#x3001;json&#x3001;yaml 1&#x3001;&#x5E38;&#x89C1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6; xx.yml, xx.properties&#xFF0C; 1)YAML&#xFF08;Yet Another Markup Language&#xFF09; &#x5199; YAML &#x8981;&#x6BD4;&#x5199; XML &#x5FEB;&#x5F97;&#x591A;(&#x65E0;&#x9700;&#x5173;&#x6CE8;&#x6807;&#x7B7E;&#x6216;&#x5F15;&#x53F7;) &#x4F7F;&#x7528;&#x7A7A;&#x683C; Space &#x7F29;&#x8FDB;&#x8868;&#x793A;&#x5206;&#x5C42;&#xFF0C;&#x4E0D;&#x540C;&#x5C42;&#x6B21;&#x4E4B;&#x95F4;&#x7684;&#x7F29;&#x8FDB;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x7684;&#x7A7A;&#x683C;&#x6570;&#x76EE; &#x6CE8;&#x610F;&#xFF1A;key&#x540E;&#x9762;&#x7684;&#x5192;&#x53F7;&#xFF0C;&#x540E;&#x9762;&#x4E00;&#x5B9A;&#x8981;&#x8DDF;&#x4E00;&#x4E2A;&#x7A7A;&#x683C;,&#x6811;&#x72B6;&#x7ED3;&#x6784; application.properties&#x793A;&#x4F8B; server.port=8090 server.session-timeout=30 server.tomcat.max-threads=0 server.tomcat.uri-encoding=UTF-8 application.yml&#x793A;&#x4F8B; server: port: 8090 session-timeout: 30 tomcat.max-threads: 0 tomcat.uri-encoding: UTF-8 2&#x3001;&#x9ED8;&#x8BA4;&#x793A;&#x4F8B;&#x6587;&#x4EF6;&#x4EC5;&#x4F5C;&#x4E3A;&#x6307;&#x5BFC;&#x3002; &#x4E0D;&#x8981;&#x5C06;&#x6574;&#x4E2A;&#x5185;&#x5BB9;&#x590D;&#x5236;&#x5E76;&#x7C98;&#x8D34;&#x5230;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x53EA;&#x6311;&#x9009;&#x60A8;&#x9700;&#x8981;&#x7684;&#x5C5E;&#x6027;&#x3002; 3&#x3001;&#x53C2;&#x8003;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#common-application-properties &#x5982;&#x679C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#xFF0C;&#x76F4;&#x63A5;&#x590D;&#x5236;&#x5BF9;&#x5E94;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x52A0;&#x5230;application.properties&#x91CC;&#x9762;9.SpringBoot&#x6CE8;&#x89E3;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x81EA;&#x52A8;&#x6620;&#x5C04;&#x5230;&#x5C5E;&#x6027;&#x548C;&#x5B9E;&#x4F53;&#x7C7B;&#x5B9E;&#x6218;1&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x52A0;&#x8F7D; &#x65B9;&#x5F0F;&#x4E00;: 1&#x3001;Controller&#x4E0A;&#x9762;&#x914D;&#x7F6E; @PropertySource({&#x201C;classpath:resource.properties&#x201D;}) resource.properties&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x4E3A;k,v 2&#x3001;&#x589E;&#x52A0;&#x5C5E;&#x6027; @Value(&#x201C;${test.name}&#x201D;) private String name; &#x65B9;&#x5F0F;&#x4E8C;&#xFF1A; &#x5B9E;&#x4F53;&#x7C7B;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x6B65;&#x9AA4;&#xFF1A; 1&#x3001;&#x6DFB;&#x52A0; @Component &#x6CE8;&#x89E3;&#xFF1B; 2&#x3001;&#x4F7F;&#x7528; @PropertySource &#x6CE8;&#x89E3;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4F4D;&#x7F6E;&#xFF1B; 3&#x3001;&#x4F7F;&#x7528; @ConfigurationProperties &#x6CE8;&#x89E3;&#xFF0C;&#x8BBE;&#x7F6E;&#x76F8;&#x5173;&#x5C5E;&#x6027;&#xFF1B; 4&#x3001;&#x5FC5;&#x987B; &#x901A;&#x8FC7;&#x6CE8;&#x5165;IOC&#x5BF9;&#x8C61;Resource &#x8FDB;&#x6765; &#xFF0C; &#x624D;&#x80FD;&#x5728;&#x7C7B;&#x4E2D;&#x4F7F;&#x7528;&#x83B7;&#x53D6;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x503C;&#x3002; @Autowired private ServerSettings serverSettings; &#x4F8B;&#x5B50;&#xFF1A; &#x65B0;&#x5EFA;&#x4E00;&#x4E2A;domain @Component @PropertySource({"classpath:application.properties"}) @ConfigurationProperties public class ServerSettings { //&amp;#x540D;&amp;#x79F0; @Value("${test.name}") private String name; @Value("${test.domain}") private String domain; public String getName() { return name; } public void setName(String name) { this.name = name; } public String getDomain() { return domain; } public void setDomain(String domain) { this.domain = domain; } @Override public String toString() { return "ServerSettings{" + "name=&amp;apos;" + name + &amp;apos;\&amp;apos;&amp;apos; + ", domain=&amp;apos;" + domain + &amp;apos;\&amp;apos;&amp;apos; + &amp;apos;}&amp;apos;; } } &#x4F7F;&#x7528;&#x524D;&#x7F00;@ConfigurationProperties&#xFF08;prefix = &#x201C;xxx&#x201D;&#xFF09;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x524D;&#x7F00;&#x7684;&#x8BDD;&#x5219;&#x4E0D;&#x9700;&#x8981;@Value&#x6CE8;&#x89E3;&#x5E38;&#x89C1;&#x95EE;&#x9898;&#xFF1A; 1&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6CE8;&#x5165;&#x5931;&#x8D25;&#xFF0C;Could not resolve placeholder &#x89E3;&#x51B3;&#xFF1A;&#x6839;&#x636E;springboot&#x542F;&#x52A8;&#x6D41;&#x7A0B;&#xFF0C;&#x4F1A;&#x6709;&#x81EA;&#x52A8;&#x626B;&#x63CF;&#x5305;&#x6CA1;&#x6709;&#x626B;&#x63CF;&#x5230;&#x76F8;&#x5173;&#x6CE8;&#x89E3;, &#x9ED8;&#x8BA4;Spring&#x6846;&#x67B6;&#x5B9E;&#x73B0;&#x4F1A;&#x4ECE;&#x58F0;&#x660E;@ComponentScan&#x6240;&#x5728;&#x7684;&#x7C7B;&#x7684;package&#x8FDB;&#x884C;&#x626B;&#x63CF;&#xFF0C;&#x6765;&#x81EA;&#x52A8;&#x6CE8;&#x5165;&#xFF0C; &#x56E0;&#x6B64;&#x542F;&#x52A8;&#x7C7B;&#x6700;&#x597D;&#x653E;&#x5728;&#x6839;&#x8DEF;&#x5F84;&#x4E0B;&#x9762;&#xFF0C;&#x6216;&#x8005;&#x6307;&#x5B9A;&#x626B;&#x63CF;&#x5305;&#x8303;&#x56F4; spring-boot&#x626B;&#x63CF;&#x542F;&#x52A8;&#x7C7B;&#x5BF9;&#x5E94;&#x7684;&#x76EE;&#x5F55;&#x548C;&#x5B50;&#x76EE;&#x5F55; 2&#x3001;&#x6CE8;&#x5165;bean&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#x7684;key&#x4E00;&#x4E00;&#x5BF9;&#x5E94;&#xFF0C;&#x5C31;&#x7528;&#x52A0;@Value &#x8FD9;&#x4E2A;&#x6CE8;&#x89E3; &#x5982;&#x679C;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x5C31;&#x8981;&#x52A0;@value(&#x201C;${XXX}&#x201D;) 10.SpringBoot&#x5355;&#x5143;&#x6D4B;&#x8BD5; &#x5F15;&#x5165;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&lt;!--springboot&#x7A0B;&#x5E8F;&#x6D4B;&#x8BD5;&#x4F9D;&#x8D56;&#xFF0C;&#x5982;&#x679C;&#x662F;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x9879;&#x76EE;&#x9ED8;&#x8BA4;&#x6DFB;&#x52A0;--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &#x4F7F;&#x7528;@RunWith(SpringRunner.class) //&#x5E95;&#x5C42;&#x7528;junit SpringJUnit4ClassRunner @SpringBootTest(classes={DemoApplication.class})//&#x542F;&#x52A8;&#x6574;&#x4E2A;springboot&#x5DE5;&#x7A0B; SpringBoot&#x6D4B;&#x8BD5;&#x8FDB;&#x9636;&#x9AD8;&#x7EA7;&#x7BC7;&#x4E4B;MockMvc&#x8BB2;&#x89E3;&#x7B80;&#x4ECB;:&#x8BB2;&#x89E3;MockMvc&#x7C7B;&#x7684;&#x4F7F;&#x7528;&#x548C;&#x6A21;&#x62DF;Http&#x8BF7;&#x6C42;&#x5B9E;&#x6218;1&#x3001;&#x589E;&#x52A0;&#x7C7B;&#x6CE8;&#x89E3; @AutoConfigureMockMvc @SpringBootTest(classes={XdclassApplication.class})2&#x3001;&#x76F8;&#x5173;APIperform&#xFF1A;&#x6267;&#x884C;&#x4E00;&#x4E2A;RequestBuilder&#x8BF7;&#x6C42;andExpect&#xFF1A;&#x6DFB;&#x52A0;ResultMatcher-&gt;MockMvcResultMatchers&#x9A8C;&#x8BC1;&#x89C4;&#x5219;andReturn&#xFF1A;&#x6700;&#x540E;&#x8FD4;&#x56DE;&#x76F8;&#x5E94;&#x7684;MvcResult-&gt;Response 11.SpringBoot2.x&#x4E2A;&#x6027;&#x5316;&#x542F;&#x52A8;banner&#x8BBE;&#x7F6E;&#x548C;debug&#x65E5;&#x5FD7;&#x7B80;&#x4ECB;&#xFF1A;&#x81EA;&#x5B9A;&#x4E49;&#x5E94;&#x7528;&#x542F;&#x52A8;&#x7684;&#x8DA3;&#x5473;&#x6027;&#x65E5;&#x5FD7;&#x56FE;&#x6807;&#x548C;&#x67E5;&#x770B;&#x8C03;&#x8BD5;&#x65E5;&#x5FD7;1&#x3001;&#x542F;&#x52A8;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F; java -jar xxx.jar &#x2013;debug2&#x3001;&#x4FEE;&#x6539;&#x542F;&#x52A8;&#x7684;banner&#x4FE1;&#x606F;1&#xFF09;&#x5728;&#x7C7B;&#x8DEF;&#x5F84;&#x4E0B;&#x589E;&#x52A0;&#x4E00;&#x4E2A;banner.txt&#xFF0C;&#x91CC;&#x9762;&#x662F;&#x542F;&#x52A8;&#x8981;&#x8F93;&#x51FA;&#x7684;&#x4FE1;&#x606F;2&#xFF09;&#x5728;applicatoin.properties&#x589E;&#x52A0;banner&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x5730;&#x5740; spring.banner.location=banner.txt3&#xFF09;&#x5B98;&#x7F51;&#x5730;&#x5740; https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-banners 12.SpringBoot2.x&#x914D;&#x7F6E;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5B9E;&#x6218;&#x8BB2;&#x89E3;&#xFF1A;&#x670D;&#x52A1;&#x7AEF;&#x5F02;&#x5E38;&#x8BB2;&#x89E3;&#x548C;SpringBoot&#x914D;&#x7F6E;&#x5168;&#x5C40;&#x5F02;&#x5E38;&#x5B9E;&#x6218;1&#x3001;&#x9ED8;&#x8BA4;&#x5F02;&#x5E38;&#x6D4B;&#x8BD5; int i = 1/0&#xFF0C;&#x4E0D;&#x53CB;&#x597D;,&#x5982;&#x679C;&#x662F;&#x524D;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x524D;&#x7AEF;&#x4F60;&#x629B;&#x4E00;&#x4E2A;404&#x7684;&#x9875;&#x9762;&#x524D;&#x7AEF;&#x4E0D;&#x77E5;&#x9053;&#x8BE5;&#x5982;&#x4F55;&#x53BB;&#x5904;&#x7406;&#x5148;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x5F02;&#x5E38; @RestController public class ExcptionController { @RequestMapping(value = "/api/v1/test_ext") public Object index() { int i= 1/0; return new User(11, "sfsfds", "1000000", new Date()); } } 2&#x3001;&#x5F02;&#x5E38;&#x6CE8;&#x89E3;&#x4ECB;&#x7ECD;@ControllerAdvice &#x5982;&#x679C;&#x662F;&#x8FD4;&#x56DE;json&#x6570;&#x636E; &#x5219;&#x7528; RestControllerAdvice,&#x5C31;&#x53EF;&#x4EE5;&#x4E0D;&#x52A0; @ResponseBody//&#x6355;&#x83B7;&#x5168;&#x5C40;&#x5F02;&#x5E38;,&#x5904;&#x7406;&#x6240;&#x6709;&#x4E0D;&#x53EF;&#x77E5;&#x7684;&#x5F02;&#x5E38;@ExceptionHandler(value=Exception.class) @RestControllerAdvice public class CustomExtHandler { private static final Logger LOG = LoggerFactory.getLogger(CustomExtHandler.class); //&amp;#x6355;&amp;#x83B7;&amp;#x5168;&amp;#x5C40;&amp;#x5F02;&amp;#x5E38;,&amp;#x5904;&amp;#x7406;&amp;#x6240;&amp;#x6709;&amp;#x4E0D;&amp;#x53EF;&amp;#x77E5;&amp;#x7684;&amp;#x5F02;&amp;#x5E38; @ExceptionHandler(value=Exception.class) //@ResponseBody Object handleException(Exception e,HttpServletRequest request){ LOG.error("url { }, msg { }",request.getRequestURL(), e.getMessage()); Map&lt;String, Object> map = new HashMap&lt;>(); map.put("code", 100); map.put("msg", e.getMessage()); map.put("url", request.getRequestURL()); return map; } } &#x8FD9;&#x6837;&#x5C31;&#x80FD;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;json&#x6570;&#x636E;&#x7ED9;&#x524D;&#x7AEF;&#x4E86; 13.SpringBoot2.x&#x914D;&#x7F6E;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x5B9E;&#x6218;&#x7B80;&#x4ECB;&#xFF1A;&#x4F7F;&#x7528;SpringBoot&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x548C;&#x9519;&#x8BEF;&#x9875;&#x9762;&#x8DF3;&#x8F6C;&#x5B9E;&#x6218;1&#x3001;&#x8FD4;&#x56DE;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x754C;&#x9762;&#xFF0C;&#x9700;&#x8981;&#x5F15;&#x5165;thymeleaf&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt; 2&#x3001;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38;&#x7C7B; public class MyException extends RuntimeException { public MyException(String code, String msg) { this.code = code; this.msg = msg; } private String code; private String msg; public String getCode() { return code; } public void setCode(String code) { this.code = code; } public String getMsg() { return msg; } public void setMsg(String msg) { this.msg = msg; } } 3&#x3001;&#x5199;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#x8DEF;&#x7531; /** * &amp;#x529F;&amp;#x80FD;&amp;#x63CF;&amp;#x8FF0;&amp;#xFF1A;&amp;#x6A21;&amp;#x62DF;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5F02;&amp;#x5E38; * @return */ @RequestMapping("/api/v1/myext") public Object myexc(){ throw new MyException("499", "my ext&amp;#x5F02;&amp;#x5E38;"); } 4&#x3001;&#x5904;&#x7406;&#x81EA;&#x5B9A;&#x4E49;&#x5F02;&#x5E38; /** * &amp;#x529F;&amp;#x80FD;&amp;#x63CF;&amp;#x8FF0;&amp;#xFF1A;&amp;#x5904;&amp;#x7406;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x5F02;&amp;#x5E38; * @return */ @ExceptionHandler(value=MyException.class) Object handleMyException(MyException e,HttpServletRequest request){ //&amp;#x8FDB;&amp;#x884C;&amp;#x9875;&amp;#x9762;&amp;#x8DF3;&amp;#x8F6C; // ModelAndView modelAndView = new ModelAndView(); // modelAndView.setViewName("error.html"); // modelAndView.addObject("msg", e.getMessage()); // return modelAndView; //&amp;#x8FD4;&amp;#x56DE;json&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x7531;&amp;#x524D;&amp;#x7AEF;&amp;#x53BB;&amp;#x5224;&amp;#x65AD;&amp;#x52A0;&amp;#x8F7D;&amp;#x4EC0;&amp;#x4E48;&amp;#x9875;&amp;#x9762; Map&lt;String, Object> map = new HashMap&lt;>(); map.put("code", e.getCode()); map.put("msg", e.getMsg()); map.put("url", request.getRequestURL()); return map; } https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-error-handling 14.SpringBoot&#x542F;&#x52A8;&#x65B9;&#x5F0F;&#x8BB2;&#x89E3;&#x548C;&#x90E8;&#x7F72;war&#x9879;&#x76EE;&#x5230;tomcat1&#x3001;ide&#x542F;&#x52A8; 2&#x3001;jar&#x5305;&#x65B9;&#x5F0F;&#x542F;&#x52A8; maven&#x63D2;&#x4EF6;: org.springframework.boot spring-boot-maven-plugin &#x5982;&#x679C;&#x6CA1;&#x6709;&#x52A0;&#xFF0C;&#x5219;&#x6267;&#x884C;jar&#x5305; &#xFF0C;&#x62A5;&#x9519;&#x5982;&#x4E0B; java -jar spring-boot-demo-0.0.1-SNAPSHOT.jar no main manifest attribute, in spring-boot-demo-0.0.1-SNAPSHOT.jar &#x5982;&#x679C;&#x6709;&#x5B89;&#x88C5;maven &#x7528; mvn spring-boot:run &#x9879;&#x76EE;&#x7ED3;&#x6784; example.jar | +-META-INF | +-MANIFEST.MF +-org | +-springframework | +-boot | +-loader | +- +-BOOT-INF +-classes | +-mycompany | +-project | +-YourClasses.class +-lib +-dependency1.jar +-dependency2.jar &#x76EE;&#x5F55;&#x7ED3;&#x6784;&#x8BB2;&#x89E3; https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#executable-jar-jar-file-structure 3&#x3001;war&#x5305;&#x65B9;&#x5F0F;&#x542F;&#x52A8;1)&#x5728;pom.xml&#x4E2D;&#x4E0B;&#x65B9;&#x5C06;&#x6253;&#x5305;&#x5F62;&#x5F0F;jar&#x4FEE;&#x6539;&#x4E3A;war &lt;packaging&gt;war&lt;/packaging&gt;&#x6784;&#x5EFA;&#x9879;&#x76EE;&#x540D;&#x79F0; &lt;finalName&gt;demo_springboot&lt;/finalName&gt;&#x5982;&#x4E0B; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.1.3.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;demo&lt;/artifactId&gt; &lt;packaging&gt;war&lt;/packaging&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;demo&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;!--web&#x542F;&#x52A8;&#x5668;--&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;!--&#x6253;&#x5305;&#x63D2;&#x4EF6;--&gt; &lt;build&gt; &lt;finalName&gt;demo_springboot&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; &lt;/project&gt; 2)tocmat&#x4E0B;&#x8F7D; https://tomcat.apache.org/download-90.cgi 3)&#x4FEE;&#x6539;&#x542F;&#x52A8;&#x7C7B; @SpringBootApplication public class DemoApplication extends SpringBootServletInitializer { @Override protected SpringApplicationBuilder configure(SpringApplicationBuilder application) { return application.sources(DemoApplication.class); } public static void main(String[] args) throws Exception { SpringApplication.run(DemoApplication.class, args); } } 4)&#x6267;&#x884C;meaven&#x547D;&#x4EE4;mvn install&#x6253;&#x5305;&#x9879;&#x76EE;5)&#x5C06;&#x6253;&#x597D;&#x7684;&#x5305;&#x653E;&#x5728;tomcat&#x5BB9;&#x5668;webapp&#x76EE;&#x5F55;&#x4E0B;&#x4E2D;,tomcat&#x4F1A;&#x81EA;&#x52A8;&#x89E3;&#x538B;&#x8FD9;&#x4E2A;war&#x5305; 15.SpringBoot2.x&#x8FC7;&#x6EE4;&#x5668;Filterfilter&#x7B80;&#x5355;&#x7406;&#x89E3;&#xFF1A;&#x4EBA;&#x2014;&gt;&#x68C0;&#x7968;&#x5458;&#xFF08;filter&#xFF09;&#x2014;&gt; &#x666F;&#x70B9; 1&#x3001;SpringBoot&#x542F;&#x52A8;&#x9ED8;&#x8BA4;&#x52A0;&#x8F7D;&#x7684;FiltercharacterEncodingFilterhiddenHttpMethodFilterhttpPutFormContentFilterrequestContextFilter 2&#x3001;Filter&#x4F18;&#x5148;&#x7EA7; Ordered.HIGHEST_PRECEDENCEOrdered.LOWEST_PRECEDENCE &#x4F4E;&#x4F4D;&#x503C;&#x610F;&#x5473;&#x7740;&#x66F4;&#x9AD8;&#x7684;&#x4F18;&#x5148;&#x7EA7; Higher values are interpreted as lower priority&#x81EA;&#x5B9A;&#x4E49;Filter&#xFF0C;&#x907F;&#x514D;&#x548C;&#x9ED8;&#x8BA4;&#x7684;Filter&#x4F18;&#x5148;&#x7EA7;&#x4E00;&#x6837;&#xFF0C;&#x4E0D;&#x7136;&#x4F1A;&#x51B2;&#x7A81; &#x6CE8;&#x518C;Filter&#x7684;bean FilterRegistrationBean&#x540C;&#x6A21;&#x5757;&#x91CC;&#x9762;&#x6709;&#x76F8;&#x5173;&#x9ED8;&#x8BA4;Filter web-&gt;servlet-&gt;filter 3&#x3001;&#x81EA;&#x5B9A;&#x4E49;Filter1&#xFF09;&#x4F7F;&#x7528;Servlet3.0&#x7684;&#x6CE8;&#x89E3;&#x8FDB;&#x884C;&#x914D;&#x7F6E;2&#xFF09;&#x542F;&#x52A8;&#x7C7B;&#x91CC;&#x9762;&#x589E;&#x52A0; @ServletComponentScan&#xFF0C;&#x8FDB;&#x884C;&#x626B;&#x63CF;3&#xFF09;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;Filter&#x7C7B;&#xFF0C;implements Filter&#xFF0C;&#x5E76;&#x5B9E;&#x73B0;&#x5BF9;&#x5E94;&#x7684;&#x63A5;&#x53E3;4) @WebFilter &#x6807;&#x8BB0;&#x4E00;&#x4E2A;&#x7C7B;&#x4E3A;filter&#xFF0C;&#x88AB;spring&#x8FDB;&#x884C;&#x626B;&#x63CF; urlPatterns&#xFF1A;&#x62E6;&#x622A;&#x89C4;&#x5219;&#xFF0C;&#x652F;&#x6301;&#x6B63;&#x5219; 6&#xFF09;&#x63A7;&#x5236;chain.doFilter&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#xFF0C;&#x6765;&#x5B9E;&#x73B0;&#x662F;&#x5426;&#x901A;&#x8FC7;&#x653E;&#x884C; &#x4E0D;&#x653E;&#x884C;&#xFF0C;web&#x5E94;&#x7528;resp.sendRedirect(&#x201C;/index.html&#x201D;); &#x573A;&#x666F;&#xFF1A;&#x6743;&#x9650;&#x63A7;&#x5236;&#x3001;&#x7528;&#x6237;&#x767B;&#x5F55;(&#x975E;&#x524D;&#x7AEF;&#x540E;&#x7AEF;&#x5206;&#x79BB;&#x573A;&#x666F;)&#x7B49; @WebFilter(urlPatterns = "/api/*", filterName = "loginFilter") public class LoginFilter implements Filter{ /** * &amp;#x5BB9;&amp;#x5668;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x8C03;&amp;#x7528; */ @Override public void init(FilterConfig filterConfig) throws ServletException { System.out.println("init loginFilter"); } /** * &amp;#x8BF7;&amp;#x6C42;&amp;#x88AB;&amp;#x62E6;&amp;#x622A;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x8FDB;&amp;#x884C;&amp;#x8C03;&amp;#x7528; */ @Override public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException { System.out.println("doFilter loginFilter"); HttpServletRequest req = (HttpServletRequest) servletRequest; HttpServletResponse resp = (HttpServletResponse) servletResponse; String username = req.getParameter("username"); if ("demo".equals(username)) { //&amp;#x653E;&amp;#x884C;&amp;#x4E4B;&amp;#x540E;&amp;#x7EE7;&amp;#x7EED;&amp;#x56DE;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;controller&amp;#x5C42; filterChain.doFilter(servletRequest,servletResponse); } else { resp.sendRedirect("/index.html"); return; } } /** * &amp;#x5BB9;&amp;#x5668;&amp;#x88AB;&amp;#x9500;&amp;#x6BC1;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x88AB;&amp;#x8C03;&amp;#x7528; */ @Override public void destroy() { System.out.println("destroy loginFilter"); } } &#x653E;&#x884C;&#x4E0D;&#x653E;&#x884C; 1&#x3001;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-embedded-container-servlets-filters-listeners 16.Servlet3.0&#x7684;&#x6CE8;&#x89E3;&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x751F;Servlet&#x5B9E;&#x6218;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;@ServletComponentScan&#x81EA;&#x5B9A;&#x4E49;&#x539F;&#x751F;Servlet @WebServlet(name = "userServlet",urlPatterns = "/test/customs") public class UserServlet extends HttpServlet{ @Override public void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { resp.getWriter().print("custom sevlet"); resp.getWriter().flush(); resp.getWriter().close(); } @Override protected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { this.doGet(req, resp); } } 17.Servlet3.0&#x7684;&#x6CE8;&#x89E3;&#x539F;&#x751F;Linstener&#x76D1;&#x542C;&#x5668;&#x5B9E;&#x6218;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3;@ServletComponentScan&#x81EA;&#x5B9A;&#x4E49;Listener(&#x5E38;&#x7528;&#x7684;&#x76D1;&#x542C;&#x5668; servletContextListener&#x3001;httpSessionListener&#x3001;servletRequestListener) @WebListener public class RequestListener implements ServletRequestListener { @Override public void requestDestroyed(ServletRequestEvent sre) { // TODO Auto-generated method stub //&amp;#x8BF7;&amp;#x6C42;&amp;#x4E4B;&amp;#x540E;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x4EE3;&amp;#x7801; System.out.println("======requestDestroyed========"); } @Override public void requestInitialized(ServletRequestEvent sre) { //&amp;#x8BF7;&amp;#x6C42;&amp;#x4E4B;&amp;#x524D;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x4EE3;&amp;#x7801; System.out.println("======requestInitialized========"); } @WebListener public class CustomContextListener implements ServletContextListener{ @Override public void contextInitialized(ServletContextEvent sce) { //&amp;#x5BB9;&amp;#x5668;&amp;#x542F;&amp;#x52A8;&amp;#x65F6;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;,&amp;#x4E00;&amp;#x822C;&amp;#x505A;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x52A0;&amp;#x8F7D;,&amp;#x7F13;&amp;#x5B58;&amp;#x9884;&amp;#x70ED;,&amp;#x4E00;&amp;#x822C;&amp;#x4F1A;&amp;#x5355;&amp;#x72EC;&amp;#x5F00;&amp;#x4E00;&amp;#x4E2A;&amp;#x7EBF;&amp;#x7A0B;&amp;#x53BB;&amp;#x5904;&amp;#x7406; System.out.println("======contextInitialized========"); } @Override public void contextDestroyed(ServletContextEvent sce) { System.out.println("======contextDestroyed========"); } } 18.SpringBoot2.X&#x81EA;&#x5B9A;&#x4E49;&#x62E6;&#x622A;&#x5668;&#x5B9E;&#x6218;&#x53CA;&#x65B0;&#x65E7;&#x914D;&#x7F6E;&#x5BF9;&#x6BD4;&#x7B80;&#x4ECB;: &#x8BB2;&#x89E3;&#x62E6;&#x622A;&#x5668;&#x4F7F;&#x7528;&#xFF0C;Spingboot2.x&#x65B0;&#x7248;&#x672C;&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x62E6;&#x622A;&#x5668;&#x548C;&#x65E7;&#x7248;&#x672C;SpringBoot&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668;&#x533A;&#x522B;&#x8BB2;&#x89E3; 1&#x3001;&#x542F;&#x52A8;&#x7C7B;&#x914D;&#x7F6E;@ServletComponentScan 2&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x7EE7;&#x627F;SpringBoot2.X&#x65B0;&#x7248;&#x672C;&#x914D;&#x7F6E;&#x62E6;&#x622A;&#x5668; implements WebMvcConfigurer.&#x8BB0;&#x5F97;&#x52A0;&#x6CE8;&#x89E3;@Configuration &#x81EA;&#x5B9A;&#x4E49;&#x7C7B;&#x7EE7;&#x627F;WebMvcConfigurationAdapter(SpringBoot2.X&#x4E4B;&#x524D;&#x65E7;&#x7248;&#x672C;).&#x8BB0;&#x5F97;&#x52A0;&#x6CE8;&#x89E3;@Configuration 2&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x62E6;&#x622A;&#x5668; HandlerInterceptorpreHandle&#xFF1A;&#x8C03;&#x7528;Controller&#x67D0;&#x4E2A;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;postHandle&#xFF1A;Controller&#x4E4B;&#x540E;&#x8C03;&#x7528;&#xFF0C;&#x89C6;&#x56FE;&#x6E32;&#x67D3;&#x4E4B;&#x524D;&#xFF0C;&#x5982;&#x679C;&#x63A7;&#x5236;&#x5668;Controller&#x51FA;&#x73B0;&#x4E86;&#x5F02;&#x5E38;&#xFF0C;&#x5219;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x6B64;&#x65B9;&#x6CD5;afterCompletion&#xFF1A;&#x4E0D;&#x7BA1;&#x6709;&#x6CA1;&#x6709;&#x5F02;&#x5E38;&#xFF0C;&#x8FD9;&#x4E2A;afterCompletion&#x90FD;&#x4F1A;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x7528;&#x4E8E;&#x8D44;&#x6E90;&#x6E05;&#x7406; 3&#x3001;&#x6309;&#x7167;&#x6CE8;&#x518C;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x62E6;&#x622A;&#xFF0C;&#x5148;&#x6CE8;&#x518C;&#xFF0C;&#x5148;&#x88AB;&#x62E6;&#x622A; &#x62E6;&#x622A;&#x5668;&#x4E0D;&#x751F;&#x6548;&#x5E38;&#x89C1;&#x95EE;&#x9898;&#xFF1A;1&#xFF09;&#x662F;&#x5426;&#x6709;&#x52A0;@Configuration2&#xFF09;&#x62E6;&#x622A;&#x8DEF;&#x5F84;&#x662F;&#x5426;&#x6709;&#x95EE;&#x9898; * &#x548C; *3&#xFF09;&#x62E6;&#x622A;&#x5668;&#x6700;&#x540E;&#x8DEF;&#x5F84;&#x4E00;&#x5B9A;&#x8981; &#x201C;/**&#x201D;&#xFF0C; &#x5982;&#x679C;&#x662F;&#x76EE;&#x5F55;&#x7684;&#x8BDD;&#x5219;&#x662F; // &#x8FC7;&#x6EE4;&#x5668;&#x548C;&#x62E6;&#x622A;&#x5668;&#x7684;&#x533A;&#x522B;: Filter &#x662F;&#x57FA;&#x4E8E;&#x51FD;&#x6570;&#x56DE;&#x8C03; doFilter()&#xFF0C;&#x800C;Interceptor&#x5219;&#x662F;&#x57FA;&#x4E8E;AOP&#x601D;&#x60F3; Filter&#x5728;&#x53EA;&#x5728;Servlet&#x524D;&#x540E;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x800C;Interceptor&#x591F;&#x6DF1;&#x5165;&#x5230;&#x65B9;&#x6CD5;&#x524D;&#x540E;&#x3001;&#x5F02;&#x5E38;&#x629B;&#x51FA;&#x524D;&#x540E;&#x7B49; &#x4F9D;&#x8D56;&#x4E8E;Servlet&#x5BB9;&#x5668;&#x5373;web&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x800C;Interceptor&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;Servlet&#x5BB9;&#x5668;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x5728;&#x591A;&#x79CD;&#x73AF;&#x5883;&#x3002; &#x5728;&#x63A5;&#x53E3;&#x8C03;&#x7528;&#x7684;&#x751F;&#x547D;&#x5468;&#x671F;&#x91CC;&#xFF0C;Interceptor&#x53EF;&#x4EE5;&#x88AB;&#x591A;&#x6B21;&#x8C03;&#x7528;&#xFF0C;&#x800C;Filter&#x53EA;&#x80FD;&#x5728;&#x5BB9;&#x5668;&#x521D;&#x59CB;&#x5316;&#x65F6;&#x8C03;&#x7528;&#x4E00;&#x6B21;&#x3002; Filter&#x548C;Interceptor&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F; &#x8FC7;&#x6EE4;&#x524D;-&gt;&#x62E6;&#x622A;&#x524D;-&gt;action&#x6267;&#x884C;-&gt;&#x62E6;&#x622A;&#x540E;-&gt;&#x8FC7;&#x6EE4;&#x540E; 19.SpringBoot&#x5E38;&#x7528;Starter&#x4ECB;&#x7ECD;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x4EC0;&#x4E48;&#x662F;SpringBoot Starter&#x548C;&#x4E3B;&#x8981;&#x4F5C;&#x7528; 1&#x3001;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#using-boot-starter 2&#x3001;starter&#x4E3B;&#x8981;&#x7B80;&#x5316;&#x4F9D;&#x8D56;&#x7528;&#x7684; spring-boot-starter-web -&gt;&#x91CC;&#x9762;&#x5305;&#x542B;&#x591A;&#x79CD;&#x4F9D;&#x8D56; 3&#x3001;&#x51E0;&#x4E2A;&#x5E38;&#x7528;&#x7684;starter spring-boot-starter-activemq spring-boot-starter-aop spring-boot-starter-data-redis spring-boot-starter-freemarker spring-boot-starter-thymeleaf spring-boot-starter-webflux 21.SpringBoot2.x&#x5E38;&#x89C1;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x8BB2;&#x89E3;&#x548C;&#x5B98;&#x65B9;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x5E38;&#x7528;&#x7684;SpringBoot2.x&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x548C;&#x5B98;&#x65B9;&#x63A8;&#x8350;&#x6848;&#x4F8B; 1&#x3001;JSP&#xFF08;&#x540E;&#x7AEF;&#x6E32;&#x67D3;&#xFF0C;&#x6D88;&#x8017;&#x6027;&#x80FD;&#xFF09; Java Server Pages &#x52A8;&#x6001;&#x7F51;&#x9875;&#x6280;&#x672F;,&#x7531;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x4E2D;&#x7684;JSP&#x5F15;&#x64CE;&#x6765;&#x7F16;&#x8BD1;&#x548C;&#x6267;&#x884C;&#xFF0C;&#x518D;&#x5C06;&#x751F;&#x6210;&#x7684;&#x6574;&#x4E2A;&#x9875;&#x9762;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF; &#x53EF;&#x4EE5;&#x5199;java&#x4EE3;&#x7801; &#x6301;&#x8868;&#x8FBE;&#x5F0F;&#x8BED;&#x8A00;&#xFF08;el&#x3001;jstl&#xFF09; &#x5185;&#x5EFA;&#x51FD;&#x6570; JSP-&gt;Servlet(&#x5360;&#x7528;JVM&#x5185;&#x5B58;)permSize javaweb&#x5B98;&#x65B9;&#x63A8;&#x8350; springboot&#x4E0D;&#x63A8;&#x8350; https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-jsp-limitations 2&#x3001;Freemarker FreeMarker Template Language&#xFF08;FTL&#xFF09; &#x6587;&#x4EF6;&#x4E00;&#x822C;&#x4FDD;&#x5B58;&#x4E3A; xxx.ftl &#x4E25;&#x683C;&#x4F9D;&#x8D56;MVC&#x6A21;&#x5F0F;&#xFF0C;&#x4E0D;&#x4F9D;&#x8D56;Servlet&#x5BB9;&#x5668;&#xFF08;&#x4E0D;&#x5360;&#x7528;JVM&#x5185;&#x5B58;&#xFF09; &#x5185;&#x5EFA;&#x51FD;&#x6570; 3&#x3001;Thymeleaf (&#x4E3B;&#x63A8;) &#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x6A21;&#x677F;&#x5F15;&#x64CE;&#xFF08;&#x8D1F;&#x8D23;&#x903B;&#x8F91;&#x4E1A;&#x52A1;&#x7684;&#x4E0D;&#x63A8;&#x8350;&#xFF0C;&#x89E3;&#x6790;DOM&#x6216;&#x8005;XML&#x4F1A;&#x5360;&#x7528;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF09; &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x6253;&#x5F00;&#x4E14;&#x6B63;&#x786E;&#x663E;&#x793A;&#x6A21;&#x677F;&#x9875;&#x9762; &#x76F4;&#x63A5;&#x662F;html&#x7ED3;&#x5C3E;&#xFF0C;&#x76F4;&#x63A5;&#x7F16;&#x8F91;demo.net/user/userinfo.html&#x793E;&#x4F1A;&#x5DE5;&#x7A0B;&#x5B66;&#x4F2A;&#x88C5; &#x9632;&#x9ED1;&#x5BA2; 22.SpringBoot2.x&#x6574;&#x5408;&#x6A21;&#x677F;&#x5F15;&#x64CE;freemarker&#x5B9E;&#x6218;1&#x3001;Freemarker&#x76F8;&#x5173;maven&#x4F9D;&#x8D56; &lt;!-- &#x5F15;&#x5165;freemarker&#x6A21;&#x677F;&#x5F15;&#x64CE;&#x7684;&#x4F9D;&#x8D56; --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-freemarker&lt;/artifactId&gt; &lt;/dependency&gt;2&#x3001;&#x5728;application.properties&#x4E2D;&#x8FDB;&#x884C;Freemarker&#x7684;&#x57FA;&#x7840;&#x914D;&#x7F6E; #&#x662F;&#x5426;&#x5F00;&#x542F;freemarker&#x7F13;&#x5B58;,&#x672C;&#x5730;&#x4E3A;false&#xFF0C;&#x751F;&#x4EA7;&#x5EFA;&#x8BAE;&#x4E3A;true spring.freemarker.cache=false spring.freemarker.charset=UTF-8 spring.freemarker.allow-request-override=false spring.freemarker.check-template-location=true #&#x7C7B;&#x578B; spring.freemarker.content-type=text/html spring.freemarker.expose-request-attributes=true spring.freemarker.expose-session-attributes=true #&#x6587;&#x4EF6;&#x540E;&#x7F00; spring.freemarker.suffix=.ftl #&#x8DEF;&#x5F84; spring.freemarker.template-loader-path=classpath:/templates/3&#x3001;&#x5EFA;&#x7ACB;&#x6587;&#x4EF6;&#x5939; 1)src/main/resources/templates/fm/user/ 2)&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;index.ftl 3)user&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x9762;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;user.html &lt;!DOCTYPE html> &lt;html> &lt;head> &lt;meta charset="UTF-8"> &lt;title>Insert title here&lt;/title> &lt;/head> &lt;body> &lt;h1>&amp;#x8FD9;freemaker&amp;#x6574;&amp;#x5408;&amp;#xFF0C;index.html&amp;#x9875;&amp;#x9762;&lt;/h1> &lt;h1> ${setting.name} &lt;/h1> &lt;h1> ${setting.domain} &lt;/h1> &lt;/body> &lt;/html> 4&#x3001;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;freemarkerController @Controller @RequestMapping("/freemaker") public class FreemakerController { @Autowired private ServerSettings setting; @GetMapping("hello") public String index(ModelMap modelMap){ modelMap.addAttribute("setting", setting); return "fm/index"; //&amp;#x4E0D;&amp;#x7528;&amp;#x52A0;&amp;#x540E;&amp;#x7F00;&amp;#xFF0C;&amp;#x5728;&amp;#x914D;&amp;#x7F6E;&amp;#x6587;&amp;#x4EF6;&amp;#x91CC;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6307;&amp;#x5B9A;&amp;#x4E86;&amp;#x540E;&amp;#x7F00; } } 5&#x3001;&#x5C06;ServerSettings&#x8FD9;&#x4E2A;&#x6A21;&#x578B;&#x7C7B;&#x6DFB;&#x52A0;&#x8FDB;&#x6765;&#x4EE5;&#x4F9B;&#x6D4B;&#x8BD5; @Component @PropertySource({"classpath:application.properties"}) @ConfigurationProperties(prefix="test") public class ServerSettings { //&amp;#x540D;&amp;#x79F0; //@Value("${appname}") private String name; //@Value("${domain}") private String domain; public String getName() { return name; } public void setName(String name) { this.name = name; } public String getDomain() { return domain; } public void setDomain(String domain) { this.domain = domain; } } 5&#x3001;application.properties&#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0; test.domain=www.demo.net test.name=springboot23.SpringBoot2.x&#x6574;&#x5408;&#x6A21;&#x677F;&#x5F15;&#x64CE;thymeleaf&#x5B9E;&#x6218;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;https://www.thymeleaf.org/doc/articles/thymeleaf3migration.html1&#x3001;&#x914D;&#x7F6E;thymeleaf&#x76F8;&#x5173;maven&#x4F9D;&#x8D56; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt; &lt;/dependency&gt;2&#x3001;thymeleaf&#x57FA;&#x7840;&#x914D;&#x7F6E; #&#x6574;&#x5408;thymeleaf&#x76F8;&#x5173;&#x914D;&#x7F6E; #&#x5F00;&#x53D1;&#x65F6;&#x5173;&#x95ED;&#x7F13;&#x5B58;,&#x4E0D;&#x7136;&#x6CA1;&#x6CD5;&#x770B;&#x5230;&#x5B9E;&#x65F6;&#x9875;&#x9762; spring.thymeleaf.cache=false spring.thymeleaf.mode=HTML5 #&#x524D;&#x7F00; spring.thymeleaf.prefix=classpath:/templates/tl/ #&#x7F16;&#x7801; spring.thymeleaf.encoding=UTF-8 #&#x7C7B;&#x578B; spring.thymeleaf.content-type=text/html #&#x540D;&#x79F0;&#x7684;&#x540E;&#x7F00; spring.thymeleaf.suffix=.html3&#x3001;&#x5EFA;&#x7ACB;Controller @Controller @RequestMapping("/tyhmeleaf") public class ThymeleafController { @Autowired private ServerSettings setting; @GetMapping("hello") public String index(){ return "index"; //&amp;#x4E0D;&amp;#x7528;&amp;#x52A0;&amp;#x540E;&amp;#x7F00;&amp;#xFF0C;&amp;#x5728;&amp;#x914D;&amp;#x7F6E;&amp;#x6587;&amp;#x4EF6;&amp;#x91CC;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6307;&amp;#x5B9A;&amp;#x4E86;&amp;#x540E;&amp;#x7F00; } @GetMapping("info") public String admin(ModelMap modelMap){ modelMap.addAttribute("setting", setting); return "admin/info"; //&amp;#x4E0D;&amp;#x7528;&amp;#x52A0;&amp;#x540E;&amp;#x7F00;&amp;#xFF0C;&amp;#x5728;&amp;#x914D;&amp;#x7F6E;&amp;#x6587;&amp;#x4EF6;&amp;#x91CC;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6307;&amp;#x5B9A;&amp;#x4E86;&amp;#x540E;&amp;#x7F00; } } 4&#x3001;&#x5EFA;&#x7ACB;&#x6587;&#x4EF6;&#x5939;1)src/main/resources/templates/tl/2)&#x5728;template&#x4E0B;admin&#x6A21;&#x5757;&#x4E0B;&#x5EFA;&#x4E00;&#x4E2A;info.html &lt;!DOCTYPE html> &lt;html xmlns:th="http://www.w3.org/1999/xhtml"> &lt;head> &lt;meta charset="UTF-8"> &lt;title>Insert title here&lt;/title> &lt;/head> &lt;body> &amp;#x6A21;&amp;#x677F;&amp;#x5F15;&amp;#x64CE;&amp;#x6574;&amp;#x5408;thymeleaf admin/info.html &lt;h1 >&amp;#x6D4B;&amp;#x8BD5;&amp;#x5185;&amp;#x5BB9;&amp;#xFF0C;&amp;#x672A;&amp;#x52A0;th&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&lt;/h1> &lt;h1 th:text="${setting.name}">&amp;#x6D4B;&amp;#x8BD5;&amp;#x5185;&amp;#x5BB9;&lt;/h1> &lt;h1>demo.net&lt;/h1> &lt;/body> &lt;/html> 4&#x3001;&#x7B80;&#x5355;&#x6D4B;&#x8BD5;&#x4EE3;&#x7801;&#x7F16;&#x5199;&#x548C;&#x8BBF;&#x95EE; &#x6CE8;&#x610F;&#xFF1A;$&#x8868;&#x8FBE;&#x5F0F;&#x53EA;&#x80FD;&#x5199;&#x5728;th&#x6807;&#x7B7E;&#x5185;&#x90E8; &#x5FEB;&#x901F;&#x5165;&#x95E8;&#xFF1A;https://www.thymeleaf.org/doc/articles/standarddialect5minutes.html 23.SpringBoot2.x&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x4E4B;&#x6574;&#x5408;Mybaties&#x4ECB;&#x7ECD;&#x8FD1;&#x51E0;&#x5E74;&#x5E38;&#x7528;&#x7684;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x7684;&#x65B9;&#x5F0F;&#x548C;&#x4F18;&#x7F3A;&#x70B9; 1&#x3001;&#x539F;&#x59CB;java&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#x9EBB;&#x70E6; 1&#x3001;&#x6CE8;&#x518C;&#x9A71;&#x52A8;/&#x52A0;&#x8F7D;&#x9A71;&#x52A8; Class.forName(&quot;com.mysql.jdbc.Driver&quot;) 2&#x3001;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5; Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/dbname&quot;,&quot;root&quot;,&quot;root&quot;); 3&#x3001;&#x521B;&#x5EFA;Statement 4&#x3001;&#x6267;&#x884C;SQL&#x8BED;&#x53E5; 5&#x3001;&#x5904;&#x7406;&#x7ED3;&#x679C;&#x96C6; 6&#x3001;&#x5173;&#x95ED;&#x8FDE;&#x63A5;&#xFF0C;&#x91CA;&#x653E;&#x8D44;&#x6E90; 2&#x3001;apache dbutils&#x6846;&#x67B6; &#x6BD4;&#x4E0A;&#x4E00;&#x6B65;&#x7B80;&#x5355;&#x70B9; &#x5B98;&#x7F51;:https://commons.apache.org/proper/commons-dbutils/3&#x3001;jpa&#x6846;&#x67B6; spring-data-jpa jpa&#x5728;&#x590D;&#x6742;&#x67E5;&#x8BE2;&#x7684;&#x65F6;&#x5019;&#x6027;&#x80FD;&#x4E0D;&#x662F;&#x5F88;&#x597D;4&#x3001;Hiberante &#x89E3;&#x91CA;&#xFF1A;ORM&#xFF1A;&#x5BF9;&#x8C61;&#x5173;&#x7CFB;&#x6620;&#x5C04;Object Relational Mapping &#x4F01;&#x4E1A;&#x5927;&#x90FD;&#x559C;&#x6B22;&#x4F7F;&#x7528;hibernate5&#x3001;Mybatis&#x6846;&#x67B6; &#x4E92;&#x8054;&#x7F51;&#x884C;&#x4E1A;&#x901A;&#x5E38;&#x4F7F;&#x7528;mybatis &#x4E0D;&#x63D0;&#x4F9B;&#x5BF9;&#x8C61;&#x548C;&#x5173;&#x7CFB;&#x6A21;&#x578B;&#x7684;&#x76F4;&#x63A5;&#x6620;&#x5C04;,&#x534A;ORM24.SpringBoot2.x&#x6574;&#x5408;Mybatis3.x&#x6CE8;&#x89E3;&#x914D;&#x7F6E;&#x5B9E;&#x6218;1&#x3001;&#x4F7F;&#x7528;starter, maven&#x4ED3;&#x5E93;&#x5730;&#x5740;&#xFF1A;http://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter 2&#x3001;&#x52A0;&#x5165;&#x4F9D;&#x8D56;(&#x53EF;&#x4EE5;&#x7528; http://start.spring.io/ &#x4E0B;&#x8F7D;) &lt;!-- MySQL&#x7684;JDBC&#x9A71;&#x52A8;&#x5305; --&gt; &lt;!-- &#x5F15;&#x5165;starter--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- MySQL&#x7684;JDBC&#x9A71;&#x52A8;&#x5305; --&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- &#x5F15;&#x5165;&#x7B2C;&#x4E09;&#x65B9;&#x6570;&#x636E;&#x6E90; --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid&lt;/artifactId&gt; &lt;version&gt;1.1.6&lt;/version&gt; &lt;/dependency&gt;3&#x3001;&#x52A0;&#x5165;&#x914D;&#x7F6E;&#x6587;&#x4EF6; #mybatis.type-aliases-package=net.xdclass.base_project.domain #&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x8BC6;&#x522B; #spring.datasource.driver-class-name =com.mysql.jdbc.Driver spring.datasource.url=jdbc:mysql://localhost:3306/mybaties_demo?useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=GMT%2B8 spring.datasource.username =root spring.datasource.password =root #&#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7684;&#x6570;&#x636E;&#x6E90; &#xFF08;com.zaxxer.hikari.HikariDataSource,&#x6027;&#x80FD;&#x6700;&#x5FEB;&#x4F46;&#x4E0D;&#x5982;Druid&#x7684;&#x76D1;&#x63A7;&#xFF09; spring.datasource.type =com.alibaba.druid.pool.DruidDataSource&#x52A0;&#x8F7D;&#x914D;&#x7F6E;&#xFF0C;&#x6CE8;&#x5165;&#x5230;sqlSessionFactory&#x7B49;&#x90FD;&#x662F;springBoot&#x5E2E;&#x6211;&#x4EEC;&#x5B8C;&#x6210; 4&#x3001;&#x542F;&#x52A8;&#x7C7B;&#x589E;&#x52A0;mapper&#x626B;&#x63CF; @MapperScan(&quot;com.example.demo.mapper&quot;) &#x6280;&#x5DE7;&#xFF1A;&#x4FDD;&#x5B58;&#x5BF9;&#x8C61;&#xFF0C;&#x83B7;&#x53D6;&#x6570;&#x636E;&#x5E93;&#x81EA;&#x589E;id @Options(useGeneratedKeys=true, keyProperty=&quot;id&quot;, keyColumn=&quot;id&quot;)4&#x3001;&#x5F00;&#x53D1;controller services mapper&#x5F00;&#x53D1;controller: @RestController @RequestMapping("/api/v1/user") public class UserController { @Autowired private UserService userService; /** * &amp;#x529F;&amp;#x80FD;&amp;#x63CF;&amp;#x8FF0;: user &amp;#x4FDD;&amp;#x5B58;&amp;#x63A5;&amp;#x53E3; * @return */ @GetMapping("add") public Object add(){ User user = new User(); user.setAge(11); user.setCreateTime(new Date()); user.setName("demo"); user.setPhone("1000000000"); int id = userService.add(user); return JsonData.buildSuccess(id); } services: public interface UserService { public int add(User user); //public int addAccount(); } mapper: public interface UserMapper { //&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;#{ }&amp;#x53D6;&amp;#x503C;&amp;#xFF0C;&amp;#x4E0D;&amp;#x8981;&amp;#x7528;${ },&amp;#x56E0;&amp;#x4E3A;&amp;#x5B58;&amp;#x5728;&amp;#x6CE8;&amp;#x5165;&amp;#x7684;&amp;#x98CE;&amp;#x9669; @Insert("INSERT INTO user(name,phone,create_time,age) VALUES(#{name}, #{phone}, #{createTime},#{age})") @Options(useGeneratedKeys=true, keyProperty="id", keyColumn="id") //keyProperty java&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#xFF1B;keyColumn&amp;#x8868;&amp;#x793A;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5; int insert(User user); // // @Select("SELECT * FROM user") // @Results({ //create_time&amp;#x8868;&amp;#x793A;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5; property&amp;#x8868;&amp;#x793A;&amp;#x5B9E;&amp;#x4F53;&amp;#x7C7B;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5; //&amp;#x4ECE;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x67E5;&amp;#x51FA;&amp;#x6765;&amp;#x6570;&amp;#x636E;&amp;#x4EE5;&amp;#x540E;&amp;#x5C06;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x6570;&amp;#x636E;&amp;#x6620;&amp;#x5C04;&amp;#x5230;&amp;#x5B9E;&amp;#x4F53;&amp;#x7C7B;&amp;#x4E0A; // @Result(column = "create_time",property = "createTime") //javaType = java.util.Date.class // }) // List&lt;User> getAll(); // // // // @Select("SELECT * FROM user WHERE id = #{id}") // @Results({ // @Result(column = "create_time",property = "createTime") // }) // User findById(Long id); // // // // @Update("UPDATE user SET name=#{name} WHERE id =#{id}") // void update(User user); // // @Delete("DELETE FROM user WHERE id =#{userId}") // void delete(Long userId); // } &#x53C2;&#x8003;&#x8BED;&#x6CD5; http://www.mybatis.org/mybatis-3/zh/java-api.html 5&#x3001;sql&#x811A;&#x672C; CREATE TABLE `user` ( `id` int(11) unsigned NOT NULL AUTO_INCREMENT, `name` varchar(128) DEFAULT NULL COMMENT &amp;apos;&amp;#x540D;&amp;#x79F0;&amp;apos;, `phone` varchar(16) DEFAULT NULL COMMENT &amp;apos;&amp;#x7528;&amp;#x6237;&amp;#x624B;&amp;#x673A;&amp;#x53F7;&amp;apos;, `create_time` datetime DEFAULT NULL COMMENT &amp;apos;&amp;#x521B;&amp;#x5EFA;&amp;#x65F6;&amp;#x95F4;&amp;apos;, `age` int(4) DEFAULT NULL COMMENT &amp;apos;&amp;#x5E74;&amp;#x9F84;&amp;apos;, PRIMARY KEY (`id`) ) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8; &#x76F8;&#x5173;&#x8D44;&#x6599;&#xFF1A;http://www.mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/#Configuration https://github.com/mybatis/spring-boot-starter/tree/master/mybatis-spring-boot-samples &#x6574;&#x5408;&#x95EE;&#x9898;&#x96C6;&#x5408;&#xFF1A;https://my.oschina.net/hxflar1314520/blog/1800035https://blog.csdn.net/tingxuetage/article/details/80179772 25.SpringBoot2.x&#x6574;&#x5408;Mybatis3.x&#x589E;&#x5220;&#x6539;&#x67E5;&#x5B9E;&#x64CD;&#x548C;&#x63A7;&#x5236;&#x53F0;&#x6253;&#x5370;SQL&#x8BED;&#x53E5;#&#x589E;&#x52A0;&#x6253;&#x5370;sql&#x8BED;&#x53E5;&#xFF0C;&#x4E00;&#x822C;&#x7528;&#x4E8E;&#x672C;&#x5730;&#x5F00;&#x53D1;&#x6D4B;&#x8BD5; mybatis.configuration.log-impl=org.apache.ibatis.logging.stdout.StdOutImpl&#x589E;&#x52A0;mapper&#x4EE3;&#x7801; @Select("SELECT * FROM user") @Results({ @Result(column = "create_time",property = "createTime") //javaType = java.util.Date.class }) List&lt;User> getAll(); @Select("SELECT * FROM user WHERE id = #{id}") @Results({ @Result(column = "create_time",property = "createTime") }) User findById(Long id); @Update("UPDATE user SET name=#{name} WHERE id =#{id}") void update(User user); @Delete("DELETE FROM user WHERE id =#{userId}") void delete(Long userId); &#x589E;&#x52A0;Controller @GetMapping("find_all") public Object findAll(){ return JsonData.buildSuccess(userMapper.getAll()); } @GetMapping("find_by_Id") public Object findById(long id){ return JsonData.buildSuccess(userMapper.findById(id)); } @GetMapping("del_by_id") public Object delById(long id){ userMapper.delete(id); return JsonData.buildSuccess(); } @GetMapping("update") public Object update(String name,int id){ User user = new User(); user.setName(name); user.setId(id); userMapper.update(user); return JsonData.buildSuccess(); } 26.&#x4E8B;&#x52A1;&#x4ECB;&#x7ECD;&#x548C;&#x5E38;&#x89C1;&#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;&#xFF0C;&#x4F20;&#x64AD;&#x884C;&#x4E3A;&#x4E0D;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x4E0D;&#x8981;&#x52A0;&#x4E8B;&#x52A1;&#x6BD4;&#x8F83;&#x597D;&#x8D39;&#x6027;&#x80FD; &#x5B83;&#x6709;&#x4E2A;&#x9501;1&#x3001;service&#x903B;&#x8F91;&#x5F15;&#x5165;&#x4E8B;&#x52A1; @Transantional(propagation=Propagation.REQUIRED)2&#x3001;service&#x4EE3;&#x7801; @Override public int addAccount() { User user = new User(); user.setAge(9); user.setCreateTime(new Date()); user.setName("&amp;#x4E8B;&amp;#x52A1;&amp;#x6D4B;&amp;#x8BD5;"); user.setPhone("000121212"); userMapper.insert(user); int a = 1/0; return user.getId(); } &#x6B64;&#x65F6;&#x5C3D;&#x7BA1;&#x629B;&#x5F02;&#x5E38;&#x4E86;&#x4F46;&#x6570;&#x636E;&#x8FD8;&#x662F;&#x6267;&#x884C;&#x6210;&#x529F;&#x4E86; 3&#x3001;&#x8BB2;&#x89E3;&#x573A;&#x666F;&#x7684;&#x9694;&#x79BB;&#x7EA7;&#x522B;Serializable&#xFF1A; &#x6700;&#x4E25;&#x683C;&#xFF0C;&#x4E32;&#x884C;&#x5904;&#x7406;&#xFF0C;&#x6D88;&#x8017;&#x8D44;&#x6E90;&#x5927;Repeatable Read&#xFF1A;&#x4FDD;&#x8BC1;&#x4E86;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x4E0D;&#x4F1A;&#x4FEE;&#x6539;&#x5DF2;&#x7ECF;&#x7531;&#x53E6;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x8BFB;&#x53D6;&#x4F46;&#x672A;&#x63D0;&#x4EA4;&#xFF08;&#x56DE;&#x6EDA;&#xFF09;&#x7684;&#x6570;&#x636E;Read Committed&#xFF1A;&#x5927;&#x591A;&#x6570;&#x4E3B;&#x6D41;&#x6570;&#x636E;&#x5E93;&#x7684;&#x9ED8;&#x8BA4;&#x4E8B;&#x52A1;&#x7B49;&#x7EA7;Read Uncommitted&#xFF1A;&#x4FDD;&#x8BC1;&#x4E86;&#x8BFB;&#x53D6;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0D;&#x4F1A;&#x8BFB;&#x53D6;&#x5230;&#x975E;&#x6CD5;&#x6570;&#x636E;&#x3002; 4&#x3001;&#x8BB2;&#x89E3;&#x5E38;&#x89C1;&#x7684;&#x4F20;&#x64AD;&#x884C;&#x4E3A;PROPAGATION_REQUIRED&#x2013;&#x652F;&#x6301;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x5C31;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;,&#x6700;&#x5E38;&#x89C1;&#x7684;&#x9009;&#x62E9;&#x3002; PROPAGATION_SUPPORTS&#x2013;&#x652F;&#x6301;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x5C31;&#x4EE5;&#x975E;&#x4E8B;&#x52A1;&#x65B9;&#x5F0F;&#x6267;&#x884C;&#x3002; PROPAGATION_MANDATORY&#x2013;&#x652F;&#x6301;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6CA1;&#x6709;&#x4E8B;&#x52A1;&#xFF0C;&#x5C31;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002; PROPAGATION_REQUIRES_NEW&#x2013;&#x65B0;&#x5EFA;&#x4E8B;&#x52A1;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x5B58;&#x5728;&#x4E8B;&#x52A1;&#xFF0C;&#x628A;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x6302;&#x8D77;, &#x4E24;&#x4E2A;&#x4E8B;&#x52A1;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x5173;&#x7CFB;&#xFF0C;&#x4E00;&#x4E2A;&#x5F02;&#x5E38;&#xFF0C;&#x4E00;&#x4E2A;&#x63D0;&#x4EA4;&#xFF0C;&#x4E0D;&#x4F1A;&#x540C;&#x65F6;&#x56DE;&#x6EDA; PROPAGATION_NOT_SUPPORTED&#x2013;&#x4EE5;&#x975E;&#x4E8B;&#x52A1;&#x65B9;&#x5F0F;&#x6267;&#x884C;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x5B58;&#x5728;&#x4E8B;&#x52A1;&#xFF0C;&#x5C31;&#x628A;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x6302;&#x8D77;&#x3002; PROPAGATION_NEVER&#x2013;&#x4EE5;&#x975E;&#x4E8B;&#x52A1;&#x65B9;&#x5F0F;&#x6267;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x5B58;&#x5728;&#x4E8B;&#x52A1;&#xFF0C;&#x5219;&#x629B;&#x51FA;&#x5F02;&#x5E38; 26.SpringBoot&#x6574;&#x5408;mybatis&#x4E4B;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x5B9E;&#x6218;1&#x3001;service&#x903B;&#x8F91;&#x5F15;&#x5165;&#x4E8B;&#x52A1; @Transantional(propagation=Propagation.REQUIRED) 2&#x3001;service&#x4EE3;&#x7801; @Override @Transactional public int addAccount() { User user = new User(); user.setAge(9); user.setCreateTime(new Date()); user.setName("&amp;#x4E8B;&amp;#x52A1;&amp;#x6D4B;&amp;#x8BD5;"); user.setPhone("000121212"); userMapper.insert(user); int a = 1/0; return user.getId(); } 27.SpringBoot2.x&#x6574;&#x5408;redis&#x5B9E;&#x6218;&#x8BB2;&#x89E3;1&#x3001;&#x5FEB;&#x901F;&#x5B89;&#x88C5; https://redis.io/download &#x542F;&#x52A8;&#x670D;&#x52A1;&#x7AEF;&#xFF1A;src/redis-server&#x542F;&#x52A8;&#x5BA2;&#x6237;&#x7AEF;&#xFF1A;src/redis-cli 2&#x3001;&#x9ED8;&#x8BA4;&#x662F;&#x672C;&#x5730;&#x8BBF;&#x95EE;&#x7684;&#xFF0C;&#x9700;&#x8981;&#x5F00;&#x653E;&#x5916;&#x7F51;&#x8BBF;&#x95EE; 1&#xFF09;&#x6253;&#x5F00;redis.conf&#x6587;&#x4EF6;&#x5728;NETWORK&#x90E8;&#x5206;&#x4FEE;&#x6539; &#x6CE8;&#x91CA;&#x6389;bind 127.0.0.1&#x53EF;&#x4EE5;&#x4F7F;&#x6240;&#x6709;&#x7684;ip&#x8BBF;&#x95EE;redis &#x4FEE;&#x6539; protected-mode&#xFF0C;&#x503C;&#x6539;&#x4E3A;no &#x4EE5;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x542F;&#x52A8; nohup ./redis-server./redis-server &amp;&#x5FEB;&#x901F;&#x67E5;&#x770B;&#x670D;&#x52A1; lsof -i &#x7AEF;&#x53E3;&#x53F7;28.SpringBoot2.x&#x6574;&#x5408;redis&#x5B9E;&#x6218;&#x8BB2;&#x89E3; 1&#x3001;&#x5B98;&#x7F51;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-redis &#x96C6;&#x7FA4;&#x6587;&#x6863;&#xFF1A;https://docs.spring.io/spring-data/data-redis/docs/current/reference/html/#cluster 2&#x3001;springboot&#x6574;&#x5408;redis&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#x5F15;&#x5165; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt; &lt;/dependency&gt;3&#x3001;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x914D;&#x7F6E; #=========redis&#x57FA;&#x7840;&#x914D;&#x7F6E;========= spring.redis.database=0 spring.redis.host=redis&#x8FDC;&#x7A0B;&#x4E3B;&#x673A;IP spring.redis.port=redis&#x7AEF;&#x53E3;&#x53F7; # &#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4; &#x5355;&#x4F4D; ms&#xFF08;&#x6BEB;&#x79D2;&#xFF09; spring.redis.timeout=3000 #=========redis&#x7EBF;&#x7A0B;&#x6C60;&#x8BBE;&#x7F6E;========= # &#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7684;&#x6700;&#x5927;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E5F;&#x662F;8&#x3002; spring.redis.pool.max-idle=200 #&#x8FDE;&#x63A5;&#x6C60;&#x4E2D;&#x7684;&#x6700;&#x5C0F;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E5F;&#x662F;0&#x3002; spring.redis.pool.min-idle=200 # &#x5982;&#x679C;&#x8D4B;&#x503C;&#x4E3A;-1&#xFF0C;&#x5219;&#x8868;&#x793A;&#x4E0D;&#x9650;&#x5236;&#xFF1B;pool&#x5DF2;&#x7ECF;&#x5206;&#x914D;&#x4E86;maxActive&#x4E2A;jedis&#x5B9E;&#x4F8B;&#xFF0C;&#x5219;&#x6B64;&#x65F6;pool&#x7684;&#x72B6;&#x6001;&#x4E3A;exhausted(&#x8017;&#x5C3D;)&#x3002; spring.redis.pool.max-active=2000 # &#x7B49;&#x5F85;&#x53EF;&#x7528;&#x8FDE;&#x63A5;&#x7684;&#x6700;&#x5927;&#x65F6;&#x95F4;&#xFF0C;&#x5355;&#x4F4D;&#x6BEB;&#x79D2;&#xFF0C;&#x9ED8;&#x8BA4;&#x503C;&#x4E3A;-1&#xFF0C;&#x8868;&#x793A;&#x6C38;&#x4E0D;&#x8D85;&#x65F6; spring.redis.pool.max-wait=10004&#x3001;&#x5E38;&#x89C1;redistemplate&#x79CD;&#x7C7B;&#x8BB2;&#x89E3;&#x548C;&#x7F13;&#x5B58;&#x5B9E;&#x64CD;(&#x4F7F;&#x7528;&#x81EA;&#x52A8;&#x6CE8;&#x5165;)&#x6CE8;&#x5165;&#x6A21;&#x677F;:@Autowiredprivate StirngRedisTemplate strTplRedis &#x7C7B;&#x578B;String&#xFF0C;List,Hash,Set,ZSet:&#x5BF9;&#x5E94;&#x7684;&#x65B9;&#x6CD5;&#x5206;&#x522B;&#x662F;opsForValue()&#x3001;opsForList()&#x3001;opsForHash()&#x3001;opsForSet()&#x3001;opsForZSet() @RestController @RequestMapping("/api/v1/redis") public class RdisTestController { @Autowired private StringRedisTemplate redisTpl; //jdbcTemplate @GetMapping(value="add") public Object add(){ //opsForValue : Returns the operations performed on simple values (or Strings in Redis terminology). redisTpl.opsForValue().set("name", "demo"); return JsonData.buildSuccess(); } @GetMapping(value="get") public Object get(){ String value = redisTpl.opsForValue().get("name"); return JsonData.buildSuccess(value); } } &#x6CE8;:&#x4E3A;redis&#x5206;&#x914D;&#x4E00;&#x4E2A;8888&#x7AEF;&#x53E3;&#xFF0C;&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;:1.&#x628A;redis.conf&#x91CD;&#x65B0;&#x590D;&#x5236;&#x4E00;&#x4EFD;&#xFF0C;&#x91CD;&#x547D;&#x540D;&#x4E3A;redis8888.conf&#x3002;2.&#x6253;&#x5F00;redis8888.conf&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x627E;&#x5230;port 6379&#x8FD9;&#x884C;&#xFF0C;&#x628A;6379&#x6539;&#x4E3A;8888&#x3002;3.&#x542F;&#x52A8;redis&#x670D;&#x52A1;:./redis-server ~/redis-4.0.9/redis10008.conf &amp; 29.SpringBoot&#x6574;&#x5408;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;schedule1&#x3001;&#x5E38;&#x89C1;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1; Java&#x81EA;&#x5E26;&#x7684;java.util.Timer&#x7C7B;timer:&#x914D;&#x7F6E;&#x6BD4;&#x8F83;&#x9EBB;&#x70E6;&#xFF0C;&#x65F6;&#x95F4;&#x5EF6;&#x540E;&#x95EE;&#x9898;timertask:&#x4E0D;&#x63A8;&#x8350; 2&#x3001;Quartz&#x6846;&#x67B6;&#x914D;&#x7F6E;&#x66F4;&#x7B80;&#x5355;xml&#x6216;&#x8005;&#x6CE8;&#x89E3; 3&#x3001;SpringBoot&#x4F7F;&#x7528;&#x6CE8;&#x89E3;&#x65B9;&#x5F0F;&#x5F00;&#x542F;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;1&#xFF09;&#x542F;&#x52A8;&#x7C7B;&#x91CC;&#x9762; @EnableScheduling&#x5F00;&#x542F;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#xFF0C;&#x81EA;&#x52A8;&#x626B;&#x63CF;2&#xFF09;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x4E1A;&#x52A1;&#x7C7B; &#x52A0;&#x6CE8;&#x89E3; @Component&#x88AB;&#x5BB9;&#x5668;&#x626B;&#x63CF;3&#xFF09;&#x5B9A;&#x65F6;&#x6267;&#x884C;&#x7684;&#x65B9;&#x6CD5;&#x52A0;&#x4E0A;&#x6CE8;&#x89E3; @Scheduled(fixedRate=2000) &#x5B9A;&#x671F;&#x6267;&#x884C;&#x4E00;&#x6B21; 30.SpringBoot&#x5E38;&#x7528;&#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x914D;&#x7F6E;&#x5B9E;&#x6218;1)cron &#x5B9A;&#x65F6;&#x4EFB;&#x52A1;&#x8868;&#x8FBE;&#x5F0F; @Scheduled(cron=&#x201D;*/1 * * * * *&#x201D;) &#x8868;&#x793A;&#x6BCF;&#x79D2; crontab &#x5DE5;&#x5177; https://tool.lu/crontab/2)fixedRate: &#x5B9A;&#x65F6;&#x591A;&#x4E45;&#x6267;&#x884C;&#x4E00;&#x6B21;&#xFF08;&#x4E0A;&#x4E00;&#x6B21;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x65F6;&#x95F4;&#x70B9;&#x540E;xx&#x79D2;&#x518D;&#x6B21;&#x6267;&#x884C;;)3)fixedDelay: &#x4E0A;&#x4E00;&#x6B21;&#x6267;&#x884C;&#x7ED3;&#x675F;&#x65F6;&#x95F4;&#x70B9;&#x540E;xx&#x79D2;&#x518D;&#x6B21;&#x6267;&#x884C;4)fixedDelayString: &#x5B57;&#x7B26;&#x4E32;&#x5F62;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6307;&#x5B9A; 31.SpringBoot &#x6574;&#x5408;logback&#x5728;resource&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;logback-spring.xml&#x6587;&#x4EF6; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt; &lt;configuration&gt; &lt;appender name=&quot;consoleApp&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt; &lt;pattern&gt; %date{yyyy-MM-dd HH:mm:ss.SSS} %-5level[%thread]%logger{56}.%method:%L -%msg%n &lt;/pattern&gt; &lt;/layout&gt; &lt;/appender&gt; &lt;appender name=&quot;fileInfoApp&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt; &lt;filter class=&quot;ch.qos.logback.classic.filter.LevelFilter&quot;&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;onMatch&gt;DENY&lt;/onMatch&gt; &lt;onMismatch&gt;ACCEPT&lt;/onMismatch&gt; &lt;/filter&gt; &lt;encoder&gt; &lt;pattern&gt; %date{yyyy-MM-dd HH:mm:ss.SSS} %-5level[%thread]%logger{56}.%method:%L -%msg%n &lt;/pattern&gt; &lt;/encoder&gt; &lt;!-- &#x6EDA;&#x52A8;&#x7B56;&#x7565; --&gt; &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt; &lt;!-- &#x8DEF;&#x5F84; --&gt; &lt;fileNamePattern&gt;app_log/log/app.info.%d.log&lt;/fileNamePattern&gt; &lt;/rollingPolicy&gt; &lt;/appender&gt; &lt;appender name=&quot;fileErrorApp&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt; &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt; &lt;level&gt;ERROR&lt;/level&gt; &lt;/filter&gt; &lt;encoder&gt; &lt;pattern&gt; %date{yyyy-MM-dd HH:mm:ss.SSS} %-5level[%thread]%logger{56}.%method:%L -%msg%n &lt;/pattern&gt; &lt;/encoder&gt; &lt;!-- &#x8BBE;&#x7F6E;&#x6EDA;&#x52A8;&#x7B56;&#x7565; --&gt; &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt; &lt;!-- &#x8DEF;&#x5F84; --&gt; &lt;fileNamePattern&gt;app_log/log/app.err.%d.log&lt;/fileNamePattern&gt; &lt;!-- &#x63A7;&#x5236;&#x4FDD;&#x7559;&#x7684;&#x5F52;&#x6863;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x5927;&#x6570;&#x91CF;&#xFF0C;&#x8D85;&#x51FA;&#x6570;&#x91CF;&#x5C31;&#x5220;&#x9664;&#x65E7;&#x6587;&#x4EF6;&#xFF0C;&#x5047;&#x8BBE;&#x8BBE;&#x7F6E;&#x6BCF;&#x4E2A;&#x6708;&#x6EDA;&#x52A8;&#xFF0C; &#x4E14;&lt;maxHistory&gt; &#x662F;1&#xFF0C;&#x5219;&#x53EA;&#x4FDD;&#x5B58;&#x6700;&#x8FD1;1&#x4E2A;&#x6708;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x5220;&#x9664;&#x4E4B;&#x524D;&#x7684;&#x65E7;&#x6587;&#x4EF6; --&gt; &lt;MaxHistory&gt;1&lt;/MaxHistory&gt; &lt;/rollingPolicy&gt; &lt;/appender&gt; &lt;!--&#x63A7;&#x5236;&#x8F93;&#x51FA;&#x7684;&#x6700;&#x66F4;&#x9AD8;&#x7EA7;&#x522B;--&gt; &lt;root level=&quot;INFO&quot;&gt; &lt;appender-ref ref=&quot;consoleApp&quot;/&gt; &lt;appender-ref ref=&quot;fileInfoApp&quot;/&gt; &lt;appender-ref ref=&quot;fileErrorApp&quot;/&gt; &lt;/root&gt; &lt;/configuration&gt;32.&#x641C;&#x7D22;&#x6846;&#x67B6;elasticsearch&#x4ECB;&#x7ECD;SpringBoot &#x6574;&#x5408;elasticsearch&#x7B80;&#x4ECB;&#xFF1A;&#x901A;&#x8FC7;&#x4EAC;&#x4E1C;&#x7535;&#x5546; &#x4ECB;&#x7ECD;&#x4EC0;&#x4E48;&#x662F;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#xFF0C;&#x548C;&#x5F00;&#x6E90;&#x641C;&#x7D22;&#x6846;&#x67B6;ElasticSearch6.x&#x65B0;&#x7279;&#x6027;&#x4ECB;&#x7ECD; &#x524D;&#x8A00;&#xFF1A;&#x4ECB;&#x7ECD;ES&#x7684;&#x4E3B;&#x8981;&#x7279;&#x70B9;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF0C;&#x65B0;&#x7279;&#x6027;&#x8BB2;&#x89E3; mysql&#xFF1A;like &#x6A21;&#x7CCA;&#xFF0C;&#x6027;&#x80FD;&#x95EE;&#x9898;, solr:&#x9488;&#x5BF9;&#x4F01;&#x4E1A;&#xFF0C;Lucene elasticsearch&#xFF1A;&#x9488;&#x5BF9;&#x6570;&#x636E;&#x91CF;&#x7279;&#x522B;&#x5927;&#xFF0C;PB,TB &#x7EAF;java&#x5F00;&#x53D1;&#xFF0C;springboot&#x4F7F;&#x7528;&#xFF0C;5.6&#x7248;&#x672C; es&#x5347;&#x7EA7;4-&gt;5&#x7248;&#x672C;&#xFF0C;&#x6539;&#x52A8;&#x5927;&#xFF0C;&#x4F46;&#x662F;5&#x7248;&#x672C;&#x540E;&#xFF0C;&#x6539;&#x52A8;&#x4E0D;&#x5927; elasticSearch&#x4E3B;&#x8981;&#x7279;&#x70B9; 1&#x3001;&#x7279;&#x70B9;&#xFF1A;&#x5168;&#x6587;&#x68C0;&#x7D22;&#xFF0C;&#x7ED3;&#x6784;&#x5316;&#x68C0;&#x7D22;&#xFF0C;&#x6570;&#x636E;&#x7EDF;&#x8BA1;&#x3001;&#x5206;&#x6790;&#xFF0C;&#x63A5;&#x8FD1;&#x5B9E;&#x65F6;&#x5904;&#x7406;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x641C;&#x7D22;(&#x53EF;&#x90E8;&#x7F72;&#x6570;&#x767E;&#x53F0;&#x670D;&#x52A1;&#x5668;)&#xFF0C;&#x5904;&#x7406;PB&#x7EA7;&#x522B;&#x7684;&#x6570;&#x636E; &#x641C;&#x7D22;&#x7EA0;&#x9519;&#xFF0C;&#x81EA;&#x52A8;&#x5B8C;&#x6210; 2&#x3001;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF1A;&#x65E5;&#x5FD7;&#x641C;&#x7D22;&#xFF0C;&#x6570;&#x636E;&#x805A;&#x5408;&#xFF0C;&#x6570;&#x636E;&#x76D1;&#x63A7;&#xFF0C;&#x62A5;&#x8868;&#x7EDF;&#x8BA1;&#x5206;&#x6790; 3&#x3001;&#x56FD;&#x5185;&#x5916;&#x4F7F;&#x7528;&#x8005;&#xFF1A;&#x7EF4;&#x57FA;&#x767E;&#x79D1;&#xFF0C;Stack Overflow&#xFF0C;GitHub &#x65B0;&#x7279;&#x6027;&#x8BB2;&#x89E3; 1&#x3001;6.2.x&#x7248;&#x672C;&#x57FA;&#x4E8E;Lucene 7.x&#xFF0C;&#x66F4;&#x5FEB;&#xFF0C;&#x6027;&#x80FD;&#x8FDB;&#x4E00;&#x6B65;&#x63D0;&#x5347;,&#x5BF9;&#x5E94;&#x7684;&#x5E8F;&#x5217;&#x5316;&#x7EC4;&#x4EF6;&#xFF0C;&#x5347;&#x7EA7;&#x5230;Jackson 2.8 mysql&#xFF1A;database table rocord es : index type&#xFF08;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x53EA;&#x80FD;&#x5B58;&#x5728;&#x4E00;&#x4E2A;&#x8868;) document 2&#x3001;&#x63A8;&#x8350;&#x4F7F;&#x7528;5.0&#x7248;&#x672C;&#x63A8;&#x51FA;&#x7684;Java REST/HTTP&#x5BA2;&#x6237;&#x7AEF;&#xFF0C;&#x4F9D;&#x8D56;&#x5C11;&#xFF0C;&#x6BD4;Transport&#x4F7F;&#x7528;&#x66F4;&#x65B9;&#x4FBF;&#xFF0C;&#x5728;&#x57FA;&#x51C6;&#x6D4B;&#x8BD5;&#x4E2D;&#xFF0C;&#x6027;&#x80FD;&#x5E76;&#x4E0D;&#x8F93;&#x4E8E;Transport&#x5BA2;&#x6237;&#x7AEF;&#xFF0C; &#x5728;5.0&#x5230;6.0&#x7248;&#x672C;&#x4E2D;&#xFF0C;&#x6BCF;&#x6B21;&#x6709;&#x5BF9;&#x5E94;&#x7684;API&#x66F4;&#x65B0;, &#x6587;&#x6863;&#x4E2D;&#x4E5F;&#x8BF4;&#x660E;&#xFF0C;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#x4F7F;&#x7528;,&#x6240;&#x6709;&#x53EF;&#x7528;&#x8282;&#x70B9;&#x95F4;&#x7684;&#x8D1F;&#x8F7D;&#x5747;&#x8861; &#x5728;&#x8282;&#x70B9;&#x6545;&#x969C;&#x548C;&#x7279;&#x5B9A;&#x54CD;&#x5E94;&#x4EE3;&#x7801;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x8FDB;&#x884C;&#x6545;&#x969C;&#x8F6C;&#x79FB;,&#x5931;&#x8D25;&#x7684;&#x8FDE;&#x63A5;&#x5904;&#x7F5A;&#xFF08;&#x5931;&#x8D25;&#x7684;&#x8282;&#x70B9;&#x662F;&#x5426;&#x91CD;&#x8BD5;&#x53D6;&#x51B3;&#x4E8E;&#x5931;&#x8D25;&#x7684;&#x8FDE;&#x7EED;&#x6B21;&#x6570;;&#x5931;&#x8D25;&#x7684;&#x5931;&#x8D25;&#x6B21;&#x6570;&#x8D8A;&#x591A;&#xFF0C;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x518D;&#x6B21;&#x5C1D;&#x8BD5;&#x540C;&#x4E00;&#x8282;&#x70B9;&#x4E4B;&#x524D;&#x7B49;&#x5F85;&#x7684;&#x65F6;&#x95F4;&#x8D8A;&#x957F;&#xFF09; 3&#x3001;(&#x91CD;&#x8981;)&#x4E0D;&#x518D;&#x652F;&#x6301;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x5E93;&#x91CC;&#x9762;&#x591A;&#x4E2A;type&#xFF0C;6.x&#x7248;&#x672C;&#x5DF2;&#x7ECF;&#x7981;&#x6B62;&#x4E00;&#x4E2A;index&#x91CC;&#x9762;&#x591A;&#x4E2A;type&#xFF0C;&#x6240;&#x4EE5;&#x4E00;&#x4E2A;index&#x7D22;&#x5F15;&#x5E93;&#x53EA;&#x80FD;&#x5B58;&#x5728;1&#x4E2A;type &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A; 1&#x3001;6.0&#x66F4;&#x65B0;&#x7279;&#x6027; https://www.elastic.co/guide/en/elasticsearch/reference/6.0/release-notes-6.0.0.html#breaking-java-6.0.0 2&#x3001;6.1&#x66F4;&#x65B0;&#x7279;&#x6027; https://www.elastic.co/guide/en/elasticsearch/reference/6.1/release-notes-6.1.0.html 33.&#x5FEB;&#x901F;&#x90E8;&#x7F72;ElastcSearch5.6.x&#x914D;&#x7F6E;JDK1.8 &#x4F7F;&#x7528;wget &#x4E0B;&#x8F7D;elasticsearch&#x5B89;&#x88C5;&#x5305; wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.8.tar.gz &#x89E3;&#x538B; tar -zxvf elasticsearch-5.6.8.tar.gz &#x5B98;&#x7F51;&#xFF1A;https://www.elastic.co/products/elasticsearch &#x5916;&#x7F51;&#x8BBF;&#x95EE;&#x914D;&#x7F6E;&#xFF1A; config&#x76EE;&#x5F55;&#x4E0B;&#x9762;elasticsearch.yml &#x4FEE;&#x6539;&#x4E3A; network.host: 0.0.0.0&#x7AEF;&#x53E3;&#x53F7;&#x4E5F;&#x8981;&#x53BB;&#x6389;&#x6CE8;&#x91CA; ES&#x540E;&#x53F0;&#x8FD0;&#x884C;&#x547D;&#x4EE4;: nohup ./bin/elasticsearch &amp; ./elasticsearch -d &#x914D;&#x7F6E;es&#x51FA;&#x73B0;&#x76F8;&#x5173;&#x95EE;&#x9898;&#x5904;&#x7406;&#xFF08;&#x963F;&#x91CC;&#x4E91;&#x3001;&#x817E;&#x8BAF;&#x4E91;&#xFF0C;&#x4E9A;&#x9A6C;&#x900A;&#x4E91;&#x5B89;&#x88C5;&#x95EE;&#x9898;&#x96C6;&#x5408;&#xFF09;&#xFF1A; 1&#x3001;&#x95EE;&#x9898;&#x4E00;Java HotSpot(TM) 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5330000, 986513408, 0) failed; error=&#x2019;Cannot allocate memory&#x2019; (errno=12)#There is insufficient memory for the Java Runtime Environment to continue.Native memory allocation (mmap) failed to map 986513408 bytes for committing reserved memory.An error report file with more information is saved as:/usr/local/software/temp/elasticsearch-6.2.2/hs_err_pid1912.log&#x89E3;&#x51B3;&#xFF1A;&#x5185;&#x5B58;&#x4E0D;&#x591F;&#xFF0C;&#x8D2D;&#x4E70;&#x963F;&#x91CC;&#x4E91;&#x7684;&#x673A;&#x5668;&#x53EF;&#x4EE5;&#x52A8;&#x6001;&#x589E;&#x52A0;&#x5185;&#x5B58;&#x4FEE;&#x6539;jvm.options -Xms128m -Xmx128m -Xmx :&#x7528;&#x6765;&#x8BBE;&#x7F6E;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;(&#x4E0D;&#x662F;JVM)&#x80FD;&#x591F;&#x4F7F;&#x7528;&#x7684;&#x6700;&#x5927;&#x5185;&#x5B58;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x8981;&#x82B1;&#x5F88;&#x5927;&#x5185;&#x5B58;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x5C31;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x7F3A;&#x7701;&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x6BD4;&#x5982;&#x914D;&#x7F6E;tomcat&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x6D41;&#x91CF;&#x554A;&#x7A0B;&#x5E8F;&#x554A;&#x90FD;&#x5F88;&#x5927;&#x7684;&#x8BDD;&#x5C31;&#x9700;&#x8981;&#x52A0;&#x5927;&#x8FD9;&#x4E2A;&#x503C;&#x4E86;&#xFF0C;BUT&#x4E0D;&#x8981;&#x5927;&#x5F97;&#x8D85;&#x8FC7;&#x4F60;&#x7684;&#x673A;&#x5668;&#x7684;&#x5185;&#x5B58;&#x3002; -Xms:&#x7528;&#x6765;&#x8BBE;&#x7F6E;&#x7A0B;&#x5E8F;&#x521D;&#x59CB;&#x5316;&#x7684;&#x65F6;&#x5019;&#x5185;&#x5B58;&#x6808;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x589E;&#x52A0;&#x8FD9;&#x4E2A;&#x503C;&#x7684;&#x8BDD;&#x4F60;&#x7684;&#x7A0B;&#x5E8F;&#x7684;&#x542F;&#x52A8;&#x6027;&#x80FD;&#x4F1A;&#x5F97;&#x5230;&#x63D0;&#x9AD8;&#x3002;&#x4E0D;&#x8FC7;&#x540C;&#x6837;&#x6709;&#x524D;&#x9762;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x4EE5;&#x53CA;&#x53D7;&#x5230;-Xmx&#x7684;&#x9650;&#x5236;&#x3002; 2&#x3001;&#x95EE;&#x9898;&#x4E8C; [root@iZwz95j86y235aroi85ht0Z bin]# ./elasticsearch [2018-02-22T20:14:04,870][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main] org.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: can not run elasticsearch as root at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:125) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.2.2.jar:6.2.2] at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-6.2.2.jar:6.2.2] &#x89E3;&#x51B3;&#xFF1A;&#x7528;&#x975E;root&#x7528;&#x6237; &#x6DFB;&#x52A0;&#x7528;&#x6237;&#xFF1A;useradd -m &#x7528;&#x6237;&#x540D; &#x7136;&#x540E;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801; passwd &#x7528;&#x6237;&#x540D; &#x666E;&#x901A;&#x7528;&#x6237;&#x5207;&#x6362;&#x5230;root&#x7528;&#x6237;&#xFF1A;su root-&gt;&#x56DE;&#x8F66;-&gt;&#x8F93;&#x5165;root&#x5BC6;&#x7801;root&#x7528;&#x6237;&#x5207;&#x6362;&#x5230;&#x666E;&#x901A;&#x7528;&#x6237;&#xFF1A; su &#x201C;&#x666E;&#x901A;&#x7528;&#x6237;&#x540D;&#x201D; 3&#x3001;&#x95EE;&#x9898;&#x4E09;./elasticsearchException in thread &#x201C;main&#x201D; java.nio.file.AccessDeniedException: /usr/local/software/temp/elasticsearch-6.2.2/config/jvm.options &#x89E3;&#x51B3;&#xFF1A;&#x539F;&#x56E0;&#xFF1A;&#x5F53;&#x524D;&#x7528;&#x6237;&#x6CA1;&#x6709;&#x6267;&#x884C;&#x6743;&#x9650;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A; chown linux&#x7528;&#x6237;&#x540D; elasticsearch&#x5B89;&#x88C5;&#x76EE;&#x5F55; -R&#x6743;&#x9650;&#x4E0D;&#x591F; chown jack /usr/local/software/ES5.6.8/ -R 4&#x3001;&#x95EE;&#x9898;&#x56DB; &#x9519;&#x8BEF;&#x201C;max file descriptors [65535] for elasticsearchprocess is too low, increase to at least [65536]&#x201D;&#xFF0C;maxfile descriptors&#x4E3A;&#x6700;&#x5927;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x8BBE;&#x7F6E;&#x5176;&#x5927;&#x4E8E;65536&#x5373;&#x53EF;&#x3002;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#x662F;&#x4FEE;&#x6539;/etc/security/limits.conf&#x6587;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x201C;* - nofile65536 * - memlock unlimited&#x201D;&#xFF0C;&#x201C;*&#x201D;&#x8868;&#x793A;&#x7ED9;&#x6240;&#x6709;&#x7528;&#x6237;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x914D;&#x7F6E;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;&#x5982;&#x679C;&#x8981;&#x7ED9;&#x53EA;&#x8BFB;&#x6587;&#x4EF6;&#x52A0;&#x4E0A;&#x5199;&#x6743;&#x9650;&#xFF0C;chmod a+w filename &#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002; 5&#x3001;&#x95EE;&#x9898;&#x4E94;failed to load elasticsearch nodes : org.elasticsearch.client.transport.NoNodeAvailableException: None of the configured nodes are available: [{&amp;#35transport#-1}{OPWUYZ3_RWqG8w_BYEZ8DA}{47.92.109.56}{47.92.109.56:9300}]&#x5E38;&#x89C1;&#x914D;&#x7F6E;&#x95EE;&#x9898;&#x8D44;&#x6599;&#xFF1A;https://www.jianshu.com/p/c5d6ec0f35e0 http:/47.92.109.56:9200/_cat/health &#x67E5;&#x770B;ES&#x7684;&#x5065;&#x5EB7;&#x72B6;&#x6001; 34.ElasticSearch5.6&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x51C6;&#x5907;&#x7B80;&#x4ECB;: ElasticSearch5.6.x&#x7B80;&#x5355;&#x6D4B;&#x8BD5;1&#x3001;&#x6B65;&#x9AA4; https://www.elastic.co/guide/en/elasticsearch/reference/5.6/index.html2&#x3001;&#x4F7F;&#x7528;POSTMAN &#x5DE5;&#x5177;&#x57FA;&#x7840;&#x67E5;&#x770B;&#x96C6;&#x7FA4;&#x72B6;&#x6001;&#xFF1A;localhost:9200/_cat/health?v&#x67E5;&#x770B;&#x7D22;&#x5F15;&#x5217;&#x8868;&#xFF1A;localhost:9200/_cat/indices?v 34.SpringBoot2.x&#x6574;&#x5408;elasticsearch5.6.x&#x7B80;&#x4ECB;&#xFF1A;SpringBoot2.x&#x6574;&#x5408;elasticSearch5.6.8&#x5B9E;&#x6218;Spring Data Elasticsearch&#x6587;&#x6863;&#x5730;&#x5740;spring data&#x662F;spring&#x63A8;&#x51FA;&#x548C;&#x6211;&#x4EEC;&#x591A;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x6574;&#x5408;&#x7684;&#x4E00;&#x4E2A;&#x4E2D;&#x95F4;&#x4EF6;https://docs.spring.io/spring-data/elasticsearch/docs/3.0.6.RELEASE/reference/html/&#x7248;&#x672C;&#x8BF4;&#x660E;&#xFF1A;SpringBoot&#x6574;&#x5408;elasticsearchhttps://github.com/spring-projects/spring-data-elasticsearch/wiki/Spring-Data-Elasticsearch---Spring-Boot---version-matrix1&#x3001;&#x6DFB;&#x52A0;maven&#x4F9D;&#x8D56; &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-dataelasticsearch&lt;/artifactId> &lt;/dependency> 2&#x3001;&#x5B9A;&#x4E49;ArticleController @RestController @RequestMapping("/api/v1/article") public class ArticleController { @Autowired private ArticleRepository articleRepository; @PostMapping("save") public Object save(){ Article article = new Article(); article.setId(2L); article.setPv(123); article.setContent("springboot&amp;#x6574;&amp;#x5408;elasticsearch"); article.setTitle("&amp;#x6211;&amp;#x662F;title"); article.setSummary("&amp;#x641C;&amp;#x7D22;&amp;#x6846;&amp;#x67B6;&amp;#x6574;&amp;#x5408;"); articleRepository.save(article); return JsonData.buildSuccess(); } @GetMapping("search") public Object search(String title){ //QueryBuilder queryBuilder = QueryBuilders.matchAllQuery(); //&amp;#x641C;&amp;#x7D22;&amp;#x5168;&amp;#x90E8;&amp;#x6587;&amp;#x6863; QueryBuilder queryBuilder = QueryBuilders.matchQuery("title", title); Iterable&lt;Article> list = articleRepository.search(queryBuilder); return JsonData.buildSuccess(list); } } 2&#x3001;&#x81EA;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x7EE7;&#x627F;ElasticSearchRepository,&#x91CC;&#x9762;&#x6709;&#x5F88;&#x591A;&#x9ED8;&#x8BA4;&#x5B9E;&#x73B0; @Component //@Repository public interface ArticleRepository extends ElasticsearchRepository&lt;Article, Long> { } 3&#x3001;&#x65B0;&#x5EFA;&#x5B9E;&#x4F53;&#x5BF9;&#x8C61;Article &#x6CE8;&#x610F;&#x70B9;&#xFF1A; &#x7D22;&#x5F15;&#x540D;&#x79F0;&#x8BB0;&#x5F97;&#x5C0F;&#x5199;&#xFF0C;&#x7C7B;&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x4E5F;&#x8981;&#x5C0F;&#x5199; @Document(indexName = "blog", type = "article") public class Article implements Serializable{ private static final long serialVersionUID = 1L; private long id; private String title; private String summary; private String content; private int pv; public long getId() { return id; } public void setId(long id) { this.id = id; } public String getTitle() { return title; } public void setTitle(String title) { this.title = title; } public String getSummary() { return summary; } public void setSummary(String summary) { this.summary = summary; } public String getContent() { return content; } public void setContent(String content) { this.content = content; } public int getPv() { return pv; } public void setPv(int pv) { this.pv = pv; } } 5&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/htmlsingle/application.properties&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x5730;&#x5740; #ELASTICSEARCH (ElasticsearchProperties)#&#x8FD9;&#x91CC;&#x7684;elasticsearch&#x9700;&#x8981;&#x548C; &#x5728;secureCRT&#x91CC;&#x9762;&#x7684;curl http://localhost:9200 &#x5F97;&#x5230;JSON&#x503C;&#x4E2D;&#x7684;cluster-name&#x4FDD;&#x6301;&#x4E00;&#x81F4; #Elasticsearch cluster name. spring.data.elasticsearch.cluster-name=elasticsearch #Comma-separated list of cluster node addresses. spring.data.elasticsearch.cluster-nodes=localhost:9300 #&#x591A;&#x8282;&#x70B9;&#x914D;&#x7F6E; #spring.data.elasticsearch.cluster-nodes=localhost:9300,localhost:9300 #Whether to enable Elasticsearch repositories. spring.data.elasticsearch.repositories.enabled=true &#x8FD9;&#x4E24;&#x4E2A;&#x7AEF;&#x53E3;&#x90FD;&#x5F97;&#x5728;&#x5B89;&#x5168;&#x7EC4;&#x91CC;&#x9762;&#x6253;&#x5F00;.9200 9300:ES&#x7AEF;&#x53E3;9300&#x7AEF;&#x53E3;&#xFF1A; ES&#x8282;&#x70B9;&#x4E4B;&#x95F4;&#x901A;&#x8BAF;&#x4F7F;&#x7528;9200&#x7AEF;&#x53E3;&#xFF1A; ES&#x8282;&#x70B9; &#x548C; &#x5916;&#x90E8; &#x901A;&#x8BAF;&#x4F7F;&#x7528;&#xFF08;9300&#x662F;tcp&#x901A;&#x8BAF;&#x7AEF;&#x53E3;&#xFF0C;&#x96C6;&#x7FA4;&#x95F4;&#x548C;TCPClient&#x90FD;&#x8D70;&#x7684;&#x5B83;&#xFF1B;9200&#x662F;http&#x534F;&#x8BAE;&#x7684;RESTful&#x63A5;&#x53E3;&#xFF09; 6379:redis&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#x7684;&#x7AEF;&#x53E3;8161:&#x662F;activeMQ&#x7684;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3;&#x53F7;22:&#x7AEF;&#x53E3;&#x5C31;&#x662F;ssh&#x7AEF;&#x53E3;,secureCRT3389:&#x662F;&#x8FDC;&#x7A0B;&#x534F;&#x52A9;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;&#x53EA;&#x6709;&#x672C;&#x673A;&#x5E10;&#x53F7;&#x53D1;&#x8D77;&#x7684;&#x8FDE;&#x63A5;&#x624D;&#x6709;&#x53EF;&#x80FD;&#x88AB;&#x5916;&#x754C;&#x8FDE;&#x63A5;80:&#x7AEF;&#x53E3;&#x662F;&#x4E3A;HTTP&#xFF08;HyperText Transport Protocol)&#x5373;&#x8D85;&#x6587;&#x672C;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#x5F00;&#x653E;&#x7684;&#xFF0C;&#x6B64;&#x4E3A;&#x4E0A;&#x7F51;&#x51B2;&#x6D6A;&#x4F7F;&#x7528;&#x6B21;&#x6570;&#x6700;&#x591A;&#x7684;&#x534F;&#x8BAE;&#xFF0C;&#x4E3B;&#x8981;&#x7528;&#x4E8E;WWW&#xFF08;World Wide Web&#xFF09;&#x5373;&#x4E07;&#x7EF4;&#x7F51;&#x4F20;&#x8F93;&#x4FE1;&#x606F;&#x7684;&#x534F;&#x8BAE;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;HTTP&#x5730;&#x5740;&#xFF08;&#x5373;&#x5E38;&#x8BF4;&#x7684;&#x201C;&#x7F51;&#x5740;&#x201D;&#xFF09;&#x52A0;&#x201C;:80&#x201D;&#x6765;&#x8BBF;&#x95EE;&#x7F51;&#x7AD9;&#xFF0C;&#x56E0;&#x4E3A;&#x6D4F;&#x89C8;&#x7F51;&#x9875;&#x670D;&#x52A1;&#x9ED8;&#x8BA4;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x90FD;&#x662F;80&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x9700;&#x8F93;&#x5165;&#x7F51;&#x5740;&#x5373;&#x53EF;&#xFF0C;&#x4E0D;&#x7528;&#x8F93;&#x5165;&#x201C;:80&#x201D;&#x4E86;443:&#x7AEF;&#x53E3;&#x5373;&#x7F51;&#x9875;&#x6D4F;&#x89C8;&#x7AEF;&#x53E3;&#xFF0C;&#x4E3B;&#x8981;&#x662F;&#x7528;&#x4E8E;HTTPS&#x670D;&#x52A1;&#xFF0C;&#x662F;&#x63D0;&#x4F9B;&#x52A0;&#x5BC6;&#x548C;&#x901A;&#x8FC7;&#x5B89;&#x5168;&#x7AEF;&#x53E3;&#x4F20;&#x8F93;&#x7684;&#x53E6;&#x4E00;&#x79CD;HTTP&#x3002;&#x5728;&#x4E00;&#x4E9B;&#x5BF9;&#x5B89;&#x5168;&#x6027;&#x8981;&#x6C42;&#x8F83;&#x9AD8;&#x7684;&#x7F51;&#x7AD9;&#xFF0C;&#x6BD4;&#x5982;&#x94F6;&#x884C;&#x3001;&#x8BC1;&#x5238;&#x3001;&#x8D2D;&#x7269;&#x7B49;&#xFF0C;&#x90FD;&#x91C7;&#x7528;HTTPS&#x670D;&#x52A1;&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x8FD9;&#x4E9B;&#x7F51;&#x7AD9;&#x4E0A;&#x7684;&#x4EA4;&#x6362;&#x4FE1;&#x606F;&#xFF0C;&#x5176;&#x4ED6;&#x4EBA;&#x6293;&#x5305;&#x83B7;&#x53D6;&#x5230;&#x7684;&#x662F;&#x52A0;&#x5BC6;&#x6570;&#x636E;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E86;&#x4EA4;&#x6613;&#x7684;&#x5B89;&#x5168;&#x6027;&#x3002;&#x7F51;&#x9875;&#x7684;&#x5730;&#x5740;&#x4EE5;https://&#x5F00;&#x59CB;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5E38;&#x89C1;&#x7684;http://&#x3002; 4&#x3001;QueryBuilder&#x4F7F;&#x7528;https://www.elastic.co/guide/en/elasticsearch/client/java-api/1.3/query-dsl-queries.html//&#x5355;&#x4E2A;&#x5339;&#x914D;&#xFF0C;&#x641C;&#x7D22;name&#x4E3A;jack&#x7684;&#x6587;&#x6863;QueryBuilder queryBuilder = QueryBuilders.matchQuery(&#x201C;title&#x201D;, &#x201C;&#x641C;&#x201D;);4&#x3001;&#x67E5;&#x770B;es&#x6570;&#x636E;&#x67E5;&#x770B;&#x7D22;&#x5F15;&#x4FE1;&#x606F;&#xFF1A;http://localhost:9200/_cat/indices?v&#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x7D22;&#x5F15;&#x5E93;&#x7ED3;&#x6784;&#xFF1A;http://localhost:9200/blog&#x67E5;&#x770B;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#xFF1A;http://localhost:9200/blog/article/1 34.JMS&#x7684;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F;1&#x3001;&#x4EC0;&#x4E48;&#x662F;JMS: Java&#x6D88;&#x606F;&#x670D;&#x52A1;&#xFF08;Java Message Service),Java&#x5E73;&#x53F0;&#x4E2D;&#x5173;&#x4E8E;&#x9762;&#x5411;&#x6D88;&#x606F;&#x4E2D;&#x95F4;&#x4EF6;&#x7684;&#x63A5;&#x53E3; 2&#x3001;JMS&#x662F;&#x4E00;&#x79CD;&#x4E0E;&#x5382;&#x5546;&#x65E0;&#x5173;&#x7684; API&#xFF0C;&#x7528;&#x6765;&#x8BBF;&#x95EE;&#x6D88;&#x606F;&#x6536;&#x53D1;&#x7CFB;&#x7EDF;&#x6D88;&#x606F;&#xFF0C; &#x5B83;&#x7C7B;&#x4F3C;&#x4E8E;JDBC(Java Database Connectivity)&#x3002;&#x8FD9;&#x91CC;&#xFF0C;JDBC &#x662F;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x8BBF;&#x95EE;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x5173;&#x7CFB;&#x6570;&#x636E;&#x5E93;&#x7684; API JDBC&#x4E5F;&#x662F;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;(&#x89C4;&#x8303;)mysql&#x548C;oracle&#x7684;&#x5382;&#x5546;&#x90FD;&#x53BB;&#x5B9E;&#x73B0;&#x4E86;&#x8FD9;&#x4E2A;&#x89C4;&#x8303;,&#x8FD9;&#x6837;JDBC&#x5C31;&#x80FD;&#x5B9E;&#x73B0;java&#x4EE3;&#x7801;&#x8FDE;&#x63A5;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93; 3&#x3001;&#x4F7F;&#x7528;&#x573A;&#x666F;&#xFF1A; 1&#xFF09;&#x8DE8;&#x5E73;&#x53F0; 2&#xFF09;&#x591A;&#x8BED;&#x8A00; 3&#xFF09;&#x591A;&#x9879;&#x76EE; 4&#xFF09;&#x89E3;&#x8026; 5&#xFF09;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1; 6&#xFF09;&#x6D41;&#x91CF;&#x63A7;&#x5236; 7&#xFF09;&#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027; 8&#xFF09;RPC&#x8C03;&#x7528; &#x4E0A;&#x4E0B;&#x6E38;&#x5BF9;&#x63A5;&#xFF0C;&#x6570;&#x636E;&#x6E90;&#x53D8;&#x52A8;-&gt;&#x901A;&#x77E5;&#x4E0B;&#x5C5E; 4&#x3001;&#x6982;&#x5FF5; JMS&#x63D0;&#x4F9B;&#x8005;&#xFF1A;Apache ActiveMQ&#x3001;RabbitMQ&#x3001;Kafka&#x3001;Notify&#x3001;MetaQ&#x3001;RocketMQ JMS&#x751F;&#x4EA7;&#x8005;(Message Producer) JMS&#x6D88;&#x8D39;&#x8005;(Message Consumer) JMS&#x6D88;&#x606F; JMS&#x961F;&#x5217; JMS&#x4E3B;&#x9898; JMS&#x6D88;&#x606F;&#x901A;&#x5E38;&#x6709;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#xFF1A;&#x70B9;&#x5BF9;&#x70B9;&#xFF08;Point-to-Point)&#x3001;&#x53D1;&#x5E03;/&#x8BA2;&#x9605;&#xFF08;Publish/Subscribe&#xFF09; 5&#x3001;&#x7F16;&#x7A0B;&#x6A21;&#x578B; MQ&#x4E2D;&#x9700;&#x8981;&#x7528;&#x7684;&#x4E00;&#x4E9B;&#x7C7B; ConnectionFactory &#xFF1A;&#x8FDE;&#x63A5;&#x5DE5;&#x5382;&#xFF0C;JMS &#x7528;&#x5B83;&#x521B;&#x5EFA;&#x8FDE;&#x63A5; Connection &#xFF1A;JMS &#x5BA2;&#x6237;&#x7AEF;&#x5230;JMS Provider &#x7684;&#x8FDE;&#x63A5; Session&#xFF1A; &#x4E00;&#x4E2A;&#x53D1;&#x9001;&#x6216;&#x63A5;&#x6536;&#x6D88;&#x606F;&#x7684;&#x7EBF;&#x7A0B; Destination &#xFF1A;&#x6D88;&#x606F;&#x7684;&#x76EE;&#x7684;&#x5730;;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x7ED9;&#x8C01;. MessageConsumer / MessageProducer&#xFF1A; &#x6D88;&#x606F;&#x63A5;&#x6536;&#x8005;&#xFF0C;&#x6D88;&#x8D39;&#x8005; 35.ActiveMQ5.x&#x6D88;&#x606F;&#x961F;&#x5217;&#x57FA;&#x7840;&#x7279;&#x6027;&#x548C;&#x672C;&#x5730;&#x5FEB;&#x901F;&#x5B89;&#x88C5;&#x7279;&#x70B9;&#xFF1A; 1&#xFF09;&#x652F;&#x6301;&#x6765;&#x81EA;Java&#xFF0C;C&#xFF0C;C ++&#xFF0C;C&#xFF03;&#xFF0C;Ruby&#xFF0C;Perl&#xFF0C;Python&#xFF0C;PHP&#x7684;&#x5404;&#x79CD;&#x8DE8;&#x8BED;&#x8A00;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x534F;&#x8BAE; 2&#xFF09;&#x652F;&#x6301;&#x8BB8;&#x591A;&#x9AD8;&#x7EA7;&#x529F;&#x80FD;&#xFF0C;&#x5982;&#x6D88;&#x606F;&#x7EC4;&#xFF0C;&#x865A;&#x62DF;&#x76EE;&#x6807;&#xFF0C;&#x901A;&#x914D;&#x7B26;&#x548C;&#x590D;&#x5408;&#x76EE;&#x6807; 3) &#x5B8C;&#x5168;&#x652F;&#x6301;JMS 1.1&#x548C;J2EE 1.4&#xFF0C;&#x652F;&#x6301;&#x77AC;&#x6001;&#xFF0C;&#x6301;&#x4E45;&#xFF0C;&#x4E8B;&#x52A1;&#x548C;XA&#x6D88;&#x606F; 4) Spring&#x652F;&#x6301;&#xFF0C;ActiveMQ&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x5D4C;&#x5165;&#x5230;Spring&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x5E76;&#x4F7F;&#x7528;Spring&#x7684;XML&#x914D;&#x7F6E;&#x673A;&#x5236;&#x8FDB;&#x884C;&#x914D;&#x7F6E; 5) &#x652F;&#x6301;&#x5728;&#x6D41;&#x884C;&#x7684;J2EE&#x670D;&#x52A1;&#x5668;&#xFF08;&#x5982;TomEE&#xFF0C;Geronimo&#xFF0C;JBoss&#xFF0C;GlassFish&#x548C;WebLogic&#xFF09;&#x4E2D;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5; 6) &#x4F7F;&#x7528;JDBC&#x548C;&#x9AD8;&#x6027;&#x80FD;&#x65E5;&#x5FD7;&#x652F;&#x6301;&#x975E;&#x5E38;&#x5FEB;&#x901F;&#x7684;&#x6301;&#x4E45;&#x5316; &#x2026; 1&#x3001;&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://activemq.apache.org/activemq-5153-release.html 2&#x3001;&#x5FEB;&#x901F;&#x5F00;&#x59CB;&#xFF1A;http://activemq.apache.org/getting-started.html 3&#x3001;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x662F;32&#x4F4D;&#x7684;&#x673A;&#x5668;&#xFF0C;&#x5C31;&#x53CC;&#x51FB;win32&#x76EE;&#x5F55;&#x4E0B;&#x7684;activemq.bat,&#x5982;&#x679C;&#x662F;64&#x4F4D;&#x673A;&#x5668;&#xFF0C;&#x5219;&#x53CC;&#x51FB;win64&#x76EE;&#x5F55;&#x4E0B;&#x7684;activemq.bat 4&#x3001;bin&#x76EE;&#x5F55;&#x91CC;&#x9762;&#x542F;&#x52A8; &#x9009;&#x62E9;&#x5BF9;&#x5E94;&#x7684;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x548C;&#x4F4D;&#x6570;&#xFF0C;activeMQ start &#x542F;&#x52A8; 5&#x3001;&#x542F;&#x52A8;&#x540E;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;http://127.0.0.1:8161/ 6&#x3001;&#x540E;&#x53F0;&#x7BA1;&#x7406;&#x5458;&#x754C;&#x9762;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;&#x9ED8;&#x8BA4;&#x90FD;&#x662F;admin 7&#x3001;&#x5B98;&#x65B9;&#x6848;&#x4F8B;&#x96C6;&#x5408; https://github.com/spring-projects/spring-boot/tree/master/spring-boot-samples &#x9762;&#x677F;&#xFF1A; Name&#xFF1A;&#x961F;&#x5217;&#x540D;&#x79F0;&#x3002; Number Of Pending Messages&#xFF1A;&#x7B49;&#x5F85;&#x6D88;&#x8D39;&#x7684;&#x6D88;&#x606F;&#x4E2A;&#x6570;&#x3002; Number Of Consumers&#xFF1A;&#x5F53;&#x524D;&#x8FDE;&#x63A5;&#x7684;&#x6D88;&#x8D39;&#x8005;&#x6570;&#x76EE; Messages Enqueued&#xFF1A;&#x8FDB;&#x5165;&#x961F;&#x5217;&#x7684;&#x6D88;&#x606F;&#x603B;&#x4E2A;&#x6570;&#xFF0C;&#x5305;&#x62EC;&#x51FA;&#x961F;&#x5217;&#x7684;&#x548C;&#x5F85;&#x6D88;&#x8D39;&#x7684;&#xFF0C;&#x8FD9;&#x4E2A;&#x6570;&#x91CF;&#x53EA;&#x589E;&#x4E0D;&#x51CF;&#x3002; Messages Dequeued&#xFF1A;&#x5DF2;&#x7ECF;&#x6D88;&#x8D39;&#x7684;&#x6D88;&#x606F;&#x6570;&#x91CF;&#x3002; 36.SpringBoot2.x&#x6574;&#x5408;ActiveMQ&#x5B9E;&#x6218;&#x4E4B;&#x70B9;&#x5BF9;&#x70B9;&#x6D88;&#x606F;1&#x3001;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-activemq 2&#x3001;&#x52A0;&#x5165;&#x4F9D;&#x8D56; &lt;!-- &amp;#x6574;&amp;#x5408;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;ActiveMQ --> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-activemq&lt;/artifactId> &lt;/dependency> &lt;!-- &amp;#x5982;&amp;#x679C;&amp;#x914D;&amp;#x7F6E;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&amp;#x5219;&amp;#x52A0;&amp;#x5165; --> &lt;dependency> &lt;groupId>org.apache.activemq&lt;/groupId> &lt;artifactId>activemq-pool&lt;/artifactId> &lt;/dependency> 3&#x3001;application.properties&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x914D;&#x7F6E; #&amp;#x6574;&amp;#x5408;jms&amp;#x6D4B;&amp;#x8BD5;&amp;#xFF0C;&amp;#x5B89;&amp;#x88C5;&amp;#x5728;&amp;#x522B;&amp;#x7684;&amp;#x673A;&amp;#x5668;&amp;#xFF0C;&amp;#x9632;&amp;#x706B;&amp;#x5899;&amp;#x548C;&amp;#x7AEF;&amp;#x53E3;&amp;#x53F7;&amp;#x8BB0;&amp;#x5F97;&amp;#x5F00;&amp;#x653E; #&amp;#x96C6;&amp;#x7FA4;&amp;#x914D;&amp;#x7F6E; spring.activemq.broker-url=tcp://127.0.0.1:61616 #spring.activemq.broker-url=failover:(tcp://localhost:61616,tcp://localhost:61617) spring.activemq.user=admin spring.activemq.password=admin #&amp;#x4E0B;&amp;#x5217;&amp;#x914D;&amp;#x7F6E;&amp;#x8981;&amp;#x589E;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56; spring.activemq.pool.enabled=false spring.activemq.pool.max-connections=100 4&#x3001;springboot&#x542F;&#x52A8;&#x7C7B; @EnableJms&#xFF0C;&#x5F00;&#x542F;&#x652F;&#x6301;jms 5&#x3001;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x4E0A;&#x6B64;&#x65B9;&#x6CD5;&#x4EE3;&#x8868;&#x70B9;&#x5BF9;&#x70B9; //common&amp;#x662F;&amp;#x961F;&amp;#x5217;&amp;#x7684;&amp;#x540D;&amp;#x79F0; @Bean public Queue queue(){ return new ActiveMQQueue("common.queue"); } 5&#x3001;&#x6A21;&#x62DF;&#x8BF7;&#x6C42; localhost:8080/api/v1/order?msg=12312321321312 6&#x3001;&#x6D88;&#x8D39;&#x8005;&#xFF1A;&#x5B9E;&#x65F6;&#x76D1;&#x542C;&#x5BF9;&#x5E94;&#x7684;&#x961F;&#x5217; @JmsListener(destination = &#x201C;order.queue&#x201D;) 37.SpringBoot&#x6574;&#x5408;ActiveMQ&#x5B9E;&#x6218;&#x4E4B;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;(pub/sub),&#x53CA;&#x540C;&#x65F6;&#x652F;&#x6301;&#x70B9;&#x5BF9;&#x70B9;&#x548C;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x578B;1&#x3001;&#x9700;&#x8981;&#x52A0;&#x5165;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x652F;&#x6301;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x578B;&#xFF0C;&#x9ED8;&#x8BA4;&#x53EA;&#x652F;&#x6301;&#x70B9;&#x5BF9;&#x70B9; #default point to point spring.jms.pub-sub-domain=true 2&#x3001;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x4E2D;&#x52A0;&#x5165;&#x4EE3;&#x7801; @Bean public Topic topic(){ return new ActiveMQTopic("video.topic"); } &#x6CE8;&#x610F;&#x70B9;&#xFF1A; 1&#x3001;&#x9ED8;&#x8BA4;&#x6D88;&#x8D39;&#x8005;&#x5E76;&#x4E0D;&#x4F1A;&#x6D88;&#x8D39;&#x8BA2;&#x9605;&#x53D1;&#x5E03;&#x7C7B;&#x578B;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x8FD9;&#x662F;&#x7531;&#x4E8E;springboot&#x9ED8;&#x8BA4;&#x91C7;&#x7528;&#x7684;&#x662F;p2p&#x6A21;&#x5F0F;&#x8FDB;&#x884C;&#x6D88;&#x606F;&#x7684;&#x76D1;&#x542C; &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#xFF1A;spring.jms.pub-sub-domain=true 2&#x3001;&#x5982;&#x679C;&#x70B9;&#x5BF9;&#x70B9; &#x548C; &#x8BDD;&#x9898;&#x8BA2;&#x9605;&#x540C;&#x65F6;&#x5B58;&#x5728;&#x7684;&#x8BDD; &#x8BDD;&#x9898;&#x8BA2;&#x9605;&#x6A21;&#x5F0F;&#x6B63;&#x5E38;&#x800C;&#x70B9;&#x5BF9;&#x70B9;&#x53EA;&#x80FD;&#x5F80;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#x53D1;&#x9001;&#x6570;&#x636E;&#x800C;&#x4E0D;&#x80FD;&#x6D88;&#x8D39;&#x6570;&#x636E; &#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898; @JmsListener &#x4FEE;&#x6539;&#x8BA2;&#x9605;&#x8005;sub&#xFF1A;@JmsListener(destination=&#x201C;video.topic&#x201D;,containerFactory=&#x201C;jmsListenerContainerTopic&#x201D;) //&#x9700;&#x8981;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x91CC;&#x9762;&#x7ED9;topic&#x5B9A;&#x4E49;&#x72EC;&#x7ACB;&#x7684;JmsListenerContainer @Bean public JmsListenerContainerFactory&lt;?> jmsListenerContainerTopic(ConnectionFactory activeMQConnectionFactory) { DefaultJmsListenerContainerFactory bean = new DefaultJmsListenerContainerFactory(); bean.setPubSubDomain(true); bean.setConnectionFactory(activeMQConnectionFactory); return bean; } &#x200B; &#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x91CC;&#x9762;&#xFF0C;&#x6CE8;&#x91CA;&#x6389; #spring.jms.pub-sub-domain=true 38.RocketMQ4.x&#x4ECB;&#x7ECD;&#x548C;&#x65B0;&#x6982;&#x5FF5;&#x8BB2;&#x89E3;1&#x3001;Apache RocketMQ&#x4F5C;&#x4E3A;&#x963F;&#x91CC;&#x5F00;&#x6E90;&#x7684;&#x4E00;&#x6B3E;&#x9AD8;&#x6027;&#x80FD;&#x3001;&#x9AD8;&#x541E;&#x5410;&#x91CF;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x6D88;&#x606F;&#x4E2D;&#x95F4;&#x4EF6; 2&#x3001;&#x7279;&#x70B9; 1)&#x5728;&#x9AD8;&#x538B;&#x4E0B;1&#x6BEB;&#x79D2;&#x5185;&#x54CD;&#x5E94;&#x5EF6;&#x8FDF;&#x8D85;&#x8FC7;99.6&#xFF05;&#x3002; 2)&#x9002;&#x5408;&#x91D1;&#x878D;&#x7C7B;&#x4E1A;&#x52A1;&#xFF0C;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#x8DDF;&#x8E2A;&#x548C;&#x5BA1;&#x8BA1;&#x529F;&#x80FD;&#x3002; 3)&#x652F;&#x6301;&#x53D1;&#x5E03;&#x8BA2;&#x9605;&#x6A21;&#x578B;&#xFF0C;&#x548C;&#x70B9;&#x5BF9;&#x70B9; 4&#xFF09;&#x652F;&#x6301;&#x62C9;pull&#x548C;&#x63A8;push&#x4E24;&#x79CD;&#x6D88;&#x606F;&#x6A21;&#x5F0F; 5)&#x5355;&#x4E00;&#x961F;&#x5217;&#x767E;&#x4E07;&#x6D88;&#x606F; 6)&#x652F;&#x6301;&#x5355;master&#x8282;&#x70B9;&#xFF0C;&#x591A;master&#x8282;&#x70B9;&#xFF0C;&#x591A;master&#x591A;slave&#x8282;&#x70B9; &#x2026; 3&#x3001;&#x6982;&#x5FF5; Producer:&#x6D88;&#x606F;&#x751F;&#x4EA7;&#x8005; Producer Group:&#x6D88;&#x606F;&#x751F;&#x4EA7;&#x8005;&#x7EC4;&#xFF0C;&#x53D1;&#x9001;&#x540C;&#x7C7B;&#x6D88;&#x606F;&#x7684;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x751F;&#x4EA7;&#x7EC4; Consumer:&#x6D88;&#x8D39;&#x8005; Consumer Group:&#x6D88;&#x8D39;&#x540C;&#x7C7B;&#x6D88;&#x606F;&#x7684;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x6D88;&#x8D39;&#x7EC4; Tag:&#x6807;&#x7B7E;&#xFF0C;Topic&#x7684;&#x5B50;&#x4E3B;&#x9898;&#xFF08;&#x4E8C;&#x7EA7;&#x5206;&#x7C7B;&#xFF09;,&#x7528;&#x4E8E;&#x533A;&#x5206;&#x540C;&#x4E00;&#x4E2A;&#x4E3B;&#x9898;&#x4E0B;&#x7684;&#x4E0D;&#x540C;&#x4E1A;&#x52A1;&#x7684;&#x6D88;&#x606F; Topic:&#x4E3B;&#x9898; Message&#xFF1A;&#x6D88;&#x606F; Broker&#xFF1A;MQ&#x7A0B;&#x5E8F;&#xFF0C;&#x63A5;&#x6536;&#x751F;&#x4EA7;&#x7684;&#x6D88;&#x606F;&#xFF0C;&#x63D0;&#x4F9B;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x6D88;&#x8D39;&#x7684;&#x7A0B;&#x5E8F; Name Server&#xFF1A;&#x7ED9;&#x751F;&#x4EA7;&#x548C;&#x6D88;&#x8D39;&#x8005;&#x63D0;&#x4F9B;&#x8DEF;&#x7531;&#x4FE1;&#x606F;&#xFF0C;&#x63D0;&#x4F9B;&#x8F7B;&#x91CF;&#x7EA7;&#x7684;&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x548C;&#x8DEF;&#x7531; NameServver Cluster&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7684;&#x662F;Broker&#x5BF9;&#x5E94;&#x7684;IP Data Sync &#x540C;&#x6B65;&#x590D;&#x5236; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x6302;&#x6389;&#x53E6;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x8FD8;&#x80FD;&#x4FDD;&#x8BC1;&#x5DE5;&#x4F5C; Data async&#x5F02;&#x6B65;&#x590D;&#x5236; Ajax&#x8BF7;&#x6C42;&#x9ED8;&#x8BA4;&#x7684;&#x90FD;&#x662F;&#x5F02;&#x6B65;&#x7684; &#x5982;&#x679C;&#x60F3;&#x540C;&#x6B65; async&#x8BBE;&#x7F6E;&#x4E3A;false&#x5C31;&#x53EF;&#x4EE5;&#xFF08;&#x9ED8;&#x8BA4;&#x662F;true&#xFF09; 3&#x3001;&#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;http://rocketmq.apache.org/ &#x5B66;&#x4E60;&#x8D44;&#x6E90;&#xFF1A; 1&#xFF09;http://jm.taobao.org/2017/01/12/rocketmq-quick-start-in-10-minutes/ 2&#xFF09;https://www.jianshu.com/p/453c6e7ff81c 34.RocketMQ4.x&#x672C;&#x5730;&#x5FEB;&#x901F;&#x90E8;&#x7F72;1&#x3001;&#x5B89;&#x88C5;&#x524D;&#x63D0;&#x6761;&#x4EF6;(&#x63A8;&#x8350;) 64bit OS, Linux/Unix/Mac 64bit JDK 1.8+; 2&#x3001;&#x5FEB;&#x901F;&#x5F00;&#x59CB; http://rocketmq.apache.org/docs/quick-start/ &#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x5305;&#xFF1A;https://www.apache.org/dyn/closer.cgi?path=rocketmq/4.2.0/rocketmq-all-4.2.0-bin-release.zip &#x8DEF;&#x5F84;&#xFF1A;/Users/jack/Desktop/person/springboot/&#x8D44;&#x6599;/&#x7B2C;13&#x7AE0;/&#x7B2C;5&#x8BFE;/rocketmq-all-4.2.0-bin-release/bin 3&#x3001;&#x89E3;&#x538B;&#x538B;&#x7F29;&#x5305; CentOS 7.0&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x7684;&#x662F;firewall&#x4F5C;&#x4E3A;&#x9632;&#x706B;&#x5899; 1)&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#x72B6;&#x6001; firewall-cmd --state1&#x505C;&#x6B62;firewall systemctl stop firewalld.service1&#x7981;&#x6B62;firewall&#x5F00;&#x673A;&#x542F;&#x52A8; systemctl disable firewalld.service 2)&#x5F00;&#x653E;&#x7AEF;&#x53E3;&#x53F7;8080&#x3001;9876&#x3001;10911 &#x8FDB;&#x5165;bin&#x76EE;&#x5F55;&#xFF0C;&#x542F;&#x52A8;namesrv nohup sh mqnamesrv &amp; &#x5982;&#x679C;&#x5185;&#x5B58;&#x6EA2;&#x51FA; &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;&#x4FEE;&#x6539;bin/runbroker.sh,bin/runserver.sh JAVA_OPT="${JAVA_OPT} -server -Xms128m -Xmx256m -Xmn256m -XX:PermSize=128m -XX:MaxPermSize=320m" 2) &#x67E5;&#x770B;&#x65E5;&#x5FD7; tail -f nohup.out &#x7ED3;&#x5C3E;&#xFF1A;The Name Server boot success. serializeType=JSON &#x8868;&#x793A;&#x542F;&#x52A8;&#x6210;&#x529F; 3&#x3001;&#x542F;&#x52A8;broker &#x5982;&#x679C;&#x5185;&#x5B58;&#x6EA2;&#x51FA; &#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;&#x4FEE;&#x6539;bin/runbroker.sh,bin/runmqbroker.sh JAVA_OPT="${JAVA_OPT} -server -Xms128m -Xmx256m -Xmn256m -XX:PermSize=128m -XX:MaxPermSize=320m #&amp;#x542F;&amp;#x52A8;broker&amp;#x5E76;&amp;#x4E14;&amp;#x80FD;&amp;#x81EA;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;topic &amp;#x4E0D;&amp;#x7136;java&amp;#x4EE3;&amp;#x7801;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x4F1A;&amp;#x51FA;&amp;#x9519; nohup sh mqbroker -n 172.21.0.10:9876 autoCreateTopicEnable=true &amp; 4)&#x3001;&#x5173;&#x95ED;nameserver broker&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4; sh mqshutdown namesrv sh mqshutdown brokerRoekerMQ4.x&#x53EF;&#x89C6;&#x5316;&#x63A7;&#x5236;&#x53F0;&#x8BB2;&#x89E3;1&#x3001;&#x4E0B;&#x8F7D; https://github.com/apache/rocketmq-externals &#x5148;&#x4E0B;&#x8F7D;maven&#xFF0C;&#x627E;&#x5230;&#x4E0B;&#x8F7D;&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x89E3;&#x538B; tar -zxvf apache-maven-3.3.9-bin.tar.gz &#x89E3;&#x538B;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5939;&#x540D;&#x4E3A;apache-maven-3.3.9 3.&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#xFF0C;&#x7F16;&#x8F91;/etc/profile&#x6587;&#x4EF6;&#xFF0C;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x4EE3;&#x7801; MAVEN_HOME=/usr/local/softs/apache-maven-3.6.0 export MAVEN_HOME export PATH=${PATH}:${MAVEN_HOME}/bin 4.&#x4FDD;&#x5B58;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x8FD0;&#x884C;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x4F7F;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x751F;&#x6548; source /etc/profile 5.&#x5728;&#x63A7;&#x5236;&#x53F0;&#x8F93;&#x5165;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#xFF0C;&#x5982;&#x679C;&#x80FD;&#x770B;&#x5230;Maven&#x76F8;&#x5173;&#x7248;&#x672C;&#x4FE1;&#x606F;&#xFF0C;&#x5219;&#x8BF4;&#x660E;Maven&#x5DF2;&#x7ECF;&#x5B89;&#x88C5;&#x6210;&#x529F; mvn -v &#x8FDB;&#x5165;rocketmq-console 2&#x3001;&#x7F16;&#x8BD1;&#x6253;&#x5305; mvn clean package -Dmaven.test.skip=true //&#x8DF3;&#x8FC7;&#x5355;&#x5143;&#x6D4B;&#x8BD5; 3&#x3001;target&#x76EE;&#x5F55; &#x901A;&#x8FC7;java -jar rocketmq-console-ng-1.0.0.jar &#x7684;&#x65B9;&#x5F0F;&#x8FD0;&#x884C; &#x5B88;&#x62A4;&#x8FDB;&#x7A0B;:nohup java -jar rocketmq-console-ng-1.0.0.jar &amp; 4&#x3001;&#x65E0;&#x6CD5;&#x8FDE;&#x63A5;&#x83B7;&#x53D6;broker&#x4FE1;&#x606F; 1&#xFF09;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6;,&#x540D;&#x79F0;&#x8DEF;&#x7531;&#x5730;&#x5740;&#x4E3A; namesrvAddr&#xFF0C;&#x4F8B;&#x5982;&#x6211;&#x672C;&#x673A;&#x4E3A; 2&#xFF09;src/main/resources/application.properties rocketmq.config.namesrvAddr=172.21.0.10:9876 //&#x8FD9;&#x4E2A;ip&#x4E3A;&#x79C1;&#x6709;ip 5&#x3001;&#x9ED8;&#x8BA4;&#x7AEF;&#x53E3; localhost:8080 6&#x3001;&#x6CE8;&#x610F;&#xFF1A; &#x5728;&#x963F;&#x91CC;&#x4E91;&#xFF0C;&#x817E;&#x8BAF;&#x4E91;&#x6216;&#x8005;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x8BB0;&#x5F97;&#x68C0;&#x67E5;&#x7AEF;&#x53E3;&#x53F7;&#x548C;&#x9632;&#x706B;&#x5899;&#x662F;&#x5426;&#x542F;&#x52A8; 35.Springboot2.x&#x6574;&#x5408;RocketMQ4.x&#x5B9E;&#x6218;&#xFF0C;&#x52A0;&#x5165;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#xFF0C;&#x5F00;&#x53D1;&#x751F;&#x4EA7;&#x8005;&#x4EE3;&#x7801; api&#x80FD;&#x5F88;&#x5FEB;&#x5411;&#x5E94;&#x7ED9;&#x5FAE;&#x4FE1;&#x652F;&#x4ED8;,&#x7136;&#x540E;&#x628A;&#x8BA2;&#x5355;&#x4FE1;&#x606F;&#x548C;&#x79EF;&#x5206;&#x4FE1;&#x606F;&#x4E22;&#x5230;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#x53BB;.&#x6240;&#x4EE5;api&#x80FD;&#x627F;&#x53D7;&#x5F88;&#x9AD8;&#x7684;&#x5E76;&#x53D1;. &#x542F;&#x52A8;nameser&#x548C;broker 1&#x3001;&#x52A0;&#x5165;&#x76F8;&#x5173;&#x4F9D;&#x8D56; &lt;dependency> &lt;groupId>org.apache.rocketmq&lt;/groupId> &lt;artifactId>rocketmq-client&lt;/artifactId> &lt;version>${rocketmq.version}&lt;/version> &lt;/dependency> &lt;dependency> &lt;groupId>org.apache.rocketmq&lt;/groupId> &lt;artifactId>rocketmq-common&lt;/artifactId> &lt;version>${rocketmq.version}&lt;/version> &lt;/dependency> &lt;properties> &lt;rocketmq.version>4.1.0-incubating&lt;/rocketmq.version> &lt;/properties> &#x200B; &#x8FD8;&#x9700;&#x8981;&#x5728;pom.xml&#x4E2D;&#x914D;&#x7F6E;&#x597D;&#x7248;&#x672C;&#x4FE1;&#x606F; 2&#x3001;application.properties&#x52A0;&#x5165;&#x914D;&#x7F6E;&#x6587;&#x4EF6; #&#x6D88;&#x8D39;&#x8005;&#x7684;&#x7EC4; apache.rocketmq.consumer.PushConsumer=orderConsumer #&#x751F;&#x4EA7;&#x8005;&#x7684;&#x7EC4;&#x540D; apache.rocketmq.producer.producerGroup=Producer #NameServer&#x5730;&#x5740; apache.rocketmq.namesrvAddr=127.0.0.1:98763&#x3001;&#x5F00;&#x53D1;MsgProducer /** * &amp;#x751F;&amp;#x4EA7;&amp;#x8005;&amp;#x7684;&amp;#x7EC4;&amp;#x540D; */ @Value("${apache.rocketmq.producer.producerGroup}") private String producerGroup; /** * NameServer &amp;#x5730;&amp;#x5740; */ @Value("${apache.rocketmq.namesrvAddr}") private String namesrvAddr; private DefaultMQProducer producer ; public DefaultMQProducer getProducer(){ return this.producer; } @PostConstruct public void init() { //&amp;#x751F;&amp;#x4EA7;&amp;#x8005;&amp;#x7684;&amp;#x7EC4;&amp;#x540D; producer = new DefaultMQProducer(producerGroup); //&amp;#x6307;&amp;#x5B9A;NameServer&amp;#x5730;&amp;#x5740;&amp;#xFF0C;&amp;#x591A;&amp;#x4E2A;&amp;#x5730;&amp;#x5740;&amp;#x4EE5; ; &amp;#x9694;&amp;#x5F00; //&amp;#x5982; producer.setNamesrvAddr("192.168.100.141:9876;192.168.100.142:9876;192.168.100.149:9876"); producer.setNamesrvAddr(namesrvAddr); producer.setVipChannelEnabled(false); try { /** * Producer&amp;#x5BF9;&amp;#x8C61;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x4E4B;&amp;#x524D;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x8C03;&amp;#x7528;start&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#xFF0C;&amp;#x53EA;&amp;#x80FD;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x4E00;&amp;#x6B21; */ producer.start(); } catch (Exception e) { e.printStackTrace(); } // producer.shutdown(); &amp;#x4E00;&amp;#x822C;&amp;#x5728;&amp;#x5E94;&amp;#x7528;&amp;#x4E0A;&amp;#x4E0B;&amp;#x6587;&amp;#xFF0C;&amp;#x5173;&amp;#x95ED;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x8FDB;&amp;#x884C;&amp;#x5173;&amp;#x95ED;&amp;#xFF0C;&amp;#x7528;&amp;#x4E0A;&amp;#x4E0B;&amp;#x6587;&amp;#x76D1;&amp;#x542C;&amp;#x5668; } 37.SpringBoot&#x4ECB;&#x7ECD;&#x591A;&#x73AF;&#x5883;&#x914D;&#x7F6E;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F;1&#x3001;&#x4E0D;&#x540C;&#x73AF;&#x5883;&#x4F7F;&#x7528;&#x4E0D;&#x540C;&#x914D;&#x7F6E; &#x4F8B;&#x5982;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#xFF0C;&#x5728;&#x5F00;&#x53D1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x822C;&#x7528;&#x5F00;&#x53D1;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x800C;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x662F;&#x7528;&#x6B63;&#x5F0F;&#x7684;&#x6570;&#x636E; 2&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5B58;&#x653E;&#x8DEF;&#x5F84; classpath&#x6839;&#x76EE;&#x5F55;&#x7684;&#x201C;/config&#x201D;&#x5305;&#x4E0B; classpath&#x7684;&#x6839;&#x76EE;&#x5F55;&#x4E0B; 3&#x3001;spring boot&#x5141;&#x8BB8;&#x901A;&#x8FC7;&#x547D;&#x540D;&#x7EA6;&#x5B9A;&#x6309;&#x7167;&#x4E00;&#x5B9A;&#x7684;&#x683C;&#x5F0F;(application-{profile}.properties)&#x6765;&#x5B9A;&#x4E49;&#x591A;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 38.SprinBoot2.x&#x54CD;&#x5E94;&#x5F0F;&#x7F16;&#x7A0B;&#x7B80;&#x4ECB; &#x8BB2;&#x89E3;&#x4EC0;&#x4E48;&#x662F;reactive&#x54CD;&#x5E94;&#x5F0F;&#x7F16;&#x7A0B;&#x548C;&#x4F7F;&#x7528;&#x7684;&#x597D;&#x5904; 1&#x3001;&#x57FA;&#x7840;&#x7406;&#x89E3;&#xFF1A;&#x6BCF;&#x4E2A;&#x5BA2;&#x6237;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42; &#x4F9D;&#x8D56;&#x4E8E;&#x4E8B;&#x4EF6;&#xFF0C;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;(Event-driven)&#x670D;&#x52A1;&#x5458;&#x505A;&#x597D;&#x5976;&#x8336;&#x901A;&#x77E5;&#x5BA2;&#x6237;&#x7684;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6; &#x4E00;&#x7CFB;&#x5217;&#x4E8B;&#x4EF6;&#x79F0;&#x4E3A;&#x201C;&#x6D41;&#x201D;&#x4E00;&#x7CFB;&#x5217;&#x7684;&#x6D41;&#x7A0B; &#x5F02;&#x6B65;&#x540E;&#x53F0;&#x4EBA;&#x5458;&#x5728;&#x505A;&#x5976;&#x8336;&#x7684;&#x540C;&#x65F6;&#x8FD8;&#x80FD;&#x505A;&#x897F;&#x74DC;&#x51B0;,1&#x53F7;2&#x53F7;&#x70B9;&#x7684;&#x5976;&#x8336;10&#x5206;&#x949F;&#x624D;&#x80FD;&#x505A;&#x597D; ,&#x800C;3&#x53F7;&#x7684;&#x897F;&#x74DC;&#x51B0;5&#x5206;&#x949F;&#x5C31;&#x505A;&#x597D;&#x4E86;&#x8FD9;&#x6837;3&#x53F7;&#x5C31;&#x80FD;&#x6BD4;1&#x53F7;&#x548C;2&#x53F7;&#x4F18;&#x5148;&#x559D;&#x4E0A;&#x4E1C;&#x897F; &#x975E;&#x963B;&#x585E;&#x7528;&#x6237;&#x4E0D;&#x7528;&#x90FD;&#x5728;&#x524D;&#x53F0;&#x4EBA;&#x5458;&#x90A3;&#x91CC;&#x6392;&#x961F;&#x53EF;&#x4EE5;&#x518D;&#x4F11;&#x606F;&#x533A;&#x53BB;&#x73A9;&#x624B;&#x673A; &#x89C2;&#x5BDF;&#x8005;&#x6A21;&#x5F0F;&#x524D;&#x53F0;&#x4EBA;&#x5458;&#x4E00;&#x76F4;&#x5728;&#x770B;&#x540E;&#x53F0;&#x4EBA;&#x5458;&#x90A3;&#x4E2A;&#x4E1C;&#x897F;&#x505A;&#x5B8C;&#x4E86;,&#x505A;&#x5B8C;&#x4E4B;&#x540E;&#x5C31;&#x53EF;&#x4EE5;&#x53BB;&#x558A;&#x987E;&#x5BA2;&#x4E86; 2&#x3001;&#x5B98;&#x7F51;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-webflux SpingBoot2&#x5E95;&#x5C42;&#x662F;&#x7528;spring5,&#x5F00;&#x59CB;&#x652F;&#x6301;&#x54CD;&#x5E94;&#x5F0F;&#x7F16;&#x7A0B;&#xFF0C;Spring&#x53C8;&#x662F;&#x57FA;&#x4E8E;Reactor&#x8BD5;&#x4E0B;&#x54CD;&#x5E94;&#x5F0F;&#x3002; &#x5B66;&#x4E60;&#x8D44;&#x6599; 1&#x3001;reactive-streams&#x5B66;&#x4E60;&#x8D44;&#x6599;&#xFF1A;http://www.reactive-streams.org/ 2&#x3001;web-flux&#x76F8;&#x5173;&#x8D44;&#x6599;&#xFF1A;https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#spring-webflux 39.&#x8BB2;&#x89E3;SpringBoot2.x&#x54CD;&#x5E94;&#x5F0F;&#x7F16;&#x7A0B;&#x4ECB;&#x7ECD; Mono&#x3001;Flux&#x5BF9;&#x8C61;&#x548C;&#x4F18;&#x7F3A;&#x70B9; 1&#x3001;Spring WebFlux&#x662F;Spring Framework 5.0&#x4E2D;&#x5F15;&#x5165;&#x7684;&#x65B0;&#x7684;&#x53CD;&#x5E94;&#x5F0F;Web&#x6846;&#x67B6; &#x4E0E;Spring MVC&#x4E0D;&#x540C;&#xFF0C;&#x5B83;&#x4E0D;&#x9700;&#x8981;Servlet API&#xFF0C;&#x5B8C;&#x5168;&#x5F02;&#x6B65;&#x548C;&#x975E;&#x963B;&#x585E;&#xFF0C;&#x5E76; &#x901A;&#x8FC7;Reactor&#x9879;&#x76EE;&#x5B9E;&#x73B0;Reactive Streams&#x89C4;&#x8303;&#x3002; RxJava 2&#x3001;Flux&#x548C;Mono User List 1&#xFF09;&#x7B80;&#x5355;&#x4E1A;&#x52A1;&#x800C;&#x8A00;&#xFF1A;&#x548C;&#x5176;&#x4ED6;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#x5DEE;&#x522B;&#x4E0D;&#x5927;&#xFF0C;&#x590D;&#x6742;&#x8BF7;&#x6C42;&#x4E1A;&#x52A1;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x63D0;&#x5347;&#x6027;&#x80FD; 2&#xFF09;&#x901A;&#x4FD7;&#x7406;&#x89E3;&#xFF1A; Mono &#x8868;&#x793A;&#x7684;&#x662F;&#x5305;&#x542B; 0 &#x6216;&#x8005; 1 &#x4E2A;&#x5143;&#x7D20;&#x7684;&#x5F02;&#x6B65;&#x5E8F;&#x5217; mono-&gt;&#x5355;&#x4E00;&#x5BF9;&#x8C61; User redis-&gt;&#x7528;&#x6237;ID-&#x300B;&#x552F;&#x4E00;&#x7684;&#x7528;&#x6237;Mono Flux &#x8868;&#x793A;&#x7684;&#x662F;&#x5305;&#x542B; 0 &#x5230; N &#x4E2A;&#x5143;&#x7D20;&#x7684;&#x5F02;&#x6B65;&#x5E8F;&#x5217; flux-&gt;&#x6570;&#x7EC4;&#x5217;&#x8868;&#x5BF9;&#x8C61; List redis-&gt;&#x7537;&#x6027;&#x7528;&#x6237;-&gt;Flux Flux &#x548C; Mono &#x4E4B;&#x95F4;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8F6C;&#x6362; 3&#x3001;Spring WebFlux&#x6709;&#x4E24;&#x79CD;&#x98CE;&#x683C;&#xFF1A;&#x57FA;&#x4E8E;&#x529F;&#x80FD;&#x548C;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x7684;&#x3002;&#x57FA;&#x4E8E;&#x6CE8;&#x89E3;&#x975E;&#x5E38;&#x63A5;&#x8FD1;Spring MVC&#x6A21;&#x578B;&#xFF0C;&#x5982;&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x6240;&#x793A;&#xFF1A; &#x7B2C;&#x4E00;&#x79CD;&#xFF1A; @RestController @RequestMapping&amp;#xFF08;&amp;#x201C;/ users&amp;#x201D;&amp;#xFF09; public class MyRestController { @GetMapping&amp;#xFF08;&amp;#x201C;/ {user}&amp;#x201D;&amp;#xFF09; public Mono &lt;User> getUser&amp;#xFF08; @PathVariable Long user&amp;#xFF09;{ // ... } @GetMapping&amp;#xFF08;&amp;#x201C;/ {user} / customers&amp;#x201D;&amp;#xFF09; public Flux &lt;Customer> getUserCustomers&amp;#xFF08; @PathVariable Long user&amp;#xFF09;{ // ... } @DeleteMapping&amp;#xFF08;&amp;#x201C;/ {user}&amp;#x201D;&amp;#xFF09; public Mono &lt;User> deleteUser&amp;#xFF08; @PathVariable Long user&amp;#xFF09;{ // ... } } &#x7B2C;&#x4E8C;&#x79CD;&#xFF1A; &#x8DEF;&#x7531;&#x914D;&#x7F6E;&#x4E0E;&#x8BF7;&#x6C42;&#x7684;&#x5B9E;&#x9645;&#x5904;&#x7406;&#x5206;&#x5F00; @Configuration public class RoutingConfiguration { @Bean public RouterFunction &lt;ServerResponse> monoRouterFunction&amp;#xFF08;UserHandler userHandler&amp;#xFF09;{ return route&amp;#xFF08;GET&amp;#xFF08; &amp;#x201C;/ {user}&amp;#x201D;&amp;#xFF09;.and&amp;#xFF08;accept&amp;#xFF08;APPLICATION_JSON&amp;#xFF09;&amp;#xFF09;&amp;#xFF0C;userHandler :: getUser&amp;#xFF09; .andRoute&amp;#xFF08;GET&amp;#xFF08;&amp;#x201C;/ {user} / customers&amp;#x201D;&amp;#xFF09;.and&amp;#xFF08;accept&amp;#xFF08;APPLICATION_JSON&amp;#xFF09;&amp;#xFF09;&amp;#xFF0C;userHandler :: getUserCustomers&amp;#xFF09; .andRoute&amp;#xFF08;DELETE&amp;#xFF08;&amp;#x201C;/ {user}&amp;#x201D;&amp;#xFF09;.and&amp;#xFF08;accept&amp;#xFF08;APPLICATION_JSON&amp;#xFF09;&amp;#xFF09;&amp;#xFF0C;userHandler :: deleteUser&amp;#xFF09;; } } @Component public class UserHandler { &amp;#x516C;&amp;#x5171; Mono &lt;ServerResponse> getUser&amp;#xFF08;ServerRequest&amp;#x8BF7;&amp;#x6C42;&amp;#xFF09;{ // ... }public Mono &lt;ServerResponse> getUserCustomers&amp;#xFF08;ServerRequest request&amp;#xFF09;{ // ... } &amp;#x516C;&amp;#x5171; Mono &lt;ServerResponse> deleteUser&amp;#xFF08;ServerRequest&amp;#x8BF7;&amp;#x6C42;&amp;#xFF09;{ // ... } } 4&#x3001;Spring WebFlux&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E0D;&#x4E25;&#x683C;&#x4F9D;&#x8D56;&#x4E8E;Servlet API&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x4EEC;&#x4E0D;&#x80FD;&#x4F5C;&#x4E3A;war&#x6587;&#x4EF6;&#x90E8;&#x7F72;&#xFF0C;&#x4E5F;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;src/main/webapp&#x76EE;&#x5F55; 5&#x3001;&#x53EF;&#x4EE5;&#x6574;&#x5408;&#x591A;&#x4E2A;&#x6A21;&#x677F;&#x5F15;&#x64CE; &#x9664;&#x4E86;REST Web&#x670D;&#x52A1;&#x5916;&#xFF0C;&#x60A8;&#x8FD8;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;Spring WebFlux&#x63D0;&#x4F9B;&#x52A8;&#x6001;HTML&#x5185;&#x5BB9;&#x3002;Spring WebFlux&#x652F;&#x6301;&#x5404;&#x79CD;&#x6A21;&#x677F;&#x6280;&#x672F;&#xFF0C;&#x5305;&#x62EC;Thymeleaf&#xFF0C;FreeMarker 40.webflux&#x54CD;&#x5E94;&#x5F0F;&#x7F16;&#x7A0B;&#x5B9E;&#x6218;Adding both `spring-boot-starter-web` and `spring-boot-starter-webflux` modules in your application results in Spring Boot auto-configuring Spring MVC, not WebFlux. This behavior has been chosen because many Spring developers add `spring-boot-starter-webflux` to their Spring MVC application to use the reactive `WebClient`. You can still enforce your choice by setting the chosen application type to`SpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)`. &amp;#x5728;&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;`spring-boot-starter-web`&amp;#x548C;`spring-boot-starter-webflux`&amp;#x6A21;&amp;#x5757;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;Spring Boot&amp;#x81EA;&amp;#x52A8;&amp;#x914D;&amp;#x7F6E;Spring MVC&amp;#xFF0C;&amp;#x800C;&amp;#x4E0D;&amp;#x662F;WebFlux&amp;#x3002; &amp;#x9009;&amp;#x62E9;&amp;#x6B64;&amp;#x884C;&amp;#x4E3A;&amp;#x662F;&amp;#x56E0;&amp;#x4E3A;&amp;#x8BB8;&amp;#x591A;Spring&amp;#x5F00;&amp;#x53D1;&amp;#x4EBA;&amp;#x5458;&amp;#x5C06;&amp;#x201C;spring-boot-starter-webflux&amp;#x201D;&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;Spring MVC&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x4E2D;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x88AB;&amp;#x52A8;&amp;#x7684;`WebClient`&amp;#x3002; &amp;#x60A8;&amp;#x4ECD;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x5C06;&amp;#x6240;&amp;#x9009;&amp;#x5E94;&amp;#x7528;&amp;#x7A0B;&amp;#x5E8F;&amp;#x7C7B;&amp;#x578B;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;`SpringApplication.setWebApplicationType&amp;#xFF08;WebApplicationType.REACTIVE&amp;#xFF09;`&amp;#x6765;&amp;#x5F3A;&amp;#x5236;&amp;#x6267;&amp;#x884C;&amp;#x60A8;&amp;#x7684;&amp;#x9009;&amp;#x62E9;&amp;#x3002; 1&#x3001;WebFlux&#x4E2D;&#xFF0C;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x4E0D;&#x518D;&#x662F;WebMVC&#x4E2D;&#x7684;ServletRequest&#x548C;ServletResponse&#xFF0C;&#x800C;&#x662F;ServerRequest&#x548C;ServerResponse 2&#x3001;&#x628A;spring-boot-starter-web&#x6CE8;&#x91CA;&#x6389;&#x52A0;&#x5165;&#x4F9D;&#x8D56;&#xFF0C;&#x5982;&#x679C;&#x540C;&#x65F6;&#x5B58;&#x5728;spring-boot-starter-web&#xFF0C;&#x5219;&#x4F1A;&#x4F18;&#x5148;&#x7528;spring-boot-starter-web &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-webflux&lt;/artifactId> &lt;/dependency> &#x5728;controller&#x52A0;&#x5165;&#x4EE3;&#x7801; @GetMapping("test") public Mono&lt;String> order(){ return Mono.just("hello world"); } &#x6D4B;&#x8BD5; localhost:8080/api/v1/user/test 3&#x3001;&#x542F;&#x52A8;&#x65B9;&#x5F0F;&#x9ED8;&#x8BA4;&#x662F;Netty,8080&#x7AEF;&#x53E3; 4&#x3001;&#x53C2;&#x8003;&#xFF1A;https://spring.io/blog/2016/04/19/understanding-reactive-types 41.&#x8BB2;&#x89E3;SpringBoot2.x WebFlux&#x5BA2;&#x6237;&#x7AEF;WebClient&#x7684;&#x4ECB;&#x7ECD;&#x548C;&#x4F7F;&#x7528;1&#x3001;&#x53CD;&#x5E94;&#x5F0F;&#x5BA2;&#x6237;&#x7AEF; &#x5B98;&#x7F51;&#x5730;&#x5740;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#boot-features-webclient 42.&#x670D;&#x52A1;&#x7AEF;&#x5E38;&#x7528;&#x63A8;&#x9001;&#x6280;&#x672F;1&#x3001;&#x5BA2;&#x6237;&#x7AEF;&#x8F6E;&#x8BE2;:ajax&#x5B9A;&#x65F6;&#x62C9;&#x53D6; &#x5B9A;&#x65F6;&#x670D;&#x52A1;&#x7AEF;&#x8FD4;&#x56DE;,&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x6709;&#x53EF;&#x80FD;&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x7684;. 2&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x4E3B;&#x52A8;&#x63A8;&#x9001;:WebSocket &#x5168;&#x53CC;&#x5DE5;&#x7684;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684;tcp&#x8FDE;&#x63A5;&#xFF0C;&#x5EFA;&#x7ACB;&#x548C;&#x5173;&#x95ED;&#x65F6;&#x63E1;&#x624B;&#x4F7F;&#x7528;http&#x534F;&#x8BAE;&#xFF0C;&#x5176;&#x4ED6;&#x6570;&#x636E;&#x4F20;&#x8F93;&#x4E0D;&#x4F7F;&#x7528;http&#x534F;&#x8BAE; &#x66F4;&#x52A0;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#xFF0C;&#x9002;&#x7528;&#x4E8E;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x590D;&#x6742;&#x53CC;&#x5411;&#x6570;&#x636E;&#x901A;&#x8BAF;&#x7684;&#x573A;&#x666F; &#x53D1;&#x751F;&#x53D8;&#x5316;&#x65F6;&#x8FD4;&#x56DE;&#x7ED9;&#x5BA2;&#x6237;&#x7AEF;,&#x5BA2;&#x6237;&#x7AEF;&#x80FD;&#x4FDD;&#x8BC1;&#x83B7;&#x5F97;&#x6700;&#x65B0;&#x7684;&#x6D88;&#x606F;. &#x6BD4;&#x5982;&#x804A;&#x5929;&#x7CFB;&#x7EDF;&#x5BA2;&#x6237;&#x7AEF;&#x4F1A;&#x5411;&#x670D;&#x52A1;&#x7AEF;&#x53D1;&#x9001;&#x6570;&#x636E;,&#x670D;&#x52A1;&#x7AEF;&#x4E5F;&#x4F1A;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x6570;&#x636E;,&#x662F;&#x53CC;&#x5411;&#x7684;. 3&#x3001;&#x670D;&#x52A1;&#x7AEF;&#x4E3B;&#x52A8;&#x63A8;&#x9001;:SSE (Server Send Event) html5&#x65B0;&#x6807;&#x51C6;&#xFF0C;&#x7528;&#x6765;&#x4ECE;&#x670D;&#x52A1;&#x7AEF;&#x5B9E;&#x65F6;&#x63A8;&#x9001;&#x6570;&#x636E;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x7AEF;&#xFF0C; &#x76F4;&#x63A5;&#x5EFA;&#x7ACB;&#x5728;&#x5F53;&#x524D;http&#x8FDE;&#x63A5;&#x4E0A;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x662F;&#x4FDD;&#x6301;&#x4E00;&#x4E2A;http&#x957F;&#x8FDE;&#x63A5;&#xFF0C;&#x8F7B;&#x91CF;&#x534F;&#x8BAE; &#x7B80;&#x5355;&#x7684;&#x670D;&#x52A1;&#x5668;&#x6570;&#x636E;&#x63A8;&#x9001;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x4F7F;&#x7528;&#x670D;&#x52A1;&#x5668;&#x63A8;&#x9001;&#x4E8B;&#x4EF6; &#x670D;&#x52A1;&#x7AEF;&#x4F1A;&#x4E0D;&#x505C;&#x5730;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x53D1;&#x9001;&#x4FE1;&#x606F;,&#x800C;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x4F1A;&#x5411;&#x670D;&#x52A1;&#x5668;&#x53D1;&#x9001;&#x4FE1;&#x606F;. &#x5F0A;&#x7AEF;:&#x5047;&#x5982;&#x80A1;&#x7968;&#x505C;&#x76D8;&#x7684;&#x8BDD;&#x6570;&#x636E;&#x6CA1;&#x6709;&#x53D8;&#x5316;,&#x670D;&#x52A1;&#x5668;&#x8FD8;&#x662F;&#x4F1A;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x4E0D;&#x65AD;&#x5730;&#x63A8;&#x9001;&#x6D88;&#x606F;.&#x6D6A;&#x8D39;&#x8D44;&#x6E90;&#x548C;&#x5E26;&#x5BBD; &#x5B66;&#x4E60;&#x8D44;&#x6599;&#xFF1A;http://www.w3school.com.cn/html5/html_5_serversentevents.asp 42.&#x8BB2;&#x89E3;SpringBoot2.x&#x670D;&#x52A1;&#x7AEF;&#x4E3B;&#x52A8;&#x63A8;&#x9001;Sever-Send-Events1&#x3001;localhost:8080/index.html 2&#x3001;&#x9700;&#x8981;&#x628A;response&#x7684;&#x7C7B;&#x578B; &#x6539;&#x4E3A; text/event-stream&#xFF0C;&#x624D;&#x662F;sse&#x7684;&#x7C7B;&#x578B; 43.&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x5B89;&#x88C5;JDK8&#x548C;&#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x8FDB;&#x5230;&#x76EE;&#x5F55;/usr/local/software &#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF; vim /etc/profile &#x52A0;&#x5165; export JAVA_HOME=/usr/local/software/jdk8 export PATH=$PATH:$JAVA_HOME/bin export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar export JAVA_HOME PATH CLASSPATH &#x9000;&#x51FA;&#x63D2;&#x5165;&#x6A21;&#x5F0F; :wq&#x4FDD;&#x5B58;&#x4E00;&#x4E0B; &#x4F7F;&#x7528; source /etc/profile &#x8BA9;&#x914D;&#x7F6E;&#x7ACB;&#x523B;&#x751F;&#x6548; java -version &#x770B;&#x770B;&#x914D;&#x7F6E;&#x662F;&#x5426;&#x6210;&#x529F; 44.&#x8BB2;&#x89E3;SpringBoot&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x90E8;&#x7F72;&#x548C;&#x5E38;&#x89C1;&#x6CE8;&#x610F;&#x4E8B;&#x9879;1&#x3001;&#x53BB;&#x9664;&#x76F8;&#x5173;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x6CA1;&#x7528;&#x7684;jar &#x6BD4;&#x5982;&#x70ED;&#x90E8;&#x7F72;dev-tool 2&#x3001;&#x672C;&#x5730;maven&#x6253;&#x5305;&#x6210;jar&#x5305; &#x5148;&#x628A;target&#x6587;&#x4EF6;&#x5939;&#x4E0B;&#x751F;&#x6210;&#x7684;&#x6587;&#x4EF6;&#x5168;&#x90E8;&#x5220;&#x9664;&#x6389; mvn clean package -Dmaven.test.skip=true &#x8DF3;&#x8FC7;&#x6D4B;&#x8BD5; 3&#x3001;&#x670D;&#x52A1;&#x5668;&#x5B89;&#x88C5;jdk&#xFF0C;&#x4E0A;&#x4F20;Jar&#x5305; &#x4E0A;&#x4F20;&#x5DE5;&#x5177;&#xFF1A; windows: winscp securtyCRT mac&#xFF1A; filezilla ssh root@120.79.160.143 &#x8BBF;&#x95EE;&#x8DEF;&#x5F84; http://120.79.160.143:8080/api/v1/user/find java -jar xxxx.jar &#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x3001;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x3001;shell&#x811A;&#x672C; nohup java -jar xxxx.jar &#x8FD9;&#x4E2A;&#x547D;&#x4EE4;&#x4F1A;&#x628A;&#x6240;&#x6709;&#x7684;&#x65E5;&#x5FD7;&#x8F93;&#x51FA;&#x5230;nohup.out&#x4E2D; tail -f nohup.out&#x5C31;&#x80FD;&#x67E5;&#x770B;&#x5BF9;&#x5E94;&#x8F93;&#x51FA;&#x7684;&#x65E5;&#x5FD7; lsof -i:8080 &#x67E5;&#x770B;&#x6211;&#x4EEC;&#x7684;8080&#x7AEF;&#x53E3;&#x88AB;&#x54EA;&#x4E2A;&#x5E94;&#x7528;&#x5360;&#x7528; &#x6216;&#x8005;&#x7528; ps -ef|grep java &#x6253;&#x5305;&#x6307;&#x5B9A;&#x914D;&#x7F6E;&#x6587;&#x4EF6; 1&#x3001;&#x4F7F;&#x7528;maven&#x7684;profiles 2&#x3001;&#x4F7F;&#x7528;springboot&#x7684;profile=active &#x8BBF;&#x95EE;&#x4E0D;&#x4E86; 1&#x3001;&#x963F;&#x91CC;&#x4E91;&#x9632;&#x706B;&#x5899;&#x662F;&#x5426;&#x5F00;&#x542F;&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5173;&#x95ED;&#xFF0C;&#x5173;&#x95ED;&#x662F;&#x4E0D;&#x5B89;&#x5168;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x5F00;&#x653E;&#x7AEF;&#x53E3; 2&#x3001;&#x963F;&#x91CC;&#x4E91;&#x7684;&#x5B89;&#x5168;&#x8BBF;&#x95EE;&#x7EC4;&#xFF0C;&#x5F00;&#x542F;&#x5BF9;&#x5E94;&#x7684;&#x7AEF;&#x53E3;&#xFF0C;&#x5982;&#x679C;&#x5E94;&#x7528;&#x662F;&#x4EE5;80&#x7AEF;&#x53E3;&#x542F;&#x52A8;&#xFF0C;&#x5219;&#x9ED8;&#x8BA4;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE; &#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5C06;&#x7AEF;&#x53E3;&#x6539;&#x6210;80&#x7AEF;&#x53E3; &#x914D;&#x7F6E;logback&#x5C06;&#x9700;&#x8981;&#x67E5;&#x770B;&#x7684;&#x65E5;&#x5FD7;&#x653E;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x6587;&#x4EF6;&#x4E2D; 4&#x3001;&#x6210;&#x719F;&#x7684;&#x4E92;&#x8054;&#x7F51;&#x516C;&#x53F8;&#x5E94;&#x8BE5;&#x6709;&#x7684;&#x67B6;&#x6784; &#x672C;&#x5730;&#x63D0;&#x4EA4;&#x751F;&#x4EA7;&#x4EE3;&#x7801;-&gt;gitlab&#x4ED3;&#x5E93;-&gt;Jenkins&#x81EA;&#x52A8;&#x5316;&#x6784;&#x5EFA;-&gt;&#x8FD0;&#x7EF4;&#x6216;&#x8005;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x53D1;&#x5E03; 45.&#x8BB2;&#x89E3;SpringBoot&#x4F7F;&#x7528;actuator&#x76D1;&#x63A7;&#x914D;&#x7F6E;&#x548C;&#x4F7F;&#x7528;1&#x3001;&#x4ECB;&#x7ECD;&#x4EC0;&#x4E48;&#x662F;actuator &#x5B98;&#x65B9;&#x4ECB;&#x7ECD;&#xFF1A; Spring Boot&#x5305;&#x542B;&#x8BB8;&#x591A;&#x9644;&#x52A0;&#x529F;&#x80FD;&#xFF0C;&#x53EF;&#x5E2E;&#x52A9;&#x60A8;&#x5728;&#x5C06;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6295;&#x5165;&#x751F;&#x4EA7;&#x65F6;&#x76D1;&#x89C6;&#x548C;&#x7BA1;&#x7406;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; &#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F7F;&#x7528;HTTP&#x7AEF;&#x70B9;&#x6216;JMX&#x6765;&#x7BA1;&#x7406;&#x548C;&#x76D1;&#x63A7;&#x60A8;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#xFF0C;&#x81EA;&#x52A8;&#x5E94;&#x7528;&#x4E8E;&#x5BA1;&#x8BA1;&#xFF0C;&#x5065;&#x5EB7;&#x548C;&#x6307;&#x6807;&#x6536;&#x96C6;; &#x4E00;&#x53E5;&#x8BDD;&#xFF1A;springboot&#x63D0;&#x4F9B;&#x7528;&#x4E8E;&#x76D1;&#x63A7;&#x548C;&#x7BA1;&#x7406;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x7684;&#x6A21;&#x5757; &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;https://docs.spring.io/spring-boot/docs/2.1.0.BUILD-SNAPSHOT/reference/htmlsingle/#production-ready 2&#x3001;&#x52A0;&#x5165;&#x4F9D;&#x8D56; &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-actuator&lt;/artifactId> &lt;/dependency> 3&#x3001;&#x52A0;&#x5165;&#x4E0A;&#x8FF0;&#x4F9D;&#x8D56;&#x540E;&#xFF0C;&#x8BBF;&#x95EE;&#x51E0;&#x4E2A;url /actuator/health /actuator/info /actuator SpringBoot2.x&#x76D1;&#x63A7;Actuator&#x5B9E;&#x6218;&#x4E0B;&#x96C6;&#x53CA;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x5EFA;&#x8BAE;&#xFF0C;SpringBoot&#x65B0;&#x65E7;&#x7248;&#x672C;&#x533A;&#x522B;&#x6CE8;&#x610F;&#x70B9;: &#x7F51;&#x4E0A;&#x7684;&#x8D44;&#x6599;&#x5927;&#x591A;&#x6570;&#x6CA1;&#x6709;&#x8BB2;&#x5230;&#x8BBF;&#x95EE;&#x7684;&#x524D;&#x7F00; &#x7AEF;&#x70B9;&#x57FA;&#x7840;&#x8DEF;&#x5F84;&#x7531; / &#x8C03;&#x6574;&#x5230; /actuator &#x5982;&#xFF1A;/info&#x8C03;&#x6574;&#x4E3A;/actuator/info /actuator/xxx 1&#x3001;&#x53EA;&#x80FD;&#x8BBF;&#x95EE;&#x51E0;&#x4E2A;url 1&#xFF09;&#x9700;&#x8981;&#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x5165;&#x4E0B;&#x5217;&#x914D;&#x7F6E; management.endpoints.web.exposure.include=* 2&#xFF09;&#x5B98;&#x7F51;&#x8BF4;&#x660E;&#xFF1A;https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator &#x539F;&#x56E0;&#xFF1A; &#x51FA;&#x4E8E;&#x5B89;&#x5168;&#x8003;&#x8651;&#xFF0C;&#x9664;/ health&#x548C;/ info&#x4E4B;&#x5916;&#x7684;&#x6240;&#x6709;&#x6267;&#x884C;&#x5668;&#x9ED8;&#x8BA4;&#x90FD;&#x662F;&#x7981;&#x7528;&#x7684;&#x3002; management.endpoints.web.exposure.include&#x5C5E;&#x6027;&#x53EF;&#x7528;&#x4E8E;&#x542F;&#x7528;&#x6267;&#x884C;&#x5668; 2&#x3001;&#x5EFA;&#x8BAE; &#x5728;&#x8BBE;&#x7F6E;management.endpoints.web.exposure.include&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x786E;&#x4FDD;&#x66B4;&#x9732;&#x7684;&#x6267;&#x884C;&#x5668;&#x4E0D;&#x5305;&#x542B;&#x654F;&#x611F;&#x4FE1;&#x606F;&#x548C;/ &#x6216;&#x901A;&#x8FC7;&#x5C06;&#x5176;&#x653E;&#x7F6E;&#x5728;&#x9632;&#x706B;&#x5899;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#xFF0C;&#x4E0D;&#x5BF9;&#x5916;&#x8FDB;&#x884C;&#x4F7F;&#x7528;&#x7981;&#x7528;&#x7684;&#x7AEF;&#x70B9;&#x5C06;&#x4ECE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x5B8C;&#x5168;&#x5220;&#x9664;&#x3002;&#x5982;&#x679C;&#x60A8;&#x53EA;&#x60F3;&#x66F4;&#x6539;&#x7AEF;&#x70B9;&#x6240;&#x66B4;&#x9732;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x8BF7;&#x6539;&#x7528; include&#x548C;exclude&#x5C5E;&#x6027; &#x3002; &#x4F8B;&#x5B50;&#xFF1A; &#x5F00;&#x542F;&#x5168;&#x90E8;&#xFF1A;management.endpoints.web.exposure.include=* &#x5F00;&#x542F;&#x67D0;&#x4E2A;&#xFF1A;management.endpoints.web.exposure.include=metrics &#x5173;&#x95ED;&#x67D0;&#x4E2A;&#xFF1A;management.endpoints.web.exposure.exclude=metrics &#x6216;&#x8005;&#x7528;springadmin&#x8FDB;&#x884C;&#x7BA1;&#x7406; &#x76F8;&#x5173;&#x8D44;&#x6599;&#xFF1A;https://www.cnblogs.com/ityouknow/p/8440455.html &#x6216;&#x8005;&#x7528;&#x81EA;&#x5DF1;&#x7F16;&#x5199;&#x811A;&#x672C;&#x76D1;&#x63A7; CPU&#x3001;&#x5185;&#x5B58;&#x3001;&#x78C1;&#x76D8;&#x3001;nginx&#x7684;http&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;200,404,5xx 3&#x3001;&#x4ECB;&#x7ECD;&#x5E38;&#x7528;&#x7684;&#x51E0;&#x4E2A; /health &#x67E5;&#x770B;&#x5E94;&#x7528;&#x5065;&#x5EB7;&#x6307;&#x6807; /actuator/metrics &#x67E5;&#x770B;&#x5E94;&#x7528;&#x57FA;&#x672C;&#x6307;&#x6807;&#x5217;&#x8868; /actuator/metrics/{name} &#x901A;&#x8FC7;&#x4E0A;&#x8FF0;&#x5217;&#x8868;&#xFF0C;&#x67E5;&#x770B;&#x5177;&#x4F53; &#x67E5;&#x770B;&#x5177;&#x4F53;&#x6307;&#x6807; /actuator/env &#x663E;&#x793A;&#x6765;&#x81EA;Spring&#x7684; ConfigurableEnvironment&#x7684;&#x5C5E;&#x6027; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>springboot</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[Docker]]></title>
    <url>%2Fyun-wei%2F2019%2F03%2F09%2Fdocker.html</url>
    <content type="text"><![CDATA[Docker&#x662F;&#x4EC0;&#x4E48;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F7F;&#x7528; Docker&#x5982;&#x4F55;&#x4F7F;&#x7528;Docker1. centOS7&#x5B89;&#x88C5;Docker&#x5B9E;&#x6218; &#x6DFB;&#x52A0;yum&#x6E90;&#x3002; yum install epel-release &#x2013;y yum clean all yum list &#x5B89;&#x88C5;&#x5E76;&#x8FD0;&#x884C;Docker yum install docker-io &#x2013;y systemctl start docker &#x68C0;&#x67E5;&#x5B89;&#x88C5;&#x7ED3;&#x679C;&#x3002; docker info&#x5982;&#x679C;&#x51FA;&#x73B0;docker&#x7684;&#x4FE1;&#x606F;&#x5219;&#x8BC1;&#x660E;&#x5B89;&#x88C5;&#x6210;&#x529F; Docker&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x7BA1;&#x7406; systemctl start docker #&#x8FD0;&#x884C;Docker&#x5B88;&#x62A4;&#x8FDB;&#x7A0B; systemctl stop docker #&#x505C;&#x6B62;Docker&#x5B88;&#x62A4;&#x8FDB;&#x7A0B; systemctl restart docker #&#x91CD;&#x542F;Docker&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x963F;&#x91CC;&#x4E91;&#x5B89;&#x88C5;&#x624B;&#x518C; https://help.aliyun.com/document_detail/51853.html?spm=a2c4g.11186623.6.820.RaToNY2.Docker&#x4ED3;&#x5E93;&#x3001;&#x955C;&#x50CF;&#x3001;&#x5BB9;&#x5668;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x8BB2;&#x89E3;Docker &#x955C;&#x50CF; - Docker images&#xFF1A; &#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x53EA;&#x8BFB;&#x6A21;&#x677F;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;+&#x8F6F;&#x4EF6;&#x8FD0;&#x884C;&#x73AF;&#x5883;+&#x7528;&#x6237;&#x7A0B;&#x5E8F; class User{ private String userName; private int age; } Docker &#x5BB9;&#x5668; - Docker containers&#xFF1A; &#x5BB9;&#x5668;&#x5305;&#x542B;&#x4E86;&#x67D0;&#x4E2A;&#x5E94;&#x7528;&#x8FD0;&#x884C;&#x6240;&#x9700;&#x8981;&#x7684;&#x5168;&#x90E8;&#x73AF;&#x5883; User user = new User() Docker &#x4ED3;&#x5E93; - Docker registeries&#xFF1A; &#x7528;&#x6765;&#x4FDD;&#x5B58;&#x955C;&#x50CF;&#xFF0C;&#x6709;&#x516C;&#x6709;&#x548C;&#x79C1;&#x6709;&#x4ED3;&#x5E93;&#xFF0C;&#x597D;&#x6BD4;Maven&#x7684;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#x548C;&#x672C;&#x5730;&#x79C1;&#x670D; &#x4E2D;&#x592E;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A;https://hub.docker.com/ &#xFF08;&#x53C2;&#x8003;&#xFF09;&#x914D;&#x7F6E;&#x56FD;&#x5185;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A;https://blog.csdn.net/zzy1078689276/article/details/77371782 &#x5BF9;&#x6BD4;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F; Dokcer &#x91CC;&#x9762;&#x7684;&#x955C;&#x50CF; : Java&#x91CC;&#x9762;&#x7684;&#x7C7B; Class Docker &#x91CC;&#x9762;&#x7684;&#x5BB9;&#x5668; : Java&#x91CC;&#x9762;&#x7684;&#x5BF9;&#x8C61; Object &#x901A;&#x8FC7;&#x7C7B;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x8FC7;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x5BB9;&#x5668;3.Docker&#x5BB9;&#x5668;&#x5E38;&#x89C1;&#x547D;&#x4EE4;&#x5B9E;&#x6218;&#x5E38;&#x7528;&#x547D;&#x4EE4;&#xFF08;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x597D;Dokcer&#x540E;&#xFF0C;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x662F;docker&#x5F00;&#x5934;&#xFF09;,xxx&#x662F;&#x955C;&#x50CF;&#x540D;&#x79F0; &#x641C;&#x7D22;&#x955C;&#x50CF;&#xFF1A;docker search xxx &#x5217;&#x51FA;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x5B58;&#x5728;&#x7684;&#x955C;&#x50CF;&#xFF1A;docker images (&#x786C;&#x76D8;) &#x62C9;&#x53D6;&#x955C;&#x50CF;&#xFF1A;docker pull xxx xxx&#x662F;&#x5177;&#x4F53;&#x67D0;&#x4E2A;&#x955C;&#x50CF;&#x540D;&#x79F0;(&#x683C;&#x5F0F; REPOSITORY:TAG) REPOSITORY&#xFF1A;&#x8868;&#x793A;&#x955C;&#x50CF;&#x7684;&#x4ED3;&#x5E93;&#x6E90;,TAG&#xFF1A;&#x955C;&#x50CF;&#x7684;&#x6807;&#x7B7E; &#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF1A;docker run -d --name &quot;&#x522B;&#x540D;demo_mq&quot; -p 5672:5672 -p 15672:15672 rabbitmq:management docker run - &#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668; -d &#x540E;&#x53F0;&#x8FD0;&#x884C; -p &#x7AEF;&#x53E3;&#x6620;&#x5C04; &#x7269;&#x7406;&#x673A;&#x7AEF;&#x53E3;:&#x5BB9;&#x5668;&#x7AEF;&#x53E3; &#x4E24;&#x4E2A; -p &#x662F;&#x56E0;&#x4E3A;&#x8FD9;&#x4E2A;mq&#x6709;&#x4E24;&#x4E2A;&#x7A0B;&#x5E8F; rabbitmq:management (&#x683C;&#x5F0F; REPOSITORY:TAG)&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;tag&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x6700;&#x65B0;&#x7684; --name &quot;xxx&quot; &#x8FD0;&#x884C;&#x5B8C;&#x5BB9;&#x5668;&#x4E4B;&#x540E;&#x4F1A;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;container ID &#x5217;&#x4E3E;&#x5F53;&#x524D;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#xFF1A;docker ps (&#x5185;&#x5B58;) &#x68C0;&#x67E5;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x4FE1;&#x606F;&#xFF1A;docker inspect &#x5BB9;&#x5668;&#x540D;&#x79F0; &#x5220;&#x9664;&#x955C;&#x50CF;&#xFF1A;docker rmi IMAGE_NAME &#x5F3A;&#x5236;&#x79FB;&#x9664;&#x955C;&#x50CF;&#x4E0D;&#x7BA1;&#x662F;&#x5426;&#x6709;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x8BE5;&#x955C;&#x50CF; &#x589E;&#x52A0; -f &#x53C2;&#x6570;&#xFF0C; &#x505C;&#x6B62;&#x67D0;&#x4E2A;&#x5BB9;&#x5668;&#xFF1A;docker stop &#x5BB9;&#x5668;&#x540D;&#x79F0; &#x542F;&#x52A8;&#x67D0;&#x4E2A;&#x5BB9;&#x5668;&#xFF1A;docker start &#x5BB9;&#x5668;&#x540D;&#x79F0; &#x79FB;&#x9664;&#x67D0;&#x4E2A;&#x5BB9;&#x5668;&#xFF1A; docker rm &#x5BB9;&#x5668;&#x540D;&#x79F0; &#xFF08;&#x5BB9;&#x5668;&#x5FC5;&#x987B;&#x662F;&#x505C;&#x6B62;&#x72B6;&#x6001;&#xFF09; docker&#x53C2;&#x8003;&#x6587;&#x6863;&#xFF1A; https://blog.csdn.net/permike/article/details/518795784.Docker&#x5B9E;&#x6218;&#x90E8;&#x7F72;nginx&#x670D;&#x52A1;&#x5668;1&#x3001;docker images #&#x67E5;&#x770B;&#x5F53;&#x524D;&#x955C;&#x50CF; 2&#x3001;docker run #&#x5982;&#x679C;&#x6709;(&#x9996;&#x5148;&#x4F1A;&#x4ECE;&#x672C;&#x5730;&#x627E;&#x955C;&#x50CF;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5219;&#x76F4;&#x63A5;&#x542F;&#x52A8;&#xFF0C;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#xFF0C;&#x4ECE;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x62C9;&#x8D77;&#xFF0C;&#x518D;&#x542F;&#x52A8;) 3&#x3001;docker search nignx #&#x5982;&#x679C;&#x6CA1;&#x6709;&#x53BB;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#x641C;&#x7D22; 2&#x3001;docker images #&#x5217;&#x4E3E; 3&#x3001;docker pull nignx #&#x62C9;&#x53D6; 4&#x3001;docker run -d --name &quot;xdclass_nginx&quot; -p 8088:80 nginx #&#x542F;&#x52A8; docker run -d --name &quot;xdclass_nginx2&quot; -p 8089:80 nginx docker run -d --name &quot;xdclass_nginx3&quot; -p 8090:80 nginx 5&#x3001;&#x8BBF;&#x95EE; &#x5982;&#x679C;&#x662F;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#xFF0C;&#x8BB0;&#x5F97;&#x914D;&#x7F6E;&#x5B89;&#x5168;&#x7EC4;&#xFF0C;&#x817E;&#x8BAF;&#x4E91;&#x4E5F;&#x9700;&#x8981;&#x914D;&#x7F6E;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x9632;&#x706B;&#x5899; 6&#x3001;curl &quot;http://127.0.0.1:8088&quot; #&#x6D4B;&#x8BD5;nginx&#x662F;&#x5426;&#x542F;&#x52A8; 5.Docker&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x4F7F;&#x7528;&#x8BB2;&#x89E3;&#x5B98;&#x65B9;&#x516C;&#x5171;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x548C;&#x79C1;&#x6709;&#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x516C;&#x5171;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A; &#x5B98;&#x65B9;&#xFF1A;https://hub.docker.com/&#xFF0C;&#x57FA;&#x4E8E;&#x5404;&#x4E2A;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x6216;&#x8005;&#x6709;&#x8F6F;&#x4EF6;&#x63D0;&#x4F9B;&#x5546;&#x5F00;&#x53D1;&#x7684; &#x975E;&#x5B98;&#x65B9;&#xFF1A;&#x5176;&#x4ED6;&#x7EC4;&#x7EC7;&#x6216;&#x8005;&#x516C;&#x53F8;&#x5F00;&#x53D1;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x4F9B;&#x5927;&#x5BB6;&#x514D;&#x8D39;&#x8BD5;&#x7528; &#x79C1;&#x6709;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A;&#x7528;&#x4E8E;&#x5B58;&#x653E;&#x516C;&#x53F8;&#x5185;&#x90E8;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x4E0D;&#x63D0;&#x4F9B;&#x7ED9;&#x5916;&#x90E8;&#x8BD5;&#x7528;&#xFF1B; SpringCloud &#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#x652F;&#x4ED8;&#x7CFB;&#x7EDF; -&#x300B;&#x505A;&#x6210;&#x4E00;&#x4E2A;&#x955C;&#x50CF; &#xFF08;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;+&#x8F6F;&#x4EF6;&#x8FD0;&#x884C;&#x73AF;&#x5883;+&#x7528;&#x6237;&#x7A0B;&#x5E8F;&#xFF09; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>运维</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[springcloud]]></title>
    <url>%2Fspringcloud%2F2019%2F03%2F09%2Fspringcloud.html</url>
    <content type="text"><![CDATA[1.&#x4F20;&#x7EDF;&#x67B6;&#x6784;&#x6F14;&#x8FDB;&#x5230;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#x200B; &#x9AD8;&#x53EF;&#x7528; LVS+keepalive &#x200B; 1&#x3001;&#x5355;&#x4F53;&#x5E94;&#x7528;&#xFF1A; &#x200B; &#x5F00;&#x53D1;&#x901F;&#x5EA6;&#x6162; &#x200B; &#x542F;&#x52A8;&#x65F6;&#x95F4;&#x957F; &#x200B; &#x4F9D;&#x8D56;&#x5E9E;&#x5927; &#x200B; &#x7B49;&#x7B49; 2.&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;: &#x200B; 3&#x3001;&#x5FAE;&#x670D;&#x52A1; &#x200B; &#x4F18;&#x70B9;: &#x200B; &#x6613;&#x5F00;&#x53D1;&#x3001;&#x7406;&#x89E3;&#x548C;&#x7EF4;&#x62A4; &#x200B; &#x72EC;&#x7ACB;&#x7684;&#x90E8;&#x7F72;&#x548C;&#x542F;&#x52A8;&#x7B49; &#x200B; &#x4E0D;&#x8DB3;&#xFF1A; &#x200B; &#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;-&#x300B;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x95EE;&#x9898; &#x200B; &#x9700;&#x8981;&#x7BA1;&#x7406;&#x591A;&#x4E2A;&#x670D;&#x52A1;-&#x300B;&#x670D;&#x52A1;&#x6CBB;&#x7406; 2.&#x8BB2;&#x89E3;&#x5FAE;&#x670D;&#x52A1;&#x6838;&#x5FC3;&#x77E5;&#x8BC6; &#xFF1A;&#x7F51;&#x5173;&#x3001;&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x6CE8;&#x518C;&#x3001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x3001;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#x3001;&#x7194;&#x65AD;&#x200B; 1&#x3001;&#x7F51;&#x5173;&#xFF1A;&#x8DEF;&#x7531;&#x8F6C;&#x53D1; + &#x8FC7;&#x6EE4;&#x5668; &#x200B; /api/v1/pruduct/ &#x5546;&#x54C1;&#x670D;&#x52A1; &#x200B; /api/v1/order/ &#x8BA2;&#x5355;&#x670D;&#x52A1; (&#x9700;&#x8981;&#x767B;&#x5F55;) &#x200B; /api/v1/user/ &#x7528;&#x6237;&#x670D;&#x52A1; &#x200B; /api/v1/comment/ &#x8BC4;&#x8BBA;&#x670D;&#x52A1; (&#x9700;&#x8981;&#x767B;&#x5F55;) &#x4EE5;&#x524D;: &#x200B; &#x4E13;&#x95E8;&#x5199;&#x4E00;&#x4E2A;&#x767B;&#x5F55;&#x670D;&#x52A1; &#x767B;&#x9646;&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x767B;&#x5F55;&#x670D;&#x52A1; &#x73B0;&#x5728;: &#x200B; &#x5728;&#x7F51;&#x5173;&#x8FD9;&#x91CC;&#x505A;&#x4E00;&#x5C42;&#x62E6;&#x622A;&#x5224;&#x65AD;&#x7528;&#x6237;&#x662F;&#x5426;&#x767B;&#x5F55;,&#x5C06;&#x6821;&#x9A8C;&#x524D;&#x7F6E;&#x5B9E;&#x73B0;&#x52A8;&#x6001;&#x63D2;&#x62D4;.(&#x89E3;&#x8026;) &#x200B; &#x200B; 2&#x3001;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x53D1;&#x73B0;&#xFF1A;&#x8C03;&#x7528;&#x548C;&#x88AB;&#x8C03;&#x7528;&#x65B9;&#x7684;&#x4FE1;&#x606F;&#x7EF4;&#x62A4; &#x200B; &#x5404;&#x4E2A;&#x670D;&#x52A1;&#x5C06;&#x63A5;&#x53E3;&#x548C;IP&#x4FE1;&#x606F;&#x4EE5;&#x53CA;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x66B4;&#x9732;&#x7ED9;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;,&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x6839;&#x636E;&#x60C5;&#x51B5;&#x5224;&#x65AD;&#x8FC7;&#x6765;&#x7684;&#x63A5;&#x53E3;&#x9700;&#x8981;&#x8C03;&#x54EA;&#x53F0;&#x673A;&#x5668;&#x7684;&#x63A5;&#x53E3;&#x4EE5;&#x53CA;&#x5982;&#x679C;&#x8FD9;&#x53F0;&#x673A;&#x5668;&#x7684;&#x8D1F;&#x8F7D;&#x60C5;&#x51B5;&#x5982;&#x679C;&#x8D1F;&#x8F7D;&#x8FC7;&#x9AD8;&#x662F;&#x5426;&#x8F6C;&#x53D1;&#x7ED9;&#x53E6;&#x4E00;&#x53F0;&#x673A;&#x5668; &#x200B; 3&#x3001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF1A;&#x7BA1;&#x7406;&#x914D;&#x7F6E;&#xFF0C;&#x52A8;&#x6001;&#x66F4;&#x65B0; application.properties &#x5C06;&#x5404;&#x4E2A;&#x670D;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4EA4;&#x7ED9;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;,&#x5404;&#x4E2A;springboot&#x670D;&#x52A1;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x5411;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x62C9;&#x53D6;&#x914D;&#x7F6E;,&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x6709;&#x4E00;&#x4E2A;&#x53EF;&#x89C6;&#x5316;&#x7684;&#x540E;&#x53F0;&#x6240;&#x4EE5;&#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x7279;&#x522B;&#x65B9;&#x4FBF; &#x200B; 4&#x3001;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#xFF1A;&#x5206;&#x6790;&#x8C03;&#x7528;&#x94FE;&#x8DEF;&#x8017;&#x65F6; &#x200B; &#x4F8B;&#x5B50;&#xFF1A;&#x4E0B;&#x5355;-&#x300B;&#x67E5;&#x8BE2;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x4EF7;&#x683C;-&#x300B;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F;-&#x300B;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x79EF;&#x5206;-&#x300B;&#x98CE;&#x63A7;&#x7CFB;&#x7EDF;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x662F;&#x5426;&#x4F5C;&#x5F0A;-&#x300B;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x5E93; &#x200B; 5&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#xFF1A;&#x5206;&#x53D1;&#x8D1F;&#x8F7D; &#x200B; 6&#x3001;&#x7194;&#x65AD;&#xFF1A;&#x4FDD;&#x62A4;&#x81EA;&#x5DF1;&#x548C;&#x88AB;&#x8C03;&#x7528;&#x65B9; &#x4F8B;&#x5982; : &#x5E73;&#x65F6; &#x8BA2;&#x5355;&#x670D;&#x52A1;&#x9700;&#x8981;&#x8C03;&#x7528;-&#x300B;&#x7528;&#x6237;&#x670D;&#x52A1;-&#x300B;&#x79EF;&#x5206;&#x670D;&#x52A1;-&#x300B;&#x5546;&#x54C1;&#x670D;&#x52A1; &#x200B; &#x53CC;&#x5341;&#x4E00; &#x8BA2;&#x5355;&#x670D;&#x52A1;&#x5C31;&#x4E0D;&#x8981;&#x8C03;&#x7528;&#x79EF;&#x5206;&#x670D;&#x52A1;&#x4E86; &#x4F8B;&#x5982; : &#x8BA2;&#x5355;&#x670D;&#x52A1;&#x8C03;&#x79EF;&#x5206;&#x7CFB;&#x7EDF;&#x7684;&#x670D;&#x52A1;,10&#x6B21;&#x8BF7;&#x6C42;9&#x6B21;&#x90FD;&#x6CA1;&#x6709;&#x54CD;&#x5E94;&#x90A3;&#x4E48;&#x5C31;&#x8BA9;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x7ACB;&#x523B;&#x505C;&#x4E0B;&#x8FC7;5&#x5206;&#x949F;&#x6216;&#x8005;&#x662F;&#x51E0;&#x5206;&#x949F;&#x4E4B;&#x540E;&#x518D;&#x53BB;&#x8C03;&#x7528;&#x770B;&#x662F;&#x5426;&#x6B63;&#x5E38;. &#x6BCF;&#x79D2;&#x67E5;&#x8BE2;&#x7387;QPS&#x662F;&#x5BF9;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7684;&#x67E5;&#x8BE2;&#x670D;&#x52A1;&#x5668;&#x5728;&#x89C4;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#x6240;&#x5904;&#x7406;&#x6D41;&#x91CF;&#x591A;&#x5C11;&#x7684;&#x8861;&#x91CF;&#x6807;&#x51C6;&#x3002; &#x56E0;&#x7279;&#x7F51;&#x4E0A;&#xFF0C;&#x7ECF;&#x5E38;&#x7528;&#x6BCF;&#x79D2;&#x67E5;&#x8BE2;&#x7387;&#x6765;&#x8861;&#x91CF;&#x57DF;&#x540D;&#x7CFB;&#x7EDF;&#x670D;&#x52A1;&#x5668;&#x7684;&#x673A;&#x5668;&#x7684;&#x6027;&#x80FD;&#xFF0C;&#x5176;&#x5373;&#x4E3A;QPS&#x3002; &#x5BF9;&#x5E94;fetches/sec&#xFF0C;&#x5373;&#x6BCF;&#x79D2;&#x7684;&#x54CD;&#x5E94;&#x8BF7;&#x6C42;&#x6570;&#xFF0C;&#x4E5F;&#x5373;&#x662F;&#x6700;&#x5927;&#x541E;&#x5410;&#x80FD;&#x529B;&#x3002; &#x8BA1;&#x7B97;&#x5173;&#x7CFB;&#xFF1A; QPS = &#x5E76;&#x53D1;&#x91CF; / &#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4; &#x5E76;&#x53D1;&#x91CF; = QPS * &#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4; 3.&#x5E38;&#x89C1;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x200B; consumer: &#x8C03;&#x7528;&#x65B9; &#x200B; provider: &#x88AB;&#x8C03;&#x7528;&#x65B9; &#x200B; &#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x4E00;&#x822C;&#x90FD;&#x4F1A;&#x5145;&#x5F53;&#x4E24;&#x4E2A;&#x89D2;&#x8272;&#xFF08;&#x4E0D;&#x662F;&#x540C;&#x65F6;&#x5145;&#x5F53;&#xFF09; &#x200B; &#x200B; 1&#x3001;dubbo: zookeeper + dubbo + springmvc/springboot &#x200B; &#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;http://dubbo.apache.org/#!/?lang=zh-cn &#x200B; &#x914D;&#x5957; &#x200B; &#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF1A;rpc (&#x957F;&#x8FDE;&#x63A5;) &#x200B; &#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF1A;zookeper/redis &#x200B; &#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF1A;diamond &#x200B; &#x200B; 2&#x3001;springcloud: &#x5168;&#x5BB6;&#x6876;+&#x8F7B;&#x677E;&#x5D4C;&#x5165;&#x7B2C;&#x4E09;&#x65B9;&#x7EC4;&#x4EF6;(Netflix &#x5948;&#x98DE;) &#x200B; &#x5B98;&#x7F51;&#xFF1A;http://projects.spring.io/spring-cloud/ &#x200B; &#x914D;&#x5957; &#x200B; &#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF1A;http restful &#x200B; &#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF1A;eruka/consul &#x200B; &#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF1A;config &#x200B; &#x65AD;&#x8DEF;&#x5668;&#xFF1A;hystrix &#x200B; &#x7F51;&#x5173;&#xFF1A;zuul &#x200B; &#x5206;&#x5E03;&#x5F0F;&#x8FFD;&#x8E2A;&#x7CFB;&#x7EDF;&#xFF1A;sleuth+zipkin &#x5B66;&#x4E60;&#x8D44;&#x6599;&#xFF1A;https://blog.csdn.net/zhangweiwei2020/article/details/78646252 RPC&#xFF08;&#x5373;Remote Procedure Call&#xFF0C;&#x8FDC;&#x7A0B;&#x8FC7;&#x7A0B;&#x8C03;&#x7528;&#xFF09;&#x548C;HTTP&#xFF08;HyperText Transfer Protocol&#xFF0C;&#x8D85;&#x6587;&#x672C;&#x4F20;&#x8F93;&#x534F;&#x8BAE;&#xFF09;&#x4ED6;&#x4EEC;&#x6700;&#x672C;&#x8D28;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5C31;&#x662F;RPC&#x4E3B;&#x8981;&#x5DE5;&#x4F5C;&#x5728;TCP&#x534F;&#x8BAE;&#x4E4B;&#x4E0A;&#xFF0C;&#x800C;HTTP&#x670D;&#x52A1;&#x4E3B;&#x8981;&#x662F;&#x5DE5;&#x4F5C;&#x5728;HTTP&#x534F;&#x8BAE;&#x4E4B;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x90FD;&#x77E5;&#x9053;HTTP&#x534F;&#x8BAE;&#x662F;&#x5728;&#x4F20;&#x8F93;&#x5C42;&#x534F;&#x8BAE;TCP&#x4E4B;&#x4E0A;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6548;&#x7387;&#x6765;&#x770B;&#x7684;&#x8BDD;&#xFF0C;RPC&#x5F53;&#x7136;&#x662F;&#x8981;&#x66F4;&#x80DC;&#x4E00;&#x7B79;. rpc&#x901F;&#x5EA6;&#x66F4;&#x5FEB;&#x9002;&#x5408;&#x9AD8;&#x5E76;&#x53D1;&#x7684;&#x79D2;&#x6740; &#x56E0;&#x4E3A;http&#x9700;&#x8981;&#x4E09;&#x6B21;&#x63E1;&#x624B;&#x901F;&#x5EA6;&#x6162; springcloud&#x9002;&#x5408;&#x94FE;&#x8DEF;&#x6BD4;&#x8F83;&#x957F;&#x7684;&#x56E0;&#x4E3A;&#x6709;&#x73B0;&#x6210;&#x7684;&#x7EC4;&#x4EF6; &#x6216;&#x8005;&#x5C0F;&#x516C;&#x53F8;&#x6CA1;&#x94B1;&#x7684; 4.&#x5FAE;&#x670D;&#x52A1;&#x4E0B;&#x7535;&#x5546;&#x9879;&#x76EE;&#x57FA;&#x7840;&#x6A21;&#x5757;&#x8BBE;&#x8BA1;&#x200B; 1&#x3001;&#x7528;&#x6237;&#x670D;&#x52A1; &#x200B; 1&#xFF09;&#x7528;&#x6237;&#x4FE1;&#x606F;&#x63A5;&#x53E3; &#x200B; 2&#xFF09;&#x767B;&#x5F55;&#x63A5;&#x53E3; &#x200B; 2&#x3001;&#x5546;&#x54C1;&#x670D;&#x52A1; &#x200B; 1&#xFF09;&#x5546;&#x54C1;&#x5217;&#x8868; &#x200B; 2&#xFF09;&#x5546;&#x54C1;&#x8BE6;&#x60C5; &#x200B; 3&#x3001;&#x8BA2;&#x5355;&#x670D;&#x52A1; &#x200B; 1&#xFF09;&#x6211;&#x7684;&#x8BA2;&#x5355; &#x200B; 2&#xFF09;&#x4E0B;&#x5355;&#x63A5;&#x53E3; 5.SpringCloud&#x6838;&#x5FC3;&#x7EC4;&#x4EF6;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4EC0;&#x4E48;&#x662F;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x200B; &#x7406;&#x89E3;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF1A;&#x670D;&#x52A1;&#x7BA1;&#x7406;,&#x6838;&#x5FC3;&#x662F;&#x6709;&#x4E2A;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x8868;&#xFF0C;&#x5FC3;&#x8DF3;&#x673A;&#x5236;&#x52A8;&#x6001;&#x7EF4;&#x62A4;(ping-pong&#x673A;&#x5236;) &#x200B; &#x200B; &#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;provider: &#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x5411;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4E0A;&#x62A5;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7EDC;&#x4FE1;&#x606F; &#x200B; &#x200B; &#x670D;&#x52A1;&#x6D88;&#x8D39;&#x8005;consumer: &#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x5411;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4E0A;&#x62A5;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7EDC;&#x4FE1;&#x606F;&#xFF0C;&#x62C9;&#x53D6;provider&#x7684;&#x76F8;&#x5173;&#x7F51;&#x7EDC;&#x4FE1;&#x606F; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;&#xFF1A; &#x200B; &#x5FAE;&#x670D;&#x52A1;&#x5E94;&#x7528;&#x548C;&#x673A;&#x5668;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x8C03;&#x7528;&#x65B9;&#x9700;&#x8981;&#x77E5;&#x9053;&#x63A5;&#x53E3;&#x7684;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x9760;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x53BB;&#x63A7;&#x5236;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#xFF0C;&#x5BF9;&#x4E8E;&#x52A8;&#x6001;&#x65B0;&#x589E;&#x673A;&#x5668;&#xFF0C;&#x7EF4;&#x62A4;&#x5E26;&#x6765;&#x5F88;&#x5927;&#x95EE;&#x9898; &#x4E3B;&#x6D41;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF1A; &#x200B; zookeeper&#x3001;Eureka&#x3001;consul&#x3001;etcd &#x7B49; 6.&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x77E5;&#x8BC6;CAP&#x7406;&#x8BBA;&#x77E5;&#x8BC6;&#x200B; CAP&#x5B9A;&#x7406;&#xFF1A; &#x200B; &#x6307;&#x7684;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;Consistency&#xFF08;&#x4E00;&#x81F4;&#x6027;&#xFF09;&#x3001; Availability&#xFF08;&#x53EF;&#x7528;&#x6027;&#xFF09;&#x3001;Partition tolerance&#xFF08;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;&#xFF09;&#xFF0C;&#x4E09;&#x8005;&#x4E0D;&#x53EF;&#x540C;&#x65F6;&#x83B7;&#x5F97;&#x3002; &#x200B; &#x4E00;&#x81F4;&#x6027;&#xFF08;C&#xFF09;&#xFF1A;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x662F;&#x5426;&#x540C;&#x6837;&#x7684;&#x503C;&#x3002;&#xFF08;&#x6240;&#x6709;&#x8282;&#x70B9;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x7684;&#x6570;&#x636E;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#xFF0C;&#x8D8A;&#x591A;&#x8282;&#x70B9;&#xFF0C;&#x6570;&#x636E;&#x540C;&#x6B65;&#x8D8A;&#x8017;&#x65F6;&#xFF09; &#x6BD4;&#x5982;&#x7528;&#x6237;&#x5728;&#x8FD9;&#x4E2A;&#x7EC8;&#x7AEF;&#x770B;&#x5230;&#x7684;&#x662F;&#x5DF2;&#x652F;&#x4ED8;,&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x7EC8;&#x7AEF;&#x4E5F;&#x5F97;&#x770B;&#x5230;&#x5DF2;&#x652F;&#x4ED8; &#x200B; &#x53EF;&#x7528;&#x6027;&#xFF08;A&#xFF09;&#xFF1A;&#x8D1F;&#x8F7D;&#x8FC7;&#x5927;&#x540E;&#xFF0C;&#x96C6;&#x7FA4;&#x6574;&#x4F53;&#x662F;&#x5426;&#x8FD8;&#x80FD;&#x54CD;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#x3002;&#xFF08;&#x670D;&#x52A1;&#x4E00;&#x76F4;&#x53EF;&#x7528;&#xFF0C;&#x800C;&#x4E14;&#x662F;&#x6B63;&#x5E38;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF09; &#x200B; &#x4F8B;&#x5982;:&#x8D75;&#x4E3D;&#x9896;&#x7ED3;&#x5A5A;&#x4E0A;&#x4E86;&#x65B0;&#x6D6A;&#x5FAE;&#x535A;&#x7684;&#x70ED;&#x641C; &#x90A3;&#x4E48;&#x65B0;&#x6D6A;&#x5FAE;&#x535A;&#x7684;QPS&#x4F1A;&#x77AC;&#x95F4;&#x66B4;&#x589E;,&#x5BFC;&#x81F4;&#x65B0;&#x6D6A;&#x7684;&#x670D;&#x52A1;&#x5668;&#x5D29;&#x6E83;. &#x200B; &#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;&#xFF08;P&#xFF09;&#xFF1A;&#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#xFF0C;&#x5C31;&#x662F;&#x9AD8;&#x53EF;&#x7528;&#x6027; . &#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x5D29;&#x4E86;&#xFF0C;&#x5E76;&#x4E0D;&#x5F71;&#x54CD;&#x5176;&#x5B83;&#x7684;&#x8282;&#x70B9;&#xFF08;100&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x6302;&#x4E86;&#x51E0;&#x4E2A;&#xFF0C;&#x4E0D;&#x5F71;&#x54CD;&#x670D;&#x52A1;&#xFF0C;&#x8D8A;&#x591A;&#x673A;&#x5668;&#x8D8A;&#x597D;&#xFF09; &#x200B; &#x200B; CAP&#x7406;&#x8BBA;&#x5C31;&#x662F;&#x8BF4;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x5B9E;&#x73B0;&#x4E0A;&#x9762;&#x7684;&#x4E24;&#x70B9;&#x3002;&#x800C;&#x7531;&#x4E8E;&#x5F53;&#x524D;&#x7684;&#x7F51;&#x7EDC;&#x786C;&#x4EF6;&#x80AF;&#x5B9A;&#x4F1A;&#x51FA;&#x73B0;&#x5EF6;&#x8FDF;&#x4E22;&#x5305;&#x7B49;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#x662F;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x5728;&#x4E00;&#x81F4;&#x6027;&#x548C;&#x53EF;&#x7528;&#x6027;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x6743;&#x8861; 7.&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;CAP&#x539F;&#x7406;&#x5E38;&#x89C1;&#x9762;&#x8BD5;&#x9898;&#x548C;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9009;&#x62E9;&#x200B; C A &#x6EE1;&#x8DB3;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;P&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x7684;&#x539F;&#x56E0;&#xFF1A; &#x200B; &#x6570;&#x636E;&#x540C;&#x6B65;(C)&#x9700;&#x8981;&#x65F6;&#x95F4;&#xFF0C;&#x4E5F;&#x8981;&#x6B63;&#x5E38;&#x7684;&#x65F6;&#x95F4;&#x5185;&#x54CD;&#x5E94;(A)&#xFF0C;&#x90A3;&#x4E48;&#x673A;&#x5668;&#x6570;&#x91CF;&#x5C31;&#x8981;&#x5C11;,&#x8282;&#x70B9;&#x8981;&#x5C11;&#xFF0C;&#x6240;&#x4EE5;P&#x5C31;&#x4E0D;&#x6EE1;&#x8DB3; &#x200B; &#x200B; CP &#x6EE1;&#x8DB3;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;A&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x7684;&#x539F;&#x56E0;&#xFF1A; &#x200B; &#x6570;&#x636E;&#x540C;&#x6B65;(C)&#x9700;&#x8981;&#x65F6;&#x95F4;, &#x673A;&#x5668;&#x6570;&#x91CF;&#x4E5F;&#x591A;(P)&#xFF0C;&#x4F46;&#x662F;&#x540C;&#x6B65;&#x6570;&#x636E;&#x9700;&#x8981;&#x65F6;&#x95F4;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x518D;&#x6B63;&#x5E38;&#x65F6;&#x95F4;&#x5185;&#x54CD;&#x5E94;&#xFF0C;&#x6240;&#x4EE5;A&#x5C31;&#x4E0D;&#x6EE1;&#x8DB3; &#x200B; AP &#x6EE1;&#x8DB3;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;C&#x4E0D;&#x80FD;&#x6EE1;&#x8DB3;&#x7684;&#x539F;&#x56E0;&#xFF1A; &#x200B; &#x673A;&#x5668;&#x6570;&#x91CF;&#x4E5F;&#x591A;(P)&#xFF0C;&#x6B63;&#x5E38;&#x7684;&#x65F6;&#x95F4;&#x5185;&#x54CD;&#x5E94;(A)&#xFF0C;&#x90A3;&#x4E48;&#x6570;&#x636E;&#x5C31;&#x4E0D;&#x80FD;&#x53CA;&#x65F6;&#x540C;&#x6B65;&#x5230;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#xFF0C;&#x6240;&#x4EE5;C&#x4E0D;&#x6EE1;&#x8DB3; &#x200B; &#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9009;&#x62E9;&#xFF1A; &#x200B; Zookeeper&#xFF1A;CP&#x8BBE;&#x8BA1;&#xFF0C;&#x4FDD;&#x8BC1;&#x4E86;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x96C6;&#x7FA4;&#x642D;&#x5EFA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x67D0;&#x4E2A;&#x8282;&#x70B9;&#x5931;&#x6548;&#xFF0C;&#x5219;&#x4F1A;&#x8FDB;&#x884C;&#x9009;&#x4E3E;&#x884C;&#x7684;leader&#xFF0C;&#x6B64;&#x65F6;&#x4ED6;&#x4EEC;&#x5185;&#x90E8;&#x5728;&#x8FDB;&#x884C;&#x9009;&#x4E3E;&#x670D;&#x52A1;&#x6240;&#x4EE5;&#x65E0;&#x6CD5;&#x63D0;&#x4F9B;&#x670D;&#x52A1;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x7528;&#x6027;&#x6CA1;&#x6CD5;&#x6EE1;&#x8DB3; &#x200B; &#x7528;&#x6237;&#x5B58;&#x94B1;&#x7684;&#x540C;&#x65F6;&#x53BB;&#x53D6;&#x94B1;&#x4E00;&#x5B9A;&#x8981;&#x6709; &#x6240;&#x4EE5;&#x91D1;&#x878D;&#x4E1A;&#x52A1;&#x9700;&#x8981;&#x9009;&#x7528;zookeeper &#x200B; Eureka&#xFF1A;AP&#x539F;&#x5219;&#xFF0C;&#x65E0;&#x4E3B;&#x4ECE;&#x8282;&#x70B9;&#xFF0C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x6302;&#x4E86;&#xFF0C;&#x81EA;&#x52A8;&#x5207;&#x6362;&#x5176;&#x4ED6;&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x53BB;&#x4E2D;&#x5FC3;&#x5316; &#x200B; &#x7ED3;&#x8BBA;&#xFF1A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;P,&#x80AF;&#x5B9A;&#x8981;&#x6EE1;&#x8DB3;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x80FD;&#x5728;CA&#x4E2D;&#x4E8C;&#x9009;&#x4E00; &#x200B; &#x6CA1;&#x6709;&#x6700;&#x597D;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x9009;&#x62E9;&#x662F;&#x6839;&#x636E;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x6765;&#x8FDB;&#x884C;&#x67B6;&#x6784;&#x8BBE;&#x8BA1; &#x200B; &#x5982;&#x679C;&#x8981;&#x6C42;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x5219;&#x9009;&#x62E9;zookeeper&#xFF0C;&#x5982;&#x91D1;&#x878D;&#x884C;&#x4E1A; &#x200B; &#x200B; &#x5982;&#x679C;&#x8981;&#x6C42;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x5219;Eureka&#xFF0C;&#x5982;&#x7535;&#x5546;&#x7CFB;&#x7EDF;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4E0D;&#x80FD;&#x6302; 8.SpringCloud&#x5FAE;&#x670D;&#x52A1;&#x6838;&#x5FC3;&#x7EC4;&#x4EF6;Eureka&#x4ECB;&#x7ECD;&#x548C;&#x95ED;&#x6E90;&#x540E;&#x5F71;&#x54CD;&#x200B; &#x7B80;&#x4ECB;&#xFF1A; &#x200B; SpringCloud&#x4F53;&#x7CFB;&#x4ECB;&#x7ECD; &#x200B; &#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;http://projects.spring.io/spring-cloud/ &#x200B; &#x6CE8;&#x610F;&#x7248;&#x672C;&#x95EE;&#x9898;!!! &#x200B; Eureka&#x7684;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x2013;&gt;&#x753B;&#x56FE;&#x8BB2;&#x89E3;&#x4EA4;&#x4E92;&#x6D41;&#x7A0B;&#xFF0C;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&lt;&#x2013;&gt;&#x670D;&#x52A1;&#x6D88;&#x8D39;&#x8005; ; &#x200B; Eureka 2.x&#x95ED;&#x6E90;&#x540E;&#x9009;&#x62E9; &#x200B; &#x53C2;&#x8003;&#xFF1A;https://www.jianshu.com/p/d32ae141f680 &#x200B; https://blog.csdn.net/zjcjava/article/details/78608892 9.&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;Eureka Server&#x642D;&#x5EFA;&#x5B9E;&#x6218;&#x200B; &#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x9879;&#x76EE;,&#x6784;&#x5EFA;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x200B; &#x8FD9;&#x91CC;&#x7248;&#x672C;&#x9009;&#x62E9;&#x5B8C;&#x6BD5;&#x4EE5;&#x540E;&#x53BB;pom&#x91CC;&#x9762;&#x4FEE;&#x6539;&#x4E00;&#x4E0B;springboot&#x7684;&#x7248;&#x672C;&#x6539;&#x4E3A;2.0.3 &#x6B64;&#x65F6;&#x8FD9;&#x4E2A;Eureka Server&#x5C31;&#x662F;&#x4E00;&#x4E2A;maven&#x4F9D;&#x8D56; &#x7B80;&#x4ECB;&#xFF1A;&#x4F7F;&#x7528;IDEA&#x642D;&#x5EFA;Eureka&#x670D;&#x52A1;&#x4E2D;&#x5FC3;Server&#x7AEF;&#x5E76;&#x542F;&#x52A8;&#xFF0C;&#x9879;&#x76EE;&#x57FA;&#x672C;&#x9AA8;&#x67B6;&#x4ECB;&#x7ECD; &#x200B; &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#spring-cloud-eureka-server &#x200B; &#x7B2C;&#x4E00;&#x6B65;&#xFF1A;&#x521B;&#x5EFA;&#x9879;&#x76EE; &#x200B; &#x7B2C;&#x4E8C;&#x6B65;: &#x542F;&#x52A8;&#x7C7B;&#x6DFB;&#x52A0;&#x6CE8;&#x89E3; @EnableEurekaServer &#x200B; &#x7B2C;&#x4E09;&#x6B65;&#xFF1A;&#x589E;&#x52A0;&#x914D;&#x7F6E;application.yml server: port: 8761 eureka: instance: hostname: localhost client: #&amp;#x4E0B;&amp;#x9762;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x914D;&amp;#x7F6E;,&amp;#x58F0;&amp;#x660E;&amp;#x81EA;&amp;#x5DF1;&amp;#x662F;&amp;#x4E2A;&amp;#x670D;&amp;#x52A1;&amp;#x5668; registerWithEureka: false fetchRegistry: false serviceUrl: defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/ server: #&amp;#x5173;&amp;#x95ED;&amp;#x81EA;&amp;#x6211;&amp;#x4FDD;&amp;#x62A4;&amp;#x6A21;&amp;#x5F0F;,&amp;#x4E0D;&amp;#x51FA;&amp;#x73B0;&amp;#x7EA2;&amp;#x5B57;,&amp;#x751F;&amp;#x4EA7;&amp;#x73AF;&amp;#x5883;&amp;#x4E0D;&amp;#x80FD;&amp;#x5173;&amp;#x95ED; enable-self-preservation: false &#x200B; &#x7B2C;&#x56DB;&#x6B65;&#xFF1A;&#x8BBF;&#x95EE;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9875;&#x9762; http://localhost:8761/ maven&#x5730;&#x5740;: https://www.cnblogs.com/sword-successful/p/6408281.html (&#x66FF;&#x6362;&#x56FD;&#x5185;&#x955C;&#x50CF;&#x6E90;) 10.&#x5BA2;&#x6237;&#x7AEF;Eureka Client&#x642D;&#x5EFA;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x5B9E;&#x6218;&#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x642D;&#x5EFA;&#x7528;&#x5546;&#x54C1;&#x670D;&#x52A1;&#xFF0C;&#x5E76;&#x5C06;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x5230;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x200B; 1&#x3001;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;SpirngBoot&#x5E94;&#x7528;&#xFF0C;&#x589E;&#x52A0;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x548C;&#x53D1;&#x73B0;&#x4F9D;&#x8D56; &#x200B; &#x200B; 2&#x3001;&#x6A21;&#x62DF;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#xFF0C;&#x5B58;&#x50A8;&#x5728;&#x5185;&#x5B58;&#x4E2D; &#x4EE3;&#x7801;&#x8BE6;&#x89C1;: https://github.com/mambamentality8/springcloud&#x200B; 3&#x3001;&#x5F00;&#x53D1;&#x5546;&#x54C1;&#x5217;&#x8868;&#x63A5;&#x53E3;&#xFF0C;&#x5546;&#x54C1;&#x8BE6;&#x60C5;&#x63A5;&#x53E3; &#x4EE3;&#x7801;&#x8BE6;&#x89C1;: https://github.com/mambamentality8/springcloud&#x200B; 4&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x52A0;&#x5165;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5730;&#x5740; #&#x5BA2;&#x6237;&#x7AEF;&#x4EE5;877x&#x5F00;&#x5934; server: port: 8771 #&#x6307;&#x5B9A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5730;&#x5740; eureka: client: serviceUrl: defaultZone: http://localhost:8761/eureka/ #&#x5BA2;&#x6237;&#x7AEF;&#x670D;&#x52A1;&#x7684;&#x540D;&#x79F0; spring: application: name: product-service&#x542F;&#x52A8;&#x591A;&#x4E2A;&#x5B9E;&#x4F8B; editConfigurations &#x2013;&gt; Enviroment &#x200B; &#x4F7F;&#x7528;eureka&#x5BA2;&#x6237;&#x7AEF; &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#netflix-eureka-client-starter 11.Eureka&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x914D;&#x7F6E;&#x63A7;&#x5236;&#x53F0;&#x95EE;&#x9898;&#x5904;&#x7406;&#x200B; &#x95EE;&#x9898;&#xFF1A;eureka&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x51FA;&#x73B0;&#x4E00;&#x4E32;&#x7EA2;&#x8272;&#x5B57;&#x4F53;&#xFF1A;&#x662F;&#x8B66;&#x544A;&#xFF0C;&#x8BF4;&#x660E;&#x6709;&#x670D;&#x52A1;&#x4E0A;&#x7EBF;&#x7387;&#x4F4E; &#x200B; EMERGENCY! EUREKA MAY BE INCORRECTLY CLAIMING INSTANCES ARE UP WHEN THEY&#x2019;RE NOT. RENEWALS ARE LESSER THAN THRESHOLD AND HENCE THE INSTANCES ARE NOT BEING EXPIRED JUST TO BE SAFE. &#x200B; THE SELF PRESERVATION MODE IS TURNED OFF.THIS MAY NOT PROTECT INSTANCE EXPIRY IN CASE OF NETWORK/OTHER PROBLEMS. &#x200B; &#x200B; &#x5173;&#x95ED;&#x68C0;&#x67E5;&#x65B9;&#x6CD5;&#xFF1A;eureka&#x670D;&#x52A1;&#x7AEF;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x52A0;&#x5165; &#x200B; server: &#x200B; enable-self-preservation: false &#x200B; &#x6CE8;&#x610F;&#xFF1A;&#x81EA;&#x6211;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x7981;&#x6B62;&#x5173;&#x95ED;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;&#x5F00;&#x542F;&#x72B6;&#x6001;true &#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x7684;&#x4F5C;&#x7528;: &#x200B; &#x5047;&#x5982;&#x6709;&#x4E00;&#x5929;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x7684;&#x4E0A;&#x62A5;&#x7ED9;Euraka-Server&#x7684;&#x65F6;&#x5019;&#x7F51;&#x7EDC;&#x51FA;&#x9519;&#x4E86;,&#x7136;&#x540E;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x53BB;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x627E;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x627E;&#x4E0D;&#x5230;,&#x6B64;&#x65F6;Euraka-Server&#x5E76;&#x4E0D;&#x4F1A;&#x5254;&#x9664;&#x5546;&#x54C1; &#x200B; &#x53CD;&#x4E4B;&#x5982;&#x679C;&#x5173;&#x95ED;&#x4E86;&#x4FDD;&#x62A4;&#x6A21;&#x5F0F;&#x90A3;&#x4E48;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5C31;&#x4F1A;&#x8BA4;&#x4E3A;&#x6CA1;&#x6CE8;&#x518C;&#x6210;&#x529F;&#x7684;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x6302;&#x6389;&#x4E86;&#x5C06;&#x4F1A;&#x88AB;&#x5254;&#x9664;,. &#x95EE;&#x9898;&#x4E8C;&#xFF1A;&#x4E3A;&#x4EC0;&#x4E48;&#x53EA;&#x52A0;&#x4E00;&#x4E2A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5730;&#x5740;&#x4E0D;&#x7528;@EnableEurekaClient&#x6CE8;&#x89E3;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x6CE8;&#x518C;? &#x200B; By having spring-cloud-starter-netflix-eureka-client on the classpath, your application automatically registers with the Eureka Server. Configuration is required to locate the Eureka server, as shown in the following example: 12.ribbon&#x548C;feign&#x5B9E;&#x6218;&#x548C;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x9AD8;&#x53EF;&#x7528;1&#x3001;&#x5E38;&#x7528;&#x7684;&#x670D;&#x52A1;&#x95F4;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x8BB2;&#x89E3; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x5E38;&#x7528;&#x7684;&#x670D;&#x52A1;&#x95F4;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x5F0F; &#x200B; RPC: &#x200B; &#x8FDC;&#x7A0B;&#x8FC7;&#x7A0B;&#x8C03;&#x7528;&#xFF0C;&#x50CF;&#x8C03;&#x7528;&#x672C;&#x5730;&#x670D;&#x52A1;Service&#x8C03;DAO&#x7684;(&#x65B9;&#x6CD5;)&#x4E00;&#x6837;&#x8C03;&#x7528;&#x670D;&#x52A1;&#x5668;&#x7684;&#x670D;&#x52A1; &#x200B; &#x652F;&#x6301;&#x540C;&#x6B65;&#x3001;&#x5F02;&#x6B65;&#x8C03;&#x7528; : &#x200B; &#x5047;&#x5982;&#x6709;&#x4E2A;&#x8BF7;&#x6C42;&#x7EBF;&#x7A0B;&#x8FC7;&#x6765;&#x8C03;&#x7528;&#x8BA2;&#x5355;&#x670D;&#x52A1;,&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x8981;&#x8C03;&#x7528;&#x5546;&#x54C1;&#x670D;&#x52A1;,&#x5546;&#x54C1;&#x670D;&#x52A1;&#x9700;&#x8981;&#x53BB;&#x67E5;&#x8BE2;&#x6570;&#x636E;&#x5E93;,&#x6B64;&#x65F6;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x5C31;&#x88AB;&#x5360;&#x7528;&#x4F4F;&#x4E86;. &#x200B; &#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x5EFA;&#x7ACB;TCP&#x8FDE;&#x63A5;&#xFF0C;&#x53EF;&#x4EE5;&#x4E00;&#x6B21;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x591A;&#x4E2A;&#x8C03;&#x7528;&#x590D;&#x7528;&#x4E00;&#x6B21;&#x94FE;&#x63A5; &#x200B; &#x5C31;&#x597D;&#x6BD4;&#x8FDE;&#x63A5;&#x6C60;&#x7684;&#x51FA;&#x73B0; &#x200B; &#x4F18;&#x70B9;: &#x200B; PRC&#x6570;&#x636E;&#x5305;&#x5C0F; &#x200B; &#x57FA;&#x4E8E;&#x4E8C;&#x8FDB;&#x5236;&#x534F;&#x8BAE;,&#x76F8;&#x5F53;&#x4E8E;&#x4F20;&#x7EDF;&#x7684;json,xml,http &#x200B; protobuf &#x200B; thrift &#x200B; &#x7F3A;&#x70B9;: &#x200B; rpc&#xFF1A;&#x7F16;&#x89E3;&#x7801;&#xFF0C;&#x5E8F;&#x5217;&#x5316;&#xFF0C;&#x94FE;&#x63A5;&#xFF0C;&#x4E22;&#x5305;&#xFF0C;&#x534F;&#x8BAE; &#x200B; Rest(Http): &#x200B; http&#x8BF7;&#x6C42;&#xFF0C;&#x652F;&#x6301;&#x591A;&#x79CD;&#x534F;&#x8BAE;&#x548C;&#x529F;&#x80FD; &#x200B; &#x5F00;&#x53D1;&#x65B9;&#x4FBF;&#x6210;&#x672C;&#x4F4E;,&#x652F;&#x6301;&#x591A;&#x79CD;&#x8BED;&#x8A00; &#x200B; http&#x6570;&#x636E;&#x5305;&#x5927; &#x200B; java&#x5F00;&#x53D1;&#xFF1A;HttpClient&#xFF0C;URLConnection 2&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4E4B;ribbon&#x5B9E;&#x6218; &#x8BA2;&#x5355;&#x8C03;&#x7528;&#x5546;&#x54C1;&#x670D;&#x52A1; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x5B9E;&#x6218;&#x7535;&#x5546;&#x9879;&#x76EE; &#x8BA2;&#x5355;&#x670D;&#x52A1; &#x8C03;&#x7528;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x4FE1;&#x606F; &#x200B; 1&#x3001;&#x521B;&#x5EFA;order_service&#x9879;&#x76EE; )) &#x200B; 2&#x3001;&#x5F00;&#x53D1;&#x4F2A;&#x4E0B;&#x5355;&#x63A5;&#x53E3; &#x200B; 3&#x3001;&#x4F7F;&#x7528;ribbon. (&#x7C7B;&#x4F3C;httpClient,URLConnection) &#x200B; &#x542F;&#x52A8;&#x7C7B;&#x589E;&#x52A0;&#x6CE8;&#x89E3; @Bean @LoadBalanced public RestTemplate restTemplate() { return new RestTemplate(); } &#x200B; 4&#x3001;&#x6839;&#x636E;&#x540D;&#x79F0;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x5546;&#x54C1;&#xFF0C;&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x8BE6;&#x60C5; &#x8FD9;&#x91CC;&#x7528;&#x7684;&#x662F;&#x8F6F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;,&#x662F;&#x5BA2;&#x6237;&#x7AEF;&#x5728;&#x4F7F;&#x7528;&#x8F6E;&#x5FAA;&#x7684;&#x7B56;&#x7565;&#x53BB;&#x8C03;&#x7528;&#x4F60;&#x670D;&#x52A1;&#x7AEF;. 3&#x3001;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;Ribbon&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x6E90;&#x7801;&#x5206;&#x6790;&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;: &#x8BB2;&#x89E3;ribbon&#x670D;&#x52A1;&#x95F4;&#x8C03;&#x7528;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x6E90;&#x7801;&#x5206;&#x6790; &#x200B; 1&#x3001;&#x5B8C;&#x5584;&#x4E0B;&#x5355;&#x63A5;&#x53E3; &#x200B; 2&#x3001;&#x5206;&#x6790;@LoadBalanced &#x200B; 1&#xFF09;&#x9996;&#x5148;&#x4ECE;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x83B7;&#x53D6;provider&#x7684;&#x5217;&#x8868; &#x200B; 2&#xFF09;&#x901A;&#x8FC7;&#x4E00;&#x5B9A;&#x7684;&#x7B56;&#x7565;&#x9009;&#x62E9;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x8282;&#x70B9; &#x200B; 3&#xFF09;&#x518D;&#x8FD4;&#x56DE;&#x7ED9;restTemplate&#x8C03;&#x7528; 4&#x3001;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;&#x670D;&#x52A1;&#x95F4;&#x8C03;&#x7528;&#x4E4B;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#x8C03;&#x6574;&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x5B9E;&#x6218;&#x8C03;&#x6574;&#x9ED8;&#x8BA4;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#x5B9E;&#x6218; &#x200B; &#x81EA;&#x5B9A;&#x4E49;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;&#xFF1A;http://cloud.spring.io/spring-cloud-static/Finchley.RELEASE/single/spring-cloud.html#_customizing_the_ribbon_client_by_setting_properties &#x200B; &#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;yml&#x91CC;&#x9762;&#xFF0C;&#x81EA;&#x5B9A;&#x4E49;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565; &#x200B; &#x81EA;&#x5B9A;&#x4E49;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B56;&#x7565;: &#x200B; product-service&#x4E3A;&#x88AB;&#x8C03;&#x7528;&#x65B9;&#x7684;&#x9879;&#x76EE;&#x540D;&#x79F0; product-service: ribbon: NFLoadBalancerRuleClassName: com.netflix.loadbalancer.RandomRule &#x200B; &#x7B56;&#x7565;&#x9009;&#x62E9;&#xFF1A; &#x200B; 1&#x3001;&#x5982;&#x679C;&#x6BCF;&#x4E2A;&#x673A;&#x5668;&#x914D;&#x7F6E;&#x4E00;&#x6837;&#xFF0C;&#x5219;&#x5EFA;&#x8BAE;&#x4E0D;&#x4FEE;&#x6539;&#x7B56;&#x7565; (&#x63A8;&#x8350;) &#x200B; 2&#x3001;&#x5982;&#x679C;&#x90E8;&#x5206;&#x673A;&#x5668;&#x914D;&#x7F6E;&#x5F3A;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x6539;&#x4E3A; WeightedResponseTimeRule 5&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x65B9;&#x5F0F;&#x4E4B;feign &#x5B9E;&#x6218; &#x8BA2;&#x5355;&#x8C03;&#x7528;&#x5546;&#x54C1;&#x670D;&#x52A1; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x6539;&#x9020;&#x7535;&#x5546;&#x9879;&#x76EE; &#x8BA2;&#x5355;&#x670D;&#x52A1; &#x8C03;&#x7528;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x4FE1;&#x606F; &#x200B; Feign&#xFF1A; &#x4F2A;RPC&#x5BA2;&#x6237;&#x7AEF;(&#x672C;&#x8D28;&#x8FD8;&#x662F;&#x7528;http) &#x200B; &#x5B98;&#x65B9;&#x6587;&#x6863;: https://cloud.spring.io/spring-cloud-openfeign/ &#x200B; 1&#x3001;&#x4F7F;&#x7528;feign&#x6B65;&#x9AA4;&#x8BB2;&#x89E3;&#xFF08;&#x65B0;&#x65E7;&#x7248;&#x672C;&#x4F9D;&#x8D56;&#x540D;&#x79F0;&#x4E0D;&#x4E00;&#x6837;&#xFF09; &#x200B; &#x542F;&#x52A8;&#x7C7B;&#x589E;&#x52A0;@EnableFeignClients &#x200B; &#x589E;&#x52A0;&#x4E00;&#x4E2A;&#x63A5;&#x53E3; &#x5E76;@FeignClient(name=&#x201D;product-service&#x201D;) &#x200B; 2&#x3001;&#x7F16;&#x7801;&#x5B9E;&#x6218; &#x200B; 3&#x3001;&#x6CE8;&#x610F;&#x70B9;&#xFF1A; &#x200B; 1&#x3001;&#x8DEF;&#x5F84; &#x200B; 2&#x3001;Http&#x65B9;&#x6CD5;&#x5FC5;&#x987B;&#x5BF9;&#x5E94; &#x8FD9;&#x91CC;&#x7684;name= &#x91CC;&#x9762;&#x7684;&#x503C;&#x5FC5;&#x987B;&#x548C;&#x88AB;&#x8C03;&#x7528;&#x65B9;&#x4FDD;&#x6301;&#x4E00;&#x81F4; &#x200B; &#x200B; 3&#x3001;&#x88AB;&#x8C03;&#x7528;&#x65B9;&#x4F7F;&#x7528;@RequestParam&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;&#x65B9;&#x4E5F;&#x5FC5;&#x987B;&#x4F7F;&#x7528; @RequestParam &#x88AB;&#x8C03;&#x7528;&#x65B9;&#x4F7F;&#x7528;@RequestBody&#x7684;&#x65F6;&#x5019;&#x8C03;&#x7528;&#x65B9;&#x4E5F;&#x5FC5;&#x987B;&#x4F7F;&#x7528; @RequestBody &#x800C;&#x4E14;&#x6B64;&#x65F6;&#x5FC5;&#x987B;&#x4F7F;&#x7528;PostMapping &#x200B; 4&#x3001;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x901A;&#x8FC7;@RequestParam&#xFF08;&#x201D;id&#x201D;) int id)&#x65B9;&#x5F0F;&#x8C03;&#x7528; 6&#x3001;Feign&#x6838;&#x5FC3;&#x6E90;&#x7801;&#x89E3;&#x8BFB;&#x548C;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x65B9;&#x5F0F;ribbon&#x548C;Feign&#x9009;&#x62E9; &#x200B; &#x7B80;&#x4ECB;: &#x8BB2;&#x89E3;Feign&#x6838;&#x5FC3;&#x6E90;&#x7801;&#x89E3;&#x8BFB;&#x548C; &#x670D;&#x52A1;&#x95F4;&#x7684;&#x8C03;&#x7528;&#x65B9;&#x5F0F;ribbon&#x3001;feign&#x9009;&#x62E9; &#x200B; &#x200B; 1&#x3001;ribbon&#x548C;feign&#x4E24;&#x4E2A;&#x7684;&#x533A;&#x522B;&#x548C;&#x9009;&#x62E9; &#x200B; &#x9009;&#x62E9;feign &#x200B; &#x9ED8;&#x8BA4;&#x96C6;&#x6210;&#x4E86;ribbon &#x200B; &#x5199;&#x8D77;&#x6765;&#x66F4;&#x52A0;&#x601D;&#x8DEF;&#x6E05;&#x6670;&#x548C;&#x65B9;&#x4FBF; &#x200B; &#x91C7;&#x7528;&#x6CE8;&#x89E3;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF0C;&#x914D;&#x7F6E;&#x7194;&#x65AD;&#x7B49;&#x65B9;&#x5F0F;&#x65B9;&#x4FBF; &#x200B; 2&#x3001;&#x8D85;&#x65F6;&#x914D;&#x7F6E; &#x200B; &#x9ED8;&#x8BA4;optons readtimeout&#x662F;60&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;hystrix&#x9ED8;&#x8BA4;&#x662F;1&#x79D2;&#x8D85;&#x65F6; &#x200B; #&#x4FEE;&#x6539;&#x8C03;&#x7528;&#x8D85;&#x65F6;&#x65F6;&#x95F4; client: config: default: connectTimeout: 2000 readTimeout: xxx &#x200B; &#x5728;feign&#x5BA2;&#x6237;&#x7AEF;&#x7684;yml&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x52A0;&#x5165;&#x8FD9;&#x4E2A;&#x914D;&#x7F6E;&#x7684;&#x8BDD;&#x90A3;&#x4E48;&#x5BA2;&#x6237;&#x7AEF;&#x5C31;&#x4F1A;&#x7B49;&#x5F85;xxx&#x6BEB;&#x79D2;&#x540E;&#x7136;&#x540E;&#x83B7;&#x53D6;&#x6570;&#x636E;,&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x79D2;&#x4EE5;&#x540E;&#x62A5;&#x9519;. &#x200B; &#x6A21;&#x62DF;&#x63A5;&#x53E3;&#x54CD;&#x5E94;&#x6162;&#xFF0C;&#x7EBF;&#x7A0B;&#x7761;&#x7720;&#x65B0;&#x7684;&#x65B9;&#x5F0F; &#x200B; try { &#x200B; TimeUnit.SECONDS.sleep(1); &#x200B; } catch (InterruptedException e) { &#x200B; e.printStackTrace(); &#x200B; } &#x7B2C;&#x4E94;&#x7AE0; &#x4E92;&#x8054;&#x7F51;&#x67B6;&#x6784;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x7194;&#x65AD; Hystrix &#x5B9E;&#x6218; 1&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x4E4B;&#x7194;&#x65AD;&#x3001;&#x964D;&#x7EA7;&#x8BB2;&#x89E3; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x7CFB;&#x7EDF;&#x8D1F;&#x8F7D;&#x8FC7;&#x9AD8;&#xFF0C;&#x7A81;&#x53D1;&#x6D41;&#x91CF;&#x6216;&#x8005;&#x7F51;&#x7EDC;&#x7B49;&#x5404;&#x79CD;&#x5F02;&#x5E38;&#x60C5;&#x51B5;&#x4ECB;&#x7ECD;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848; &#x200B; 1&#x3001;&#x7194;&#x65AD;&#xFF1A; &#x200B; &#x4FDD;&#x9669;&#x4E1D;&#xFF0C;&#x7194;&#x65AD;&#x670D;&#x52A1;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x6545;&#x969C;&#xFF0C;&#x5305;&#x542B;&#x81EA;&#x5DF1;&#x548C;&#x4E0B;&#x6E38;&#x670D;&#x52A1; &#x200B; &#x4E0B;&#x5355;&#x670D;&#x52A1; -&#x300B;&#x5546;&#x54C1;&#x670D;&#x52A1; &#x200B; -&#x300B;&#x7528;&#x6237;&#x670D;&#x52A1; &#xFF08;&#x51FA;&#x73B0;&#x5F02;&#x5E38;-&#x300B;&#x7194;&#x65AD;&#xFF09; &#x200B; 2&#x3001;&#x964D;&#x7EA7;&#xFF1A; &#x200B; &#x629B;&#x5F03;&#x4E00;&#x4E9B;&#x975E;&#x6838;&#x5FC3;&#x7684;&#x63A5;&#x53E3;&#x548C;&#x6570;&#x636E; &#x200B; &#x65C5;&#x884C;&#x7BB1;&#x7684;&#x4F8B;&#x5B50;&#xFF1A;&#x53EA;&#x5E26;&#x6838;&#x5FC3;&#x7684;&#x7269;&#x54C1;&#xFF0C;&#x629B;&#x5F03;&#x975E;&#x6838;&#x5FC3;&#x7684;&#xFF0C;&#x7B49;&#x6709;&#x6761;&#x4EF6;&#x7684;&#x65F6;&#x5019;&#x518D;&#x53BB;&#x643A;&#x5E26;&#x8FD9;&#x4E9B;&#x7269;&#x54C1; &#x200B; &#x200B; 3&#x3001;&#x7194;&#x65AD;&#x548C;&#x964D;&#x7EA7;&#x4E92;&#x76F8;&#x4EA4;&#x96C6; &#x200B; &#x76F8;&#x540C;&#x70B9;&#xFF1A; &#x200B; 1&#xFF09;&#x4ECE;&#x53EF;&#x7528;&#x6027;&#x548C;&#x53EF;&#x9760;&#x6027;&#x89E6;&#x53D1;&#xFF0C;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x7CFB;&#x7EDF;&#x5D29;&#x6E83; &#x200B; 2&#xFF09;&#x6700;&#x7EC8;&#x8BA9;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x5230;&#x7684;&#x662F;&#x67D0;&#x4E9B;&#x529F;&#x80FD;&#x6682;&#x65F6;&#x4E0D;&#x80FD;&#x7528; &#x5047;&#x5982;&#x6211;&#x53CC;&#x5341;&#x4E00;&#x8BA2;&#x5355;&#x7CFB;&#x7EDF;&#x53BB;&#x9700;&#x8981;&#x53BB;&#x8C03;&#x7528;5&#x4E2A;&#x63A5;&#x53E3;,&#x6BCF;&#x4E2A;&#x63A5;&#x53E3;1&#x79D2;&#x949F;&#x603B;&#x5171;&#x5C31;&#x5F97;5&#x79D2;&#x949F;,&#x5C31;&#x7B97;&#x505A;&#x5E76;&#x884C;&#x5904;&#x7406;&#x4E5F;&#x662F;&#x9700;&#x8981;&#x5F88;&#x8017;&#x65F6;,&#x6240;&#x4EE5;&#x629B;&#x5F03;&#x4E00;&#x4E9B;&#x975E;&#x6838;&#x5FC3;&#x7684;&#x63A5;&#x53E3;,&#x53EA;&#x8C03;&#x6700;&#x6838;&#x5FC3;&#x7684;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;,&#x8FD9;&#x6837;&#x7528;&#x6237;&#x4F53;&#x9A8C;&#x5EA6;&#x5927;&#x5927;&#x63D0;&#x9AD8;. &#x200B; &#x4E0D;&#x540C;&#x70B9; &#x200B; 1&#xFF09;&#x670D;&#x52A1;&#x7194;&#x65AD;&#x4E00;&#x822C;&#x662F;&#x4E0B;&#x6E38;&#x670D;&#x52A1;&#x6545;&#x969C;&#x5BFC;&#x81F4;&#x7684;&#xFF0C; &#x6BD4;&#x5982;&#x4F60;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x53BB;&#x8C03;&#x7528;&#x7528;&#x6237;&#x670D;&#x52A1;,&#x7528;&#x6237;&#x670D;&#x52A1;&#x62BD;&#x98CE;&#x4E86;&#x4F60;&#x5C31;&#x522B;&#x518D;&#x8C03;&#x7528;&#x4E86;&#x4FDD;&#x62A4;&#x522B;&#x4EBA;&#x4FDD;&#x62A4;&#x81EA;&#x5DF1;. &#x200B; &#x800C;&#x670D;&#x52A1;&#x964D;&#x7EA7;&#x4E00;&#x822C;&#x662F;&#x4ECE;&#x6574;&#x4F53;&#x7CFB;&#x7EDF;&#x8D1F;&#x8377;&#x8003;&#x8651;&#xFF0C;&#x7531;&#x8C03;&#x7528;&#x65B9;&#x63A7;&#x5236; &#x6BD4;&#x5982;&#x8BF4;&#x4F60;&#x662F;&#x8BA2;&#x5355;&#x7CFB;&#x7EDF;,&#x4F60;&#x9700;&#x8981;&#x53BB;&#x8C03;&#x7528;&#x7528;&#x6237;&#x670D;&#x52A1;,&#x8FD8;&#x9700;&#x8981;&#x8C03;&#x7528;&#x98CE;&#x63A7;&#x670D;&#x52A1;,&#x8FD8;&#x9700;&#x8981;&#x8C03;&#x7528;&#x79EF;&#x5206;&#x670D;&#x52A1;&#x7B49;&#x7B49;.&#x6B64;&#x65F6;&#x5C31;&#x53EF;&#x4EE5;&#x780D;&#x53BB;&#x4E00;&#x4E9B;&#x975E;&#x6838;&#x5FC3;&#x7684;&#x670D;&#x52A1;&#x8C03;&#x7528;,&#x662F;&#x7531;&#x4F60;&#x8C03;&#x7528;&#x65B9;&#x53BB;&#x51B3;&#x5B9A;&#x7684;. 2&#x3001;Netflix&#x5F00;&#x6E90;&#x7EC4;&#x4EF6;&#x65AD;&#x8DEF;&#x5668;Hystrix&#x4ECB;&#x7ECD; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;Hystrix&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x200B; Netflix&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x7528;&#x6237;&#x89C2;&#x770B;&#x89C6;&#x9891;&#x5361;&#x987F; &#x200B; &#x6587;&#x6863;&#x5730;&#x5740;&#xFF1A; &#x200B; https://github.com/Netflix/Hystrix &#x200B; https://github.com/Netflix/Hystrix/wiki &#x200B; 1&#x3001;&#x4EC0;&#x4E48;&#x662F;Hystrix&#xFF1F; &#x200B; 1&#xFF09;hystrix&#x5BF9;&#x5E94;&#x7684;&#x4E2D;&#x6587;&#x540D;&#x5B57;&#x662F;&#x201C;&#x8C6A;&#x732A;&#x201D; &#x200B; &#x200B; 2&#xFF09;hystrix &#x82F1;[h&#x26A;st&#x2019;r&#x26A;ks] &#x7F8E;[h&#x26A;st&#x2019;r&#x26A;ks] &#x200B; 2&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;&#xFF1F; Applications in complex distributed architectures have dozens of dependencies, each of which will inevitably fail at some point. If the host application is not isolated from these external failures, it risks being taken down with them. For example, for an application that depends on 30 services where each service has 99.99% uptime, here is what you can expect: 99.9930 = 99.7% uptime0.3% of 1 billion requests = 3,000,000 failures2+ hours downtime/month even if all dependencies have excellent uptime. &#x200B; &#x5728;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x91CC;&#xFF0C;&#x4E00;&#x4E2A;&#x670D;&#x52A1;&#x4F9D;&#x8D56;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#xFF0C;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x67D0;&#x4E2A;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x5931;&#x8D25;&#xFF0C; When everything is healthy the request flow can look like this: When one of many backend systems becomes latent it can block the entire user request: With high volume traffic a single backend dependency becoming latent can cause all resources to become saturated in seconds on all servers. Every point in an application that reaches out over the network or into a client library that might result in network requests is a source of potential failure. Worse than failures, these applications can also result in increased latencies between services, which backs up queues, threads, and other system resources causing even more cascading failures across the system. These issues are exacerbated when network access is performed through a third-party client &#x2014; a &#x201C;black box&#x201D; where implementation details are hidden and can change at any time, and network or resource configurations are different for each client library and often difficult to monitor and change. Even worse are transitive dependencies that perform potentially expensive or fault-prone network calls without being explicitly invoked by the application. Network connections fail or degrade. Services and servers fail or become slow. New libraries or service deployments change behavior or performance characteristics. Client libraries have bugs. All of these represent failure and latency that needs to be isolated and managed so that a single failing dependency can&#x2019;t take down an entire application or system. &#x200B; &#x6BD4;&#x5982;&#x8D85;&#x65F6;&#x3001;&#x5F02;&#x5E38;&#x7B49;&#xFF0C;&#x5982;&#x4F55;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x5728;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;&#x51FA;&#x95EE;&#x9898;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x6574;&#x4F53;&#x670D;&#x52A1;&#x5931;&#x8D25;&#xFF0C; &#x200B; &#x901A;&#x8FC7;Hystrix&#x5C31;&#x53EF;&#x4EE5;&#x89E3;&#x51B3; &#x200B; http://cloud.spring.io/spring-cloud-netflix/single/spring-cloud-netflix.html#_circuit_breaker_hystrix_clients &#x200B; 3&#x3001;&#x63D0;&#x4F9B;&#x4E86;&#x7194;&#x65AD;&#x3001;&#x9694;&#x79BB;&#x3001;Fallback&#x3001;cache&#x3001;&#x76D1;&#x63A7;&#x7B49;&#x529F;&#x80FD; &#x200B; 4&#x3001;&#x7194;&#x65AD;&#x540E;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F; &#x200B; &#x51FA;&#x73B0;&#x9519;&#x8BEF;&#x4E4B;&#x540E;&#x53EF;&#x4EE5; fallback &#x9519;&#x8BEF;&#x7684;&#x5904;&#x7406;&#x4FE1;&#x606F; &#x200B; &#x8FD4;&#x56DE;&#x515C;&#x5E95;&#x6570;&#x636E;,&#x5C31;&#x662F;&#x672C;&#x5730;&#x4FDD;&#x5B58;&#x7684;&#x4E00;&#x4EFD;&#x5047;&#x7684;&#x6570;&#x636E; 3&#x3001;Feign&#x7ED3;&#x5408;Hystrix&#x65AD;&#x8DEF;&#x5668;&#x5F00;&#x53D1;&#x5B9E;&#x6218;&#x300A;&#x4E0A;&#x300B; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;SpringCloud&#x6574;&#x5408;&#x65AD;&#x8DEF;&#x5668;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x7528;&#x6237;&#x670D;&#x52A1;&#x5F02;&#x5E38;&#x60C5;&#x51B5; &#x200B; 1&#x3001;&#x5728;&#x8C03;&#x7528;&#x65B9;&#x52A0;&#x5165;&#x4F9D;&#x8D56; &#x200B; &#x200B; &#x6CE8;&#x610F;&#xFF1A;&#x7F51;&#x4E0A;&#x65B0;&#x65E7;&#x7248;&#x672C;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x4EE5;&#x5B98;&#x7F51;&#x4E3A;&#x4E3B;&#xFF0C;&#x4E0D;&#x7136;&#x90E8;&#x5206;&#x6CE8;&#x89E3;&#x4F1A;&#x4E22;&#x5931; &#x200B; &#x6700;&#x65B0;&#x7248;&#x672C; 2.0 &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-hystrix&lt;/artifactId> &lt;/dependency> &#x200B; 2&#x3001;&#x589E;&#x52A0;&#x6CE8;&#x89E3; &#x200B; &#x542F;&#x52A8;&#x7C7B;&#x91CC;&#x9762;&#x589E;&#x52A0;&#x6CE8;&#x89E3; &#x200B; @EnableCircuitBreaker &#x200B; &#x6CE8;&#x89E3;&#x8D8A;&#x6765;&#x8D8A;&#x591A;-&#x300B; SpringCloudApplication&#x6CE8;&#x89E3; &#x200B; 3&#x3001;API&#x63A5;&#x53E3;&#x7F16;&#x7801;&#x5B9E;&#x6218; &#x200B; &#x7194;&#x65AD;-&#x300B;&#x964D;&#x7EA7; &#x200B; 1&#xFF09;&#x6700;&#x5916;&#x5C42;api&#x4F7F;&#x7528;&#xFF0C;&#x597D;&#x6BD4;&#x5F02;&#x5E38;&#x5904;&#x7406;&#xFF08;&#x7F51;&#x7EDC;&#x5F02;&#x5E38;&#xFF0C;&#x53C2;&#x6570;&#x6216;&#x8005;&#x5185;&#x90E8;&#x8C03;&#x7528;&#x95EE;&#x9898;&#xFF09; &#x200B; api&#x65B9;&#x6CD5;&#x4E0A;&#x589E;&#x52A0; @HystrixCommand(fallbackMethod = &#x201C;saveOrderFail&#x201D;) &#x200B; &#x7F16;&#x5199;fallback&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#xFF0C;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#x4E00;&#x5B9A;&#x8981;&#x548C;api&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#x4E00;&#x81F4;&#xFF08;&#x6CE8;&#x610F;&#x70B9;&#xFF01;&#xFF01;&#xFF01;&#xFF09; &#x200B; &#x8865;&#x5145;&#xFF1A; &#x4FEE;&#x6539;maven&#x4ED3;&#x5E93;&#x5730;&#x5740; &#x200B; pom.xml&#x4E2D;&#x4FEE;&#x6539; &lt;repositories> &lt;repository> &lt;id>nexus-aliyun&lt;/id> &lt;name>Nexus aliyun&lt;/name> &lt;layout>default&lt;/layout> &lt;url>http://maven.aliyun.com/nexus/content/groups/public&lt;/url> &lt;snapshots> &lt;enabled>false&lt;/enabled> &lt;/snapshots> &lt;releases> &lt;enabled>true&lt;/enabled> &lt;/releases> &lt;/repository> &lt;/repositories> 4&#x3001;Feign&#x7ED3;&#x5408;Hystrix&#x65AD;&#x8DEF;&#x5668;&#x5F00;&#x53D1;&#x5B9E;&#x6218;&#x300A;&#x4E0B;&#x300B; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;SpringCloud&#x6574;&#x5408;&#x65AD;&#x8DEF;&#x5668;&#x7684;&#x4F7F;&#x7528;&#xFF0C;&#x7528;&#x6237;&#x670D;&#x52A1;&#x5F02;&#x5E38;&#x60C5;&#x51B5; &#x200B; 1&#x3001;feign&#x7ED3;&#x5408;Hystrix &#x200B; feign&#x7684;pom&#x4F9D;&#x8D56;&#x91CC;&#x9762;&#x672C;&#x8EAB;&#x5305;&#x542B;&#x4E86;feign-hystrix /** * Fallback class for the specified Feign client interface. The fallback class must * implement the interface annotated by this annotation and be a valid spring bean. * @return fallback class for the specified Feign client interface */ Class&lt;?> fallback() default void.class; &#x5EFA;&#x7ACB;&#x8FD9;&#x4E2A;&#x5B9E;&#x73B0;&#x7C7B;&#x7684;&#x5305;&#x6240;&#x5728;&#x7684;&#x4F4D;&#x7F6E;&#x4E00;&#x5B9A;&#x8981;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x7684;&#x91CC;&#x9762;&#x624D;&#x884C; &#x200B; 1&#xFF09;&#x5F00;&#x542F;feign&#x652F;&#x6301;hystrix (&#x6CE8;&#x610F;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x5F00;&#x542F;&#xFF0C;&#x65E7;&#x7248;&#x672C;&#x9ED8;&#x8BA4;&#x652F;&#x6301;&#xFF0C;&#x65B0;&#x7248;&#x672C;&#x9ED8;&#x8BA4;&#x5173;&#x95ED;) feign: hystrix: enabled: true &#x200B; 2&#xFF09;FeignClient(name=&#x201D;xxx&#x201D;, fallback=xxx.class ), class&#x9700;&#x8981;&#x7EE7;&#x627F;&#x5F53;&#x524D;FeignClient&#x7684;&#x7C7B; 5&#x3001;&#x7194;&#x65AD;&#x964D;&#x7EA7;&#x670D;&#x52A1;&#x5F02;&#x5E38;&#x62A5;&#x8B66;&#x901A;&#x77E5;&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x5B8C;&#x5584;&#x670D;&#x52A1;&#x7194;&#x65AD;&#x5904;&#x7406;&#xFF0C;&#x62A5;&#x8B66;&#x673A;&#x5236;&#x5B8C;&#x5584; &#x200B; 1&#x3001;&#x5728;order_service&#x52A0;&#x5165;redis&#x4F9D;&#x8D56; &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-data-redis&lt;/artifactId> &lt;/dependency> &#x200B; 2&#x3001;&#x914D;&#x7F6E;redis&#x94FE;&#x63A5;&#x4FE1;&#x606F; redis: database: 0 host: 127.0.0.1 port: 6379 timeout: 2000 &#x200B; 3&#x3001;&#x4F7F;&#x7528; &#x200B; //&#x76D1;&#x63A7;&#x62A5;&#x8B66; //&amp;#x76D1;&amp;#x63A7;&amp;#x62A5;&amp;#x8B66; String saveOrderKye = "save-order"; String sendValue = redisTemplate.opsForValue().get(saveOrderKye); final String ip = request.getRemoteAddr(); new Thread( ()->{ if (StringUtils.isBlank(sendValue)) { System.out.println("&amp;#x7D27;&amp;#x6025;&amp;#x77ED;&amp;#x4FE1;&amp;#xFF0C;&amp;#x7528;&amp;#x6237;&amp;#x4E0B;&amp;#x5355;&amp;#x5931;&amp;#x8D25;&amp;#xFF0C;&amp;#x8BF7;&amp;#x79BB;&amp;#x5F00;&amp;#x67E5;&amp;#x627E;&amp;#x539F;&amp;#x56E0;,ip&amp;#x5730;&amp;#x5740;&amp;#x662F;="+ip); //&amp;#x53D1;&amp;#x9001;&amp;#x4E00;&amp;#x4E2A;http&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x8C03;&amp;#x7528;&amp;#x77ED;&amp;#x4FE1;&amp;#x670D;&amp;#x52A1; TODO redisTemplate.opsForValue().set(saveOrderKye, "save-order-fail", 20, TimeUnit.SECONDS); }else{ System.out.println("&amp;#x5DF2;&amp;#x7ECF;&amp;#x53D1;&amp;#x9001;&amp;#x8FC7;&amp;#x77ED;&amp;#x4FE1;&amp;#xFF0C;20&amp;#x79D2;&amp;#x5185;&amp;#x4E0D;&amp;#x91CD;&amp;#x590D;&amp;#x53D1;&amp;#x9001;"); } }).start(); 6&#x3001;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;&#x6DF1;&#x5165;&#x6E90;&#x7801;&#x5256;&#x6790;Hystrix&#x964D;&#x7EA7;&#x7B56;&#x7565;&#x548C;&#x8C03;&#x6574; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x6E90;&#x7801;&#x5206;&#x6790;Hystrix&#x964D;&#x7EA7;&#x7B56;&#x7565;&#x548C;&#x8C03;&#x6574; &#x200B; 1&#x3001;&#x67E5;&#x770B;&#x9ED8;&#x8BA4;&#x8BB2;&#x89E3;&#x7B56;&#x7565; HystrixCommandProperties &#x200B; 1&#xFF09;execution.isolation.strategy &#x9694;&#x79BB;&#x7B56;&#x7565; &#x200B; THREAD &#x7EBF;&#x7A0B;&#x6C60;&#x9694;&#x79BB; &#xFF08;&#x9ED8;&#x8BA4;&#xFF09; &#x200B; SEMAPHORE &#x4FE1;&#x53F7;&#x91CF; &#x200B; &#x4FE1;&#x53F7;&#x91CF;&#x9002;&#x7528;&#x4E8E;&#x63A5;&#x53E3;&#x5E76;&#x53D1;&#x91CF;&#x9AD8;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#x6BCF;&#x79D2;&#x6570;&#x5343;&#x6B21;&#x8C03;&#x7528;&#x7684;&#x60C5;&#x51B5;&#xFF0C;&#x5BFC;&#x81F4;&#x7684;&#x7EBF;&#x7A0B;&#x5F00;&#x9500;&#x8FC7;&#x9AD8;&#xFF0C;&#x901A;&#x5E38;&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x975E;&#x7F51;&#x7EDC;&#x8C03;&#x7528;&#xFF0C;&#x6267;&#x884C;&#x901F;&#x5EA6;&#x5FEB; &#x200B; 2&#xFF09;execution.isolation.thread.timeoutInMilliseconds &#x8D85;&#x65F6;&#x65F6;&#x95F4; &#x200B; &#x9ED8;&#x8BA4; 1000&#x6BEB;&#x79D2; &#x200B; 3&#xFF09;execution.timeout.enabled &#x662F;&#x5426;&#x5F00;&#x542F;&#x8D85;&#x65F6;&#x9650;&#x5236; &#xFF08;&#x4E00;&#x5B9A;&#x4E0D;&#x8981;&#x7981;&#x7528;&#xFF09; &#x200B; 4&#xFF09;execution.isolation.semaphore.maxConcurrentRequests &#x9694;&#x79BB;&#x7B56;&#x7565;&#x4E3A; &#x4FE1;&#x53F7;&#x91CF;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5982;&#x679C;&#x8FBE;&#x5230;&#x6700;&#x5927;&#x5E76;&#x53D1;&#x6570;&#x65F6;&#xFF0C;&#x540E;&#x7EED;&#x8BF7;&#x6C42;&#x4F1A;&#x88AB;&#x62D2;&#x7EDD;&#xFF0C;&#x9ED8;&#x8BA4;&#x662F;10 &#x200B; &#x5B98;&#x65B9;&#x6587;&#x6863;: &#x200B; https://github.com/Netflix/Hystrix/wiki/Configuration#execution.isolation.strategy &#x200B; 2&#x3001;&#x8C03;&#x6574;&#x7B56;&#x7565; &#x200B; &#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x8C03;&#x6574; hystrix: command: default: execution: isolation: thread: timeoutInMilliseconds: 4000 &#x8FD9;&#x6837;&#x5373;&#x4F7F;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x53D1;&#x751F;&#x4E86;&#x5EF6;&#x8FDF;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x8FD9;&#x8FB9;&#x4E5F;&#x4E0D;&#x4F1A;&#x62A5;&#x9519;. feign: hystrix: enabled: true client: config: default: connectTimeout: 4000 readTimeout: 4000 feign&#x7684;&#x79D2;&#x6570;&#x4E5F;&#x9700;&#x8981;&#x4FEE;&#x6539; 7&#x3001;&#x65AD;&#x8DEF;&#x5668;Dashboard&#x76D1;&#x63A7;&#x4EEA;&#x8868;&#x76D8;&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x65AD;&#x8DEF;&#x5668;Dashboard&#x57FA;&#x7840;&#x4F7F;&#x7528;&#x548C;&#x67E5;&#x770B; &#x200B; 1&#x3001;&#x52A0;&#x5165;&#x4F9D;&#x8D56; web&#x754C;&#x9762; &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-netflix-hystrix-dashboard&lt;/artifactId> &lt;/dependency> springboot&#x76D1;&#x63A7; &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-actuator&lt;/artifactId> &lt;/dependency> &#x200B; 2&#x3001;&#x542F;&#x52A8;&#x7C7B;&#x589E;&#x52A0;&#x6CE8;&#x89E3; &#x200B; @EnableHystrixDashboard &#x200B; 3&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x589E;&#x52A0;endpoint #&amp;#x66B4;&amp;#x9732;&amp;#x5168;&amp;#x90E8;&amp;#x7684;&amp;#x76D1;&amp;#x63A7;&amp;#x4FE1;&amp;#x606F; management: endpoints: web: exposure: include: "*" &#x200B; 4&#x3001;&#x8BBF;&#x95EE;&#x5165;&#x53E3; &#x200B; http://localhost:8781/hystrix &#x200B; Hystrix Dashboard&#x8F93;&#x5165;&#xFF1A; http://localhost:8781/actuator/hystrix.stream &#x200B; &#x53C2;&#x8003;&#x8D44;&#x6599; &#x200B; &#x9ED8;&#x8BA4;&#x5F00;&#x542F;&#x76D1;&#x63A7;&#x914D;&#x7F6E; &#x200B; https://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-security-actuator &#x200B; &#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7C7B;&#xFF1A; &#x200B; spring-configuration-metadata.json 8&#x3001;&#x65AD;&#x8DEF;&#x5668;&#x76D1;&#x63A7;&#x4EEA;&#x8868;&#x53C2;&#x6570;&#x8BB2;&#x89E3;&#x548C;&#x6A21;&#x62DF;&#x7194;&#x65AD; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3; &#x65AD;&#x8DEF;&#x5668;&#x76D1;&#x63A7;&#x4EEA;&#x8868;&#x76D8;&#x53C2;&#x6570;&#x548C;&#x6A21;&#x62DF;&#x7194;&#x65AD; &#x200B; 1&#x3001;sse server-send-event&#x63A8;&#x9001;&#x5230;&#x524D;&#x7AEF; &#x200B; &#x8D44;&#x6599;&#xFF1A;https://github.com/Netflix/Hystrix/wiki/Dashboard &#x7B2C;&#x516D;&#x7AE0; &#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;zuul&#x5F00;&#x53D1;&#x5B9E;&#x6218; 1&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x4ECB;&#x7ECD;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x7F51;&#x5173;&#x7684;&#x4F5C;&#x7528;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F; (&#x753B;&#x56FE;) &#x200B; &#x200B; 1&#xFF09;&#x4EC0;&#x4E48;&#x662F;&#x7F51;&#x5173; &#x200B; API Gateway&#xFF0C;&#x662F;&#x7CFB;&#x7EDF;&#x7684;&#x552F;&#x4E00;&#x5BF9;&#x5916;&#x7684;&#x5165;&#x53E3;&#xFF0C;&#x4ECB;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x548C;&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x4E4B;&#x95F4;&#x7684;&#x4E2D;&#x95F4;&#x5C42;&#xFF0C;&#x5904;&#x7406;&#x975E;&#x4E1A;&#x52A1;&#x529F;&#x80FD; &#x63D0;&#x4F9B;&#x8DEF;&#x7531;&#x8BF7;&#x6C42;&#x3001;&#x9274;&#x6743;&#x3001;&#x76D1;&#x63A7;&#x3001;&#x7F13;&#x5B58;&#x3001;&#x9650;&#x6D41;&#x7B49;&#x529F;&#x80FD; &#x200B; &#x7EDF;&#x4E00;&#x63A5;&#x5165; &#x200B; &#x667A;&#x80FD;&#x8DEF;&#x7531; &#x200B; AB&#x6D4B;&#x8BD5;&#x3001;&#x7070;&#x5EA6;&#x6D4B;&#x8BD5; &#x200B; &#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x3001;&#x5BB9;&#x707E;&#x5904;&#x7406; &#x200B; &#x65E5;&#x5FD7;&#x57CB;&#x70B9;&#xFF08;&#x7C7B;&#x4F3C;Nignx&#x65E5;&#x5FD7;&#xFF09; &#x200B; &#x6D41;&#x91CF;&#x76D1;&#x63A7; &#x200B; &#x9650;&#x6D41;&#x5904;&#x7406; &#x200B; &#x670D;&#x52A1;&#x964D;&#x7EA7; &#x200B; &#x5B89;&#x5168;&#x9632;&#x62A4; &#x200B; &#x9274;&#x6743;&#x5904;&#x7406; &#x200B; &#x76D1;&#x63A7; &#x200B; &#x673A;&#x5668;&#x7F51;&#x7EDC;&#x9694;&#x79BB; zuul&#x662F;&#x548C;&#x4F60;&#x4E0B;&#x6E38;&#x670D;&#x52A1;&#x7EC4;&#x6210;&#x4E00;&#x4E2A;&#x5C40;&#x57DF;&#x7F51;&#x53EF;&#x4EE5;&#x9632;&#x6B62;DDOS&#x653B;&#x51FB; &#x200B; 2&#xFF09;&#x4E3B;&#x6D41;&#x7684;&#x7F51;&#x5173; &#x200B; zuul&#xFF1A;&#x662F;Netflix&#x5F00;&#x6E90;&#x7684;&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#xFF0C;&#x548C;Eureka,Ribbon,Hystrix&#x7B49;&#x7EC4;&#x4EF6;&#x914D;&#x5408;&#x4F7F;&#x7528;&#xFF0C;Zuul 2.0&#x6BD4;1.0&#x7684;&#x6027;&#x80FD;&#x63D0;&#x9AD8;&#x5F88;&#x591A; &#x200B; &#x200B; kong: &#x7531;Mashape&#x516C;&#x53F8;&#x5F00;&#x6E90;&#x7684;&#xFF0C;&#x57FA;&#x4E8E;Nginx&#x7684;API gateway &#x200B; &#x200B; nginx+lua&#xFF1A;&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x6027;&#x80FD;&#x7684;HTTP&#x548C;&#x53CD;&#x5411;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;,lua&#x662F;&#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;&#x8BA9;Nginx&#x6267;&#x884C;Lua&#x811A;&#x672C;&#xFF0C;&#x5E76;&#x4E14;&#x9AD8;&#x5E76;&#x53D1;&#x3001;&#x975E;&#x963B;&#x585E;&#x7684;&#x5904;&#x7406;&#x5404;&#x79CD;&#x8BF7;&#x6C42; 2&#x3001;SpringCloud&#x7684;&#x7F51;&#x5173;&#x7EC4;&#x4EF6;zuul&#x57FA;&#x672C;&#x4F7F;&#x7528; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;zuul&#x7F51;&#x5173;&#x57FA;&#x672C;&#x4F7F;&#x7528; &#x200B; 1&#x3001;&#x52A0;&#x5165;&#x4F9D;&#x8D56; &#x200B; 2&#x3001;&#x542F;&#x52A8;&#x7C7B;&#x52A0;&#x5165;&#x6CE8;&#x89E3; @EnableZuulProxy &#x200B; &#x9ED8;&#x8BA4;&#x96C6;&#x6210;&#x65AD;&#x8DEF;&#x5668; @EnableCircuitBreaker &#x200B; &#x9ED8;&#x8BA4;&#x8BBF;&#x95EE;&#x89C4;&#x5219; &#x200B; http://gateway:port/service-id/** &#x200B; gateway:&#x5185;&#x7F51;ip &#x200B; port:&#x7AEF;&#x53E3;&#x53F7; &#x200B; service-id:eureka&#x4E2D;&#x5FC3;&#x7684;&#x670D;&#x52A1;&#x540D;&#x79F0;(&#x5C0F;&#x5199;) &#x200B; &#x81EA;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x8F6C;&#x53D1;&#xFF1A; #/order-service/api/v1/order/save?user_id=2&amp;product_id=1 #&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x8DEF;&amp;#x7531;&amp;#x6620;&amp;#x5C04; zuul: routes: order-service: /apigateway/** product-service: /apigateway/** &#x4F8B;&#x5B50;&#xFF1A;&#x9ED8;&#x8BA4; /order-service/api/v1/order/save?user_id=2&amp;product_id=1 &#x81EA;&#x5B9A;&#x4E49; /apigateway/api/v1/order/save?user_id=2&amp;product_id=1 &#x200B; &#x73AF;&#x5883;&#x9694;&#x79BB;&#x914D;&#x7F6E;&#xFF1A; &#x200B; &#x9700;&#x6C42; &#xFF1A;&#x4E0D;&#x60F3;&#x8BA9;&#x9ED8;&#x8BA4;&#x7684;&#x670D;&#x52A1;&#x5BF9;&#x5916;&#x66B4;&#x9732;&#x63A5;&#x53E3; &#x200B; &#x53EA;&#x5141;&#x8BB8;&#x8BBF;&#x95EE; /order-service/api/v1/order/save &#x200B; &#x914D;&#x7F6E;&#xFF1A; #/order-service/api/v1/order/save?user_id=2&amp;product_id=1 #&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x8DEF;&amp;#x7531;&amp;#x6620;&amp;#x5C04; zuul: routes: order-service: /apigateway/** product-service: /apigateway/** #&amp;#x52A0;&amp;#x4E86;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4E4B;&amp;#x540E;&amp;#x53EA;&amp;#x80FD;&amp;#x901A;&amp;#x8FC7;apigateway&amp;#x5BF9;&amp;#x5916;&amp;#x63D0;&amp;#x4F9B;&amp;#x8BBF;&amp;#x95EE; ignored-patterns: /*-service/** #&amp;#x53EA;&amp;#x8BA9;&amp;#x8FD9;&amp;#x4E00;&amp;#x4E2A;&amp;#x670D;&amp;#x52A1;&amp;#x5BF9;&amp;#x5916;&amp;#x53EA;&amp;#x80FD;&amp;#x7528;apigateway&amp;#x5BF9;&amp;#x5916;&amp;#x63D0;&amp;#x4F9B;&amp;#x8BBF;&amp;#x95EE; #ignored-services: product-service 3&#x3001;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;Zuul&#x5E38;&#x7528;&#x95EE;&#x9898;&#x5206;&#x6790;&#x548C;&#x7F51;&#x5173;&#x8FC7;&#x6EE4;&#x5668;&#x539F;&#x7406;&#x5206;&#x6790; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;Zuul&#x7F51;&#x5173;&#x539F;&#x7406;&#x548C;&#x8FC7;&#x6EE4;&#x5668;&#x751F;&#x547D;&#x5468;&#x671F;&#xFF0C; &#x200B; &#x200B; 1&#x3001;&#x8DEF;&#x7531;&#x540D;&#x79F0;&#x5B9A;&#x4E49;&#x95EE;&#x9898; &#x200B; &#x8DEF;&#x7531;&#x6620;&#x5C04;&#x91CD;&#x590D;&#x8986;&#x76D6;&#x95EE;&#x9898; #/order-service/api/v1/order/save?user_id=2&amp;product_id=1 #&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x8DEF;&amp;#x7531;&amp;#x6620;&amp;#x5C04; zuul: routes: order-service: /apigateway/order/** product-service: /apigateway/product/** #&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x4F1A;&amp;#x5C06;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7ED9;&amp;#x8986;&amp;#x76D6;&amp;#x6389;,&amp;#x6240;&amp;#x4EE5;&amp;#x9700;&amp;#x8981;&amp;#x4FEE;&amp;#x6539; &#x200B; 2&#x3001;Http&#x8BF7;&#x6C42;&#x5934;&#x8FC7;&#x6EE4;&#x95EE;&#x9898; /** * List of sensitive headers that are not passed to downstream requests. Defaults to a * "safe" set of headers that commonly contain user credentials. It&amp;apos;s OK to remove * those from the list if the downstream service is part of the same system as the * proxy, so they are sharing authentication data. If using a physical URL outside * your own domain, then generally it would be a bad idea to leak user credentials. */ private Set&lt;String> sensitiveHeaders = new LinkedHashSet&lt;>( Arrays.asList("Cookie", "Set-Cookie", "Authorization")); &#x200B; 3&#x3001;&#x8FC7;&#x6EE4;&#x5668;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x95EE;&#x9898; &#xFF0C;&#x8FC7;&#x6EE4;&#x5668;&#x7684;order&#x503C;&#x8D8A;&#x5C0F;&#xFF0C;&#x8D8A;&#x5148;&#x6267;&#x884C; &#x200B; 4&#x3001;&#x5171;&#x4EAB;RequestContext&#xFF0C;&#x4E0A;&#x4E0B;&#x6587;&#x5BF9;&#x8C61; 4&#x3001;&#x81EA;&#x5B9A;&#x4E49;Zuul&#x8FC7;&#x6EE4;&#x5668;&#x5B9E;&#x73B0;&#x767B;&#x5F55;&#x9274;&#x6743;&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x81EA;&#x5B9A;&#x4E49;Zuul&#x8FC7;&#x6EE4;&#x5668;&#x5B9E;&#x73B0;&#x767B;&#x5F55;&#x9274;&#x6743;&#x5B9E;&#x6218; &#x200B; 1&#x3001;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;filter&#x5305; &#x200B; 2&#x3001;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B;&#xFF0C;&#x7EE7;&#x627F;ZuulFilter&#xFF0C;&#x91CD;&#x5199;&#x91CC;&#x9762;&#x7684;&#x65B9;&#x6CD5; &#x200B; 3&#x3001;&#x5728;&#x7C7B;&#x9876;&#x90E8;&#x52A0;&#x6CE8;&#x89E3;&#xFF0C;@Component,&#x8BA9;Spring&#x626B;&#x63CF; 5&#x3001;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;&#x9AD8;&#x5E76;&#x53D1;&#x60C5;&#x51B5;&#x4E0B;&#x63A5;&#x53E3;&#x9650;&#x6D41;&#x7279;&#x6280; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8C37;&#x6B4C;guava&#x6846;&#x67B6;&#x4ECB;&#x7ECD;&#xFF0C;&#x7F51;&#x5173;&#x9650;&#x6D41;&#x4F7F;&#x7528; (&#x4EE4;&#x724C;&#x6876;&#x7B97;&#x6CD5;) &#x200B; 1&#x3001;nginx&#x5C42;&#x9650;&#x6D41; &#x200B; 2&#x3001;&#x7F51;&#x5173;&#x5C42;&#x9650;&#x6D41; 6&#x3001;Zuul&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;&#x96C6;&#x7FA4;&#x642D;&#x5EFA; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x5FAE;&#x670D;&#x52A1;&#x7F51;&#x5173;Zull&#x96C6;&#x7FA4;&#x642D;&#x5EFA; &#x200B; 1&#x3001;nginx+lvs+keepalive &#x200B; https://www.cnblogs.com/liuyisai/p/5990645.html &#x7B2C;&#x4E03;&#x7AE0; &#x5206;&#x5E03;&#x5F0F;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7CFB;&#x7EDF;Sleuth&#x548C;ZipKin&#x5B9E;&#x6218; &#x200B; &#x200B; 1&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x4E0B;&#x7684;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x8BB2;&#x89E3;&#x548C;&#x91CD;&#x8981;&#x6027; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4EC0;&#x4E48;&#x662F;&#x5206;&#x5E03;&#x5F0F;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7CFB;&#x7EDF;&#xFF0C;&#x53CA;&#x4F7F;&#x7528;&#x597D;&#x5904; &#x200B; &#x5982;&#x679C;&#x6709;&#x6CA1;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7CFB;&#x7EDF;&#x4F60;&#x7684;&#x4E00;&#x5927;&#x5806;&#x670D;&#x52A1;&#x54EA;&#x4E2A;&#x51FA;&#x6BDB;&#x75C5;&#x4E86;&#x90FD;&#x627E;&#x4E0D;&#x5230;,&#x4F60;&#x53EF;&#x80FD;&#x7528;System.currentTimeMillis();&#x8FDB;&#x884C;&#x6253;&#x70B9;,&#x4E5F;&#x53EF;&#x4EE5;&#x6709;&#x4E86;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7EC4;&#x4EF6;&#x5C31;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x5B83;&#x4E86;. &#x200B; 2&#x3001;SpringCloud&#x7684;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7EC4;&#x4EF6;Sleuth&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x5206;&#x5E03;&#x5F0F;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7EC4;&#x4EF6;Sleuth&#x5B9E;&#x6218; &#x200B; 1&#x3001;&#x5B98;&#x65B9;&#x6587;&#x6863; &#x200B; http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#sleuth-adding-project &#x200B; 2&#x3001;&#x4EC0;&#x4E48;&#x662F;Sleuth &#x200B; &#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#xFF0C;&#x4E13;&#x95E8;&#x7528;&#x4E8E;&#x8BB0;&#x5F55;&#x94FE;&#x8DEF;&#x6570;&#x636E;&#x7684;&#x5F00;&#x6E90;&#x7EC4;&#x4EF6; &#x200B; [order-service,96f95a0dd81fe3ab,852ef4cfcdecabf3,false] &#x200B; 1&#x3001;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;spring.application.name&#x7684;&#x503C; &#x200B; &#x200B; 2&#x3001;&#x7B2C;&#x4E8C;&#x4E2A;&#x503C;&#xFF0C;96f95a0dd81fe3ab &#xFF0C;sleuth&#x751F;&#x6210;&#x7684;&#x4E00;&#x4E2A;ID&#xFF0C;&#x53EB;Trace ID&#xFF0C;&#x7528;&#x6765;&#x6807;&#x8BC6;&#x4E00;&#x6761;&#x8BF7;&#x6C42;&#x94FE;&#x8DEF;&#xFF0C;&#x4E00;&#x6761;&#x8BF7;&#x6C42;&#x94FE;&#x8DEF;&#x4E2D;&#x5305;&#x542B;&#x4E00;&#x4E2A;Trace ID&#xFF0C;&#x591A;&#x4E2A;Span ID &#x200B; &#x200B; 3&#x3001;&#x7B2C;&#x4E09;&#x4E2A;&#x503C;&#xFF0C;852ef4cfcdecabf3&#x3001;spanid &#x57FA;&#x672C;&#x7684;&#x5DE5;&#x4F5C;&#x5355;&#x5143;&#xFF0C;&#x83B7;&#x53D6;&#x5143;&#x6570;&#x636E;&#xFF0C;&#x5982;&#x53D1;&#x9001;&#x4E00;&#x4E2A;http &#x200B; 4&#x3001;&#x7B2C;&#x56DB;&#x4E2A;&#x503C;&#xFF1A;false&#xFF0C;&#x662F;&#x5426;&#x8981;&#x5C06;&#x8BE5;&#x4FE1;&#x606F;&#x8F93;&#x51FA;&#x5230;zipkin&#x670D;&#x52A1;&#x4E2D;&#x6765;&#x6536;&#x96C6;&#x548C;&#x5C55;&#x793A;&#x3002; &#x200B; 3&#x3001;&#x6DFB;&#x52A0;&#x4F9D;&#x8D56;(&#x5728;&#x6240;&#x6709;&#x7684;&#x4E1A;&#x52A1;springboot&#x5E94;&#x7528;&#x4E0A;&#x90FD;&#x9700;&#x8981;&#x6DFB;&#x52A0;) &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-sleuth&lt;/artifactId> &lt;/dependency> &#x200B; 3&#x3001;SpringCloud&#x7684;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7EC4;&#x4EF6;Sleuth&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x8BF4;&#x660E; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x5206;&#x5E03;&#x5F0F;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7EC4;&#x4EF6;Sleuth&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x8BF4;&#x660E; &#x200B; &#x200B; 4&#x3001;&#x53EF;&#x89C6;&#x5316;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7CFB;&#x7EDF;Zipkin&#x90E8;&#x7F72; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;Zipkin&#x7684;&#x4ECB;&#x7ECD;&#x548C;&#x90E8;&#x7F72; &#x200B; 1&#x3001;&#x4EC0;&#x4E48;&#x662F;zipkin &#x200B; &#x5B98;&#x7F51;&#xFF1A;https://zipkin.io/ &#x200B; &#x5927;&#x89C4;&#x6A21;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x7684;APM&#x5DE5;&#x5177;&#xFF08;Application Performance Management&#xFF09;,&#x57FA;&#x4E8E;Google Dapper&#x7684;&#x57FA;&#x7840;&#x5B9E;&#x73B0;&#xFF0C;&#x548C;sleuth&#x7ED3;&#x5408;&#x53EF;&#x4EE5;&#x63D0;&#x4F9B;&#x53EF;&#x89C6;&#x5316;web&#x754C;&#x9762;&#x5206;&#x6790;&#x8C03;&#x7528;&#x94FE;&#x8DEF;&#x8017;&#x65F6;&#x60C5;&#x51B5; &#x200B; &#x200B; 2&#x3001;&#x540C;&#x7C7B;&#x4EA7;&#x54C1; &#x200B; &#x9E70;&#x773C;&#xFF08;EagleEye&#xFF09; &#x200B; CAT &#x200B; twitter&#x5F00;&#x6E90;zipkin&#xFF0C;&#x7ED3;&#x5408;sleuth &#x200B; Pinpoint&#xFF0C;&#x8FD0;&#x7528;JavaAgent&#x5B57;&#x8282;&#x7801;&#x589E;&#x5F3A;&#x6280;&#x672F; &#x200B; StackDriver Trace (Google) &#x200B; 3&#x3001;&#x5F00;&#x59CB;&#x4F7F;&#x7528; &#x200B; https://github.com/openzipkin/zipkin &#x200B; https://zipkin.io/pages/quickstart.html &#x200B; zipkin&#x7EC4;&#x6210;&#xFF1A;Collector&#x3001;Storage&#x3001;Restful API&#x3001;Web UI&#x7EC4;&#x6210; &#x200B; 4&#x3001;&#x77E5;&#x8BC6;&#x62D3;&#x5C55;&#xFF1A;OpenTracing &#x200B; OpenTracing &#x5DF2;&#x8FDB;&#x5165; CNCF&#xFF0C;&#x6B63;&#x5728;&#x4E3A;&#x5168;&#x7403;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x8FFD;&#x8E2A;&#xFF0C;&#x63D0;&#x4F9B;&#x7EDF;&#x4E00;&#x7684;&#x6982;&#x5FF5;&#x548C;&#x6570;&#x636E;&#x6807;&#x51C6;&#x3002; &#x200B; &#x901A;&#x8FC7;&#x63D0;&#x4F9B;&#x5E73;&#x53F0;&#x65E0;&#x5173;&#x3001;&#x5382;&#x5546;&#x65E0;&#x5173;&#x7684; API&#xFF0C;&#x4F7F;&#x5F97;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x80FD;&#x591F;&#x65B9;&#x4FBF;&#x7684;&#x6DFB;&#x52A0;&#xFF08;&#x6216;&#x66F4;&#x6362;&#xFF09;&#x8FFD;&#x8E2A;&#x7CFB;&#x7EDF;&#x7684;&#x5B9E;&#x73B0;&#x3002; &#x200B; &#x63A8;&#x8350;&#x9605;&#x8BFB;&#xFF1A; &#x200B; http://blog.daocloud.io/cncf-3/ &#x200B; https://www.zhihu.com/question/27994350 &#x200B; https://yq.aliyun.com/articles/514488?utm_content=m_43347 &#x200B; 5&#x3001;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x7EC4;&#x4EF6;Zipkin+Sleuth&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x4F7F;&#x7528;Zipkin+Sleuth&#x4E1A;&#x52A1;&#x5206;&#x6790;&#x8C03;&#x7528;&#x94FE;&#x8DEF;&#x5206;&#x6790;&#x5B9E;&#x6218; &#x200B; &#x200B; 1&#x3001;&#x6587;&#x6863; &#x200B; http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_sleuth_with_zipkin_via_http sleuth&#x6536;&#x96C6;&#x8DDF;&#x8E2A;&#x4FE1;&#x606F;&#x901A;&#x8FC7;http&#x8BF7;&#x6C42;&#x53D1;&#x9001;&#x7ED9;zipkin server&#xFF0C;zipkinserver&#x8FDB;&#x884C;&#x8DDF;&#x8E2A;&#x4FE1;&#x606F;&#x7684;&#x5B58;&#x50A8;&#x4EE5;&#x53CA;&#x63D0;&#x4F9B;Rest API&#x5373;&#x53EF;&#xFF0C;Zipkin UI&#x8C03;&#x7528;&#x5176;API&#x63A5;&#x53E3;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x5C55;&#x793A; &#x9ED8;&#x8BA4;&#x5B58;&#x50A8;&#x662F;&#x5185;&#x5B58;&#xFF0C;&#x53EF;&#x4E5F;&#x7528;mysql&#x3001;&#x6216;&#x8005;elasticsearch&#x7B49;&#x5B58;&#x50A8;&#x200B; 2&#x3001;&#x52A0;&#x5165;&#x4F9D;&#x8D56; &lt;!--&amp;#x91CC;&amp;#x9762;&amp;#x5305;&amp;#x542B;Sleuth&amp;#x548C;Zipkin&amp;#x4E24;&amp;#x4E2A;&amp;#x4F9D;&amp;#x8D56;--> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-zipkin&lt;/artifactId> &lt;/dependency> &#x200B; &#x91CC;&#x9762;&#x5305;&#x542B; spring-cloud-starter-sleuth&#x3001;spring-cloud-sleuth-zipkin &#x200B; 3&#x3001;&#x6587;&#x6863;&#x8BF4;&#x660E;&#xFF1A;http://cloud.spring.io/spring-cloud-static/Finchley.SR1/single/spring-cloud.html#_features_2 &#x200B; 4&#x3001;&#x5728;order_service&#x914D;&#x7F6E;zipkin.base-url #&amp;#x670D;&amp;#x52A1;&amp;#x7684;&amp;#x540D;&amp;#x79F0; spring: application: name: order-service redis: database: 0 host: 127.0.0.1 port: 6379 timeout: 2000 #zipkin&amp;#x670D;&amp;#x52A1;&amp;#x6240;&amp;#x5728;&amp;#x5730;&amp;#x5740; zipkin: base-url: http://localhost:9411/ &#x200B; 5&#x3001;&#x914D;&#x7F6E;&#x91C7;&#x6837;&#x767E;&#x5206;&#x95ED;spring.sleuth.sampler &#x200B; &#x63A8;&#x8350;&#x8D44;&#x6599;&#xFF1A; &#x200B; https://blog.csdn.net/jrn1012/article/details/77837710 &#x200B; &#x7B2C;&#x516B;&#x7AE0; &#x5FAE;&#x670D;&#x52A1;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x5206;&#x5E03;&#x5F0F;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;Config&#x5B9E;&#x6218; &#x200B; &#x200B; 1&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x4E0B;&#x7684;&#x5206;&#x5E03;&#x5F0F;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4EC0;&#x4E48;&#x662F;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x53CA;&#x4F7F;&#x7528;&#x524D;&#x540E;&#x7684;&#x597D;&#x5904; (&#x753B;&#x56FE;) &#x200B; &#x4EC0;&#x4E48;&#x662F;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF1A; &#x200B; &#x4E00;&#x53E5;&#x8BDD;&#xFF1A;&#x7EDF;&#x4E00;&#x7BA1;&#x7406;&#x914D;&#x7F6E;, &#x5FEB;&#x901F;&#x5207;&#x6362;&#x5404;&#x4E2A;&#x73AF;&#x5883;&#x7684;&#x914D;&#x7F6E; &#x200B; &#x200B; &#x76F8;&#x5173;&#x4EA7;&#x54C1;&#xFF1A; &#x200B; &#x767E;&#x5EA6;&#x7684;disconf &#x200B; &#x5730;&#x5740;:https://github.com/knightliao/disconf &#x200B; &#x200B; &#x963F;&#x91CC;&#x7684;diamand &#x200B; &#x5730;&#x5740;&#xFF1A;https://github.com/takeseem/diamond &#x200B; springcloud&#x7684;configs-server: &#x200B; &#x5730;&#x5740;&#xFF1A;http://cloud.spring.io/spring-cloud-config/ &#x200B; &#x63A8;&#x8350;&#x5E72;&#x8D27;&#x6587;&#x7AE0;&#xFF1A;http://jm.taobao.org/2016/09/28/an-article-about-config-center/(&#x6848;&#x4F8B;&#x4E2D;&#x95F4;&#x4EF6;&#x56E2;&#x961F;) &#x200B; 2&#x3001;SpringCloud&#x7684;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x7EC4;&#x4EF6;config-server&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;SpringCloud&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;config-server&#x5B9E;&#x6218; &#x200B; 1&#x3001;&#x65B0;&#x5EFA;&#x9879;&#x76EE;&#xFF0C;&#x521B;&#x5EFA;config-server &#x200B; &#x200B; 2&#x3001;&#x542F;&#x52A8;&#x7C7B;&#x589E;&#x52A0;&#x6CE8;&#x89E3; @EnableConfigServer &#x200B; 3&#x3001;&#x4F7F;&#x7528;git&#x670D;&#x52A1;&#x5668;&#x7ED3;&#x5408;Config&#x642D;&#x5EFA;&#x5206;&#x5E03;&#x5F0F;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4F7F;&#x7528;git&#x670D;&#x52A1;&#x5668;&#x7ED3;&#x5408;Config&#x642D;&#x5EFA;&#x5206;&#x5E03;&#x5F0F;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3; &#x200B; 1&#x3001;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;git&#x5B58;&#x50A8;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3; &#x200B; &#x4F7F;&#x7528;git&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x642D;&#x5EFA;gitlab&#x670D;&#x52A1;&#x5668; &#x200B; &#x6216;&#x8005;&#x4F7F;&#x7528;github&#x3001;&#x5F00;&#x6E90;&#x4E2D;&#x56FD;git&#x3001;&#x963F;&#x91CC;&#x4E91;git &#x200B; https://gitee.com/mambamentality/config_cloud.git &#x200B; 2&#x3001;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x6DFB;&#x52A0;&#x914D;&#x7F6E; #&amp;#x670D;&amp;#x52A1;&amp;#x540D;&amp;#x79F0; spring: application: name: config-server cloud: config: server: git: uri: https://gitee.com/mambamentality/config_cloud username: 15510050030 password: hswcjdhr963** timeout: 5 default-label: master #&amp;#x670D;&amp;#x52A1;&amp;#x7684;&amp;#x7AEF;&amp;#x53E3;&amp;#x53F7; server: port: 9100 #&amp;#x6307;&amp;#x5B9A;&amp;#x6CE8;&amp;#x518C;&amp;#x4E2D;&amp;#x5FC3;&amp;#x5730;&amp;#x5740; eureka: client: serviceUrl: defaultZone: http://localhost:8761/eureka/ &#x200B; 3&#x3001;&#x8BBF;&#x95EE;&#x65B9;&#x5F0F;&#xFF08;&#x4E00;&#x5B9A;&#x8981;&#x6CE8;&#x610F;&#x8BED;&#x6CD5;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F1A;&#x51FA;&#x9519;&#xFF09; &#x200B; &#x591A;&#x79CD;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x542F;&#x52A8;&#x65E5;&#x5FD7;&#x53BB;&#x67E5;&#x770B; &#x200B; &#x4F8B;&#x5B50; http://localhost:9100/product-service.yml &#x200B; &#x8FD9;&#x91CC;&#x7684;URL&#x4E00;&#x5B9A;&#x8981;&#x6709;- &#x200B; /{name}-{profiles}.properties &#x200B; /{name}-{profiles}.yml &#x200B; /{name}-{profiles}.json &#x200B; /{label}/{name}-{profiles}.yml &#x200B; name &#x670D;&#x52A1;&#x5668;&#x540D;&#x79F0; &#x200B; profile &#x73AF;&#x5883;&#x540D;&#x79F0;&#xFF0C;&#x5F00;&#x53D1;&#x3001;&#x6D4B;&#x8BD5;&#x3001;&#x751F;&#x4EA7; &#x200B; lable &#x4ED3;&#x5E93;&#x5206;&#x652F;&#x3001;&#x9ED8;&#x8BA4;master&#x5206;&#x652F; 4&#x3001;&#x5206;&#x5E03;&#x5F0F;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x5FAE;&#x670D;&#x52A1;&#x91CC;&#x9762;&#x5BA2;&#x6237;&#x7AEF;&#x63A5;&#x5165;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x5B9E;&#x6218; &#x200B; &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;http://cloud.spring.io/spring-cloud-config/single/spring-cloud-config.html#_spring_cloud_config_client &#x200B; &#x53BB;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x4E2D; &#x200B; 1&#x3001;&#x52A0;&#x5165;&#x4F9D;&#x8D56; &lt;!--&amp;#x914D;&amp;#x7F6E;&amp;#x4E2D;&amp;#x5FC3;&amp;#x5BA2;&amp;#x6237;&amp;#x7AEF;--> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-config-client&lt;/artifactId> &lt;/dependency> &#x200B; 2&#x3001;&#x4FEE;&#x6539;&#x5BF9;&#x5E94;&#x670D;&#x52A1;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;,&#x628A;application.yml &#x6539;&#x4E3A; bootstrap.yml(&#x4F18;&#x5148;&#x8BFB;&#x53D6;&#x672C;&#x5730;&#x914D;&#x7F6E;&#x7136;&#x540E;&#x518D;&#x4ECE;&#x8FDC;&#x7A0B;&#x53BB;&#x62C9;) #&amp;#x6307;&amp;#x5B9A;&amp;#x6CE8;&amp;#x518C;&amp;#x4E2D;&amp;#x5FC3;&amp;#x5730;&amp;#x5740; eureka: client: serviceUrl: defaultZone: http://localhost:8761/eureka/ #&amp;#x670D;&amp;#x52A1;&amp;#x7684;&amp;#x540D;&amp;#x79F0; spring: application: name: product-service #&amp;#x6307;&amp;#x5B9A;&amp;#x4ECE;&amp;#x54EA;&amp;#x4E2A;&amp;#x914D;&amp;#x7F6E;&amp;#x4E2D;&amp;#x5FC3;&amp;#x8BFB;&amp;#x53D6; cloud: config: discovery: #&amp;#x586B;&amp;#x5199;&amp;#x914D;&amp;#x7F6E;&amp;#x4E2D;&amp;#x5FC3;&amp;#x7684;&amp;#x540D;&amp;#x79F0; service-id: CONFIG-SERVER enabled: true profile: test #&amp;#x5EFA;&amp;#x8BAE;&amp;#x7528;lable&amp;#x53BB;&amp;#x533A;&amp;#x5206;&amp;#x73AF;&amp;#x5883;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;lable&amp;#x662F;master&amp;#x5206;&amp;#x652F; #label: test &#x200B; &#x6CE8;&#x610F;&#x70B9;&#xFF1A; &#x200B; 1.&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8981;&#x7528;bootstrap.yml &#x200B; 2.&#x9ED8;&#x8BA4;&#x8BFB;&#x53D6;&#x6587;&#x4EF6;&#x540D;&#x662F; &#x670D;&#x52A1;&#x540D;&#x79F0; &#x7B2C;&#x4E5D;&#x7AE0; &#x5FAE;&#x670D;&#x52A1;&#x6D88;&#x606F;&#x603B;&#x7EBF;Bus&#x7ED3;&#x5408;&#x6D88;&#x606F;&#x961F;&#x5217;RabbitMQ&#x5B9E;&#x6218; &#x200B; 1&#x3001;&#x6D88;&#x606F;&#x603B;&#x7EBF;Bus&#x4ECB;&#x7ECD;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x6D88;&#x606F;&#x603B;&#x7EBF;Bus&#x4ECB;&#x7ECD;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x200B; 1&#x3001;&#x4EC0;&#x4E48;&#x662F;&#x6D88;&#x606F; &#x200B; &#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#xFF0C;&#x9700;&#x8981;&#x5E7F;&#x64AD;&#x6216;&#x8005;&#x5355;&#x72EC;&#x4F20;&#x9012;&#x7ED9;&#x67D0;&#x4E2A;&#x63A5;&#x53E3; &#x200B; 2&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A; &#x200B; &#x914D;&#x7F6E;&#x66F4;&#x65B0;&#x4E86;&#xFF0C;&#x4F46;&#x662F;&#x5176;&#x4ED6;&#x7CFB;&#x7EDF;&#x4E0D;&#x77E5;&#x9053;&#x662F;&#x5426;&#x66F4;&#x65B0; &#x200B; 2&#x3001;&#x6D88;&#x606F;&#x961F;&#x5217;&#x548C;RabbitMQ&#x57FA;&#x7840;&#x4ECB;&#x7ECD; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x6D88;&#x606F;&#x961F;&#x5217;&#x548C;RabbitMQ&#x57FA;&#x7840;&#x4ECB;&#x7ECD; &#x200B; &#x200B; 1&#x3001;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4ECB;&#x7ECD; &#x200B; &#x53C2;&#x8003;&#xFF1A;https://www.cnblogs.com/linjiqin/p/5720865.html &#x200B; 2&#x3001;&#x540C;&#x7C7B;&#x4EA7;&#x54C1; &#x200B; ActiveMQ &#x200B; RocketMQ &#x200B; Kafka &#x200B; &#x7B49; &#x200B; 3&#x3001;SpringCloud&#x9ED8;&#x8BA4;&#x63A8;&#x8350;&#x4F7F;&#x7528;RabbitMQ &#x200B; 4&#x3001;RabbitMQ&#x4ECB;&#x7ECD; &#x200B; &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;http://www.rabbitmq.com/getstarted.html &#x200B; &#x4E2D;&#x6587;&#x6587;&#x6863;&#xFF1A;http://rabbitmq.mr-ping.com/ &#x200B; 3&#x3001;&#x5B9E;&#x6218;&#x7CFB;&#x5217;&#x4F7F;&#x7528;Docker&#x642D;&#x5EFA;RabbitMQ3.7 &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x4F7F;&#x7528;Docker&#x5B89;&#x88C5;RabbitMQ &#x200B; &#x200B; 1&#x3001;&#x5B89;&#x88C5;&#x6B65;&#x9AA4; &#x200B; 1)&#x62C9;&#x53D6;&#x955C;&#x50CF;&#xFF1A;docker pull rabbitmq:management &#x200B; 2)&#x67E5;&#x770B;&#x5F53;&#x524D;&#x955C;&#x50CF;&#x5217;&#x8868;&#xFF1A;docker images &#x200B; 3)&#x5220;&#x9664;&#x6307;&#x5B9A;&#x955C;&#x50CF;&#xFF1A;docker rmi IMAGE_ID (&#x5982;&#x679C;&#x9700;&#x8981;&#x5F3A;&#x5236;&#x5220;&#x9664;&#x52A0; -f) &#x200B; &#x200B; 4)&#x521B;&#x5EFA;&#x5BB9;&#x5668; &#x200B; docker run -d &#x2013;name=&#x201D;myrabbitmq&#x201D; -p 5671:5671 -p 15672:15672 rabbitmq:management &#x200B; &#x53C2;&#x6570;&#x8BB2;&#x89E3;: &#x200B; run: &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x5BB9;&#x5668;&#x5E76;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x547D;&#x4EE4; &#x200B; -d: &#x540E;&#x53F0;&#x8FD0;&#x884C;&#x5BB9;&#x5668;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x5BB9;&#x5668;ID &#x200B; -p: &#x7AEF;&#x53E3;&#x6620;&#x5C04;&#xFF0C;&#x683C;&#x5F0F;&#x4E3A;&#xFF1A;&#x4E3B;&#x673A;(&#x5BBF;&#x4E3B;)&#x7AEF;&#x53E3;:&#x5BB9;&#x5668;&#x7AEF;&#x53E3; &#x200B; &#x2013;name=&#x201D;rabbitmq&#x201D;: &#x4E3A;&#x5BB9;&#x5668;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x540D;&#x79F0; &#x200B; 2&#x3001;RabbitMQ&#x9ED8;&#x8BA4;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A; guest &#x7528;&#x6237;&#xFF0C;&#x5BC6;&#x7801;&#x4E5F;&#x662F; guest, &#x5982;&#x679C;&#x8BBF;&#x95EE;&#x4E0D;&#x4E86;&#x8BB0;&#x5F97;&#x67E5;&#x770B;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x7AEF;&#x53E3;&#x6216;&#x8005;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x7684;&#x5B89;&#x5168;&#x7EC4; &#x200B; &#x7BA1;&#x7406;&#x540E;&#x53F0;&#xFF1A;http://127.0.0.1:15672 &#x200B; &#x5176;&#x4ED6;&#x5B89;&#x88C5;&#x65B9;&#x5F0F;&#xFF1A; &#x200B; Linux&#x5B89;&#x88C5;&#xFF1A;https://blog.csdn.net/qq_34021712/article/details/72567786 &#x200B; windows&#x5B89;&#x88C5;&#xFF1A;http://www.rabbitmq.com/install-windows.html &#x200B; https://blog.csdn.net/liyuejin/article/details/78410586 &#x200B; 3&#x3001;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x6D88;&#x606F;&#x603B;&#x7EBF;&#x6574;&#x5408;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x67B6;&#x6784;&#x6D41;&#x7A0B;&#x56FE; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x6D88;&#x606F;&#x603B;&#x7EBF;Bus&#x7ED3;&#x5408;config&#x7EC4;&#x4EF6;&#x642D;&#x5EFA;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x9879;&#x76EE;&#x67B6;&#x6784;&#x56FE;&#x548C;&#x64CD;&#x4F5C;&#x6D41;&#x7A0B; &#x200B; &#x200B; &#x542F;&#x52A8; &#x200B; rabbitmq&#xFF1A; docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management &#x200B; rabbitmq&#x9ED8;&#x8BA4;&#x662F;5672,&#x6240;&#x4EE5;&#x6539;&#x4E3A;5672&#x7AEF;&#x53E3; &#x200B; &#x200B; 1&#x3001;config-client(product-client)&#x52A0;&#x5165;&#x4F9D;&#x8D56; &lt;!--&amp;#x914D;&amp;#x7F6E;&amp;#x4E2D;&amp;#x5FC3;&amp;#x7ED3;&amp;#x5408;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;--> &lt;dependency> &lt;groupId>org.springframework.boot&lt;/groupId> &lt;artifactId>spring-boot-starter-actuator&lt;/artifactId> &lt;/dependency> &lt;!--&amp;#x914D;&amp;#x7F6E;&amp;#x4E2D;&amp;#x5FC3;&amp;#x7ED3;&amp;#x5408;&amp;#x6D88;&amp;#x606F;&amp;#x961F;&amp;#x5217;--> &lt;dependency> &lt;groupId>org.springframework.cloud&lt;/groupId> &lt;artifactId>spring-cloud-starter-bus-amqp&lt;/artifactId> &lt;/dependency> &#x200B; &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;http://cloud.spring.io/spring-cloud-bus/single/spring-cloud-bus.html#_bus_refresh_endpoint &#x200B; &#x6587;&#x6863;&#x91CC;&#x9762; &#x66B4;&#x9732;&#x7AEF;&#x70B9; management.endpoints.web.exposure.include=bus-refresh &#x200B; 2&#x3001;&#x5728;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x589E;&#x52A0;&#x5173;&#x4E8E;RabbitMQ&#x7684;&#x8FDE;&#x63A5;(&#x5982;&#x679C;&#x662F;&#x672C;&#x673A;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x542F;&#x52A8;&#xFF0C;&#x91C7;&#x7528;&#x9ED8;&#x8BA4;&#x8FDE;&#x63A5;&#x914D;&#x7F6E;) spring: rabbitmq: host: localhost port: 5672 username: guest password: guest &#x200B; #&#x66B4;&#x9732;&#x5168;&#x90E8;&#x7684;&#x76D1;&#x63A7;&#x4FE1;&#x606F; #&amp;#x66B4;&amp;#x9732;&amp;#x5168;&amp;#x90E8;&amp;#x7684;&amp;#x76D1;&amp;#x63A7;&amp;#x4FE1;&amp;#x606F; management: endpoints: web: exposure: include: "*" &#x200B; 3&#x3001;&#x9700;&#x8981;&#x5237;&#x65B0;&#x914D;&#x7F6E;&#x7684;&#x5730;&#x65B9;&#x7684;&#x7C7B;&#xFF0C;&#x589E;&#x52A0;&#x6CE8;&#x89E3; &#x200B; @RefreshScope &#x200B; 4&#x3001;&#x8BBF;&#x95EE;&#x9A8C;&#x8BC1; post&#x65B9;&#x5F0F;&#xFF1A;&#x5229;&#x7528;postman&#x8BA9;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x53BB;&#x5B9E;&#x73B0;&#x624B;&#x52A8;&#x5237;&#x65B0;&#x914D;&#x7F6E; &#x200B; http://localhost:8773/actuator/bus-refresh &#x200B; &#x6D4B;&#x8BD5;&#x542F;&#x52A8;&#x591A;&#x4E2A;&#x8282;&#x70B9;,&#x7AEF;&#x53E3;&#x4F18;&#x5148;&#x53BB;git&#x4ED3;&#x5E93;&#x90A3;&#x8FB9;&#x62C9;&#x53D6;&#x800C;&#x4E0D;&#x4F1A;&#x4F18;&#x5148;&#x672C;&#x5730;,&#x6240;&#x4EE5;&#x542F;&#x52A8;&#x591A;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x65F6;&#x5019;&#x5728;IDEA&#x91CC;&#x9762;&#x542F;&#x52A8;&#x4E00;&#x4E2A;&#x7136;&#x540E;&#x53BB;git&#x4ED3;&#x5E93;&#x4E2D;&#x5FC3;&#x4FEE;&#x6539;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;. &#x200B; 5&#x3001;&#x52A8;&#x6001;&#x5237;&#x65B0;&#x914D;&#x7F6E;: &#x5728;&#x5F00;&#x53D1;&#x548C;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#x4F7F;&#x7528;&#xFF0C;&#x5C3D;&#x91CF;&#x5C11;&#x5728;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4F7F;&#x7528; &#x200B; 5&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x76F8;&#x5173;&#x9879;&#x76EE;&#x6539;&#x9020;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x628A;&#x8BFE;&#x7A0B;&#x9879;&#x76EE;&#x6539;&#x9020;&#x6210;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x8BB2;&#x89E3; &#x200B; 1&#x3001;git&#x91CC;&#x9762;&#x65B0;&#x589E;&#x5BF9;&#x5E94;&#x9879;&#x76EE;&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x90FD;&#x8981;&#x6DFB;&#x52A0;&#x4E0B;&#x9762;&#x7684;&#x914D;&#x7F6E; &#x200B; #&#x670D;&#x52A1;&#x7684;&#x540D;&#x79F0; &#x200B; spring: &#x200B; rabbitmq: &#x200B; host: localhost &#x200B; port: 5672 &#x200B; username: guest &#x200B; password: guest &#x200B; #&#x66B4;&#x9732;&#x5168;&#x90E8;&#x7684;&#x76D1;&#x63A7;&#x4FE1;&#x606F; &#x200B; management: &#x200B; endpoints: &#x200B; web: &#x200B; exposure: &#x200B; include: &#x201C;*&#x201D; &#x200B; &#x200B; 2&#x3001;&#x9879;&#x76EE;&#x91CC;&#x9762;&#x6DFB;&#x52A0;maven&#x4F9D;&#x8D56; &#x200B; &#x200B; &#x200B; org.springframework.cloud &#x200B; spring-cloud-config-client &#x200B; &#x200B; &#x200B; &#x200B; org.springframework.boot &#x200B; spring-boot-starter-actuator &#x200B; &#x200B; &#x200B; org.springframework.cloud &#x200B; spring-cloud-starter-bus-amqp &#x200B; &#x200B; 3&#x3001;&#x4FEE;&#x6539;application.properties&#x4E3A;bootstrap.yml &#x5E76;&#x62F7;&#x8D1D;&#x914D;&#x7F6E;&#x6587;&#x4EF6; &#x200B; &#x200B; #&#x6307;&#x5B9A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5730;&#x5740; &#x200B; eureka: &#x200B; client: &#x200B; serviceUrl: &#x200B; defaultZone: http://localhost:8761/eureka/ &#x200B; #&#x670D;&#x52A1;&#x7684;&#x540D;&#x79F0; &#x200B; spring: &#x200B; application: &#x200B; name: order-service &#x200B; #&#x6307;&#x5B9A;&#x4ECE;&#x54EA;&#x4E2A;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x8BFB;&#x53D6; &#x200B; cloud: &#x200B; config: &#x200B; discovery: &#x200B; service-id: CONFIG-SERVER &#x200B; enabled: true &#x200B; profile: test &#x200B; 4&#x3001;&#x5404;&#x4E2A;&#x9879;&#x76EE;&#x542F;&#x52A8;&#x987A;&#x5E8F; &#x200B; 1&#xFF09;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x200B; 2&#xFF09;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3; &#x200B; 3&#xFF09;&#x5BF9;&#x5E94;&#x7684;&#x670D;&#x52A1;&#xFF1A;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x3001;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x3002;&#x3002;&#x3002;(&#x8D8A;&#x5C11;&#x4F9D;&#x8D56;&#x7684;&#x8D8A;&#x4F18;&#x5148;&#x542F;&#x52A8;) &#x200B; 4&#xFF09;&#x542F;&#x52A8;&#x7F51;&#x5173; &#x7B2C;&#x5341;&#x7AE0;&#x3001;SpringCloud&#x4E0A;&#x534A;&#x90E8;&#x5206;&#x603B;&#x7ED3; &#x200B; &#x200B; 1&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x5185;&#x5BB9;&#x56DE;&#x987E; &#x200B; &#x200B; 1)&#x4ECB;&#x7ECD;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#xFF0C;&#x6838;&#x5FC3;&#x7EC4;&#x4EF6;&#xFF0C;CAP&#x539F;&#x7406; &#x200B; 2&#xFF09;SpringCloud&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; Eureka &#x200B; 3&#xFF09;product-service / order-service &#x200B; 4) &#x4F2A;RPC Ribbon / feign &#x200B; 5) hystrix&#x7194;&#x65AD; &#x200B; 6) &#x670D;&#x52A1;&#x7F51;&#x5173;&#x4ECB;&#x7ECD;&#xFF0C;zuul &#x200B; 7&#xFF09;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;config-server &#x200B; &#x200B; 2&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x4E0B;&#x534A;&#x90E8;&#x5206;&#x77E5;&#x8BC6; &#x4E91;&#x670D;&#x52A1;&#x5668;&#x548C;Docker&#x5BB9;&#x5668; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x548C;&#x5BB9;&#x5668;&#x77E5;&#x8BC6; &#x200B; &#x200B; &#x7B2C;&#x5341;&#x4E00;&#x7AE0; &#x963F;&#x91CC;&#x4E91;ECS&#x670D;&#x52A1;&#x5668;&#x4ECB;&#x7ECD;&#x548C;&#x7F51;&#x7EDC;&#x77E5;&#x8BC6;&#x8BB2;&#x89E3; &#x200B; 1&#x3001;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x4ECB;&#x7ECD;&#x548C;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x5668;ECS&#x670D;&#x52A1;&#x5668;&#x9009;&#x8D2D; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x4EC0;&#x4E48;&#x662F;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x53CA;&#x76EE;&#x524D;&#x4E3B;&#x8981;&#x7684;&#x51E0;&#x4E2A;&#x5382;&#x5546;&#x4ECB;&#x7ECD; &#x200B; 1&#x3001;&#x963F;&#x91CC;&#x4E91;&#x3001;&#x817E;&#x8BAF;&#x4E91;&#x3001;&#x4E9A;&#x9A6C;&#x900A;&#x4E91; &#x200B; &#x963F;&#x91CC;&#x4E91;&#xFF1A;https://www.aliyun.com/ &#x200B; &#x817E;&#x8BAF;&#x4E91;&#xFF1A;https://cloud.tencent.com/ &#x200B; &#x4E9A;&#x9A6C;&#x900A;&#x4E91;&#xFF1A;https://aws.amazon.com/ &#x200B; &#x200B; &#x200B; 2&#x3001;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x8FDC;&#x7A0B;&#x767B;&#x5F55;&#x548C;&#x5E38;&#x7528;&#x5DE5;&#x5177; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x767B;&#x5F55;&#x4F7F;&#x7528;&#x548C;&#x5E38;&#x89C1;&#x7EC8;&#x7AEF;&#x5DE5;&#x5177; &#x200B; 1&#x3001;windows&#x5DE5;&#x5177; putty&#xFF0C;xshell, security &#x200B; &#x53C2;&#x8003;&#x8D44;&#x6599;&#xFF1A; &#x200B; https://jingyan.baidu.com/article/e75057f210c6dcebc91a89dd.html &#x200B; https://www.jb51.net/softjc/88235.html &#x200B; 2&#x3001;&#x82F9;&#x679C;&#x7CFB;&#x7EDF;MAC&#xFF1A; &#x901A;&#x8FC7;&#x7EC8;&#x7AEF;&#x767B;&#x5F55; &#x200B; ssh root@ip &#x56DE;&#x8F66;&#x540E;&#x8F93;&#x5165;&#x5BC6;&#x7801; &#x200B; ssh root@120.25.1.38 &#x200B; 3&#x3001;&#x53EF;&#x4EE5;&#x5C1D;&#x8BD5;&#x81EA;&#x5DF1;&#x901A;&#x8FC7;&#x767E;&#x5EA6;&#x8FDB;&#x884C;&#x627E;&#x6587;&#x6863;&#xFF0C; &#x5B89;&#x88C5;mysql jdk nginx maven git redis elk 3&#x3001;&#x4E92;&#x8054;&#x7F51;&#x67B6;&#x6784;&#x77E5;&#x8BC6;&#x4E4B;&#x7F51;&#x7AD9;&#x90E8;&#x7F72;&#x4E0A;&#x7EBF;&#x57FA;&#x7840;&#x51C6;&#x5907; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x5E94;&#x7528;&#x90E8;&#x7F72;&#x5230;&#x53EF;&#x4EE5;&#x516C;&#x7F51;&#x8BBF;&#x95EE;&#x9700;&#x8981;&#x6B65;&#x9AA4; &#x200B; 1&#x3001;&#x4E00;&#x4E2A;http&#x8BF7;&#x6C42;&#x7684;&#x6545;&#x4E8B; &#x200B; 2&#x3001;&#x4EC0;&#x4E48;&#x662F;cname&#x548C;a&#x8BB0;&#x5F55; &#x200B; A&#x8BB0;&#x5F55;&#x548C;CNAME&#x53EA;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x751F;&#x6548;&#x4E00;&#x4E2A;&#xFF0C;A&#x8BB0;&#x5F55;&#x4F18;&#x5148; &#x200B; cname&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x7F51;&#x7AD9;&#x7684;&#x5C0F;&#x540D; &#x200B; 3&#x3001;&#x57DF;&#x540D;&#x548C;ip&#x7684;&#x5173;&#x7CFB;&#xFF0C;DNS&#x4F5C;&#x7528; &#x200B; &#x53C2;&#x8003;&#x8D44;&#x6599;&#xFF1A; &#x200B; https://blog.csdn.net/benbenzhuhwp/article/details/44704319 &#x200B; https://www.baidu.com/s?ie=utf-8&amp;f=8&amp;rsv_bp=0&amp;rsv_idx=1&amp;ch=1&amp;tn=98050039_dg&amp;wd=%E4%B8%80%E4%B8%AAhttp%E8%AF%B7%E6%B1%82%E7%9A%84%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B&amp;rsv_pq=80a65c5f00005961&amp;rsv_t=a5fcWreuJzILdSwr4gI8pFqlO7HSu5BlhjwalyVzPiV9w2L%2BKEj78pPi1Qn6Vx4wXxI&amp;rqlang=cn&amp;rsv_enter=1&amp;rsv_sug3=8&amp;rsv_sug1=8&amp;rsv_sug7=100&amp;sug=%25E4%25B8%2580%25E4%25B8%25AAhttp%25E8%25AF%25B7%25E6%25B1%2582%25E7%259A%2584%25E8%25AF%25A6%25E7%25BB%2586%25E8%25BF%2587%25E7%25A8%258B&amp;rsv_n=1 4&#x3001;&#x57DF;&#x540D;&#x8D2D;&#x4E70;&#x548C;&#x914D;&#x7F6E;&#x89E3;&#x6790;&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x57DF;&#x540D;&#x8D2D;&#x4E70;&#x548C;&#x914D;&#x7F6E;&#x89E3;&#x6790;&#x5B9E;&#x6218; &#x200B; 1&#x3001;&#x8D2D;&#x4E70;&#x57DF;&#x540D;&#xFF0C;&#x5907;&#x6848; &#x200B; &#x963F;&#x91CC;&#x4E91; &#x5907;&#x6848;&#x5730;&#x5740;&#xFF1A;https://beian.aliyun.com/ &#x200B; 2&#x3001;&#x8D2D;&#x4E70;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x963F;&#x91CC;&#x4E91;&#xFF0C;&#x817E;&#x8BAF;&#x4E91;&#xFF0C;&#x4E9A;&#x9A6C;&#x900A;&#x4E91;aws &#x200B; 3&#x3001;&#x914D;&#x7F6E;&#x57DF;&#x540D;&#x89E3;&#x6790;&#x5230;&#x670D;&#x52A1;&#x5668; &#x200B; &#x200B; &#x7B2C;&#x5341;&#x4E8C;&#x7AE0; &#x5FAE;&#x670D;&#x52A1;&#x5FC5;&#x5907;&#x6280;&#x80FD;Docker&#x5BB9;&#x5668;&#x57FA;&#x7840;&#x7BC7;&#x5E45; &#x200B; &#x200B; 1&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x4E0B;&#x7684;Docker&#x4ECB;&#x7ECD;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;Docker&#x4ECB;&#x7ECD;&#x548C;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x200B; 1&#x3001;&#x4EC0;&#x4E48;&#x662F;Dokcer &#x200B; &#x767E;&#x79D1;:&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x7684;&#x5E94;&#x7528;&#x5BB9;&#x5668;&#x5F15;&#x64CE;&#xFF0C;&#x8BA9;&#x5F00;&#x53D1;&#x8005;&#x53EF;&#x4EE5;&#x6253;&#x5305;&#x4ED6;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x4EE5;&#x53CA;&#x4F9D;&#x8D56;&#x5305;&#x5230;&#x4E00;&#x4E2A;&#x53EF;&#x79FB;&#x690D;&#x7684;&#x5BB9;&#x5668;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x53D1;&#x5E03;&#x5230;&#x4EFB;&#x4F55;&#x6D41;&#x884C;&#x7684; Linux &#x673A;&#x5668;&#x4E0A;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x865A;&#x62DF;&#x5316;&#x3002;&#x5BB9;&#x5668;&#x662F;&#x5B8C;&#x5168;&#x4F7F;&#x7528;&#x6C99;&#x7BB1;&#x673A;&#x5236;&#xFF0C;&#x76F8;&#x4E92;&#x4E4B;&#x95F4;&#x4E0D;&#x4F1A;&#x6709;&#x4EFB;&#x4F55;&#x63A5;&#x53E3;&#xFF1B; &#x200B; &#x4F7F;&#x7528;go&#x8BED;&#x8A00;&#x7F16;&#x5199;&#xFF0C;&#x5728;LCX&#xFF08;linux&#x5BB9;&#x5668;&#xFF09;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x884C;&#x7684;&#x5C01;&#x88C5; &#x200B; &#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF1A; &#x200B; 1&#xFF09;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x90E8;&#x7F72;&#x542F;&#x52A8;&#x5E94;&#x7528; &#x200B; 2&#xFF09;&#x5B9E;&#x73B0;&#x865A;&#x62DF;&#x5316;&#xFF0C;&#x5B8C;&#x6574;&#x8D44;&#x6E90;&#x9694;&#x79BB; &#x200B; 3&#xFF09;&#x4E00;&#x6B21;&#x7F16;&#x5199;&#xFF0C;&#x56DB;&#x5904;&#x8FD0;&#x884C;&#xFF08;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x9650;&#x5236;&#xFF0C;&#x6BD4;&#x5982;Docker&#x662F;&#x57FA;&#x4E8E;Linux 64bit&#x7684;&#xFF0C;&#x65E0;&#x6CD5;&#x5728;32bit&#x7684;linux/Windows/unix&#x73AF;&#x5883;&#x4E0B;&#x4F7F;&#x7528;&#xFF09; &#x200B; 2&#x3001;&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528; &#x200B; 1&#x3001;&#x63D0;&#x4F9B;&#x4E00;&#x6B21;&#x6027;&#x7684;&#x73AF;&#x5883;&#xFF0C;&#x5047;&#x5982;&#x9700;&#x8981;&#x5B89;&#x88C5;Mysql&#xFF0C;&#x5219;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x5F88;&#x591A;&#x4F9D;&#x8D56;&#x5E93;&#x3001;&#x7248;&#x672C;&#x7B49;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528;Docker&#x5219;&#x901A;&#x8FC7;&#x955C;&#x50CF;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x542F;&#x52A8;&#x8FD0;&#x884C; &#x200B; 2&#x3001;&#x5FEB;&#x901F;&#x52A8;&#x6001;&#x6269;&#x5BB9;&#xFF0C;&#x4F7F;&#x7528;docker&#x90E8;&#x7F72;&#x4E86;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#xFF0C;&#x53EF;&#x4EE5;&#x5236;&#x4F5C;&#x6210;&#x955C;&#x50CF;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;Dokcer&#x5FEB;&#x901F;&#x542F;&#x52A8; &#x200B; 3&#x3001;&#x7EC4;&#x5EFA;&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x4E00;&#x4E2A;&#x673A;&#x5668;&#x4E0A;&#x6A21;&#x62DF;&#x51FA;&#x591A;&#x4E2A;&#x5FAE;&#x670D;&#x52A1;&#xFF0C;&#x542F;&#x52A8;&#x591A;&#x4E2A;&#x5E94;&#x7528; &#x200B; 4&#x3001;&#x66F4;&#x597D;&#x7684;&#x8D44;&#x6E90;&#x9694;&#x79BB;&#x548C;&#x5171;&#x4EAB; &#x200B; &#x4E00;&#x53E5;&#x8BDD;&#xFF1A;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#xFF0C;&#x5FEB;&#x901F;&#x90E8;&#x7F72;&#xFF0C;&#x53EF;&#x79FB;&#x690D;&#x6027;&#x5F3A;&#xFF0C;&#x73AF;&#x5883;&#x9694;&#x79BB; &#x200B; 2&#x3001;Linux&#x4E91;&#x670D;&#x52A1;&#x5668;Centos7&#x5B89;&#x88C5;Docker&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x963F;&#x91CC;&#x4E91;ECS&#x670D;&#x52A1;&#x5B89;&#x88C5;Docker&#x5B9E;&#x6218; &#x200B; Linux Standard Base&#x7684;&#x7F29;&#x5199;&#xFF0C;lsb_release&#x547D;&#x4EE4;&#x7528;&#x6765;&#x663E;&#x793A;LSB&#x548C;&#x7279;&#x5B9A;&#x7248;&#x672C;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F; &#x200B; &#x547D;&#x4EE4;&#xFF1A; lsb_release -a &#x200B; &#x963F;&#x91CC;&#x4E91;&#x5B89;&#x88C5;&#x624B;&#x518C;&#xFF1A; &#x200B; https://help.aliyun.com/document_detail/51853.html?spm=a2c4g.11186623.6.820.RaToNY &#x200B; &#x200B; &#x5E38;&#x89C1;&#x95EE;&#x9898;&#xFF1A; &#x200B; https://blog.csdn.net/daluguishou/article/details/52080250 &#x200B; 3&#x3001;Docker&#x4ED3;&#x5E93;&#x3001;&#x955C;&#x50CF;&#x3001;&#x5BB9;&#x5668;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x8BB2;&#x89E3; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x5FEB;&#x901F;&#x638C;&#x63E1;Dokcer&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#xFF0C; &#x200B; 1&#x3001;&#x6982;&#x5FF5;&#xFF1A; &#x200B; Docker &#x955C;&#x50CF; - Docker images&#xFF1A; &#x200B; &#x5BB9;&#x5668;&#x8FD0;&#x884C;&#x65F6;&#x7684;&#x53EA;&#x8BFB;&#x6A21;&#x677F;&#xFF0C;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;+&#x8F6F;&#x4EF6;&#x8FD0;&#x884C;&#x73AF;&#x5883;+&#x7528;&#x6237;&#x7A0B;&#x5E8F; &#x200B; &#x200B; class User{ &#x200B; private String userName; &#x200B; private int age; &#x200B; } &#x200B; Docker &#x5BB9;&#x5668; - Docker containers&#xFF1A; &#x200B; &#x5BB9;&#x5668;&#x5305;&#x542B;&#x4E86;&#x67D0;&#x4E2A;&#x5E94;&#x7528;&#x8FD0;&#x884C;&#x6240;&#x9700;&#x8981;&#x7684;&#x5168;&#x90E8;&#x73AF;&#x5883; &#x200B; &#x200B; User user = new User() &#x200B; Docker &#x4ED3;&#x5E93; - Docker registeries&#xFF1A; &#x200B; &#x7528;&#x6765;&#x4FDD;&#x5B58;&#x955C;&#x50CF;&#xFF0C;&#x6709;&#x516C;&#x6709;&#x548C;&#x79C1;&#x6709;&#x4ED3;&#x5E93;&#xFF0C;&#x597D;&#x6BD4;Maven&#x7684;&#x4E2D;&#x592E;&#x4ED3;&#x5E93;&#x548C;&#x672C;&#x5730;&#x79C1;&#x670D; &#x200B; &#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A; &#x200B; &#x200B; &#xFF08;&#x53C2;&#x8003;&#xFF09;&#x914D;&#x7F6E;&#x56FD;&#x5185;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A;https://blog.csdn.net/zzy1078689276/article/details/77371782 &#x200B; &#x5BF9;&#x6BD4;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F; &#x200B; Dokcer &#x91CC;&#x9762;&#x7684;&#x955C;&#x50CF; : Java&#x91CC;&#x9762;&#x7684;&#x7C7B; Class &#x200B; Docker &#x91CC;&#x9762;&#x7684;&#x5BB9;&#x5668; : Java&#x91CC;&#x9762;&#x7684;&#x5BF9;&#x8C61; Object &#x200B; &#x901A;&#x8FC7;&#x7C7B;&#x521B;&#x5EFA;&#x5BF9;&#x8C61;&#xFF0C;&#x901A;&#x8FC7;&#x955C;&#x50CF;&#x521B;&#x5EFA;&#x5BB9;&#x5668; &#x200B; 4&#x3001;Docker&#x5BB9;&#x5668;&#x5E38;&#x89C1;&#x547D;&#x4EE4;&#x5B9E;&#x6218; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;Docker&#x5728;&#x4E91;&#x670D;&#x52A1;&#x4E0A;&#x7684;&#x5B9E;&#x9645;&#x5E94;&#x7528; &#x200B; 1&#x3001; &#x5E38;&#x7528;&#x547D;&#x4EE4;&#xFF08;&#x5B89;&#x88C5;&#x90E8;&#x7F72;&#x597D;Dokcer&#x540E;&#xFF0C;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4;&#x662F;docker&#x5F00;&#x5934;&#xFF09;,xxx&#x662F;&#x955C;&#x50CF;&#x540D;&#x79F0; &#x200B; &#x641C;&#x7D22;&#x955C;&#x50CF;&#xFF1A;docker search rabbitmq:management &#x200B; &#x200B; &#x5217;&#x51FA;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x5B58;&#x5728;&#x7684;&#x955C;&#x50CF;&#xFF1A;docker images &#x200B; &#x200B; &#x62C9;&#x53D6;&#x955C;&#x50CF;&#xFF1A;docker pull xxx &#x200B; xxx&#x662F;&#x5177;&#x4F53;&#x67D0;&#x4E2A;&#x955C;&#x50CF;&#x540D;&#x79F0;(&#x683C;&#x5F0F; REPOSITORY:TAG) &#x200B; REPOSITORY&#xFF1A;&#x8868;&#x793A;&#x955C;&#x50CF;&#x7684;&#x4ED3;&#x5E93;&#x6E90;,TAG&#xFF1A;&#x955C;&#x50CF;&#x7684;&#x6807;&#x7B7E; &#x200B; &#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668;&#xFF1A;docker run -d &#x2013;name &#x201C;cluster_mq&#x201D; -p 5672:5672 -p 15672:15672 rabbitmq:management &#x200B; docker run - &#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x5BB9;&#x5668; &#x200B; -d &#x540E;&#x53F0;&#x8FD0;&#x884C; &#x200B; -p &#x7AEF;&#x53E3;&#x6620;&#x5C04; &#x7269;&#x7406;&#x673A;&#x7AEF;&#x53E3;&#x662F;&#x5192;&#x53F7;&#x5DE6;&#x8FB9; docker&#x7AEF;&#x53E3;&#x662F;&#x5192;&#x53F7;&#x53F3;&#x8FB9; rabbitmq&#x4E00;&#x4E2A;&#x662F;&#x7A0B;&#x5E8F;&#x4E00;&#x4E2A;&#x662F;&#x7BA1;&#x7406;&#x540E;&#x53F0; &#x200B; rabbitmq:management (&#x683C;&#x5F0F; REPOSITORY:TAG)&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x6307;&#x5B9A;tag&#xFF0C;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;&#x6700;&#x65B0;&#x7684; &#x200B; &#x2013;name &#x201C;xxx&#x201D; &#x200B; &#x200B; &#x5217;&#x4E3E;&#x5F53;&#x524D;&#x8FD0;&#x884C;&#x7684;&#x5BB9;&#x5668;&#xFF1A;docker ps &#x200B; &#x68C0;&#x67E5;&#x5BB9;&#x5668;&#x5185;&#x90E8;&#x4FE1;&#x606F;&#xFF1A;docker inspect &#x5BB9;&#x5668;&#x540D;&#x79F0; &#x200B; &#x5220;&#x9664;&#x955C;&#x50CF;&#xFF1A;docker rmi IMAGE_NAME &#x200B; &#x5F3A;&#x5236;&#x79FB;&#x9664;&#x955C;&#x50CF;&#x4E0D;&#x7BA1;&#x662F;&#x5426;&#x6709;&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x8BE5;&#x955C;&#x50CF; &#x589E;&#x52A0; -f &#x53C2;&#x6570;&#xFF0C; &#x200B; &#x505C;&#x6B62;&#x67D0;&#x4E2A;&#x5BB9;&#x5668;&#xFF1A;docker stop &#x5BB9;&#x5668;&#x540D;&#x79F0; &#x200B; &#x542F;&#x52A8;&#x67D0;&#x4E2A;&#x5BB9;&#x5668;&#xFF1A;docker start &#x5BB9;&#x5668;&#x540D;&#x79F0; &#x200B; &#x79FB;&#x9664;&#x67D0;&#x4E2A;&#x5BB9;&#x5668;&#xFF1A; docker rm &#x5BB9;&#x5668;&#x540D;&#x79F0; &#xFF08;&#x5BB9;&#x5668;&#x5FC5;&#x987B;&#x662F;&#x505C;&#x6B62;&#x72B6;&#x6001;&#xFF09; &#x200B; &#x6587;&#x6863;&#xFF1A; &#x200B; https://blog.csdn.net/permike/article/details/51879578 &#x200B; 5&#x3001;&#x5B9E;&#x6218;&#x5E94;&#x7528;&#x4E4B;&#x4F7F;&#x7528;Docker&#x90E8;&#x7F72;Nginx&#x670D;&#x52A1;&#x5668; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4F7F;&#x7528;Docker&#x90E8;&#x7F72;Nginx&#x670D;&#x52A1;&#x5668;&#x5B9E;&#x6218; &#x200B; 1&#x3001;&#x83B7;&#x53D6;&#x955C;&#x50CF; &#x200B; docker run (&#x9996;&#x5148;&#x4F1A;&#x4ECE;&#x672C;&#x5730;&#x627E;&#x955C;&#x50CF;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x5219;&#x76F4;&#x63A5;&#x542F;&#x52A8;&#xFF0C;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#xFF0C;&#x4ECE;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x62C9;&#x8D77;&#xFF0C;&#x518D;&#x542F;&#x52A8;) &#x200B; docker search nignx &#x200B; 2&#x3001;&#x5217;&#x4E3E; &#x200B; docker images &#x200B; 3&#x3001;&#x62C9;&#x53D6; &#x200B; docker pull nignx &#x200B; 3&#x3001;&#x542F;&#x52A8; &#x200B; docker run -d &#x2013;name &#x201C;cluster_nginx&#x201D; -p 8088:80 nginx &#x200B; docker run -d &#x2013;name &#x201C;cluster_nginx2&#x201D; -p 8089:80 nginx &#x200B; docker run -d &#x2013;name &#x201C;cluster_nginx3&#x201D; -p 8090:80 nginx &#x200B; 4&#x3001;&#x8BBF;&#x95EE; &#x200B; &#x5982;&#x679C;&#x662F;&#x963F;&#x91CC;&#x4E91;&#x670D;&#x52A1;&#xFF0C;&#x8BB0;&#x5F97;&#x914D;&#x7F6E;&#x5B89;&#x5168;&#x7EC4;&#xFF0C;&#x817E;&#x8BAF;&#x4E91;&#x4E5F;&#x9700;&#x8981;&#x914D;&#x7F6E;&#xFF0C;&#x8FD9;&#x4E2A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x9632;&#x706B;&#x5899; &#x200B; 6&#x3001;&#x516C;&#x53F8;&#x4E2D;Docker&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x4F7F;&#x7528;&#x8BB2;&#x89E3; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4E00;&#x822C;&#x516C;&#x53F8;&#x4E2D;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x5728;&#x7684;&#x4F7F;&#x7528; &#x200B; &#x200B; 1&#x3001;&#x4E3A;&#x5565;&#x8981;&#x7528;&#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x200B; 2&#x3001;&#x5B98;&#x65B9;&#x516C;&#x5171;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x548C;&#x79C1;&#x6709;&#x955C;&#x50CF;&#x4ED3;&#x5E93;(&#x5C31;&#x50CF;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;iso&#x548C;gho) &#x200B; &#x516C;&#x5171;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A; &#x200B; &#x5B98;&#x65B9;&#xFF1A;https://hub.docker.com/&#xFF0C;&#x57FA;&#x4E8E;&#x5404;&#x4E2A;&#x8F6F;&#x4EF6;&#x5F00;&#x53D1;&#x6216;&#x8005;&#x6709;&#x8F6F;&#x4EF6;&#x63D0;&#x4F9B;&#x5546;&#x5F00;&#x53D1;&#x7684; &#x200B; &#x975E;&#x5B98;&#x65B9;&#xFF1A;&#x5176;&#x4ED6;&#x7EC4;&#x7EC7;&#x6216;&#x8005;&#x516C;&#x53F8;&#x5F00;&#x53D1;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x4F9B;&#x5927;&#x5BB6;&#x514D;&#x8D39;&#x8BD5;&#x7528; &#x200B; &#x79C1;&#x6709;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A; &#x200B; &#x7528;&#x4E8E;&#x5B58;&#x653E;&#x516C;&#x53F8;&#x5185;&#x90E8;&#x7684;&#x955C;&#x50CF;&#xFF0C;&#x4E0D;&#x63D0;&#x4F9B;&#x7ED9;&#x5916;&#x90E8;&#x8BD5;&#x7528;&#xFF1B; &#x200B; SpringCloud &#x5F00;&#x53D1;&#x4E86;&#x4E00;&#x4E2A;&#x652F;&#x4ED8;&#x7CFB;&#x7EDF; -&#x300B;&#x505A;&#x6210;&#x4E00;&#x4E2A;&#x955C;&#x50CF; &#xFF08;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;+&#x8F6F;&#x4EF6;&#x8FD0;&#x884C;&#x73AF;&#x5883;+&#x7528;&#x6237;&#x7A0B;&#x5E8F;&#xFF09; &#x200B; 7&#x3001;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;&#x6784;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x4F7F;&#x7528;&#x963F;&#x91CC;&#x4E91;&#x642D;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x200B; &#x200B; 1&#x3001;&#x963F;&#x91CC;&#x4E91;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A;https://dev.aliyun.com/search.html &#x200B; &#x70B9;&#x51FB;&#x7BA1;&#x7406;&#x63A7;&#x5236;&#x53F0;-&#x300B;&#x521D;&#x6B21;&#x4F7F;&#x7528;&#x4F1A;&#x63D0;&#x793A;&#x5F00;&#x901A;&#xFF0C;&#x7136;&#x540E;&#x8BBE;&#x7F6E;&#x5BC6;&#x7801; &#x200B; xdclass.net123 &#x200B; 2&#x3001;&#x4F7F;&#x7528;&#x963F;&#x91CC;&#x4E91;&#x79C1;&#x6709;&#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x200B; 1)&#x767B;&#x5F55;&#xFF1A; docker login &#x2013;username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com &#x200B; &#x200B; 2) &#x63A8;&#x9001;&#x672C;&#x5730;&#x955C;&#x50CF;&#xFF1A; &#x200B; docker tag [ImageId] registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:[&#x955C;&#x50CF;&#x7248;&#x672C;&#x53F7;] &#x200B; &#x4F8B;&#x5B50;&#xFF1A; &#x200B; docker tag 2f415b0e9a6e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 &#x200B; docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 &#x200B; 3)&#x62C9;&#x53D6;&#x955C;&#x50CF; &#x200B; &#x7EBF;&#x4E0A;&#x670D;&#x52A1;&#x5668;&#x62C9;&#x53D6;&#x955C;&#x50CF;&#xFF1A; &#x200B; docker login &#x2013;username=794666918@qq.com registry.cn-shenzhen.aliyuncs.com &#x200B; docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:xd_rabbitmq-v1.0.2 &#x200B; &#x542F;&#x52A8;&#x5BB9;&#x5668;&#xFF1A; &#x200B; docker run -d &#x2013;name &#x201C;xdclass_mq&#x201D; -p 5672:5672 -p 15672:15672 2f415b0e9a6e &#x7B2C;&#x5341;&#x4E09;&#x7AE0; &#x5FAE;&#x670D;&#x52A1;&#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;SpringCloud&#x548C;Docker&#x6574;&#x5408;&#x90E8;&#x7F72; &#x200B; &#x200B; &#x7B2C;1&#x8BFE; &#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;&#x6784;&#x5EFA;SpringBoot&#x5E94;&#x7528;docker&#x955C;&#x50CF;&#x4E0A;&#x96C6; &#x200B; &#x7B80;&#x4ECB;:&#x4F7F;&#x7528;Docker&#x7684;maven&#x63D2;&#x4EF6;&#xFF0C;&#x6784;&#x5EFA;springboot&#x5E94;&#x7528; &#x200B; &#x200B; &#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF1A;https://spring.io/guides/gs/spring-boot-docker/ &#x200B; 1&#x3001;&#x6B65;&#x9AA4;&#xFF1A;maven&#x91CC;&#x9762;&#x6DFB;&#x52A0;&#x914D;&#x7F6E;pom.xml &#x200B; &#x5728;properties&#x8282;&#x70B9;&#x6DFB;&#x52A0;&#x914D;&#x7F6E; &lt;properties> &lt;docker.image.prefix>company&lt;/docker.image.prefix> &lt;/properties> &#x200B; &#x5728;build&#x8282;&#x70B9;&#x6DFB;&#x52A0;&#x914D;&#x7F6E; &lt;!--&amp;#x9879;&amp;#x76EE;&amp;#x6253;&amp;#x5305;&amp;#x7684;&amp;#x540D;&amp;#x79F0;--> &lt;finalName>docker-demo&lt;/finalName> &lt;plugin> &lt;groupId>com.spotify&lt;/groupId> &lt;artifactId>dockerfile-maven-plugin&lt;/artifactId> &lt;version>1.3.6&lt;/version> &lt;configuration> &lt;repository>${docker.image.prefix}/${project.artifactId}&lt;/repository> &lt;buildArgs> &lt;JAR_FILE>target/${project.build.finalName}.jar&lt;/JAR_FILE> &lt;/buildArgs> &lt;/configuration> &lt;/plugin> &#x200B; &#x914D;&#x7F6E;&#x8BB2;&#x89E3; &#x200B; Spotify &#x7684; docker-maven-plugin &#x63D2;&#x4EF6;&#x662F;&#x7528;maven&#x63D2;&#x4EF6;&#x65B9;&#x5F0F;&#x6784;&#x5EFA;docker&#x955C;&#x50CF;&#x7684;&#x3002; &#x200B; ${project.build.finalName} &#x4EA7;&#x51FA;&#x7269;&#x540D;&#x79F0;&#xFF0C;&#x7F3A;&#x7701;&#x4E3A;${project.artifactId}-${project.version} &#x200B; &#x7B2C;2&#x8BFE; &#x9AD8;&#x7EA7;&#x7BC7;&#x5E45;&#x4E4B;&#x6784;&#x5EFA;SpringBoot&#x5E94;&#x7528;docker&#x955C;&#x50CF;&#x4E0B;&#x96C6; &#x200B; &#x7B80;&#x4ECB;:&#x6253;&#x5305;SpringCloud&#x955C;&#x50CF;&#x5E76;&#x4E0A;&#x4F20;&#x79C1;&#x6709;&#x4ED3;&#x5E93;&#x5E76;&#x90E8;&#x7F72; &#x200B; 1&#x3001;&#x521B;&#x5EFA;Dockerfile,&#x9ED8;&#x8BA4;&#x662F;&#x6839;&#x76EE;&#x5F55;&#xFF0C;&#xFF08;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x4E3A;src/main/docker/Dockerfile,&#x5982;&#x679C;&#x4FEE;&#x5219;&#x9700;&#x8981;&#x5236;&#x5B9A;&#x8DEF;&#x5F84;&#xFF09; &#x200B; &#x4EC0;&#x4E48;&#x662F;Dockerfile : &#x7531;&#x4E00;&#x7CFB;&#x5217;&#x547D;&#x4EE4;&#x548C;&#x53C2;&#x6570;&#x6784;&#x6210;&#x7684;&#x811A;&#x672C;&#xFF0C;&#x8FD9;&#x4E9B;&#x547D;&#x4EE4;&#x5E94;&#x7528;&#x4E8E;&#x57FA;&#x7840;&#x955C;&#x50CF;, &#x6700;&#x7EC8;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x955C;&#x50CF; FROM openjdk:8-jdk-alpine VOLUME /tmp ARG JAR_FILE COPY ${JAR_FILE} app.jar ENTRYPOINT ["java","-jar","/app.jar"] &#x200B; &#x53C2;&#x6570;&#x8BB2;&#x89E3;&#xFF1A; &#x200B; FROM : &#x9700;&#x8981;&#x4E00;&#x4E2A;&#x57FA;&#x7840;&#x955C;&#x50CF;&#xFF0C;&#x53EF;&#x4EE5;&#x662F;&#x516C;&#x5171;&#x7684;&#x6216;&#x8005;&#x662F;&#x79C1;&#x6709;&#x7684;&#xFF0C; &#x540E;&#x7EED;&#x6784;&#x5EFA;&#x4F1A;&#x57FA;&#x4E8E;&#x6B64;&#x955C;&#x50CF;&#xFF0C;&#x5982;&#x679C;&#x540C;&#x4E00;&#x4E2A;Dockerfile&#x4E2D;&#x5EFA;&#x7ACB;&#x591A;&#x4E2A;&#x955C;&#x50CF;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x591A;&#x4E2A;FROM&#x6307;&#x4EE4; &#x200B; &#x200B; VOLUME &#x914D;&#x7F6E;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x6301;&#x4E45;&#x5316;&#x529F;&#x80FD;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x4E3B;&#x673A; /var/lib/docker &#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x4E34;&#x65F6;&#x6587;&#x4EF6;&#xFF0C;&#x5E76;&#x94FE;&#x63A5;&#x5230;&#x5BB9;&#x5668;&#x7684;/tmp&#x3002;&#x6539;&#x6B65;&#x9AA4;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6D89;&#x53CA;&#x5230;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#x7684;&#x5E94;&#x7528;&#x5C31;&#x5F88;&#x6709;&#x5FC5;&#x8981;&#x4E86;&#x3002;/tmp&#x76EE;&#x5F55;&#x7528;&#x6765;&#x6301;&#x4E45;&#x5316;&#x5230; Docker &#x6570;&#x636E;&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x56E0;&#x4E3A; Spring Boot &#x4F7F;&#x7528;&#x7684;&#x5185;&#x5D4C; Tomcat &#x5BB9;&#x5668;&#x9ED8;&#x8BA4;&#x4F7F;&#x7528;/tmp&#x4F5C;&#x4E3A;&#x5DE5;&#x4F5C;&#x76EE;&#x5F55; &#x200B; ARG &#x8BBE;&#x7F6E;&#x7F16;&#x8BD1;&#x955C;&#x50CF;&#x65F6;&#x52A0;&#x5165;&#x7684;&#x53C2;&#x6570;&#xFF0C; ENV &#x662F;&#x8BBE;&#x7F6E;&#x5BB9;&#x5668;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF; &#x200B; COPY : &#x53EA;&#x652F;&#x6301;&#x5C06;&#x672C;&#x5730;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230;&#x5BB9;&#x5668; ,&#x8FD8;&#x6709;&#x4E2A;ADD&#x66F4;&#x5F3A;&#x5927;&#x4F46;&#x590D;&#x6742;&#x70B9; &#x200B; ENTRYPOINT &#x5BB9;&#x5668;&#x542F;&#x52A8;&#x65F6;&#x6267;&#x884C;&#x7684;&#x547D;&#x4EE4; &#x200B; EXPOSE 8080 &#x66B4;&#x9732;&#x955C;&#x50CF;&#x7AEF;&#x53E3; &#x200B; 2&#x3001;&#x6784;&#x5EFA;&#x955C;&#x50CF; &#x200B; mvn install dockerfile:build &#x200B; &#x6253;&#x6807;&#x7B7E; &#x200B; docker tag a1b9fc71720d registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 &#x200B; &#x63A8;&#x9001;&#x5230;&#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x200B; docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 &#x200B; &#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x62C9;&#x53D6;&#x955C;&#x50CF; &#x200B; docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:docker-demo-v201808 &#x200B; docker run -d &#x2013;name xdclass_docker_demo1 -p 8099:8080 a1b9fc71720d &#x200B; 3&#x3001;&#x67E5;&#x770B;&#x542F;&#x52A8;&#x65E5;&#x5FD7; docker logs -f containerid &#x200B; &#x200B; &#x6587;&#x6863;&#xFF1A;https://yeasy.gitbooks.io/docker_practice/image/dockerfile/ &#x200B; &#x7B2C;3&#x8BFE; &#x5B9E;&#x6218;&#x7CFB;&#x5217;&#x4E4B;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x6253;&#x5305;Docker&#x955C;&#x50CF; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4F7F;&#x7528;Docker&#x6253;&#x5305;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x4E0A;&#x4F20;&#x79C1;&#x6709;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#x5E76;&#x90E8;&#x7F72; &#x200B; 1&#x3001;&#x65B0;&#x589E;maven&#x63D2;&#x4EF6; &#x200B; &#x200B; &lt;docker.image.prefix&gt;xdclass&lt;/docker.image.prefix&gt; &#x200B; &#x200B; &#x200B; docker-demo &#x200B; &#x200B; &#x200B; com.spotify &#x200B; dockerfile-maven-plugin &#x200B; 1.3.6 &#x200B; &#x200B; ${docker.image.prefix}/${project.artifactId} &#x200B; &#x200B; target/${project.build.finalName}.jar &#x200B; &#x200B; &#x200B; &#x200B; &#x200B; &#x200B; 2&#x3001;&#x65B0;&#x5EFA;Dockerfile &#x200B; FROM openjdk:8-jdk-alpine &#x200B; VOLUME /tmp &#x200B; ARG JAR_FILE &#x200B; COPY ${JAR_FILE} app.jar &#x200B; ENTRYPOINT [&#x201C;java&#x201D;,&#x201D;-jar&#x201D;,&#x201D;/app.jar&#x201D;] &#x200B; 3&#x3001;&#x6253;&#x5305;&#xFF1A; &#x200B; mvn install dockerfile:build &#x200B; 4&#x3001;&#x63A8;&#x9001;&#x963F;&#x91CC;&#x4E91;&#x955C;&#x50CF;&#x4ED3;&#x5E93; &#x200B; &#x963F;&#x91CC;&#x4E91;&#x955C;&#x50CF;&#x4ED3;&#x5E93;&#xFF1A;https://dev.aliyun.com/search.html docker tag 062d2ddf272a registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825 docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825 docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:eureka-v20180825 &#x200B; 5&#x3001;&#x67E5;&#x770B;&#x65E5;&#x5FD7; docker logs -f containerid &#x200B; &#x7B2C;4&#x8BFE; &#x5B9E;&#x6218;&#x7CFB;&#x5217;&#x4E4B;&#x90E8;&#x7F72;RabbitMQ&#x548C;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x6253;&#x5305;Docker&#x955C;&#x50CF; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4F7F;&#x7528;Docker&#x6253;&#x5305;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF0C;&#x548C;&#x90E8;&#x7F72;RabbitMQ &#x200B; 1&#x3001;&#x670D;&#x52A1;&#x5730;&#x5740; ssh root@47.106.120.173 &#x200B; &#x90E8;&#x7F72; rabbitmq&#xFF1A; docker run -d -p 5672:5672 -p 15672:15672 rabbitmq:management &#x200B; 2&#x3001;&#x63A8;&#x9001;&#x955C;&#x50CF; &#x200B; docker tag 0f636543904e registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 &#x200B; docker push registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 &#x200B; docker pull registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180825 &#x200B; 5&#x3001;&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x5904;&#x7406;&#x4E4B;&#x5347;&#x7EA7;&#x4E91;&#x670D;&#x52A1;&#x5668; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x5904;&#x7406;&#x4E0A;&#x8282;&#x8BFE;&#x51FA;&#x73B0;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5347;&#x7EA7;&#x670D;&#x52A1;&#x5668;&#x6CE8;&#x610F;&#x4E8B;&#x9879; &#x200B; 1&#x3001;&#x5347;&#x7EA7;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x914D;&#x7F6E;&#xFF08;&#x8D2D;&#x4E70;&#x914D;&#x7F6E;&#x540E;&#x9700;&#x8981;&#x91CD;&#x542F;&#x673A;&#x5668;&#x624D;&#x751F;&#x6548;&#xFF09; &#x200B; &#x200B; 2&#x3001;&#x542F;&#x52A8;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x9700;&#x8981;&#x5F00;&#x542F;docker &#x200B; &#x6307;&#x4EE4;&#xFF1A; systemctl start docker &#x200B; 3&#x3001;&#x6240;&#x6709;&#x5BF9;&#x5916;&#x7684;&#x90FD;&#x8981;&#x7ECF;&#x8FC7;&#x7F51;&#x5173;&#x624D;&#x53EF;&#x4EE5;&#x5BF9;&#x5916;&#xFF0C;&#x5E94;&#x7528;&#x95F4;&#x901A;&#x4FE1;(&#x9664;&#x975E;&#x8DE8;&#x673A;&#x623F;)&#x90FD;&#x7528;&#x5185;&#x7F51;&#x901A;&#x4FE1; &#x200B; 6&#x3001;&#x5B9E;&#x6218;&#x7CFB;&#x5217;&#x4E4B;Docker&#x90E8;&#x7F72;Redis &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x4F7F;&#x7528;Docker&#x5B89;&#x88C5;redis &#x200B; 1&#x3001;&#x641C;&#x7D22;&#x955C;&#x50CF; docker search redis &#x200B; &#x200B; 2&#x3001;&#x62C9;&#x53D6; docker pull docker.io/redis &#x200B; &#x200B; 3&#x3001;&#x542F;&#x52A8; docker run &#x2013;name &#x201C;xd_redis&#x201D; -p 6379:6379 -d 4e8db158f18d &#x200B; &#x53C2;&#x8003;&#xFF1A; &#x200B; docker run &#x2013;name &#x201C;xd_redis&#x201D; -p 6379:6379 -d 4e8db158f18d &#x2013;requirepass &#x201C;123456&#x201D; -v $PWD/data:/data &#x200B; &#x200B; 4&#x3001;&#x8BBF;&#x95EE;redis&#x5BB9;&#x5668;&#x91CC;&#x9762;&#xFF0C;&#x8FDB;&#x884C;&#x64CD;&#x4F5C; &#x200B; docker exec -it 295058d2b92e redis-cli &#x200B; 7&#x3001;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x4E4B;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x8BBF;&#x95EE; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x90E8;&#x7F72;&#x5E38;&#x89C1;&#x95EE;&#x9898;&#xFF0C;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x8BBF;&#x95EE;&#x8DEF;&#x5F84;&#x53D8;&#x5316; &#x200B; &#x200B; 1&#x3001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x8BBF;&#x95EE;&#x51FA;&#x9519;&#xFF0C;&#x8DEF;&#x5F84;&#x4E0D;&#x5BF9; &#x200B; &#x200B; &#x89E3;&#x51B3;&#xFF1A;&#x4FEE;&#x6539;&#x6240;&#x6709;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x589E;&#x52A0;&#x4E0B;&#x9762;&#x914D;&#x7F6E; &#x200B; instance: &#x200B; instance-id: ${spring.cloud.client.ip-address}:${server.port} &#x200B; prefer-ip-address: true &#x200B; docker tag 50a12cd66210 registry.cn-shenzhen.aliyuncs.com/xdclass/xdclass_images:config-server-v20180826 &#x200B; 8&#x3001;&#x5B9E;&#x6218;&#x7CFB;&#x5217;&#x4E4B;&#x6253;&#x5305;Docker&#x955C;&#x50CF;&#x6253;&#x5305;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x548C;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x3001;&#x7F51;&#x5173; &#x200B; &#x7B80;&#x4ECB;:&#x6253;&#x5305;Docker&#x955C;&#x50CF;&#x90E8;&#x7F72;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x548C;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x3001;&#x7F51;&#x5173; &#x200B; &#x200B; &#x6CE8;&#x610F;&#xFF1A; &#x200B; mvn install -Dmaven.test.skip=true dockerfile:build &#x200B; 2&#x3001;&#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0D;&#x80FD;&#x7528;localhost &#x6216;&#x8005; 127.0.0.1, &#x4E00;&#x5B9A;&#x8981;&#x7528;&#x5185;&#x7F51;&#x901A;&#x4FE1;ip (&#x865A;&#x62DF;&#x4E3B;&#x673A;&#x6620;&#x5C04; hosts) &#x200B; 9&#x3001;&#x5B9E;&#x6218;&#x7CFB;&#x5217;&#x4E91;&#x670D;&#x52A1;&#x5668;&#x90E8;&#x7F72;&#x7F51;&#x5173;&#x3001;&#x8BA2;&#x5355;&#x3001;&#x5546;&#x54C1;&#x670D;&#x52A1; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x4E91;&#x670D;&#x52A1;&#x90E8;&#x7F72;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x3001;&#x8BA2;&#x5355;&#x670D;&#x52A1;&#x3001;&#x7F51;&#x5173;&#x670D;&#x52A1; &#x200B; 1&#x3001;&#x62C9;&#x53D6;&#x955C;&#x50CF;&#x3001;&#x542F;&#x52A8; &#x200B; &#x8BBF;&#x95EE;&#x8DEF;&#x5F84; &#x200B; http://47.106.120.173:8781/api/v1/order/save?product_id=5&amp;user_id=5 &#x200B; http://47.106.120.173:9000/apigateway/order/api/v1/order/save?user_id=5&amp;product_id=3&amp;token=232serer &#x7B2C;&#x5341;&#x56DB;&#x7AE0; &#x8BFE;&#x7A0B;&#x603B;&#x7ED3;&#x548C;&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x5904;&#x7406; &#x200B; 1&#x3001;SpringCloud&#x5FAE;&#x670D;&#x52A1;&#x5E38;&#x89C1;&#x95EE;&#x9898;&#x548C;&#x89E3;&#x51B3;&#x601D;&#x8DEF; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;SpringCloud&#x5F00;&#x53D1;&#x5B9E;&#x6218;&#x5E38;&#x89C1;&#x95EE;&#x9898;&#xFF0C;&#x53CA;&#x89E3;&#x51B3;&#x601D;&#x8DEF; &#x200B; 1&#x3001;&#x6280;&#x672F;&#x9009;&#x62E9;&#xFF1A;SpringCloud&#x5168;&#x5BB6;&#x6876;&#xFF0C;&#x6BCF;&#x4E2A;&#x7EC4;&#x4EF6;&#x53C8;&#x6709;&#x591A;&#x4E2A;&#x66FF;&#x4EE3;&#xFF0C;&#x6539;&#x600E;&#x4E48;&#x9009;&#x62E9; &#x200B; 1&#xFF09;&#x9009;&#x62E9;&#x7684;&#x65F6;&#x5019;&#x6839;&#x636E;&#x516C;&#x53F8;&#x91CC;&#x9762;&#x56E2;&#x961F;&#x4EBA;&#x5458;&#x719F;&#x6089;&#x7A0B;&#x5EA6;&#xFF0C;&#x964D;&#x4F4E;&#x5B66;&#x4E60;&#x6210;&#x672C; &#x200B; 2&#xFF09;&#x9009;&#x62E9;&#x793E;&#x533A;&#x6D3B;&#x8DC3;&#x7684;&#x5E76;&#x4E14;&#x6587;&#x6863;&#x76F8;&#x5BF9;&#x8F83;&#x591A;&#x7684;&#xFF0C;&#x600E;&#x4E48;&#x5224;&#x65AD;&#x6D3B;&#x8DC3;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;github&#x4E0A;&#x4EE3;&#x7801;&#x63D0;&#x4EA4;&#x548C;start&#x6570; &#x200B; &#x200B; 2&#x3001;&#x4E91;&#x670D;&#x52A1;&#x9009;&#x62E9;&#xFF1A; &#x817E;&#x8BAF;&#x4E91;&#xFF0C;&#x963F;&#x91CC;&#x4E91; &#xFF0C;&#x9047;&#x5230;&#x95EE;&#x9898;&#x53EF;&#x4EE5;&#x63D0;&#x4EA4;&#x5DE5;&#x5355;&#xFF0C;&#x6709;&#x4E13;&#x4EBA;&#x8DDF;&#x8FDB; &#x200B; &#x200B; 3&#x3001;&#x90E8;&#x7F72;&#x4E86;&#x5E94;&#x7528;&#xFF0C;&#x4F46;&#x662F;&#x8BBF;&#x95EE;&#x4E0D;&#x4E86; &#x200B; &#x89E3;&#x51B3;&#x601D;&#x8DEF;&#xFF1A; &#x200B; 1)&#x67E5;&#x770B;&#x5E94;&#x7528;&#x542F;&#x52A8;&#x662F;&#x5426;&#x6B63;&#x5E38;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#xFF0C;&#x590D;&#x5236;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x53BB;&#x767E;&#x5EA6;&#x641C;&#x7D22;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#xFF01;&#x7279;&#x522B;&#x91CD;&#x8981; &#x200B; &#x200B; 2&#xFF09;&#x542F;&#x52A8;&#x6B63;&#x5E38;&#xFF0C;&#x5219;&#x5148;&#x5728;&#x672C;&#x673A;&#x4F7F;&#x7528; CURL &#x201C;http://lcoalhost:8080/api/v1/user/find&quot; &#x8BBF;&#x95EE;&#x5BF9;&#x5E94;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x770B;&#x662F;&#x5426;&#x6709;&#x54CD;&#x5E94; &#x200B; 3&#xFF09;&#x542F;&#x52A8;&#x6B63;&#x5E38;&#xFF0C;&#x4E14;curl&#x6709;&#x54CD;&#x5E94;&#xFF0C;&#x5219;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x6709;&#x5173;&#x95ED;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x6216;&#x8005;&#x5F00;&#x653E;&#x5BF9;&#x5E94;&#x7684;&#x8BBF;&#x95EE;&#x7AEF;&#x53E3;&#xFF0C;&#x5F00;&#x653E;&#x7AEF;&#x53E3;&#x624D;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE; &#x200B; 4&#xFF09;&#x817E;&#x8BAF;&#x4E91;&#x548C;&#x963F;&#x91CC;&#x4E91;&#x90FD;&#x662F;&#x6709;&#x5B89;&#x5168;&#x7EC4;&#xFF0C;&#x7C7B;&#x4F3C;&#x5916;&#x5C42;&#x9632;&#x706B;&#x5899;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x53BB;web&#x63A7;&#x5236;&#x53F0;&#x68C0;&#x67E5;&#x662F;&#x5426;&#x6709;&#x5F00;&#x542F;&#x7AEF;&#x53E3; &#x200B; 4&#x3001;&#x5185;&#x7F51;&#x548C;&#x5916;&#x7F51;&#x8BBF;&#x95EE;&#xFF0C;&#x9274;&#x6743;&#x95EE;&#x9898;&#x5B89;&#x5168;&#x95EE;&#x9898; &#x200B; 1&#xFF09;&#x6240;&#x6709;&#x5E94;&#x7528;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x7F51;&#x5173;&#x63D0;&#x4F9B;&#x5BF9;&#x5916;&#x8BBF;&#x95EE;&#x7684;&#x5165;&#x53E3; &#x200B; 2&#xFF09;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x4E4B;&#x95F4;&#x901A;&#x8BAF;&#xFF0C;&#x91C7;&#x7528;&#x5185;&#x7F51; &#x200B; 5&#x3001;&#x7A0B;&#x5E8F;&#x51FA;&#x9519;&#x6216;&#x8005;&#x5F02;&#x5E38;: &#x590D;&#x5236;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;&#x53BB;&#x767E;&#x5EA6;&#x641C;&#x7D22;&#xFF0C;&#x7F51;&#x4E0A;&#x6709;&#x5F88;&#x591A;&#x4EBA;&#x4F1A;&#x9047;&#x5230;&#x7C7B;&#x4F3C;&#x7684;&#x9519;&#x8BEF;&#xFF0C;&#x591A;&#x79EF;&#x7D2F;&#xFF0C;&#x7279;&#x522B;&#x5F3A;&#x8C03; &#x200B; 2&#x3001;&#x8BFE;&#x7A0B;&#x603B;&#x7ED3;&#x548C;&#x540E;&#x7EED;&#x6280;&#x672F;&#x89C4;&#x5212; &#x200B; &#x7B80;&#x4ECB;&#xFF1A;&#x603B;&#x7ED3;SpringCloud&#x8BFE;&#x7A0B;&#x548C;&#x5FAE;&#x670D;&#x52A1;&#x540E;&#x7EED;&#x8BFE;&#x7A0B;&#x89C4;&#x5212; &#x200B; 1&#x3001;springCloud&#x5168;&#x5BB6;&#x6876;&#xFF0C;&#x6280;&#x672F;&#x9009;&#x62E9;&#x548C;&#x77E5;&#x8BC6;&#x70B9;&#x7279;&#x522B;&#x591A;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x5B66;&#x4F1A;&#x8BB0;&#x7B14;&#x8BB0;&#xFF0C;&#x5FAE;&#x670D;&#x52A1;&#x66F4;&#x591A;&#x5173;&#x6CE8;&#x7684;&#x662F;&#x91CC;&#x9762;&#x67B6;&#x6784;&#x548C;&#x6570;&#x636E;&#x6D41;&#x8F6C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5177;&#x4F53;&#x7684;&#x4E1A;&#x52A1;&#x3002; &#x200B; 2&#x3001;SpringCloud&#x67B6;&#x6784;&#x8FD9;&#x4E9B;&#x914D;&#x7F6E;&#xFF0C;&#x4E00;&#x822C;&#x4F7F;&#x7528;&#x4E00;&#x6B21;&#x540E;&#x5C31;&#x4E0D;&#x4F1A;&#x591A;&#x6B21;&#x4FEE;&#x6539;&#x4E86;&#xFF0C;&#x8FDB;&#x5165;&#x516C;&#x53F8;&#x4E3B;&#x8981;&#x8FD8;&#x662F;&#x5F00;&#x53D1;&#x4E1A;&#x52A1;&#xFF0C;&#x4E1A;&#x52A1;&#x5F00;&#x53D1;&#x4E00;&#x822C;&#x90FD;&#x7528;springboot&#xFF0C;&#x6BD4;&#x8F83;&#x5C11;&#x8BA9;&#x65B0;&#x4EBA;&#x642D;&#x5EFA;SpringCloud&#x7684;&#x67B6;&#x6784; &#x200B; 3&#x3001;&#x5F00;&#x53D1;&#x4E1A;&#x52A1;&#xFF0C;&#x65E0;&#x975E;&#x5C31;&#x662F;CRUD&#xFF0C;&#x589E;&#x5220;&#x6539;&#x67E5;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x521D;&#x7EA7;&#x548C;&#x9AD8;&#x7EA7;&#x7684;&#x533A;&#x522B;&#xFF0C;&#x5C01;&#x88C5;&#x6210;&#x901A;&#x7528;&#x548C;&#x4E0D;&#x901A;&#x7528;&#x7684;&#x533A;&#x522B; &#x200B; &#x200B; 4&#x3001;&#x5FAE;&#x670D;&#x52A1;&#x548C;&#x5BB9;&#x5668;&#x76DB;&#x884C;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5BB9;&#x5668;&#x7F16;&#x6392;&#x548C;&#x81EA;&#x52A8;&#x7F29;&#x6269;&#x5BB9;&#x8D8A;&#x6765;&#x8D8A;&#x91CD;&#x8981; &#x6CE8;&#x518C;&#x65F6;&#x628A;&#x53D1;&#x9001;&#x77ED;&#x4FE1;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x670D;&#x52A1; serverless&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7528;&#x6237;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x8BA9;&#x8FD9;&#x4E2A;&#x670D;&#x52A1;&#x505C;&#x4E0B;&#x6765;&#x4E00;&#x4E01;&#x70B9;&#x8D44;&#x6E90;&#x90FD;&#x4E0D;&#x5360;&#x7528;,&#x5982;&#x679C;&#x7528;&#x6237;&#x7A81;&#x7136;&#x591A;&#x8FC7;&#x6765;,&#x52A0;&#x5165;&#x6B63;&#x5E38;&#x662F;2&#x53F0;&#x7684;&#x8BDD;,&#x5B83;&#x53EF;&#x4EE5;&#x81EA;&#x52A8;&#x6269;&#x5BB9;&#x6210;5&#x53F0;,&#x7136;&#x540E;&#x6D41;&#x91CF;&#x964D;&#x4E0B;&#x6765;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53C8;&#x6062;&#x590D;&#x6210;&#x4E24;&#x53F0;. &#x200B; &#x53EF;&#x4EE5;&#x5173;&#x6CE8;&#xFF1A;k8s / service mesh /server less &#x7B49;&#x6280;&#x672F; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>springcloud</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[dubbo]]></title>
    <url>%2Fdubbo%2F2019%2F03%2F09%2Fdubbo.html</url>
    <content type="text"><![CDATA[dubbo&#x5B98;&#x65B9;&#x6587;&#x6863;:http://dubbo.apache.org/en-us/What is dubbo?Apache Dubbo&#x2122; (incubating) is a high-performance, java based open source RPC framework.&#x7B2C;&#x4E00;&#x7AE0; &#x5FAE;&#x670D;&#x52A1;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x67B6;&#x6784;&#x4E4B;zookeeper&#x4E0E;dubbo&#x4ECB;&#x7ECD;&#x7B2C;&#x4E00;&#x8282; &#x6280;&#x672F;&#x9009;&#x578B;&#x548C;&#x5B66;&#x540E;&#x6C34;&#x5E73;&#x6280;&#x672F;&#x9009;&#x578B; 1&#x3001;IDEA JDK8 Maven SpringBoot&#x57FA;&#x7840; linux&#xFF08;centos7&#xFF09; dubbo virtualbox 2&#x3001;&#x7406;&#x89E3;&#x638C;&#x63E1;&#x5E76;&#x4F7F;&#x7528;dubbo&#x8282;&#x6210;springboot&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#xFF0C;&#x5BF9;&#x4E8E;zookeeper&#x6709;&#x4E00;&#x5B9A;&#x4E86;&#x89E3; 3&#x3001;&#x638C;&#x63E1;&#x5B66;&#x4E60;&#x7684;&#x6280;&#x5DE7;&#x548C;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x7684;&#x601D;&#x8DEF; &#x7B2C;&#x4E8C;&#x7AE0; &#x4E92;&#x8054;&#x7F51;&#x67B6;&#x6784;&#x6F14;&#x8FDB;&#x548C;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x7B2C;&#x4E00;&#x8282; &#x4F20;&#x7EDF;&#x4E92;&#x8054;&#x7F51;&#x67B6;&#x6784;&#x5230;&#x5206;&#x5E03;&#x5F0F;&#x67B6;&#x6784;&#x7684;&#x67B6;&#x6784;&#x6F14;&#x53D8;&#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x5355;&#x673A;&#x5E94;&#x7528;&#x548C;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x67B6;&#x6784;&#x6F14;&#x8FDB;&#x57FA;&#x7840;&#x77E5;&#x8BC6; &#x4E92;&#x8054;&#x7F51;&#x65F6;&#x4EE3;&#x6F14;&#x53D8;&#x8FC7;&#x7A0B; pc&#x65F6;&#x4EE3;&#x2013;&gt;&#x79FB;&#x52A8;&#x4E92;&#x8054;&#x7F51;&#x65F6;&#x4EE3;&#x2013;&gt;&#x7269;&#x8054;&#x7F51;&#x65F6;&#x4EE3; &#x4E92;&#x8054;&#x7F51;&#x67B6;&#x6784;&#x6F14;&#x53D8;&#x8FC7;&#x7A0B; &#x4F20;&#x7EDF;&#x5355;&#x4F53;&#x67B6;&#x6784;:&#x4F20;&#x7EDF;&#x5355;&#x4F53;&#x67B6;&#x6784;&#x7684;&#x6269;&#x5C55;:&#x5355;&#x4F53;&#x67B6;&#x6784;&#x89E3;&#x8026;:&#x5F02;&#x6B65;&#x67B6;&#x6784;:SOA&#x67B6;&#x6784;:&#x5FAE;&#x670D;&#x52A1;&#x67B6;&#x6784;: &#x4F20;&#x7EDF;&#x5355;&#x4F53;&#x5E94;&#x7528; &#x7F3A;&#x70B9;&#xFF1A;&#x7CFB;&#x7EDF;&#x8026;&#x5408;&#x5EA6;&#x9AD8; &#x200B; &#x5F00;&#x53D1;&#x6548;&#x7387;&#x968F;&#x7740;&#x65F6;&#x95F4;&#x7684;&#x589E;&#x957F;&#x800C;&#x964D;&#x4F4E; &#x200B; &#x542F;&#x52A8;&#x5E94;&#x7528;&#x7684;&#x65F6;&#x95F4;&#x957F; &#x200B; &#x4F9D;&#x8D56;&#x5E9E;&#x5927; &#x200B; &#x7B49;&#x7B49; &#x9002;&#x7528;&#x573A;&#x666F;&#xFF1A;&#x521D;&#x521B;&#x516C;&#x53F8;&#x3001;&#x4E1A;&#x52A1;&#x573A;&#x666F;&#x7B80;&#x5355;&#x3001;&#x529F;&#x80FD;&#x5355;&#x4E00;&#x3001;&#x7814;&#x53D1;&#x4EBA;&#x5458;&#x8F83;&#x5C11; &#x5FAE;&#x670D;&#x52A1; &#x4F18;&#x70B9;&#xFF1A;&#x6613;&#x5F00;&#x53D1;&#x3001;&#x7406;&#x89E3;&#x3001;&#x7EF4;&#x62A4;&#x72EC;&#x7ACB;&#x90E8;&#x7F72;&#x548C;&#x542F;&#x52A8; &#x4E0D;&#x8DB3;&#xFF1A; &#x9700;&#x8981;&#x7BA1;&#x7406;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x3001;&#x5728;&#x67B6;&#x6784;&#x7684;&#x5C42;&#x9762;&#x53D8;&#x5F97;&#x590D;&#x6742; &#x670D;&#x52A1;&#x5207;&#x5206;&#x4E4B;&#x540E;&#x3001;&#x670D;&#x52A1;&#x4E4B;&#x95F4;&#x7684;&#x8C03;&#x7528;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x53BB;&#x89E3;&#x51B3;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;&#x7684;&#x95EE;&#x9898; &#x7B2C;&#x4E8C;&#x8282; &#x5FAE;&#x670D;&#x52A1;&#x6838;&#x5FC3;&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x8BB2;&#x89E3;&#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x5FAE;&#x670D;&#x52A1;&#x6838;&#x5FC3;&#x77E5;&#x8BC6; &#xFF1A;&#x7F51;&#x5173;&#x3001;&#x670D;&#x52A1;&#x53D1;&#x73B0;&#x6CE8;&#x518C;&#x3001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x3001;&#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#x3001;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#x3001;&#x7194;&#x65AD; &#x7F51;&#x5173;&#xFF1A;&#x8DEF;&#x7531;&#x8F6C;&#x53D1; + &#x8FC7;&#x6EE4;&#x5668; /api/v1/pruduct/ &#x5546;&#x54C1;&#x670D;&#x52A1; &#x200B; /api/v1/order/ &#x8BA2;&#x5355;&#x670D;&#x52A1; &#x200B; /api/v1/user/ &#x7528;&#x6237;&#x670D;&#x52A1; &#x670D;&#x52A1;&#x6CE8;&#x518C;&#x53D1;&#x73B0;&#xFF1A;&#x8C03;&#x7528;&#x548C;&#x88AB;&#x8C03;&#x7528;&#x65B9;&#x7684;&#x4FE1;&#x606F;&#x7EF4;&#x62A4; &#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF1A;&#x7BA1;&#x7406;&#x914D;&#x7F6E;&#xFF0C;&#x52A8;&#x6001;&#x66F4;&#x65B0; application.properties &#x94FE;&#x8DEF;&#x8FFD;&#x8E2A;&#xFF1A;&#x5206;&#x6790;&#x8C03;&#x7528;&#x94FE;&#x8DEF;&#x8017;&#x65F6; &#x4F8B;&#x5B50;&#xFF1A;&#x4E0B;&#x5355;-&#x300B;&#x67E5;&#x8BE2;&#x5546;&#x54C1;&#x670D;&#x52A1;&#x83B7;&#x53D6;&#x5546;&#x54C1;&#x4EF7;&#x683C;-&#x300B;&#x67E5;&#x8BE2;&#x7528;&#x6237;&#x4FE1;&#x606F;-&#x300B;&#x4FDD;&#x5B58;&#x6570;&#x636E;&#x5E93; &#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x5668;&#xFF1A;&#x5206;&#x53D1;&#x8D1F;&#x8F7D; &#x7194;&#x65AD;&#xFF1A;&#x4FDD;&#x62A4;&#x81EA;&#x5DF1;&#x548C;&#x88AB;&#x8C03;&#x7528;&#x65B9; &#x7B2C;&#x4E09;&#x8282; dubbo&#x7684;&#x574E;&#x5777;&#x5386;&#x7A0B;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;dubbo&#x7684;&#x76F8;&#x5173;&#x5386;&#x53F2;&#xFF0C;&#x5BF9;dubbo&#x5F62;&#x6210;&#x521D;&#x6B65;&#x8BA4;&#x77E5;2011&#x5E74;&#x7531;&#x963F;&#x91CC;&#x5F00;&#x6E90;dubbo&#x9996;&#x4E2A;&#x7248;&#x672C; &#x2013;dubbo-2.0.7&#x968F;&#x540E;&#x66F4;&#x65B0;&#x7EF4;&#x62A4;&#x9891;&#x7E41;&#x76F4;&#x5230;2014&#x5E74;&#x53D1;&#x5E03; dubbo-2.4.11&#x4E4B;&#x540E;&#xFF0C;&#x5728;&#x4E4B;&#x540E;&#x7684;&#x51E0;&#x5E74;&#x91CC;&#xFF0C;&#x51E0;&#x4E4E;&#x6CA1;&#x89C1;&#x5230;&#x66F4;&#x65B0;&#x540C;&#x671F;springboot&#x3001;springcloud&#x51FA;&#x73B0;&#x2018;&#x6D88;&#x6C89;&#x4E86;&#x5F88;&#x957F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x540E;&#x2019;&#xFF0C;dubbo&#x4E8E;2017&#x5E74;&#xFF0C;&#x51E4;&#x51F0;&#x78D0;&#x6D85;&#xFF0C;&#x6D74;&#x706B;&#x91CD;&#x751F;,&#x6350;&#x732E;&#x7ED9;Apache &#x7B2C;&#x56DB;&#x8282; dubbo&#x4E0E;spring-cloud&#x6BD4;&#x8F83;&#x7B80;&#x4ECB;&#xFF1A;&#x5BF9;&#x76EE;&#x524D;&#x4E3B;&#x6D41;&#x5FAE;&#x670D;&#x52A1;&#x6846;&#x67B6;&#x8FDB;&#x884C;&#x5BF9;&#x6BD4;&#xFF0C;&#x7ED9;&#x6280;&#x672F;&#x9009;&#x578B;&#x63D0;&#x4F9B;&#x76F8;&#x5E94;&#x7684;&#x53C2;&#x8003; dubbo: zookeeper + dubbo + springmvc/springboot &#x5B98;&#x65B9;&#x5730;&#x5740;&#xFF1A;http://dubbo.apache.org/#!/?lang=zh-cn &#x200B; &#x914D;&#x5957; &#x200B; &#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF1A;rpc &#x6027;&#x80FD;&#x9AD8; &#x200B; &#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF1A;zookeper/redis &#x200B; &#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF1A;diamond&#xFF08;&#x4F01;&#x4E1A;&#x5F88;&#x5C11;&#x7528;&#xFF09; springcloud: &#x5168;&#x5BB6;&#x6876;+&#x8F7B;&#x677E;&#x5D4C;&#x5165;&#x7B2C;&#x4E09;&#x65B9;&#x7EC4;&#x4EF6;(Netflix &#x5948;&#x98DE;) &#x5B98;&#x7F51;&#xFF1A;http://projects.spring.io/spring-cloud/ &#x200B; &#x914D;&#x5957; &#x200B; &#x901A;&#x4FE1;&#x65B9;&#x5F0F;&#xFF1A;http restful &#x200B; &#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF1A;eruka/consul &#x200B; &#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF1A;config &#x200B; &#x65AD;&#x8DEF;&#x5668;&#xFF1A;hystrix &#x200B; &#x7F51;&#x5173;&#xFF1A;zuul &#x200B; &#x5206;&#x5E03;&#x5F0F;&#x8FFD;&#x8E2A;&#x7CFB;&#x7EDF;&#xFF1A;sleuth+zipkin &#x7B2C;&#x4E09;&#x7AE0; &#x8BFE;&#x7A0B;&#x57FA;&#x7840;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x7B2C;&#x4E00;&#x8282; virtualbox&#x7684;&#x4E0B;&#x8F7D;&#x5B89;&#x88C5;&#x4ECB;&#x7ECD;virtualbox&#x7684;&#x4E0B;&#x8F7D;&#x53CA;&#x5B89;&#x88C5;&#x4E0B;&#x8F7D;&#x5730;&#x5740; https://download.virtualbox.org/virtualbox/5.2.22/VirtualBox-5.2.22-126460-Win.exe &#x7B2C;&#x4E8C;&#x8282; virtualbox&#x4E0B;&#x5B89;&#x88C5;centos7&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;virtualbox&#x4E0B;&#x5B89;&#x88C5;centos7&#x865A;&#x62DF;&#x673A;centos7&#x4E0B;&#x8F7D;&#x5730;&#x5740;&#xFF1A;http://mirrors.umflint.edu/CentOS/7.5.1804/isos/x86_64/CentOS-7-x86_64-Minimal-1804.iso &#x7B2C;&#x4E09;&#x8282; &#x914D;&#x7F6E;&#x865A;&#x62DF;&#x673A;&#x7F51;&#x7EDC;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x600E;&#x4E48;&#x5728;&#x914D;&#x7F6E;&#x865A;&#x62DF;&#x673A;&#x7F51;&#x7EDC;&#xFF0C;&#x8FBE;&#x5230;&#x5BBF;&#x4E3B;&#x673A;&#x4E0E;&#x865A;&#x62DF;&#x673A;&#x4E92;&#x901A; &#x4E3B;&#x673A;&#x7F51;&#x7EDC;&#x7BA1;&#x7406; &#x8BB0;&#x4F4F;ipv4&#x63A9;&#x7801; 192.1.1.1 &#x4E3A;&#x865A;&#x62DF;&#x673A;&#x5206;&#x914D;IP&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5C31;&#x5728;192.1.1 &#x8FD9;&#x4E2A;&#x4E0A;&#x9762;&#x5206;&#x914D;ip&#x5730;&#x5740; &#x8BBE;&#x7F6E;&#x2013;&#x300B;&#x7F51;&#x7EDC;&#x2013;&#x300B;&#x542F;&#x52A8;&#x7F51;&#x5361;2&#x2013;&#x300B;&#x9009;&#x62E9;hostOnly &#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A; cd /etc/sysconfig/network-scripts/ &#x200B; vi ifcfg-enp0s3 &#x200B; ONBOOT=yes &#x200B; cp ifcfg-enp0s3 ifcfg-enp0s8 &#x200B; vi ifcfg-enp0s8 &#x200B; TYPE=Ethernet &#x200B; BOOTPROTO=static &#x200B; IPADDR=192.1.1.101 &#x200B; NETMASK=255.255.255.0 &#x200B; NAME=enp0s8 &#x200B; DEVICE=enp0s8 &#x200B; ONBOOT=yes &#x200B; service network restart &#x7B2C;&#x56DB;&#x8282; &#x5B9E;&#x6218;&#x2013;linux&#x4E0A;&#x5B89;&#x88C5;java&#x73AF;&#x5883;&#x4E0B;&#x8F7D;jdk8 https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html &#x914D;&#x7F6E;&#x73AF;&#x5883;&#x53D8;&#x91CF; tar -zxvf jdk-8u191-linux-x64.tar.gzmv jdk1.8.0_191/ /usr/local/ &#x200B;yum install vimvim /etc/profile &#x5728;&#x6587;&#x4EF6;&#x7684;&#x6700;&#x540E;&#x9762;&#x52A0;&#x4E0A;&#x4E0B;&#x9762;&#x51E0;&#x884C; JAVA_HOME=/usr/local/jdk1.8.0_191 JRE_HOME=$JAVA_HOME/jre PATH=$JAVA_HOME/bin:$PATH export PATH&#x6FC0;&#x6D3B;&#x914D;&#x7F6E; source /etc/profile &#x7B2C;&#x4E94;&#x8282; &#x514B;&#x9686;&#x591A;&#x53F0;&#x865A;&#x62DF;&#x673A;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x4F7F;&#x7528;virtualbox&#x7684;&#x514B;&#x9686;&#x529F;&#x80FD;&#xFF0C;&#x5FEB;&#x901F;&#x514B;&#x9686;&#x591A;&#x53F0;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x4ECE;&#x800C;&#x5E26;&#x5230;&#x6A21;&#x62DF;&#x8282;&#x7FA4;&#x7684;&#x6548;&#x679C; &#x5728;&#x5DF2;&#x5B89;&#x88C5;&#x7684;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x914D;&#x7F6E;hosts vim /etc/hosts &#x200B; &#x5728;&#x6700;&#x4E0B;&#x9762;&#xFF0C;&#x589E;&#x52A0; &#x200B; 192.1.1.101 demo1 &#x200B; 192.1.1.102 demo2 &#x200B; 192.1.1.103 demo3 &#x200B; &#x4FDD;&#x5B58;&#x9000;&#x51FA;&#x4E4B;&#x540E;&#x7528;shutdown -h now &#x5173;&#x95ED;&#x865A;&#x62DF;&#x673A; &#x5728;virtualBox&#x4E0A;&#xFF0C;&#x70B9;&#x51FB;&#x7BA1;&#x7406;&#xFF0C;&#x5BFC;&#x51FA;&#x865A;&#x62DF;&#x7535;&#x8111;&#xFF0C;&#x9009;&#x62E9;&#x76F8;&#x5E94;&#x76EE;&#x5F55;&#x8FDB;&#x884C;&#x5BFC;&#x51FA; &#x5BFC;&#x51FA;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x70B9;&#x51FB;&#x7BA1;&#x7406;&#xFF0C;&#x5BFC;&#x5165;&#xFF0C;&#x9009;&#x62E9;&#x521A;&#x521A;&#x5BFC;&#x51FA;&#x7684;&#x6587;&#x4EF6; &#x6309;&#x6B65;&#x9AA4;2&#x5BFC;&#x5165;2&#x53F0;&#x865A;&#x62DF;&#x673A; &#x4FEE;&#x6539;&#x5404;&#x81EA;&#x7684;ip vim /etc/sysconfig/network-scripts/ifcfg-enp0s8 &#x4FEE;&#x6539;ip&#x4E4B;&#x540E; service network restart&#x2018; &#x7B2C;&#x56DB;&#x7AE0; &#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4E4B;zookeeper&#x7B2C;&#x4E00;&#x8282; &#x4EC0;&#x4E48;&#x662F;&#x5FAE;&#x670D;&#x52A1;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x4EC0;&#x4E48;&#x662F;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x5E38;&#x7528;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x6709;&#x54EA;&#x4E9B; &#x7406;&#x89E3;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF1A;&#x670D;&#x52A1;&#x7BA1;&#x7406;,&#x6838;&#x5FC3;&#x662F;&#x6709;&#x4E2A;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x8868;&#xFF0C;&#x5FC3;&#x8DF3;&#x673A;&#x5236;&#x52A8;&#x6001;&#x7EF4;&#x62A4; &#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;provider: &#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x5411;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4E0A;&#x62A5;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7EDC;&#x4FE1;&#x606F; &#x670D;&#x52A1;&#x6D88;&#x8D39;&#x8005;consumer: &#x542F;&#x52A8;&#x7684;&#x65F6;&#x5019;&#x5411;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4E0A;&#x62A5;&#x81EA;&#x5DF1;&#x7684;&#x7F51;&#x7EDC;&#x4FE1;&#x606F;&#xFF0C;&#x62C9;&#x53D6;provider&#x7684;&#x76F8;&#x5173;&#x7F51;&#x7EDC;&#x4FE1;&#x606F; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528; &#x5FAE;&#x670D;&#x52A1;&#x5E94;&#x7528;&#x548C;&#x673A;&#x5668;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x8C03;&#x7528;&#x65B9;&#x9700;&#x8981;&#x77E5;&#x9053;&#x63A5;&#x53E3;&#x7684;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x9760;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x65B9;&#x5F0F;&#x53BB;&#x63A7;&#x5236;&#x7F51;&#x7EDC;&#x5730;&#x5740;&#xFF0C;&#x5BF9;&#x4E8E;&#x52A8;&#x6001;&#x65B0;&#x589E;&#x673A;&#x5668;&#xFF0C;&#x7EF4;&#x62A4;&#x5E26;&#x6765;&#x5F88;&#x5927;&#x95EE;&#x9898; &#x4E3B;&#x6D41;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3; zookeeper&#x3001;Eureka&#x3001;consul&#x3001;etcd &#x7B49; &#x7B2C;&#x4E8C;&#x8282; &#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x77E5;&#x8BC6;CAP&#x7406;&#x8BBA;&#x77E5;&#x8BC6;&#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;&#x5206;&#x5E03;&#x5F0F;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;CAP&#x7406;&#x8BBA;&#xFF0C;&#x5305;&#x62EC;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x591A;&#x79CD;&#x5206;&#x7C7B;&#x7B49;&#x6838;&#x5FC3;&#x77E5;&#x8BC6; CAP&#x5B9A;&#x7406; &#x6307;&#x7684;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;Consistency&#xFF08;&#x4E00;&#x81F4;&#x6027;&#xFF09;&#x3001; Availability&#xFF08;&#x53EF;&#x7528;&#x6027;&#xFF09;&#x3001;Partition tolerance&#xFF08;&#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;&#xFF09;&#xFF0C;&#x4E09;&#x8005;&#x4E0D;&#x53EF;&#x540C;&#x65F6;&#x83B7;&#x5F97;&#x3002; &#x4E00;&#x81F4;&#x6027;&#xFF08;C&#xFF09;&#xFF1A;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x6570;&#x636E;&#x5907;&#x4EFD;&#xFF0C;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x523B;&#x662F;&#x5426;&#x540C;&#x6837;&#x7684;&#x503C;&#x3002;&#xFF08;&#x6240;&#x6709;&#x8282;&#x70B9;&#x5728;&#x540C;&#x4E00;&#x65F6;&#x95F4;&#x7684;&#x6570;&#x636E;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#xFF0C;&#x8D8A;&#x591A;&#x8282;&#x70B9;&#xFF0C;&#x6570;&#x636E;&#x540C;&#x6B65;&#x8D8A;&#x8017;&#x65F6;&#xFF09; &#x5F3A;&#x4E00;&#x81F4;&#x6027;&#xFF08;strong consistency&#xFF09;&#x3002;&#x4EFB;&#x4F55;&#x65F6;&#x523B;&#xFF0C;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x90FD;&#x80FD;&#x8BFB;&#x53D6;&#x5230;&#x6700;&#x8FD1;&#x4E00;&#x6B21;&#x6210;&#x529F;&#x66F4;&#x65B0;&#x7684;&#x6570;&#x636E;&#x3002; &#x200B; &#x5355;&#x8C03;&#x4E00;&#x81F4;&#x6027;&#xFF08;monotonic consistency&#xFF09;&#x3002;&#x4EFB;&#x4F55;&#x65F6;&#x523B;&#xFF0C;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x4E00;&#x65E6;&#x8BFB;&#x5230;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x5728;&#x67D0;&#x6B21;&#x66F4;&#x65B0;&#x540E;&#x7684;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x8BFB;&#x5230;&#x6BD4;&#x8FD9;&#x4E2A;&#x503C;&#x66F4;&#x65E7;&#x7684;&#x503C;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x53EF;&#x83B7;&#x53D6;&#x7684;&#x6570;&#x636E;&#x987A;&#x5E8F;&#x5FC5;&#x662F;&#x5355;&#x8C03;&#x9012;&#x589E;&#x7684;&#x3002; &#x4F1A;&#x8BDD;&#x4E00;&#x81F4;&#x6027;&#xFF08;session consistency&#xFF09;&#x3002;&#x4EFB;&#x4F55;&#x7528;&#x6237;&#x5728;&#x67D0;&#x6B21;&#x4F1A;&#x8BDD;&#x4E2D;&#xFF0C;&#x4E00;&#x65E6;&#x8BFB;&#x5230;&#x67D0;&#x4E2A;&#x6570;&#x636E;&#x5728;&#x67D0;&#x6B21;&#x66F4;&#x65B0;&#x540E;&#x7684;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x672C;&#x6B21;&#x4F1A;&#x8BDD;&#x4E2D;&#x5C31;&#x4E0D;&#x4F1A;&#x518D;&#x8BFB;&#x5230;&#x6BD4;&#x8FD9;&#x503C;&#x66F4;&#x65E7;&#x7684;&#x503C;&#x4F1A;&#x8BDD;&#x4E00;&#x81F4;&#x6027;&#x662F;&#x5728;&#x5355;&#x8C03;&#x4E00;&#x81F4;&#x6027;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x8FDB;&#x4E00;&#x6B65;&#x653E;&#x677E;&#x7EA6;&#x675F;&#xFF0C;&#x53EA;&#x4FDD;&#x8BC1;&#x5355;&#x4E2A;&#x7528;&#x6237;&#x5355;&#x4E2A;&#x4F1A;&#x8BDD;&#x5185;&#x7684;&#x5355;&#x8C03;&#x6027;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x7528;&#x6237;&#x6216;&#x540C;&#x4E00;&#x7528;&#x6237;&#x4E0D;&#x540C;&#x4F1A;&#x8BDD;&#x95F4;&#x5219;&#x6CA1;&#x6709;&#x4FDD;&#x969C;&#x3002; &#x6700;&#x7EC8;&#x4E00;&#x81F4;&#x6027;&#xFF08;eventual consistency&#xFF09;&#x3002;&#x7528;&#x6237;&#x53EA;&#x80FD;&#x8BFB;&#x5230;&#x67D0;&#x6B21;&#x66F4;&#x65B0;&#x540E;&#x7684;&#x503C;&#xFF0C;&#x4F46;&#x7CFB;&#x7EDF;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x5C06;&#x6700;&#x7EC8;&#x8FBE;&#x5230;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x53EA;&#x662F;&#x6240;&#x9700;&#x65F6;&#x95F4;&#x4E0D;&#x80FD;&#x4FDD;&#x969C;&#x3002; &#x5F31;&#x4E00;&#x81F4;&#x6027;&#xFF08;weak consistency&#xFF09;&#x3002;&#x7528;&#x6237;&#x65E0;&#x6CD5;&#x5728;&#x786E;&#x5B9A;&#x65F6;&#x95F4;&#x5185;&#x8BFB;&#x5230;&#x6700;&#x65B0;&#x66F4;&#x65B0;&#x7684;&#x503C;&#x3002; &#x53EF;&#x7528;&#x6027;&#xFF08;A&#xFF09;&#xFF1A;&#x8D1F;&#x8F7D;&#x8FC7;&#x5927;&#x540E;&#xFF0C;&#x8282;&#x7FA4;&#x6574;&#x4F53;&#x662F;&#x5426;&#x8FD8;&#x80FD;&#x54CD;&#x5E94;&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#x3002;&#xFF08;&#x670D;&#x52A1;&#x4E00;&#x76F4;&#x53EF;&#x7528;&#xFF0C;&#x800C;&#x4E14;&#x662F;&#x6B63;&#x5E38;&#x54CD;&#x5E94;&#x65F6;&#x95F4;&#xFF09;zookeper&#x4E3A;&#x4E86;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#x6027;&#x4F1A;&#x727A;&#x7272;&#x6389;&#x53EF;&#x7528;&#x6027;.&#x5047;&#x5982;&#x662F;&#x4E00;&#x4E2A;&#x9AD8;&#x8D1F;&#x8F7D;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#x670D;&#x52A1;&#x5668;down&#x6389;&#x4E86;,&#x90A3;&#x4E48;zookeeper&#x4F1A;&#x542F;&#x52A8;&#x81EA;&#x52A8;&#x9009;&#x4E3E;&#x673A;&#x5236;,&#x5728;&#x81EA;&#x52A8;&#x9009;&#x4E3E;&#x671F;&#x95F4;&#x662F;&#x4E0D;&#x5BF9;&#x5916;&#x63D0;&#x4F9B;&#x8BFB;&#x5199;&#x7684;.&#x6240;&#x4EE5;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x670D;&#x52A1;&#x4E00;&#x76F4;&#x53EF;&#x7528;. &#x5206;&#x533A;&#x5BB9;&#x9519;&#x6027;&#xFF08;P&#xFF09;&#xFF1A;&#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#xFF0C;&#x5C31;&#x662F;&#x9AD8;&#x53EF;&#x7528;&#x6027;&#xFF0C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x5D29;&#x4E86;&#xFF0C;&#x5E76;&#x4E0D;&#x5F71;&#x54CD;&#x5176;&#x5B83;&#x7684;&#x8282;&#x70B9;&#xFF08;100&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x6302;&#x4E86;&#x51E0;&#x4E2A;&#xFF0C;&#x4E0D;&#x5F71;&#x54CD;&#x670D;&#x52A1;&#xFF0C;&#x8D8A;&#x591A;&#x673A;&#x5668;&#x8D8A;&#x597D;&#xFF09; CAP&#x7406;&#x8BBA;&#x5C31;&#x662F;&#x8BF4;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x6700;&#x591A;&#x53EA;&#x80FD;&#x5B9E;&#x73B0;&#x4E0A;&#x9762;&#x7684;&#x4E24;&#x70B9;&#x3002;&#x800C;&#x7531;&#x4E8E;&#x5F53;&#x524D;&#x7684;&#x7F51;&#x7EDC;&#x786C;&#x4EF6;&#x80AF;&#x5B9A;&#x4F1A;&#x51FA;&#x73B0;&#x5EF6;&#x8FDF;&#x4E22;&#x5305;&#x7B49;&#x95EE;&#x9898;&#xFF0C;&#x6240;&#x4EE5;&#x5206;&#x533A;&#x5BB9;&#x5FCD;&#x6027;&#x662F;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x7684;&#x3002;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x53EA;&#x80FD;&#x5728;&#x4E00;&#x81F4;&#x6027;&#x548C;&#x53EF;&#x7528;&#x6027;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x6743;&#x8861; &#x7B2C;&#x4E09;&#x8282; win&#x3001;linux&#x53CC;&#x73AF;&#x5883;&#x5B89;&#x88C5;zookeeper&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x5728;windows&#x548C;linux&#x73AF;&#x5883;&#x4E0B;&#x9762;&#x5B89;&#x88C5;zookeeper&#xFF0C;&#x65B9;&#x4FBF;&#x5F00;&#x53D1;&#x8C03;&#x8BD5;&#x4EE5;&#x53CA;&#x6B63;&#x5F0F;&#x90E8;&#x7F72; &#x4E0B;&#x8F7D;zookeeper https://zookeeper.apache.org/ &#x914D;&#x7F6E;jdk &#x53C2;&#x8003;&#x4EE5;&#x4E0B;&#x535A;&#x5BA2;&#x914D;&#x7F6E; https://blog.csdn.net/qq_35246620/article/details/61208961 &#x89E3;&#x538B;&#x4E0B;&#x8F7D;&#x597D;&#x7684;zk &#x91CD;&#x547D;&#x540D;conf&#x76EE;&#x5F55;&#x4E0B;&#x7684;zoo_sample.cfg &#x6587;&#x4EF6;&#x4E3A;zoo.cfg &#x5E76;&#x4FEE;&#x6539;&#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9; &#x76F4;&#x63A5;&#x8FD0;&#x884C;bin&#x76EE;&#x5F55;&#x4E0B;&#x7684;zkServer&#xFF0C;&#x5355;&#x4E00;&#x5B9E;&#x4F8B;&#x4FBF;&#x5B89;&#x88C5;&#x597D; &#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x9879; tickTime &#x200B; &#x5FC3;&#x8DF3;&#x57FA;&#x672C;&#x65F6;&#x95F4;&#x5355;&#x4F4D;&#xFF0C;&#x6BEB;&#x79D2;&#x7EA7;&#xFF0C;ZK&#x57FA;&#x672C;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x65F6;&#x95F4;&#x90FD;&#x662F;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#x7684;&#x6574;&#x6570;&#x500D;&#x3002; initLimit &#x200B; &#x8282;&#x7FA4;&#x4E2D;&#x7684;follower&#x670D;&#x52A1;&#x5668;(F)&#x4E0E;leader&#x670D;&#x52A1;&#x5668;(L)&#x4E4B;&#x95F4;&#x521D;&#x59CB;&#x8FDE;&#x63A5;&#x65F6;&#x80FD;&#x5BB9;&#x5FCD;&#x7684;&#x6700;&#x591A;&#x5FC3;&#x8DF3;&#x6570; syncLimit &#x200B; &#x8282;&#x7FA4;&#x4E2D;&#x7684;follower&#x670D;&#x52A1;&#x5668;&#x4E0E;leader&#x670D;&#x52A1;&#x5668;&#x4E4B;&#x95F4;&#x8BF7;&#x6C42;&#x548C;&#x5E94;&#x7B54;&#x4E4B;&#x95F4;&#x80FD;&#x5BB9;&#x5FCD;&#x7684;&#x6700;&#x591A;&#x5FC3;&#x8DF3;&#x6570; dataDir &#x200B; &#x5185;&#x5B58;&#x6570;&#x636E;&#x5E93;&#x5FEB;&#x7167;&#x5B58;&#x653E;&#x5730;&#x5740;&#xFF0C;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x6307;&#x5B9A;&#x4E8B;&#x52A1;&#x65E5;&#x5FD7;&#x5B58;&#x653E;&#x5730;&#x5740;(dataLogDir)&#xFF0C;&#x9ED8;&#x8BA4;&#x4E5F;&#x662F;&#x5B58;&#x653E;&#x5728;&#x8FD9;&#x4E2A; &#x8DEF;&#x5F84;&#x4E0B;&#xFF0C;&#x5EFA;&#x8BAE;&#x4E24;&#x4E2A;&#x5730;&#x5740;&#x5206;&#x5F00;&#x5B58;&#x653E;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x8BBE;&#x5907;&#x4E0A;&#x3002; centos&#x4E0B;&#x5B89;&#x88C5;zk tar -zxvf zookeeper-3.4.12.tar.gz -C /usr/local/ cd /usr/local/zookeeper-3.4.12/conf mv zoo_sample.cfg zoo.cfg vim zoo.cfg #&#x5FC3;&#x8DF3;&#x65F6;&#x95F4;(&#x6BEB;&#x79D2;) tickTime=2000 #follower&#x670D;&#x52A1;&#x5668;&#x548C;leader&#x670D;&#x52A1;&#x5668;&#x4E24;&#x8005;&#x5EFA;&#x7ACB;&#x8FDE;&#x63A5;&#x80FD;&#x5BB9;&#x5FCD;&#x7684;&#x6700;&#x591A;&#x7684;&#x5FC3;&#x8DF3;&#x6570;10*2000&#x6BEB;&#x79D2;&#x5185;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x5EFA;&#x7ACB;&#x6210;&#x529F;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x5931;&#x8D25; initLimit=10 #follower&#x670D;&#x52A1;&#x5668;&#x548C;leader&#x670D;&#x52A1;&#x5668;&#x4E24;&#x8005;&#x8BF7;&#x6C42;&#x548C;&#x5E94;&#x7B54;&#x4E4B;&#x95F4;&#x80FD;&#x5BB9;&#x5FCD;&#x7684;&#x6700;&#x5927;&#x5931;&#x8D25;&#x6570;,&#x5982;&#x679C;&#x5FC3;&#x8DF3;5&#x6B21;&#x8FD8;&#x6CA1;&#x6709;&#x6210;&#x529F;&#x90A3;&#x4E48;&#x5C31;&#x8BA4;&#x5B9A;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5931;&#x8D25;&#x7684;&#x8BF7;&#x6C42; syncLimit=5 # dataDir=D:\download\source\install\zookeeper-3.4.12\zookeeper-3.4.12 clientPort=2181&#x4FEE;&#x6539;dataDir /usr/local/zookeeper-3.4.12/data &#x5C06;&#x6574;&#x4E2A;&#x6587;&#x4EF6;&#x5939;&#x6240;&#x5C5E;&#x6743;&#x8D4B;&#x4E88;zookeeper&#x7528;&#x6237; chown -R zookeeper:zookeeper /usr/local/zookeeper-3.4.12 &#x5207;&#x6362;&#x5230;zookeeper&#x7528;&#x6237; su zookeeper cd /usr/local/zookeeper-3.4.12/bin &#x627E;&#x5230;&#x5BF9;&#x5E94;&#x7684;zkServer.sh&#x542F;&#x52A8;start &#x7B2C;&#x56DB;&#x8282; &#x5FC5;&#x77E5;&#x5FC5;&#x4F1A;&#x4E4B;ZooKeeper&#x6570;&#x636E;&#x6A21;&#x578B;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;zookeeper&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#xFF0C;&#x5BF9;zookeeper&#x8282;&#x70B9;&#x7684;&#x7279;&#x6027;&#x505A;&#x8BE6;&#x7EC6;&#x7684;&#x4ECB;&#x7ECD; zookeeper&#x7684;&#x6570;&#x636E;&#x6A21;&#x578B;&#x7C7B;&#x4F3C;&#x4E8E;linux&#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x76EE;&#x5F55; /usr/local /usr/local/tomcat &#x6BCF;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x53EB;&#x505A;zNode&#xFF0C;&#x53EF;&#x4EE5;&#x6709;&#x5B50;&#x8282;&#x70B9;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x6709;&#x6570;&#x636E; &#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x80FD;&#x8BBE;&#x7F6E;&#x76F8;&#x5E94;&#x7684;&#x6743;&#x9650;&#x63A7;&#x5236;&#x7528;&#x6237;&#x7684;&#x8BBF;&#x95EE; &#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5B58;&#x50A8;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x5B9C;&#x8FC7;&#x5927; &#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x90FD;&#x5E26;&#x6709;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x6570;&#x636E;&#x53D8;&#x66F4;&#x65F6;&#xFF0C;&#x7248;&#x672C;&#x53F7;&#x53D8;&#x66F4;&#xFF08;&#x4E50;&#x89C2;&#x9501;&#xFF09; &#x8282;&#x70B9;&#x5206;&#x6C38;&#x4E45;&#x8282;&#x70B9;&#x8DDF;&#x4E34;&#x65F6;&#x8282;&#x70B9;&#x5047;&#x5982;&#x8BF4;&#x83B7;&#x53D6;&#x5230;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;&#x7A81;&#x7136;&#x53D1;&#x751F;&#x4E86;&#x4E00;&#x4E9B;&#x9519;&#x8BEF;&#x65AD;&#x5F00;&#x4E86;,&#x5982;&#x679C;&#x4E0D;&#x53BB;&#x6E05;&#x9664;&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#x90A3;&#x4E48;zookeeper&#x8FD8;&#x4F1A;&#x8BA4;&#x4E3A;&#x8FD9;&#x4E2A;&#x9501;&#x662F;&#x88AB;&#x6211;&#x7684;&#x7A0B;&#x5E8F;&#x6240;&#x6301;&#x6709;&#x7684;,&#x5982;&#x679C;&#x6B64;&#x65F6;&#x5176;&#x5B83;&#x7A0B;&#x5E8F;&#x8FC7;&#x6765;&#x5F97;&#x4E0D;&#x5230;&#x8FD9;&#x4E2A;&#x9501;,&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x5927;&#x7684;&#x707E;&#x96BE; &#x7B2C;&#x4E94;&#x3001;&#x516D;&#x8282; zookeeper&#x5E38;&#x7528;&#x547D;&#x4EE4;&#x4E4B;zkCli&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;zkCli&#x5BA2;&#x6237;&#x7AEF;&#x975E;&#x5E38;&#x5E38;&#x7528;&#x7684;&#x547D;&#x4EE4; zkCli.sh &#x4E0D;&#x586B;&#x540E;&#x9762;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x9ED8;&#x8BA4;&#x8FDE;&#x63A5;&#x7684;&#x5C31;&#x662F;localhost:2181 win&#x4E0B;&#x9762;&#x8FD0;&#x884C;&#x7684;&#x662F;.cmd&#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6;&#xFF0C;linux&#x4E0B;&#x8FD0;&#x884C;&#x7684;&#x662F;.sh&#x7ED3;&#x5C3E;&#x7684;&#x6587;&#x4EF6; &#x8FDE;&#x63A5;&#x8FDC;&#x7A0B;&#x670D;&#x52A1;&#x5668; zkCli.sh -timeout 0 -r -server ip:port zkCli.sh h &#x51FA;&#x73B0;&#x76F8;&#x5E94;&#x7684;&#x5E2E;&#x52A9;&#x4FE1;&#x606F; ZooKeeper -server host:port cmd args &#x200B; stat path [watch] &#x200B; set path data [version] &#x200B; ls path [watch] &#x200B; delquota [-n|-b] path &#x200B; ls2 path [watch] &#x200B; setAcl path acl &#x200B; setquota -n|-b val path &#x200B; history &#x200B; redo cmdno &#x200B; printwatches on|off &#x200B; delete path [version] &#x200B; sync path &#x200B; listquota path &#x200B; rmr path &#x200B; get path [watch] &#x200B; create [-s] [-e] path data acl &#x200B; addauth scheme auth &#x200B; quit &#x200B; getAcl path &#x200B; close &#x200B; connect host:port zookeeper&#x8282;&#x70B9; /usr/local &#x521B;&#x5EFA;&#x8282;&#x70B9; create [-s] [-e] path data acl -s&#x8868;&#x793A;&#x521B;&#x5EFA;&#x987A;&#x5E8F;&#x8282;&#x70B9; -e&#x8868;&#x793A;&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x8282;&#x70B9; data&#x8868;&#x793A;&#x521B;&#x5EFA;&#x7684;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;&#x5185;&#x5BB9; &#x67E5;&#x770B; &#x83B7;&#x53D6;&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9; ls path &#x83B7;&#x53D6;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E; get path &#x67E5;&#x770B;&#x8282;&#x70B9;&#x72B6;&#x6001; stat path cZxid = 0x3 &#x2013;&#x4E8B;&#x52A1;idctime = Tue Dec 04 10:37:58 EST 2018 &#x2013;&#x8282;&#x70B9;&#x521B;&#x5EFA;&#x7684;&#x65F6;&#x5019;&#x7684;&#x65F6;&#x95F4;mZxid = 0x3 &#x2013;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x65B0;&#x65F6;&#x7684;&#x4E8B;&#x52A1;id &#x200B;mtime = Tue Dec 04 10:37:58 EST 2018 &#x6700;&#x540E;&#x4E00;&#x6B21;&#x66F4;&#x65B0;&#x7684;&#x65F6;&#x95F4; &#x200B;pZxid = 0x3 &#x8BE5;&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x5217;&#x8868;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x88AB;&#x4FEE;&#x6539;&#x7684;&#x4E8B;&#x52A1;id &#x200B;cversion = 0 &#x5B50;&#x8282;&#x70B9;&#x5217;&#x8868;&#x7684;&#x7248;&#x672C; &#x200B;dataVersion = 0 &#x6570;&#x636E;&#x5185;&#x5BB9;&#x7684;&#x7248;&#x672C; &#x200B;aclVersion = 0 acl&#x7248;&#x672C; &#x200B;ephemeralOwner = 0x0 &#x7528;&#x4E8E;&#x4E34;&#x65F6;&#x8282;&#x70B9;&#xFF0C;&#x8868;&#x793A;&#x521B;&#x5EFA;&#x8BE5;&#x4E34;&#x65F6;&#x8282;&#x70B9;&#x7684;&#x4E8B;&#x52A1;id&#xFF0C;&#x5982;&#x679C;&#x5F53;&#x524D;&#x7684;&#x8282;&#x70B9;&#x4E0D;&#x662F;&#x4E34;&#x65F6;&#x8282;&#x70B9;&#xFF0C;&#x8BE5;&#x5B57;&#x6BB5;&#x503C;&#x4E3A;0 &#x200B;dataLength = 8 &#x6570;&#x636E;&#x5185;&#x5BB9;&#x7684;&#x957F;&#x5EA6; &#x200B;numChildren = 0 &#x5B50;&#x8282;&#x70B9;&#x7684;&#x6570;&#x91CF; &#x83B7;&#x53D6;&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x4EE5;&#x53CA;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x72B6;&#x6001; ls2 path &#x4FEE;&#x6539;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E; set path data [version] &#x5220;&#x9664;&#x8282;&#x70B9;&#x6570;&#x636E; delete path [version] &#x5220;&#x9664;&#x8282;&#x70B9;&#xFF0C;&#x5982;&#x679C;&#x6B64;&#x65F6;&#x8BE5;&#x8282;&#x70B9;&#x6709;&#x5B50;&#x8282;&#x70B9;&#xFF0C;&#x5219;&#x4E0D;&#x5141;&#x8BB8;&#x5220;&#x9664; rmr path &#x9012;&#x5F52;&#x5220;&#x9664;&#x6574;&#x4E2A;&#x8282;&#x70B9; &#x7B2C;&#x4E03;&#x8282; &#x6DF1;&#x5165;&#x7406;&#x89E3;zookeeper session&#x673A;&#x5236;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;zookeeper&#x7684;session&#x673A;&#x5236;&#xFF0C;&#x5BF9;&#x8BE5;&#x673A;&#x5236;&#x5F62;&#x6210;&#x4E00;&#x5B9A;&#x7684;&#x8BA4;&#x77E5;&#x7528;&#x4E8E;&#x5BA2;&#x6237;&#x7AEF;&#x4E0E;&#x670D;&#x52A1;&#x7AEF;&#x4E4B;&#x95F4;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x53EF;&#x8BBE;&#x7F6E;&#x8D85;&#x65F6;&#x65F6;&#x95F4;,&#x901A;&#x8FC7;&#x5FC3;&#x8DF3;&#x5305;&#x7684;&#x673A;&#x5236;&#xFF08;&#x5BA2;&#x6237;&#x7AEF;&#x5411;&#x670D;&#x52A1;&#x7AEF;ping&#x5305;&#x8BF7;&#x6C42;&#xFF09;&#x68C0;&#x67E5;&#x5FC3;&#x8DF3;&#x7ED3;&#x675F;&#xFF0C;session&#x5C31;&#x8FC7;&#x671F;session&#x8FC7;&#x671F;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BE5;session&#x521B;&#x5EFA;&#x7684;&#x6240;&#x6709;&#x4E34;&#x65F6;&#x8282;&#x70B9;&#x90FD;&#x4F1A;&#x88AB;&#x629B;&#x5F03; &#x7B2C;&#x516B;&#x8282; &#x6DF1;&#x5165;&#x7406;&#x89E3;zookeeper watcher&#x673A;&#x5236;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;zookeeper&#x7684;watcher&#x673A;&#x5236;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x4F7F;&#x7528; &#x5BF9;&#x8282;&#x70B9;&#x7684;watcher&#x64CD;&#x4F5C; get stat &#x9488;&#x5BF9;&#x6BCF;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x90FD;&#x53EF;&#x4EE5;&#x6709;&#x4E00;&#x4E2A;&#x76D1;&#x63A7;&#x8005;&#xFF0C;&#x5F53;&#x8282;&#x70B9;&#x53D1;&#x751F;&#x53D8;&#x5316;&#xFF0C;&#x4F1A;&#x89E6;&#x53D1;watcher&#x4E8B;&#x4EF6;(&#x5982;&#x679C;&#x662F;&#x5BF9;&#x5F53;&#x524D;&#x8282;&#x70B9;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x7684;&#x53D8;&#x66F4;&#x5219;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;) zk&#x4E2D;watcher&#x662F;&#x4E00;&#x6B21;&#x6027;&#x7684;&#xFF0C;&#x89E6;&#x53D1;&#x540E;&#x7ACB;&#x5373;&#x9500;&#x6BC1; &#x6240;&#x6709;&#x6709;&#x76D1;&#x63A7;&#x8005;&#x7684;&#x8282;&#x70B9;&#x7684;&#x53D8;&#x66F4;&#x64CD;&#x4F5C;&#x90FD;&#x80FD;&#x89E6;&#x53D1;watcher&#x4E8B;&#x4EF6; &#x5B50;&#x8282;&#x70B9;&#x7684;watcher&#x64CD;&#x4F5C;&#xFF08;&#x76D1;&#x63A7;&#x7236;&#x8282;&#x70B9;&#xFF0C;&#x5F53;&#x7236;&#x8282;&#x70B9;&#x5BF9;&#x5E94;&#x7684;&#x5B50;&#x8282;&#x70B9;&#x53D1;&#x751F;&#x53D8;&#x66F4;&#x589E;&#x5220;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x7236;&#x8282;&#x70B9;&#x4E0A;&#x7684;watcher&#x4E8B;&#x4EF6;&#x4F1A;&#x88AB;&#x89E6;&#x53D1;&#xFF09; ls ls2 &#x589E;&#x5220;&#x4F1A;&#x89E6;&#x53D1;&#x3001;&#x4FEE;&#x6539;&#x4E0D;&#x4F1A;&#xFF0C;&#x5982;&#x679C;&#x5B50;&#x8282;&#x70B9;&#x518D;&#x53BB;&#x65B0;&#x589E;&#x5B50;&#x8282;&#x70B9;&#xFF0C;&#x4E0D;&#x4F1A;&#x89E6;&#x53D1;&#xFF08;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x89E6;&#x53D1;watcher&#x4E8B;&#x4EF6;&#x4E00;&#x5B9A;&#x662F;&#x76F4;&#x7CFB;&#x5B50;&#x8282;&#x70B9;&#x5373;&#x7236;&#x5B50;&#x5173;&#x7CFB;&#x800C;&#x975E;&#x7237;&#x5B59;&#x5173;&#x7CFB;&#xFF09; &#x7B2C;&#x4E5D;&#x3001;&#x5341;&#x8282; zookeeper&#x7684;acl&#xFF08;access control lists&#xFF09;&#x6743;&#x9650;&#x63A7;&#x5236;&#x9488;&#x5BF9;&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x76F8;&#x5173;&#x7684;&#x8BFB;&#x5199;&#x7B49;&#x6743;&#x9650;&#xFF0C;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x6027; &#x6743;&#x9650;permissions&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x4E0D;&#x540C;&#x7684;&#x6743;&#x9650;&#x8303;&#x56F4;&#x53CA;&#x89D2;&#x8272; &#x5E38;&#x7528;&#x7684;&#x547D;&#x4EE4; getAcl &#x83B7;&#x53D6;&#x8282;&#x70B9;&#x6743;&#x9650; setAcl &#x8BBE;&#x7F6E;&#x8282;&#x70B9;&#x6743;&#x9650; addauth &#x8F93;&#x5165;&#x8BA4;&#x8BC1;&#x6388;&#x6743;&#x4FE1;&#x606F;&#xFF0C;&#x6CE8;&#x518C;&#x65F6;&#x8F93;&#x5165;&#x660E;&#x6587;&#x5BC6;&#x7801;&#xFF0C;&#x4F46;&#x662F;&#x5728;zk&#x91CC;&#xFF0C;&#x4EE5;&#x52A0;&#x5BC6;&#x7684;&#x5F62;&#x5F0F;&#x4FDD;&#x5B58; acl&#x7684;&#x7EC4;&#x6210; [scheme&#x1F194;permissions] scheme &#x6388;&#x6743;&#x673A;&#x5236; world&#x4E0B;&#x53EA;&#x6709;&#x4E00;&#x4E2A;id&#xFF0C;&#x4E5F;&#x5C31;&#x662F;anyone&#xFF0C;&#x8868;&#x793A;&#x6240;&#x6709;&#x4EBA; world:anyone:permissions auth &#x4EE3;&#x8868;&#x8BA4;&#x8BC1;&#x767B;&#x5F55;&#xFF0C;&#x9700;&#x8981;&#x6CE8;&#x518C;&#x7528;&#x6237;&#x6709;&#x6743;&#x9650;&#x624D;&#x53EF;&#x4EE5; auth:user:password:permissions digest &#x9700;&#x8981;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;&#x624D;&#x80FD;&#x8BBF;&#x95EE; digest:username:BASE64(SHA1(password)):permissions(&#x8DDF;auth&#x533A;&#x522B;&#x5728;&#x4E8E;&#xFF0C;auth&#x660E;&#x6587;&#xFF0C;digest&#x4E3A;&#x5BC6;&#x6587;) ip ip:localhost:psermissions super &#x4EE3;&#x8868;&#x8D85;&#x7BA1;&#xFF0C;&#x62E5;&#x6709;&#x6240;&#x6709;&#x7684;&#x6743;&#x9650;&#xFF1B; &#x6253;&#x5F00;zk&#x76EE;&#x5F55;&#x4E0B;&#x7684;/bin/zkServer.sh&#x670D;&#x52A1;&#x5668;&#x811A;&#x672C;&#x6587;&#x4EF6;&#xFF0C;&#x627E;&#x5230;&#x5982;&#x4E0B;&#x4E00;&#x884C;&#xFF1A; nohup $JAVA &#x201C;-Dzookeeper.log.dir=${ZOO_LOG_DIR}&#x201D; &#x201C;-Dzookeeper.root.logger=${ZOO_LOG4J_PROP}&#x201D;&#x52A0;&#x4E0A; &#x201C;-Dzookeeper.DigestAuthenticationProvider.superDigest=super:xQJmxLMiHGwaqBvst5y6rkB6HQs=&#x201D;&#x6B64;&#x5904;&#x540E;&#x9762;&#x7684;&#x5BC6;&#x6587;&#x4E3A;&#x5BC6;&#x7801;&#x52A0;&#x5BC6;&#x540E;&#x7684;id&#xFF1A;&#x5141;&#x8BB8;&#x8BBF;&#x95EE;&#x7684;&#x7528;&#x6237; permissions&#xFF1A;&#x6743;&#x9650;&#x7EC4;&#x5408;&#x5B57;&#x7B26;&#x4E32; cdrwac create &#x521B;&#x5EFA;&#x5B50;&#x8282;&#x70B9;d delete &#x5220;&#x9664;&#x5B50;&#x8282;&#x70B9;r read &#x8BFB;&#x53D6;&#x8282;&#x70B9;&#x7684;&#x6570;&#x636E;w write &#x5199;&#x5165;&#x6570;&#x636E;a admin &#x53EF;&#x7BA1;&#x7406;&#x7684;&#x6743;&#x9650;cdrwa cdr cdwacl&#x7684;&#x4F7F;&#x7528;&#x573A;&#x666F; &#x5F00;&#x53D1;&#x73AF;&#x5883;&#x8DDF;&#x6D4B;&#x8BD5;&#x73AF;&#x5883;&#xFF0C;&#x4F7F;&#x7528;acl&#x5C31;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x5206;&#x79BB;&#xFF0C;&#x5F00;&#x53D1;&#x8005;&#x65E0;&#x6743;&#x53BB;&#x64CD;&#x4F5C;&#x6D4B;&#x8BD5;&#x7684;&#x8282;&#x70B9; &#x751F;&#x4EA7;&#x73AF;&#x5883;&#x4E0A;&#x63A7;&#x5236;&#x6307;&#x5B9A;ip&#x7684;&#x670D;&#x52A1;&#x53EF;&#x4EE5;&#x8BBF;&#x95EE;&#x76F8;&#x5173;&#x7684;&#x8282;&#x70B9; &#x8BBE;&#x7F6E;&#x6743;&#x9650; &#x83B7;&#x53D6;&#x6743;&#x9650; ls / create /demo testdata ls / getAcl /demo setAcl /demo auth:username:password:cdrwa(&#x62A5;&#x9519;) addauth digest username:password setAcl /demo auth:username:password:cdrwa getAcl /demo&#x4FEE;&#x6539;&#x6743;&#x9650; setAcl /demo auth:username:password:crwa getAcl /demo create /demo/123 123 ls /demo delete /demo/123 setAcl /demo auth:username:password:crwad delete /demo&#x7B2C;&#x4E94;&#x7AE0; &#x5FAE;&#x670D;&#x52A1;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x4E4B;zookeeper&#x9009;&#x4E3E;&#x673A;&#x5236;&#x7B2C;&#x4E00;&#x8282; zk&#x8282;&#x7FA4;&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x4E4B;&#x4E09;&#x79CD;&#x89D2;&#x8272;&#x53CA;&#x5176;&#x4F5C;&#x7528;&#x7B80;&#x4ECB;&#xFF1A;&#x8BB2;&#x89E3;zookeeper&#x8282;&#x7FA4;&#x4E2D;&#x7684;&#x4E09;&#x79CD;&#x89D2;&#x8272;&#x4EE5;&#x53CA;&#x5176;&#x5404;&#x81EA;&#x7684;&#x4F5C;&#x7528;leader&#xFF1A;&#x4F5C;&#x4E3A;&#x6574;&#x4E2A;zk&#x8282;&#x7FA4;&#x5199;&#x8BF7;&#x6C42;&#x7684;&#x552F;&#x4E00;&#x5904;&#x7406;&#x8005;&#xFF0C;&#x5E76;&#x8D1F;&#x8D23;&#x8FDB;&#x884C;&#x6295;&#x7968;&#x7684;&#x53D1;&#x8D77;&#x548C;&#x51B3;&#x8BAE;&#xFF0C;&#x66F4;&#x65B0;&#x7CFB;&#x7EDF;&#x7684;&#x72B6;&#x6001;&#x3002;(&#x5BA2;&#x6237;&#x7AEF;&#x7684;&#x5199;&#x8BF7;&#x6C42;&#x90FD;&#x9700;&#x8981;&#x6295;&#x7968;&#x9009;&#x4E3E;)follower&#xFF1A;&#x63A5;&#x6536;&#x5BA2;&#x6237;&#x7AEF;&#x8BF7;&#x6C42;&#xFF0C;&#x5904;&#x7406;&#x8BFB;&#x8BF7;&#x6C42;&#xFF0C;&#x5E76;&#x5411;&#x5BA2;&#x6237;&#x7AEF;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#xFF1B;&#x5C06;&#x5199;&#x8BF7;&#x6C42;&#x8F6C;&#x7ED9; Leader&#xFF1B;&#x5728;&#x9009;&#x4E3E; Leader&#x8FC7;&#x7A0B;&#x4E2D;&#x53C2;&#x4E0E;&#x6295;&#x7968;&#x3002;observer&#xFF1A;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#x65E0;&#x9009;&#x4E3E;&#x6295;&#x7968;&#x6743;&#x7684; Flollower&#xFF0C;&#x5176;&#x4E3B;&#x8981;&#x662F;&#x4E3A;&#x4E86;&#x534F;&#x52A9; Follower &#x5904;&#x7406;&#x66F4;&#x591A;&#x7684;&#x8BFB;&#x8BF7;&#x6C42;&#x3002;&#x5982;&#x679C; Zookeeper &#x8282;&#x7FA4;&#x7684;&#x8BFB;&#x8BF7;&#x6C42;&#x8D1F;&#x8F7D;&#x5F88;&#x9AD8;&#xFF0C;&#x6216;&#x8005;&#x5BA2;&#x6237;&#x7AEF;&#x975E;&#x5E38;&#x975E;&#x5E38;&#x591A;&#xFF0C;&#x591A;&#x5230;&#x8DE8;&#x673A;&#x623F;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x4E00;&#x4E9B; Observer &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4EE5;&#x63D0;&#x9AD8;&#x8BFB;&#x53D6;&#x7684;&#x541E;&#x5410;&#x91CF;&#x3002;&#x5047;&#x5982;&#x8BF4;&#x662F;&#x8DE8;&#x673A;&#x623F;&#x8C03;&#x7528;&#x90A3;&#x4E48;&#x4F60;&#x90E8;&#x7F72;&#x7684;&#x90FD;&#x662F;follower&#x7684;&#x8BDD;&#x90A3;&#x4E48;&#x6295;&#x7968;&#x9009;&#x4E3E;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x5C31;&#x9700;&#x8981;&#x8DE8;&#x673A;&#x623F;&#x7684;follower&#x53BB;&#x53C2;&#x4E0E;&#x51B3;&#x7B56;,&#x5C31;&#x8981;&#x8D70;&#x6D77;&#x5E95;&#x5149;&#x7F06;&#x6240;&#x4EE5;&#x8BF4;&#x9700;&#x8981;&#x6709;observer&#x7684;&#x5B58;&#x5728;&#x53BB;&#x8DE8;&#x673A;&#x623F;&#x53EA;&#x8D1F;&#x8D23;&#x540C;&#x6B65;&#x6570;&#x636E;&#x800C;&#x4E0D;&#x8D1F;&#x8D23;&#x53BB;&#x53C2;&#x4E0E;&#x9009;&#x4E3E;&#x6295;&#x7968; &#x7B2C;&#x4E8C;&#x8282; zk&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x4E4B;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5E38;&#x89C1;&#x7684;&#x4E09;&#x79CD;&#x6A21;&#x5F0F;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x5728;zookeeper&#x8282;&#x7FA4;&#x4E2D;&#x5E38;&#x89C1;&#x7684;&#x4E09;&#x79CD;&#x6A21;&#x5F0F;&#x53CA;&#x5404;&#x79CD;&#x6A21;&#x5F0F;&#x51FA;&#x73B0;&#x7684;&#x65F6;&#x673A;zk&#x7684;&#x6838;&#x5FC3;&#x662F;&#x5E7F;&#x64AD;&#x673A;&#x5236;&#xFF0C;&#x8BE5;&#x673A;&#x5236;&#x4FDD;&#x8BC1;&#x4E86;&#x5404;&#x4E2A;zk&#x4E4B;&#x95F4;&#x6570;&#x636E;&#x540C;&#x6B65;&#xFF08;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#xFF09;&#x3002;zk&#x5B9E;&#x73B0;&#x7684;&#x673A;&#x5236;&#x4E3A;ZAB(zookeeper atom broadcast)&#x534F;&#x8BAE;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#xFF1A; &#x5982;&#x679C;leader&#x5D29;&#x6E83;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x8FDB;&#x5165;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#xFF0C;&#x4F7F;&#x6574;&#x4E2A;zk&#x8282;&#x7FA4;&#x6062;&#x590D;&#x5230;&#x6B63;&#x5E38;&#x7684;&#x5DE5;&#x4F5C;&#x72B6;&#x6001;&#x540C;&#x6B65;&#x6A21;&#x5F0F;&#xFF1A;&#x65B0;&#x7684;leader&#x9009;&#x4E3E;&#x51FA;&#x6765;&#x540E;&#xFF0C;&#x5C31;&#x4E4E;&#x8FDB;&#x5165;&#x540C;&#x6B65;&#x6A21;&#x5F0F;&#xFF08;&#x5404;&#x4E2A;follower&#x4F1A;&#x53BB;&#x540C;&#x6B65;&#x65B0;&#x7684;leader&#x4E0A;&#x7684;&#x6570;&#x636E;&#xFF09;&#xFF0C;&#x5F53;&#x5927;&#x591A;&#x6570;zkServer(follower)&#x5B8C;&#x6210;&#x4E86;&#x4E0E;leader&#x7684;&#x72B6;&#x6001;&#x540C;&#x6B65;&#x4E4B;&#x540E;&#xFF0C;&#x6062;&#x590D;&#x6A21;&#x5F0F;&#x5C31;&#x7ED3;&#x675F;&#x5E7F;&#x64AD;&#x6A21;&#x5F0F;&#xFF1A;&#x5BA2;&#x6237;&#x7AEF;&#x60F3;&#x5199;&#x5165;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;leader&#x53D1;&#x8D77;&#x63D0;&#x8BAE;&#xFF0C;&#x5F53;leader&#x7684;&#x63D0;&#x8BAE;&#x88AB;&#x5927;&#x591A;&#x6570;&#x7684;zkServer&#x540C;&#x610F;&#x4E4B;&#x540E;&#xFF0C;leader&#x5C31;&#x4F1A;&#x53BB;&#x4FEE;&#x6539;&#x81EA;&#x8EAB;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x5C06;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x6570;&#x636E;&#x5E7F;&#x64AD;&#x7ED9;&#x5176;&#x4ED6;&#x7684;follower &#x7B2C;&#x4E09;&#x8282; zk&#x8282;&#x7FA4;&#x9009;&#x4E3E;&#x6838;&#x5FC3;&#x6982;&#x5FF5;&#x53CA;&#x9009;&#x4E3E;&#x65F6;&#x72B6;&#x6001;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;zookeeper&#x8282;&#x7FA4;&#x9009;&#x4E3E;&#x76F8;&#x5173;&#x7684;&#x6838;&#x5FC3;&#x6982;&#x5FF5;&#x4EE5;&#x53CA;&#x9009;&#x4E3E;&#x65F6;&#x7684;&#x72B6;&#x6001; myid &#x8FD9;&#x662F; zk &#x8282;&#x7FA4;&#x4E2D;&#x670D;&#x52A1;&#x5668;&#x7684;&#x552F;&#x4E00;&#x6807;&#x8BC6;&#xFF0C;&#x79F0;&#x4E3A; myid&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x6709;&#x4E09;&#x4E2A; zk &#x670D;&#x52A1;&#x5668;&#xFF0C;&#x90A3;&#x4E48;&#x7F16;&#x53F7;&#x5206;&#x522B;&#x662F; 1,2,3&#x3002; zxid ReentranReadWriteLock 32&#x4F4D;&#x200B;&#x9AD8;&#x4F4D; &#x4F4E;&#x4F4D;0000000000000000 0000000000000000&#x200B; epoch xid00000000000000000000000000000000 00000000000000000000000000000000zxid &#x4E3A; Long &#x7C7B;&#x578B;&#xFF0C;&#x5176;&#x4E2D;&#x9AD8; 32 &#x4F4D;&#x8868;&#x793A; epoch&#xFF0C;&#x4F4E; 32 &#x4F4D;&#x8868;&#x793A; xid&#x3002;&#x5373; zxid &#x7531;&#x4E24;&#x90E8;&#x5206;&#x6784;&#x6210;&#xFF1A;epoch &#x4E0E; xid&#x3002;&#x6BCF;&#x4E2A; Leader &#x90FD;&#x4F1A;&#x5177;&#x6709;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684; epoch &#x503C;&#xFF0C;&#x8868;&#x793A;&#x4E00;&#x4E2A;&#x65F6;&#x671F;&#x3001;&#x65F6;&#x4EE3;&#x3002;&#x65B0;&#x7684; Leader &#x4EA7;&#x751F;&#xFF0C;&#x5219;&#x4F1A;&#x66F4;&#x65B0;&#x6240;&#x6709; zkServer &#x7684; zxid &#x4E2D;&#x7684; epoch&#x3002; &#x800C; xid &#x5219;&#x4E3A; zk &#x7684;&#x4E8B;&#x52A1; id&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x5199;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#xFF0C;&#x90FD;&#x4F1A;&#x6709;&#x4E00;&#x4E2A; xid&#x3002;&#x6BCF;&#x4E00;&#x4E2A;&#x5199;&#x64CD;&#x4F5C;&#x90FD;&#x9700;&#x8981;&#x7531; Leader &#x53D1;&#x8D77;&#x4E00;&#x4E2A;&#x63D0;&#x8BAE;&#xFF0C;&#x7531;&#x6240;&#x6709; Follower &#x8868;&#x51B3;&#x662F;&#x5426;&#x540C;&#x610F;&#x672C;&#x6B21;&#x5199;&#x64CD;&#x4F5C;&#x3002;&#x903B;&#x8F91;&#x65F6;&#x949F; &#x903B;&#x8F91;&#x65F6;&#x949F;&#xFF0C;Logicalclock&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x6574;&#x578B;&#x6570;&#xFF0C;&#x8BE5;&#x6982;&#x5FF5;&#x5728;&#x9009;&#x4E3E;&#x65F6;&#x79F0;&#x4E3A; logicalclock&#xFF0C;&#x800C;&#x5728; zxid &#x4E2D;&#x5219;&#x4E3A; epoch &#x7684;&#x503C;&#x3002;&#x5373; epoch &#x4E0E; logicalclock &#x662F;&#x540C;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5728;&#x4E0D;&#x540C;&#x60C5;&#x51B5;&#x4E0B;&#x7684;&#x4E0D;&#x540C;&#x540D;&#x79F0;&#x3002; zk&#x7684;&#x9009;&#x4E3E;&#x72B6;&#x6001; LOOKING&#xFF0C;&#x9009;&#x4E3E;&#x72B6;&#x6001;(&#x67E5;&#x627E; Leader &#x7684;&#x72B6;&#x6001;)&#x3002;LEADING&#xFF0C;&#x9886;&#x5BFC;&#x8005;&#x72B6;&#x6001;&#x3002;&#x5904;&#x4E8E;&#x8BE5;&#x72B6;&#x6001;&#x7684;&#x670D;&#x52A1;&#x5668;&#x79F0;&#x4E3A; Leader&#x3002;FOLLOWING&#xFF0C;&#x968F;&#x4ECE;&#x72B6;&#x6001;&#xFF0C;&#x540C;&#x6B65; leader &#x72B6;&#x6001;&#x3002;&#x5904;&#x4E8E;&#x8BE5;&#x72B6;&#x6001;&#x7684;&#x670D;&#x52A1;&#x5668;&#x79F0;&#x4E3A; Follower&#x3002;OBSERVING&#xFF0C;&#x89C2;&#x5BDF;&#x72B6;&#x6001;&#xFF0C;&#x540C;&#x6B65; leader &#x72B6;&#x6001;&#x3002;&#x5904;&#x4E8E;&#x8BE5;&#x72B6;&#x6001;&#x7684;&#x670D;&#x52A1;&#x5668;&#x79F0;&#x4E3A; Observer&#x3002; &#x7B2C;&#x56DB;&#x8282; zk&#x8282;&#x7FA4;&#x9009;&#x4E3E;&#x53D1;&#x751F;&#x7684;&#x65F6;&#x673A;&#x53CA;&#x9009;&#x4E3E;&#x7B97;&#x6CD5;&#x7B80;&#x4ECB;&#xFF1A;zk&#x8282;&#x7FA4;&#x9009;&#x4E3E;&#x53D1;&#x751F;&#x7684;&#x65F6;&#x673A;&#x53CA;&#x9009;&#x4E3E;&#x7B97;&#x6CD5; &#x53D1;&#x751F;&#x65F6;&#x673A;&#xFF1A;&#x6574;&#x4E2A;&#x8282;&#x7FA4;&#x7FA4;&#x9F99;&#x65E0;&#x9996;&#x7684;&#x65F6;&#x5019;&#xFF08;1.&#x670D;&#x52A1;&#x542F;&#x52A8; 2.leader&#x5B95;&#x673A;&#x4E4B;&#x540E;&#xFF09; &#x9009;&#x4E3E;&#x673A;&#x5236;&#xFF1A;&#x96C6;&#x7FA4;&#x4E2D;&#xFF0C;&#x5927;&#x4E8E;&#x534A;&#x6570;zkServer&#x540C;&#x610F;&#xFF0C;&#x5219;&#x4EA7;&#x751F;&#x65B0;&#x7684;leader&#xFF08;&#x642D;&#x5EFA;&#x8282;&#x7FA4;&#x65F6;&#xFF0C;&#x4E00;&#x822C;&#x90FD;&#x662F;&#x5947;&#x6570;&#x4E2A;&#xFF09; &#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6700;&#x591A;&#x5141;&#x8BB8;&#x4E00;&#x53F0;&#x5B95;&#x673A;&#xFF0C;&#x56DB;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4E5F;&#x662F;&#x6700;&#x591A;&#x5141;&#x8BB8;&#x4E00;&#x53F0;&#x5B95;&#x673A; &#x9009;&#x4E3E;&#x7B97;&#x6CD5;&#xFF1A; &#x5BF9;&#x6BD4;&#xFF08;myid&#xFF0C;zxid&#xFF09;&#xFF0C;&#x5148;&#x5BF9;&#x6BD4;zxid&#xFF0C;zxid&#x5927;&#x8005;&#xFF08;&#x5927;&#x8868;&#x793A;&#x6570;&#x636E;&#x8D8A;&#x65B0;&#xFF09;&#x80DC;&#x51FA;&#xFF0C;&#x6210;&#x4E3A;leader&#xFF0C;&#x5982;&#x679C;zxid&#x4E00;&#x81F4;&#xFF0C;&#x5219;myid&#x5927;&#x8005;&#x6210;&#x4E3A;leader &#x7B2C;&#x4E94;&#x8282; &#x5B9E;&#x6218;&#x2013;zk&#x8282;&#x7FA4;&#x642D;&#x5EFA;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x5728;linux&#x73AF;&#x5883;&#x4E2D;&#x642D;&#x5EFA;zookeeper&#x8282;&#x7FA4; &#x7AEF;&#x53E3;&#x7684;&#x4F5C;&#x7528; 2181 &#x5BF9;client&#x7AEF;&#x63D0;&#x4F9B;&#x670D;&#x52A1; 2888 &#x8282;&#x7FA4;&#x5185;&#x53CA;&#x5176;&#x901A;&#x8BAF;&#x4F7F;&#x7528;&#x7684;&#x7AEF;&#x53E3; 3888 &#x8282;&#x7FA4;&#x9009;&#x4E3E;leader &#x4FEE;&#x6539;zk&#x914D;&#x7F6E; &#x7F16;&#x8F91;zk&#x7684;conf&#x76EE;&#x5F55;&#x4E0B;&#x7684;zoo.cfg dataDir=/usr/local/zookeeper-3.4.12/data server.1=xdclass1:2888:3888 server.2=xdclass2:2888:3888 server.3=xdclass3:2888:3888 &#x5728;zk&#x7684;&#x6839;&#x76EE;&#x5F55;&#x4E0B;&#xFF0C;&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;data&#x76EE;&#x5F55;&#xFF0C;&#x5E76;&#x5728;data&#x76EE;&#x5F55;&#x4E0B;&#x65B0;&#x589E;&#x4E00;&#x4E2A;myid&#x7684;&#x6587;&#x4EF6; &#x5C06;&#x4FEE;&#x6539;&#x597D;&#x914D;&#x7F6E;&#x7684;zk&#xFF0C;&#x5206;&#x522B;&#x653E;&#x5230;&#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;/usr/local/,&#x5E76;&#x5C06;&#x76EE;&#x5F55;&#x6743;&#x9650;&#x6539;&#x4E3A;zookeeper&#x7528;&#x6237; &#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5206;&#x522B;&#x65B0;&#x589E;&#x4E00;&#x4E2A;&#x53EB;&#x505A;zookeeper&#x7684;&#x7528;&#x6237; useradd zookeeper &#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5747;&#x4FEE;&#x6539;/usr/local/zookeeper-3.4.12/data/&#x76EE;&#x5F55;&#x91CC;&#x7684;myid&#x6587;&#x4EF6;,&#x6587;&#x4EF6;&#x5185;&#x5BB9;&#x662F;&#x4E00;&#x4E2A;&#x6570;&#x5B57;&#xFF0C;&#x5BF9;&#x5E94;server.1=xdclass1 &#x91CC;&#x7684;1 &#x4E09;&#x53F0;&#x670D;&#x52A1;&#x5668;&#x7684;zk&#x7684;&#x6743;&#x9650;&#xFF0C;&#x90FD;&#x8D4B;&#x7ED9;zookeeper&#x7528;&#x6237; chown -R zookeeper:zookeeper zookeeper-3.4.12/ &#x5173;&#x95ED;&#x9632;&#x706B;&#x5899; systemctl stop firewalld.service &#x8FDB;&#x5165;zk&#x7684;bin&#x76EE;&#x5F55; rm -rf *.cmd chmod +x *.sh &#x4ECE;&#x7B2C;&#x4E00;&#x53F0;&#x673A;&#x5B50;&#x4F9D;&#x6B21;&#x542F;&#x52A8; ./zkServer.sh start &#x4E09;&#x53F0;&#x673A;&#x5B50;&#x5747;&#x542F;&#x52A8;&#x5B8C;&#x6210;&#x4E4B;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;zkServer.sh status&#x53BB;&#x67E5;&#x770B;&#x72B6;&#x6001; &#x7B2C;&#x516D;&#x7AE0; &#x5206;&#x5E03;&#x5F0F;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;zookeeper&#x4E4B;&#x5E94;&#x7528;&#x9AD8;&#x7EA7;&#x5B9E;&#x6218;&#x7B2C;&#x4E00;&#x8282; &#x5206;&#x5E03;&#x5F0F;&#x9501;&#x4F5C;&#x7528;&#x53CA;&#x5176;&#x539F;&#x7406;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x5728;&#x5206;&#x5E03;&#x5F0F;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x4F5C;&#x7528;&#x4EE5;&#x53CA;&#x5176;&#x539F;&#x7406; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x6709;&#x5206;&#x5E03;&#x5F0F;&#x9501; &#x5206;&#x5E03;&#x5F0F;&#x670D;&#x52A1;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5404;&#x4E2A;&#x670D;&#x52A1;&#x8282;&#x70B9;&#x9700;&#x8981;&#x53BB;&#x7ADE;&#x4E89;&#x8D44;&#x6E90;&#xFF0C;&#x6CA1;&#x529E;&#x6CD5;&#x4F7F;&#x7528;&#x5355;&#x673A;&#x591A;&#x7EBF;&#x7A0B;&#x4E2D;JDK&#x81EA;&#x5E26;&#x7684;&#x9501;&#xFF0C;&#x6545;&#x6B64;&#x65F6;&#x9700;&#x8981;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x6765;&#x534F;&#x8C03;&#x3002; &#x4F01;&#x4E1A;&#x4E2D;&#x6709;&#x54EA;&#x4E9B;&#x5E38;&#x89C1;&#x7684;&#x624B;&#x6BB5;&#x6765;&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x9501; zookeeper&#x3001;redis&#x3001;memcache &#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x539F;&#x7406; zookeeper&#xFF1A;&#x53BB;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x8282;&#x70B9;&#xFF0C;&#x521B;&#x5EFA;&#x6210;&#x529F;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x83B7;&#x53D6;&#x5230;&#x76F8;&#x5E94;&#x7684;&#x9501;&#xFF0C;&#x521B;&#x5EFA;&#x5931;&#x8D25;&#xFF0C;&#x5219;&#x8868;&#x793A;&#x83B7;&#x53D6;&#x9501;&#x5931;&#x8D25; redis&#x3001;memcache:&#x5BF9;&#x5E94;&#x7684;&#x53BB;&#x8BBE;&#x7F6E;&#x4E00;&#x4E2A;&#x503C;&#x505A;&#x4E3A;&#x9501;&#x7684;&#x4E00;&#x6807;&#x5FD7;&#xFF0C;&#x6BCF;&#x6B21;&#x83B7;&#x53D6;&#x9501;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x5224;&#x65AD;&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x662F;&#x5426;&#x5B58;&#x5728;&#xFF0C;&#x5B58;&#x5728;&#x5219;&#x65E0;&#x6CD5;&#x83B7;&#x53D6;&#xFF0C;&#x4E0D;&#x5B58;&#x5728;&#xFF0C;&#x5219;&#x8BBE;&#x7F6E;&#x76F8;&#x5E94;&#x7684;&#x503C;&#xFF0C;&#x8868;&#x793A;&#x83B7;&#x53D6;&#x5230;&#x9501;&#x3002;&#xFF08;redis &#x4F7F;&#x7528;setnx&#xFF0C;memcache&#x4F7F;&#x7528;add&#xFF09; &#x7B2C;&#x4E8C;&#x8282; &#x57FA;&#x4E8E;zk&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x57FA;&#x4E8E;zk&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x591A;&#x79CD;&#x65B9;&#x5F0F;&#x6CE8;&#x610F;&#x4E8B;&#x9879;&#xFF1A; &#x521B;&#x5EFA;&#x8282;&#x70B9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E00;&#x5B9A;&#x8981;&#x521B;&#x5EFA;&#x4E34;&#x65F6;&#x8282;&#x70B9;&#xFF0C;&#x907F;&#x514D;&#x5E94;&#x7528;&#x83B7;&#x53D6;&#x5230;&#x9501;&#x540E;&#xFF0C;&#x5B95;&#x673A;&#xFF0C;&#x5BFC;&#x81F4;&#x9501;&#x4E00;&#x81F4;&#x88AB;&#x6301;&#x6709;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x8BE6;&#x89C1;&#x89C6;&#x9891; &#x7B2C;&#x4E09;&#x8282; &#x5B9E;&#x6218;&#x2013;&#x57FA;&#x4E8E;zk&#x539F;&#x751F;&#x7684;api&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x57FA;&#x4E8E;zk&#x539F;&#x751F;&#x7684;api&#x5B9E;&#x73B0;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x6DFB;&#x52A0;zk&#x4F9D;&#x8D56; org.apache.zookeeper zookeeper 3.4.13&#x6CE8;&#x610F;&#x70B9;&#xFF1A;&#x539F;&#x751F;api&#x4E0D;&#x652F;&#x6301;&#x9012;&#x5F52;&#x521B;&#x5EFA;&#x8282;&#x70B9;&#x5982;&#x679C;&#x662F;&#x5355;&#x4E00;&#x5E94;&#x7528;&#xFF0C;&#x5C3D;&#x91CF;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x5206;&#x5E03;&#x5F0F;&#x9501; &#x7B2C;&#x4E03;&#x7AE0; &#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x642D;&#x5EFA;dubbo&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x7B2C;&#x4E00;&#x8282; &#x4F01;&#x4E1A;&#x4E2D;&#x5E38;&#x89C1;dubbo&#x9879;&#x76EE;&#x5206;&#x5C42;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x5728;&#x4F01;&#x4E1A;&#x4E2D;&#x5E38;&#x89C1;&#x7684;dubbo&#x9879;&#x76EE;&#x7684;&#x5206;&#x5C42;&#x8BE6;&#x89C1;&#x8BFE;&#x7A0B;&#x89C6;&#x9891; &#x7B2C;&#x4E8C;&#x8282; &#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x642D;&#x5EFA;springboot+Dubbo&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECE;&#x96F6;&#x5F00;&#x59CB;&#x642D;&#x5EFA;springboot+Dubbo&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x8BE6;&#x89C1;&#x8BFE;&#x7A0B;&#x89C6;&#x9891; &#x7B2C;&#x4E09;&#x8282; &#x56FE;&#x89E3;dubbo&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x4E2D;&#x5404;&#x4E2A;&#x914D;&#x7F6E;&#x7684;&#x4F5C;&#x7528;&#x7B80;&#x4ECB;&#xFF1A;&#x56FE;&#x89E3;dubbo&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x642D;&#x5EFA;&#x4E2D;&#x5404;&#x4E2A;&#x914D;&#x7F6E;&#x7684;&#x4F5C;&#x7528;&#x8BE6;&#x89C1;&#x8BFE;&#x7A0B;&#x89C6;&#x9891; &#x7B2C;&#x516B;&#x7AE0; dubbo&#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x8BB2;&#x89E3;&#x7B2C;&#x4E00;&#x8282; dubbo&#x6838;&#x5FC3;&#x67B6;&#x6784;&#x53CA;&#x6D41;&#x7A0B;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x9762;&#x8BD5;&#x4E2D;&#x7684;&#x9AD8;&#x9891;&#x95EE;&#x9898;&#x70B9;dubbo&#x6838;&#x5FC3;&#x67B6;&#x6784;&#x53CA;&#x6D41;&#x7A0B;&#x670D;&#x52A1;&#x5BB9;&#x5668;&#x8D1F;&#x8D23;&#x542F;&#x52A8;&#xFF0C;&#x52A0;&#x8F7D;&#xFF0C;&#x8FD0;&#x884C;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x3002;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x5728;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x5411;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x6CE8;&#x518C;&#x81EA;&#x5DF1;&#x63D0;&#x4F9B;&#x7684;&#x670D;&#x52A1;&#x3002;&#x670D;&#x52A1;&#x6D88;&#x8D39;&#x8005;&#x5728;&#x542F;&#x52A8;&#x65F6;&#xFF0C;&#x5411;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x8BA2;&#x9605;&#x81EA;&#x5DF1;&#x6240;&#x9700;&#x7684;&#x670D;&#x52A1;&#x3002;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x8FD4;&#x56DE;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x5730;&#x5740;&#x5217;&#x8868;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x53D8;&#x66F4;&#xFF0C;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x5C06;&#x57FA;&#x4E8E;&#x957F;&#x8FDE;&#x63A5;&#x63A8;&#x9001;&#x53D8;&#x66F4;&#x6570;&#x636E;&#x7ED9;&#x6D88;&#x8D39;&#x8005;&#x3002;&#x670D;&#x52A1;&#x6D88;&#x8D39;&#x8005;&#xFF0C;&#x4ECE;&#x63D0;&#x4F9B;&#x8005;&#x5730;&#x5740;&#x5217;&#x8868;&#x4E2D;&#xFF0C;&#x57FA;&#x4E8E;&#x8F6F;&#x8D1F;&#x8F7D;&#x5747;&#x8861;&#x7B97;&#x6CD5;&#xFF0C;&#x9009;&#x4E00;&#x53F0;&#x63D0;&#x4F9B;&#x8005;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#xFF0C;&#x5982;&#x679C;&#x8C03;&#x7528;&#x5931;&#x8D25;&#xFF0C;&#x518D;&#x9009;&#x53E6;&#x4E00;&#x53F0;&#x8C03;&#x7528;&#x3002;&#x670D;&#x52A1;&#x6D88;&#x8D39;&#x8005;&#x548C;&#x63D0;&#x4F9B;&#x8005;&#xFF0C;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x7D2F;&#x8BA1;&#x8C03;&#x7528;&#x6B21;&#x6570;&#x548C;&#x8C03;&#x7528;&#x65F6;&#x95F4;&#xFF0C;&#x5B9A;&#x65F6;&#x6BCF;&#x5206;&#x949F;&#x53D1;&#x9001;&#x4E00;&#x6B21;&#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x5230;&#x76D1;&#x63A7;&#x4E2D;&#x5FC3;&#x3002;&#x8BE6;&#x89C1; http://dubbo.apache.org/zh-cn/docs/user/preface/architecture.html &#x7B2C;&#x4E8C;&#x8282; &#x4F01;&#x4E1A;&#x4E2D;dubbo&#x5E38;&#x89C1;&#x7684;&#x591A;&#x79CD;&#x5F00;&#x53D1;&#x65B9;&#x5F0F;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x4F01;&#x4E1A;&#x4E2D;dubbo&#x5E38;&#x89C1;&#x7684;&#x591A;&#x79CD;&#x5F00;&#x53D1;&#x65B9;&#x5F0F;github&#x67E5;&#x770B;&#x4EE3;&#x7801;&#x7684;&#x63D2;&#x4EF6; ectotree&#x901A;&#x8FC7;&#x6CE8;&#x89E3;&#x7684;&#x65B9;&#x5F0F;(&#x591A;&#x7528;&#x4E8E;&#x4E0E;springboot&#x6574;&#x5408;)&#x901A;&#x8FC7;xml&#x914D;&#x7F6E;&#x901A;&#x8FC7;api&#x7684;&#x65B9;&#x5F0F;&#x2014;-&#x65E5;&#x5E38;&#x5F00;&#x53D1;&#x4E2D;&#x6BD4;&#x8F83;&#x5C11;&#x89C1;&#x5177;&#x4F53;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;,&#x8BE6;&#x89C1;&#x89C6;&#x9891; &#x7B2C;&#x4E09;&#x8282; &#x8BE6;&#x89E3;dubbo&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;dubbo&#x4E3B;&#x6D41;&#x7684;&#x670D;&#x52A1;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#xFF0C;&#x5305;&#x62EC;&#x6700;&#x65B0;&#x8282;&#x6210;&#x7684;dubbo&#x5F00;&#x6E90;&#x7EC4;&#x4EF6;nacossimple &#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x2014;-&#x4E0D;&#x652F;&#x6301;&#x8282;&#x7FA4;&#xFF0C;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x751F;&#x4EA7;&#x73AF;&#x5883;Multicast &#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x2014;-&#x5F00;&#x53D1;&#x9636;&#x6BB5;&#x4F7F;&#x7528;zookeeper &#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x2014;-&#x76EE;&#x524D;&#x4F01;&#x4E1A;&#x4E2D;&#x6700;&#x5E38;&#x7528;&#xFF0C;&#x4E5F;&#x662F;&#x5B98;&#x65B9;&#x63A8;&#x8350;redis &#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x2014;-&#x867D;&#x7136;&#x652F;&#x6301;&#xFF0C;&#x4F46;&#x662F;&#x8F83;&#x5C11;&#x4F7F;&#x7528;nacos &#x6CE8;&#x518C;&#x4E2D;&#x5FC3; &#x2014;-&#x540E;&#x8D77;&#x4E4B;&#x79C0; &#x53C2;&#x8003;https://nacos.io/zh-cn/docs/use-nacos-with-dubbo.html &#x7B2C;&#x56DB;&#x8282; &#x5E94;&#x7528;&#x5B9E;&#x6218;&#x4E4B;dubbo&#x6574;&#x5408;zookeeper&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;dubbo&#x6574;&#x5408;zookeeper&#x7684;&#x5177;&#x4F53;&#x6B65;&#x9AA4;&#x5177;&#x4F53;&#x6574;&#x5408;&#x6B65;&#x9AA4;&#x8BE6;&#x89C1;&#x8BFE;&#x7A0B;&#x89C6;&#x9891; &#x7B2C;&#x4E94;&#x8282; &#x5E94;&#x7528;&#x5B9E;&#x6218;&#x4E4B;dubbo&#x4F7F;&#x7528;xml&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x4F7F;&#x7528;xml&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;dubbo&#x9879;&#x76EE;&#x7684;&#x5F00;&#x53D1;&#x5728;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x65B9;&#xFF0C;&#x65B0;&#x589E;provider.xml&#xFF0C;&#x5728;&#x91CC;&#x9762;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x65B9;&#x76F8;&#x5E94;&#x7684;&#x4FE1;&#x606F;&#x53BB;&#x6389;&#x5177;&#x4F53;&#x670D;&#x52A1;&#x5B9E;&#x73B0;&#x7C7B;&#x4E2D;@Service&#x6CE8;&#x89E3;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x4E2D;&#x65B0;&#x589E;@ImportResource(&#x201C;provider.xml&#x201D;)&#x5728;&#x670D;&#x52A1;&#x6D88;&#x8D39;&#x65B9;&#xFF0C;&#x65B0;&#x589E;consumer.xml&#x7684;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x5728;&#x542F;&#x52A8;&#x7C7B;&#x4E2D;&#x65B0;&#x589E;@ImportResource(&#x201C;consumer.xml&#x201D;)&#x4F7F;&#x7528;spring&#x7684;@autowire&#x6CE8;&#x89E3;&#x66FF;&#x4EE3;@Reference &#x7B2C;&#x4E5D;&#x7AE0; &#x51E4;&#x51F0;&#x78D0;&#x6D85;&#x4E4B;dubbo&#x65B0;&#x7279;&#x6027;&#x4E4B;&#x9AD8;&#x7EA7;&#x914D;&#x7F6E;&#x7B2C;&#x4E00;&#x8282; &#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x4E4B;&#x542F;&#x52A8;&#x4F9D;&#x8D56;&#x68C0;&#x67E5;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;dubbo&#x542F;&#x52A8;&#x65F6;&#x7684;&#x4F9D;&#x8D56;&#x68C0;&#x67E5; Dubbo &#x7F3A;&#x7701;&#x4F1A;&#x5728;&#x542F;&#x52A8;&#x65F6;&#x68C0;&#x67E5;&#x4F9D;&#x8D56;&#x7684;&#x670D;&#x52A1;&#x662F;&#x5426;&#x53EF;&#x7528;&#xFF0C;&#x4E0D;&#x53EF;&#x7528;&#x65F6;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x963B;&#x6B62; Spring &#x521D;&#x59CB;&#x5316;&#x5B8C;&#x6210;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0A;&#x7EBF;&#x65F6;&#xFF0C;&#x80FD;&#x53CA;&#x65E9;&#x53D1;&#x73B0;&#x95EE;&#x9898;&#xFF0C;&#x9ED8;&#x8BA4; check=&#x201D;true&#x201D;&#x3002; &#x53EF;&#x4EE5;&#x901A;&#x8FC7; check=&#x201D;false&#x201D; &#x5173;&#x95ED;&#x68C0;&#x67E5;&#xFF0C;&#x6BD4;&#x5982;&#xFF0C;&#x6D4B;&#x8BD5;&#x65F6;&#xFF0C;&#x6709;&#x4E9B;&#x670D;&#x52A1;&#x4E0D;&#x5173;&#x5FC3;&#xFF0C;&#x6216;&#x8005;&#x51FA;&#x73B0;&#x4E86;&#x5FAA;&#x73AF;&#x4F9D;&#x8D56;&#xFF0C;&#x5FC5;&#x987B;&#x6709;&#x4E00;&#x65B9;&#x5148;&#x542F;&#x52A8;&#x3002;&#x53E6;&#x5916;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x7684; Spring &#x5BB9;&#x5668;&#x662F;&#x61D2;&#x52A0;&#x8F7D;&#x7684;&#xFF0C;&#x6216;&#x8005;&#x901A;&#x8FC7; API &#x7F16;&#x7A0B;&#x5EF6;&#x8FDF;&#x5F15;&#x7528;&#x670D;&#x52A1;&#xFF0C;&#x8BF7;&#x5173;&#x95ED; check&#xFF0C;&#x5426;&#x5219;&#x670D;&#x52A1;&#x4E34;&#x65F6;&#x4E0D;&#x53EF;&#x7528;&#x65F6;&#xFF0C;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF0C;&#x62FF;&#x5230; null &#x5F15;&#x7528;&#xFF0C;&#x5982;&#x679C; check=&#x201D;false&#x201D;&#xFF0C;&#x603B;&#x662F;&#x4F1A;&#x8FD4;&#x56DE;&#x5F15;&#x7528;&#xFF0C;&#x5F53;&#x670D;&#x52A1;&#x6062;&#x590D;&#x65F6;&#xFF0C;&#x80FD;&#x81EA;&#x52A8;&#x8FDE;&#x4E0A;&#x3002; &#x5177;&#x4F53;&#x914D;&#x7F6E;&#x7684;&#x65B9;&#x5F0F; &#x9488;&#x5BF9;&#x7279;&#x5B9A;&#x67D0;&#x4E00;&#x670D;&#x52A1;&#x53BB;&#x8BBE;&#x7F6E; @Reference(version = &#x201C;1.0.0&#x201D;,check = false) &#x5728;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#xFF08;&#x5B9E;&#x9645;&#x5F00;&#x53D1;&#x4E2D;&#xFF0C;&#x6BD4;&#x8F83;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x5F0F;&#xFF09; &#x542F;&#x52A8;&#x4F7F;&#x7528; -D &#x53C2;&#x6570; &#x5404;&#x79CD;&#x914D;&#x7F6E;&#x5BF9;&#x6BD4; dubbo.reference.check=false&#xFF0C;&#x5F3A;&#x5236;&#x6539;&#x53D8;&#x6240;&#x6709; reference &#x7684; check &#x503C;&#xFF0C;&#x5C31;&#x7B97;&#x914D;&#x7F6E;&#x4E2D;&#x6709;&#x58F0;&#x660E;&#xFF0C;&#x4E5F;&#x4F1A;&#x88AB;&#x8986;&#x76D6;&#x3002;dubbo.consumer.check=false&#xFF0C;&#x662F;&#x8BBE;&#x7F6E; check &#x7684;&#x7F3A;&#x7701;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x914D;&#x7F6E;&#x4E2D;&#x6709;&#x663E;&#x5F0F;&#x7684;&#x58F0;&#x660E;&#xFF0C;&#x5982;&#xFF1A;&lt;dubbo:reference check=&#x201D;true&#x201D;/&gt;&#xFF0C;&#x4E0D;&#x4F1A;&#x53D7;&#x5F71;&#x54CD;&#x3002;dubbo.registry.check=false&#xFF0C;&#x524D;&#x9762;&#x4E24;&#x4E2A;&#x90FD;&#x662F;&#x6307;&#x8BA2;&#x9605;&#x6210;&#x529F;&#xFF0C;&#x4F46;&#x63D0;&#x4F9B;&#x8005;&#x5217;&#x8868;&#x662F;&#x5426;&#x4E3A;&#x7A7A;&#x662F;&#x5426;&#x62A5;&#x9519;&#xFF0C;&#x5982;&#x679C;&#x6CE8;&#x518C;&#x8BA2;&#x9605;&#x5931;&#x8D25;&#x65F6;&#xFF0C;&#x4E5F;&#x5141;&#x8BB8;&#x542F;&#x52A8;&#xFF0C;&#x9700;&#x4F7F;&#x7528;&#x6B64;&#x9009;&#x9879;&#xFF0C;&#x5C06;&#x5728;&#x540E;&#x53F0;&#x5B9A;&#x65F6;&#x91CD;&#x8BD5;&#x3002; &#x7B2C;&#x4E8C;&#x8282; &#x6838;&#x5FC3;&#x77E5;&#x8BC6;&#x70B9;&#x4E4B;dubbo&#x914D;&#x7F6E;&#x52A0;&#x8F7D;&#x6D41;&#x7A0B;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;dubbo&#x914D;&#x7F6E;&#x52A0;&#x8F7D;&#x6D41;&#x7A0B;&#x53CA;&#x5176;&#x914D;&#x7F6E;&#x7684;&#x4F18;&#x5148;&#x7EA7; &#x914D;&#x7F6E;&#x6765;&#x6E90; JVM System Properties&#xFF0C;-D&#x53C2;&#x6570;Externalized Configuration&#xFF0C;&#x5916;&#x90E8;&#x5316;&#x914D;&#x7F6E;&#xFF08;2.7&#x7248;&#x672C;&#xFF09;ServiceConfig&#x3001;ReferenceConfig&#x7B49;&#x7F16;&#x7A0B;&#x63A5;&#x53E3;&#x91C7;&#x8282;&#x7684;&#x914D;&#x7F6E;&#x672C;&#x5730;&#x914D;&#x7F6E;&#x6587;&#x4EF6;dubbo.properties&#x914D;&#x7F6E;&#x7684;&#x4F18;&#x5148;&#x7EA7; &#x914D;&#x7F6E;&#x4F18;&#x5148;&#x7EA7;&#x662F;&#x4ECE;&#x4E0A;&#x5F80;&#x4E0B;&#x4E00;&#x6B21;&#x9012;&#x51CF; -Ddubbo.reference.com.xdclass.user.service.UserService.check=true &#x7B2C;&#x4E09;&#x8282; &#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x4E4B;dubbo&#x8D85;&#x65F6;&#x673A;&#x5236;&#x53CA;&#x8282;&#x7FA4;&#x5BB9;&#x9519;&#x673A;&#x5236;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;dubbo&#x7684;&#x8D85;&#x65F6;&#x673A;&#x5236;&#x53CA;&#x8282;&#x7FA4;&#x5BB9;&#x9519;&#x673A;&#x5236; &#x8D85;&#x65F6;&#x673A;&#x5236; &#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x65B9;&#x8FDB;&#x884C;&#x914D;&#x7F6E; &#x670D;&#x52A1;&#x6D88;&#x8D39;&#x65B9;&#x8FDB;&#x884C;&#x914D;&#x7F6E; &#x65B9;&#x6CD5;&#x7EA7;&#x522B; &#x670D;&#x52A1;&#x7EA7;&#x522B; &#x5982;&#x679C;&#x65B9;&#x6CD5;&#x8DDF;&#x6574;&#x4E2A;&#x670D;&#x52A1;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x4E86;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x4EE5;&#x65B9;&#x6CD5;&#x8BBE;&#x7F6E;&#x7684;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#x4E3A;&#x51C6; &#x5982;&#x679C;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x65B9;&#x8DDF;&#x670D;&#x52A1;&#x6D88;&#x8D39;&#x65B9;&#x540C;&#x65F6;&#x8BBE;&#x7F6E;&#x4E86;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF0C;&#x5219;&#x4EE5;&#x670D;&#x52A1;&#x6D88;&#x8D39;&#x65B9;&#x4E3A;&#x51C6; &#x8282;&#x7FA4;&#x5BB9;&#x9519;&#x673A;&#x5236; &#x5F53;&#x670D;&#x52A1;&#x8C03;&#x7528;&#x5931;&#x8D25;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;dubbo&#x4F1A;&#x8FDB;&#x884C;&#x91CD;&#x8BD5;&#xFF0C;&#x9ED8;&#x8BA4;&#x91CD;&#x8BD5;&#x6B21;&#x6570;&#x4E3A;2&#xFF08;&#x4E0D;&#x5305;&#x542B;&#x7B2C;&#x4E00;&#x6B21;&#xFF09; &#x901A;&#x8FC7;retries=&#x201D;4&#x201D; &#x8BBE;&#x7F6E;&#x91CD;&#x8BD5;&#x6B21;&#x6570; &#x7B2C;&#x56DB;&#x8282; &#x6DF1;&#x5165;&#x7406;&#x89E3;dubbo&#x5404;&#x534F;&#x8BAE;&#x53CA;&#x591A;&#x534F;&#x8BAE;&#x914D;&#x7F6E;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;dubbo&#x76EE;&#x524D;&#x652F;&#x6301;&#x7684;&#x5404;&#x79CD;&#x534F;&#x8BAE;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x591A;&#x534F;&#x8BAE;&#x7684;&#x914D;&#x7F6E;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x52A0;&#x5165;&#x76F8;&#x5E94;&#x7684;&#x4F9D;&#x8D56; org.springframework.boot spring-boot-starter-web&#x200B; org.eclipse.jetty jetty-util&#x200B; javax.servlet javax.servlet-api 4.0.1&#x200B; org.eclipse.jetty jetty-server&#x200B; org.eclipse.jetty jetty-servlet&#x914D;&#x7F6E;&#x591A;&#x534F;&#x8BAE; provider.xml&#x6587;&#x4EF6;&#x4E2D;&#x65B0;&#x589E;&#x60F3;&#x8981;&#x7684;&#x534F;&#x8BAE; &lt;dubbo:protocol name=&#x201D;http&#x201D; port=&#x201D;8888&#x201D;/&gt; &#x66B4;&#x9732;&#x670D;&#x52A1;&#x65F6;&#x4F7F;&#x7528; protocol=&#x201D;http&#x201D; &#x8BA9;&#x5176;&#x4F7F;&#x7528;&#x7279;&#x6027;&#x7684;&#x534F;&#x8BAE;&#x66B4;&#x9732; &#x4FEE;&#x6539;&#x542F;&#x52A8;&#x7C7B;&#x7684;&#x65B9;&#x5F0F;&#x4E3A;&#x975E;web new SpringApplicationBuilder(ServiceApplication.class).web(WebApplicationType.NONE).run(); &#x7B2C;&#x4E94;&#x8282; &#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x4E4B;Dubbo&#x591A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x53CA;&#x5176;&#x914D;&#x7F6E;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;dubbo&#x7684;&#x591A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x65B0;&#x589E;&lt;dubbo:registry address=&#x201D;zookeeper://192.1.1.101:2181&#x201D;/&gt;&#xFF0C;&#x591A;&#x4E2A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4F7F;&#x7528;id&#x5C5E;&#x6027;&#x8FDB;&#x884C;&#x533A;&#x5206; id=&#x201D;remote&#x201D;&#xFF0C;&#x670D;&#x52A1;&#x66B4;&#x9732;&#x65F6;&#xFF0C;&#x591A;&#x4E2A;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x4F7F;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694; &#x7B2C;&#x516D;&#x8282; &#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x4E4B;Dubbo&#x670D;&#x52A1;&#x5206;&#x7EC4;&#x53CA;&#x5176;&#x914D;&#x7F6E;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;Dubbo&#x670D;&#x52A1;&#x5206;&#x7EC4;&#x7684;&#x4F5C;&#x7528;&#x53CA;&#x5176;&#x914D;&#x7F6E; &#x5F53;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x6709;&#x591A;&#x79CD;&#x5B9E;&#x73B0;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7528; group &#x533A;&#x5206;&#x3002; &#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#xFF0C;&#x5728;&#x6807;&#x7B7E;&#x91CC;&#x52A0;&#x591A;&#x4E2A;group&#x8FDB;&#x884C;&#x533A;&#x5206; &lt;dubbo:service group=&#x201D;user1&#x201D; interface=&#x201D;com.xdclass.user.service.UserService&#x201D; ref=&#x201D;userService&#x201D; /&gt; &lt;dubbo:service group=&#x201D;user2&#x201D; interface=&#x201D;com.xdclass.user.service.UserService&#x201D; ref=&#x201D;userService2&#x201D; /&gt; &#x670D;&#x52A1;&#x6D88;&#x8D39;&#x8005;&#x5728;&#x5F15;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E5F;&#x5728;&#x6807;&#x7B7E;&#x91CC;&#x52A0;group &lt;dubbo:reference group=&#x201D;user2&#x201D; id=&#x201D;userService&#x201D; check=&#x201D;false&#x201D; interface=&#x201D;com.xdclass.user.service.UserService&#x201D;/&gt; &#x7B2C;&#x4E03;&#x8282; &#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x4E4B;Dubbo&#x670D;&#x52A1;&#x591A;&#x7248;&#x672C;&#x5316;&#x53CA;&#x5176;&#x914D;&#x7F6E;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;Dubbo&#x670D;&#x52A1;&#x591A;&#x7248;&#x672C;&#x5316;&#x7684;&#x4F5C;&#x7528;&#x53CA;&#x5176;&#x914D;&#x7F6E; &#x5F53;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#x5B9E;&#x73B0;&#xFF0C;&#x51FA;&#x73B0;&#x4E0D;&#x517C;&#x5BB9;&#x5347;&#x7EA7;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x7248;&#x672C;&#x53F7;&#x8FC7;&#x6E21;&#xFF0C;&#x7248;&#x672C;&#x53F7;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x76F8;&#x4E92;&#x95F4;&#x4E0D;&#x5F15;&#x7528;&#x3002; &#x53EF;&#x4EE5;&#x6309;&#x7167;&#x4EE5;&#x4E0B;&#x7684;&#x6B65;&#x9AA4;&#x8FDB;&#x884C;&#x7248;&#x672C;&#x8FC1;&#x79FB; &#x5728;&#x4F4E;&#x538B;&#x529B;&#x65F6;&#x95F4;&#x6BB5;&#xFF0C;&#x5148;&#x5347;&#x7EA7;&#x4E00;&#x534A;&#x63D0;&#x4F9B;&#x8005;&#x4E3A;&#x65B0;&#x7248;&#x672C; &#x200B; &#x518D;&#x5C06;&#x6240;&#x6709;&#x6D88;&#x8D39;&#x8005;&#x5347;&#x7EA7;&#x4E3A;&#x65B0;&#x7248;&#x672C; &#x200B; &#x7136;&#x540E;&#x5C06;&#x5269;&#x4E0B;&#x7684;&#x4E00;&#x534A;&#x63D0;&#x4F9B;&#x8005;&#x5347;&#x7EA7;&#x4E3A;&#x65B0;&#x7248;&#x672C; &#x4E00;&#x65E6;&#x670D;&#x52A1;&#x63D0;&#x4F9B;&#x8005;&#x5236;&#x5B9A;&#x4E86;&#x7248;&#x672C;&#xFF0C;&#x90A3;&#x4E48;&#x6240;&#x6709;&#x7684;&#x670D;&#x52A1;&#x6D88;&#x8D39;&#x8005;&#x4E5F;&#x662F;&#x9700;&#x8981;&#x53BB;&#x6307;&#x5B9A;&#x76F8;&#x5E94;&#x7684;&#x7248;&#x672C; &#x5EFA;&#x8BAE;&#xFF1A;&#x66B4;&#x9732;&#x670D;&#x52A1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6700;&#x597D;&#x90FD;&#x6307;&#x5B9A;&#x4E0B;&#x670D;&#x52A1;&#x7684;&#x7248;&#x672C;&#xFF0C;&#x65B9;&#x4FBF;&#x540E;&#x7EED;&#x63A5;&#x53E3;&#x7684;&#x4E0D;&#x517C;&#x5BB9;&#x5347;&#x7EA7; &#x7B2C;&#x516B;&#x8282; &#x5E94;&#x7528;&#x5B9E;&#x6218;&#x4E4B;&#x65B0;&#x7248;&#x7BA1;&#x63A7;&#x53F0;dubbo-ops&#x7684;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x65B0;&#x7248;&#x7BA1;&#x63A7;&#x53F0;dubbo-ops&#x7684;&#x7F16;&#x8BD1;&#x5B89;&#x88C5; &#x65E7;&#x7248;&#xFF1A;dubbo-admin &#x65B0;&#x7248; dubbo-ops &#x65B0;&#x7248;&#x7BA1;&#x7406;&#x63A7;&#x5236;&#x53F0;&#x4E3B;&#x8981;&#x7684;&#x4F5C;&#x7528; &#x670D;&#x52A1;&#x67E5;&#x8BE2;&#xFF0C;&#x670D;&#x52A1;&#x6CBB;&#x7406;(&#x5305;&#x62EC;Dubbo2.7&#x4E2D;&#x65B0;&#x589E;&#x7684;&#x6CBB;&#x7406;&#x89C4;&#x5219;)&#x4EE5;&#x53CA;&#x670D;&#x52A1;&#x6D4B;&#x8BD5;&#x3001;&#x914D;&#x7F6E;&#x7BA1;&#x7406; &#x514B;&#x9686;&#x9879;&#x76EE;&#x5230;&#x672C;&#x5730;&#xFF0C;&#x5E76;&#x7F16;&#x8BD1;&#x5B89;&#x88C5;&#x548C;&#x542F;&#x52A8; git clone https://github.com/apache/incubator-dubbo-ops.git cd incubator-dubbo-ops mvn clean package &#x4FEE;&#x6539;&#x914D;&#x7F6E;&#x6587;&#x4EF6; dubbo-admin-server/src/main/resources/application-production.properties&#x4E2D;&#x7684;&#x6CE8;&#x518C;&#x4E2D;&#x5FC3;&#x7684;&#x5730;&#x5740; cd dubbo-distribution/target java -jar dubbo-admin-0.1.jar &#x542F;&#x52A8;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;http://localhost:8080 &#x7B2C;&#x4E5D;&#x8282; &#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x4E4B;&#x52A8;&#x6001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x53CA;&#x914D;&#x7F6E;&#x5916;&#x90E8;&#x5316;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x52A8;&#x6001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x53CA;&#x914D;&#x7F6E;&#x5916;&#x90E8;&#x5316; &#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x4F7F;&#x7528;&#x52A8;&#x6001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#xFF1F; &#x52A8;&#x6001;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x7684;&#x8D23;&#x804C; &#x5916;&#x90E8;&#x5316;&#x914D;&#x7F6E;&#x3002;&#x542F;&#x52A8;&#x914D;&#x7F6E;&#x7684;&#x8282;&#x4E2D;&#x5F0F;&#x5B58;&#x50A8; &#xFF08;&#x7B80;&#x5355;&#x7406;&#x89E3;&#x4E3A;dubbo.properties&#x7684;&#x5916;&#x90E8;&#x5316;&#x5B58;&#x50A8;&#xFF09;&#x3002; &#x200B; &#x670D;&#x52A1;&#x6CBB;&#x7406;&#x3002;&#x670D;&#x52A1;&#x6CBB;&#x7406;&#x89C4;&#x5219;&#x7684;&#x5B58;&#x50A8;&#x4E0E;&#x901A;&#x77E5;&#x3002; &#x5982;&#x4F55;&#x4F7F;&#x7528;? &#x5728;dubbo-ops &#x8FDB;&#x884C;&#x914D;&#x7F6E;&#x4FE1;&#x606F;&#x914D;&#x7F6E;&#x5728;&#x9879;&#x76EE;&#x91CC;&#x4F7F;&#x7528;&lt;dubbo:config-center address=&#x201D;zookeeper://127.0.0.1:2181&#x201D;/&gt;&#x914D;&#x7F6E;&#x4E2D;&#x5FC3;&#x4E2D;&#x7684;&#x914D;&#x7F6E;&#x7684;&#x4F5C;&#x7528;&#x57DF; &#x5982;&#x679C;&#x5168;&#x5C40;&#x914D;&#x7F6E;&#x8DDF;&#x5E94;&#x7528;&#x7EA7;&#x522B;&#x5747;&#x914D;&#x7F6E;&#x4E86;&#x76F8;&#x540C;&#x7684;&#x4FE1;&#x606F;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x4EE5;&#x5E94;&#x7528;&#x7EA7;&#x522B;&#x7684;&#x4E3A;&#x51C6; &#x7B2C;&#x5341;&#x8282; &#x9AD8;&#x7EA7;&#x7279;&#x6027;&#x4E4B;&#x5143;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x53CA;&#x670D;&#x52A1;&#x6D4B;&#x8BD5;&#x7B80;&#x4ECB;&#xFF1A;&#x4ECB;&#x7ECD;&#x5143;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x7684;&#x4F5C;&#x7528;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x8FDB;&#x884C;&#x670D;&#x52A1;&#x6D4B;&#x8BD5; &#x4F5C;&#x7528; &#x975E;&#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x5916;&#x90E8;&#x5316;&#x670D;&#x52A1;&#x6D4B;&#x8BD5;&#x65F6;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5143;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x7684;&#x6570;&#x636E; &#x7B2C;&#x5341;&#x7AE0; &#x8BFE;&#x7A0B;&#x603B;&#x7ED3;&#x7B2C;&#x4E00;&#x8282; &#x8BFE;&#x7A0B;&#x603B;&#x7ED3;&#x53CA;&#x672A;&#x77E5;&#x77E5;&#x8BC6;&#x5B66;&#x4E60;&#x65B9;&#x6CD5;&#x8BE6;&#x89C1;&#x89C6;&#x9891; &#x7B2C;&#x4E8C;&#x8282; zookeeper&#x4E0E;dubbo&#x6838;&#x5FC3;&#x9762;&#x8BD5;&#x9898;&#x7B80;&#x5355;&#x4ECB;&#x7ECD;&#x4E0B;zk&#x9009;&#x4E3E;&#x673A;&#x5236;&#xFF1F;zk&#x8282;&#x7FA4;&#x662F;&#x600E;&#x4E48;&#x5904;&#x7406;&#x8BFB;&#x5199;&#x8BF7;&#x6C42;&#x7684;&#xFF1F;&#x5206;&#x5E03;&#x5F0F;&#x9501;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x7406;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#xFF1F;dubbo&#x7684;&#x67B6;&#x6784;&#x662F;&#x600E;&#x6837;&#x7684;&#xFF1F;Dubbo&#x63A5;&#x53E3;&#x4E0D;&#x517C;&#x5BB9;&#x5347;&#x7EA7;&#x600E;&#x4E48;&#x5904;&#x7406;&#xFF1F; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>dubbo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[springboot]]></title>
    <url>%2Fspringboot%2F2019%2F03%2F09%2Fvue.html</url>
    <content type="text"><![CDATA[&#x4EC0;&#x4E48;&#x662F;vue&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;vue&#x5982;&#x4F55;&#x4F7F;&#x7528;vue1.&#x7528;vue&#x505A;&#x51FA;&#x81EA;&#x5DF1;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x7F51;&#x9875; &#x5F15;&#x5305; &#x786E;&#x8BA4;&#x5DF2;&#x7ECF;&#x4E0B;&#x8F7D;&#x4E86;node,&#x7136;&#x540E;&#x6267;&#x884C;&#x547D;&#x4EE4; npm install vue (&#x5982;&#x9700;&#x4E0B;&#x8F7D;&#x81EA;&#x5DF1;&#x8981;&#x7684;&#x7248;&#x672C;&#x5728;vue&#x540E;&#x9762;&#x52A0;&#x4E0A;@&#x7248;&#x672C;&#x53F7;) &#x9875;&#x9762;&#x5F15;&#x5165;&#x521A;&#x4E0B;&#x8F7D;&#x7684;&#x5305; &lt;script type="text/javascript" src="vue.js">&lt;/script> &#x7559;&#x5751; &#x5373;&#x7559;&#x4E00;&#x4E2A;vue&#x6A21;&#x677F;&#x63D2;&#x5165;&#x7684;&#x5730;&#x65B9;&#x6216;&#x8005;&#x662F;vue&#x4EE3;&#x7801;&#x5BF9;&#x5176;&#x751F;&#x6548;&#x7684;&#x5730;&#x65B9; &lt;div id="app">&lt;/div> &#x5B9E;&#x4F8B;&#x5316; new Vue({el:&#x76EE;&#x7684;&#x5730;,template:&#x6A21;&#x677F;&#x5185;&#x5BB9;,data:&#x5BF9;&#x8C61;}); &#x76EE;&#x7684;&#x5730; el &#x5BF9;&#x5E94;&#x4E0A;&#x9762;&#x7559;&#x5751;&#x7684;&#x5751;&#x4F4D;&#xFF0C;&#x53EF;&#x901A;&#x8FC7;id&#x540D;&#xFF0C;&#x7C7B;&#x540D;&#xFF0C;&#x6807;&#x7B7E;&#x540D;&#x6765;&#x67E5;&#x627E; &#x3002;&#x65B9;&#x5F0F;&#x548C;jq&#x4E00;&#x6837; &#x5185;&#x5BB9; template template&#x91CC;&#x9762;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x6839;&#x6807;&#x7B7E; &#x6570;&#x636E; data &#x503C;&#x4E3A;&#x51FD;&#x6570;&#x5F62;&#x5F0F;&#x4E5F;&#x53EF;&#x662F;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x662F;&#x90FD;&#x662F;&#x7528;&#x51FD;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;&#x7528;&#x7684;&#x51FD;&#x6570;&#x6700;&#x540E;&#x4E5F;&#x662F;return&#x4E00;&#x4E2A;&#x5BF9;&#x8C61; new Vue({ el:&amp;apos;#app&amp;apos;, template:` &lt;div>&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x662F;&amp;#x6A21;&amp;#x677F;&amp;#x5185;&amp;#x5BB9;{ {msg} }&lt;/div>`, data:function() { return { msg:&amp;apos;Hello Vue!&amp;apos; } } }) &#x63D2;&#x503C;&#x8868;&#x8FBE;&#x5F0F;{ { } } &#x63D2;&#x503C;&#x8868;&#x8FBE;&#x5F0F;&#x5185;&#x586B;&#x5165;data&#x91CC;&#x9762;&#x7684;&#x53D8;&#x91CF;&#x5373;&#x53EF;&#x5728;&#x9875;&#x9762;&#x53D6;&#x5230;&#x53D8;&#x91CF;&#x503C;{ { data&#x91CC;&#x7684;&#x53D8;&#x91CF; } } 2.&#x5E38;&#x7528;&#x6307;&#x4EE4; &#x4EC0;&#x4E48;&#x662F;&#x6307;&#x4EE4; &#x5728;vue&#x4E2D;&#x63D0;&#x4F9B;&#x4E00;&#x4E9B;&#x5BF9;&#x4E8E;&#x9875;&#x9762;+&#x6570;&#x636E;&#x7684;&#x66F4;&#x4E3A;&#x65B9;&#x4FBF;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x5C31;&#x53EB;&#x505A;&#x6307;&#x4EE4;&#x3002; &#x8B6C;&#x5982;&#x5728;HTML&#x9875;&#x9762;&#x4E2D;&#x8FD9;&#x6837;&#x4F7F;&#x7528; &#x5728;vue&#x4E2D;v-xxx&#x5C31;&#x662F;vue&#x7684;&#x6307;&#x4EE4; &#x6307;&#x4EE4;&#x5C31;&#x662F;&#x4EE5;&#x6570;&#x636E;&#x53BB;&#x9A71;&#x52A8;DOM&#x884C;&#x4E3A;&#x7684;,&#x7B80;&#x5316;DOM&#x64CD;&#x4F5C; &#x5E38;&#x7528;&#x7684;&#x6307;&#x4EE4;&#x6709;&#x54EA;&#x4E9B;&#xFF0C;&#x53CA;&#x600E;&#x4E48;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x6307;&#x4EE4; v-text &#x4E0D;&#x53EF;&#x89E3;&#x6790;html&#x6807;&#x7B7E; &#x5143;&#x7D20;&#x7684;innerText v-html &#x53EF;&#x89E3;&#x6790;html&#x6807;&#x7B7E; &#x5143;&#x7D20;&#x7684;innerHtml v-if &#x505A;&#x5143;&#x7D20;&#x7684;&#x63D2;&#x5165;&#xFF08;append&#xFF09;&#x548C;&#x79FB;&#x9664;&#xFF08;remove&#xFF09;&#x64CD;&#x4F5C; v-else-if v-else v-show display:none &#x548C;display&#xFF1A;block&#x7684;&#x5207;&#x6362; v-for &#x6570;&#x7EC4; item&#xFF0C;index &#x5BF9;&#x8C61; value&#xFF0C;key &#xFF0C;index 3.vue&#x5355;&#x53CC;&#x5411;&#x6570;&#x636E;&#x6D41;&#x53CA;&#x4E8B;&#x4EF6;&#x7ED1;&#x5B9A; vue&#x5355;&#x5411;&#x6570;&#x636E;&#x6D41;&#x7ED1;&#x5B9A;&#x5C5E;&#x6027;&#x503C; v-bind: (&#x5C5E;&#x6027;) &#x7B80;&#x5199; :(&#x5C5E;&#x6027;) &#x4F8B;&#x5B50;&#xFF1A; &lt;input v-bind:value="name" v-bind:class="name"> &lt;!--v-bind:class="name"&amp;#x53EF;&amp;#x4EE5;&amp;#x7B80;&amp;#x5199;&amp;#x4E3A;:class="name"--> &lt;input v-bind:value="name" :class="name"> &#x5355;&#x5411;&#x6570;&#x636E;&#x7ED1;&#x5B9A; &#x5185;&#x5B58;&#x6539;&#x53D8;&#x5F71;&#x54CD;&#x9875;&#x9762;&#x6539;&#x53D8;,&#x800C;&#x9875;&#x9762;&#x7684;&#x6539;&#x53D8;&#x4E0D;&#x4F1A;&#x5F71;&#x54CD;&#x5185;&#x5B58;&#x7684;&#x6539;&#x53D8; v-bind&#x5C31;&#x662F;&#x5BF9;&#x5C5E;&#x6027;&#x7684;&#x7B80;&#x5355;&#x8D4B;&#x503C;,&#x5F53;&#x5185;&#x5B58;&#x4E2D;&#x503C;&#x6539;&#x53D8;&#xFF0C;&#x8FD8;&#x662F;&#x4F1A;&#x89E6;&#x53D1;&#x91CD;&#x65B0;&#x6E32;&#x67D3; vue&#x53CC;&#x5411;&#x6570;&#x636E;&#x6D41; v-model &#x53EA;&#x4F5C;&#x7528;&#x4E8E;&#x6709;value&#x5C5E;&#x6027;&#x7684;&#x5143;&#x7D20; &#x4F8B;&#x5B50;: &lt;input v-model="name" v-bind:class="name"> &#x53CC;&#x5411;&#x6570;&#x636E;&#x7ED1;&#x5B9A; &#x9875;&#x9762;&#x5BF9;&#x4E8E;input&#x7684;value&#x6539;&#x53D8;&#xFF0C;&#x80FD;&#x5F71;&#x54CD;&#x5185;&#x5B58;&#x4E2D;name&#x53D8;&#x91CF; &#x5185;&#x5B58;js&#x6539;&#x53D8;name&#x7684;&#x503C;&#xFF0C;&#x4F1A;&#x5F71;&#x54CD;&#x9875;&#x9762;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x6700;&#x65B0;&#x503C; 4.&#x8FC7;&#x6EE4;&#x5668; &#x8FC7;&#x6EE4;&#x5668;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x5BF9;&#x6211;&#x4EEC;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6DFB;&#x6CB9;&#x52A0;&#x918B;&#x7136;&#x540E;&#x518D;&#x663E;&#x793A; &#x8FC7;&#x6EE4;&#x5668;&#x5206;&#x4E3A;&#x5168;&#x5C40;&#x8FC7;&#x6EE4;&#x5668;&#x548C;&#x7EC4;&#x4EF6;&#x5185;&#x7684;&#x8FC7;&#x6EE4;&#x5668; &#x5168;&#x5C40;&#x8FC7;&#x6EE4;&#x5668;Vue.filter(&#x2018;&#x8FC7;&#x6EE4;&#x5668;&#x540D;&#x2019;,&#x8FC7;&#x6EE4;&#x65B9;&#x5F0F;fn ); &#x7EC4;&#x4EF6;&#x5185;&#x7684;&#x8FC7;&#x6EE4;&#x5668; filters:{ &#x2018;&#x8FC7;&#x6EE4;&#x5668;&#x540D;&#x2019;,&#x8FC7;&#x6EE4;&#x65B9;&#x5F0F;fn } { { msg | &#x8FC7;&#x6EE4;&#x5668;&#x540D;} } &#x6700;&#x7EC8;&#x90FD;&#x662F;&#x5728;&#x8FC7;&#x6EE4;&#x65B9;&#x5F0F;fn&#x91CC;&#x9762;return&#x4EA7;&#x51FA;&#x6700;&#x7EC8;&#x4F60;&#x9700;&#x8981;&#x7684;&#x6570;&#x636E; vue&#x4E2D;&#x7684;this&#x662F;vue&#x5C01;&#x88C5;&#x597D;&#x7ED9;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x8DDF;&#x5E73;&#x5E38;&#x65B9;&#x6CD5;&#x91CC;&#x9762;&#x7684;this&#x662F;&#x4E0D;&#x540C;&#x7684; 5.&#x6570;&#x636E;&#x76D1;&#x542C;watch&#x8BA1;&#x7B97;&#x5C5E;&#x6027;computed watch&#x76D1;&#x542C;&#x5355;&#x4E2A;&#xFF0C;computed&#x76D1;&#x542C;&#x591A;&#x4E2A; &#x4E1A;&#x52A1;&#x573A;&#x666F;&#xFF1A; &#x7C7B;&#x4F3C;&#x6DD8;&#x5B9D;&#xFF0C;&#x5F53;&#x6211;&#x8F93;&#x5165;&#x67D0;&#x4E2A;&#x4EBA;&#x540D;&#x5B57;&#x65F6;&#xFF0C;&#x6211;&#x60F3;&#x89E6;&#x53D1;&#x67D0;&#x4E2A;&#x6548;&#x679C; &#x5229;&#x7528;vue&#x505A;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x8BA1;&#x7B97;&#x5668; &#x5F53;watch&#x76D1;&#x542C;&#x7684;&#x662F;&#x590D;&#x6742;&#x6570;&#x636E;&#x7C7B;&#x578B;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x505A;&#x6DF1;&#x5EA6;&#x76D1;&#x542C; watch:{ msg:{ handler(val){ if(val.text==&amp;apos;love&amp;apos;){ alert(val.text) } }, deep:true//&amp;#x5F00;&amp;#x542F;&amp;#x6DF1;&amp;#x5EA6;&amp;#x76D1;&amp;#x542C; } }**computed &amp;#x76D1;&amp;#x89C6;&amp;#x5BF9;&amp;#x8C61;,&amp;#x5199;&amp;#x5728;&amp;#x4E86;&amp;#x51FD;&amp;#x6570;&amp;#x5185;&amp;#x90E8;, &amp;#x51E1;&amp;#x662F;&amp;#x51FD;&amp;#x6570;&amp;#x5185;&amp;#x90E8;&amp;#x6709;this.&amp;#x76F8;&amp;#x5173;&amp;#x5C5E;&amp;#x6027;,&amp;#x6539;&amp;#x53D8;&amp;#x90FD;&amp;#x4F1A;&amp;#x89E6;&amp;#x53D1;&amp;#x5F53;&amp;#x524D;&amp;#x51FD;&amp;#x6570;** computed &#x76D1;&#x89C6;&#x5BF9;&#x8C61;,&#x5199;&#x5728;&#x4E86;&#x51FD;&#x6570;&#x5185;&#x90E8;, &#x51E1;&#x662F;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x6709;this.&#x76F8;&#x5173;&#x5C5E;&#x6027;,&#x6539;&#x53D8;&#x90FD;&#x4F1A;&#x89E6;&#x53D1;&#x5F53;&#x524D;&#x51FD;&#x6570; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>springboot</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[汇编指令]]></title>
    <url>%2Fni-xiang%2F2019%2F03%2F09%2Fhui-bian-zhi-ling.html</url>
    <content type="text"><![CDATA[Windows&#x9006;&#x5411;&#x73AF;&#x5883;&#x642D;&#x5EFA; &#x5BC4;&#x5B58;&#x5668; ollydbg&#x7684;&#x7B80;&#x4ECB; &#x5BC4;&#x5B58;&#x5668; EAX ECX EBX ESP &#x5B83;&#x6C38;&#x8FDC;&#x6307;&#x5411;&#x5806;&#x6808;&#x7A97;&#x53E3;&#x7684;&#x6700;&#x9876;&#x7AEF;(&#x7070;&#x4F4E;&#x9ED1;&#x5B57;&#x7684;&#x90A3;&#x4E00;&#x884C;) EBP ESI EDI EIP &#x6307;&#x5411;&#x5F53;&#x524D;&#x5373;&#x5C06;&#x8981;&#x6267;&#x884C;&#x7684;&#x6307;&#x4EE4;,&#x5728;CPU&#x7A97;&#x53E3;&#x6709;&#x5BF9;&#x5E94;&#x7684;&#x5730;&#x5740;&#x503C;,CPU&#x4E0B;&#x6B21;&#x5C31;&#x8981;&#x6267;&#x884C;&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x7684;&#x6307;&#x4EE4; EIP&#x662F;&#x6CA1;&#x6709;&#x4FEE;&#x6539;&#x6570;&#x503C;&#x7684;&#x83DC;&#x5355;&#x7684;,&#x53EA;&#x80FD;&#x5728;CPU&#x7A97;&#x53E3;&#x7684;&#x67D0;&#x4E00;&#x884C;&#x53F3;&#x952E;&#x6B64;&#x5904;&#x4E3A;&#x65B0;EIP&#x624D;&#x53EF;&#x4EE5;&#x6539;&#x53D8;EIP&#x7684;&#x503C; 32&#x4F4D;&#x5BC4;&#x5B58;&#x5668;(FFFFFFFF&#x8F6C;&#x6362;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x662F;32&#x4E2A;1) EAX : 12345678 (&#x5341;&#x516D;&#x8FDB;&#x5236;&#x7684;&#x6570;) AX : 5678 AH : 56 AL : 78 &#x5982;&#x679C;&#x78B0;&#x5230;cmp al,bl &#x200B; &#x6BD4;&#x8F83;&#x7684;&#x5C31;&#x662F;&#x540E;&#x4E24;&#x4F4D;78 &#x8FD9;&#x79CD;&#x9AD8;&#x516B;&#x4F4D; &#x4F4E;&#x516B;&#x4F4D;&#x53EA;&#x80FD;&#x7528;&#x5728;EAX ECX EDX EBX&#x8EAB;&#x4E0A; &#x5982;&#x4F55;&#x67E5;&#x770B;&#x8FD9;&#x4E9B;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x6570;&#x636E;&#x5462;? &#x5728;command&#x7A97;&#x53E3;&#x4E2D;&#x8F93;&#x5165;? EAX ? AX ?AH ?AL &#x200B; &#x7070;&#x8272;&#x7684;&#x4EE3;&#x7801;&#x7684;&#x5730;&#x65B9;&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x8D70;&#x8FC7;&#x4E86;,&#x5982;&#x4F55;&#x8BA9;&#x5B83;&#x91CD;&#x7F6E;&#x5462;? &#x4F7F;&#x7528;ctrl+a EIP&#x7684;&#x4E0B;&#x65B9;&#x662F;&#x6807;&#x5FD7;&#x4F4D;&#x5BC4;&#x5B58;&#x5668; C &#x8FDB;&#x4F4D;&#x6807;&#x5FD7;/&#x501F;&#x4F4D;&#x6807;&#x5FD7;&#x4F4D; &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x503C;&#x8D85;&#x8FC7;&#x6700;&#x5927;&#x503C;,&#x90A3;&#x4E48;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x5C31;&#x53D8;&#x4E3A;1 &#x65E0;&#x7B26;&#x53F7;&#x8FD0;&#x7B97;&#x7ED3;&#x679C; &#x6700;&#x5927;&#x503C;&#x7D2F;&#x52A0;1 - &#x8BA9;EAX&#x4E3A;FFFFFFFF,&#x6B64;&#x65F6;EAX&#x662F;&#x65E0;&#x7B26;&#x53F7;&#x4F4D;&#x7684;&#x6700;&#x5927;&#x503C; - add eax,0x1 &#x8D85;&#x8FC7;&#x4E86;&#x65E0;&#x7B26;&#x53F7;&#x4F4D;&#x7684;&#x6700;&#x5927;&#x503C; - C&#x6807;&#x5FD7;&#x53D8;&#x4E3A;1 - EAX&#x53D8;&#x4E3A;00000000 P &#x5947;&#x5076;&#x6807;&#x5FD7; &#x5728;CPU&#x7A97;&#x53E3;&#x6267;&#x884C;&#x4E00;&#x4E2A;&#x6307;&#x4EE4;,&#x5982;&#x679C;&#x628A;&#x7ED3;&#x679C;&#x8F6C;&#x5316;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x4EE5;&#x540E;,&#x6570;&#x5B57;1&#x7684;&#x4E2A;&#x6570;&#x4E3A;&#x5076;&#x6570;&#x7684;&#x8BDD;P&#x5C31;&#x4E3A;1 &#x540C;&#x6837;&#x5C06;EAX&#x7684;&#x503C;&#x6539;&#x4E3A;0x00000000 add eax,0x1 &#x90A3;&#x4E48;EAX&#x7684;&#x503C;&#x4E3A;00000001 &#x540C;&#x65F6;P&#x7684;&#x503C;&#x4E3A;0 - &#x5F53;EAX&#x7684;&#x503C;&#x8FBE;&#x5230;0x00000011&#x65F6; - P&#x7684;&#x503C;&#x4E5F;&#x8FBE;&#x5230;&#x4E86;1 - &#x5982;&#x679C;&#x60F3;&#x591A;&#x6B21;&#x6DFB;&#x52A0;1&#x53EA;&#x9700;&#x8981;&#x5728;CPU&#x7684;&#x7A97;&#x53E3;&#x4F7F;&#x7528;&#x8BBE;&#x7F6E;&#x65B0;&#x7684;EIP,&#x7136;&#x540E;&#x5728;&#x4F7F;&#x7528;F8 A &#x8F85;&#x52A9;&#x8FDB;&#x4F4D;&#x6807;&#x5FD7; Z 0&#x6807;&#x5FD7;&#x4F4D; &#x5C06;EAX&#x7684;&#x503C;&#x8BBE;&#x7F6E;&#x4E3A;0xFFFFFFFF (&#x6709;&#x7B26;&#x53F7;&#x5341;&#x8FDB;&#x5236;&#x7684;-1) &#x5728;&#x4F7F;&#x7528;add eax,0x1&#x7684;&#x8BDD; Z&#x7684;&#x503C;&#x5C31;&#x4F1A;&#x53D8;&#x4E3A;1 S &#x662F;&#x4E00;&#x4E2A;&#x7B26;&#x53F7;&#x6807;&#x5FD7; &#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x4E3A;&#x8D1F;&#x6570;,s&#x4E3A;1 &#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x4E3A;&#x6B63;&#x6570;,s&#x4E3A;0 - &#x8BA9;EAX&#x4E3A;FFFFFFF8&#x6709;&#x7B26;&#x53F7;&#x4F4D;&#x4E3A;-8 - &#x4F7F;&#x7528; add eax,0x1 - &#x6B64;&#x65F6;&#x7ED3;&#x679C;&#x4E3A;-7 - &#x5F53;&#x7ED3;&#x679C;&#x4E3A;&#x8D1F;&#x6570; S&#x4E3A;1 T &#x8DDF;&#x8E2A;&#x6807;&#x5FD7;&#x4F4D; D &#x65B9;&#x5411;&#x6807;&#x5FD7;&#x4F4D; O &#x6EA2;&#x51FA;&#x6807;&#x5FD7;&#x4F4D;:&#x5F53;&#x64CD;&#x4F5C;&#x4FEE;&#x6539;&#x4E86;&#x7B26;&#x53F7;&#x4F4D;&#x5B83;&#x5C31;&#x53D8;&#x4E3A;1 &#x4F8B;&#x5982;: EAX&#x4E3A;0x7fffffff add eax,0x1 &#x5341;&#x516D;&#x8FDB;&#x5236;&#x6709;&#x7B26;&#x53F7;&#x4F4D;0x00000000~0x7fffffff&#x662F;&#x6B63;&#x6570; &#x200B; 0x80000000~0xffffffff&#x662F;&#x8D1F;&#x6570; &#x6C47;&#x7F16;&#x6307;&#x4EE4; nop &#x7A7A;&#x6307;&#x4EE4; nop&#x5C31;&#x662F;&#x4EC0;&#x4E48;&#x4E5F;&#x4E0D;&#x505A;,&#x5360;&#x522B;&#x4EBA;&#x7684;&#x4F4D;&#x7F6E;,&#x8BA9;&#x522B;&#x4EBA;&#x8D77;&#x4E0D;&#x4E86;&#x4F5C;&#x7528; &#x4ECE;&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x770B;&#x51FA;nop&#x7684;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x673A;&#x5668;&#x7801;&#x5C31;&#x662F;90 &#x8FD9;&#x91CC;&#x5343;&#x4E07;&#x4E0D;&#x80FD;&#x5C06;&#x7A7A;&#x4F59;&#x7684;&#x6570;&#x636E;&#x586B;&#x5145;&#x4E3A;00, 00&#x662F;&#x6709;&#x6307;&#x4EE4;&#x7684; push &#x538B;&#x6808;&#x64CD;&#x4F5C; push 0x1 push eax (&#x5BC4;&#x5B58;&#x5668;) eax&#x8D4B;&#x503C;&#x4E3A;12345678 push 0x00401000 &#x5C06;0x00401000&#x8FD9;&#x4E2A;&#x503C;&#x538B;&#x5165;&#x5230;&#x5806;&#x6808;&#x4E2D; OD&#x4F1A;&#x5E2E;&#x6211;&#x4EEC;&#x89E3;&#x91CA;0x00401000&#x662F;&#x6307;&#x5411; &#x54EA;&#x91CC; push [401000] (401000&#x662F;&#x5730;&#x5740;&#x503C;)&#x5C06;&#x5BF9;&#x5E94;&#x5730;&#x5740;&#x503C;&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#x538B;&#x5165;&#x6808;&#x4E2D; push&#x7684;&#x5B57;&#x8282;&#x6570;&#x662F;4 &#x53D6;&#x51B3;&#x4E8E;&#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x4F4D;&#x6570;32&#x4F4D; &#x6570;&#x636E;&#x7A97;&#x53E3;&#x7684;hex&#x6570;&#x636E;&#x548C; &#x5806;&#x6808;&#x5730;&#x5740;&#x7684;&#x6570;&#x636E;&#x662F;&#x6210;&#x955C;&#x9762;&#x5BF9;&#x79F0;&#x7684; &#x200B; &#x6570;&#x636E;&#x7A97;&#x53E3;&#x7684;hex&#x6570;&#x636E;&#x548C; &#x5BC4;&#x5B58;&#x5668;&#x7684;&#x6570;&#x636E;&#x662F;&#x6210;&#x955C;&#x9762;&#x5BF9;&#x79F0;&#x7684; pop &#x5F39;&#x6808;&#x64CD;&#x4F5C; &#x521D;&#x59CB;&#x5316; pop eax &#x5C06;&#x6808;&#x9876;&#x7684;&#x6570;&#x636E;&#x5F39;&#x7ED9;&#x5BC4;&#x5B58;&#x5668;eax pop ecx &#x5C06;&#x6808;&#x9876;&#x7684;&#x6570;&#x636E;&#x5F39;&#x7ED9;&#x5BC4;&#x5B58;&#x5668;ecx pop edx &#x5C06;&#x6808;&#x9876;&#x7684;&#x6570;&#x636E;&#x5F39;&#x7ED9;&#x5BC4;&#x5B58;&#x5668;edx pop ebx &#x5C06;&#x6808;&#x9876;&#x7684;&#x6570;&#x636E;&#x5F39;&#x7ED9;&#x5BC4;&#x5B58;&#x5668;ebx pushad(32&#x4F4D;) (&#x4FDD;&#x62A4;&#x73B0;&#x573A;,&#x5C06;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4FDD;&#x5B58;&#x5230;&#x5BF9;&#x53C2;&#x6570;&#x636E;&#x5F53;&#x4E2D;,&#x7136;&#x540E;&#x4F60;&#x53EF;&#x4EE5;&#x968F;&#x4FBF;&#x4FEE;&#x6539;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x4E86;) &#x628A;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#x4F9D;&#x6B21;&#x538B;&#x5165;&#x6808;&#x4E2D; &#x6211;pushad&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;&#x4E86;: push EAX push ECX push EDX push EBX push ESP push EBP push ESI push EDI &#x538B;&#x6808;&#x4ECE;&#x4E0A;&#x5411;&#x4E0B; &#x5907;&#x4EFD; &#x6267;&#x884C;pushad&#x4E4B;&#x524D;: &#x6267;&#x884C;pushad&#x4E4B;&#x540E;: popad(32&#x4F4D;) &#x628A;&#x6808;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4F9D;&#x6B21;&#x5012;&#x5E8F;&#x5F39;&#x51FA;&#x7ED9;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668; &#x6267;&#x884C;popad&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;&#x4E86;&#x4E0B;&#x9762;&#x7684;8&#x6761;&#x6307;&#x4EE4; pop EDI pop ESI pop EBP pop ESP pop EBX pop EDX pop ECX pop EAX &#x5F39;&#x6808;&#x4ECE;&#x4E0B;&#x5230;&#x4E0A; &#x8FD8;&#x539F; &#x6267;&#x884C;popad&#x4E4B;&#x524D;: &#x6267;&#x884C;popad&#x4E4B;&#x540E;: &#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;&#x4E86;pop EDI &#x200B; pop ESI &#x200B; pop EBP &#x200B; pop ESP &#x200B; pop EBX &#x200B; pop EDX &#x200B; pop ECX &#x200B; pop EAX pusha(16&#x4F4D;) &#x628A;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#x4F9D;&#x6B21;&#x538B;&#x5165;&#x6808;&#x4E2D; &#x6267;&#x884C;popa&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;&#x4E86;&#x4E0B;&#x9762;&#x7684;8&#x6761;&#x6307;&#x4EE4; push AX push CX push DX push BX push SP push BP push SI push DI &#x538B;&#x6808;&#x4ECE;&#x4E0A;&#x5411;&#x4E0B; &#x5907;&#x4EFD; popa(16&#x4F4D;) &#x628A;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#x4F9D;&#x6B21;&#x4ECE;&#x6808;&#x4E2D;&#x5F39;&#x51FA;&#x6765; &#x6267;&#x884C;popa&#x4E00;&#x6761;&#x6307;&#x4EE4;&#x76F8;&#x5F53;&#x4E8E;&#x6267;&#x884C;&#x4E86;&#x4E0B;&#x9762;&#x7684;8&#x6761;&#x6307;&#x4EE4; pop DI pop SI pop BP pop SP pop BX pop DX pop CX pop AX &#x5F39;&#x6808;&#x4ECE;&#x4E0B;&#x5230;&#x4E0A; &#x8FD8;&#x539F; mov &#x8D4B;&#x503C;&#x64CD;&#x4F5C; mov eax,ecx &#x5C06;4&#x5B57;&#x8282;&#x7684;ecx&#x8D4B;&#x503C;&#x7ED9;4&#x5B57;&#x8282;&#x7684;eax &#x8D4B;&#x503C;&#x4E4B;&#x524D;: &#x8D4B;&#x503C;&#x4E4B;&#x540E;: mov ax,cx &#x5C06;ecx&#x7684;&#x4F4E;&#x4F4D;cx(&#x6700;&#x540E;&#x56DB;&#x4F4D;,&#x4E24;&#x4E2A;&#x5B57;&#x8282;)&#x8D4B;&#x503C;&#x7ED9;eax&#x7684;&#x4F4E;&#x4F4D;ax(&#x6700;&#x540E;&#x56DB;&#x4F4D;,&#x4E24;&#x4E2A;&#x5B57;&#x8282;) &#x8D4B;&#x503C;&#x4E4B;&#x524D;: &#x8D4B;&#x503C;&#x4E4B;&#x540E;: mov al,cl &#x5C06;ecx&#x7684;&#x4F4E;&#x4F4D;cl(&#x6700;&#x540E;&#x4E24;&#x4F4D;,&#x4E00;&#x4E2A;&#x5B57;&#x8282;)&#x8D4B;&#x503C;&#x7ED9;eax&#x7684;&#x4F4E;&#x4F4D;al(&#x6700;&#x540E;&#x4E24;&#x4F4D;,&#x4E00;&#x4E2A;&#x5B57;&#x8282;) &#x8D4B;&#x503C;&#x4E4B;&#x524D; &#x8D4B;&#x503C;&#x4E4B;&#x540E; mov [0x402000] , eax &#x5C06;eax&#x7684;&#x503C;&#x8D4B;&#x503C;&#x7ED9;&#x5730;&#x5740;402000&#x7684;&#x4F4D;&#x7F6E; &#x9ED8;&#x8BA4;&#x7F16;&#x8BD1;&#x6210;mov dword ptr ds:[0x402000],eax dword&#x4EE3;&#x8868;4&#x5B57;&#x8282; &#x8D4B;&#x503C;&#x4E4B;&#x524D; &#x8D4B;&#x503C;&#x4E4B;&#x540E; mov word ptr ds:[0x402000],ax word&#x4EE3;&#x8868;2&#x5B57;&#x8282; &#x8D4B;&#x503C;&#x4E4B;&#x524D; &#x8D4B;&#x503C;&#x4E4B;&#x540E; mov byte ptr ds:[0x40200],al byte&#x4EE3;&#x8868;1&#x5B57;&#x8282; &#x8D4B;&#x503C;&#x4E4B;&#x524D;: &#x8D4B;&#x503C;&#x4E4B;&#x540E;: movsx eax,cx (symbol) 0000~7FFF &#x90FD;&#x4E3A;&#x6B63;&#x6570; 7FFF~FFFF &#x90FD;&#x4E3A;&#x8D1F;&#x6570; &#x7B2C;&#x4E00;&#x64CD;&#x4F5C;&#x6570;&#x4E3A;&#x5927;&#x5B57;&#x8282;&#x6570; &#x7B2C;&#x4E8C;&#x64CD;&#x4F5C;&#x6570;&#x4E3A;&#x5C0F;&#x5B57;&#x8282;&#x6570; &#x5982;&#x679C;&#x524D;&#x9762;&#x7684;&#x6570;&#x6240;&#x5360;&#x636E;&#x7684;&#x5B57;&#x8282;&#x6570;&#x6BD4;&#x540E;&#x9762;&#x6570;&#x5927; &#x540E;&#x9762;&#x7684;&#x6570;&#x4F1A;&#x628A;&#x503C;&#x4F20;&#x7ED9;&#x5B83;&#x4EE5;&#x540E;&#x5269;&#x4E0B;&#x7684;&#x5730;&#x65B9;&#x586B;&#x5145;&#x7B26;&#x53F7;&#x4F4D; &#x8D1F;&#x6570;&#x5219;&#x4E3A;F &#x6B63;&#x6570;&#x5219;&#x4E3A;0 example: EAX = 11111111; ECX = 1111A123; &#x9996;&#x5148;&#x5C06;CX&#x8F6C;&#x5316;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x202D;1010 0001 0010 0011&#x202C; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;ECX&#x7684;&#x7B26;&#x53F7;&#x4F4D;&#x662F;1&#x5C31;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x662F;&#x4E00;&#x4E2A;&#x8D1F;&#x6570; &#x7136;&#x540E;&#x5C06;CX&#x8D4B;&#x503C;&#x7ED9;EAX&#x5C31;&#x662F;FFFF A123 movsx &#x64CD;&#x4F5C;&#x4E4B;&#x524D; movsx &#x64CD;&#x4F5C;&#x4E4B;&#x540E; example: EAX = 11111111; ECX = 11111234; &#x9996;&#x5148;&#x5C06;CX&#x8F6C;&#x5316;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x202D;0001 0010 0011 0100&#x202C; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;ECX&#x7684;&#x7B26;&#x53F7;&#x4F4D;&#x662F;0&#x5C31;&#x8BF4;&#x660E;&#x8FD9;&#x4E2A;&#x662F;&#x4E00;&#x4E2A;&#x6B63;&#x6570; &#x7136;&#x540E;&#x5C06;CX&#x8D4B;&#x503C;&#x7ED9;EAX&#x5C31;&#x662F;0000 1234 movsx&#x64CD;&#x4F5C;&#x4E4B;&#x524D; movsx&#x64CD;&#x4F5C;&#x4E4B;&#x540E; movzx eax,bx (zero) &#x5982;&#x679C;&#x524D;&#x9762;&#x7684;&#x6570;&#x6240;&#x5360;&#x636E;&#x7684;&#x5B57;&#x8282;&#x6570;&#x6BD4;&#x540E;&#x9762;&#x6570;&#x5927;&#x540E;&#x9762;&#x7684;&#x6570;&#x4F1A;&#x628A;&#x503C;&#x4F20;&#x7ED9;&#x5B83;&#x4EE5;&#x540E;&#x5269;&#x4E0B;&#x4E0D;&#x6EE1;&#x7684;&#x5730;&#x65B9;&#x586B;&#x5145;0 example: EAX = 11111111; EBX = 1111A123; &#x9996;&#x5148;&#x5C06;BX&#x8F6C;&#x5316;&#x4E3A;&#x4E8C;&#x8FDB;&#x5236;&#x202D;1010 0001 0010 0011&#x202C; &#x7136;&#x540E;&#x5C06;BX&#x8D4B;&#x503C;&#x7ED9;EAX,&#x5269;&#x4E0B;&#x7684;&#x5730;&#x65B9;&#x90FD;&#x8865;0,&#x7ED3;&#x679C;&#x4E3A;0000A123 movzx &#x64CD;&#x4F5C;&#x4E4B;&#x524D; movzx &#x64CD;&#x4F5C;&#x4E4B;&#x540E; lea &#x683C;&#x5F0F; lea &#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;,[&#x5730;&#x5740;] &#x5B83;&#x548C;mov&#x6709;&#x70B9;&#x4E0D;&#x540C;&#x4E2D;&#x62EC;&#x53F7;&#x78B0;&#x4E0A;lea&#x65F6;&#x4E2D;&#x62EC;&#x53F7;&#x4E0D;&#x518D;&#x8D77;&#x4F5C;&#x7528;&#x4E86; lea eax,[exc+0x16] &#x5C06;exc&#x7684;&#x5730;&#x5740;+0x16 &#x518D;&#x628A;&#x5730;&#x5740;&#x4EA4;&#x7ED9;eax &#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;&#x53F3;&#x8FB9;&#x7684;&#x503C;&#x90FD;&#x662F;&#x4E00;&#x4E2A;&#x5730;&#x5740;&#x503C; example lea eax,[0x402000] &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: example: lea eax,[exc+0x16] &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x200B; XCHG: &#x4EA4;&#x6362;&#x547D;&#x4EE4; &#x7B2C;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5185;&#x5B58;&#x5730;&#x5740; &#x7B2C;&#x4E8C;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x5BC4;&#x5B58;&#x5668; example: XCHG EAX,EBX &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: example XCHG [402000],ECX &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x6570;&#x5B66;&#x6307;&#x4EE4; add &#x6DFB;&#x52A0;&#x6307;&#x4EE4; &#x7B2C;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x5185;&#x5B58;&#x5730;&#x5740; &#x7B2C;&#x4E8C;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x6570;&#x503C;&#x4E5F;&#x53EF;&#x4EE5;&#x662F;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668; &#x5C06;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x653E;&#x5165;&#x7B2C;&#x4E00;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x5F53;&#x4E2D; example add eax,0x333 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: example: add eax,ecx &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: example: add dword ptr ds:[0x402000],0x2 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: example: add dword ptr ds:[0x402000],eax &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: HEX&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4ECE;&#x5916;&#x90E8;&#x770B;&#x7684;&#x8BDD;&#x662F;&#x4ECE;&#x53F3;&#x5411;&#x5DE6;,&#x4ECE;&#x5185;&#x90E8;&#x770B;&#x7684;&#x8BDD;&#x662F;&#x4ECE;&#x5DE6;&#x5411;&#x53F3; sub &#x51CF;&#x6CD5;&#x6307;&#x4EE4; &#x7B2C;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x4E3A;&#x901A;&#x7528;&#x5BC4;&#x5B58;&#x5668; &#x7B2C;&#x4E8C;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x4E3A;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;&#x5FC5;&#x987B;&#x6807;&#x660E;0x &#x5C06;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x653E;&#x5165;&#x7B2C;&#x4E00;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x5F53;&#x4E2D; example sub eax,0x333 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x200B; example sub eax,ecx &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: adc &#x548C;&#x8FDB;&#x4F4D;&#x6807;&#x5FD7;&#x4F4D;&#x4E00;&#x8D77;&#x8FD0;&#x7B97;&#x7684;&#x52A0;&#x6CD5;&#x6307;&#x4EE4; example adc eax,0x2 eax = eax + 0x2 + &#x8FDB;&#x4F4D;&#x6807;&#x5FD7;&#x4F4D;&#x7684;&#x503C; &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: sbb &#x548C;&#x8FDB;&#x4F4D;&#x6807;&#x5FD7;&#x4F4D;&#x4E00;&#x8D77;&#x8FD0;&#x7B97;&#x7684;&#x51CF;&#x6CD5;&#x6307;&#x4EE4; example: sbb eax,0x3 eax - 0x3 - 1(&#x8FDB;&#x4F4D;&#x6807;&#x5FD7;&#x4F4D;) &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: INC &#x81EA;&#x589E;&#x6307;&#x4EE4; example: inc eax eax = eax + 1 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: dec &#x81EA;&#x51CF;&#x6307;&#x4EE4; example: dec eax eax = eax - 1 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: mul &#x65E0;&#x7B26;&#x53F7;&#x4E58;&#x6CD5; &#x9ED8;&#x8BA4;&#x88AB;&#x4E58;&#x6570;&#x662F;eax &#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570; mul ecx &#x4E58;&#x6CD5;&#x7684;&#x7ED3;&#x679C;&#x5206;&#x522B;&#x653E;&#x5728;eax&#x548C;edx&#x5F53;&#x4E2D; - example: - eax = FFFFFFF9 ecx = 00000005 eax&#x7684;&#x7ED3;&#x679C;16&#x8FDB;&#x5236;&#x5E94;&#x8BE5;&#x4E3A;4FFFFFFDD (9&#x4F4D;) 9&#x4F4D;&#x6570;eax&#x5BC4;&#x5B58;&#x5668;&#x5B58;&#x4E0D;&#x4E0B;,&#x653E;&#x5165;&#x5230;edx&#x5BC4;&#x5B58;&#x5668;&#x5F53;&#x4E2D;&#x4E0D;&#x8DB3;&#x7684;&#x5730;&#x65B9;&#x8865;0 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: div &#x65E0;&#x7B26;&#x53F7;&#x9664;&#x6CD5; &#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570; example : div cl (&#x9ED8;&#x8BA4;eax&#x505A;&#x88AB;&#x9664;&#x6570;) &#x6B64;&#x65F6;cl&#x662F;8&#x4F4D; &#x53EA;&#x548C;eax&#x7684;&#x540E;&#x4E24;&#x4F4D;&#x505A;&#x9664;&#x6CD5; eax = 00000017 al = 17(&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x5BF9;&#x5E94;&#x5341;&#x8FDB;&#x5236;&#x7684;23 ecx = 00000003 cl = 03(&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x5BF9;&#x5E94;&#x5341;&#x8FDB;&#x5236;&#x7684;3 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: tips: &#x628A;&#x5546;&#x653E;&#x5165;al&#x4E2D; &#x4F59;&#x6570;&#x653E;&#x5165;ah&#x4E2D; example: div cx (&#x9ED8;&#x8BA4;eax&#x505A;&#x88AB;&#x9664;&#x6570;) &#x6B64;&#x65F6;cx&#x662F;16&#x4F4D; &#x53EA;&#x548C;eax&#x7684;&#x540E;&#x56DB;&#x4F4D;&#x505A;&#x9664;&#x6CD5; eax = 00000017 ax = 17(&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x5BF9;&#x5E94;&#x5341;&#x8FDB;&#x5236;&#x7684;23 ecx = 00000003 cx = 03(&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x5BF9;&#x5E94;&#x5341;&#x8FDB;&#x5236;&#x7684;3 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: tips: &#x628A;&#x5546;&#x653E;&#x5165;ax&#x4E2D; &#x4F59;&#x6570;&#x653E;&#x5165;dx&#x4E2D; example: div ecx (&#x9ED8;&#x8BA4;eax&#x505A;&#x88AB;&#x9664;&#x6570;) &#x6B64;&#x65F6;ecx&#x662F;32&#x4F4D; &#x53EA;&#x548C;eax&#x516B;&#x4F4D;&#x505A;&#x9664;&#x6CD5; eax = 00000017 al = 17(&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x5BF9;&#x5E94;&#x5341;&#x8FDB;&#x5236;&#x7684;23 ecx = 00000003 cl = 03(&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x5BF9;&#x5E94;&#x5341;&#x8FDB;&#x5236;&#x7684;3 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: tips: &#x628A;&#x5546;&#x653E;&#x5165;eax&#x4E2D; &#x4F59;&#x6570;&#x653E;&#x5165;edx&#x4E2D; IMUL &#x6709;&#x7B26;&#x53F7;&#x4E58;&#x6CD5; example: imul cl (&#x5355;&#x64CD;&#x4F5C;&#x6570;) eax = FFFFFFFB (&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;) &#x8F6C;&#x6362;&#x4E3A;&#x5341;&#x8FDB;&#x5236;&#x5BF9;&#x5E94; -5 ecx = 00000002 (&#x5341;&#x516D;&#x8FDB;&#x5236;&#x6570;) &#x8F6C;&#x6362;&#x4E3A;&#x5341;&#x8FDB;&#x5236;&#x5BF9;&#x5E94; 2 cl = cl * al &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x7ED3;&#x679C;&#x5176;&#x5B9E;&#x662F;&#x202D;1FFFFFFF6&#x202C; &#x7136;&#x540E;&#x5BC4;&#x5B58;&#x5668;&#x5BB9;&#x91CF;&#x4E0D;&#x8DB3;&#x5C31;&#x4F1A;&#x628A;&#x6EA2;&#x51FA;&#x4F4D;&#x4E22;&#x6389; - example: - imul ax,cx (&#x53CC;&#x64CD;&#x4F5C;&#x6570;) - eax = FFFFFFF6 - ecx = 00000002 - &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: ![1566373403331](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/compilation/70.png) - &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: - &#x8BA1;&#x7B97;&#x4E4B;&#x540E;&#x8BA1;&#x7B97;&#x7ED3;&#x679C;&#x5E94;&#x8BE5;&#x4E3A;&#x202D;1FFFFFFEC&#x202C;&#x4F46;&#x662F;EAX&#x957F;&#x5EA6;&#x6709;&#x9650;&#x6240;&#x4EE5;&#x5C06;&#x6EA2;&#x51FA;&#x4F4D;&#x4E22;&#x6389;&#x4E86; ![1566373470170](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/compilation/71.png) example: imul ax,cx ,0x2(&#x4E09;&#x64CD;&#x4F5C;&#x6570;) &#x8BA9;cx&#x548C;0x2&#x76F8;&#x4E58;&#x5C06;&#x7ED3;&#x679C;&#x4EA4;&#x7ED9;ax &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: xadd xchg&#x548C;add&#x7684;&#x878D;&#x5408;&#x4F53; xadd eax,ecx &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x5148;&#x5C06;eax&#x548C;ecx&#x4E92;&#x6362;&#x4F4D;&#x7F6E; &#x7136;&#x540E;&#x5C06;eax&#x548C;ecx&#x8FDB;&#x884C;&#x76F8;&#x52A0; &#x5C06;&#x76F8;&#x52A0;&#x7684;&#x7ED3;&#x679C;&#x8D4B;&#x503C;&#x7ED9;eax neg &#x53D6;&#x53CD; &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x903B;&#x8F91;&#x6307;&#x4EE4; and eax = 50 (&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x6362;&#x7B97;&#x6210;&#x4E8C;&#x8FDB;&#x5236; 01010000 (&#x7406;&#x8BBA;&#x4E0A;&#x8FD9;&#x91CC;&#x662F;32&#x4F4D;&#x524D;&#x9762;&#x9700;&#x8981;&#x8865;0,&#x4F46;&#x662F;&#x8865;&#x96F6;&#x548C;&#x4E0D;&#x8865;&#x96F6;&#x7684;&#x8FD0;&#x7B97;&#x7ED3;&#x679C;&#x4E00;&#x6837;) ecx = 80 (&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x6362;&#x7B97;&#x6210;&#x4E8C;&#x8FDB;&#x5236; 10000000 and eax,ecx (&#x6309;&#x4F4D;&#x8BA1;&#x7B97;) 1 and 1 = 1 1 and 0 = 0 0 and 1 = 0 0 and 0 = 0 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x5C06;&#x7ED3;&#x679C;&#x4EA4;&#x7ED9;eax &#x6240;&#x4EE5;eax&#x4E3A;0 or 1 or 1 = 1 1 or 0 = 1 0 or 1 = 1 0 or 0 = 0 eax = 50 (&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x6362;&#x7B97;&#x6210;&#x4E8C;&#x8FDB;&#x5236; 01010000 ecx = 80 (&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x6362;&#x7B97;&#x6210;&#x4E8C;&#x8FDB;&#x5236; 10000000 or eax,ecx (&#x6309;&#x4F4D;&#x8BA1;&#x7B97;) eax : 01010000 ecx : 10000000 &#x7ED3;&#x679C;: 11010000 xor (&#x76F8;&#x540C;&#x4E3A;0,&#x4E0D;&#x540C;&#x4E3A;1) 1 xor 1 = 0 1 xor 0 = 1 0 xor 1 = 1 0 xor 0 = 0 eax = 50 (&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x6362;&#x7B97;&#x6210;&#x4E8C;&#x8FDB;&#x5236; 01010000 ecx = 80 (&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x6362;&#x7B97;&#x6210;&#x4E8C;&#x8FDB;&#x5236; 10000000 xor eax,ecx (&#x6309;&#x4F4D;&#x8BA1;&#x7B97;) eax : 01010000 ecx : 10000000 &#x7ED3;&#x679C;: 11010000 not (&#x53D6;&#x53CD;) not 1 = 0 not 0 = 1 eax = 50 (&#x5341;&#x516D;&#x8FDB;&#x5236;) &#x6362;&#x7B97;&#x6210;&#x4E8C;&#x8FDB;&#x5236; 01010000 not eax 0000 0000 0000 0000 0000 0000 0101 0000 (&#x53D6;&#x53CD;&#x4E4B;&#x524D;) 1111 1111 1111 1111 1111 1111 1010 1111 (&#x53D6;&#x53CD;&#x4E4B;&#x540E;) &#x5341;&#x516D;&#x8FDB;&#x5236; : FFFF FFAF &#x6BD4;&#x8F83;&#x6307;&#x4EE4; cmp &#x5FC5;&#x987B;&#x8981;&#x6709;&#x4E24;&#x4E2A;&#x64CD;&#x4F5C;&#x6570; &#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x51CF;&#x6CD5; example: eax = 00000001 ecx = 00000001 cmp eax,ecx &lt;==&gt; (sub eax,ecx &#x7ED3;&#x679C;&#x4E0D;&#x50A8;&#x5B58;&#x5728;eax&#x91CC; ) &#x4F1A;&#x5F71;&#x54CD;&#x6807;&#x5FD7;&#x4F4D; &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E; : ![1566399992224](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/compilation/81.png) example: eax = &amp;00402000 ecx = &amp;00402010 &amp;00402000 = www.aaa.com &amp;00402010 = www.bbb.com &#x6C47;&#x7F16;&#x8BFB;&#x53D6;&#x5B57;&#x7B26;&#x4E32;&#x7684;&#x65F6;&#x5019;&#x4EE5;00&#x7ED3;&#x5C3E; &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x6BD4;&#x8F83;&#x7684;&#x662F;&#x6570;&#x636E;&#x7A97;&#x53E3;&#x7684;&#x6570;&#x636E;&#x503C;&#x8FD8;&#x662F;&#x5730;&#x5740;&#x5462;? example: cmp eax,[402000] eax = &amp;00402000 &amp;00402000 = 01 eax = 00000001 - &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: ![1566615954749](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/compilation/84.png) - &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: ![1566617258348](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/compilation/85.png)&#x903B;&#x8F91;&#x6BD4;&#x8F83; test test eax,eax test&#x7684;&#x672C;&#x8D28;&#x4E0A;&#x5C31;&#x4E0D;&#x662F;sub&#x4E86; &#x800C;&#x662F;&#x5728;&#x4E8C;&#x8FDB;&#x5236;&#x4E0A;&#x505A;&#x4E86;&#x4E00;&#x4E2A;&#x4E0E;&#x8FD0;&#x7B97; cmp &#x662F;&#x5224;&#x65AD;&#x4E24;&#x4E2A;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x662F;&#x5426;&#x76F8;&#x7B49; test &#x662F;&#x5224;&#x65AD;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x662F;&#x5426;&#x4E3A;0 &#x56E0;&#x4E3A;&#x4EFB;&#x4F55;&#x4E00;&#x4E2A;&#x6570;&#x548C;&#x4ED6;&#x672C;&#x8EAB;&#x505A;&#x4E0E;&#x8FD0;&#x7B97;&#x5F97;&#x5230;&#x7684;&#x7ED3;&#x679C;&#x8FD8;&#x662F;&#x5B83;&#x672C;&#x8EAB; &#x53EA;&#x6709;&#x5BC4;&#x5B58;&#x5668;&#x7684;&#x503C;&#x4E3A;0&#x4E86;&#x548C;&#x5B83;&#x672C;&#x8EAB;&#x505A;&#x4E0E;&#x8FD0;&#x7B97;&#x624D;&#x4E3A;0 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x8DF3;&#x8F6C;&#x6307;&#x4EE4; &#x6709;&#x6761;&#x4EF6;&#x8DF3;&#x8F6C;&#x8DF3;&#x8F6C;&#x6307;&#x4EE4;&#x662F;&#x5426;&#x53D1;&#x751F;&#x8DF3;&#x8F6C;&#x662F;&#x6839;&#x636E;&#x4E0A;&#x4E00;&#x53E5;&#x8BDD;&#x80FD;&#x5426;&#x6539;&#x53D8;&#x6807;&#x5FD7;&#x4F4D;&#x6765;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x53D1;&#x751F;&#x8DF3;&#x8F6C;(&#x4E0D;&#x7BA1;&#x4F60;&#x4E0A;&#x4E00;&#x53E5;&#x662F;&#x6BD4;&#x8F83;&#x6307;&#x4EE4;&#x8FD8;&#x662F;&#x903B;&#x8F91;&#x6307;&#x4EE4;&#x53EA;&#x8981;&#x80FD;&#x6539;&#x53D8;&#x6807;&#x5FD7;&#x4F4D;&#x5C31;&#x53EF;&#x4EE5;) F4 &#x8BA9;&#x7A0B;&#x5E8F;&#x6267;&#x884C;&#x5230;&#x5F53;&#x524D;&#x884C;&#x505C;&#x4E0B; &#x5728; &#x8C03;&#x8BD5;&#x2014;-&gt;&#x9009;&#x9879; &#x4E2D;&#x5C06;&#x8FD9;&#x56DB;&#x4E2A;&#x9009;&#x9879;&#x52FE;&#x9009;&#x4E00;&#x4E0B; jmp &#x65E0;&#x6761;&#x4EF6;&#x8DF3;&#x8F6C;(&#x4E0D;&#x53D7;&#x6807;&#x5FD7;&#x4F4D;&#x7684;&#x5F71;&#x54CD;) je/jz (&#x540D;&#x79F0;&#x4E0D;&#x540C;,&#x6548;&#x679C;&#x76F8;&#x540C;) &#x6839;&#x636E;z&#x6807;&#x5FD7;&#x4F4D;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; 0&#x6807;&#x5FD7;&#x4F4D; z&#x4E3A;1&#x6210;&#x7ACB;,&#x53D1;&#x751F;&#x8DF3;&#x8F6C;,z&#x4E3A;0&#x5931;&#x8D25;,&#x4E0D;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; example: &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x56E0;&#x4E3A;cmp eax,ecx&#x5176;&#x5B9E;&#x662F;&#x505A;&#x4E00;&#x4E2A;&#x51CF;&#x6CD5; &#x6240;&#x4EE5;Z&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;1 &#x56E0;&#x4E3A;Z&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;1 &#x6240;&#x4EE5;je&#x8981;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; &#x5F00;&#x59CB;&#x8DF3;&#x8F6C;: jne/jnz (&#x540D;&#x79F0;&#x4E0D;&#x540C;,&#x6548;&#x679C;&#x76F8;&#x540C;) &#x6839;&#x636E;z&#x6807;&#x5FD7;&#x4F4D;&#x51B3;&#x5B9A;&#x662F;&#x5426;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; 0&#x6807;&#x5FD7;&#x4F4D; z&#x4E3A;0,&#x53D1;&#x751F;&#x8DF3;&#x8F6C;,z&#x4E3A;1,&#x4E0D;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; example: &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x56E0;&#x4E3A; cmp eax,ecx &#x5B9E;&#x8D28;&#x4E0A;&#x6267;&#x884C;&#x7684;&#x662F;&#x51CF;&#x6CD5; &#x51CF;&#x5B8C;&#x4EE5;&#x540E;&#x4E0D;&#x4E3A;0 &#x6240;&#x4EE5;z&#x6807;&#x5FD7;&#x4F4D;0,&#x4E0D;&#x6210;&#x7ACB; &#x56E0;&#x4E3A; z&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;0 &#x4E0D;&#x6210;&#x7ACB; &#x6240;&#x4EE5;jnz&#x8981;&#x8FDB;&#x884C;&#x4E00;&#x4E2A;&#x8DF3;&#x8F6C; &#x64CD;&#x4F5C;&#x4E4B;&#x540E; &#x5F00;&#x59CB;&#x8DF3;&#x8F6C; jo &#x5F53;&#x6EA2;&#x51FA;&#x4F4D;O&#x4E3A;1&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; example: add eax,ecx eax = 7FFFFFFF (&#x6700;&#x5927;&#x6B63;&#x6574;&#x6570;) ecx = 00000001 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x6B64;&#x65F6;eax&#x4E3A;&#x6700;&#x5927;&#x8D1F;&#x6574;&#x6570;,&#x6EA2;&#x51FA;&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;1 &#x8DF3;&#x8F6C;&#x4E4B;&#x540E;: jno &#x5F53;&#x6EA2;&#x51FA;&#x4F4D;O&#x4E3A;1&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4E0D;&#x53D1;&#x751F;&#x8DF3;&#x8F6C;,&#x5F53;&#x6EA2;&#x51FA;&#x4F4D;O&#x4E3A;0&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; example: add eax,ecx eax = 7FFFFFFF (&#x6700;&#x5927;&#x6B63;&#x6574;&#x6570;) ecx = 00000001 &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x8DF3;&#x8F6C;&#x7EBF;&#x4E3A;&#x7070;&#x8272;,&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; jb (&#x770B;&#x7684;&#x662F;&#x65E0;&#x7B26;&#x53F7;&#x6570;) cmp eax,ecx jb &#x5730;&#x5740;&#x503C; &#x5F53;cmp&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x5C0F;&#x4E8E;&#x7B2C;&#x4E8C;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; &#x4E5F;&#x5C31;&#x662F;eax&lt;ecx&#x7684;&#x65F6;&#x5019;&#x5C31;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; &#x4E5F;&#x5C31;&#x662F;&#x501F;&#x4F4D;&#x6807;&#x5FD7;&#x4F4D;C&#x4E3A;1&#x7684;&#x65F6;&#x5019; &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x8DF3;&#x8F6C;&#x4E4B;&#x540E; jnb jbe cmp eax,ecx jbe &#x5730;&#x5740;&#x503C;401018 &#x5F53;cmp&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&lt;=&#x7B2C;&#x4E8C;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x7684;&#x65F6;&#x5019;(C&#x6807;&#x5FD7;&#x4F4D;&#x7F6E;1&#x6216;Z&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;1) &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x5730;&#x65B9;&#x662F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8DF3;&#x8F6C;&#x7684; &#x200B; jnbe = ja cmp eax,ecx jnbe &#x5730;&#x5740;&#x503C;401018 &#x5F53;cmp&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570; &gt; &#x7B2C;&#x4E8C;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x7684;&#x65F6;&#x5019;(C&#x6807;&#x5FD7;&#x4F4D;&#x7F6E;0&#x548C;Z&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;0) jl (&#x770B;&#x7684;&#x662F;&#x6709;&#x7B26;&#x53F7;&#x6570;) cmp eax,ecx jl &#x5730;&#x5740;&#x503C;401018 &#x5F53;cmp&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&lt;&#x7B2C;&#x4E8C;&#x4E2A;&#x64CD;&#x4F5C;&#x6570;&#x7684;&#x65F6;&#x5019;(S&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;1) &#x64CD;&#x4F5C;&#x4E4B;&#x524D;: &#x5047;&#x5982;&#x770B;&#x7684;&#x662F;&#x65E0;&#x7B26;&#x53F7;&#x7684;&#x8BDD;S&#x4E0D;&#x53EF;&#x80FD;&#x4E3A;1 &#x770B;&#x7684;&#x662F;&#x6709;&#x7B26;&#x53F7;&#x7684;&#x8BDD;-9 - 1 = -10 S&#x4E3A;1 &#x64CD;&#x4F5C;&#x4E4B;&#x540E;: &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x4E2A;&#x5730;&#x65B9;&#x662F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x8DF3;&#x8F6C;&#x7684; call &#x76F8;&#x5F53;&#x4E8E;&#x8C03;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x51FD;&#x6570; &#x5982;&#x679C;&#x8FD9;&#x4E2A;call&#x6709;return&#x8D70;return,&#x5426;&#x5219;&#x5C31;&#x56DE;&#x5230;&#x4E3B;&#x65B9;&#x6CD5;&#x4E0A; F7&#x6B65;&#x5165;&#x65B9;&#x6CD5; F8&#x6B65;&#x8FC7;&#x65B9;&#x6CD5; &#x9009;&#x4E2D;call&#x53F3;&#x952E;&#x8DDF;&#x968F;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5B50;&#x65B9;&#x6CD5;,&#x4F46;&#x662F;CPU&#x4E0D;&#x8FC7;&#x53BB;&#x6267;&#x884C; call &#x5728;&#x5806;&#x6808;&#x7A97;&#x53E3;&#x7684;&#x6570;&#x503C;&#x5217;&#x8BB0;&#x5F55;&#x4E86;&#x6267;&#x884C;&#x5B8C;call&#x8981;&#x8FD4;&#x56DE;&#x7684;&#x5730;&#x5740;,&#x6CE8;&#x91CA;&#x5217;&#x8BB0;&#x5F55;&#x4E86;&#x8FD4;&#x56DE;&#x7684;&#x5730;&#x5740;&#x548C;&#x5B50;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x7B2C;&#x4E00;&#x53E5;&#x8BDD;&#x7684;&#x5730;&#x5740;. &#x5C0F;&#x952E;&#x76D8;&#x51CF;&#x53F7;&#x51CF;&#x53EF;&#x4EE5;&#x56DE;&#x5230;call&#x8C03;&#x7528;&#x5904;,&#x4F46;&#x662F;CPU&#x5E76;&#x6CA1;&#x6709;&#x8FD4;&#x56DE;&#x5230;&#x8C03;&#x7528;&#x5904; push 402000 //&#x5C06;402000&#x8FD9;&#x4E2A;&#x5730;&#x5740;&#x538B;&#x5165;&#x6808;&#x4E2D; retn //&#x8DF3;&#x8F6C;&#x5230;402000&#x5730;&#x5740;&#x4E0A; &#x4E0A;&#x9762;&#x8FD9;&#x4E24;&#x4E2A;&#x547D;&#x4EE4;&#x5408;&#x8D77;&#x6765;&#x76F8;&#x5F53;&#x4E8E; jmp402000 loop &#x8BA1;&#x6570;&#x5668;&#x4E00;&#x822C;&#x7528;ecx&#x5BC4;&#x5B58;&#x5668; xor ecx,ecx //&#x6E05;&#x7A7A;ecx&#x8BA1;&#x6570;&#x5668; ecx = 0 mov ecx,0x6 //ecx = 6 dec ecx //ecx&#x2013; test ecx,ecx //ecx&#x662F;&#x5426;&#x4E3A;0 &#x6216;&#x8005;&#x4F7F;&#x7528;cmp ecx,0 jnz 401007 //z&#x4E3A;0(&#x5373;&#x8BA1;&#x6570;&#x5668;ecx&#x4E0D;&#x4E3A;0),&#x53D1;&#x751F;&#x8DF3;&#x8F6C;,z&#x4E3A;1(&#x5373;&#x8BA1;&#x6570;&#x5668;ecx&#x4E3A;0),&#x4E0D;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; loop xor ecx,ecx //&#x6E05;&#x7A7A;ecx&#x8BA1;&#x6570;&#x5668; ecx = 0 mov ecx,0x6 //ecx = 6 loop 401007 //&#x76F8;&#x5F53;&#x4E8E;&#x4E0A;&#x9762;&#x7684;&#x90A3;&#x4E09;&#x53E5;&#x8BDD; &#x5F53;&#x8D70;&#x5230;loop&#x6307;&#x4EE4;&#x7684;&#x65F6;&#x5019;ecx&#x8FD8;&#x6CA1;&#x5F00;&#x59CB;&#x51CF;,&#x4F46;&#x662F;&#x8DF3;&#x8F6C;&#x7EBF;&#x6BD4;&#x8F83;&#x7684;&#x662F;&#x51CF;&#x8FC7;&#x7684;ecx&#x548C;0&#x7684;&#x6BD4;&#x8F83; loop &#x662F;8&#x4F4D;&#x6307;&#x4EE4;&#x662F; cl loopw&#x662F;16&#x4F4D;&#x6307;&#x4EE4;&#x662F; cx loopd&#x662F;32&#x4F4D;&#x6307;&#x4EE4;&#x662F; ecx &#x76F4;&#x63A5;&#x5BFB;&#x5740;: &#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x770B;&#x5230;&#x6307;&#x4EE4;&#x540E;&#x7684;&#x5730;&#x5740;&#x503C; MOV DWORD PTR [00401000] , EAX MOV AXE , WDRD PTR [00401000] CALL 401000 JMP 401000 &#x95F4;&#x63A5;&#x5BFB;&#x5740;: &#x53EA;&#x6709;&#x8D70;&#x5230;&#x4E86;&#x90A3;&#x4E00;&#x884C;&#x4EE5;&#x540E;&#x624D;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8981;&#x8DF3;&#x8F6C;&#x7684;&#x5BC4;&#x5B58;&#x5668;&#x6216;&#x8005;&#x53D8;&#x91CF;&#x7684;&#x5730;&#x5740;&#x503C; MOV DWORD PTR [EAX] , ECX CALL EAX JMP [EBX+8] document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>逆向</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[逆向分析(二)----硬编码寻找序列号(作业)]]></title>
    <url>%2Fwindows-ni-xiang%2F2019%2F03%2F09%2Fni-xiang-fen-xi-san-ying-bian-ma-xun-zhao-xu-lie-hao-zuo-ye.html</url>
    <content type="text"><![CDATA[document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>windows逆向</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[逆向分析(二)----硬编码寻找序列号]]></title>
    <url>%2Fwindows-ni-xiang%2F2019%2F03%2F09%2Fni-xiang-fen-xi-er-ying-bian-ma-xun-zhao-xu-lie-hao.html</url>
    <content type="text"><![CDATA[&#x9006;&#x5411;&#x5206;&#x6790;(&#x4E8C;)&#x2014;-&#x786C;&#x7F16;&#x7801;&#x5BFB;&#x627E;&#x5E8F;&#x5217;&#x53F7; &#x786C;&#x7F16;&#x7801;&#x5BFB;&#x627E;&#x5E8F;&#x5217;&#x53F7;(&#x4E00;) &#x9996;&#x5148;&#x8981;&#x4F1A;&#x7528;&#x8FD9;&#x4E2A;&#x8F6F;&#x4EF6; &#x5BFC;&#x5165;OD &#x4F7F;&#x7528;&#x667A;&#x80FD;&#x641C;&#x7D22; &#x4E00;&#x822C;&#x82F1;&#x6587;&#x7684;&#x8BDD;ASCII&#x5C45;&#x591A; &#x4E2D;&#x6587;&#x6216;&#x8005;&#x97E9;&#x6587;UNICEODE&#x5C45;&#x591A; &#x5982;&#x679C;&#x4E0D;&#x77E5;&#x9053;&#x7684;&#x8BDD;&#x5C31;&#x7528;&#x667A;&#x80FD;&#x641C;&#x7D22; &#x5728;MessageBoxA&#x51FD;&#x6570;&#x548C;GetDlgItemTextA&#x51FD;&#x6570;&#x90FD;&#x6253;&#x4E0A;&#x65AD;&#x70B9; &#x8FD0;&#x884C;&#x8FD9;&#x4E2A;&#x7A0B;&#x5E8F;,&#x6B64;&#x65F6;&#x5C31;&#x5728;GetDlgItemTextA&#x83B7;&#x53D6;&#x6587;&#x672C;&#x6846;&#x7684;&#x5185;&#x5BB9;&#x7684;&#x65F6;&#x5019;&#x65AD;&#x4E0B;&#x6765;&#x4E86; &#x627E;&#x5230;Buffer&#x53C2;&#x6570; buffer&#x53C2;&#x6570;&#x6307;&#x7684;&#x662F;&#x4F60;&#x5728;&#x7F16;&#x8F91;&#x6846;&#x4E2D;&#x8F93;&#x5165;&#x7684;&#x503C;&#x6240;&#x5B58;&#x653E;&#x7684;&#x5730;&#x65B9; &#x5728;&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x53BB;&#x8DDF;&#x968F;&#x4E2A;&#x503C; &#x7136;&#x540E;&#x5728;&#x8C03;&#x8BD5;&#x4E2D;&#x4F7F;&#x7528;&#x6267;&#x884C;&#x5230;&#x8FD4;&#x56DE;,&#x5C31;&#x662F;&#x5C06;&#x8FD9;&#x4E2A;GetDlgItemTextA&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x6267;&#x884C;&#x5230;return&#x7684;&#x5730;&#x65B9; &#x62FF;&#x5230;&#x4E86;&#x6211;&#x7F16;&#x8F91;&#x6846;&#x4E2D;&#x7684;&#x503C; &#x6B64;&#x65F6;&#x5C06;403010&#x5730;&#x5740;&#x7684;&#x6570;&#x503C;&#x5B58;&#x653E;&#x5230;&#x8FD9;&#x4E2A;ebx&#x4E2D;&#x5B58;&#x653E;&#x7684;&#x662F;&#x56DB;&#x4E2A;1 &#x7136;&#x540E;&#x5C06;&#x5730;&#x5740;00403008&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#x548C;ebx&#x91CC;&#x9762;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83; &#x6B64;&#x65F6;Z&#x6807;&#x5FD7;&#x4F4D;&#x4E0D;&#x662F;1 &#x4E5F;&#x5C31;&#x8BF4;&#x660E;ebx&#x7684;&#x503C;&#x548C;[403008]&#x7684;&#x503C;&#x4E0D;&#x540C; &#x7136;&#x540E;je&#x5C31;&#x4E0D;&#x53D1;&#x751F;&#x8DF3;&#x8F6C;&#x4E00;&#x76F4;&#x5F80;&#x4E0B;&#x8D70; &#x7136;&#x540E;&#x5C31;&#x5F39;&#x7A97;&#x6CE8;&#x518C;&#x7801;&#x4E0D;&#x6B63;&#x786E; &#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x6CE8;&#x518C;&#x7801;&#x5C31;&#x6B63;&#x786E; &#x5176;&#x5B9E;&#x8FD8;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x5B57;&#x7B26;&#x4E32;&#x76F4;&#x63A5;&#x5206;&#x6790;&#x8FD9;&#x91CC;,&#x4F46;&#x662F;&#x4E0D;&#x63A8;&#x8350;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;? &#x9632;&#x6B62;&#x4F5C;&#x8005;&#x6545;&#x610F;&#x57CB;&#x4E0B;&#x9677;&#x9631;&#x4EE5;&#x81F4;&#x4E2D;&#x62DB; &#x786C;&#x7F16;&#x7801;&#x5BFB;&#x627E;&#x5E8F;&#x5217;&#x53F7;(&#x4E8C;) ctrl+n &#x67E5;&#x770B;&#x51FD;&#x6570;&#x5217;&#x8868; &#x627E;&#x5230;GetDlgItemTextA&#x51FD;&#x6570; &#x5728;&#x6B64;&#x51FD;&#x6570;&#x4E0A;&#x8BBE;&#x7F6E;&#x5207;&#x6362;&#x65AD;&#x70B9; F9&#x8FD0;&#x884C; &#x8F93;&#x5165;6&#x4E2A;1 &#x70B9;&#x51FB;&#x9A8C;&#x8BC1; &#x5728;&#x5806;&#x6808;&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x627E;&#x5230;GetDlgItemTextA&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;Buffer,&#x7136;&#x540E;&#x5728;&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x8DDF;&#x968F; &#x5728;&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x8DDF;&#x968F;&#x7684;&#x6570;&#x636E;&#x662F;&#x6570;&#x503C;&#x5217;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x636E;0040300C &#x5982;&#x679C;&#x4E0D;&#x60F3;&#x5728;&#x5806;&#x6808;&#x7A97;&#x53E3;&#x4E2D;&#x8FDB;&#x884C;&#x8DDF;&#x968F;&#x7684;&#x8BDD;,&#x4E5F;&#x53EF;&#x4EE5;&#x5728;HEX&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x53F3;&#x952E;&#x2014;-&gt;&#x8F6C;&#x5230;0040300C &#x7136;&#x540E;&#x6211;&#x4EEC;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x8C03;&#x8BD5;&#x7A97;&#x53E3;&#x4E2D;,&#x9009;&#x62E9;&#x6267;&#x884C;&#x5230;&#x8FD4;&#x56DE;ctrl+f9,&#x5C06;&#x8FD9;&#x4E2A;GetDlgItemTextA&#x51FD;&#x6570;&#x6267;&#x884C;&#x5B8C;&#x6BD5; &#x7136;&#x540E;&#x6211;&#x4EEC;F8&#x518D;&#x8FD0;&#x884C;&#x4E00;&#x6B65;,&#x5C31;&#x51FA;call&#x4E86; mov ebx,dword ptr ds:[0x40300C] &#x5C06;&#x5730;&#x5740;40300C&#x4EA4;&#x7ED9;ebx &#x53EA;&#x53D6;40300C&#x5730;&#x5740;&#x4E0A;&#x7684;&#x524D;&#x56DB;&#x4E2A;&#x5B57;&#x8282; mov edx,dword ptr ds:[0x40204B] &#x5C06;&#x5730;&#x5740;0x40204B&#x4EA4;&#x7ED9;edx &#x53EA;&#x53D6;0x40204B&#x5730;&#x5740;&#x4E0A;&#x7684;&#x524D;&#x56DB;&#x4E2A;&#x5B57;&#x8282; &#x7EE7;&#x7EED;&#x5411;&#x4E0B;&#x8FD0;&#x884C; &#x53D1;&#x73B0;edx&#x7684;&#x503C;&#x662F;31323334 cmp ebx&#x548C;edx&#x6BD4;&#x8F83;&#x7684;&#x662F;&#x673A;&#x5668;&#x7801;&#x4E0D;&#x662F;&#x5341;&#x8FDB;&#x5236;&#x7684;&#x6570;&#x5B57; &#x6807;&#x5FD7;&#x4F4D;Z&#x4E3A;0 &#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; &#x7136;&#x540E;&#x6211;&#x4EEC;&#x5C31;&#x80FD;&#x6D4B;&#x8BD5;&#x51FA;&#x6765;edx&#x4E3A;&#x771F;&#x7801; &#x4E3A;1234 &#x786C;&#x7F16;&#x7801;&#x5BFB;&#x627E;&#x5E8F;&#x5217;&#x53F7;(&#x4E09;) ctrl+n &#x76F4;&#x63A5;&#x8F93;&#x5165;GetWindowTextA GetWindowTextA&#x548C;GetDlgItemTextA&#x90FD;&#x662F;&#x83B7;&#x53D6;&#x7F16;&#x8F91;&#x6846;&#x6587;&#x672C;&#x7684; &#x5728;GetWindowTextA&#x4E0A;&#x5207;&#x6362;&#x65AD;&#x70B9; &#x5728;MessageBoxA&#x4E0A;&#x5207;&#x6362;&#x65AD;&#x70B9; &#x5728;lstrcmpA&#x4E0A;&#x4E5F;&#x6765;&#x4E2A;&#x5207;&#x6362;&#x65AD;&#x70B9; &#x8FD9;&#x6B21;&#x5728;CPU&#x7A97;&#x53E3;&#x4F7F;&#x7528;&#x667A;&#x80FD;&#x4E2D;&#x6587;&#x641C;&#x7D22; &#x53CC;&#x51FB; &#x62B1;&#x6B49;,&#x5E8F;&#x5217;&#x53F7;&#x9519;&#x8BEF;&#x4E86;,&#x8BF7;&#x6838;&#x5BF9;&#x540E;&#x91CD;&#x65B0;&#x8F93;&#x5165; &#x5728;&#x8FD9;&#x4E2A;&#x5173;&#x952E;&#x8DF3;&#x8FD9;&#x91CC;&#x6253;&#x4E0A;&#x65AD;&#x70B9; &#x5C06;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x8D77;&#x6765; &#x8F93;&#x5165;111111&#x4F5C;&#x4E3A;&#x5E8F;&#x5217;&#x53F7;,&#x70B9;&#x51FB;&#x9A8C;&#x8BC1; call&#x4E0A;&#x9762;&#x8FD9;&#x4E24;&#x4E2A;push&#x7684;&#x503C;&#x4E3A;&#x53C2;&#x6570; &#x53F3;&#x952E;&#x67E5;&#x770B;&#x7ACB;&#x5373;&#x6570;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x8FD9;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x503C; &#x8D70;&#x5B8C;call eax&#x7684;&#x503C;&#x4E3A;FFFFFFFF jnz 0&#x6807;&#x5FD7;&#x4F4D; z&#x4E3A;0,&#x53D1;&#x751F;&#x8DF3;&#x8F6C;,z&#x4E3A;1,&#x4E0D;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; &#x7136;&#x540E;z&#x6807;&#x5FD7;&#x4F4D;&#x4E3A;0&#x5C31;&#x53D1;&#x751F;&#x8DF3;&#x8F6C; &#x5927;&#x5199;&#x5B57;&#x6BCD;&#x548C;&#x5C0F;&#x5199;&#x5B57;&#x6BCD;&#x7684;&#x673A;&#x5668;&#x7801;&#x4E0D;&#x4E00;&#x6837; &#x786C;&#x7F16;&#x7801;&#x5BFB;&#x627E;&#x5E8F;&#x5217;&#x53F7;(&#x56DB;) ctrl+n &#x627E;&#x5230;GetDlgItemTextA&#x6253;&#x4E0A;&#x5207;&#x6362;&#x65AD;&#x70B9; &#x5728;&#x7F16;&#x8F91;&#x6846;&#x4E2D;&#x8F93;&#x5165;11111111 &#x5728;GetDlgItemTextA&#x65AD;&#x9996;&#x7684;&#x4F4D;&#x7F6E;&#x65AD;&#x4E0B;&#x6765;&#x4E86; &#x7136;&#x540E;&#x5728;GetDlgItemTextA&#x53C2;&#x6570;Buffer&#x70B9;&#x51FB;&#x53F3;&#x952E;&#x5728;&#x6570;&#x636E;&#x7A97;&#x53E3;&#x4E2D;&#x8DDF;&#x968F; &#x6267;&#x884C;&#x5230;&#x7A0B;&#x5E8F;&#x8FD4;&#x56DE; &#x8FD9;&#x91CC;&#x5F97;&#x5230;&#x6211;&#x8F93;&#x5165;&#x7684;8&#x4E2A;1 F8&#x4E0B;&#x4E00;&#x6B65;&#x8FDB;&#x5165;&#x7A0B;&#x5E8F;&#x9886;&#x7A7A; &#x628A;&#x5149;&#x6807;&#x505C;&#x7559;&#x5728;00401303&#x8FD9;&#x4E00;&#x884C;&#x4E0A; ss:[ebp-0x10] &#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5B83;&#x5176;&#x5B9E;&#x5C31;&#x662F;[0240FAC0] &#x73B0;&#x5728;&#x628A;&#x5B83;&#x8D4B;&#x503C;&#x4E3A;0 &#x518D;&#x6B21;&#x56DE;&#x6765;&#x770B;[0240FAC0] &#x5C31;&#x7B49;&#x4E8E;&#x4E86;00000000 F8&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x8D70;mov eax,&#x786C;&#x7F16;&#x7801;&#x5BFB;.00401222 &#x5C06;&#x8FD9;&#x6BB5;&#x5B57;&#x7B26;&#x4E32;&#x4EA4;&#x7ED9;eax &#x518D;&#x628A;eax&#x7684;&#x503C;&#x7684;&#x524D;&#x56DB;&#x4F4D;&#x4EA4;&#x7ED9;edx &#x5168;&#x90E8;&#x5206;&#x6790;&#x5B8C;&#x6BD5; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>windows逆向</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[逆向分析(二)----硬编码寻找序列号(作业)]]></title>
    <url>%2Fwindows-ni-xiang%2F2019%2F03%2F09%2Fni-xiang-fen-xi-si-ying-bian-ma-xun-zhao-xu-lie-hao-translatemessage.html</url>
    <content type="text"><![CDATA[TranslateMessage &#x5F53;&#x6211;&#x4EEC;&#x5728;GetWindowTextA&#x548C;GetDlgItemTextA&#x8FD9;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x4E0A;&#x4E0B;&#x65AD;&#x90FD;&#x6CA1;&#x6709;&#x53CD;&#x5E94;&#x7684;&#x65F6;&#x5019; &#x6211;&#x4EEC;&#x9700;&#x8981;&#x5728;command&#x547D;&#x4EE4;&#x7A97;&#x53E3;&#x4E2D;&#x8F93;&#x5165;BP TranslateMessage (&#x6D88;&#x606F;&#x65AD;&#x70B9;) TranslateMessage&#x5C06;&#x865A;&#x62DF;&#x6441;&#x952E;&#x6D88;&#x606F;&#x8F6C;&#x6362;&#x4E3A;&#x5B57;&#x7B26;&#x6D88;&#x606F;&#x7684;&#x51FD;&#x6570; &#x53EA;&#x8981;&#x6253;&#x4E0A;&#x8FD9;&#x4E2A;&#x65AD;&#x70B9;&#x7A0B;&#x5E8F;&#x5C31;&#x4F1A;&#x4E00;&#x76F4;&#x5904;&#x4E8E;&#x65AD;&#x70B9;&#x72B6;&#x6001; &#x6211;&#x4EEC;&#x53CC;&#x51FB;B&#x7A97;&#x53E3;&#x7684;&#x65AD;&#x70B9; &#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7ED9;&#x8FD9;&#x4E2A;&#x65AD;&#x70B9;&#x52A0;&#x4E0A;&#x6761;&#x4EF6;&#x8BB0;&#x5F55; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>windows逆向</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[jMeter]]></title>
    <url>%2Fce-shi%2F2019%2F03%2F09%2Fjmetet.html</url>
    <content type="text"><![CDATA[&#x5E38;&#x7528;&#x538B;&#x529B;&#x6D4B;&#x8BD5;&#x5DE5;&#x5177;&#x5BF9;&#x6BD4; loadrunner &#x6027;&#x80FD;&#x7A33;&#x5B9A;&#xFF0C;&#x538B;&#x6D4B;&#x7ED3;&#x679C;&#x53CA;&#x7EC6;&#x7C92;&#x5EA6;&#x5927;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5B9A;&#x4E49;&#x811A;&#x672C;&#x8FDB;&#x884C;&#x538B;&#x6D4B;&#xFF0C;&#x4F46;&#x662F;&#x592A;&#x8FC7;&#x4E8E;&#x91CD;&#x5927;&#xFF0C;&#x529F;&#x80FD;&#x6BD4;&#x8F83;&#x7E41;&#x591A; apache ab(&#x5355;&#x63A5;&#x53E3;&#x538B;&#x6D4B;&#x6700;&#x65B9;&#x4FBF;) &#x6A21;&#x62DF;&#x591A;&#x7EBF;&#x7A0B;&#x5E76;&#x53D1;&#x8BF7;&#x6C42;,ab&#x547D;&#x4EE4;&#x5BF9;&#x53D1;&#x51FA;&#x8D1F;&#x8F7D;&#x7684;&#x8BA1;&#x7B97;&#x673A;&#x8981;&#x6C42;&#x5F88;&#x4F4E;&#xFF0C;&#x65E2;&#x4E0D;&#x4F1A;&#x5360;&#x7528;&#x5F88;&#x591A;CPU&#xFF0C;&#x4E5F;&#x4E0D;&#x4F1A;&#x5360;&#x7528;&#x592A;&#x591A;&#x7684;&#x5185;&#x5B58;&#xFF0C;&#x4F46;&#x5374;&#x4F1A;&#x7ED9;&#x76EE;&#x6807;&#x670D;&#x52A1;&#x5668;&#x9020;&#x6210;&#x5DE8;&#x5927;&#x7684;&#x8D1F;&#x8F7D;, &#x7B80;&#x5355;DDOS&#x653B;&#x51FB;&#x7B49; webbench webbench&#x9996;&#x5148;fork&#x51FA;&#x591A;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#xFF0C;&#x6BCF;&#x4E2A;&#x5B50;&#x8FDB;&#x7A0B;&#x90FD;&#x5FAA;&#x73AF;&#x505A;web&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;&#x3002;&#x5B50;&#x8FDB;&#x7A0B;&#x628A;&#x8BBF;&#x95EE;&#x7684;&#x7ED3;&#x679C;&#x901A;&#x8FC7;pipe&#x544A;&#x8BC9;&#x7236;&#x8FDB;&#x7A0B;&#xFF0C;&#x7236;&#x8FDB;&#x7A0B;&#x505A;&#x6700;&#x7EC8;&#x7684;&#x7EDF;&#x8BA1;&#x7ED3;&#x679C;&#x3002; JMeter&#x57FA;&#x7840;&#x77E5;&#x8BC6;&#x8BB2;&#x89E3;&#x548C;&#x538B;&#x6D4B;&#x5B9E;&#x64CD; &#x5B98;&#x65B9;&#x6587;&#x6863; http://jmeter.apache.org/ &#x538B;&#x6D4B;&#x4E0D;&#x540C;&#x7684;&#x534F;&#x8BAE;&#x548C;&#x5E94;&#x7528; 1) Web - HTTP, HTTPS (Java, NodeJS, PHP, ASP.NET, &#x2026;) 2) SOAP / REST Webservices 3) FTP 4) Database via JDBC 5) LDAP &#x8F7B;&#x91CF;&#x76EE;&#x5F55;&#x8BBF;&#x95EE;&#x534F;&#x8BAE; 6) Message-oriented middleware (MOM) via JMS 7) Mail - SMTP(S), POP3(S) and IMAP(S) 8) TCP&#x7B49;&#x7B49; &#x4F7F;&#x7528;&#x573A;&#x666F;&#x53CA;&#x4F18;&#x70B9; 1&#xFF09;&#x529F;&#x80FD;&#x6D4B;&#x8BD5; 2&#xFF09;&#x538B;&#x529B;&#x6D4B;&#x8BD5; 3&#xFF09;&#x5206;&#x5E03;&#x5F0F;&#x538B;&#x529B;&#x6D4B;&#x8BD5; 4&#xFF09;&#x7EAF;java&#x5F00;&#x53D1; 5&#xFF09;&#x4E0A;&#x624B;&#x5BB9;&#x6613;&#xFF0C;&#x9AD8;&#x6027;&#x80FD; 4&#xFF09;&#x63D0;&#x4F9B;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x5206;&#x6790; 5&#xFF09;&#x5404;&#x79CD;&#x62A5;&#x8868;&#x6570;&#x636E;&#x56FE;&#x5F62;&#x5C55;&#x793A; &#x672C;&#x5730;&#x5FEB;&#x901F;&#x5B89;&#x88C5;Jmeter4.x &#x9700;&#x8981;&#x5B89;&#x88C5;JDK8&#x3002;&#x6216;&#x8005;JDK9,JDK10 &#x5FEB;&#x901F;&#x4E0B;&#x8F7D; windows&#xFF1A; http://mirrors.tuna.tsinghua.edu.cn/apache//jmeter/binaries/apache-jmeter-4.0.zipmac&#x6216;&#x8005;linux&#xFF1A;http://mirrors.tuna.tsinghua.edu.cn/apache//jmeter/binaries/apache- jmeter-4.0.tgz &#x5EFA;&#x8BAE;&#x5B89;&#x88C5;JDK&#x73AF;&#x5883;&#xFF0C;&#x867D;&#x7136;JRE&#x4E5F;&#x53EF;&#x4EE5;&#xFF0C;&#x4F46;&#x662F;&#x538B;&#x6D4B;https&#x9700;&#x8981;JDK&#x91CC;&#x9762;&#x7684; keytool&#x5DE5;&#x5177; Jmeter&#x76EE;&#x5F55;&#x6587;&#x4EF6;&#x8BB2;&#x89E3; &#x76EE;&#x5F55; bin:&#x6838;&#x5FC3;&#x53EF;&#x6267;&#x884C;&#x6587;&#x4EF6;&#xFF0C;&#x5305;&#x542B;&#x914D;&#x7F6E; jmeter.bat: windows&#x542F;&#x52A8;&#x6587;&#x4EF6; jmeter: mac&#x6216;&#x8005;linux&#x542F;&#x52A8;&#x6587;&#x4EF6; jmeter-server&#xFF1A;mac&#x6216;&#x8005;Liunx&#x5206;&#x5E03;&#x5F0F;&#x538B;&#x6D4B;&#x4F7F;&#x7528;&#x7684;&#x542F;&#x52A8;&#x6587;&#x4EF6; jmeter-server.bat&#xFF1A;windows&#x5206;&#x5E03;&#x5F0F;&#x538B;&#x6D4B;&#x4F7F;&#x7528;&#x7684;&#x542F;&#x52A8;&#x6587;&#x4EF6; jmeter.properties: &#x6838;&#x5FC3;&#x914D;&#x7F6E;&#x6587;&#x4EF6; extras&#xFF1A;&#x63D2;&#x4EF6;&#x62D3;&#x5C55;&#x7684;&#x5305; lib:&#x6838;&#x5FC3;&#x5305; ext:&#x6838;&#x5FC3;&#x5305; junit:&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5305;Jmeter&#x8BED;&#x8A00;&#x7248;&#x672C;&#x4E2D;&#x82F1;&#x6587;&#x5207;&#x6362; &#x4E34;&#x65F6;&#x4E2D;&#x6587;&#x91CD;&#x542F;&#x6062;&#x590D; &#x6C38;&#x4E45;&#x4E2D;&#x6587; bin&#x76EE;&#x5F55; -&gt; jmeter.properties &#x9ED8;&#x8BA4; #language=en &#x6539;&#x4E3A; language=zh_CN &#x4F7F;&#x7528;SpringBoot 2.0&#x5FEB;&#x901F;&#x7F16;&#x5199;API&#x6D4B;&#x8BD5;&#x63A5;&#x53E3;&#x4F7F;&#x7528;java&#x7684;&#x6846;&#x67B6;springBoot&#x5FEB;&#x901F;&#x7F16;&#x5199;&#x51E0;&#x4E2A;API&#x63A5;&#x53E3;&#x6D4B;&#x8BD5; https://start.spring.io/ &#x9996;&#x5148;&#x5728;&#x5229;&#x7528;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x4E0A;&#x5199;&#x4E00;&#x4E2A;helloworld,&#x53EA;&#x7528;&#x4E00;&#x4E2A;get&#x63A5;&#x53E3;&#x80AF;&#x5B9A;&#x4E0D;&#x884C;,&#x6240;&#x4EE5;&#x5728;controller&#x5C42;&#x505A;&#x5982;&#x4E0B;&#x4FEE;&#x6539;: import java.util.ArrayList; import java.util.HashMap; import java.util.List; import java.util.Map; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestMethod; import org.springframework.web.bind.annotation.ResponseBody; import org.springframework.web.bind.annotation.RestController; @RestController public class HelloController { @RequestMapping(value = &quot;users&quot;, method = RequestMethod.GET) public @ResponseBody Object users() { List&lt;String&gt; userList = new ArrayList&lt;&gt;(); userList.add(&quot;tom&quot;); userList.add(&quot;marry&quot;); userList.add(&quot;jack&quot;); return userList; } @RequestMapping(value = &quot;login&quot;, method = RequestMethod.POST) public @ResponseBody Object login(String name, String pwd) { Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); if(&quot;123&quot;.equals(pwd) &amp;&amp; &quot;jack&quot;.equals(name)){ map.put(&quot;status&quot;, 0); } else { map.put(&quot;status&quot;, -1); } return map; } /** * &#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;&#x6D4B;&#x8BD5; */ @RequestMapping(value = &quot;info&quot;, method = RequestMethod.GET) public @ResponseBody Object info(String name, String pwd) { List&lt;String&gt; userList = new ArrayList&lt;&gt;(); userList.add(name); userList.add(pwd); userList.add(name.length()+&quot;&quot;); System.out.println(&quot;get request, info api&quot;); return userList; } }&#x5C06;&#x5E94;&#x7528;&#x5728;&#x672C;&#x5730;&#x8DD1;&#x8D77;&#x6765;,&#x8BBF;&#x95EE;http://localhost:8080/users [ &quot;tom&quot;, &quot;marry&quot;, &quot;jack&quot; ]&#x80FD;&#x591F;&#x770B;&#x5230;&#x8FD4;&#x56DE;&#x7684;list&#x5219;&#x8BC1;&#x660E;&#x672C;&#x5730;&#x90E8;&#x7F72;&#x6210;&#x529F; &#x5728;&#x8981;&#x6D4B;&#x8BD5;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x8FDB;&#x884C;&#x65E5;&#x5FD7;&#x6253;&#x70B9;&#x5904;&#x7406; import java.util.ArrayList; import java.util.HashMap; import java.util.List; import java.util.Map; import org.springframework.web.bind.annotation.RequestMapping; import org.springframework.web.bind.annotation.RequestMethod; import org.springframework.web.bind.annotation.ResponseBody; import org.springframework.web.bind.annotation.RestController; @RestController public class HelloController { @RequestMapping(value = &quot;users&quot;, method = RequestMethod.GET) public @ResponseBody Object users() { List&lt;String&gt; userList = new ArrayList&lt;&gt;(); userList.add(&quot;tom&quot;); userList.add(&quot;marry&quot;); userList.add(&quot;jack&quot;); System.out.println(&quot;get request, users api&quot;); return userList; } @RequestMapping(value = &quot;login&quot;, method = RequestMethod.POST) public @ResponseBody Object login(String name, String pwd) { Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); if(&quot;123&quot;.equals(pwd) &amp;&amp; &quot;jack&quot;.equals(name)){ map.put(&quot;status&quot;, 0); } else { map.put(&quot;status&quot;, -1); } System.out.println(&quot;get request, login api&quot;); return map; } /** * &#x7528;&#x6237;&#x81EA;&#x5B9A;&#x4E49;&#x53D8;&#x91CF;&#x6D4B;&#x8BD5; */ @RequestMapping(value = &quot;info&quot;, method = RequestMethod.GET) public @ResponseBody Object info(String name, String pwd) { List&lt;String&gt; userList = new ArrayList&lt;&gt;(); userList.add(name); userList.add(pwd); userList.add(name.length()+&quot;&quot;); System.out.println(&quot;get request, info api&quot;); return userList; } }Jmeter&#x57FA;&#x7840;&#x529F;&#x80FD;&#x7EC4;&#x4EF6;&#x4ECB;&#x7ECD;&#x7EBF;&#x7A0B;&#x7EC4;&#x548C;Sampler &#x6DFB;&#x52A0;-&gt;threads-&gt;&#x7EBF;&#x7A0B;&#x7EC4;&#xFF08;&#x63A7;&#x5236;&#x603B;&#x4F53;&#x5E76;&#x53D1;&#xFF09; &#x7EBF;&#x7A0B;&#x6570;&#xFF1A;&#x865A;&#x62DF;&#x7528;&#x6237;&#x6570;&#x3002;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x7528;&#x6237;&#x5360;&#x7528;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x6216;&#x7EBF;&#x7A0B; &#x51C6;&#x5907;&#x65F6;&#x957F;&#xFF08;Ramp-Up Period(in seconds)&#xFF09;&#xFF1A;&#x5168;&#x90E8;&#x7EBF;&#x7A0B;&#x542F;&#x52A8;&#x7684;&#x65F6;&#x957F;&#xFF0C;&#x6BD4;&#x5982;100&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;20&#x79D2;&#xFF0C;&#x5219;&#x8868;&#x793A;20&#x79D2;&#x5185; 100&#x4E2A;&#x7EBF;&#x7A0B;&#x90FD;&#x8981;&#x542F;&#x52A8;&#x5B8C;&#x6210;&#xFF0C;&#x6BCF;&#x79D2;&#x542F;&#x52A8;5&#x4E2A;&#x7EBF;&#x7A0B; &#x5FAA;&#x73AF;&#x6B21;&#x6570;&#xFF1A;&#x6BCF;&#x4E2A;&#x7EBF;&#x7A0B;&#x53D1;&#x9001;&#x7684;&#x6B21;&#x6570;&#xFF0C;&#x5047;&#x5982;&#x503C;&#x4E3A;5&#xFF0C;100&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x5219;&#x4F1A;&#x53D1;&#x9001;500&#x6B21;&#x8BF7;&#x6C42;&#xFF0C;&#x53EF;&#x4EE5;&#x52FE;&#x9009;&#x6C38;&#x8FDC;&#x5FAA;&#x73AF;,&#x5982;&#x679C;&#x53D6;&#x6D88;&#x65E0;&#x7EBF;&#x5FAA;&#x73AF;&#x4E00;&#x5B9A;&#x8981;&#x5728;&#x540E;&#x9762;&#x586B;&#x4E0A;&#x4E00;&#x4E2A;1 &#x5F00;&#x542F;&#x67E5;&#x770B;&#x7ED3;&#x679C;&#x6811; &#x6A21;&#x62DF;&#x6D4B;&#x8BD5;&#x4E00;&#x4E2A;&#x7528;&#x6237;&#x63A5;&#x53E3; &#x89C2;&#x5BDF;&#x7ED3;&#x679C;&#x6811; &#x6D4B;&#x8BD5;post&#x63D0;&#x4EA4; &#x591A;&#x4E2A;&#x63A5;&#x53E3;&#x540C;&#x65F6;&#x538B;&#x6D4B; Jmeter&#x7684;&#x65AD;&#x8A00;&#x57FA;&#x672C;&#x4F7F;&#x7528; &#x6DFB;&#x52A0;&#x54CD;&#x5E94;&#x65AD;&#x8A00; apply to(&#x5E94;&#x7528;&#x8303;&#x56F4;): Main sample only: &#x4EC5;&#x5F53;&#x524D;&#x7236;&#x53D6;&#x6837;&#x5668; &#x8FDB;&#x884C;&#x65AD;&#x8A00;&#xFF0C;&#x4E00;&#x822C;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x4F1A;&#x89E6;&#x53D1;&#x591A;&#x4E2A;&#xFF0C;&#x5219; &#x5C31;&#x6709;sub sample&#xFF08;&#x6BD4;&#x8F83;&#x5C11;&#x7528;&#xFF09; &#x8981;&#x6D4B;&#x8BD5;&#x7684;&#x54CD;&#x5E94;&#x5B57;&#x6BB5;&#xFF1A; &#x54CD;&#x5E94;&#x6587;&#x672C;&#xFF1A;&#x5373;&#x54CD;&#x5E94;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x6BD4;&#x5982;json&#x7B49;&#x6587;&#x672C; &#x54CD;&#x5E94;&#x4EE3;&#x7801;&#xFF1A;http&#x7684;&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#xFF0C;&#x6BD4;&#x5982;200&#xFF0C;302&#xFF0C;404&#x8FD9;&#x4E9B; &#x54CD;&#x5E94;&#x4FE1;&#x606F;&#xFF1A;http&#x54CD;&#x5E94;&#x4EE3;&#x7801;&#x5BF9;&#x5E94;&#x7684;&#x54CD;&#x5E94;&#x4FE1;&#x606F;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;OK, Found Response Header: &#x54CD;&#x5E94;&#x5934; &#x6A21;&#x5F0F;&#x5339;&#x914D;&#x89C4;&#x5219;&#xFF1A; &#x5305;&#x62EC;&#xFF1A;&#x5305;&#x542B;&#x5728;&#x91CC;&#x9762;&#x5C31;&#x6210;&#x529F; &#x5339;&#x914D;&#xFF1A;&#x54CD;&#x5E94;&#x5185;&#x5BB9;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x4E0D;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199; equals&#xFF1A;&#x5B8C;&#x5168;&#x5339;&#x914D;&#xFF0C;&#x533A;&#x5206;&#x5927;&#x5C0F;&#x5199; &#x65AD;&#x8A00;&#x7ED3;&#x679C;&#x76D1;&#x542C;&#x5668;: &#x7EBF;&#x7A0B;&#x7EC4;-&gt; &#x6DFB;&#x52A0; -&gt; &#x76D1;&#x542C;&#x5668; -&gt; &#x65AD;&#x8A00;&#x7ED3;&#x679C; &#x91CC;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x662F;sampler&#x91C7;&#x6837;&#x5668;&#x7684;&#x540D;&#x79F0; &#x65AD;&#x8A00;&#x5931;&#x8D25;&#xFF0C;&#x67E5;&#x770B;&#x7ED3;&#x679C;&#x6811;&#x4EFB;&#x52A1;&#x7ED3;&#x679C;&#x989C;&#x8272;&#x6807;&#x7EA2;(&#x901A;&#x8FC7;&#x7ED3;&#x679C;&#x6570;&#x91CC;&#x9762;&#x53CC;&#x51FB;&#x4E0D;&#x901A;&#x8FC7;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x9519;&#x8BEF;&#x4FE1;&#x606F;) &#x6BCF;&#x4E2A;sample&#x4E0B;&#x9762;&#x53EF;&#x4EE5;&#x52A0;&#x5355;&#x72EC;&#x7684;&#x7ED3;&#x679C;&#x6811;&#xFF0C;&#x7136;&#x540E;&#x540C;&#x65F6;&#x52A0;&#x591A;&#x4E2A;&#x65AD;&#x8A00;&#xFF0C;&#x6700;&#x5916;&#x5C42;&#x53EF;&#x4EE5;&#x52A0;&#x4E2A;&#x7ED3;&#x679C;&#x6811;&#x8FDB;&#x884C;&#x6C47;&#x603B; Jmeter&#x5B9E;&#x6218;&#x4E4B;&#x538B;&#x6D4B;&#x7ED3;&#x679C;&#x805A;&#x5408;&#x62A5;&#x544A;&#x5206;&#x6790; lable: sampler&#x7684;&#x540D;&#x79F0; Samples: &#x4E00;&#x5171;&#x53D1;&#x51FA;&#x53BB;&#x591A;&#x5C11;&#x8BF7;&#x6C42;,&#x4F8B;&#x5982;10&#x4E2A;&#x7528;&#x6237;&#xFF0C;&#x5FAA;&#x73AF;10&#x6B21;&#xFF0C;&#x5219;&#x662F; 100 Average: &#x5E73;&#x5747;&#x54CD;&#x5E94;&#x65F6;&#x95F4; Median: &#x4E2D;&#x4F4D;&#x6570;&#xFF0C;&#x4E5F;&#x5C31;&#x662F; 50&#xFF05; &#x7528;&#x6237;&#x7684;&#x54CD;&#x5E94;&#x65F6;&#x95F4; 90% Line : 90&#xFF05; &#x7528;&#x6237;&#x7684;&#x54CD;&#x5E94;&#x4E0D;&#x4F1A;&#x8D85;&#x8FC7;&#x8BE5;&#x65F6;&#x95F4; &#xFF08;90% of the samples took no more than this time. The remaining samples at least as long as this&#xFF09; 95% Line : 95&#xFF05; &#x7528;&#x6237;&#x7684;&#x54CD;&#x5E94;&#x4E0D;&#x4F1A;&#x8D85;&#x8FC7;&#x8BE5;&#x65F6;&#x95F4; 99% Line : 99&#xFF05; &#x7528;&#x6237;&#x7684;&#x54CD;&#x5E94;&#x4E0D;&#x4F1A;&#x8D85;&#x8FC7;&#x8BE5;&#x65F6;&#x95F4; min : &#x6700;&#x5C0F;&#x54CD;&#x5E94;&#x65F6;&#x95F4; max : &#x6700;&#x5927;&#x54CD;&#x5E94;&#x65F6;&#x95F4; Error%&#xFF1A;&#x9519;&#x8BEF;&#x7684;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x91CF;/&#x8BF7;&#x6C42;&#x7684;&#x603B;&#x6570; Throughput&#xFF1A; &#x541E;&#x5410;&#x91CF;&#x2014;&#x2014;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x8868;&#x793A;&#x6BCF;&#x79D2;&#x5B8C;&#x6210;&#x7684;&#x8BF7;&#x6C42;&#x6570;&#xFF08;Request per Second) &#x53EF;&#x7C7B;&#x6BD4;&#x4E3A;qps KB/Sec: &#x6BCF;&#x79D2;&#x63A5;&#x6536;&#x6570;&#x636E;&#x91CF;&#x5355;&#x673A;tomcat&#x541E;&#x5410;&#x91CF;&#x80FD;&#x8FBE;&#x5230;550-560+ Jmeter&#x538B;&#x6D4B;&#x811A;&#x672C;JMX&#x8BB2;&#x89E3;&lt;?xml version="1.0" encoding="UTF-8"?> &lt;jmeterTestPlan version="1.2" properties="4.0" jmeter="4.0 r1823414"> &lt;hashTree> &lt;!--&amp;#x6D4B;&amp;#x8BD5;&amp;#x8BA1;&amp;#x5212;--> &lt;TestPlan guiclass="TestPlanGui" testclass="TestPlan" testname="Test Plan" enabled="true"> &lt;stringProp name="TestPlan.comments">&lt;/stringProp> &lt;boolProp name="TestPlan.functional_mode">false&lt;/boolProp> &lt;boolProp name="TestPlan.tearDown_on_shutdown">true&lt;/boolProp> &lt;boolProp name="TestPlan.serialize_threadgroups">false&lt;/boolProp> &lt;elementProp name="TestPlan.user_defined_variables" elementType="Arguments" guiclass="ArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true"> &lt;collectionProp name="Arguments.arguments"/> &lt;/elementProp> &lt;stringProp name="TestPlan.user_define_classpath">&lt;/stringProp> &lt;/TestPlan> &lt;hashTree> &lt;!--&amp;#x6D4B;&amp;#x8BD5;&amp;#x7528;&amp;#x6237;&amp;#x7EBF;&amp;#x7A0B;&amp;#x7EC4;--> &lt;ThreadGroup guiclass="ThreadGroupGui" testclass="ThreadGroup" testname="&amp;#x6D4B;&amp;#x8BD5;&amp;#x7528;&amp;#x6237;&amp;#x63A5;&amp;#x53E3;" enabled="true"> &lt;stringProp name="ThreadGroup.on_sample_error">continue&lt;/stringProp> &lt;elementProp name="ThreadGroup.main_controller" elementType="LoopController" guiclass="LoopControlPanel" testclass="LoopController" testname="Loop Controller" enabled="true"> &lt;boolProp name="LoopController.continue_forever">false&lt;/boolProp> &lt;!--&amp;#x4F5C;&amp;#x4E24;&amp;#x6B21;&amp;#x5FAA;&amp;#x73AF;--> &lt;stringProp name="LoopController.loops">2&lt;/stringProp> &lt;/elementProp> &lt;!--&amp;#x5F00;&amp;#x542F;&amp;#x7684;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6570;--> &lt;stringProp name="ThreadGroup.num_threads">1000&lt;/stringProp> &lt;!--&amp;#x5168;&amp;#x90E8;&amp;#x7EBF;&amp;#x7A0B;&amp;#x542F;&amp;#x52A8;&amp;#x7684;&amp;#x65F6;&amp;#x957F;--> &lt;stringProp name="ThreadGroup.ramp_time">5&lt;/stringProp> &lt;boolProp name="ThreadGroup.scheduler">false&lt;/boolProp> &lt;stringProp name="ThreadGroup.duration">&lt;/stringProp> &lt;stringProp name="ThreadGroup.delay">&lt;/stringProp> &lt;/ThreadGroup> &lt;hashTree> &lt;!--http&amp;#x91C7;&amp;#x6837;&amp;#x5668;login_api--> &lt;HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="login_api" enabled="true"> &lt;elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true"> &lt;collectionProp name="Arguments.arguments"> &lt;elementProp name="name" elementType="HTTPArgument"> &lt;boolProp name="HTTPArgument.always_encode">false&lt;/boolProp> &lt;stringProp name="Argument.value">jack&lt;/stringProp> &lt;stringProp name="Argument.metadata">=&lt;/stringProp> &lt;boolProp name="HTTPArgument.use_equals">true&lt;/boolProp> &lt;stringProp name="Argument.name">name&lt;/stringProp> &lt;/elementProp> &lt;elementProp name="pwd" elementType="HTTPArgument"> &lt;boolProp name="HTTPArgument.always_encode">false&lt;/boolProp> &lt;stringProp name="Argument.value">123&lt;/stringProp> &lt;stringProp name="Argument.metadata">=&lt;/stringProp> &lt;boolProp name="HTTPArgument.use_equals">true&lt;/boolProp> &lt;stringProp name="Argument.name">pwd&lt;/stringProp> &lt;/elementProp> &lt;/collectionProp> &lt;/elementProp> &lt;stringProp name="HTTPSampler.domain">127.0.0.1&lt;/stringProp> &lt;stringProp name="HTTPSampler.port">8080&lt;/stringProp> &lt;stringProp name="HTTPSampler.protocol">http&lt;/stringProp> &lt;stringProp name="HTTPSampler.contentEncoding">&lt;/stringProp> &lt;stringProp name="HTTPSampler.path">/login&lt;/stringProp> &lt;stringProp name="HTTPSampler.method">POST&lt;/stringProp> &lt;boolProp name="HTTPSampler.follow_redirects">true&lt;/boolProp> &lt;boolProp name="HTTPSampler.auto_redirects">false&lt;/boolProp> &lt;boolProp name="HTTPSampler.use_keepalive">true&lt;/boolProp> &lt;boolProp name="HTTPSampler.DO_MULTIPART_POST">false&lt;/boolProp> &lt;stringProp name="HTTPSampler.embedded_url_re">&lt;/stringProp> &lt;stringProp name="HTTPSampler.connect_timeout">&lt;/stringProp> &lt;stringProp name="HTTPSampler.response_timeout">&lt;/stringProp> &lt;/HTTPSamplerProxy> &lt;hashTree> &lt;ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="Response Assertion" enabled="true"> &lt;collectionProp name="Asserion.test_strings"/> &lt;stringProp name="Assertion.custom_message">&lt;/stringProp> &lt;stringProp name="Assertion.test_field">Assertion.response_data&lt;/stringProp> &lt;boolProp name="Assertion.assume_success">false&lt;/boolProp> &lt;intProp name="Assertion.test_type">16&lt;/intProp> &lt;/ResponseAssertion> &lt;hashTree/> &lt;/hashTree> &lt;!--http&amp;#x91C7;&amp;#x6837;&amp;#x5668;user_api--> &lt;HTTPSamplerProxy guiclass="HttpTestSampleGui" testclass="HTTPSamplerProxy" testname="user_api" enabled="true"> &lt;elementProp name="HTTPsampler.Arguments" elementType="Arguments" guiclass="HTTPArgumentsPanel" testclass="Arguments" testname="User Defined Variables" enabled="true"> &lt;collectionProp name="Arguments.arguments"/> &lt;/elementProp> &lt;stringProp name="HTTPSampler.domain">127.0.0.1&lt;/stringProp> &lt;stringProp name="HTTPSampler.port">8080&lt;/stringProp> &lt;stringProp name="HTTPSampler.protocol">http&lt;/stringProp> &lt;stringProp name="HTTPSampler.contentEncoding">&lt;/stringProp> &lt;stringProp name="HTTPSampler.path">/users&lt;/stringProp> &lt;stringProp name="HTTPSampler.method">GET&lt;/stringProp> &lt;boolProp name="HTTPSampler.follow_redirects">true&lt;/boolProp> &lt;boolProp name="HTTPSampler.auto_redirects">false&lt;/boolProp> &lt;boolProp name="HTTPSampler.use_keepalive">true&lt;/boolProp> &lt;boolProp name="HTTPSampler.DO_MULTIPART_POST">false&lt;/boolProp> &lt;stringProp name="HTTPSampler.embedded_url_re">&lt;/stringProp> &lt;stringProp name="HTTPSampler.connect_timeout">&lt;/stringProp> &lt;stringProp name="HTTPSampler.response_timeout">&lt;/stringProp> &lt;/HTTPSamplerProxy> &lt;hashTree> &lt;!--&amp;#x54CD;&amp;#x5E94;&amp;#x65AD;&amp;#x8A00;--> &lt;ResponseAssertion guiclass="AssertionGui" testclass="ResponseAssertion" testname="&amp;#x5305;&amp;#x542B;jack&amp;#x65AD;&amp;#x8A00;" enabled="true"> &lt;collectionProp name="Asserion.test_strings"> &lt;stringProp name="3254239">jack&lt;/stringProp> &lt;/collectionProp> &lt;stringProp name="Assertion.custom_message">no contains jack&lt;/stringProp> &lt;stringProp name="Assertion.test_field">Assertion.response_data&lt;/stringProp> &lt;boolProp name="Assertion.assume_success">false&lt;/boolProp> &lt;intProp name="Assertion.test_type">2&lt;/intProp> &lt;/ResponseAssertion> &lt;hashTree/> &lt;!--&amp;#x7ED3;&amp;#x679C;&amp;#x6811;--> &lt;ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="user&amp;#x7ED3;&amp;#x679C;&amp;#x6811;" enabled="true"> &lt;boolProp name="ResultCollector.error_logging">false&lt;/boolProp> &lt;objProp> &lt;name>saveConfig&lt;/name> &lt;value class="SampleSaveConfiguration"> &lt;time>true&lt;/time> &lt;latency>true&lt;/latency> &lt;timestamp>true&lt;/timestamp> &lt;success>true&lt;/success> &lt;label>true&lt;/label> &lt;code>true&lt;/code> &lt;message>true&lt;/message> &lt;threadName>true&lt;/threadName> &lt;dataType>true&lt;/dataType> &lt;encoding>false&lt;/encoding> &lt;assertions>true&lt;/assertions> &lt;subresults>true&lt;/subresults> &lt;responseData>false&lt;/responseData> &lt;samplerData>false&lt;/samplerData> &lt;xml>false&lt;/xml> &lt;fieldNames>true&lt;/fieldNames> &lt;responseHeaders>false&lt;/responseHeaders> &lt;requestHeaders>false&lt;/requestHeaders> &lt;responseDataOnError>false&lt;/responseDataOnError> &lt;saveAssertionResultsFailureMessage>true&lt;/saveAssertionResultsFailureMessage> &lt;assertionsResultsToSave>0&lt;/assertionsResultsToSave> &lt;bytes>true&lt;/bytes> &lt;sentBytes>true&lt;/sentBytes> &lt;threadCounts>true&lt;/threadCounts> &lt;idleTime>true&lt;/idleTime> &lt;connectTime>true&lt;/connectTime> &lt;/value> &lt;/objProp> &lt;stringProp name="filename">&lt;/stringProp> &lt;/ResultCollector> &lt;hashTree/> &lt;!--users&amp;#x805A;&amp;#x5408;&amp;#x62A5;&amp;#x544A;--> &lt;ResultCollector guiclass="SummaryReport" testclass="ResultCollector" testname="users&amp;#x805A;&amp;#x5408;&amp;#x62A5;&amp;#x544A;" enabled="true"> &lt;boolProp name="ResultCollector.error_logging">false&lt;/boolProp> &lt;objProp> &lt;name>saveConfig&lt;/name> &lt;value class="SampleSaveConfiguration"> &lt;time>true&lt;/time> &lt;latency>true&lt;/latency> &lt;timestamp>true&lt;/timestamp> &lt;success>true&lt;/success> &lt;label>true&lt;/label> &lt;code>true&lt;/code> &lt;message>true&lt;/message> &lt;threadName>true&lt;/threadName> &lt;dataType>true&lt;/dataType> &lt;encoding>false&lt;/encoding> &lt;assertions>true&lt;/assertions> &lt;subresults>true&lt;/subresults> &lt;responseData>false&lt;/responseData> &lt;samplerData>false&lt;/samplerData> &lt;xml>false&lt;/xml> &lt;fieldNames>true&lt;/fieldNames> &lt;responseHeaders>false&lt;/responseHeaders> &lt;requestHeaders>false&lt;/requestHeaders> &lt;responseDataOnError>false&lt;/responseDataOnError> &lt;saveAssertionResultsFailureMessage>true&lt;/saveAssertionResultsFailureMessage> &lt;assertionsResultsToSave>0&lt;/assertionsResultsToSave> &lt;bytes>true&lt;/bytes> &lt;sentBytes>true&lt;/sentBytes> &lt;threadCounts>true&lt;/threadCounts> &lt;idleTime>true&lt;/idleTime> &lt;connectTime>true&lt;/connectTime> &lt;/value> &lt;/objProp> &lt;stringProp name="filename">&lt;/stringProp> &lt;/ResultCollector> &lt;hashTree/> &lt;/hashTree> &lt;!--&amp;#x5168;&amp;#x5C40;&amp;#x7ED3;&amp;#x679C;&amp;#x6811;--> &lt;ResultCollector guiclass="ViewResultsFullVisualizer" testclass="ResultCollector" testname="users_api" enabled="true"> &lt;boolProp name="ResultCollector.error_logging">false&lt;/boolProp> &lt;objProp> &lt;name>saveConfig&lt;/name> &lt;value class="SampleSaveConfiguration"> &lt;time>true&lt;/time> &lt;latency>true&lt;/latency> &lt;timestamp>true&lt;/timestamp> &lt;success>true&lt;/success> &lt;label>true&lt;/label> &lt;code>true&lt;/code> &lt;message>true&lt;/message> &lt;threadName>true&lt;/threadName> &lt;dataType>true&lt;/dataType> &lt;encoding>false&lt;/encoding> &lt;assertions>true&lt;/assertions> &lt;subresults>true&lt;/subresults> &lt;responseData>false&lt;/responseData> &lt;samplerData>false&lt;/samplerData> &lt;xml>false&lt;/xml> &lt;fieldNames>true&lt;/fieldNames> &lt;responseHeaders>false&lt;/responseHeaders> &lt;requestHeaders>false&lt;/requestHeaders> &lt;responseDataOnError>false&lt;/responseDataOnError> &lt;saveAssertionResultsFailureMessage>true&lt;/saveAssertionResultsFailureMessage> &lt;assertionsResultsToSave>0&lt;/assertionsResultsToSave> &lt;bytes>true&lt;/bytes> &lt;sentBytes>true&lt;/sentBytes> &lt;threadCounts>true&lt;/threadCounts> &lt;idleTime>true&lt;/idleTime> &lt;connectTime>true&lt;/connectTime> &lt;/value> &lt;/objProp> &lt;stringProp name="filename">&lt;/stringProp> &lt;/ResultCollector> &lt;hashTree/> &lt;/hashTree> &lt;/hashTree> &lt;/hashTree> &lt;/jmeterTestPlan> Jmeter&#x5E38;&#x7528;&#x6309;&#x94AE; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>测试</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[markdown]]></title>
    <url>%2Fmarkdown%2F2019%2F03%2F09%2Fmarkdown-demo1.html</url>
    <content type="text"><![CDATA[&#x6807;&#x9898;&#x4E00;&#x7EA7;&#x6807;&#x9898;&#x4E8C;&#x7EA7;&#x6807;&#x9898;&#x4E09;&#x7EA7;&#x6807;&#x9898;&#x56DB;&#x7EA7;&#x6807;&#x9898;&#x4E94;&#x7EA7;&#x6807;&#x9898;&#x516D;&#x7EA7;&#x6807;&#x9898;&#x6BB5;&#x843D;&#x6211;&#x559C;&#x6B22;github &#x5F00;&#x6E90;&#x4E2D;&#x56FD;&#x7684;&#x6280;&#x672F;&#x548C;&#x6C1B;&#x56F4;. &#x767B;&#x8BB0;&#x7B49;&#x5357;&#x660C;&#x8010;&#x80A1;&#x4EFD;&#x6EE1; 666666 #&#x5F3A;&#x8C03;&#x6211;&#x662F;&#x7C97;&#x4F53;&#x6587;&#x5B57;&#x6211;&#x662F;&#x659C;&#x4F53;&#x6587;&#x5B57;&#x6837;&#x5F0F;&#x6211;&#x662F;&#x503E;&#x659C;&#x52A0;&#x7C97;&#x6837;&#x5F0F;&#x6211;&#x662F;&#x5220;&#x9664;&#x7EBF;&#x6587;&#x5B57;&#x6837;&#x5F0F; #&#x5217;&#x8868; ##&#x65E0;&#x5E8F;&#x5217;&#x8868; Name: &#x9A6C;&#x4E91; &#x7231;&#x597D;: &#x4F60;&#x597D; &#x5403;&#x996D;: QQ:123456##&#x6709;&#x5E8F;&#x5217;&#x8868; Name: &#x9A6C;&#x4E91; name QQ:123456 ============&#x8BED;&#x6CD5;2============= #&#x94FE;&#x63A5; &#x5916;&#x90E8;&#x94FE;&#x63A5;:&#x767E;&#x5EA6; &#x5185;&#x90E8;&#x94FE;&#x63A5;:&#x94FE;&#x63A5;&#x4ED3;&#x5E93;&#x7684;&#x5176;&#x5B83;&#x6587;&#x4EF6; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>markdown</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[markdown]]></title>
    <url>%2Fmarkdown%2F2019%2F03%2F09%2Fmarkdown-demo2.html</url>
    <content type="text"><![CDATA[#&#x5185;&#x5D4C;&#x5F0F;&#x94FE;&#x63A5; &#x5916;&#x90E8;&#x94FE;&#x63A5;:&#x767E;&#x5EA6; &#x5185;&#x90E8;&#x94FE;&#x63A5;1:&#x94FE;&#x63A5;&#x4ED3;&#x5E93;&#x7684;&#x5176;&#x5B83;&#x6587;&#x4EF6;demo1 &#x5185;&#x90E8;&#x94FE;&#x63A5;2:&#x94FE;&#x63A5;&#x672C;&#x6587;&#x6863;&#x7684;&#x5176;&#x5B83;&#x90E8;&#x5206;:&#x4EE3;&#x7801;&#x5757;demo #&#x5F15;&#x7528;&#x5F0F;&#x94FE;&#x63A5; &#x5916;&#x90E8;&#x94FE;&#x63A5;:&#x767E;&#x5EA6; &#x5185;&#x90E8;&#x94FE;&#x63A5;1:&#x94FE;&#x63A5;&#x4ED3;&#x5E93;&#x7684;&#x5176;&#x5B83;&#x6587;&#x4EF6;demo1 &#x5185;&#x90E8;&#x94FE;&#x63A5;2:&#x94FE;&#x63A5;&#x672C;&#x6587;&#x6863;&#x7684;&#x5176;&#x5B83;&#x90E8;&#x5206;:&#x4EE3;&#x7801;&#x5757;demo #&#x56FE;&#x7247;&#x683C;&#x5F0F;&#x4E00;![alt](url tips) &#x5916;&#x90E8;&#x56FE;&#x7247;` &#x4ED3;&#x5E93;&#x5185;&#x7684;&#x56FE;&#x7247;demo #&#x56FE;&#x7247;&#x683C;&#x5F0F;&#x4E8C;![alt](url tips) &#x5916;&#x90E8;&#x56FE;&#x7247; &#x4ED3;&#x5E93;&#x5185;&#x7684;&#x56FE;&#x7247;demo #&#x5F15;&#x7528; &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5F15;&#x6587; &#x51FA;&#x81EA;&lt;&#x51FA;&#x5904;&gt; &#x591A;&#x6B21;&#x5F15;&#x7528; &#x8FD9;&#x662F;&#x591A;&#x91CD;&#x5F15;&#x6587; #&#x4EE3;&#x7801;&#x5757; &#x884C;&#x5185;&#x4EE3;&#x7801;&#x8FD9;&#x4E2A;&#x4EE3;&#x7801;&#x4E2D;&#x7528;&#x6765;&#x58F0;&#x660E;&#x53D8;&#x91CF;&#x662F;var a = 10,&#x6253;&#x5370;&#x53D8;&#x91CF;&#x5185;&#x5BB9;&#x662F;console.log&#x51FD;&#x6570;&#x8C03;&#x7528; &#x5757;&#x5F0F;&#x4EE3;&#x7801;var a = 10; System.out.println(a); document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>markdown</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[markdown]]></title>
    <url>%2Fmarkdown%2F2019%2F03%2F09%2Fmarkdown-demo3.html</url>
    <content type="text"><![CDATA[#&#x6C34;&#x5E73;&#x5206;&#x5272;&#x7EBF; ###3&#x6761;&#x6A2A;&#x6760;&#x4E0A;&#x8981;&#x6709;&#x7A7A;&#x884C; Horizeontal Rule #HTML&#x4EE3;&#x7801;demo &#x8BA9;&#x6211;&#x5C45;&#x4E2D;&#x5427; #&#x8868;&#x683C; &#x8FD9; &#x662F; &#x8868; &#x5934; cell1 cll2sadasfasf casdasfll3 cell4 row2 row2 row2 #GFM github flvored markdown,GFM tasklist item1 item2 item3 emoji&#x8868;&#x60C5;&#x7B26;&#x53F7; document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>markdown</category>
      </categories>
  </entry>
</search>
