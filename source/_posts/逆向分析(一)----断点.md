### 																					逆向分析(一)----断点

![1566567989890](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/01.png)

![1566568242777](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/02.png)

- loadIconA

  调用了一个加载图标的函数  

  loadIconA外部函数不是本模块中的函数    &取地址符  USER32  windows的函数库

  的loadIconA函数



- dll

  windows的动态链接库,提供给exe程序(可执行文件)使用的函数库

  exe  bat  com 都是可执行文件

  如果说不调用windws的dll的话把库函数都集成在本身的文件内部,那么这个可执行程序所占用的硬盘空间就会非常大.



- 系统领空

  ![1566620146143](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/03.png)

  从这里通过call  跟随进去  然后一直追溯到user32

  ![1566623713455](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/04.png)

  如何回到可执行文件的模块了,摁小键盘的减号键

  不要随便改系统领空



- messageboxA

  ![1566625339665](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/05.png)
  
- 调用了弹框函数,跟随进去找到段首
  

![1566624857499](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/06.png)

- 或者使用command
  

![1566625144688](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/07.png)

- ctrl+g  goto 快捷键   注意大小写命令一定要对
  
  ![1566625398550](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/08.png)



- ctrl+n

  - 必须在当前程序下使用快捷键ctrl+n
  - 在系统领空下使用ctrl+n的话就会跳到系统领空对应的dll中  (不要这样做)
  - 查看本程序所调用的api

  ![1566629646149](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/09.png)

  直接在这个窗口中去搜索你需要的函数名   标题上的名称也会随之改变

  ![1566629716621](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/10.png)

  找到你想要的函数之后在这里右键,选中反汇编窗口中跟随输入函数

  然后就可以跳到MessageBoxA函数中

  

- 设置断点

  - 然后在MessageBoxA函数的段首下上一个断点 (双击或者F2)
  - 或者在command中使用命令bp MessageBoxA

  ![1566630287328](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/11.png)

  - 点击按钮B就可以进到断点窗口

  ![1566630397217](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/12.png)



- 调试程序

  - 先在MessageBoxA函数的段首打上断点
  - 然后摁F9将程序运行起来    将程序运行起来断到断点处

  ![1566631584431](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/13.png)

  - 断到断点处  堆栈框会有相应的信息

  ![1566632020971](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/14.png)

  执行完以后跳到004013C1地址处

  ![1566659216451](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/15.png)

  顺着这个框往上找,找到条件跳转的地方

  ![1566633913596](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/16.png)
  
  在跳转的地方打上断点,这个跳转是第一次跳转
  
  ![1566660476013](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/17.png)
  
  ![1566660598224](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/18.png)
  
  ![1566660754164](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/19.png)
  
  ![1566660861309](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/20.png)
  
  找到段首的位置,点击转到call来自的地址,第二次调用的地方是
  
  77D507EA是messageboxa函数的首地址
  
  0040138B是第一次跳转要弹框的地址
  
  00401245是第二次跳转要弹框的地址
  
  ![1566696238993](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/21.png)
  
  找到第一次的弹框处  将cmp   je   nop掉
  
  第一个弹框就被干掉了
  
  ![1566696401837](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/22.png)
  
  在调用第二次弹窗之前也打上断点将je  改为jmp进行强跳
  
  ![1566696499983](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/23.png)
  
  破解成功!!!
  
  ![1566696549095](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/24.png)

​		回到主界面选择所有修改,之后选择全部复制

​			![1566696621038](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/25.png)

​	选择保存文件



​	第二种分析方式通过使用智能搜索来达到目的:

​	![1566696935806](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/26.png)

![1566697678416](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/27.png)

![1566697805100](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/28.png)

通过段首来找到调用它的地方

![1566697849271](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/29.png)

将je改为jmp进行强跳

再找别的地方的字符串

![1566698208776](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/30.png)

找到跳转处进行nop



- CC断点

  - F2断点
  - 普通断点
  - int3断点

  ![1566699895249](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/31.png)

  CPU看到这个CC就会出现异常,然后OD就会捕获异常将这个异常给断下来

  CC是int3指令的机器码

  jmp对应EB

  OD为了方便我们查看所以不显示CC01 而现实原始机器码74 01

  

  command:

  bp设置普通断点后面不仅可以跟api  还可以跟地址  例如:bp 40101A

  使用 bpx messageboxA 然后跳到B窗口 将所有的messageboxA全部都设置上断点

  bp断点设置的是系统领空 函数的段首 第一行设置的断点

  bpx设置的断点是在程序领空  调用的地方设置CC断点  把所有程序领空涉及到这个api的地方都打上了断点

  CC断点:

  ​			 优点可以打无数个

  ​			  缺点很容易被检测到

  简单的绕过检测,比如在系统领空的messageboxA里面第一行下了CC断点但是被检测到了可以在下一行或者附近下断点



- 内存断点

  ![1566702303861](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/32.png)

  ![1566702439661](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/33.png)

  ![1566703106769](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/34.png)

  在hex数据窗口中使用ctrl+g

  ![1566703530695](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/35.png)

  这样这个地址无论是访问还是写入都会断下来

  内存断点:

  ​		优点:绕过普通检测,分清楚是执行还是写入

  ​		缺点:只能设置一个,在B窗口查不到内存断点,只能自己记录

  删除断点只能重新设置一个断点或者删除当前断点

  原理:设置内存写入,就是让这个地址不可写入,假如说我们非要写入那么就会触发一个异常然后OD会捕获这个异常,从而将程序断下来.



- 区段内存断点
  - 摁下alt+m  跳入程序领空
  - 找到code或text代码段  设置内存访问断点    断点返回401000~402000
  - 回到反汇编窗口
  - F9启动程序,每运行一次都会断下来

  ![1566715386443](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/36.png)
  
  
  
  - 找到kernel32的text
  - 设置内存访问断点(上一个断点会失去作用)
  - 回到C窗口
  - 我们在执行kernel32.GetModuleHandleA函数的时候就会断下来
  
  ![1566715756440](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/37.png)
  
  - 如何快速从系统领空回到程序领空呢?
  
  - 1.在堆栈窗口 右键在反汇编窗口中跟随快速返回程序领空
  - 2.删除内存断点,在调试窗口找到执行用户代码



- 硬件断点

  - 只能设置四个硬件断点
  - 在调试窗口点击硬件断点可观测硬件断点

  ![1566715805001](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/38.png)

  

  

  - 如何使用硬件断点呢?

    - 找到你要下断的反汇编指令的位置右键断点-->硬件执行     或硬件写入               或硬件访问
    - 在command命令中使用命令HE 0040101A  也可以设置上硬件断点
    - 我们可以在上图的窗口查看硬件断点和删除硬件断点
    - 设置一字节写入断点

    1.先跟随到这个内存地址

    ![1566717166974](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/39.png)

    2.写入一个字节的硬件断点

    ![1566717229921](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/40.png)

  - 在所有对4020CA内存写入的地方都下了一个内存断点

  - 硬件断点和内存断点都是没有CC的

  - 硬件断点检测内存的特征可读  可写  可执行也是没用的

  - 内存断点重载的话会被清空,但是硬件断点不会被清空

  - 硬件断点停止的地方是你设置硬件断点的下一行,所以我们要看停下来的上一行指令



- 条件断点
  - 其实就是一个CC断点
  - shift+F2
  
- 条件记录断点
  - ctrl+g  MessageBoxA
  
  - 来到user32模块
  
  - 选中第一行右键断点条件记录 或者 shift+f4
  
  - 表达式填入[ESP]
  
  - 暂停程序  从不
  
  - 记录表达式数值  永远
  
  - 记录函数参数    永远
  
  - 点击上方L按钮进入日志窗口
  
  - 右键清除窗口
  
  - 右键记录到文件将日志全部导出
  
  - 双击B窗口的断点就可以跳转到断点处
  
  - 回到日志窗口,F9运行程序,日志就打印出来了
  
  - 日志里面会出现调用完 call以后返回的地址
  
  - 下面是MessageBoxA的参数
  
    ![1566788093355](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/41.png)
  
  - 假如MessageBoxA被调用了无数次
  
  - ctrl+g跳到MessageBoxA
  
  - 选中第一行右键断点条件记录 或者 shift+f4
  
  - 设置条件断点
  
  ![1566810310768](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/42.png)
  
  - 来到日志窗口
  
  ![1566810523328](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/43.png)
  
  - 第一个窗口不是40137D,当点击完这个窗口以后就会断到40137D这个地址
  - 在即将要指向这个地址前被断下来
  
  ![1566810609679](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/44.png)
  
  - 日志窗口
  
  ![1566810679216](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/45.png)
  
  
  
- API断点

  - 先猜测调用的api比如文本框肯定会调用GetDlgItemTextA
  - API断点也是一个CC断点
  - ctrl+n 查看调用系统dll的api,如果调用的方法有很多的话就去搜索
  - 设置api断点  bp  GetDlgItemTextA   (A代表ascii码  W代表unicode码)
  - 如果不想在command上输入命令可以用右键在输入函数上切换断点
- 看到B窗口有一个断点
  - 我们在点击确定的时候会调用GetDlgItemTextA函数,提取文本框用户名和注册码的内容

  ![1566811991651](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/46.png)

  ![1566812283224](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/47.png)
  
  - 此时此刻这个函数就是GetDlgItemTextA
  
  ![1566839198115](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/48.png)
  
  - GetDlgItemTextA函数的四个参数
  - 找到buffer参数在数据窗口中跟随
  - 然后使用F8单步步过
  - 我们就可以在HEX数据窗口中看到编辑框中的这个数据
  - 当我们跳到程序领空的时候发现在这个api下面还有一个GetDlgItemTextA函数
  
  ![1566839849269](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/49.png)
  
  ![1566839782450](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/50.png)
  
  - 同样找到buffer参数在数据窗口中跟随
  - 然后使用F8单步步过
  - 我们就可以在HEX数据窗口中看到编辑框中的这个数据



- 消息断点1

  - windows消息循环

  - 每次windows的控件的时候都会发出一个windows消息

  - 如何设置消息断点呢?

    - 将程序运行起来
    - 来到这个界面,不要点击确定

    ![1566886038396](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/51.png)

    - 然后打开w窗口
    - 然后右键刷新

    ![1566886558126](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/52.png)

    - 然后我们找到类型为按钮的内容为OK的这么一个按钮

    ![1566886646898](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/53.png)

    - 设置一个消息断点,如果不知道是什么类型的事件就选择任意事件类型

    ![1566887075701](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/54.png)

    - 我这里一抬起鼠标就中断下来,此时断下来的是DialogBoxParamA函数

    ![1566887976657](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/55.png)

    此时是在系统领空,使用执行到用户代码可以回到用户模块

    ![1566890376144](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/56.png)

    ![1566890434281](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/57.png)



- 消息断点2

  - 从系统领空返回到程序领空有两种方法

    - 1.alt+f9
    - 2.设置内存断点
    - ![1566956287543](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/58.png)
      - 进入M窗口
    - ![1566956454357](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/59.png)
      - ![1566956536255](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/60.png)
    - 这样的话每执行一次都会断下来
  
- 消息断点实际上就是一个条件断点
  
  ![1566915602368](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/61.png)
  
  ![1566915708534](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/62.png)
  
  WM_LBUTTONUP可以替换成0x202      因为202事件对应的就是WM_LBUTTONUP
  
  也可以用0x101                                          因为101对应的是WM_KEYUP    相当于给这个按钮添加了一个键盘弹起事件
  
  ![1566916009175](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/63.png)
  
  将这个事件替换成101,运行程序
  
  ![1566918019291](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/64.png)
  
  我在这里按下TAB键,也会被断下来
  
  ![1566918374546](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/65.png)
  
  再次去设置一个消息断点
  
  ![1566918575246](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/66.png)
  
  在此处去修改条件记录
  
    然后修改条件记录断点
  
    ![1566957272879](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/67.png)
  
    然后我们运行程序注册序列号,然后跳转到L窗口
  
    ![1566957400684](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/68.png)
  
    鼠标在OK按钮上的时候会记录你鼠标的轨迹
  
    ![1566957776423](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/69.png)
  
    通过记录到文件可以将日志输入到txt中
  
- 消息断点3

  - 什么是[ESP+8]
  - 先把消息断点设置好

  ![1566958866611](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/70.png)

  ESP+8就是这个断点往下移动两行    就是Message = VM_LBUTTONUP

  ![1566961515123](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/71.png)

  这个意思就是我在OK按钮上操作了什么记录(系统消息 )   把这些记录放在日志文件里面

  然后再次注册,调到L窗口

  ![1566961574789](https://blog-mamba.oss-cn-beijing.aliyuncs.com/windows/%E9%80%86%E5%90%91%E5%88%86%E6%9E%9001_%E6%96%AD%E7%82%B9/72.png)